{"version":3,"file":"core.cjs","sources":["../../../dist-dev/tsc-out/packages/qwik/src/core/util/qdev.js","../../../dist-dev/tsc-out/packages/qwik/src/core/util/flyweight.js","../../../dist-dev/tsc-out/packages/qwik/src/testing/html.js","../../../dist-dev/tsc-out/packages/qwik/src/core/assert/assert.js","../../../dist-dev/tsc-out/packages/qwik/src/core/util/markers.js","../../../dist-dev/tsc-out/packages/qwik/src/core/util/types.js","../../../dist-dev/tsc-out/packages/qwik/src/core/util/dom.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-core.js","../../../dist-dev/tsc-out/packages/qwik/src/core/platform/platform.js","../../../dist-dev/tsc-out/packages/qwik/src/core/util/case.js","../../../dist-dev/tsc-out/packages/qwik/src/core/render/fast-calls.js","../../../dist-dev/tsc-out/packages/qwik/src/core/props/props-on.js","../../../dist-dev/tsc-out/packages/qwik/src/core/render/jsx/host.public.js","../../../dist-dev/tsc-out/packages/qwik/src/core/util/promises.js","../../../dist-dev/tsc-out/packages/qwik/src/core/render/jsx/jsx-runtime.js","../../../dist-dev/tsc-out/packages/qwik/src/core/render/render.js","../../../dist-dev/tsc-out/packages/qwik/src/core/util/hash_code.js","../../../dist-dev/tsc-out/packages/qwik/src/core/component/qrl-styles.js","../../../dist-dev/tsc-out/packages/qwik/src/core/render/render-component.js","../../../dist-dev/tsc-out/packages/qwik/src/core/util/element.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-store.public.js","../../../dist-dev/tsc-out/packages/qwik/src/core/util/implicit_dollar.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-on.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-watch.js","../../../dist-dev/tsc-out/packages/qwik/src/core/util/event.js","../../../dist-dev/tsc-out/packages/qwik/src/core/object/store.js","../../../dist-dev/tsc-out/packages/qwik/src/core/render/cursor.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-lexical-scope.public.js","../../../dist-dev/tsc-out/packages/qwik/src/core/render/notify-render.js","../../../dist-dev/tsc-out/packages/qwik/src/core/object/q-object.js","../../../dist-dev/tsc-out/packages/qwik/src/core/props/props-obj-map.js","../../../dist-dev/tsc-out/packages/qwik/src/core/props/props.js","../../../dist-dev/tsc-out/packages/qwik/src/core/util/log.js","../../../dist-dev/tsc-out/packages/qwik/src/core/error/error.js","../../../dist-dev/tsc-out/packages/qwik/src/core/import/qrl-class.js","../../../dist-dev/tsc-out/packages/qwik/src/core/import/qrl.js","../../../dist-dev/tsc-out/packages/qwik/src/core/import/qrl.public.js","../../../dist-dev/tsc-out/packages/qwik/src/core/component/component.public.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-resource.js","../../../dist-dev/tsc-out/packages/qwik/src/core/render/jsx/factory.js","../../../dist-dev/tsc-out/packages/qwik/src/core/render/jsx/slot.public.js","../../../dist-dev/tsc-out/packages/qwik/src/core/version.js","../../../dist-dev/tsc-out/packages/qwik/src/core/render/render.public.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-host-element.public.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-document.public.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-context.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-styles.js"],"sourcesContent":["/*#__PURE__*/ ((gbl) => {\n    // ensures unit tests have globalThis on Node10\n    // this will be removed from production builds\n    if (typeof globalThis === 'undefined') {\n        gbl.globalThis = gbl;\n    }\n})(typeof global !== 'undefined'\n    ? global\n    : typeof window !== 'undefined'\n        ? window\n        : typeof self !== 'undefined'\n            ? self\n            : {});\n// minification can replace the `globalThis.qDev` with `false`\n// which will remove all dev code within from the build\nexport const qDev = globalThis.qDev !== false;\nexport const qTest = globalThis.describe !== undefined;\nexport const qGlobal = globalThis;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicWRldi5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS91dGlsL3FkZXYudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsYUFBYSxDQUFDLENBQUMsQ0FBQyxHQUFRLEVBQUUsRUFBRTtJQUMxQiwrQ0FBK0M7SUFDL0MsOENBQThDO0lBQzlDLElBQUksT0FBTyxVQUFVLEtBQUssV0FBVyxFQUFFO1FBQ3JDLEdBQUcsQ0FBQyxVQUFVLEdBQUcsR0FBRyxDQUFDO0tBQ3RCO0FBQ0gsQ0FBQyxDQUFDLENBQ0EsT0FBTyxNQUFNLEtBQUssV0FBVztJQUMzQixDQUFDLENBQUMsTUFBTTtJQUNSLENBQUMsQ0FBQyxPQUFPLE1BQU0sS0FBSyxXQUFXO1FBQy9CLENBQUMsQ0FBQyxNQUFNO1FBQ1IsQ0FBQyxDQUFDLE9BQU8sSUFBSSxLQUFLLFdBQVc7WUFDN0IsQ0FBQyxDQUFDLElBQUk7WUFDTixDQUFDLENBQUMsRUFBRSxDQUNQLENBQUM7QUFFRiw4REFBOEQ7QUFDOUQsdURBQXVEO0FBQ3ZELE1BQU0sQ0FBQyxNQUFNLElBQUksR0FBSSxVQUFrQixDQUFDLElBQUksS0FBSyxLQUFLLENBQUM7QUFDdkQsTUFBTSxDQUFDLE1BQU0sS0FBSyxHQUFJLFVBQWtCLENBQUMsUUFBUSxLQUFLLFNBQVMsQ0FBQztBQUNoRSxNQUFNLENBQUMsTUFBTSxPQUFPLEdBQUcsVUFBaUIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qI19fUFVSRV9fKi8gKChnYmw6IGFueSkgPT4ge1xuICAvLyBlbnN1cmVzIHVuaXQgdGVzdHMgaGF2ZSBnbG9iYWxUaGlzIG9uIE5vZGUxMFxuICAvLyB0aGlzIHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHByb2R1Y3Rpb24gYnVpbGRzXG4gIGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBnYmwuZ2xvYmFsVGhpcyA9IGdibDtcbiAgfVxufSkoXG4gIHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnXG4gICAgPyBnbG9iYWxcbiAgICA6IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnXG4gICAgPyB3aW5kb3dcbiAgICA6IHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJ1xuICAgID8gc2VsZlxuICAgIDoge31cbik7XG5cbi8vIG1pbmlmaWNhdGlvbiBjYW4gcmVwbGFjZSB0aGUgYGdsb2JhbFRoaXMucURldmAgd2l0aCBgZmFsc2VgXG4vLyB3aGljaCB3aWxsIHJlbW92ZSBhbGwgZGV2IGNvZGUgd2l0aGluIGZyb20gdGhlIGJ1aWxkXG5leHBvcnQgY29uc3QgcURldiA9IChnbG9iYWxUaGlzIGFzIGFueSkucURldiAhPT0gZmFsc2U7XG5leHBvcnQgY29uc3QgcVRlc3QgPSAoZ2xvYmFsVGhpcyBhcyBhbnkpLmRlc2NyaWJlICE9PSB1bmRlZmluZWQ7XG5leHBvcnQgY29uc3QgcUdsb2JhbCA9IGdsb2JhbFRoaXMgYXMgYW55O1xuIl19","import { qDev } from './qdev';\nexport const EMPTY_ARRAY = [];\nexport const EMPTY_OBJ = {};\nif (qDev) {\n    Object.freeze(EMPTY_ARRAY);\n    Object.freeze(EMPTY_OBJ);\n    Error.stackTraceLimit = 9999;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmx5d2VpZ2h0LmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3V0aWwvZmx5d2VpZ2h0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxRQUFRLENBQUM7QUFFOUIsTUFBTSxDQUFDLE1BQU0sV0FBVyxHQUFHLEVBQUUsQ0FBQztBQUM5QixNQUFNLENBQUMsTUFBTSxTQUFTLEdBQUcsRUFBRSxDQUFDO0FBRTVCLElBQUksSUFBSSxFQUFFO0lBQ1IsTUFBTSxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQztJQUMzQixNQUFNLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQ3pCLEtBQUssQ0FBQyxlQUFlLEdBQUcsSUFBSSxDQUFDO0NBQzlCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcURldiB9IGZyb20gJy4vcWRldic7XG5cbmV4cG9ydCBjb25zdCBFTVBUWV9BUlJBWSA9IFtdO1xuZXhwb3J0IGNvbnN0IEVNUFRZX09CSiA9IHt9O1xuXG5pZiAocURldikge1xuICBPYmplY3QuZnJlZXplKEVNUFRZX0FSUkFZKTtcbiAgT2JqZWN0LmZyZWV6ZShFTVBUWV9PQkopO1xuICBFcnJvci5zdGFja1RyYWNlTGltaXQgPSA5OTk5O1xufVxuIl19","export function isTemplate(node) {\n    const tagName = (node && node.tagName) || '';\n    return tagName.toUpperCase() == 'TEMPLATE';\n}\nexport function prettyHtml(element, prefix = '') {\n    const lines = [];\n    lines.push(prefix, '<', element.localName);\n    const attrs = element.attributes;\n    for (let i = 0; i < attrs.length; i++) {\n        const attr = attrs[i];\n        lines.push('\\n', prefix, '    ', attr.name, '=\"', attr.value, '\"');\n    }\n    lines.push('>');\n    let child = isTemplate(element) ? element.content.firstChild : element.firstChild;\n    while (child) {\n        if (isElement(child)) {\n            lines.push('\\n', prettyHtml(child, prefix + '  '));\n        }\n        else {\n            lines.push('\\n', prefix, child.textContent);\n        }\n        child = child.nextSibling;\n    }\n    lines.push('\\n', prefix, '</', element.localName, '>');\n    return lines.join('');\n}\nexport function isElement(value) {\n    return isNode(value) && value.nodeType == 1;\n}\nexport function isNode(value) {\n    return value && typeof value.nodeType == 'number';\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaHRtbC5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvdGVzdGluZy9odG1sLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE1BQU0sVUFBVSxVQUFVLENBQUMsSUFBNkI7SUFDdEQsTUFBTSxPQUFPLEdBQUcsQ0FBQyxJQUFJLElBQUssSUFBZ0IsQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDMUQsT0FBTyxPQUFPLENBQUMsV0FBVyxFQUFFLElBQUksVUFBVSxDQUFDO0FBQzdDLENBQUM7QUFFRCxNQUFNLFVBQVUsVUFBVSxDQUFDLE9BQW9CLEVBQUUsU0FBaUIsRUFBRTtJQUNsRSxNQUFNLEtBQUssR0FBRyxFQUFFLENBQUM7SUFDakIsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBRyxFQUFFLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUMzQyxNQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsVUFBVSxDQUFDO0lBQ2pDLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxLQUFLLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO1FBQ3JDLE1BQU0sSUFBSSxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN0QixLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxLQUFLLEVBQUUsR0FBRyxDQUFDLENBQUM7S0FDcEU7SUFDRCxLQUFLLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ2hCLElBQUksS0FBSyxHQUFHLFVBQVUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUM7SUFDbEYsT0FBTyxLQUFLLEVBQUU7UUFDWixJQUFJLFNBQVMsQ0FBQyxLQUFLLENBQUMsRUFBRTtZQUNwQixLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxVQUFVLENBQUMsS0FBSyxFQUFFLE1BQU0sR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDO1NBQ3BEO2FBQU07WUFDTCxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxNQUFNLEVBQUUsS0FBSyxDQUFDLFdBQVcsQ0FBQyxDQUFDO1NBQzdDO1FBQ0QsS0FBSyxHQUFHLEtBQUssQ0FBQyxXQUFXLENBQUM7S0FDM0I7SUFDRCxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLE9BQU8sQ0FBQyxTQUFTLEVBQUUsR0FBRyxDQUFDLENBQUM7SUFDdkQsT0FBTyxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0FBQ3hCLENBQUM7QUFFRCxNQUFNLFVBQVUsU0FBUyxDQUFDLEtBQVU7SUFDbEMsT0FBTyxNQUFNLENBQUMsS0FBSyxDQUFDLElBQUksS0FBSyxDQUFDLFFBQVEsSUFBSSxDQUFDLENBQUM7QUFDOUMsQ0FBQztBQUVELE1BQU0sVUFBVSxNQUFNLENBQUMsS0FBVTtJQUMvQixPQUFPLEtBQUssSUFBSSxPQUFPLEtBQUssQ0FBQyxRQUFRLElBQUksUUFBUSxDQUFDO0FBQ3BELENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gaXNUZW1wbGF0ZShub2RlOiBOb2RlIHwgbnVsbCB8IHVuZGVmaW5lZCk6IG5vZGUgaXMgSFRNTFRlbXBsYXRlRWxlbWVudCB7XG4gIGNvbnN0IHRhZ05hbWUgPSAobm9kZSAmJiAobm9kZSBhcyBFbGVtZW50KS50YWdOYW1lKSB8fCAnJztcbiAgcmV0dXJuIHRhZ05hbWUudG9VcHBlckNhc2UoKSA9PSAnVEVNUExBVEUnO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcHJldHR5SHRtbChlbGVtZW50OiBIVE1MRWxlbWVudCwgcHJlZml4OiBzdHJpbmcgPSAnJyk6IGFueSB7XG4gIGNvbnN0IGxpbmVzID0gW107XG4gIGxpbmVzLnB1c2gocHJlZml4LCAnPCcsIGVsZW1lbnQubG9jYWxOYW1lKTtcbiAgY29uc3QgYXR0cnMgPSBlbGVtZW50LmF0dHJpYnV0ZXM7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYXR0cnMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBhdHRyID0gYXR0cnNbaV07XG4gICAgbGluZXMucHVzaCgnXFxuJywgcHJlZml4LCAnICAgICcsIGF0dHIubmFtZSwgJz1cIicsIGF0dHIudmFsdWUsICdcIicpO1xuICB9XG4gIGxpbmVzLnB1c2goJz4nKTtcbiAgbGV0IGNoaWxkID0gaXNUZW1wbGF0ZShlbGVtZW50KSA/IGVsZW1lbnQuY29udGVudC5maXJzdENoaWxkIDogZWxlbWVudC5maXJzdENoaWxkO1xuICB3aGlsZSAoY2hpbGQpIHtcbiAgICBpZiAoaXNFbGVtZW50KGNoaWxkKSkge1xuICAgICAgbGluZXMucHVzaCgnXFxuJywgcHJldHR5SHRtbChjaGlsZCwgcHJlZml4ICsgJyAgJykpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsaW5lcy5wdXNoKCdcXG4nLCBwcmVmaXgsIGNoaWxkLnRleHRDb250ZW50KTtcbiAgICB9XG4gICAgY2hpbGQgPSBjaGlsZC5uZXh0U2libGluZztcbiAgfVxuICBsaW5lcy5wdXNoKCdcXG4nLCBwcmVmaXgsICc8LycsIGVsZW1lbnQubG9jYWxOYW1lLCAnPicpO1xuICByZXR1cm4gbGluZXMuam9pbignJyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0VsZW1lbnQodmFsdWU6IGFueSk6IHZhbHVlIGlzIEhUTUxFbGVtZW50IHtcbiAgcmV0dXJuIGlzTm9kZSh2YWx1ZSkgJiYgdmFsdWUubm9kZVR5cGUgPT0gMTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzTm9kZSh2YWx1ZTogYW55KTogdmFsdWUgaXMgTm9kZSB7XG4gIHJldHVybiB2YWx1ZSAmJiB0eXBlb2YgdmFsdWUubm9kZVR5cGUgPT0gJ251bWJlcic7XG59XG4iXX0=","import { logErrorAndStop } from '../util/log';\nimport { qDev } from '../util/qdev';\nexport function assertDefined(value, text, ...parts) {\n    if (qDev) {\n        if (value != null)\n            return;\n        throw logErrorAndStop(text, ...parts);\n    }\n}\nexport function assertEqual(value1, value2, text, ...parts) {\n    if (qDev) {\n        if (value1 === value2)\n            return;\n        throw logErrorAndStop(text, ...parts);\n    }\n}\nexport function assertTrue(value1, text, ...parts) {\n    if (qDev) {\n        if (value1 === true)\n            return;\n        throw logErrorAndStop(text, ...parts);\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXNzZXJ0LmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL2Fzc2VydC9hc3NlcnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUM5QyxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sY0FBYyxDQUFDO0FBRXBDLE1BQU0sVUFBVSxhQUFhLENBQzNCLEtBQVEsRUFDUixJQUFZLEVBQ1osR0FBRyxLQUFZO0lBRWYsSUFBSSxJQUFJLEVBQUU7UUFDUixJQUFJLEtBQUssSUFBSSxJQUFJO1lBQUUsT0FBTztRQUMxQixNQUFNLGVBQWUsQ0FBQyxJQUFJLEVBQUUsR0FBRyxLQUFLLENBQUMsQ0FBQztLQUN2QztBQUNILENBQUM7QUFFRCxNQUFNLFVBQVUsV0FBVyxDQUN6QixNQUFXLEVBQ1gsTUFBVyxFQUNYLElBQVksRUFDWixHQUFHLEtBQVk7SUFFZixJQUFJLElBQUksRUFBRTtRQUNSLElBQUksTUFBTSxLQUFLLE1BQU07WUFBRSxPQUFPO1FBQzlCLE1BQU0sZUFBZSxDQUFDLElBQUksRUFBRSxHQUFHLEtBQUssQ0FBQyxDQUFDO0tBQ3ZDO0FBQ0gsQ0FBQztBQUVELE1BQU0sVUFBVSxVQUFVLENBQUMsTUFBVyxFQUFFLElBQVksRUFBRSxHQUFHLEtBQVk7SUFDbkUsSUFBSSxJQUFJLEVBQUU7UUFDUixJQUFJLE1BQU0sS0FBSyxJQUFJO1lBQUUsT0FBTztRQUM1QixNQUFNLGVBQWUsQ0FBQyxJQUFJLEVBQUUsR0FBRyxLQUFLLENBQUMsQ0FBQztLQUN2QztBQUNILENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBsb2dFcnJvckFuZFN0b3AgfSBmcm9tICcuLi91dGlsL2xvZyc7XG5pbXBvcnQgeyBxRGV2IH0gZnJvbSAnLi4vdXRpbC9xZGV2JztcblxuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydERlZmluZWQ8VD4oXG4gIHZhbHVlOiBULFxuICB0ZXh0OiBzdHJpbmcsXG4gIC4uLnBhcnRzOiBhbnlbXVxuKTogYXNzZXJ0cyB2YWx1ZSBpcyBOb25OdWxsYWJsZTxUPiB7XG4gIGlmIChxRGV2KSB7XG4gICAgaWYgKHZhbHVlICE9IG51bGwpIHJldHVybjtcbiAgICB0aHJvdyBsb2dFcnJvckFuZFN0b3AodGV4dCwgLi4ucGFydHMpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRFcXVhbChcbiAgdmFsdWUxOiBhbnksXG4gIHZhbHVlMjogYW55LFxuICB0ZXh0OiBzdHJpbmcsXG4gIC4uLnBhcnRzOiBhbnlbXVxuKTogYXNzZXJ0cyB2YWx1ZTEgaXMgdHlwZW9mIHZhbHVlMiB7XG4gIGlmIChxRGV2KSB7XG4gICAgaWYgKHZhbHVlMSA9PT0gdmFsdWUyKSByZXR1cm47XG4gICAgdGhyb3cgbG9nRXJyb3JBbmRTdG9wKHRleHQsIC4uLnBhcnRzKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0VHJ1ZSh2YWx1ZTE6IGFueSwgdGV4dDogc3RyaW5nLCAuLi5wYXJ0czogYW55W10pOiBhc3NlcnRzIHZhbHVlMSBpcyB0cnVlIHtcbiAgaWYgKHFEZXYpIHtcbiAgICBpZiAodmFsdWUxID09PSB0cnVlKSByZXR1cm47XG4gICAgdGhyb3cgbG9nRXJyb3JBbmRTdG9wKHRleHQsIC4uLnBhcnRzKTtcbiAgfVxufVxuIl19","/**\n * State factory of the component.\n */\nexport const OnMount = 'on:qmount';\n/**\n * State factory of the component.\n */\nexport const QHostAttr = 'q:host';\nexport const OnRenderProp = 'q:renderFn';\n/**\n * State factory of the component.\n */\nexport const QHostSelector = '[q\\\\:host]';\n/**\n * State factory of the component.\n */\nexport const OnUnmount = 'on:qunmount';\n/**\n * State factory of the component.\n */\nexport const OnResume = 'on:qinit';\n/**\n * Component Styles.\n */\nexport const ComponentScopedStyles = 'q:sstyle';\n/**\n * Unscoped Component Styles.\n */\nexport const ComponentUnscopedStyles = 'q:ustyle';\n/**\n * Component style host prefix\n */\nexport const ComponentStylesPrefixHost = 'üíé';\n/**\n * Component style content prefix\n */\nexport const ComponentStylesPrefixContent = '‚≠êÔ∏è';\n/**\n * Prefix used to identify on listeners.\n */\nexport const EventPrefix = 'on:';\n/**\n * Attribute used to mark that an event listener is attached.\n */\nexport const EventAny = 'on:.';\n/**\n * `<some-element q:slot=\"...\">`\n */\nexport const QSlot = 'q:slot';\nexport const QCtxAttr = 'q:ctx';\nexport const QContainerAttr = 'q:container';\nexport const QContainerSelector = '[q\\\\:container]';\nexport const RenderEvent = 'qRender';\n/**\n * `<q:slot name=\"...\">`\n */\nexport const QSlotName = 'name';\nexport const QSlotInertName = '\\u0000';\nexport const ELEMENT_ID = 'q:id';\nexport const ELEMENT_ID_SELECTOR = '[q\\\\:id]';\nexport const ELEMENT_ID_PREFIX = '#';\nexport const ELEMENT_ID_Q_PROPS_PREFIX = '&';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFya2Vycy5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS91dGlsL21hcmtlcnMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0dBRUc7QUFDSCxNQUFNLENBQUMsTUFBTSxPQUFPLEdBQUcsV0FBVyxDQUFDO0FBRW5DOztHQUVHO0FBQ0gsTUFBTSxDQUFDLE1BQU0sU0FBUyxHQUFHLFFBQVEsQ0FBQztBQUNsQyxNQUFNLENBQUMsTUFBTSxZQUFZLEdBQUcsWUFBWSxDQUFDO0FBRXpDOztHQUVHO0FBQ0gsTUFBTSxDQUFDLE1BQU0sYUFBYSxHQUFHLFlBQVksQ0FBQztBQUUxQzs7R0FFRztBQUNILE1BQU0sQ0FBQyxNQUFNLFNBQVMsR0FBRyxhQUFhLENBQUM7QUFFdkM7O0dBRUc7QUFDSCxNQUFNLENBQUMsTUFBTSxRQUFRLEdBQUcsVUFBVSxDQUFDO0FBRW5DOztHQUVHO0FBQ0gsTUFBTSxDQUFDLE1BQU0scUJBQXFCLEdBQUcsVUFBVSxDQUFDO0FBRWhEOztHQUVHO0FBQ0gsTUFBTSxDQUFDLE1BQU0sdUJBQXVCLEdBQUcsVUFBVSxDQUFDO0FBRWxEOztHQUVHO0FBQ0gsTUFBTSxDQUFDLE1BQU0seUJBQXlCLEdBQUcsSUFBSSxDQUFDO0FBRTlDOztHQUVHO0FBQ0gsTUFBTSxDQUFDLE1BQU0sNEJBQTRCLEdBQUcsSUFBSSxDQUFDO0FBRWpEOztHQUVHO0FBQ0gsTUFBTSxDQUFDLE1BQU0sV0FBVyxHQUFHLEtBQUssQ0FBQztBQUVqQzs7R0FFRztBQUNILE1BQU0sQ0FBQyxNQUFNLFFBQVEsR0FBRyxNQUFNLENBQUM7QUFDL0I7O0dBRUc7QUFDSCxNQUFNLENBQUMsTUFBTSxLQUFLLEdBQUcsUUFBUSxDQUFDO0FBRTlCLE1BQU0sQ0FBQyxNQUFNLFFBQVEsR0FBRyxPQUFPLENBQUM7QUFFaEMsTUFBTSxDQUFDLE1BQU0sY0FBYyxHQUFHLGFBQWEsQ0FBQztBQUU1QyxNQUFNLENBQUMsTUFBTSxrQkFBa0IsR0FBRyxpQkFBaUIsQ0FBQztBQUVwRCxNQUFNLENBQUMsTUFBTSxXQUFXLEdBQUcsU0FBUyxDQUFDO0FBQ3JDOztHQUVHO0FBQ0gsTUFBTSxDQUFDLE1BQU0sU0FBUyxHQUFHLE1BQU0sQ0FBQztBQUNoQyxNQUFNLENBQUMsTUFBTSxjQUFjLEdBQUcsUUFBUSxDQUFDO0FBRXZDLE1BQU0sQ0FBQyxNQUFNLFVBQVUsR0FBRyxNQUFNLENBQUM7QUFDakMsTUFBTSxDQUFDLE1BQU0sbUJBQW1CLEdBQUcsVUFBVSxDQUFDO0FBQzlDLE1BQU0sQ0FBQyxNQUFNLGlCQUFpQixHQUFHLEdBQUcsQ0FBQztBQUNyQyxNQUFNLENBQUMsTUFBTSx5QkFBeUIsR0FBRyxHQUFHLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFN0YXRlIGZhY3Rvcnkgb2YgdGhlIGNvbXBvbmVudC5cbiAqL1xuZXhwb3J0IGNvbnN0IE9uTW91bnQgPSAnb246cW1vdW50JztcblxuLyoqXG4gKiBTdGF0ZSBmYWN0b3J5IG9mIHRoZSBjb21wb25lbnQuXG4gKi9cbmV4cG9ydCBjb25zdCBRSG9zdEF0dHIgPSAncTpob3N0JztcbmV4cG9ydCBjb25zdCBPblJlbmRlclByb3AgPSAncTpyZW5kZXJGbic7XG5cbi8qKlxuICogU3RhdGUgZmFjdG9yeSBvZiB0aGUgY29tcG9uZW50LlxuICovXG5leHBvcnQgY29uc3QgUUhvc3RTZWxlY3RvciA9ICdbcVxcXFw6aG9zdF0nO1xuXG4vKipcbiAqIFN0YXRlIGZhY3Rvcnkgb2YgdGhlIGNvbXBvbmVudC5cbiAqL1xuZXhwb3J0IGNvbnN0IE9uVW5tb3VudCA9ICdvbjpxdW5tb3VudCc7XG5cbi8qKlxuICogU3RhdGUgZmFjdG9yeSBvZiB0aGUgY29tcG9uZW50LlxuICovXG5leHBvcnQgY29uc3QgT25SZXN1bWUgPSAnb246cWluaXQnO1xuXG4vKipcbiAqIENvbXBvbmVudCBTdHlsZXMuXG4gKi9cbmV4cG9ydCBjb25zdCBDb21wb25lbnRTY29wZWRTdHlsZXMgPSAncTpzc3R5bGUnO1xuXG4vKipcbiAqIFVuc2NvcGVkIENvbXBvbmVudCBTdHlsZXMuXG4gKi9cbmV4cG9ydCBjb25zdCBDb21wb25lbnRVbnNjb3BlZFN0eWxlcyA9ICdxOnVzdHlsZSc7XG5cbi8qKlxuICogQ29tcG9uZW50IHN0eWxlIGhvc3QgcHJlZml4XG4gKi9cbmV4cG9ydCBjb25zdCBDb21wb25lbnRTdHlsZXNQcmVmaXhIb3N0ID0gJ/Cfko4nO1xuXG4vKipcbiAqIENvbXBvbmVudCBzdHlsZSBjb250ZW50IHByZWZpeFxuICovXG5leHBvcnQgY29uc3QgQ29tcG9uZW50U3R5bGVzUHJlZml4Q29udGVudCA9ICfirZDvuI8nO1xuXG4vKipcbiAqIFByZWZpeCB1c2VkIHRvIGlkZW50aWZ5IG9uIGxpc3RlbmVycy5cbiAqL1xuZXhwb3J0IGNvbnN0IEV2ZW50UHJlZml4ID0gJ29uOic7XG5cbi8qKlxuICogQXR0cmlidXRlIHVzZWQgdG8gbWFyayB0aGF0IGFuIGV2ZW50IGxpc3RlbmVyIGlzIGF0dGFjaGVkLlxuICovXG5leHBvcnQgY29uc3QgRXZlbnRBbnkgPSAnb246Lic7XG4vKipcbiAqIGA8c29tZS1lbGVtZW50IHE6c2xvdD1cIi4uLlwiPmBcbiAqL1xuZXhwb3J0IGNvbnN0IFFTbG90ID0gJ3E6c2xvdCc7XG5cbmV4cG9ydCBjb25zdCBRQ3R4QXR0ciA9ICdxOmN0eCc7XG5cbmV4cG9ydCBjb25zdCBRQ29udGFpbmVyQXR0ciA9ICdxOmNvbnRhaW5lcic7XG5cbmV4cG9ydCBjb25zdCBRQ29udGFpbmVyU2VsZWN0b3IgPSAnW3FcXFxcOmNvbnRhaW5lcl0nO1xuXG5leHBvcnQgY29uc3QgUmVuZGVyRXZlbnQgPSAncVJlbmRlcic7XG4vKipcbiAqIGA8cTpzbG90IG5hbWU9XCIuLi5cIj5gXG4gKi9cbmV4cG9ydCBjb25zdCBRU2xvdE5hbWUgPSAnbmFtZSc7XG5leHBvcnQgY29uc3QgUVNsb3RJbmVydE5hbWUgPSAnXFx1MDAwMCc7XG5cbmV4cG9ydCBjb25zdCBFTEVNRU5UX0lEID0gJ3E6aWQnO1xuZXhwb3J0IGNvbnN0IEVMRU1FTlRfSURfU0VMRUNUT1IgPSAnW3FcXFxcOmlkXSc7XG5leHBvcnQgY29uc3QgRUxFTUVOVF9JRF9QUkVGSVggPSAnIyc7XG5leHBvcnQgY29uc3QgRUxFTUVOVF9JRF9RX1BST1BTX1BSRUZJWCA9ICcmJztcbiJdfQ==","/**\n * @private\n */\nexport const isHtmlElement = (node) => {\n    return node ? node.nodeType === 1 : false;\n};\nexport const isObject = (v) => {\n    return v && typeof v === 'object';\n};\nexport const isArray = (v) => {\n    return Array.isArray(v);\n};\nexport const isString = (v) => {\n    return typeof v === 'string';\n};\nexport const isFunction = (v) => {\n    return typeof v === 'function';\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHlwZXMuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvdXRpbC90eXBlcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7R0FFRztBQUNILE1BQU0sQ0FBQyxNQUFNLGFBQWEsR0FBRyxDQUFDLElBQVMsRUFBbUIsRUFBRTtJQUMxRCxPQUFPLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQztBQUM1QyxDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxRQUFRLEdBQUcsQ0FBQyxDQUFNLEVBQVksRUFBRTtJQUMzQyxPQUFPLENBQUMsSUFBSSxPQUFPLENBQUMsS0FBSyxRQUFRLENBQUM7QUFDcEMsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sT0FBTyxHQUFHLENBQUMsQ0FBTSxFQUFjLEVBQUU7SUFDNUMsT0FBTyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQzFCLENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLFFBQVEsR0FBRyxDQUFDLENBQU0sRUFBZSxFQUFFO0lBQzlDLE9BQU8sT0FBTyxDQUFDLEtBQUssUUFBUSxDQUFDO0FBQy9CLENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLFVBQVUsR0FBRyxDQUFDLENBQU0sRUFBaUIsRUFBRTtJQUNsRCxPQUFPLE9BQU8sQ0FBQyxLQUFLLFVBQVUsQ0FBQztBQUNqQyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBjb25zdCBpc0h0bWxFbGVtZW50ID0gKG5vZGU6IGFueSk6IG5vZGUgaXMgRWxlbWVudCA9PiB7XG4gIHJldHVybiBub2RlID8gbm9kZS5ub2RlVHlwZSA9PT0gMSA6IGZhbHNlO1xufTtcblxuZXhwb3J0IGNvbnN0IGlzT2JqZWN0ID0gKHY6IGFueSk6IHYgaXMgYW55ID0+IHtcbiAgcmV0dXJuIHYgJiYgdHlwZW9mIHYgPT09ICdvYmplY3QnO1xufTtcblxuZXhwb3J0IGNvbnN0IGlzQXJyYXkgPSAodjogYW55KTogdiBpcyBhbnlbXSA9PiB7XG4gIHJldHVybiBBcnJheS5pc0FycmF5KHYpO1xufTtcblxuZXhwb3J0IGNvbnN0IGlzU3RyaW5nID0gKHY6IGFueSk6IHYgaXMgc3RyaW5nID0+IHtcbiAgcmV0dXJuIHR5cGVvZiB2ID09PSAnc3RyaW5nJztcbn07XG5cbmV4cG9ydCBjb25zdCBpc0Z1bmN0aW9uID0gKHY6IGFueSk6IHYgaXMgRnVuY3Rpb24gPT4ge1xuICByZXR1cm4gdHlwZW9mIHYgPT09ICdmdW5jdGlvbic7XG59O1xuXG4vKipcbiAqIFR5cGUgcmVwcmVzZW50aW5nIGEgdmFsdWUgd2hpY2ggaXMgZWl0aGVyIHJlc29sdmUgb3IgYSBwcm9taXNlLlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdHlwZSBWYWx1ZU9yUHJvbWlzZTxUPiA9IFQgfCBQcm9taXNlPFQ+O1xuIl19","import { assertDefined } from '../assert/assert';\nexport const getDocument = (node) => {\n    if (typeof document !== 'undefined') {\n        return document;\n    }\n    if (node.nodeType === 9) {\n        return node;\n    }\n    const doc = node.ownerDocument;\n    assertDefined(doc, 'doc must be defined');\n    return doc;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZG9tLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3V0aWwvZG9tLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUVqRCxNQUFNLENBQUMsTUFBTSxXQUFXLEdBQUcsQ0FBQyxJQUFVLEVBQVksRUFBRTtJQUNsRCxJQUFJLE9BQU8sUUFBUSxLQUFLLFdBQVcsRUFBRTtRQUNuQyxPQUFPLFFBQVEsQ0FBQztLQUNqQjtJQUNELElBQUksSUFBSSxDQUFDLFFBQVEsS0FBSyxDQUFDLEVBQUU7UUFDdkIsT0FBTyxJQUFnQixDQUFDO0tBQ3pCO0lBQ0QsTUFBTSxHQUFHLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQztJQUMvQixhQUFhLENBQUMsR0FBRyxFQUFFLHFCQUFxQixDQUFDLENBQUM7SUFDMUMsT0FBTyxHQUFJLENBQUM7QUFDZCxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhc3NlcnREZWZpbmVkIH0gZnJvbSAnLi4vYXNzZXJ0L2Fzc2VydCc7XG5cbmV4cG9ydCBjb25zdCBnZXREb2N1bWVudCA9IChub2RlOiBOb2RlKTogRG9jdW1lbnQgPT4ge1xuICBpZiAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBkb2N1bWVudDtcbiAgfVxuICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gOSkge1xuICAgIHJldHVybiBub2RlIGFzIERvY3VtZW50O1xuICB9XG4gIGNvbnN0IGRvYyA9IG5vZGUub3duZXJEb2N1bWVudDtcbiAgYXNzZXJ0RGVmaW5lZChkb2MsICdkb2MgbXVzdCBiZSBkZWZpbmVkJyk7XG4gIHJldHVybiBkb2MhO1xufTtcbiJdfQ==","import { isArray, isObject } from '../util/types';\nimport { assertDefined } from '../assert/assert';\nimport { QContainerSelector, QHostAttr, RenderEvent } from '../util/markers';\nimport { getDocument } from '../util/dom';\nimport { qError, QError_useInvokeContext, QError_useMethodOutsideContext } from '../error/error';\nlet _context;\nexport const CONTAINER = Symbol('container');\nexport const isStyleTask = (obj) => {\n    return isObject(obj) && obj.type === 'style';\n};\nexport const tryGetInvokeContext = () => {\n    if (!_context) {\n        const context = typeof document !== 'undefined' && document && document.__q_context__;\n        if (!context) {\n            return undefined;\n        }\n        if (isArray(context)) {\n            const element = context[0];\n            const hostElement = getHostElement(element);\n            assertDefined(hostElement, `invoke: can not find hostElement from active element`, element);\n            return (document.__q_context__ = newInvokeContext(getDocument(element), hostElement, element, context[1], context[2]));\n        }\n        return context;\n    }\n    return _context;\n};\nexport const getInvokeContext = () => {\n    const ctx = tryGetInvokeContext();\n    if (!ctx) {\n        throw qError(QError_useMethodOutsideContext);\n    }\n    return ctx;\n};\nexport const useInvokeContext = () => {\n    const ctx = getInvokeContext();\n    if (ctx.$event$ !== RenderEvent) {\n        throw qError(QError_useInvokeContext);\n    }\n    assertDefined(ctx.$hostElement$, `invoke: $hostElement$ must be defined`, ctx);\n    assertDefined(ctx.$waitOn$, `invoke: $waitOn$ must be defined`, ctx);\n    assertDefined(ctx.$renderCtx$, `invoke: $renderCtx$ must be defined`, ctx);\n    assertDefined(ctx.$doc$, `invoke: $doc$ must be defined`, ctx);\n    assertDefined(ctx.$subscriber$, `invoke: $subscriber$ must be defined`, ctx);\n    return ctx;\n};\nexport const useInvoke = (context, fn, ...args) => {\n    const previousContext = _context;\n    let returnValue;\n    try {\n        _context = context;\n        returnValue = fn.apply(null, args);\n    }\n    finally {\n        _context = previousContext;\n    }\n    return returnValue;\n};\nexport const newInvokeContext = (doc, hostElement, element, event, url) => {\n    return {\n        $seq$: 0,\n        $doc$: doc,\n        $hostElement$: hostElement,\n        $element$: element,\n        $event$: event,\n        $url$: url || null,\n        $qrl$: undefined,\n    };\n};\n/**\n * @alpha\n */\nexport const useWaitOn = (promise) => {\n    const ctx = useInvokeContext();\n    ctx.$waitOn$.push(promise);\n};\nexport const getHostElement = (el) => {\n    let foundSlot = false;\n    let node = el;\n    while (node) {\n        const isHost = node.hasAttribute(QHostAttr);\n        const isSlot = node.tagName === 'Q:SLOT';\n        if (isHost) {\n            if (!foundSlot) {\n                break;\n            }\n            else {\n                foundSlot = false;\n            }\n        }\n        if (isSlot) {\n            foundSlot = true;\n        }\n        node = node.parentElement;\n    }\n    return node;\n};\nexport const getContainer = (el) => {\n    let container = el[CONTAINER];\n    if (!container) {\n        container = el.closest(QContainerSelector);\n        el[CONTAINER] = container;\n    }\n    return container;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLWNvcmUuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvdXNlL3VzZS1jb3JlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxPQUFPLEVBQUUsUUFBUSxFQUFrQixNQUFNLGVBQWUsQ0FBQztBQUVsRSxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFFakQsT0FBTyxFQUFFLGtCQUFrQixFQUFFLFNBQVMsRUFBRSxXQUFXLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUM3RSxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sYUFBYSxDQUFDO0FBSTFDLE9BQU8sRUFBRSxNQUFNLEVBQUUsdUJBQXVCLEVBQUUsOEJBQThCLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQTBCakcsSUFBSSxRQUFtQyxDQUFDO0FBRXhDLE1BQU0sQ0FBQyxNQUFNLFNBQVMsR0FBRyxNQUFNLENBQUMsV0FBVyxDQUFDLENBQUM7QUFFN0MsTUFBTSxDQUFDLE1BQU0sV0FBVyxHQUFHLENBQUMsR0FBUSxFQUFzQixFQUFFO0lBQzFELE9BQU8sUUFBUSxDQUFDLEdBQUcsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxJQUFJLEtBQUssT0FBTyxDQUFDO0FBQy9DLENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLG1CQUFtQixHQUFHLEdBQThCLEVBQUU7SUFDakUsSUFBSSxDQUFDLFFBQVEsRUFBRTtRQUNiLE1BQU0sT0FBTyxHQUFHLE9BQU8sUUFBUSxLQUFLLFdBQVcsSUFBSSxRQUFRLElBQUksUUFBUSxDQUFDLGFBQWEsQ0FBQztRQUN0RixJQUFJLENBQUMsT0FBTyxFQUFFO1lBQ1osT0FBTyxTQUFTLENBQUM7U0FDbEI7UUFDRCxJQUFJLE9BQU8sQ0FBQyxPQUFPLENBQUMsRUFBRTtZQUNwQixNQUFNLE9BQU8sR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDM0IsTUFBTSxXQUFX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Q0FBQyxFQUFXLEVBQWtCLEVBQUU7SUFDNUQsSUFBSSxTQUFTLEdBQUcsS0FBSyxDQUFDO0lBQ3RCLElBQUksSUFBSSxHQUFtQixFQUFFLENBQUM7SUFDOUIsT0FBTyxJQUFJLEVBQUU7UUFDWCxNQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQzVDLE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxPQUFPLEtBQUssUUFBUSxDQUFDO1FBQ3pDLElBQUksTUFBTSxFQUFFO1lBQ1YsSUFBSSxDQUFDLFNBQVMsRUFBRTtnQkFDZCxNQUFNO2FBQ1A7aUJBQU07Z0JBQ0wsU0FBUyxHQUFHLEtBQUssQ0FBQzthQUNuQjtTQUNGO1FBQ0QsSUFBSSxNQUFNLEVBQUU7WUFDVixTQUFTLEdBQUcsSUFBSSxDQUFDO1NBQ2xCO1FBQ0QsSUFBSSxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUM7S0FDM0I7SUFDRCxPQUFPLElBQUksQ0FBQztBQUNkLENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLFlBQVksR0FBRyxDQUFDLEVBQVcsRUFBa0IsRUFBRTtJQUMxRCxJQUFJLFNBQVMsR0FBSSxFQUFVLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDdkMsSUFBSSxDQUFDLFNBQVMsRUFBRTtRQUNkLFNBQVMsR0FBRyxFQUFFLENBQUMsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUM7UUFDMUMsRUFBVSxDQUFDLFNBQVMsQ0FBQyxHQUFHLFNBQVMsQ0FBQztLQUNwQztJQUNELE9BQU8sU0FBUyxDQUFDO0FBQ25CLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzQXJyYXksIGlzT2JqZWN0LCBWYWx1ZU9yUHJvbWlzZSB9IGZyb20gJy4uL3V0aWwvdHlwZXMnO1xuaW1wb3J0IHR5cGUgeyBQcm9wcyB9IGZyb20gJy4uL3Byb3BzL3Byb3BzLnB1YmxpYyc7XG5pbXBvcnQgeyBhc3NlcnREZWZpbmVkIH0gZnJvbSAnLi4vYXNzZXJ0L2Fzc2VydCc7XG5pbXBvcnQgdHlwZSB7IFF3aWtEb2N1bWVudCB9IGZyb20gJy4uL2RvY3VtZW50JztcbmltcG9ydCB7IFFDb250YWluZXJTZWxlY3RvciwgUUhvc3RBdHRyLCBSZW5kZXJFdmVudCB9IGZyb20gJy4uL3V0aWwvbWFya2Vycyc7XG5pbXBvcnQgeyBnZXREb2N1bWVudCB9IGZyb20gJy4uL3V0aWwvZG9tJztcbmltcG9ydCB0eXBlIHsgUVJMIH0gZnJvbSAnLi4vaW1wb3J0L3FybC5wdWJsaWMnO1xuaW1wb3J0IHR5cGUgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi91c2Utc3Vic2NyaWJlcic7XG5pbXBvcnQgdHlwZSB7IFJlbmRlckNvbnRleHQgfSBmcm9tICcuLi9yZW5kZXIvY3Vyc29yJztcbmltcG9ydCB7IHFFcnJvciwgUUVycm9yX3VzZUludm9rZUNvbnRleHQsIFFFcnJvcl91c2VNZXRob2RPdXRzaWRlQ29udGV4dCB9IGZyb20gJy4uL2Vycm9yL2Vycm9yJztcblxuZGVjbGFyZSBjb25zdCBkb2N1bWVudDogUXdpa0RvY3VtZW50O1xuXG5leHBvcnQgaW50ZXJmYWNlIFN0eWxlQXBwZW5kIHtcbiAgdHlwZTogJ3N0eWxlJztcbiAgc3R5bGVJZDogc3RyaW5nO1xuICBjb250ZW50OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSW52b2tlQ29udGV4dCB7XG4gICR1cmwkOiBVUkwgfCBudWxsO1xuICAkc2VxJDogbnVtYmVyO1xuICAkZG9jJD86IERvY3VtZW50O1xuICAkaG9zdEVsZW1lbnQkPzogRWxlbWVudDtcbiAgJGVsZW1lbnQkPzogRWxlbWVudDtcbiAgJGV2ZW50JDogYW55O1xuICAkcXJsJD86IFFSTDxhbnk+O1xuICAkd2FpdE9uJD86IFZhbHVlT3JQcm9taXNlPGFueT5bXTtcbiAgJHByb3BzJD86IFByb3BzO1xuICAkc3Vic2NyaWJlciQ/OiBTdWJzY3JpYmVyIHwgbnVsbDtcbiAgJHJlbmRlckN0eCQ/OiBSZW5kZXJDb250ZXh0O1xufVxuXG5leHBvcnQgdHlwZSBSZW5kZXJJbnZva2VDb250ZXh0ID0gUmVxdWlyZWQ8SW52b2tlQ29udGV4dD47XG5cbmxldCBfY29udGV4dDogSW52b2tlQ29udGV4dCB8IHVuZGVmaW5lZDtcblxuZXhwb3J0IGNvbnN0IENPTlRBSU5FUiA9IFN5bWJvbCgnY29udGFpbmVyJyk7XG5cbmV4cG9ydCBjb25zdCBpc1N0eWxlVGFzayA9IChvYmo6IGFueSk6IG9iaiBpcyBTdHlsZUFwcGVuZCA9PiB7XG4gIHJldHVybiBpc09iamVjdChvYmopICYmIG9iai50eXBlID09PSAnc3R5bGUnO1xufTtcblxuZXhwb3J0IGNvbnN0IHRyeUdldEludm9rZUNvbnRleHQgPSAoKTogSW52b2tlQ29udGV4dCB8IHVuZGVmaW5lZCA9PiB7XG4gIGlmICghX2NvbnRleHQpIHtcbiAgICBjb25zdCBjb250ZXh0ID0gdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiBkb2N1bWVudCAmJiBkb2N1bWVudC5fX3FfY29udGV4dF9fO1xuICAgIGlmICghY29udGV4dCkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKGlzQXJyYXkoY29udGV4dCkpIHtcbiAgICAgIGNvbnN0IGVsZW1lbnQgPSBjb250ZXh0WzBdO1xuICAgICAgY29uc3QgaG9zdEVsZW1lbnQgPSBnZXRIb3N0RWxlbWVudChlbGVtZW50KTtcbiAgICAgIGFzc2VydERlZmluZWQoaG9zdEVsZW1lbnQsIGBpbnZva2U6IGNhbiBub3QgZmluZCBob3N0RWxlbWVudCBmcm9tIGFjdGl2ZSBlbGVtZW50YCwgZWxlbWVudCk7XG4gICAgICByZXR1cm4gKGRvY3VtZW50Ll9fcV9jb250ZXh0X18gPSBuZXdJbnZva2VDb250ZXh0KFxuICAgICAgICBnZXREb2N1bWVudChlbGVtZW50KSxcbiAgICAgICAgaG9zdEVsZW1lbnQsXG4gICAgICAgIGVsZW1lbnQsXG4gICAgICAgIGNvbnRleHRbMV0sXG4gICAgICAgIGNvbnRleHRbMl1cbiAgICAgICkpO1xuICAgIH1cbiAgICByZXR1cm4gY29udGV4dCBhcyBJbnZva2VDb250ZXh0O1xuICB9XG4gIHJldHVybiBfY29udGV4dDtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRJbnZva2VDb250ZXh0ID0gKCk6IEludm9rZUNvbnRleHQgPT4ge1xuICBjb25zdCBjdHggPSB0cnlHZXRJbnZva2VDb250ZXh0KCk7XG4gIGlmICghY3R4KSB7XG4gICAgdGhyb3cgcUVycm9yKFFFcnJvcl91c2VNZXRob2RPdXRzaWRlQ29udGV4dCk7XG4gIH1cbiAgcmV0dXJuIGN0eDtcbn07XG5cbmV4cG9ydCBjb25zdCB1c2VJbnZva2VDb250ZXh0ID0gKCk6IFJlbmRlckludm9rZUNvbnRleHQgPT4ge1xuICBjb25zdCBjdHggPSBnZXRJbnZva2VDb250ZXh0KCk7XG4gIGlmIChjdHguJGV2ZW50JCAhPT0gUmVuZGVyRXZlbnQpIHtcbiAgICB0aHJvdyBxRXJyb3IoUUVycm9yX3VzZUludm9rZUNvbnRleHQpO1xuICB9XG4gIGFzc2VydERlZmluZWQoY3R4LiRob3N0RWxlbWVudCQsIGBpbnZva2U6ICRob3N0RWxlbWVudCQgbXVzdCBiZSBkZWZpbmVkYCwgY3R4KTtcbiAgYXNzZXJ0RGVmaW5lZChjdHguJHdhaXRPbiQsIGBpbnZva2U6ICR3YWl0T24kIG11c3QgYmUgZGVmaW5lZGAsIGN0eCk7XG4gIGFzc2VydERlZmluZWQoY3R4LiRyZW5kZXJDdHgkLCBgaW52b2tlOiAkcmVuZGVyQ3R4JCBtdXN0IGJlIGRlZmluZWRgLCBjdHgpO1xuICBhc3NlcnREZWZpbmVkKGN0eC4kZG9jJCwgYGludm9rZTogJGRvYyQgbXVzdCBiZSBkZWZpbmVkYCwgY3R4KTtcbiAgYXNzZXJ0RGVmaW5lZChjdHguJHN1YnNjcmliZXIkLCBgaW52b2tlOiAkc3Vic2NyaWJlciQgbXVzdCBiZSBkZWZpbmVkYCwgY3R4KTtcblxuICByZXR1cm4gY3R4IGFzIGFueTtcbn07XG5cbmV4cG9ydCBjb25zdCB1c2VJbnZva2UgPSA8QVJHUyBleHRlbmRzIGFueVtdID0gYW55W10sIFJFVCA9IGFueT4oXG4gIGNvbnRleHQ6IEludm9rZUNvbnRleHQsXG4gIGZuOiAoLi4uYXJnczogQVJHUykgPT4gUkVULFxuICAuLi5hcmdzOiBBUkdTXG4pOiBSRVQgPT4ge1xuICBjb25zdCBwcmV2aW91c0NvbnRleHQgPSBfY29udGV4dDtcbiAgbGV0IHJldHVyblZhbHVlOiBSRVQ7XG4gIHRyeSB7XG4gICAgX2NvbnRleHQgPSBjb250ZXh0O1xuICAgIHJldHVyblZhbHVlID0gZm4uYXBwbHkobnVsbCwgYXJncyk7XG4gIH0gZmluYWxseSB7XG4gICAgX2NvbnRleHQgPSBwcmV2aW91c0NvbnRleHQ7XG4gIH1cbiAgcmV0dXJuIHJldHVyblZhbHVlO1xufTtcblxuZXhwb3J0IGNvbnN0IG5ld0ludm9rZUNvbnRleHQgPSAoXG4gIGRvYz86IERvY3VtZW50LFxuICBob3N0RWxlbWVudD86IEVsZW1lbnQsXG4gIGVsZW1lbnQ/OiBFbGVtZW50LFxuICBldmVudD86IGFueSxcbiAgdXJsPzogVVJMXG4pOiBJbnZva2VDb250ZXh0ID0+IHtcbiAgcmV0dXJuIHtcbiAgICAkc2VxJDogMCxcbiAgICAkZG9jJDogZG9jLFxuICAgICRob3N0RWxlbWVudCQ6IGhvc3RFbGVtZW50LFxuICAgICRlbGVtZW50JDogZWxlbWVudCxcbiAgICAkZXZlbnQkOiBldmVudCxcbiAgICAkdXJsJDogdXJsIHx8IG51bGwsXG4gICAgJHFybCQ6IHVuZGVmaW5lZCxcbiAgfTtcbn07XG5cbi8qKlxuICogQGFscGhhXG4gKi9cbmV4cG9ydCBjb25zdCB1c2VXYWl0T24gPSAocHJvbWlzZTogVmFsdWVPclByb21pc2U8YW55Pik6IHZvaWQgPT4ge1xuICBjb25zdCBjdHggPSB1c2VJbnZva2VDb250ZXh0KCk7XG4gIGN0eC4kd2FpdE9uJC5wdXNoKHByb21pc2UpO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldEhvc3RFbGVtZW50ID0gKGVsOiBFbGVtZW50KTogRWxlbWVudCB8IG51bGwgPT4ge1xuICBsZXQgZm91bmRTbG90ID0gZmFsc2U7XG4gIGxldCBub2RlOiBFbGVtZW50IHwgbnVsbCA9IGVsO1xuICB3aGlsZSAobm9kZSkge1xuICAgIGNvbnN0IGlzSG9zdCA9IG5vZGUuaGFzQXR0cmlidXRlKFFIb3N0QXR0cik7XG4gICAgY29uc3QgaXNTbG90ID0gbm9kZS50YWdOYW1lID09PSAnUTpTTE9UJztcbiAgICBpZiAoaXNIb3N0KSB7XG4gICAgICBpZiAoIWZvdW5kU2xvdCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvdW5kU2xvdCA9IGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoaXNTbG90KSB7XG4gICAgICBmb3VuZFNsb3QgPSB0cnVlO1xuICAgIH1cbiAgICBub2RlID0gbm9kZS5wYXJlbnRFbGVtZW50O1xuICB9XG4gIHJldHVybiBub2RlO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldENvbnRhaW5lciA9IChlbDogRWxlbWVudCk6IEVsZW1lbnQgfCBudWxsID0+IHtcbiAgbGV0IGNvbnRhaW5lciA9IChlbCBhcyBhbnkpW0NPTlRBSU5FUl07XG4gIGlmICghY29udGFpbmVyKSB7XG4gICAgY29udGFpbmVyID0gZWwuY2xvc2VzdChRQ29udGFpbmVyU2VsZWN0b3IpO1xuICAgIChlbCBhcyBhbnkpW0NPTlRBSU5FUl0gPSBjb250YWluZXI7XG4gIH1cbiAgcmV0dXJuIGNvbnRhaW5lcjtcbn07XG4iXX0=","import { getContainer } from '../use/use-core';\nimport { getDocument } from '../util/dom';\nimport { isObject } from '../util/types';\nexport const createPlatform = (doc) => {\n    const moduleCache = new Map();\n    return {\n        isServer: false,\n        importSymbol(element, url, symbolName) {\n            const urlDoc = toUrl(doc, element, url).toString();\n            const urlCopy = new URL(urlDoc);\n            urlCopy.hash = '';\n            urlCopy.search = '';\n            const importURL = urlCopy.href;\n            const mod = moduleCache.get(importURL);\n            if (mod) {\n                return mod[symbolName];\n            }\n            return import(/* @vite-ignore */ importURL).then((mod) => {\n                mod = findModule(mod);\n                moduleCache.set(importURL, mod);\n                return mod[symbolName];\n            });\n        },\n        raf: (fn) => {\n            return new Promise((resolve) => {\n                requestAnimationFrame(() => {\n                    resolve(fn());\n                });\n            });\n        },\n        nextTick: (fn) => {\n            return new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(fn());\n                });\n            });\n        },\n        chunkForSymbol() {\n            return undefined;\n        },\n    };\n};\nconst findModule = (module) => {\n    return Object.values(module).find(isModule) || module;\n};\nconst isModule = (module) => {\n    return isObject(module) && module[Symbol.toStringTag] === 'Module';\n};\n/**\n * Convert relative base URI and relative URL into a fully qualified URL.\n *\n * @param base -`QRL`s are relative, and therefore they need a base for resolution.\n *    - `Element` use `base.ownerDocument.baseURI`\n *    - `Document` use `base.baseURI`\n *    - `string` use `base` as is\n *    - `QConfig` use `base.baseURI`\n * @param url - relative URL\n * @returns fully qualified URL.\n */\nexport const toUrl = (doc, element, url) => {\n    const containerEl = getContainer(element);\n    const base = new URL(containerEl?.getAttribute('q:base') ?? doc.baseURI, doc.baseURI);\n    return new URL(url, base);\n};\n// <docs markdown=\"./readme.md#setPlatform\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ./readme.md#setPlatform instead)\n/**\n * Sets the `CorePlatform`.\n *\n * This is useful to override the platform in tests to change the behavior of,\n * `requestAnimationFrame`, and import resolution.\n *\n * @param doc - The document of the application for which the platform is needed.\n * @param platform - The platform to use.\n * @alpha\n */\n// </docs>\nexport const setPlatform = (doc, plt) => (doc[DocumentPlatform] = plt);\n// <docs markdown=\"./readme.md#getPlatform\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ./readme.md#getPlatform instead)\n/**\n * Retrieve the `CorePlatform`.\n *\n * The `CorePlatform` is also responsible for retrieving the Manifest, that contains mappings\n * from symbols to javascript import chunks. For this reason, `CorePlatform` can't be global, but\n * is specific to the application currently running. On server it is possible that many different\n * applications are running in a single server instance, and for this reason the `CorePlatform`\n * is associated with the application document.\n *\n * @param docOrNode - The document (or node) of the application for which the platform is needed.\n * @alpha\n */\n// </docs>\nexport const getPlatform = (docOrNode) => {\n    const doc = getDocument(docOrNode);\n    return doc[DocumentPlatform] || (doc[DocumentPlatform] = createPlatform(doc));\n};\nconst DocumentPlatform = ':platform:';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGxhdGZvcm0uanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvcGxhdGZvcm0vcGxhdGZvcm0udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQy9DLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFDMUMsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUd6QyxNQUFNLENBQUMsTUFBTSxjQUFjLEdBQUcsQ0FBQyxHQUFhLEVBQWdCLEVBQUU7SUFDNUQsTUFBTSxXQUFXLEdBQUcsSUFBSSxHQUFHLEVBQXFDLENBQUM7SUFDakUsT0FBTztRQUNMLFFBQVEsRUFBRSxLQUFLO1FBQ2YsWUFBWSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsVUFBVTtZQUNuQyxNQUFNLE1BQU0sR0FBRyxLQUFLLENBQUMsR0FBRyxFQUFFLE9BQU8sRUFBRSxHQUFHLENBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQztZQUVuRCxNQUFNLE9BQU8sR0FBRyxJQUFJLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUNoQyxPQUFPLENBQUMsSUFBSSxHQUFHLEVBQUUsQ0FBQztZQUNsQixPQUFPLENBQUMsTUFBTSxHQUFHLEVBQUUsQ0FBQztZQUNwQixNQUFNLFNBQVMsR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDO1lBQy9CLE1BQU0sR0FBRyxHQUFHLFdBQVcsQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUM7WUFDdkMsSUFBSSxHQUFHLEVBQUU7Z0JBQ1AsT0FBTyxHQUFHLENBQUMsVUFBVSxDQUFDLENBQUM7YUFDeEI7WUFDRCxPQUFPLE1BQU0sQ0FBQyxrQkFBa0IsQ0FBQyxTQUFTLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLEVBQUUsRUFBRTtnQkFDdkQsR0FBRyxHQUFHLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFDdEIsV0FBVyxDQUFDLEdBQUcsQ0FBQyxTQUFTLEVBQUUsR0FBRyxDQUFDLENBQUM7Z0JBQ2hDLE9BQU8sR0FBRyxDQUFDLFVBQVUsQ0FBQyxDQUFDO1lBQ3pCLENBQUMsQ0FBQyxDQUFDO1FBQ0wsQ0FBQztRQUNELEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFO1lBQ1YsT0FBTyxJQUFJLE9BQU8sQ0FBQyxDQUFDLE9BQU8sRUFBRSxFQUFFO2dCQUM3QixxQkFBcUIsQ0FBQyxHQUFHLEVBQUU7b0JBQ3pCLE9BQU8sQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO2dCQUNoQixDQUFDLENBQUMsQ0FBQztZQUNMLENBQUMsQ0FBQyxDQUFDO1FBQ0wsQ0FBQztRQUNELFFBQVEsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFO1lBQ2YsT0FBTyxJQUFJLE9BQU8sQ0FBQyxDQUFDLE9BQU8sRUFBRSxFQUFFO2dCQUM3QixVQUFVLENBQUMsR0FBRyxFQUFFO29CQUNkLE9BQU8sQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO2dCQUNoQixDQUFDLENBQUMsQ0FBQztZQUNMLENBQUMsQ0FBQyxDQUFDO1FBQ0wsQ0FBQztRQUNELGNBQWM7WUFDWixPQUFPLFNBQVMsQ0FBQztRQUNuQixDQUFDO0tBQ0YsQ0FBQztBQUNKLENBQUMsQ0FBQztBQUVGLE1BQU0sVUFBVSxHQUFHLENBQUMsTUFBVyxFQUFFLEVBQUU7SUFDakMsT0FBTyxNQUFNLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxNQUFNLENBQUM7QUFDeEQsQ0FBQyxDQUFDO0FBRUYsTUFBTSxRQUFRLEdBQUcsQ0FBQyxNQUFXLEVBQUUsRUFBRTtJQUMvQixPQUFPLFFBQVEsQ0FBQyxNQUFNLENBQUMsSUFBSSxNQUFNLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxLQUFLLFFBQVEsQ0FBQztBQUNyRSxDQUFDLENBQUM7QUFFRjs7Ozs7Ozs7OztHQVVHO0FBQ0gsTUFBTSxDQUFDLE1BQU0sS0FBSyxHQUFHLENBQUMsR0FBYSxFQUFFLE9BQWdCLEVBQUUsR0FBaUIsRUFBTyxFQUFFO0lBQy9FLE1BQU0sV0FBVyxHQUFHLFlBQVksQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUMxQyxNQUFNLElBQUksR0FBRyxJQUFJLEdBQUcsQ0FBQyxXQUFXLEVBQUUsWUFBWSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxPQUFPLEVBQUUsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ3RGLE9BQU8sSUFBSSxHQUFHLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQzVCLENBQUMsQ0FBQztBQUVGLDRDQUE0QztBQUM1Qyx5Q0FBeUM7QUFDekMseUNBQXlDO0FBQ3pDOzs7Ozs7Ozs7R0FTRztBQUNILFVBQVU7QUFDVixNQUFNLENBQUMsTUFBTSxXQUFXLEdBQUcsQ0FBQyxHQUFhLEVBQUUsR0FBaUIsRUFBRSxFQUFFLENBQzlELENBQUUsR0FBd0IsQ0FBQyxnQkFBZ0IsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDO0FBRXRELDRDQUE0QztBQUM1Qyx5Q0FBeUM7QUFDekMseUNBQXlDO0FBQ3pDOzs7Ozs7Ozs7OztHQVdHO0FBQ0gsVUFBVTtBQUNWLE1BQU0sQ0FBQyxNQUFNLFdBQVcsR0FBRyxDQUFDLFNBQTBCLEVBQUUsRUFBRTtJQUN4RCxNQUFNLEdBQUcsR0FBRyxXQUFXLENBQUMsU0FBUyxDQUFxQixDQUFDO0lBQ3ZELE9BQU8sR0FBRyxDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsZ0JBQWdCLENBQUMsR0FBRyxjQUFjLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztBQUNoRixDQUFDLENBQUM7QUFFRixNQUFNLGdCQUFnQixHQUFHLFlBQVksQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldENvbnRhaW5lciB9IGZyb20gJy4uL3VzZS91c2UtY29yZSc7XG5pbXBvcnQgeyBnZXREb2N1bWVudCB9IGZyb20gJy4uL3V0aWwvZG9tJztcbmltcG9ydCB7IGlzT2JqZWN0IH0gZnJvbSAnLi4vdXRpbC90eXBlcyc7XG5pbXBvcnQgdHlwZSB7IENvcmVQbGF0Zm9ybSB9IGZyb20gJy4vdHlwZXMnO1xuXG5leHBvcnQgY29uc3QgY3JlYXRlUGxhdGZvcm0gPSAoZG9jOiBEb2N1bWVudCk6IENvcmVQbGF0Zm9ybSA9PiB7XG4gIGNvbnN0IG1vZHVsZUNhY2hlID0gbmV3IE1hcDxzdHJpbmcsIHsgW3N5bWJvbDogc3RyaW5nXTogYW55IH0+KCk7XG4gIHJldHVybiB7XG4gICAgaXNTZXJ2ZXI6IGZhbHNlLFxuICAgIGltcG9ydFN5bWJvbChlbGVtZW50LCB1cmwsIHN5bWJvbE5hbWUpIHtcbiAgICAgIGNvbnN0IHVybERvYyA9IHRvVXJsKGRvYywgZWxlbWVudCwgdXJsKS50b1N0cmluZygpO1xuXG4gICAgICBjb25zdCB1cmxDb3B5ID0gbmV3IFVSTCh1cmxEb2MpO1xuICAgICAgdXJsQ29weS5oYXNoID0gJyc7XG4gICAgICB1cmxDb3B5LnNlYXJjaCA9ICcnO1xuICAgICAgY29uc3QgaW1wb3J0VVJMID0gdXJsQ29weS5ocmVmO1xuICAgICAgY29uc3QgbW9kID0gbW9kdWxlQ2FjaGUuZ2V0KGltcG9ydFVSTCk7XG4gICAgICBpZiAobW9kKSB7XG4gICAgICAgIHJldHVybiBtb2Rbc3ltYm9sTmFtZV07XG4gICAgICB9XG4gICAgICByZXR1cm4gaW1wb3J0KC8qIEB2aXRlLWlnbm9yZSAqLyBpbXBvcnRVUkwpLnRoZW4oKG1vZCkgPT4ge1xuICAgICAgICBtb2QgPSBmaW5kTW9kdWxlKG1vZCk7XG4gICAgICAgIG1vZHVsZUNhY2hlLnNldChpbXBvcnRVUkwsIG1vZCk7XG4gICAgICAgIHJldHVybiBtb2Rbc3ltYm9sTmFtZV07XG4gICAgICB9KTtcbiAgICB9LFxuICAgIHJhZjogKGZuKSA9PiB7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgICByZXNvbHZlKGZuKCkpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgbmV4dFRpY2s6IChmbikgPT4ge1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUoZm4oKSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBjaHVua0ZvclN5bWJvbCgpIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSxcbiAgfTtcbn07XG5cbmNvbnN0IGZpbmRNb2R1bGUgPSAobW9kdWxlOiBhbnkpID0+IHtcbiAgcmV0dXJuIE9iamVjdC52YWx1ZXMobW9kdWxlKS5maW5kKGlzTW9kdWxlKSB8fCBtb2R1bGU7XG59O1xuXG5jb25zdCBpc01vZHVsZSA9IChtb2R1bGU6IGFueSkgPT4ge1xuICByZXR1cm4gaXNPYmplY3QobW9kdWxlKSAmJiBtb2R1bGVbU3ltYm9sLnRvU3RyaW5nVGFnXSA9PT0gJ01vZHVsZSc7XG59O1xuXG4vKipcbiAqIENvbnZlcnQgcmVsYXRpdmUgYmFzZSBVUkkgYW5kIHJlbGF0aXZlIFVSTCBpbnRvIGEgZnVsbHkgcXVhbGlmaWVkIFVSTC5cbiAqXG4gKiBAcGFyYW0gYmFzZSAtYFFSTGBzIGFyZSByZWxhdGl2ZSwgYW5kIHRoZXJlZm9yZSB0aGV5IG5lZWQgYSBiYXNlIGZvciByZXNvbHV0aW9uLlxuICogICAgLSBgRWxlbWVudGAgdXNlIGBiYXNlLm93bmVyRG9jdW1lbnQuYmFzZVVSSWBcbiAqICAgIC0gYERvY3VtZW50YCB1c2UgYGJhc2UuYmFzZVVSSWBcbiAqICAgIC0gYHN0cmluZ2AgdXNlIGBiYXNlYCBhcyBpc1xuICogICAgLSBgUUNvbmZpZ2AgdXNlIGBiYXNlLmJhc2VVUklgXG4gKiBAcGFyYW0gdXJsIC0gcmVsYXRpdmUgVVJMXG4gKiBAcmV0dXJucyBmdWxseSBxdWFsaWZpZWQgVVJMLlxuICovXG5leHBvcnQgY29uc3QgdG9VcmwgPSAoZG9jOiBEb2N1bWVudCwgZWxlbWVudDogRWxlbWVudCwgdXJsOiBzdHJpbmcgfCBVUkwpOiBVUkwgPT4ge1xuICBjb25zdCBjb250YWluZXJFbCA9IGdldENvbnRhaW5lcihlbGVtZW50KTtcbiAgY29uc3QgYmFzZSA9IG5ldyBVUkwoY29udGFpbmVyRWw/LmdldEF0dHJpYnV0ZSgncTpiYXNlJykgPz8gZG9jLmJhc2VVUkksIGRvYy5iYXNlVVJJKTtcbiAgcmV0dXJuIG5ldyBVUkwodXJsLCBiYXNlKTtcbn07XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi9yZWFkbWUubWQjc2V0UGxhdGZvcm1cIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuL3JlYWRtZS5tZCNzZXRQbGF0Zm9ybSBpbnN0ZWFkKVxuLyoqXG4gKiBTZXRzIHRoZSBgQ29yZVBsYXRmb3JtYC5cbiAqXG4gKiBUaGlzIGlzIHVzZWZ1bCB0byBvdmVycmlkZSB0aGUgcGxhdGZvcm0gaW4gdGVzdHMgdG8gY2hhbmdlIHRoZSBiZWhhdmlvciBvZixcbiAqIGByZXF1ZXN0QW5pbWF0aW9uRnJhbWVgLCBhbmQgaW1wb3J0IHJlc29sdXRpb24uXG4gKlxuICogQHBhcmFtIGRvYyAtIFRoZSBkb2N1bWVudCBvZiB0aGUgYXBwbGljYXRpb24gZm9yIHdoaWNoIHRoZSBwbGF0Zm9ybSBpcyBuZWVkZWQuXG4gKiBAcGFyYW0gcGxhdGZvcm0gLSBUaGUgcGxhdGZvcm0gdG8gdXNlLlxuICogQGFscGhhXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBjb25zdCBzZXRQbGF0Zm9ybSA9IChkb2M6IERvY3VtZW50LCBwbHQ6IENvcmVQbGF0Zm9ybSkgPT5cbiAgKChkb2MgYXMgUGxhdGZvcm1Eb2N1bWVudClbRG9jdW1lbnRQbGF0Zm9ybV0gPSBwbHQpO1xuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4vcmVhZG1lLm1kI2dldFBsYXRmb3JtXCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi9yZWFkbWUubWQjZ2V0UGxhdGZvcm0gaW5zdGVhZClcbi8qKlxuICogUmV0cmlldmUgdGhlIGBDb3JlUGxhdGZvcm1gLlxuICpcbiAqIFRoZSBgQ29yZVBsYXRmb3JtYCBpcyBhbHNvIHJlc3BvbnNpYmxlIGZvciByZXRyaWV2aW5nIHRoZSBNYW5pZmVzdCwgdGhhdCBjb250YWlucyBtYXBwaW5nc1xuICogZnJvbSBzeW1ib2xzIHRvIGphdmFzY3JpcHQgaW1wb3J0IGNodW5rcy4gRm9yIHRoaXMgcmVhc29uLCBgQ29yZVBsYXRmb3JtYCBjYW4ndCBiZSBnbG9iYWwsIGJ1dFxuICogaXMgc3BlY2lmaWMgdG8gdGhlIGFwcGxpY2F0aW9uIGN1cnJlbnRseSBydW5uaW5nLiBPbiBzZXJ2ZXIgaXQgaXMgcG9zc2libGUgdGhhdCBtYW55IGRpZmZlcmVudFxuICogYXBwbGljYXRpb25zIGFyZSBydW5uaW5nIGluIGEgc2luZ2xlIHNlcnZlciBpbnN0YW5jZSwgYW5kIGZvciB0aGlzIHJlYXNvbiB0aGUgYENvcmVQbGF0Zm9ybWBcbiAqIGlzIGFzc29jaWF0ZWQgd2l0aCB0aGUgYXBwbGljYXRpb24gZG9jdW1lbnQuXG4gKlxuICogQHBhcmFtIGRvY09yTm9kZSAtIFRoZSBkb2N1bWVudCAob3Igbm9kZSkgb2YgdGhlIGFwcGxpY2F0aW9uIGZvciB3aGljaCB0aGUgcGxhdGZvcm0gaXMgbmVlZGVkLlxuICogQGFscGhhXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBjb25zdCBnZXRQbGF0Zm9ybSA9IChkb2NPck5vZGU6IERvY3VtZW50IHwgTm9kZSkgPT4ge1xuICBjb25zdCBkb2MgPSBnZXREb2N1bWVudChkb2NPck5vZGUpIGFzIFBsYXRmb3JtRG9jdW1lbnQ7XG4gIHJldHVybiBkb2NbRG9jdW1lbnRQbGF0Zm9ybV0gfHwgKGRvY1tEb2N1bWVudFBsYXRmb3JtXSA9IGNyZWF0ZVBsYXRmb3JtKGRvYykpO1xufTtcblxuY29uc3QgRG9jdW1lbnRQbGF0Zm9ybSA9ICc6cGxhdGZvcm06JztcblxuaW50ZXJmYWNlIFBsYXRmb3JtRG9jdW1lbnQgZXh0ZW5kcyBEb2N1bWVudCB7XG4gIFtEb2N1bWVudFBsYXRmb3JtXT86IENvcmVQbGF0Zm9ybTtcbn1cbiJdfQ==","export const fromCamelToKebabCase = (text) => {\n    return text.replace(/([A-Z])/g, '-$1').toLowerCase();\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2FzZS5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS91dGlsL2Nhc2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTSxDQUFDLE1BQU0sb0JBQW9CLEdBQUcsQ0FBQyxJQUFZLEVBQVUsRUFBRTtJQUMzRCxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsVUFBVSxFQUFFLEtBQUssQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDO0FBQ3ZELENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBmcm9tQ2FtZWxUb0tlYmFiQ2FzZSA9ICh0ZXh0OiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuICByZXR1cm4gdGV4dC5yZXBsYWNlKC8oW0EtWl0pL2csICctJDEnKS50b0xvd2VyQ2FzZSgpO1xufTtcbiJdfQ==","export const directSetAttribute = (el, prop, value) => {\n    return el.setAttribute(prop, value);\n};\nexport const directGetAttribute = (el, prop) => {\n    return el.getAttribute(prop);\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmFzdC1jYWxscy5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9yZW5kZXIvZmFzdC1jYWxscy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxNQUFNLENBQUMsTUFBTSxrQkFBa0IsR0FBRyxDQUFDLEVBQVcsRUFBRSxJQUFZLEVBQUUsS0FBYSxFQUFFLEVBQUU7SUFDN0UsT0FBTyxFQUFFLENBQUMsWUFBWSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQztBQUN0QyxDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxrQkFBa0IsR0FBRyxDQUFDLEVBQVcsRUFBRSxJQUFZLEVBQUUsRUFBRTtJQUM5RCxPQUFPLEVBQUUsQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDL0IsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGRpcmVjdFNldEF0dHJpYnV0ZSA9IChlbDogRWxlbWVudCwgcHJvcDogc3RyaW5nLCB2YWx1ZTogc3RyaW5nKSA9PiB7XG4gIHJldHVybiBlbC5zZXRBdHRyaWJ1dGUocHJvcCwgdmFsdWUpO1xufTtcblxuZXhwb3J0IGNvbnN0IGRpcmVjdEdldEF0dHJpYnV0ZSA9IChlbDogRWxlbWVudCwgcHJvcDogc3RyaW5nKSA9PiB7XG4gIHJldHVybiBlbC5nZXRBdHRyaWJ1dGUocHJvcCk7XG59O1xuIl19","import { getPlatform } from '../platform/platform';\nimport { parseQRL, stringifyQRL } from '../import/qrl';\nimport { isSameQRL } from '../import/qrl-class';\nimport { fromCamelToKebabCase } from '../util/case';\nimport { EMPTY_ARRAY } from '../util/flyweight';\nimport { setAttribute } from '../render/cursor';\nimport { directGetAttribute } from '../render/fast-calls';\nimport { isArray } from '../util/types';\nconst ON_PROP_REGEX = /^(window:|document:|)on([A-Z]|-.).*\\$$/;\nexport const isOnProp = (prop) => {\n    return ON_PROP_REGEX.test(prop);\n};\nexport const qPropWriteQRL = (rctx, ctx, prop, value) => {\n    if (!value) {\n        return;\n    }\n    if (!ctx.$listeners$) {\n        ctx.$listeners$ = getDomListeners(ctx.$element$);\n    }\n    const kebabProp = fromCamelToKebabCase(prop);\n    const existingListeners = ctx.$listeners$.get(kebabProp) || [];\n    const newQRLs = isArray(value) ? value : [value];\n    for (const value of newQRLs) {\n        const cp = value.$copy$();\n        cp.$setContainer$(ctx.$element$);\n        const capture = cp.$capture$;\n        if (capture == null) {\n            // we need to serialize the lexical scope references\n            const captureRef = cp.$captureRef$;\n            cp.$capture$ =\n                captureRef && captureRef.length\n                    ? captureRef.map((ref) => String(ctx.$refMap$.$add$(ref)))\n                    : EMPTY_ARRAY;\n        }\n        // Important we modify the array as it is cached.\n        for (let i = 0; i < existingListeners.length; i++) {\n            const qrl = existingListeners[i];\n            if (isSameQRL(qrl, cp)) {\n                existingListeners.splice(i, 1);\n                i--;\n            }\n        }\n        existingListeners.push(cp);\n    }\n    ctx.$listeners$.set(kebabProp, existingListeners);\n    const newValue = serializeQRLs(existingListeners, ctx);\n    if (directGetAttribute(ctx.$element$, kebabProp) !== newValue) {\n        setAttribute(rctx, ctx.$element$, kebabProp, newValue);\n    }\n};\nexport const getDomListeners = (el) => {\n    const attributes = el.attributes;\n    const listeners = new Map();\n    for (let i = 0; i < attributes.length; i++) {\n        const attr = attributes.item(i);\n        if (attr.name.startsWith('on:') ||\n            attr.name.startsWith('on-window:') ||\n            attr.name.startsWith('on-document:')) {\n            let array = listeners.get(attr.name);\n            if (!array) {\n                listeners.set(attr.name, (array = []));\n            }\n            array.push(parseQRL(attr.value, el));\n        }\n    }\n    return listeners;\n};\nconst serializeQRLs = (existingQRLs, ctx) => {\n    const opts = {\n        $platform$: getPlatform(ctx.$element$),\n        $element$: ctx.$element$,\n    };\n    return existingQRLs.map((qrl) => stringifyQRL(qrl, opts)).join('\\n');\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvcHMtb24uanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvcHJvcHMvcHJvcHMtb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBQ25ELE9BQU8sRUFBRSxRQUFRLEVBQXVCLFlBQVksRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUM1RSxPQUFPLEVBQUUsU0FBUyxFQUFlLE1BQU0scUJBQXFCLENBQUM7QUFDN0QsT0FBTyxFQUFFLG9CQUFvQixFQUFFLE1BQU0sY0FBYyxDQUFDO0FBQ3BELE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQztBQUVoRCxPQUFPLEVBQWlCLFlBQVksRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBQy9ELE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBQzFELE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFeEMsTUFBTSxhQUFhLEdBQUcsd0NBQXdDLENBQUM7QUFFL0QsTUFBTSxDQUFDLE1BQU0sUUFBUSxHQUFHLENBQUMsSUFBWSxFQUFXLEVBQUU7SUFDaEQsT0FBTyxhQUFhLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQ2xDLENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLGFBQWEsR0FBRyxDQUMzQixJQUFtQixFQUNuQixHQUFhLEVBQ2IsSUFBWSxFQUNaLEtBQTRDLEVBQzVDLEVBQUU7SUFDRixJQUFJLENBQUMsS0FBSyxFQUFFO1FBQ1YsT0FBTztLQUNSO0lBQ0QsSUFBSSxDQUFDLEdBQUcsQ0FBQyxXQUFXLEVBQUU7UUFDcEIsR0FBRyxDQUFDLFdBQVcsR0FBRyxlQUFlLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFDO0tBQ2xEO0lBRUQsTUFBTSxTQUFTLEdBQUcsb0JBQW9CLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDN0MsTUFBTSxpQkFBaUIsR0FBRyxHQUFHLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsSUFBSSxFQUFFLENBQUM7SUFFL0QsTUFBTSxPQUFPLEdBQUcsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDakQsS0FBSyxNQUFNLEtBQUssSUFBSSxPQUFPLEVBQUU7UUFDM0IsTUFBTSxFQUFFLEdBQUcsS0FBSyxDQUFDLE1BQU0sRUFBRSxDQUFDO1FBQzFCLEVBQUUsQ0FBQyxjQUFjLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBRWpDLE1BQU0sT0FBTyxHQUFHLEVBQUUsQ0FBQyxTQUFTLENBQUM7UUFDN0IsSUFBSSxPQUFPLElBQUksSUFBSSxFQUFFO1lBQ25CLG9EQUFvRDtZQUNwRCxNQUFNLFVBQVUsR0FBRyxFQUFFLENBQUMsWUFBWSxDQUFDO1lBQ25DLEVBQUUsQ0FBQyxTQUFTO2dCQUNWLFVBQVUsSUFBSSxVQUFVLENBQUMsTUFBTTtvQkFDN0IsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEVBQUUsRUFBRSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO29CQUMxRCxDQUFDLENBQUMsV0FBVyxDQUFDO1NBQ25CO1FBRUQsaURBQWlEO1FBQ2pELEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxpQkFBaUIsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDakQsTUFBTSxHQUFHLEdBQUcsaUJBQWlCLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDakMsSUFBSSxTQUFTLENBQUMsR0FBVSxFQUFFLEVBQUUsQ0FBQyxFQUFFO2dCQUM3QixpQkFBaUIsQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO2dCQUMvQixDQUFDLEVBQUUsQ0FBQzthQUNMO1NBQ0Y7UUFDRCxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7S0FDNUI7SUFDRCxHQUFHLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxTQUFTLEVBQUUsaUJBQWlCLENBQUMsQ0FBQztJQUNsRCxNQUFNLFFBQVEsR0FBRyxhQUFhLENBQUMsaUJBQWlCLEVBQUUsR0FBRyxDQUFDLENBQUM7SUFDdkQsSUFBSSxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsU0FBUyxFQUFFLFNBQVMsQ0FBQyxLQUFLLFFBQVEsRUFBRTtRQUM3RCxZQUFZLENBQUMsSUFBSSxFQUFFLEdBQUcsQ0FBQyxTQUFTLEVBQUUsU0FBUyxFQUFFLFFBQVEsQ0FBQyxDQUFDO0tBQ3hEO0FBQ0gsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sZUFBZSxHQUFHLENBQUMsRUFBVyxFQUE4QixFQUFFO0lBQ3pFLE1BQU0sVUFBVSxHQUFHLEVBQUUsQ0FBQyxVQUFVLENBQUM7SUFDakMsTUFBTSxTQUFTLEdBQStCLElBQUksR0FBRyxFQUFFLENBQUM7SUFDeEQsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLFVBQVUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7UUFDMUMsTUFBTSxJQUFJLEdBQUcsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUUsQ0FBQztRQUNqQyxJQUNFLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQztZQUMzQixJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxZQUFZLENBQUM7WUFDbEMsSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsY0FBYyxDQUFDLEVBQ3BDO1lBQ0EsSUFBSSxLQUFLLEdBQUcsU0FBUyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDckMsSUFBSSxDQUFDLEtBQUssRUFBRTtnQkFDVixTQUFTLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQzthQUN4QztZQUNELEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQztTQUN0QztLQUNGO0lBQ0QsT0FBTyxTQUFTLENBQUM7QUFDbkIsQ0FBQyxDQUFDO0FBRUYsTUFBTSxhQUFhLEdBQUcsQ0FBQyxZQUFnQyxFQUFFLEdBQWEsRUFBVSxFQUFFO0lBQ2hGLE1BQU0sSUFBSSxHQUF3QjtRQUNoQyxVQUFVLEVBQUUsV0FBVyxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUM7UUFDdEMsU0FBUyxFQUFFLEdBQUcsQ0FBQyxTQUFTO0tBQ3pCLENBQUM7SUFDRixPQUFPLFlBQVksQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEVBQUUsRUFBRSxDQUFDLFlBQVksQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDdkUsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0UGxhdGZvcm0gfSBmcm9tICcuLi9wbGF0Zm9ybS9wbGF0Zm9ybSc7XG5pbXBvcnQgeyBwYXJzZVFSTCwgUVJMU2VyaWFsaXplT3B0aW9ucywgc3RyaW5naWZ5UVJMIH0gZnJvbSAnLi4vaW1wb3J0L3FybCc7XG5pbXBvcnQgeyBpc1NhbWVRUkwsIFFSTEludGVybmFsIH0gZnJvbSAnLi4vaW1wb3J0L3FybC1jbGFzcyc7XG5pbXBvcnQgeyBmcm9tQ2FtZWxUb0tlYmFiQ2FzZSB9IGZyb20gJy4uL3V0aWwvY2FzZSc7XG5pbXBvcnQgeyBFTVBUWV9BUlJBWSB9IGZyb20gJy4uL3V0aWwvZmx5d2VpZ2h0JztcbmltcG9ydCB0eXBlIHsgUUNvbnRleHQgfSBmcm9tICcuL3Byb3BzJztcbmltcG9ydCB7IFJlbmRlckNvbnRleHQsIHNldEF0dHJpYnV0ZSB9IGZyb20gJy4uL3JlbmRlci9jdXJzb3InO1xuaW1wb3J0IHsgZGlyZWN0R2V0QXR0cmlidXRlIH0gZnJvbSAnLi4vcmVuZGVyL2Zhc3QtY2FsbHMnO1xuaW1wb3J0IHsgaXNBcnJheSB9IGZyb20gJy4uL3V0aWwvdHlwZXMnO1xuXG5jb25zdCBPTl9QUk9QX1JFR0VYID0gL14od2luZG93Onxkb2N1bWVudDp8KW9uKFtBLVpdfC0uKS4qXFwkJC87XG5cbmV4cG9ydCBjb25zdCBpc09uUHJvcCA9IChwcm9wOiBzdHJpbmcpOiBib29sZWFuID0+IHtcbiAgcmV0dXJuIE9OX1BST1BfUkVHRVgudGVzdChwcm9wKTtcbn07XG5cbmV4cG9ydCBjb25zdCBxUHJvcFdyaXRlUVJMID0gKFxuICByY3R4OiBSZW5kZXJDb250ZXh0LFxuICBjdHg6IFFDb250ZXh0LFxuICBwcm9wOiBzdHJpbmcsXG4gIHZhbHVlOiBRUkxJbnRlcm5hbDxhbnk+W10gfCBRUkxJbnRlcm5hbDxhbnk+XG4pID0+IHtcbiAgaWYgKCF2YWx1ZSkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoIWN0eC4kbGlzdGVuZXJzJCkge1xuICAgIGN0eC4kbGlzdGVuZXJzJCA9IGdldERvbUxpc3RlbmVycyhjdHguJGVsZW1lbnQkKTtcbiAgfVxuXG4gIGNvbnN0IGtlYmFiUHJvcCA9IGZyb21DYW1lbFRvS2ViYWJDYXNlKHByb3ApO1xuICBjb25zdCBleGlzdGluZ0xpc3RlbmVycyA9IGN0eC4kbGlzdGVuZXJzJC5nZXQoa2ViYWJQcm9wKSB8fCBbXTtcblxuICBjb25zdCBuZXdRUkxzID0gaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZSA6IFt2YWx1ZV07XG4gIGZvciAoY29uc3QgdmFsdWUgb2YgbmV3UVJMcykge1xuICAgIGNvbnN0IGNwID0gdmFsdWUuJGNvcHkkKCk7XG4gICAgY3AuJHNldENvbnRhaW5lciQoY3R4LiRlbGVtZW50JCk7XG5cbiAgICBjb25zdCBjYXB0dXJlID0gY3AuJGNhcHR1cmUkO1xuICAgIGlmIChjYXB0dXJlID09IG51bGwpIHtcbiAgICAgIC8vIHdlIG5lZWQgdG8gc2VyaWFsaXplIHRoZSBsZXhpY2FsIHNjb3BlIHJlZmVyZW5jZXNcbiAgICAgIGNvbnN0IGNhcHR1cmVSZWYgPSBjcC4kY2FwdHVyZVJlZiQ7XG4gICAgICBjcC4kY2FwdHVyZSQgPVxuICAgICAgICBjYXB0dXJlUmVmICYmIGNhcHR1cmVSZWYubGVuZ3RoXG4gICAgICAgICAgPyBjYXB0dXJlUmVmLm1hcCgocmVmKSA9PiBTdHJpbmcoY3R4LiRyZWZNYXAkLiRhZGQkKHJlZikpKVxuICAgICAgICAgIDogRU1QVFlfQVJSQVk7XG4gICAgfVxuXG4gICAgLy8gSW1wb3J0YW50IHdlIG1vZGlmeSB0aGUgYXJyYXkgYXMgaXQgaXMgY2FjaGVkLlxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZXhpc3RpbmdMaXN0ZW5lcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHFybCA9IGV4aXN0aW5nTGlzdGVuZXJzW2ldO1xuICAgICAgaWYgKGlzU2FtZVFSTChxcmwgYXMgYW55LCBjcCkpIHtcbiAgICAgICAgZXhpc3RpbmdMaXN0ZW5lcnMuc3BsaWNlKGksIDEpO1xuICAgICAgICBpLS07XG4gICAgICB9XG4gICAgfVxuICAgIGV4aXN0aW5nTGlzdGVuZXJzLnB1c2goY3ApO1xuICB9XG4gIGN0eC4kbGlzdGVuZXJzJC5zZXQoa2ViYWJQcm9wLCBleGlzdGluZ0xpc3RlbmVycyk7XG4gIGNvbnN0IG5ld1ZhbHVlID0gc2VyaWFsaXplUVJMcyhleGlzdGluZ0xpc3RlbmVycywgY3R4KTtcbiAgaWYgKGRpcmVjdEdldEF0dHJpYnV0ZShjdHguJGVsZW1lbnQkLCBrZWJhYlByb3ApICE9PSBuZXdWYWx1ZSkge1xuICAgIHNldEF0dHJpYnV0ZShyY3R4LCBjdHguJGVsZW1lbnQkLCBrZWJhYlByb3AsIG5ld1ZhbHVlKTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGdldERvbUxpc3RlbmVycyA9IChlbDogRWxlbWVudCk6IE1hcDxzdHJpbmcsIFFSTEludGVybmFsW10+ID0+IHtcbiAgY29uc3QgYXR0cmlidXRlcyA9IGVsLmF0dHJpYnV0ZXM7XG4gIGNvbnN0IGxpc3RlbmVyczogTWFwPHN0cmluZywgUVJMSW50ZXJuYWxbXT4gPSBuZXcgTWFwKCk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYXR0cmlidXRlcy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGF0dHIgPSBhdHRyaWJ1dGVzLml0ZW0oaSkhO1xuICAgIGlmIChcbiAgICAgIGF0dHIubmFtZS5zdGFydHNXaXRoKCdvbjonKSB8fFxuICAgICAgYXR0ci5uYW1lLnN0YXJ0c1dpdGgoJ29uLXdpbmRvdzonKSB8fFxuICAgICAgYXR0ci5uYW1lLnN0YXJ0c1dpdGgoJ29uLWRvY3VtZW50OicpXG4gICAgKSB7XG4gICAgICBsZXQgYXJyYXkgPSBsaXN0ZW5lcnMuZ2V0KGF0dHIubmFtZSk7XG4gICAgICBpZiAoIWFycmF5KSB7XG4gICAgICAgIGxpc3RlbmVycy5zZXQoYXR0ci5uYW1lLCAoYXJyYXkgPSBbXSkpO1xuICAgICAgfVxuICAgICAgYXJyYXkucHVzaChwYXJzZVFSTChhdHRyLnZhbHVlLCBlbCkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbGlzdGVuZXJzO1xufTtcblxuY29uc3Qgc2VyaWFsaXplUVJMcyA9IChleGlzdGluZ1FSTHM6IFFSTEludGVybmFsPGFueT5bXSwgY3R4OiBRQ29udGV4dCk6IHN0cmluZyA9PiB7XG4gIGNvbnN0IG9wdHM6IFFSTFNlcmlhbGl6ZU9wdGlvbnMgPSB7XG4gICAgJHBsYXRmb3JtJDogZ2V0UGxhdGZvcm0oY3R4LiRlbGVtZW50JCksXG4gICAgJGVsZW1lbnQkOiBjdHguJGVsZW1lbnQkLFxuICB9O1xuICByZXR1cm4gZXhpc3RpbmdRUkxzLm1hcCgocXJsKSA9PiBzdHJpbmdpZnlRUkwocXJsLCBvcHRzKSkuam9pbignXFxuJyk7XG59O1xuIl19","/**\n * Place at the root of the component View to allow binding of attributes on the Host element.\n *\n * ```\n * <Host someAttr={someExpr} someAttrStatic=\"value\">\n *   View content implementation.\n * </Host>\n * ```\n *\n * Qwik requires that components have [docs/HOST_ELEMENTS.ts] so that it is possible to have\n * asynchronous loading point. Host element is not owned by the component. At times it is\n * desirable for the component to render additional attributes on the host element. `<Host>`\n * servers that purpose.\n * @public\n */\nexport const Host = { __brand__: 'host' };\n/**\n * @public\n */\nexport const SkipRerender = { __brand__: 'skip' };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaG9zdC5wdWJsaWMuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvcmVuZGVyL2pzeC9ob3N0LnB1YmxpYy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFHQTs7Ozs7Ozs7Ozs7Ozs7R0FjRztBQUNILE1BQU0sQ0FBQyxNQUFNLElBQUksR0FBbUQsRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFTLENBQUM7QUFFakc7O0dBRUc7QUFDSCxNQUFNLENBQUMsTUFBTSxZQUFZLEdBQTBCLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBUyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBIVE1MQXR0cmlidXRlcyB9IGZyb20gJy4vdHlwZXMvanN4LWdlbmVyYXRlZCc7XG5pbXBvcnQgdHlwZSB7IEZ1bmN0aW9uQ29tcG9uZW50IH0gZnJvbSAnLi90eXBlcy9qc3gtbm9kZSc7XG5cbi8qKlxuICogUGxhY2UgYXQgdGhlIHJvb3Qgb2YgdGhlIGNvbXBvbmVudCBWaWV3IHRvIGFsbG93IGJpbmRpbmcgb2YgYXR0cmlidXRlcyBvbiB0aGUgSG9zdCBlbGVtZW50LlxuICpcbiAqIGBgYFxuICogPEhvc3Qgc29tZUF0dHI9e3NvbWVFeHByfSBzb21lQXR0clN0YXRpYz1cInZhbHVlXCI+XG4gKiAgIFZpZXcgY29udGVudCBpbXBsZW1lbnRhdGlvbi5cbiAqIDwvSG9zdD5cbiAqIGBgYFxuICpcbiAqIFF3aWsgcmVxdWlyZXMgdGhhdCBjb21wb25lbnRzIGhhdmUgW2RvY3MvSE9TVF9FTEVNRU5UUy50c10gc28gdGhhdCBpdCBpcyBwb3NzaWJsZSB0byBoYXZlXG4gKiBhc3luY2hyb25vdXMgbG9hZGluZyBwb2ludC4gSG9zdCBlbGVtZW50IGlzIG5vdCBvd25lZCBieSB0aGUgY29tcG9uZW50LiBBdCB0aW1lcyBpdCBpc1xuICogZGVzaXJhYmxlIGZvciB0aGUgY29tcG9uZW50IHRvIHJlbmRlciBhZGRpdGlvbmFsIGF0dHJpYnV0ZXMgb24gdGhlIGhvc3QgZWxlbWVudC4gYDxIb3N0PmBcbiAqIHNlcnZlcnMgdGhhdCBwdXJwb3NlLlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgSG9zdDogRnVuY3Rpb25Db21wb25lbnQ8SFRNTEF0dHJpYnV0ZXM8SFRNTEVsZW1lbnQ+PiA9IHsgX19icmFuZF9fOiAnaG9zdCcgfSBhcyBhbnk7XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgU2tpcFJlcmVuZGVyOiBGdW5jdGlvbkNvbXBvbmVudDx7fT4gPSB7IF9fYnJhbmRfXzogJ3NraXAnIH0gYXMgYW55O1xuIl19","export const isPromise = (value) => {\n    return value instanceof Promise;\n};\nexport const safeCall = (call, thenFn, rejectFn) => {\n    try {\n        const promise = call();\n        if (isPromise(promise)) {\n            return promise.then(thenFn, rejectFn);\n        }\n        else {\n            return thenFn(promise);\n        }\n    }\n    catch (e) {\n        return rejectFn(e);\n    }\n};\nexport const then = (promise, thenFn) => {\n    return isPromise(promise) ? promise.then(thenFn) : thenFn(promise);\n};\nexport const promiseAll = (promises) => {\n    const hasPromise = promises.some(isPromise);\n    if (hasPromise) {\n        return Promise.all(promises);\n    }\n    return promises;\n};\nexport const isNotNullable = (v) => {\n    return v != null;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvbWlzZXMuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvdXRpbC9wcm9taXNlcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFJQSxNQUFNLENBQUMsTUFBTSxTQUFTLEdBQUcsQ0FBQyxLQUFVLEVBQXlCLEVBQUU7SUFDN0QsT0FBTyxLQUFLLFlBQVksT0FBTyxDQUFDO0FBQ2xDLENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLFFBQVEsR0FBRyxDQUN0QixJQUE2QixFQUM3QixNQUE4QyxFQUM5QyxRQUE0QixFQUNMLEVBQUU7SUFDekIsSUFBSTtRQUNGLE1BQU0sT0FBTyxHQUFHLElBQUksRUFBRSxDQUFDO1FBQ3ZCLElBQUksU0FBUyxDQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQ3RCLE9BQU8sT0FBTyxDQUFDLElBQUksQ0FBQyxNQUFhLEVBQUUsUUFBUSxDQUFDLENBQUM7U0FDOUM7YUFBTTtZQUNMLE9BQU8sTUFBTSxDQUFDLE9BQWMsQ0FBQyxDQUFDO1NBQy9CO0tBQ0Y7SUFBQyxPQUFPLENBQUMsRUFBRTtRQUNWLE9BQU8sUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO0tBQ3BCO0FBQ0gsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sSUFBSSxHQUFHLENBQ2xCLE9BQTBCLEVBQzFCLE1BQThDLEVBQzNCLEVBQUU7SUFDckIsT0FBTyxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsTUFBYSxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxPQUFjLENBQUMsQ0FBQztBQUNuRixDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxVQUFVLEdBQUcsQ0FDeEIsUUFBVyxFQUNrRCxFQUFFO0lBQy9ELE1BQU0sVUFBVSxHQUFHLFFBQVEsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDNUMsSUFBSSxVQUFVLEVBQUU7UUFDZCxPQUFPLE9BQU8sQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUM7S0FDOUI7SUFDRCxPQUFPLFFBQWUsQ0FBQztBQUN6QixDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxhQUFhLEdBQUcsQ0FBSSxDQUFJLEVBQXVCLEVBQUU7SUFDNUQsT0FBTyxDQUFDLElBQUksSUFBSSxDQUFDO0FBQ25CLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgVmFsdWVPclByb21pc2UgfSBmcm9tICcuL3R5cGVzJztcblxuZXhwb3J0IHR5cGUgUHJvbWlzZVRyZWU8VD4gPSBUIHwgUHJvbWlzZTxUPiB8IFByb21pc2U8VFtdPiB8IEFycmF5PFByb21pc2VUcmVlPFQ+PjtcblxuZXhwb3J0IGNvbnN0IGlzUHJvbWlzZSA9ICh2YWx1ZTogYW55KTogdmFsdWUgaXMgUHJvbWlzZTxhbnk+ID0+IHtcbiAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUHJvbWlzZTtcbn07XG5cbmV4cG9ydCBjb25zdCBzYWZlQ2FsbCA9IDxULCBCLCBDPihcbiAgY2FsbDogKCkgPT4gVmFsdWVPclByb21pc2U8VD4sXG4gIHRoZW5GbjogKGFyZzogQXdhaXRlZDxUPikgPT4gVmFsdWVPclByb21pc2U8Qj4sXG4gIHJlamVjdEZuOiAocmVhc29uOiBhbnkpID0+IENcbik6IFZhbHVlT3JQcm9taXNlPEIgfCBDPiA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgcHJvbWlzZSA9IGNhbGwoKTtcbiAgICBpZiAoaXNQcm9taXNlKHByb21pc2UpKSB7XG4gICAgICByZXR1cm4gcHJvbWlzZS50aGVuKHRoZW5GbiBhcyBhbnksIHJlamVjdEZuKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoZW5Gbihwcm9taXNlIGFzIGFueSk7XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIHJlamVjdEZuKGUpO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgdGhlbiA9IDxULCBCPihcbiAgcHJvbWlzZTogVmFsdWVPclByb21pc2U8VD4sXG4gIHRoZW5GbjogKGFyZzogQXdhaXRlZDxUPikgPT4gVmFsdWVPclByb21pc2U8Qj5cbik6IFZhbHVlT3JQcm9taXNlPEI+ID0+IHtcbiAgcmV0dXJuIGlzUHJvbWlzZShwcm9taXNlKSA/IHByb21pc2UudGhlbih0aGVuRm4gYXMgYW55KSA6IHRoZW5Gbihwcm9taXNlIGFzIGFueSk7XG59O1xuXG5leHBvcnQgY29uc3QgcHJvbWlzZUFsbCA9IDxUIGV4dGVuZHMgcmVhZG9ubHkgdW5rbm93bltdIHwgW10+KFxuICBwcm9taXNlczogVFxuKTogVmFsdWVPclByb21pc2U8eyAtcmVhZG9ubHkgW1AgaW4ga2V5b2YgVF06IEF3YWl0ZWQ8VFtQXT4gfT4gPT4ge1xuICBjb25zdCBoYXNQcm9taXNlID0gcHJvbWlzZXMuc29tZShpc1Byb21pc2UpO1xuICBpZiAoaGFzUHJvbWlzZSkge1xuICAgIHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlcyk7XG4gIH1cbiAgcmV0dXJuIHByb21pc2VzIGFzIGFueTtcbn07XG5cbmV4cG9ydCBjb25zdCBpc05vdE51bGxhYmxlID0gPFQ+KHY6IFQpOiB2IGlzIE5vbk51bGxhYmxlPFQ+ID0+IHtcbiAgcmV0dXJuIHYgIT0gbnVsbDtcbn07XG4iXX0=","import { qDev } from '../../util/qdev';\nimport { Host, SkipRerender } from './host.public';\nimport { EMPTY_ARRAY } from '../../util/flyweight';\nimport { logWarn } from '../../util/log';\nimport { isArray, isFunction, isObject, isString } from '../../util/types';\nimport { isNotNullable, isPromise, promiseAll, then } from '../../util/promises';\nimport { useInvoke } from '../../use/use-core';\nimport { qError, QError_invalidJsxNodeType } from '../../error/error';\n/**\n * @public\n */\nexport const jsx = (type, props, key) => {\n    return new JSXNodeImpl(type, props, key);\n};\nexport const HOST_TYPE = ':host';\nexport const SKIP_RENDER_TYPE = ':skipRender';\nexport class JSXNodeImpl {\n    constructor(type, props, key = null) {\n        this.type = type;\n        this.props = props;\n        this.key = key;\n    }\n}\nexport class ProcessedJSXNodeImpl {\n    constructor($type$, $props$, $children$, $key$) {\n        this.$type$ = $type$;\n        this.$props$ = $props$;\n        this.$children$ = $children$;\n        this.$key$ = $key$;\n        this.$elm$ = null;\n        this.$text$ = '';\n    }\n}\nexport const processNode = (node, invocationContext) => {\n    const key = node.key != null ? String(node.key) : null;\n    let textType = '';\n    if (node.type === Host) {\n        textType = HOST_TYPE;\n    }\n    else if (node.type === SkipRerender) {\n        textType = SKIP_RENDER_TYPE;\n    }\n    else if (isFunction(node.type)) {\n        const res = invocationContext\n            ? useInvoke(invocationContext, () => node.type(node.props, node.key))\n            : node.type(node.props, node.key);\n        return processData(res, invocationContext);\n    }\n    else if (isString(node.type)) {\n        textType = node.type;\n    }\n    else {\n        throw qError(QError_invalidJsxNodeType, node.type);\n    }\n    let children = EMPTY_ARRAY;\n    if (node.props) {\n        const mightPromise = processData(node.props.children, invocationContext);\n        return then(mightPromise, (result) => {\n            if (result !== undefined) {\n                if (isArray(result)) {\n                    children = result;\n                }\n                else {\n                    children = [result];\n                }\n            }\n            return new ProcessedJSXNodeImpl(textType, node.props, children, key);\n        });\n    }\n    return new ProcessedJSXNodeImpl(textType, node.props, children, key);\n};\nexport const processData = (node, invocationContext) => {\n    if (node == null || typeof node === 'boolean') {\n        return undefined;\n    }\n    if (isJSXNode(node)) {\n        return processNode(node, invocationContext);\n    }\n    else if (isPromise(node)) {\n        return node.then((node) => processData(node, invocationContext));\n    }\n    else if (isArray(node)) {\n        const output = promiseAll(node.flatMap((n) => processData(n, invocationContext)));\n        return then(output, (array) => array.flat(100).filter(isNotNullable));\n    }\n    else if (isString(node) || typeof node === 'number') {\n        const newNode = new ProcessedJSXNodeImpl('#text', null, EMPTY_ARRAY, null);\n        newNode.$text$ = String(node);\n        return newNode;\n    }\n    else {\n        logWarn('A unsupported value was passed to the JSX, skipping render. Value:', node);\n        return undefined;\n    }\n};\nexport const isJSXNode = (n) => {\n    if (qDev) {\n        if (n instanceof JSXNodeImpl) {\n            return true;\n        }\n        if (isObject(n) && 'key' in n && 'props' in n && 'type' in n) {\n            logWarn(`Duplicate implementations of \"JSXNode\" found`);\n            return true;\n        }\n        return false;\n    }\n    else {\n        return n instanceof JSXNodeImpl;\n    }\n};\nexport const isProcessedJSXNode = (n) => {\n    if (qDev) {\n        if (n instanceof ProcessedJSXNodeImpl) {\n            return true;\n        }\n        if (isObject(n) && n.constructor.name === ProcessedJSXNodeImpl.name) {\n            throw new Error(`Duplicate implementations of \"ProcessedJSXNodeImpl\" found`);\n        }\n        return false;\n    }\n    else {\n        return n instanceof ProcessedJSXNodeImpl;\n    }\n};\n/**\n * @public\n */\nexport const Fragment = (props) => props.children;\nexport { jsx as jsxs, jsx as jsxDEV };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoianN4LXJ1bnRpbWUuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvcmVuZGVyL2pzeC9qc3gtcnVudGltZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQSxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDdkMsT0FBTyxFQUFFLElBQUksRUFBRSxZQUFZLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDbkQsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBQ25ELE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUN6QyxPQUFPLEVBQUUsT0FBTyxFQUFFLFVBQVUsRUFBRSxRQUFRLEVBQUUsUUFBUSxFQUFrQixNQUFNLGtCQUFrQixDQUFDO0FBQzNGLE9BQU8sRUFBRSxhQUFhLEVBQUUsU0FBUyxFQUFFLFVBQVUsRUFBRSxJQUFJLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUNqRixPQUFPLEVBQWlCLFNBQVMsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBQzlELE9BQU8sRUFBRSxNQUFNLEVBQUUseUJBQXlCLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQztBQUV0RTs7R0FFRztBQUNILE1BQU0sQ0FBQyxNQUFNLEdBQUcsR0FBRyxDQUNqQixJQUFPLEVBQ1AsS0FBWSxFQUNaLEdBQXFCLEVBQ1QsRUFBRTtJQUNkLE9BQU8sSUFBSSxXQUFXLENBQUksSUFBSSxFQUFFLEtBQUssRUFBRSxHQUFHLENBQUMsQ0FBQztBQUM5QyxDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxTQUFTLEdBQUcsT0FBTyxDQUFDO0FBQ2pDLE1BQU0sQ0FBQyxNQUFNLGdCQUFnQixHQUFHLGFBQWEsQ0FBQztBQUU5QyxNQUFNLE9BQU8sV0FBVztJQUN0QixZQUNTLElBQU8sRUFDUCxLQUFpQyxFQUNqQyxNQUE4QixJQUFJO1FBRmxDLFNBQUksR0FBSixJQUFJLENBQUc7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IFByb2Nlc3NlZEpTWE5vZGUgfSBmcm9tICcuL3R5cGVzL2pzeC1ub2RlJztcbmltcG9ydCB0eXBlIHsgUXdpa0pTWCB9IGZyb20gJy4vdHlwZXMvanN4LXF3aWsnO1xuaW1wb3J0IHsgcURldiB9IGZyb20gJy4uLy4uL3V0aWwvcWRldic7XG5pbXBvcnQgeyBIb3N0LCBTa2lwUmVyZW5kZXIgfSBmcm9tICcuL2hvc3QucHVibGljJztcbmltcG9ydCB7IEVNUFRZX0FSUkFZIH0gZnJvbSAnLi4vLi4vdXRpbC9mbHl3ZWlnaHQnO1xuaW1wb3J0IHsgbG9nV2FybiB9IGZyb20gJy4uLy4uL3V0aWwvbG9nJztcbmltcG9ydCB7IGlzQXJyYXksIGlzRnVuY3Rpb24sIGlzT2JqZWN0LCBpc1N0cmluZywgVmFsdWVPclByb21pc2UgfSBmcm9tICcuLi8uLi91dGlsL3R5cGVzJztcbmltcG9ydCB7IGlzTm90TnVsbGFibGUsIGlzUHJvbWlzZSwgcHJvbWlzZUFsbCwgdGhlbiB9IGZyb20gJy4uLy4uL3V0aWwvcHJvbWlzZXMnO1xuaW1wb3J0IHsgSW52b2tlQ29udGV4dCwgdXNlSW52b2tlIH0gZnJvbSAnLi4vLi4vdXNlL3VzZS1jb3JlJztcbmltcG9ydCB7IHFFcnJvciwgUUVycm9yX2ludmFsaWRKc3hOb2RlVHlwZSB9IGZyb20gJy4uLy4uL2Vycm9yL2Vycm9yJztcblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBqc3ggPSA8VCBleHRlbmRzIHN0cmluZyB8IEZ1bmN0aW9uQ29tcG9uZW50PFBST1BTPiwgUFJPUFM+KFxuICB0eXBlOiBULFxuICBwcm9wczogUFJPUFMsXG4gIGtleT86IHN0cmluZyB8IG51bWJlclxuKTogSlNYTm9kZTxUPiA9PiB7XG4gIHJldHVybiBuZXcgSlNYTm9kZUltcGw8VD4odHlwZSwgcHJvcHMsIGtleSk7XG59O1xuXG5leHBvcnQgY29uc3QgSE9TVF9UWVBFID0gJzpob3N0JztcbmV4cG9ydCBjb25zdCBTS0lQX1JFTkRFUl9UWVBFID0gJzpza2lwUmVuZGVyJztcblxuZXhwb3J0IGNsYXNzIEpTWE5vZGVJbXBsPFQ+IGltcGxlbWVudHMgSlNYTm9kZTxUPiB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyB0eXBlOiBULFxuICAgIHB1YmxpYyBwcm9wczogUmVjb3JkPHN0cmluZywgYW55PiB8IG51bGwsXG4gICAgcHVibGljIGtleTogc3RyaW5nIHwgbnVtYmVyIHwgbnVsbCA9IG51bGxcbiAgKSB7fVxufVxuXG5leHBvcnQgY2xhc3MgUHJvY2Vzc2VkSlNYTm9kZUltcGwgaW1wbGVtZW50cyBQcm9jZXNzZWRKU1hOb2RlIHtcbiAgJGVsbSQ6IEVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgJHRleHQkOiBzdHJpbmcgPSAnJztcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgJHR5cGUkOiBzdHJpbmcsXG4gICAgcHVibGljICRwcm9wcyQ6IFJlY29yZDxzdHJpbmcsIGFueT4gfCBudWxsLFxuICAgIHB1YmxpYyAkY2hpbGRyZW4kOiBQcm9jZXNzZWRKU1hOb2RlW10sXG4gICAgcHVibGljICRrZXkkOiBzdHJpbmcgfCBudWxsXG4gICkge31cbn1cblxuZXhwb3J0IGNvbnN0IHByb2Nlc3NOb2RlID0gKFxuICBub2RlOiBKU1hOb2RlLFxuICBpbnZvY2F0aW9uQ29udGV4dD86IEludm9rZUNvbnRleHRcbik6IFZhbHVlT3JQcm9taXNlPFByb2Nlc3NlZEpTWE5vZGUgfCBQcm9jZXNzZWRKU1hOb2RlW10gfCB1bmRlZmluZWQ+ID0+IHtcbiAgY29uc3Qga2V5ID0gbm9kZS5rZXkgIT0gbnVsbCA/IFN0cmluZyhub2RlLmtleSkgOiBudWxsO1xuICBsZXQgdGV4dFR5cGUgPSAnJztcbiAgaWYgKG5vZGUudHlwZSA9PT0gSG9zdCkge1xuICAgIHRleHRUeXBlID0gSE9TVF9UWVBFO1xuICB9IGVsc2UgaWYgKG5vZGUudHlwZSA9PT0gU2tpcFJlcmVuZGVyKSB7XG4gICAgdGV4dFR5cGUgPSBTS0lQX1JFTkRFUl9UWVBFO1xuICB9IGVsc2UgaWYgKGlzRnVuY3Rpb24obm9kZS50eXBlKSkge1xuICAgIGNvbnN0IHJlcyA9IGludm9jYXRpb25Db250ZXh0XG4gICAgICA/IHVzZUludm9rZShpbnZvY2F0aW9uQ29udGV4dCwgKCkgPT4gbm9kZS50eXBlKG5vZGUucHJvcHMsIG5vZGUua2V5KSlcbiAgICAgIDogbm9kZS50eXBlKG5vZGUucHJvcHMsIG5vZGUua2V5KTtcbiAgICByZXR1cm4gcHJvY2Vzc0RhdGEocmVzLCBpbnZvY2F0aW9uQ29udGV4dCk7XG4gIH0gZWxzZSBpZiAoaXNTdHJpbmcobm9kZS50eXBlKSkge1xuICAgIHRleHRUeXBlID0gbm9kZS50eXBlO1xuICB9IGVsc2Uge1xuICAgIHRocm93IHFFcnJvcihRRXJyb3JfaW52YWxpZEpzeE5vZGVUeXBlLCBub2RlLnR5cGUpO1xuICB9XG4gIGxldCBjaGlsZHJlbjogUHJvY2Vzc2VkSlNYTm9kZVtdID0gRU1QVFlfQVJSQVk7XG4gIGlmIChub2RlLnByb3BzKSB7XG4gICAgY29uc3QgbWlnaHRQcm9taXNlID0gcHJvY2Vzc0RhdGEobm9kZS5wcm9wcy5jaGlsZHJlbiwgaW52b2NhdGlvbkNvbnRleHQpO1xuICAgIHJldHVybiB0aGVuKG1pZ2h0UHJvbWlzZSwgKHJlc3VsdCkgPT4ge1xuICAgICAgaWYgKHJlc3VsdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmIChpc0FycmF5KHJlc3VsdCkpIHtcbiAgICAgICAgICBjaGlsZHJlbiA9IHJlc3VsdDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjaGlsZHJlbiA9IFtyZXN1bHRdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IFByb2Nlc3NlZEpTWE5vZGVJbXBsKHRleHRUeXBlLCBub2RlLnByb3BzLCBjaGlsZHJlbiwga2V5KTtcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gbmV3IFByb2Nlc3NlZEpTWE5vZGVJbXBsKHRleHRUeXBlLCBub2RlLnByb3BzLCBjaGlsZHJlbiwga2V5KTtcbn07XG5cbmV4cG9ydCBjb25zdCBwcm9jZXNzRGF0YSA9IChcbiAgbm9kZTogYW55LFxuICBpbnZvY2F0aW9uQ29udGV4dD86IEludm9rZUNvbnRleHRcbik6IFZhbHVlT3JQcm9taXNlPFByb2Nlc3NlZEpTWE5vZGVbXSB8IFByb2Nlc3NlZEpTWE5vZGUgfCB1bmRlZmluZWQ+ID0+IHtcbiAgaWYgKG5vZGUgPT0gbnVsbCB8fCB0eXBlb2Ygbm9kZSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuICBpZiAoaXNKU1hOb2RlKG5vZGUpKSB7XG4gICAgcmV0dXJuIHByb2Nlc3NOb2RlKG5vZGUsIGludm9jYXRpb25Db250ZXh0KTtcbiAgfSBlbHNlIGlmIChpc1Byb21pc2Uobm9kZSkpIHtcbiAgICByZXR1cm4gbm9kZS50aGVuKChub2RlKSA9PiBwcm9jZXNzRGF0YShub2RlLCBpbnZvY2F0aW9uQ29udGV4dCkpO1xuICB9IGVsc2UgaWYgKGlzQXJyYXkobm9kZSkpIHtcbiAgICBjb25zdCBvdXRwdXQgPSBwcm9taXNlQWxsKG5vZGUuZmxhdE1hcCgobikgPT4gcHJvY2Vzc0RhdGEobiwgaW52b2NhdGlvbkNvbnRleHQpKSk7XG4gICAgcmV0dXJuIHRoZW4ob3V0cHV0LCAoYXJyYXkpID0+IGFycmF5LmZsYXQoMTAwKS5maWx0ZXIoaXNOb3ROdWxsYWJsZSkpO1xuICB9IGVsc2UgaWYgKGlzU3RyaW5nKG5vZGUpIHx8IHR5cGVvZiBub2RlID09PSAnbnVtYmVyJykge1xuICAgIGNvbnN0IG5ld05vZGUgPSBuZXcgUHJvY2Vzc2VkSlNYTm9kZUltcGwoJyN0ZXh0JywgbnVsbCwgRU1QVFlfQVJSQVksIG51bGwpO1xuICAgIG5ld05vZGUuJHRleHQkID0gU3RyaW5nKG5vZGUpO1xuICAgIHJldHVybiBuZXdOb2RlO1xuICB9IGVsc2Uge1xuICAgIGxvZ1dhcm4oJ0EgdW5zdXBwb3J0ZWQgdmFsdWUgd2FzIHBhc3NlZCB0byB0aGUgSlNYLCBza2lwcGluZyByZW5kZXIuIFZhbHVlOicsIG5vZGUpO1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBpc0pTWE5vZGUgPSAobjogYW55KTogbiBpcyBKU1hOb2RlPHVua25vd24+ID0+IHtcbiAgaWYgKHFEZXYpIHtcbiAgICBpZiAobiBpbnN0YW5jZW9mIEpTWE5vZGVJbXBsKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKGlzT2JqZWN0KG4pICYmICdrZXknIGluIG4gJiYgJ3Byb3BzJyBpbiBuICYmICd0eXBlJyBpbiBuKSB7XG4gICAgICBsb2dXYXJuKGBEdXBsaWNhdGUgaW1wbGVtZW50YXRpb25zIG9mIFwiSlNYTm9kZVwiIGZvdW5kYCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBuIGluc3RhbmNlb2YgSlNYTm9kZUltcGw7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBpc1Byb2Nlc3NlZEpTWE5vZGUgPSAobjogYW55KTogbiBpcyBQcm9jZXNzZWRKU1hOb2RlID0+IHtcbiAgaWYgKHFEZXYpIHtcbiAgICBpZiAobiBpbnN0YW5jZW9mIFByb2Nlc3NlZEpTWE5vZGVJbXBsKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKGlzT2JqZWN0KG4pICYmIG4uY29uc3RydWN0b3IubmFtZSA9PT0gUHJvY2Vzc2VkSlNYTm9kZUltcGwubmFtZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBEdXBsaWNhdGUgaW1wbGVtZW50YXRpb25zIG9mIFwiUHJvY2Vzc2VkSlNYTm9kZUltcGxcIiBmb3VuZGApO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG4gaW5zdGFuY2VvZiBQcm9jZXNzZWRKU1hOb2RlSW1wbDtcbiAgfVxufTtcblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBGcmFnbWVudDogRnVuY3Rpb25Db21wb25lbnQ8eyBjaGlsZHJlbj86IGFueSB9PiA9IChwcm9wcykgPT4gcHJvcHMuY2hpbGRyZW4gYXMgYW55O1xuXG5leHBvcnQgdHlwZSB7IFF3aWtKU1ggYXMgSlNYIH07XG5cbmV4cG9ydCB7IGpzeCBhcyBqc3hzLCBqc3ggYXMganN4REVWIH07XG4iXX0=","import { getContext } from '../props/props';\nimport { isArray } from '../util/types';\nimport { smartUpdateChildren, updateProperties } from './cursor';\nimport { HOST_TYPE } from './jsx/jsx-runtime';\nexport const visitJsxNode = (ctx, elm, jsxNode, isSvg) => {\n    if (jsxNode === undefined) {\n        return smartUpdateChildren(ctx, elm, [], 'root', isSvg);\n    }\n    if (isArray(jsxNode)) {\n        return smartUpdateChildren(ctx, elm, jsxNode.flat(), 'root', isSvg);\n    }\n    else if (jsxNode.$type$ === HOST_TYPE) {\n        updateProperties(ctx, getContext(elm), jsxNode.$props$, isSvg);\n        return smartUpdateChildren(ctx, elm, jsxNode.$children$ || [], 'root', isSvg);\n    }\n    else {\n        return smartUpdateChildren(ctx, elm, [jsxNode], 'root', isSvg);\n    }\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVuZGVyLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3JlbmRlci9yZW5kZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQzVDLE9BQU8sRUFBRSxPQUFPLEVBQWtCLE1BQU0sZUFBZSxDQUFDO0FBQ3hELE9BQU8sRUFBaUIsbUJBQW1CLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxVQUFVLENBQUM7QUFFaEYsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBRzlDLE1BQU0sQ0FBQyxNQUFNLFlBQVksR0FBRyxDQUMxQixHQUFrQixFQUNsQixHQUFZLEVBQ1osT0FBMEQsRUFDMUQsS0FBYyxFQUNRLEVBQUU7SUFDeEIsSUFBSSxPQUFPLEtBQUssU0FBUyxFQUFFO1FBQ3pCLE9BQU8sbUJBQW1CLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsTUFBTSxFQUFFLEtBQUssQ0FBQyxDQUFDO0tBQ3pEO0lBQ0QsSUFBSSxPQUFPLENBQUMsT0FBTyxDQUFDLEVBQUU7UUFDcEIsT0FBTyxtQkFBbUIsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLE9BQU8sQ0FBQyxJQUFJLEVBQUUsRUFBRSxNQUFNLEVBQUUsS0FBSyxDQUFDLENBQUM7S0FDckU7U0FBTSxJQUFJLE9BQU8sQ0FBQyxNQUFNLEtBQUssU0FBUyxFQUFFO1FBQ3ZDLGdCQUFnQixDQUFDLEdBQUcsRUFBRSxVQUFVLENBQUMsR0FBRyxDQUFDLEVBQUUsT0FBTyxDQUFDLE9BQU8sRUFBRSxLQUFLLENBQUMsQ0FBQztRQUMvRCxPQUFPLG1CQUFtQixDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsT0FBTyxDQUFDLFVBQVUsSUFBSSxFQUFFLEVBQUUsTUFBTSxFQUFFLEtBQUssQ0FBQyxDQUFDO0tBQy9FO1NBQU07UUFDTCxPQUFPLG1CQUFtQixDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLENBQUMsRUFBRSxNQUFNLEVBQUUsS0FBSyxDQUFDLENBQUM7S0FDaEU7QUFDSCxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRDb250ZXh0IH0gZnJvbSAnLi4vcHJvcHMvcHJvcHMnO1xuaW1wb3J0IHsgaXNBcnJheSwgVmFsdWVPclByb21pc2UgfSBmcm9tICcuLi91dGlsL3R5cGVzJztcbmltcG9ydCB7IFJlbmRlckNvbnRleHQsIHNtYXJ0VXBkYXRlQ2hpbGRyZW4sIHVwZGF0ZVByb3BlcnRpZXMgfSBmcm9tICcuL2N1cnNvcic7XG5pbXBvcnQgdHlwZSB7IFByb2Nlc3NlZEpTWE5vZGUgfSBmcm9tICcuL2pzeC90eXBlcy9qc3gtbm9kZSc7XG5pbXBvcnQgeyBIT1NUX1RZUEUgfSBmcm9tICcuL2pzeC9qc3gtcnVudGltZSc7XG5leHBvcnQgdHlwZSBDb21wb25lbnRSZW5kZXJRdWV1ZSA9IFByb21pc2U8SFRNTEVsZW1lbnRbXT5bXTtcblxuZXhwb3J0IGNvbnN0IHZpc2l0SnN4Tm9kZSA9IChcbiAgY3R4OiBSZW5kZXJDb250ZXh0LFxuICBlbG06IEVsZW1lbnQsXG4gIGpzeE5vZGU6IFByb2Nlc3NlZEpTWE5vZGUgfCBQcm9jZXNzZWRKU1hOb2RlW10gfCB1bmRlZmluZWQsXG4gIGlzU3ZnOiBib29sZWFuXG4pOiBWYWx1ZU9yUHJvbWlzZTx2b2lkPiA9PiB7XG4gIGlmIChqc3hOb2RlID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gc21hcnRVcGRhdGVDaGlsZHJlbihjdHgsIGVsbSwgW10sICdyb290JywgaXNTdmcpO1xuICB9XG4gIGlmIChpc0FycmF5KGpzeE5vZGUpKSB7XG4gICAgcmV0dXJuIHNtYXJ0VXBkYXRlQ2hpbGRyZW4oY3R4LCBlbG0sIGpzeE5vZGUuZmxhdCgpLCAncm9vdCcsIGlzU3ZnKTtcbiAgfSBlbHNlIGlmIChqc3hOb2RlLiR0eXBlJCA9PT0gSE9TVF9UWVBFKSB7XG4gICAgdXBkYXRlUHJvcGVydGllcyhjdHgsIGdldENvbnRleHQoZWxtKSwganN4Tm9kZS4kcHJvcHMkLCBpc1N2Zyk7XG4gICAgcmV0dXJuIHNtYXJ0VXBkYXRlQ2hpbGRyZW4oY3R4LCBlbG0sIGpzeE5vZGUuJGNoaWxkcmVuJCB8fCBbXSwgJ3Jvb3QnLCBpc1N2Zyk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHNtYXJ0VXBkYXRlQ2hpbGRyZW4oY3R4LCBlbG0sIFtqc3hOb2RlXSwgJ3Jvb3QnLCBpc1N2Zyk7XG4gIH1cbn07XG4iXX0=","export const hashCode = (text, hash = 0) => {\n    if (text.length === 0)\n        return hash;\n    for (let i = 0; i < text.length; i++) {\n        const chr = text.charCodeAt(i);\n        hash = (hash << 5) - hash + chr;\n        hash |= 0; // Convert to 32bit integer\n    }\n    return Number(Math.abs(hash)).toString(36);\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGFzaF9jb2RlLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3V0aWwvaGFzaF9jb2RlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE1BQU0sQ0FBQyxNQUFNLFFBQVEsR0FBRyxDQUFDLElBQVksRUFBRSxPQUFlLENBQUMsRUFBRSxFQUFFO0lBQ3pELElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxDQUFDO1FBQUUsT0FBTyxJQUFJLENBQUM7SUFDbkMsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7UUFDcEMsTUFBTSxHQUFHLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUMvQixJQUFJLEdBQUcsQ0FBQyxJQUFJLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxHQUFHLEdBQUcsQ0FBQztRQUNoQyxJQUFJLElBQUksQ0FBQyxDQUFDLENBQUMsMkJBQTJCO0tBQ3ZDO0lBQ0QsT0FBTyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQztBQUM3QyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgaGFzaENvZGUgPSAodGV4dDogc3RyaW5nLCBoYXNoOiBudW1iZXIgPSAwKSA9PiB7XG4gIGlmICh0ZXh0Lmxlbmd0aCA9PT0gMCkgcmV0dXJuIGhhc2g7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdGV4dC5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGNociA9IHRleHQuY2hhckNvZGVBdChpKTtcbiAgICBoYXNoID0gKGhhc2ggPDwgNSkgLSBoYXNoICsgY2hyO1xuICAgIGhhc2ggfD0gMDsgLy8gQ29udmVydCB0byAzMmJpdCBpbnRlZ2VyXG4gIH1cbiAgcmV0dXJuIE51bWJlcihNYXRoLmFicyhoYXNoKSkudG9TdHJpbmcoMzYpO1xufTtcbiJdfQ==","import { ComponentStylesPrefixContent, ComponentStylesPrefixHost } from '../util/markers';\nimport { hashCode } from '../util/hash_code';\n/**\n * @public\n */\nexport const styleKey = (qStyles, index) => {\n    return `${hashCode(qStyles.getHash())}-${index}`;\n};\n/**\n * @public\n */\nexport const styleHost = (styleId) => {\n    return ComponentStylesPrefixHost + styleId;\n};\n/**\n * @public\n */\nexport const styleContent = (styleId) => {\n    return ComponentStylesPrefixContent + styleId;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicXJsLXN0eWxlcy5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9jb21wb25lbnQvcXJsLXN0eWxlcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsNEJBQTRCLEVBQUUseUJBQXlCLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUMxRixPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFHN0M7O0dBRUc7QUFDSCxNQUFNLENBQUMsTUFBTSxRQUFRLEdBQUcsQ0FBQyxPQUFvQixFQUFFLEtBQWEsRUFBVSxFQUFFO0lBQ3RFLE9BQU8sR0FBRyxRQUFRLENBQUMsT0FBTyxDQUFDLE9BQU8sRUFBRSxDQUFDLElBQUksS0FBSyxFQUFFLENBQUM7QUFDbkQsQ0FBQyxDQUFDO0FBRUY7O0dBRUc7QUFDSCxNQUFNLENBQUMsTUFBTSxTQUFTLEdBQUcsQ0FBQyxPQUFlLEVBQVUsRUFBRTtJQUNuRCxPQUFPLHlCQUF5QixHQUFHLE9BQU8sQ0FBQztBQUM3QyxDQUFDLENBQUM7QUFFRjs7R0FFRztBQUNILE1BQU0sQ0FBQyxNQUFNLFlBQVksR0FBRyxDQUFDLE9BQWUsRUFBVSxFQUFFO0lBQ3RELE9BQU8sNEJBQTRCLEdBQUcsT0FBTyxDQUFDO0FBQ2hELENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudFN0eWxlc1ByZWZpeENvbnRlbnQsIENvbXBvbmVudFN0eWxlc1ByZWZpeEhvc3QgfSBmcm9tICcuLi91dGlsL21hcmtlcnMnO1xuaW1wb3J0IHsgaGFzaENvZGUgfSBmcm9tICcuLi91dGlsL2hhc2hfY29kZSc7XG5pbXBvcnQgdHlwZSB7IFFSTCB9IGZyb20gJy4uL2ltcG9ydC9xcmwucHVibGljJztcblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBzdHlsZUtleSA9IChxU3R5bGVzOiBRUkw8c3RyaW5nPiwgaW5kZXg6IG51bWJlcik6IHN0cmluZyA9PiB7XG4gIHJldHVybiBgJHtoYXNoQ29kZShxU3R5bGVzLmdldEhhc2goKSl9LSR7aW5kZXh9YDtcbn07XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3Qgc3R5bGVIb3N0ID0gKHN0eWxlSWQ6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gIHJldHVybiBDb21wb25lbnRTdHlsZXNQcmVmaXhIb3N0ICsgc3R5bGVJZDtcbn07XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3Qgc3R5bGVDb250ZW50ID0gKHN0eWxlSWQ6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gIHJldHVybiBDb21wb25lbnRTdHlsZXNQcmVmaXhDb250ZW50ICsgc3R5bGVJZDtcbn07XG4iXX0=","import { assertDefined } from '../assert/assert';\nimport { copyRenderContext } from './cursor';\nimport { visitJsxNode } from './render';\nimport { ComponentScopedStyles, RenderEvent } from '../util/markers';\nimport { promiseAll, safeCall, then } from '../util/promises';\nimport { styleContent, styleHost } from '../component/qrl-styles';\nimport { newInvokeContext } from '../use/use-core';\nimport { processData } from './jsx/jsx-runtime';\nimport { logError } from '../util/log';\nimport { isFunction } from '../util/types';\nimport { directGetAttribute } from './fast-calls';\nexport const renderComponent = (rctx, ctx) => {\n    ctx.$dirty$ = false;\n    const hostElement = ctx.$element$;\n    const onRenderQRL = ctx.$renderQrl$;\n    assertDefined(onRenderQRL, `render: host element to render must has a $renderQrl$:`, ctx);\n    const props = ctx.$props$;\n    assertDefined(props, `render: host element to render must has defined props`, ctx);\n    // Component is not dirty any more\n    rctx.$containerState$.$hostsStaging$.delete(hostElement);\n    const newCtx = copyRenderContext(rctx);\n    // Invoke render hook\n    const invocatinContext = newInvokeContext(rctx.$doc$, hostElement, hostElement, RenderEvent);\n    invocatinContext.$subscriber$ = hostElement;\n    invocatinContext.$renderCtx$ = newCtx;\n    const waitOn = (invocatinContext.$waitOn$ = []);\n    // Clean current subscription before render\n    rctx.$containerState$.$subsManager$.$clearSub$(hostElement);\n    // Resolve render function\n    const onRenderFn = onRenderQRL.$invokeFn$(rctx.$containerEl$, invocatinContext);\n    return safeCall(() => onRenderFn(props), (jsxNode) => {\n        rctx.$hostElements$.add(hostElement);\n        const waitOnPromise = promiseAll(waitOn);\n        return then(waitOnPromise, () => {\n            if (isFunction(jsxNode)) {\n                ctx.$dirty$ = false;\n                jsxNode = jsxNode();\n            }\n            else if (ctx.$dirty$) {\n                return renderComponent(rctx, ctx);\n            }\n            let componentCtx = ctx.$component$;\n            if (!componentCtx) {\n                componentCtx = ctx.$component$ = {\n                    $hostElement$: hostElement,\n                    $slots$: [],\n                    $styleHostClass$: undefined,\n                    $styleClass$: undefined,\n                    $styleId$: undefined,\n                };\n                const scopedStyleId = directGetAttribute(hostElement, ComponentScopedStyles) ?? undefined;\n                if (scopedStyleId) {\n                    componentCtx.$styleId$ = scopedStyleId;\n                    componentCtx.$styleHostClass$ = styleHost(scopedStyleId);\n                    componentCtx.$styleClass$ = styleContent(scopedStyleId);\n                    hostElement.classList.add(componentCtx.$styleHostClass$);\n                }\n            }\n            componentCtx.$slots$ = [];\n            newCtx.$contexts$.push(ctx);\n            newCtx.$currentComponent$ = componentCtx;\n            const invocatinContext = newInvokeContext(rctx.$doc$, hostElement, hostElement);\n            invocatinContext.$subscriber$ = hostElement;\n            invocatinContext.$renderCtx$ = newCtx;\n            const processedJSXNode = processData(jsxNode, invocatinContext);\n            return then(processedJSXNode, (processedJSXNode) => {\n                return visitJsxNode(newCtx, hostElement, processedJSXNode, false);\n            });\n        });\n    }, (err) => {\n        logError(err);\n    });\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVuZGVyLWNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9yZW5kZXIvcmVuZGVyLWNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDakQsT0FBTyxFQUFFLGlCQUFpQixFQUFpQixNQUFNLFVBQVUsQ0FBQztBQUM1RCxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sVUFBVSxDQUFDO0FBQ3hDLE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxXQUFXLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUNyRSxPQUFPLEVBQUUsVUFBVSxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUM5RCxPQUFPLEVBQUUsWUFBWSxFQUFFLFNBQVMsRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBQ2xFLE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQ25ELE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQztBQUNoRCxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sYUFBYSxDQUFDO0FBQ3ZDLE9BQU8sRUFBRSxVQUFVLEVBQWtCLE1BQU0sZUFBZSxDQUFDO0FBRTNELE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLGNBQWMsQ0FBQztBQUdsRCxNQUFNLENBQUMsTUFBTSxlQUFlLEdBQUcsQ0FBQyxJQUFtQixFQUFFLEdBQWEsRUFBd0IsRUFBRTtJQUMxRixHQUFHLENBQUMsT0FBTyxHQUFHLEtBQUssQ0FBQztJQUVwQixNQUFNLFdBQVcsR0FBRyxHQUFHLENBQUMsU0FBUyxDQUFDO0lBQ2xDLE1BQU0sV0FBVyxHQUFHLEdBQUcsQ0FBQyxXQUFZLENBQUM7SUFDckMsYUFBYSxDQUFDLFdBQVcsRUFBRSx3REFBd0QsRUFBRSxHQUFHLENBQUMsQ0FBQztJQUUxRixN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QUFHLFdBQVcsQ0FBQztZQUM1QyxnQkFBZ0IsQ0FBQyxXQUFXLEdBQUcsTUFBTSxDQUFDO1lBQ3RDLE1BQU0sZ0JBQWdCLEdBQUcsV0FBVyxDQUFDLE9BQU8sRUFBRSxnQkFBZ0IsQ0FBQyxDQUFDO1lBQ2hFLE9BQU8sSUFBSSxDQUFDLGdCQUFnQixFQUFFLENBQUMsZ0JBQWdCLEVBQUUsRUFBRTtnQkFDakQsT0FBTyxZQUFZLENBQUMsTUFBTSxFQUFFLFdBQVcsRUFBRSxnQkFBZ0IsRUFBRSxLQUFLLENBQUMsQ0FBQztZQUNwRSxDQUFDLENBQUMsQ0FBQztRQUNMLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxFQUNELENBQUMsR0FBRyxFQUFFLEVBQUU7UUFDTixRQUFRLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDaEIsQ0FBQyxDQUNGLENBQUM7QUFDSixDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhc3NlcnREZWZpbmVkIH0gZnJvbSAnLi4vYXNzZXJ0L2Fzc2VydCc7XG5pbXBvcnQgeyBjb3B5UmVuZGVyQ29udGV4dCwgUmVuZGVyQ29udGV4dCB9IGZyb20gJy4vY3Vyc29yJztcbmltcG9ydCB7IHZpc2l0SnN4Tm9kZSB9IGZyb20gJy4vcmVuZGVyJztcbmltcG9ydCB7IENvbXBvbmVudFNjb3BlZFN0eWxlcywgUmVuZGVyRXZlbnQgfSBmcm9tICcuLi91dGlsL21hcmtlcnMnO1xuaW1wb3J0IHsgcHJvbWlzZUFsbCwgc2FmZUNhbGwsIHRoZW4gfSBmcm9tICcuLi91dGlsL3Byb21pc2VzJztcbmltcG9ydCB7IHN0eWxlQ29udGVudCwgc3R5bGVIb3N0IH0gZnJvbSAnLi4vY29tcG9uZW50L3FybC1zdHlsZXMnO1xuaW1wb3J0IHsgbmV3SW52b2tlQ29udGV4dCB9IGZyb20gJy4uL3VzZS91c2UtY29yZSc7XG5pbXBvcnQgeyBwcm9jZXNzRGF0YSB9IGZyb20gJy4vanN4L2pzeC1ydW50aW1lJztcbmltcG9ydCB7IGxvZ0Vycm9yIH0gZnJvbSAnLi4vdXRpbC9sb2cnO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiwgVmFsdWVPclByb21pc2UgfSBmcm9tICcuLi91dGlsL3R5cGVzJztcbmltcG9ydCB0eXBlIHsgUUNvbnRleHQgfSBmcm9tICcuLi9wcm9wcy9wcm9wcyc7XG5pbXBvcnQgeyBkaXJlY3RHZXRBdHRyaWJ1dGUgfSBmcm9tICcuL2Zhc3QtY2FsbHMnO1xuaW1wb3J0IHR5cGUgeyBKU1hOb2RlIH0gZnJvbSAnLi4vcmVuZGVyL2pzeC90eXBlcy9qc3gtbm9kZSc7XG5cbmV4cG9ydCBjb25zdCByZW5kZXJDb21wb25lbnQgPSAocmN0eDogUmVuZGVyQ29udGV4dCwgY3R4OiBRQ29udGV4dCk6IFZhbHVlT3JQcm9taXNlPHZvaWQ+ID0+IHtcbiAgY3R4LiRkaXJ0eSQgPSBmYWxzZTtcblxuICBjb25zdCBob3N0RWxlbWVudCA9IGN0eC4kZWxlbWVudCQ7XG4gIGNvbnN0IG9uUmVuZGVyUVJMID0gY3R4LiRyZW5kZXJRcmwkITtcbiAgYXNzZXJ0RGVmaW5lZChvblJlbmRlclFSTCwgYHJlbmRlcjogaG9zdCBlbGVtZW50IHRvIHJlbmRlciBtdXN0IGhhcyBhICRyZW5kZXJRcmwkOmAsIGN0eCk7XG5cbiAgY29uc3QgcHJvcHMgPSBjdHguJHByb3BzJDtcbiAgYXNzZXJ0RGVmaW5lZChwcm9wcywgYHJlbmRlcjogaG9zdCBlbGVtZW50IHRvIHJlbmRlciBtdXN0IGhhcyBkZWZpbmVkIHByb3BzYCwgY3R4KTtcblxuICAvLyBDb21wb25lbnQgaXMgbm90IGRpcnR5IGFueSBtb3JlXG4gIHJjdHguJGNvbnRhaW5lclN0YXRlJC4kaG9zdHNTdGFnaW5nJC5kZWxldGUoaG9zdEVsZW1lbnQpO1xuXG4gIGNvbnN0IG5ld0N0eCA9IGNvcHlSZW5kZXJDb250ZXh0KHJjdHgpO1xuXG4gIC8vIEludm9rZSByZW5kZXIgaG9va1xuICBjb25zdCBpbnZvY2F0aW5Db250ZXh0ID0gbmV3SW52b2tlQ29udGV4dChyY3R4LiRkb2MkLCBob3N0RWxlbWVudCwgaG9zdEVsZW1lbnQsIFJlbmRlckV2ZW50KTtcbiAgaW52b2NhdGluQ29udGV4dC4kc3Vic2NyaWJlciQgPSBob3N0RWxlbWVudDtcbiAgaW52b2NhdGluQ29udGV4dC4kcmVuZGVyQ3R4JCA9IG5ld0N0eDtcbiAgY29uc3Qgd2FpdE9uID0gKGludm9jYXRpbkNvbnRleHQuJHdhaXRPbiQgPSBbXSBhcyBhbnlbXSk7XG5cbiAgLy8gQ2xlYW4gY3VycmVudCBzdWJzY3JpcHRpb24gYmVmb3JlIHJlbmRlclxuICByY3R4LiRjb250YWluZXJTdGF0ZSQuJHN1YnNNYW5hZ2VyJC4kY2xlYXJTdWIkKGhvc3RFbGVtZW50KTtcblxuICAvLyBSZXNvbHZlIHJlbmRlciBmdW5jdGlvblxuICBjb25zdCBvblJlbmRlckZuID0gb25SZW5kZXJRUkwuJGludm9rZUZuJChyY3R4LiRjb250YWluZXJFbCQsIGludm9jYXRpbkNvbnRleHQpO1xuXG4gIHJldHVybiBzYWZlQ2FsbChcbiAgICAoKSA9PiBvblJlbmRlckZuKHByb3BzKSBhcyBKU1hOb2RlIHwgRnVuY3Rpb24sXG4gICAgKGpzeE5vZGUpID0+IHtcbiAgICAgIHJjdHguJGhvc3RFbGVtZW50cyQuYWRkKGhvc3RFbGVtZW50KTtcbiAgICAgIGNvbnN0IHdhaXRPblByb21pc2UgPSBwcm9taXNlQWxsKHdhaXRPbik7XG4gICAgICByZXR1cm4gdGhlbih3YWl0T25Qcm9taXNlLCAoKSA9PiB7XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKGpzeE5vZGUpKSB7XG4gICAgICAgICAgY3R4LiRkaXJ0eSQgPSBmYWxzZTtcbiAgICAgICAgICBqc3hOb2RlID0ganN4Tm9kZSgpO1xuICAgICAgICB9IGVsc2UgaWYgKGN0eC4kZGlydHkkKSB7XG4gICAgICAgICAgcmV0dXJuIHJlbmRlckNvbXBvbmVudChyY3R4LCBjdHgpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGNvbXBvbmVudEN0eCA9IGN0eC4kY29tcG9uZW50JDtcbiAgICAgICAgaWYgKCFjb21wb25lbnRDdHgpIHtcbiAgICAgICAgICBjb21wb25lbnRDdHggPSBjdHguJGNvbXBvbmVudCQgPSB7XG4gICAgICAgICAgICAkaG9zdEVsZW1lbnQkOiBob3N0RWxlbWVudCxcbiAgICAgICAgICAgICRzbG90cyQ6IFtdLFxuICAgICAgICAgICAgJHN0eWxlSG9zdENsYXNzJDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgJHN0eWxlQ2xhc3MkOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAkc3R5bGVJZCQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICB9O1xuICAgICAgICAgIGNvbnN0IHNjb3BlZFN0eWxlSWQgPSBkaXJlY3RHZXRBdHRyaWJ1dGUoaG9zdEVsZW1lbnQsIENvbXBvbmVudFNjb3BlZFN0eWxlcykgPz8gdW5kZWZpbmVkO1xuICAgICAgICAgIGlmIChzY29wZWRTdHlsZUlkKSB7XG4gICAgICAgICAgICBjb21wb25lbnRDdHguJHN0eWxlSWQkID0gc2NvcGVkU3R5bGVJZDtcbiAgICAgICAgICAgIGNvbXBvbmVudEN0eC4kc3R5bGVIb3N0Q2xhc3MkID0gc3R5bGVIb3N0KHNjb3BlZFN0eWxlSWQpO1xuICAgICAgICAgICAgY29tcG9uZW50Q3R4LiRzdHlsZUNsYXNzJCA9IHN0eWxlQ29udGVudChzY29wZWRTdHlsZUlkKTtcbiAgICAgICAgICAgIGhvc3RFbGVtZW50LmNsYXNzTGlzdC5hZGQoY29tcG9uZW50Q3R4LiRzdHlsZUhvc3RDbGFzcyQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb21wb25lbnRDdHguJHNsb3RzJCA9IFtdO1xuICAgICAgICBuZXdDdHguJGNvbnRleHRzJC5wdXNoKGN0eCk7XG4gICAgICAgIG5ld0N0eC4kY3VycmVudENvbXBvbmVudCQgPSBjb21wb25lbnRDdHg7XG4gICAgICAgIGNvbnN0IGludm9jYXRpbkNvbnRleHQgPSBuZXdJbnZva2VDb250ZXh0KHJjdHguJGRvYyQsIGhvc3RFbGVtZW50LCBob3N0RWxlbWVudCk7XG4gICAgICAgIGludm9jYXRpbkNvbnRleHQuJHN1YnNjcmliZXIkID0gaG9zdEVsZW1lbnQ7XG4gICAgICAgIGludm9jYXRpbkNvbnRleHQuJHJlbmRlckN0eCQgPSBuZXdDdHg7XG4gICAgICAgIGNvbnN0IHByb2Nlc3NlZEpTWE5vZGUgPSBwcm9jZXNzRGF0YShqc3hOb2RlLCBpbnZvY2F0aW5Db250ZXh0KTtcbiAgICAgICAgcmV0dXJuIHRoZW4ocHJvY2Vzc2VkSlNYTm9kZSwgKHByb2Nlc3NlZEpTWE5vZGUpID0+IHtcbiAgICAgICAgICByZXR1cm4gdmlzaXRKc3hOb2RlKG5ld0N0eCwgaG9zdEVsZW1lbnQsIHByb2Nlc3NlZEpTWE5vZGUsIGZhbHNlKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIChlcnIpID0+IHtcbiAgICAgIGxvZ0Vycm9yKGVycik7XG4gICAgfVxuICApO1xufTtcbiJdfQ==","export const isNode = (value) => {\n    return value && typeof value.nodeType == 'number';\n};\nexport const isDocument = (value) => {\n    return value && value.nodeType == 9;\n};\nexport const isElement = (value) => {\n    return isNode(value) && value.nodeType === 1;\n};\nexport const isText = (value) => {\n    return isNode(value) && value.nodeType === 3;\n};\nexport const isComment = (value) => {\n    return isNode(value) && value.nodeType === 9;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZWxlbWVudC5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS91dGlsL2VsZW1lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTSxDQUFDLE1BQU0sTUFBTSxHQUFHLENBQUMsS0FBVSxFQUFpQixFQUFFO0lBQ2xELE9BQU8sS0FBSyxJQUFJLE9BQU8sS0FBSyxDQUFDLFFBQVEsSUFBSSxRQUFRLENBQUM7QUFDcEQsQ0FBQyxDQUFDO0FBQ0YsTUFBTSxDQUFDLE1BQU0sVUFBVSxHQUFHLENBQUMsS0FBVSxFQUFxQixFQUFFO0lBQzFELE9BQU8sS0FBSyxJQUFJLEtBQUssQ0FBQyxRQUFRLElBQUksQ0FBQyxDQUFDO0FBQ3RDLENBQUMsQ0FBQztBQUNGLE1BQU0sQ0FBQyxNQUFNLFNBQVMsR0FBRyxDQUFDLEtBQVUsRUFBb0IsRUFBRTtJQUN4RCxPQUFPLE1BQU0sQ0FBQyxLQUFLLENBQUMsSUFBSSxLQUFLLENBQUMsUUFBUSxLQUFLLENBQUMsQ0FBQztBQUMvQyxDQUFDLENBQUM7QUFDRixNQUFNLENBQUMsTUFBTSxNQUFNLEdBQUcsQ0FBQyxLQUFVLEVBQWlCLEVBQUU7SUFDbEQsT0FBTyxNQUFNLENBQUMsS0FBSyxDQUFDLElBQUksS0FBSyxDQUFDLFFBQVEsS0FBSyxDQUFDLENBQUM7QUFDL0MsQ0FBQyxDQUFDO0FBQ0YsTUFBTSxDQUFDLE1BQU0sU0FBUyxHQUFHLENBQUMsS0FBVSxFQUFvQixFQUFFO0lBQ3hELE9BQU8sTUFBTSxDQUFDLEtBQUssQ0FBQyxJQUFJLEtBQUssQ0FBQyxRQUFRLEtBQUssQ0FBQyxDQUFDO0FBQy9DLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBpc05vZGUgPSAodmFsdWU6IGFueSk6IHZhbHVlIGlzIE5vZGUgPT4ge1xuICByZXR1cm4gdmFsdWUgJiYgdHlwZW9mIHZhbHVlLm5vZGVUeXBlID09ICdudW1iZXInO1xufTtcbmV4cG9ydCBjb25zdCBpc0RvY3VtZW50ID0gKHZhbHVlOiBhbnkpOiB2YWx1ZSBpcyBEb2N1bWVudCA9PiB7XG4gIHJldHVybiB2YWx1ZSAmJiB2YWx1ZS5ub2RlVHlwZSA9PSA5O1xufTtcbmV4cG9ydCBjb25zdCBpc0VsZW1lbnQgPSAodmFsdWU6IGFueSk6IHZhbHVlIGlzIEVsZW1lbnQgPT4ge1xuICByZXR1cm4gaXNOb2RlKHZhbHVlKSAmJiB2YWx1ZS5ub2RlVHlwZSA9PT0gMTtcbn07XG5leHBvcnQgY29uc3QgaXNUZXh0ID0gKHZhbHVlOiBhbnkpOiB2YWx1ZSBpcyBUZXh0ID0+IHtcbiAgcmV0dXJuIGlzTm9kZSh2YWx1ZSkgJiYgdmFsdWUubm9kZVR5cGUgPT09IDM7XG59O1xuZXhwb3J0IGNvbnN0IGlzQ29tbWVudCA9ICh2YWx1ZTogYW55KTogdmFsdWUgaXMgQ29tbWVudCA9PiB7XG4gIHJldHVybiBpc05vZGUodmFsdWUpICYmIHZhbHVlLm5vZGVUeXBlID09PSA5O1xufTtcbiJdfQ==","import { createProxy, QObjectRecursive, verifySerializable } from '../object/q-object';\nimport { useInvokeContext } from './use-core';\nimport { getContext } from '../props/props';\nimport { isFunction } from '../util/types';\nimport { qDev } from '../util/qdev';\n// <docs markdown=\"../readme.md#useStore\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useStore instead)\n/**\n * Creates an object that Qwik can track across serializations.\n *\n * Use `useStore` to create a state for your application. The returned object is a proxy that has\n * a unique ID. The ID of the object is used in the `QRL`s to refer to the store.\n *\n * ## Example\n *\n * Example showing how `useStore` is used in Counter example to keep track of the count.\n *\n * ```tsx\n * const Stores = component$(() => {\n *   const counter = useCounter(1);\n *\n *   // Reactivity happens even for nested objects and arrays\n *   const userData = useStore({\n *     name: 'Manu',\n *     address: {\n *       address: '',\n *       city: '',\n *     },\n *     orgs: [],\n *   });\n *\n *   // useStore() can also accept a function to calculate the initial value\n *   const state = useStore(() => {\n *     return {\n *       value: expensiveInitialValue(),\n *     };\n *   });\n *\n *   return (\n *     <Host>\n *       <div>Counter: {counter.value}</div>\n *       <Child userData={userData} state={state} />\n *     </Host>\n *   );\n * });\n *\n * function useCounter(step: number) {\n *   // Multiple stores can be created in custom hooks for convenience and composability\n *   const counterStore = useStore({\n *     value: 0,\n *   });\n *   useClientEffect$(() => {\n *     // Only runs in the client\n *     const timer = setInterval(() => {\n *       counterStore.value += step;\n *     }, 500);\n *     return () => {\n *       clearInterval(timer);\n *     };\n *   });\n *   return counterStore;\n * }\n * ```\n *\n * @public\n */\n// </docs>\nexport const useStore = (initialState, opts) => {\n    const { get, set, ctx } = useSequentialScope();\n    if (get != null) {\n        return get;\n    }\n    const containerState = ctx.$renderCtx$.$containerState$;\n    const value = isFunction(initialState) ? initialState() : initialState;\n    const recursive = opts?.recursive ?? false;\n    const flags = recursive ? QObjectRecursive : 0;\n    const newStore = createProxy(value, containerState, flags, undefined);\n    set(newStore);\n    return newStore;\n};\n// <docs markdown=\"../readme.md#useRef\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useRef instead)\n/**\n * It's a very thin wrapper around `useStore()`, including the proper type signature to be passed\n * to the `ref` property in JSX.\n *\n * ```tsx\n * export function useRef<T = Element>(current?: T): Ref<T> {\n *   return useStore({ current });\n * }\n * ```\n *\n * ## Example\n *\n * ```tsx\n * const Cmp = component$(() => {\n *   const input = useRef<HTMLInputElement>();\n *\n *   useClientEffect$((track) => {\n *     const el = track(input, 'current')!;\n *     el.focus();\n *   });\n *\n *   return (\n *     <Host>\n *       <input type=\"text\" ref={input} />\n *     </Host>\n *   );\n * });\n *\n * ```\n *\n * @public\n */\n// </docs>\nexport const useRef = (current) => {\n    return useStore({ current });\n};\n/**\n * @alpha\n */\nexport const useSequentialScope = () => {\n    const ctx = useInvokeContext();\n    const i = ctx.$seq$;\n    const hostElement = ctx.$hostElement$;\n    const elementCtx = getContext(hostElement);\n    ctx.$seq$++;\n    const set = (value) => {\n        if (qDev) {\n            verifySerializable(value);\n        }\n        elementCtx.$seq$[i] = value;\n    };\n    return {\n        get: elementCtx.$seq$[i],\n        set,\n        i,\n        ctx,\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLXN0b3JlLnB1YmxpYy5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS91c2UvdXNlLXN0b3JlLnB1YmxpYy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsV0FBVyxFQUFFLGdCQUFnQixFQUFFLGtCQUFrQixFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFDdkYsT0FBTyxFQUF1QixnQkFBZ0IsRUFBRSxNQUFNLFlBQVksQ0FBQztBQUNuRSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDNUMsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUMzQyxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sY0FBYyxDQUFDO0FBTXBDLDBDQUEwQztBQUMxQyx5Q0FBeUM7QUFDekMsdUNBQXVDO0FBQ3ZDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0dBMERHO0FBQ0gsVUFBVTtBQUNWLE1BQU0sQ0FBQyxNQUFNLFFBQVEsR0FBRyxDQUN0QixZQUFtQyxFQUNuQyxJQUFzQixFQUNmLEVBQUU7SUFDVCxNQUFNLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxrQkFBa0IsRUFBUyxDQUFDO0lBQ3RELElBQUksR0FBRyxJQUFJLElBQUksRUFBRTtRQUNmLE9BQU8sR0FBRyxDQUFDO0tBQ1o7SUFDRCxNQUFNLGNBQWMsR0FBRyxHQUFHLENBQUMsV0FBVyxDQUFDLGdCQUFnQixDQUFDO0lBQ3hELE1BQU0sS0FBSyxHQUFHLFVBQVUsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUUsWUFBeUIsRUFBRSxDQUFDLENBQUMsQ0FBQyxZQUFZLENBQUM7SUFDckYsTUFBTSxTQUFTLEdBQUcsSUFBSSxFQUFFLFNBQVMsSUFBSSxLQUFLLENBQUM7SUFDM0MsTUFBTSxLQUFLLEdBQUcsU0FBUyxDQUFDLENBQUMsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQy9DLE1BQU0sUUFBUSxHQUFHLFdBQVcsQ0FBQyxLQUFLLEVBQUUsY0FBYyxFQUFFLEtBQUssRUFBRSxTQUFTLENBQUMsQ0FBQztJQUN0RSxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDZCxPQUFPLFFBQVEsQ0FBQztBQUNsQixDQUFDLENBQUM7QUFTRix3Q0FBd0M7QUFDeEMseUNBQXlDO0FBQ3pDLHFDQUFxQztBQUNyQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQStCRztBQUNILFVBQVU7QUFDVixNQUFNLENBQUMsTUFBTSxNQUFNLEdBQUcsQ0FBOEIsT0FBVyxFQUFVLEVBQUU7SUFDekUsT0FBTyxRQUFRLENBQUMsRUFBRSxPQUFPLEVBQUUsQ0FBQyxDQUFDO0FBQy9CLENBQUMsQ0FBQztBQVNGOztHQUVHO0FBQ0gsTUFBTSxDQUFDLE1BQU0sa0JBQWtCLEdBQUcsR0FBMEIsRUFBRTtJQUM1RCxNQUFNLEdBQUcsR0FBRyxnQkFBZ0IsRUFBRSxDQUFDO0lBQy9CLE1BQU0sQ0FBQyxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUM7SUFDcEIsTUFBTSxXQUFXLEdBQUcsR0FBRyxDQUFDLGFBQWEsQ0FBQztJQUN0QyxNQUFNLFVBQVUsR0FBRyxVQUFVLENBQUMsV0FBVyxDQUFDLENBQUM7SUFDM0MsR0FBRyxDQUFDLEtBQUssRUFBRSxDQUFDO0lBQ1osTUFBTSxHQUFHLEdBQUcsQ0FBQyxLQUFRLEVBQUUsRUFBRTtRQUN2QixJQUFJLElBQUksRUFBRTtZQUNSLGtCQUFrQixDQUFDLEtBQUssQ0FBQyxDQUFDO1NBQzNCO1FBQ0QsVUFBVSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUM7SUFDOUIsQ0FBQyxDQUFDO0lBQ0YsT0FBTztRQUNMLEdBQUcsRUFBRSxVQUFVLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztRQUN4QixHQUFHO1FBQ0gsQ0FBQztRQUNELEdBQUc7S0FDSixDQUFDO0FBQ0osQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlUHJveHksIFFPYmplY3RSZWN1cnNpdmUsIHZlcmlmeVNlcmlhbGl6YWJsZSB9IGZyb20gJy4uL29iamVjdC9xLW9iamVjdCc7XG5pbXBvcnQgeyBSZW5kZXJJbnZva2VDb250ZXh0LCB1c2VJbnZva2VDb250ZXh0IH0gZnJvbSAnLi91c2UtY29yZSc7XG5pbXBvcnQgeyBnZXRDb250ZXh0IH0gZnJvbSAnLi4vcHJvcHMvcHJvcHMnO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4uL3V0aWwvdHlwZXMnO1xuaW1wb3J0IHsgcURldiB9IGZyb20gJy4uL3V0aWwvcWRldic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlU3RvcmVPcHRpb25zIHtcbiAgcmVjdXJzaXZlPzogYm9vbGVhbjtcbn1cblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi9yZWFkbWUubWQjdXNlU3RvcmVcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjdXNlU3RvcmUgaW5zdGVhZClcbi8qKlxuICogQ3JlYXRlcyBhbiBvYmplY3QgdGhhdCBRd2lrIGNhbiB0cmFjayBhY3Jvc3Mgc2VyaWFsaXphdGlvbnMuXG4gKlxuICogVXNlIGB1c2VTdG9yZWAgdG8gY3JlYXRlIGEgc3RhdGUgZm9yIHlvdXIgYXBwbGljYXRpb24uIFRoZSByZXR1cm5lZCBvYmplY3QgaXMgYSBwcm94eSB0aGF0IGhhc1xuICogYSB1bmlxdWUgSUQuIFRoZSBJRCBvZiB0aGUgb2JqZWN0IGlzIHVzZWQgaW4gdGhlIGBRUkxgcyB0byByZWZlciB0byB0aGUgc3RvcmUuXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIEV4YW1wbGUgc2hvd2luZyBob3cgYHVzZVN0b3JlYCBpcyB1c2VkIGluIENvdW50ZXIgZXhhbXBsZSB0byBrZWVwIHRyYWNrIG9mIHRoZSBjb3VudC5cbiAqXG4gKiBgYGB0c3hcbiAqIGNvbnN0IFN0b3JlcyA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICogICBjb25zdCBjb3VudGVyID0gdXNlQ291bnRlcigxKTtcbiAqXG4gKiAgIC8vIFJlYWN0aXZpdHkgaGFwcGVucyBldmVuIGZvciBuZXN0ZWQgb2JqZWN0cyBhbmQgYXJyYXlzXG4gKiAgIGNvbnN0IHVzZXJEYXRhID0gdXNlU3RvcmUoe1xuICogICAgIG5hbWU6ICdNYW51JyxcbiAqICAgICBhZGRyZXNzOiB7XG4gKiAgICAgICBhZGRyZXNzOiAnJyxcbiAqICAgICAgIGNpdHk6ICcnLFxuICogICAgIH0sXG4gKiAgICAgb3JnczogW10sXG4gKiAgIH0pO1xuICpcbiAqICAgLy8gdXNlU3RvcmUoKSBjYW4gYWxzbyBhY2NlcHQgYSBmdW5jdGlvbiB0byBjYWxjdWxhdGUgdGhlIGluaXRpYWwgdmFsdWVcbiAqICAgY29uc3Qgc3RhdGUgPSB1c2VTdG9yZSgoKSA9PiB7XG4gKiAgICAgcmV0dXJuIHtcbiAqICAgICAgIHZhbHVlOiBleHBlbnNpdmVJbml0aWFsVmFsdWUoKSxcbiAqICAgICB9O1xuICogICB9KTtcbiAqXG4gKiAgIHJldHVybiAoXG4gKiAgICAgPEhvc3Q+XG4gKiAgICAgICA8ZGl2PkNvdW50ZXI6IHtjb3VudGVyLnZhbHVlfTwvZGl2PlxuICogICAgICAgPENoaWxkIHVzZXJEYXRhPXt1c2VyRGF0YX0gc3RhdGU9e3N0YXRlfSAvPlxuICogICAgIDwvSG9zdD5cbiAqICAgKTtcbiAqIH0pO1xuICpcbiAqIGZ1bmN0aW9uIHVzZUNvdW50ZXIoc3RlcDogbnVtYmVyKSB7XG4gKiAgIC8vIE11bHRpcGxlIHN0b3JlcyBjYW4gYmUgY3JlYXRlZCBpbiBjdXN0b20gaG9va3MgZm9yIGNvbnZlbmllbmNlIGFuZCBjb21wb3NhYmlsaXR5XG4gKiAgIGNvbnN0IGNvdW50ZXJTdG9yZSA9IHVzZVN0b3JlKHtcbiAqICAgICB2YWx1ZTogMCxcbiAqICAgfSk7XG4gKiAgIHVzZUNsaWVudEVmZmVjdCQoKCkgPT4ge1xuICogICAgIC8vIE9ubHkgcnVucyBpbiB0aGUgY2xpZW50XG4gKiAgICAgY29uc3QgdGltZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gKiAgICAgICBjb3VudGVyU3RvcmUudmFsdWUgKz0gc3RlcDtcbiAqICAgICB9LCA1MDApO1xuICogICAgIHJldHVybiAoKSA9PiB7XG4gKiAgICAgICBjbGVhckludGVydmFsKHRpbWVyKTtcbiAqICAgICB9O1xuICogICB9KTtcbiAqICAgcmV0dXJuIGNvdW50ZXJTdG9yZTtcbiAqIH1cbiAqIGBgYFxuICpcbiAqIEBwdWJsaWNcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGNvbnN0IHVzZVN0b3JlID0gPFNUQVRFIGV4dGVuZHMgb2JqZWN0PihcbiAgaW5pdGlhbFN0YXRlOiBTVEFURSB8ICgoKSA9PiBTVEFURSksXG4gIG9wdHM/OiBVc2VTdG9yZU9wdGlvbnNcbik6IFNUQVRFID0+IHtcbiAgY29uc3QgeyBnZXQsIHNldCwgY3R4IH0gPSB1c2VTZXF1ZW50aWFsU2NvcGU8U1RBVEU+KCk7XG4gIGlmIChnZXQgIT0gbnVsbCkge1xuICAgIHJldHVybiBnZXQ7XG4gIH1cbiAgY29uc3QgY29udGFpbmVyU3RhdGUgPSBjdHguJHJlbmRlckN0eCQuJGNvbnRhaW5lclN0YXRlJDtcbiAgY29uc3QgdmFsdWUgPSBpc0Z1bmN0aW9uKGluaXRpYWxTdGF0ZSkgPyAoaW5pdGlhbFN0YXRlIGFzIEZ1bmN0aW9uKSgpIDogaW5pdGlhbFN0YXRlO1xuICBjb25zdCByZWN1cnNpdmUgPSBvcHRzPy5yZWN1cnNpdmUgPz8gZmFsc2U7XG4gIGNvbnN0IGZsYWdzID0gcmVjdXJzaXZlID8gUU9iamVjdFJlY3Vyc2l2ZSA6IDA7XG4gIGNvbnN0IG5ld1N0b3JlID0gY3JlYXRlUHJveHkodmFsdWUsIGNvbnRhaW5lclN0YXRlLCBmbGFncywgdW5kZWZpbmVkKTtcbiAgc2V0KG5ld1N0b3JlKTtcbiAgcmV0dXJuIG5ld1N0b3JlO1xufTtcblxuLyoqXG4gKiBAYWxwaGFcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZWY8VD4ge1xuICBjdXJyZW50OiBUIHwgdW5kZWZpbmVkO1xufVxuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4uL3JlYWRtZS5tZCN1c2VSZWZcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjdXNlUmVmIGluc3RlYWQpXG4vKipcbiAqIEl0J3MgYSB2ZXJ5IHRoaW4gd3JhcHBlciBhcm91bmQgYHVzZVN0b3JlKClgLCBpbmNsdWRpbmcgdGhlIHByb3BlciB0eXBlIHNpZ25hdHVyZSB0byBiZSBwYXNzZWRcbiAqIHRvIHRoZSBgcmVmYCBwcm9wZXJ0eSBpbiBKU1guXG4gKlxuICogYGBgdHN4XG4gKiBleHBvcnQgZnVuY3Rpb24gdXNlUmVmPFQgPSBFbGVtZW50PihjdXJyZW50PzogVCk6IFJlZjxUPiB7XG4gKiAgIHJldHVybiB1c2VTdG9yZSh7IGN1cnJlbnQgfSk7XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogYGBgdHN4XG4gKiBjb25zdCBDbXAgPSBjb21wb25lbnQkKCgpID0+IHtcbiAqICAgY29uc3QgaW5wdXQgPSB1c2VSZWY8SFRNTElucHV0RWxlbWVudD4oKTtcbiAqXG4gKiAgIHVzZUNsaWVudEVmZmVjdCQoKHRyYWNrKSA9PiB7XG4gKiAgICAgY29uc3QgZWwgPSB0cmFjayhpbnB1dCwgJ2N1cnJlbnQnKSE7XG4gKiAgICAgZWwuZm9jdXMoKTtcbiAqICAgfSk7XG4gKlxuICogICByZXR1cm4gKFxuICogICAgIDxIb3N0PlxuICogICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgcmVmPXtpbnB1dH0gLz5cbiAqICAgICA8L0hvc3Q+XG4gKiAgICk7XG4gKiB9KTtcbiAqXG4gKiBgYGBcbiAqXG4gKiBAcHVibGljXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBjb25zdCB1c2VSZWYgPSA8VCBleHRlbmRzIEVsZW1lbnQgPSBFbGVtZW50PihjdXJyZW50PzogVCk6IFJlZjxUPiA9PiB7XG4gIHJldHVybiB1c2VTdG9yZSh7IGN1cnJlbnQgfSk7XG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIFNlcXVlbnRpYWxTY29wZTxUPiB7XG4gIHJlYWRvbmx5IGdldDogVCB8IHVuZGVmaW5lZDtcbiAgcmVhZG9ubHkgc2V0OiAodjogVCkgPT4gdm9pZDtcbiAgcmVhZG9ubHkgaTogbnVtYmVyO1xuICByZWFkb25seSBjdHg6IFJlbmRlckludm9rZUNvbnRleHQ7XG59XG5cbi8qKlxuICogQGFscGhhXG4gKi9cbmV4cG9ydCBjb25zdCB1c2VTZXF1ZW50aWFsU2NvcGUgPSA8VD4oKTogU2VxdWVudGlhbFNjb3BlPFQ+ID0+IHtcbiAgY29uc3QgY3R4ID0gdXNlSW52b2tlQ29udGV4dCgpO1xuICBjb25zdCBpID0gY3R4LiRzZXEkO1xuICBjb25zdCBob3N0RWxlbWVudCA9IGN0eC4kaG9zdEVsZW1lbnQkO1xuICBjb25zdCBlbGVtZW50Q3R4ID0gZ2V0Q29udGV4dChob3N0RWxlbWVudCk7XG4gIGN0eC4kc2VxJCsrO1xuICBjb25zdCBzZXQgPSAodmFsdWU6IFQpID0+IHtcbiAgICBpZiAocURldikge1xuICAgICAgdmVyaWZ5U2VyaWFsaXphYmxlKHZhbHVlKTtcbiAgICB9XG4gICAgZWxlbWVudEN0eC4kc2VxJFtpXSA9IHZhbHVlO1xuICB9O1xuICByZXR1cm4ge1xuICAgIGdldDogZWxlbWVudEN0eC4kc2VxJFtpXSxcbiAgICBzZXQsXG4gICAgaSxcbiAgICBjdHgsXG4gIH07XG59O1xuIl19","import { $ } from '../import/qrl.public';\n// <docs markdown=\"../readme.md#implicit$FirstArg\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#implicit$FirstArg instead)\n/**\n * Create a `____$(...)` convenience method from `___(...)`.\n *\n * It is very common for functions to take a lazy-loadable resource as a first argument. For this\n * reason, the Qwik Optimizer automatically extracts the first argument from any function which\n * ends in `$`.\n *\n * This means that `foo$(arg0)` and `foo($(arg0))` are equivalent with respect to Qwik Optimizer.\n * The former is just a shorthand for the latter.\n *\n * For example, these function calls are equivalent:\n *\n * - `component$(() => {...})` is same as `onRender($(() => {...}))`\n *\n * ```tsx\n * export function myApi(callback: QRL<() => void>): void {\n *   // ...\n * }\n *\n * export const myApi$ = implicit$FirstArg(myApi);\n * // type of myApi$: (callback: () => void): void\n *\n * // can be used as:\n * myApi$(() => console.log('callback'));\n *\n * // will be transpiled to:\n * // FILE: <current file>\n * myApi(qrl('./chunk-abc.js', 'callback'));\n *\n * // FILE: chunk-abc.js\n * export const callback = () => console.log('callback');\n * ```\n *\n * @param fn - a function that should have its first argument automatically `$`.\n * @alpha\n */\n// </docs>\nexport const implicit$FirstArg = (fn) => {\n    return function (first, ...rest) {\n        return fn.call(null, $(first), ...rest);\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW1wbGljaXRfZG9sbGFyLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3V0aWwvaW1wbGljaXRfZG9sbGFyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxDQUFDLEVBQU8sTUFBTSxzQkFBc0IsQ0FBQztBQUU5QyxtREFBbUQ7QUFDbkQseUNBQXlDO0FBQ3pDLGdEQUFnRDtBQUNoRDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7R0FtQ0c7QUFDSCxVQUFVO0FBQ1YsTUFBTSxDQUFDLE1BQU0saUJBQWlCLEdBQUcsQ0FDL0IsRUFBNkMsRUFDTCxFQUFFO0lBQzFDLE9BQU8sVUFBVSxLQUFZLEVBQUUsR0FBRyxJQUFVO1FBQzFDLE9BQU8sRUFBRSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxFQUFFLEdBQUcsSUFBSSxDQUFDLENBQUM7SUFDMUMsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgJCwgUVJMIH0gZnJvbSAnLi4vaW1wb3J0L3FybC5wdWJsaWMnO1xuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4uL3JlYWRtZS5tZCNpbXBsaWNpdCRGaXJzdEFyZ1wiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IC4uL3JlYWRtZS5tZCNpbXBsaWNpdCRGaXJzdEFyZyBpbnN0ZWFkKVxuLyoqXG4gKiBDcmVhdGUgYSBgX19fXyQoLi4uKWAgY29udmVuaWVuY2UgbWV0aG9kIGZyb20gYF9fXyguLi4pYC5cbiAqXG4gKiBJdCBpcyB2ZXJ5IGNvbW1vbiBmb3IgZnVuY3Rpb25zIHRvIHRha2UgYSBsYXp5LWxvYWRhYmxlIHJlc291cmNlIGFzIGEgZmlyc3QgYXJndW1lbnQuIEZvciB0aGlzXG4gKiByZWFzb24sIHRoZSBRd2lrIE9wdGltaXplciBhdXRvbWF0aWNhbGx5IGV4dHJhY3RzIHRoZSBmaXJzdCBhcmd1bWVudCBmcm9tIGFueSBmdW5jdGlvbiB3aGljaFxuICogZW5kcyBpbiBgJGAuXG4gKlxuICogVGhpcyBtZWFucyB0aGF0IGBmb28kKGFyZzApYCBhbmQgYGZvbygkKGFyZzApKWAgYXJlIGVxdWl2YWxlbnQgd2l0aCByZXNwZWN0IHRvIFF3aWsgT3B0aW1pemVyLlxuICogVGhlIGZvcm1lciBpcyBqdXN0IGEgc2hvcnRoYW5kIGZvciB0aGUgbGF0dGVyLlxuICpcbiAqIEZvciBleGFtcGxlLCB0aGVzZSBmdW5jdGlvbiBjYWxscyBhcmUgZXF1aXZhbGVudDpcbiAqXG4gKiAtIGBjb21wb25lbnQkKCgpID0+IHsuLi59KWAgaXMgc2FtZSBhcyBgb25SZW5kZXIoJCgoKSA9PiB7Li4ufSkpYFxuICpcbiAqIGBgYHRzeFxuICogZXhwb3J0IGZ1bmN0aW9uIG15QXBpKGNhbGxiYWNrOiBRUkw8KCkgPT4gdm9pZD4pOiB2b2lkIHtcbiAqICAgLy8gLi4uXG4gKiB9XG4gKlxuICogZXhwb3J0IGNvbnN0IG15QXBpJCA9IGltcGxpY2l0JEZpcnN0QXJnKG15QXBpKTtcbiAqIC8vIHR5cGUgb2YgbXlBcGkkOiAoY2FsbGJhY2s6ICgpID0+IHZvaWQpOiB2b2lkXG4gKlxuICogLy8gY2FuIGJlIHVzZWQgYXM6XG4gKiBteUFwaSQoKCkgPT4gY29uc29sZS5sb2coJ2NhbGxiYWNrJykpO1xuICpcbiAqIC8vIHdpbGwgYmUgdHJhbnNwaWxlZCB0bzpcbiAqIC8vIEZJTEU6IDxjdXJyZW50IGZpbGU+XG4gKiBteUFwaShxcmwoJy4vY2h1bmstYWJjLmpzJywgJ2NhbGxiYWNrJykpO1xuICpcbiAqIC8vIEZJTEU6IGNodW5rLWFiYy5qc1xuICogZXhwb3J0IGNvbnN0IGNhbGxiYWNrID0gKCkgPT4gY29uc29sZS5sb2coJ2NhbGxiYWNrJyk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gZm4gLSBhIGZ1bmN0aW9uIHRoYXQgc2hvdWxkIGhhdmUgaXRzIGZpcnN0IGFyZ3VtZW50IGF1dG9tYXRpY2FsbHkgYCRgLlxuICogQGFscGhhXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBjb25zdCBpbXBsaWNpdCRGaXJzdEFyZyA9IDxGSVJTVCwgUkVTVCBleHRlbmRzIGFueVtdLCBSRVQ+KFxuICBmbjogKGZpcnN0OiBRUkw8RklSU1Q+LCAuLi5yZXN0OiBSRVNUKSA9PiBSRVRcbik6ICgoZmlyc3Q6IEZJUlNULCAuLi5yZXN0OiBSRVNUKSA9PiBSRVQpID0+IHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChmaXJzdDogRklSU1QsIC4uLnJlc3Q6IFJFU1QpOiBSRVQge1xuICAgIHJldHVybiBmbi5jYWxsKG51bGwsICQoZmlyc3QpLCAuLi5yZXN0KTtcbiAgfTtcbn07XG4iXX0=","import { assertQrl } from '../import/qrl-class';\nimport { getContext } from '../props/props';\nimport { qPropWriteQRL } from '../props/props-on';\nimport { implicit$FirstArg } from '../util/implicit_dollar';\nimport { useInvokeContext } from './use-core';\nimport { useSequentialScope } from './use-store.public';\nimport { WatchFlagsIsCleanup } from './use-watch';\n// <docs markdown=\"../readme.md#useCleanup\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useCleanup instead)\n/**\n * A lazy-loadable reference to a component's cleanup hook.\n *\n * Invoked when the component is destroyed (removed from render tree), or paused as part of the\n * SSR serialization.\n *\n * It can be used to release resources, abort network requests, stop timers...\n *\n * ```tsx\n * const Cmp = component$(() => {\n *   useCleanup$(() => {\n *     // Executed after SSR (pause) or when the component gets removed from the DOM.\n *     // Can be used to release resouces, abort network requets, stop timers...\n *     console.log('component is destroyed');\n *   });\n *   return <div>Hello world</div>;\n * });\n * ```\n *\n * @alpha\n */\n// </docs>\nexport const useCleanupQrl = (unmountFn) => {\n    const { get, set, i, ctx } = useSequentialScope();\n    if (!get) {\n        assertQrl(unmountFn);\n        const el = ctx.$hostElement$;\n        const watch = {\n            qrl: unmountFn,\n            el,\n            f: WatchFlagsIsCleanup,\n            i,\n        };\n        set(true);\n        getContext(el).$watches$.push(watch);\n    }\n};\n// <docs markdown=\"../readme.md#useCleanup\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useCleanup instead)\n/**\n * A lazy-loadable reference to a component's cleanup hook.\n *\n * Invoked when the component is destroyed (removed from render tree), or paused as part of the\n * SSR serialization.\n *\n * It can be used to release resources, abort network requests, stop timers...\n *\n * ```tsx\n * const Cmp = component$(() => {\n *   useCleanup$(() => {\n *     // Executed after SSR (pause) or when the component gets removed from the DOM.\n *     // Can be used to release resouces, abort network requets, stop timers...\n *     console.log('component is destroyed');\n *   });\n *   return <div>Hello world</div>;\n * });\n * ```\n *\n * @alpha\n */\n// </docs>\nexport const useCleanup$ = /*#__PURE__*/ implicit$FirstArg(useCleanupQrl);\n// <docs markdown=\"../readme.md#useResume\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useResume instead)\n/**\n * A lazy-loadable reference to a component's on resume hook.\n *\n * The hook is eagerly invoked when the application resumes on the client. Because it is called\n * eagerly, this allows the component to resume even if no user interaction has taken place.\n *\n * Only called in the client.\n * Only called once.\n *\n * ```tsx\n * const Cmp = component$(() => {\n *   useResume$(() => {\n *     // Eagerly invoked when the application resumes on the client\n *     console.log('called once in client');\n *   });\n *   return <div>Hello world</div>;\n * });\n * ```\n *\n * @see `useVisible`, `useClientEffect`\n *\n * @alpha\n */\n// </docs>\nexport const useResumeQrl = (resumeFn, options = {}) => useOn(options.run == 'load' ? 'qinit' : 'qvisible', resumeFn);\n// <docs markdown=\"../readme.md#useResume\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useResume instead)\n/**\n * A lazy-loadable reference to a component's on resume hook.\n *\n * The hook is eagerly invoked when the application resumes on the client. Because it is called\n * eagerly, this allows the component to resume even if no user interaction has taken place.\n *\n * Only called in the client.\n * Only called once.\n *\n * ```tsx\n * const Cmp = component$(() => {\n *   useResume$(() => {\n *     // Eagerly invoked when the application resumes on the client\n *     console.log('called once in client');\n *   });\n *   return <div>Hello world</div>;\n * });\n * ```\n *\n * @see `useVisible`, `useClientEffect`\n *\n * @alpha\n */\n// </docs>\nexport const useResume$ = /*#__PURE__*/ implicit$FirstArg(useResumeQrl);\n// <docs markdown=\"../readme.md#useVisible\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useVisible instead)\n/**\n * A lazy-loadable reference to a component's on the visible hook.\n *\n * The hook is lazily invoked when the component becomes visible in the browser viewport.\n *\n * Only called in the client.\n * Only called once.\n *\n * @see `useResume`, `useClientEffect`\n *\n * ```tsx\n * const Cmp = component$(() => {\n *   const store = useStore({\n *     isVisible: false,\n *   });\n *   useVisible$(() => {\n *     // Invoked once when the component is visible in the browser's viewport\n *     console.log('called once in client when visible');\n *     store.isVisible = true;\n *   });\n *   return <div>{store.isVisible}</div>;\n * });\n * ```\n *\n * @alpha\n */\n// </docs>\nexport const useVisibleQrl = (resumeFn) => useOn('qvisible', resumeFn);\n// <docs markdown=\"../readme.md#useVisible\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useVisible instead)\n/**\n * A lazy-loadable reference to a component's on the visible hook.\n *\n * The hook is lazily invoked when the component becomes visible in the browser viewport.\n *\n * Only called in the client.\n * Only called once.\n *\n * @see `useResume`, `useClientEffect`\n *\n * ```tsx\n * const Cmp = component$(() => {\n *   const store = useStore({\n *     isVisible: false,\n *   });\n *   useVisible$(() => {\n *     // Invoked once when the component is visible in the browser's viewport\n *     console.log('called once in client when visible');\n *     store.isVisible = true;\n *   });\n *   return <div>{store.isVisible}</div>;\n * });\n * ```\n *\n * @alpha\n */\n// </docs>\nexport const useVisible$ = /*#__PURE__*/ implicit$FirstArg(useVisibleQrl);\n// <docs markdown=\"../readme.md#useOn\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useOn instead)\n/**\n * Register a listener on the current component's host element.\n *\n * Used to programmatically add event listeners. Useful from custom `use*` methods, which do not\n * have access to the JSX. Otherwise, it's adding a JSX listener in the `<Host>` is a better\n * idea.\n *\n * @see `useOn`, `useOnWindow`, `useOnDocument`.\n *\n * @alpha\n */\n// </docs>\nexport const useOn = (event, eventQrl) => _useOn(`on:${event}`, eventQrl);\n// <docs markdown=\"../readme.md#useOnDocument\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useOnDocument instead)\n/**\n * Register a listener on `document`.\n *\n * Used to programmatically add event listeners. Useful from custom `use*` methods, which do not\n * have access to the JSX.\n *\n * @see `useOn`, `useOnWindow`, `useOnDocument`.\n *\n * ```tsx\n * function useScroll() {\n *   useOnDocument(\n *     'scroll',\n *     $((event) => {\n *       console.log('body scrolled', event);\n *     })\n *   );\n * }\n *\n * const Cmp = component$(() => {\n *   useScroll();\n *   return <Host>Profit!</Host>;\n * });\n * ```\n *\n * @alpha\n */\n// </docs>\nexport const useOnDocument = (event, eventQrl) => _useOn(`on-window:${event}`, eventQrl);\n// <docs markdown=\"../readme.md#useOnWindow\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useOnWindow instead)\n/**\n * Register a listener on `window`.\n *\n * Used to programmatically add event listeners. Useful from custom `use*` methods, which do not\n * have access to the JSX.\n *\n * @see `useOn`, `useOnWindow`, `useOnDocument`.\n *\n * ```tsx\n * function useAnalytics() {\n *   useOnWindow(\n *     'popstate',\n *     $((event) => {\n *       console.log('navigation happened', event);\n *       // report to analytics\n *     })\n *   );\n * }\n *\n * const Cmp = component$(() => {\n *   useAnalytics();\n *   return <Host>Profit!</Host>;\n * });\n * ```\n *\n * @alpha\n */\n// </docs>\nexport const useOnWindow = (event, eventQrl) => _useOn(`on-window:${event}`, eventQrl);\nconst _useOn = (eventName, eventQrl) => {\n    const invokeCtx = useInvokeContext();\n    const ctx = getContext(invokeCtx.$hostElement$);\n    assertQrl(eventQrl);\n    qPropWriteQRL(invokeCtx.$renderCtx$, ctx, eventName, eventQrl);\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLW9uLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3VzZS91c2Utb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBRWhELE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUM1QyxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFDbEQsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0seUJBQXlCLENBQUM7QUFDNUQsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sWUFBWSxDQUFDO0FBQzlDLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBQ3hELE9BQU8sRUFBbUIsbUJBQW1CLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFFbkUsNENBQTRDO0FBQzVDLHlDQUF5QztBQUN6Qyx5Q0FBeUM7QUFDekM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0dBb0JHO0FBQ0gsVUFBVTtBQUNWLE1BQU0sQ0FBQyxNQUFNLGFBQWEsR0FBRyxDQUFDLFNBQTBCLEVBQVEsRUFBRTtJQUNoRSxNQUFNLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLEdBQUcsa0JBQWtCLEVBQVcsQ0FBQztJQUMzRCxJQUFJLENBQUMsR0FBRyxFQUFFO1FBQ1IsU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ3JCLE1BQU0sRUFBRSxHQUFHLEdBQUcsQ0FBQyxhQUFhLENBQUM7UUFDN0IsTUFBTSxLQUFLLEdBQW9CO1lBQzdCLEdBQUcsRUFBRSxTQUFTO1lBQ2QsRUFBRTtZQUNGLENBQUMsRUFBRSxtQkFBbUI7WUFDdEIsQ0FBQztTQUNGLENBQUM7UUFDRixHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDVixVQUFVLENBQUMsRUFBRSxDQUFDLENBQUMsU0FBUyxDQUFD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IH0gZnJvbSAnLi4vaW1wb3J0L3FybC1jbGFzcyc7XG5pbXBvcnQgdHlwZSB7IFFSTCB9IGZyb20gJy4uL2ltcG9ydC9xcmwucHVibGljJztcbmltcG9ydCB7IGdldENvbnRleHQgfSBmcm9tICcuLi9wcm9wcy9wcm9wcyc7XG5pbXBvcnQgeyBxUHJvcFdyaXRlUVJMIH0gZnJvbSAnLi4vcHJvcHMvcHJvcHMtb24nO1xuaW1wb3J0IHsgaW1wbGljaXQkRmlyc3RBcmcgfSBmcm9tICcuLi91dGlsL2ltcGxpY2l0X2RvbGxhcic7XG5pbXBvcnQgeyB1c2VJbnZva2VDb250ZXh0IH0gZnJvbSAnLi91c2UtY29yZSc7XG5pbXBvcnQgeyB1c2VTZXF1ZW50aWFsU2NvcGUgfSBmcm9tICcuL3VzZS1zdG9yZS5wdWJsaWMnO1xuaW1wb3J0IHsgV2F0Y2hEZXNjcmlwdG9yLCBXYXRjaEZsYWdzSXNDbGVhbnVwIH0gZnJvbSAnLi91c2Utd2F0Y2gnO1xuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4uL3JlYWRtZS5tZCN1c2VDbGVhbnVwXCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi4vcmVhZG1lLm1kI3VzZUNsZWFudXAgaW5zdGVhZClcbi8qKlxuICogQSBsYXp5LWxvYWRhYmxlIHJlZmVyZW5jZSB0byBhIGNvbXBvbmVudCdzIGNsZWFudXAgaG9vay5cbiAqXG4gKiBJbnZva2VkIHdoZW4gdGhlIGNvbXBvbmVudCBpcyBkZXN0cm95ZWQgKHJlbW92ZWQgZnJvbSByZW5kZXIgdHJlZSksIG9yIHBhdXNlZCBhcyBwYXJ0IG9mIHRoZVxuICogU1NSIHNlcmlhbGl6YXRpb24uXG4gKlxuICogSXQgY2FuIGJlIHVzZWQgdG8gcmVsZWFzZSByZXNvdXJjZXMsIGFib3J0IG5ldHdvcmsgcmVxdWVzdHMsIHN0b3AgdGltZXJzLi4uXG4gKlxuICogYGBgdHN4XG4gKiBjb25zdCBDbXAgPSBjb21wb25lbnQkKCgpID0+IHtcbiAqICAgdXNlQ2xlYW51cCQoKCkgPT4ge1xuICogICAgIC8vIEV4ZWN1dGVkIGFmdGVyIFNTUiAocGF1c2UpIG9yIHdoZW4gdGhlIGNvbXBvbmVudCBnZXRzIHJlbW92ZWQgZnJvbSB0aGUgRE9NLlxuICogICAgIC8vIENhbiBiZSB1c2VkIHRvIHJlbGVhc2UgcmVzb3VjZXMsIGFib3J0IG5ldHdvcmsgcmVxdWV0cywgc3RvcCB0aW1lcnMuLi5cbiAqICAgICBjb25zb2xlLmxvZygnY29tcG9uZW50IGlzIGRlc3Ryb3llZCcpO1xuICogICB9KTtcbiAqICAgcmV0dXJuIDxkaXY+SGVsbG8gd29ybGQ8L2Rpdj47XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBhbHBoYVxuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgY29uc3QgdXNlQ2xlYW51cFFybCA9ICh1bm1vdW50Rm46IFFSTDwoKSA9PiB2b2lkPik6IHZvaWQgPT4ge1xuICBjb25zdCB7IGdldCwgc2V0LCBpLCBjdHggfSA9IHVzZVNlcXVlbnRpYWxTY29wZTxib29sZWFuPigpO1xuICBpZiAoIWdldCkge1xuICAgIGFzc2VydFFybCh1bm1vdW50Rm4pO1xuICAgIGNvbnN0IGVsID0gY3R4LiRob3N0RWxlbWVudCQ7XG4gICAgY29uc3Qgd2F0Y2g6IFdhdGNoRGVzY3JpcHRvciA9IHtcbiAgICAgIHFybDogdW5tb3VudEZuLFxuICAgICAgZWwsXG4gICAgICBmOiBXYXRjaEZsYWdzSXNDbGVhbnVwLFxuICAgICAgaSxcbiAgICB9O1xuICAgIHNldCh0cnVlKTtcbiAgICBnZXRDb250ZXh0KGVsKS4kd2F0Y2hlcyQucHVzaCh3YXRjaCk7XG4gIH1cbn07XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kI3VzZUNsZWFudXBcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjdXNlQ2xlYW51cCBpbnN0ZWFkKVxuLyoqXG4gKiBBIGxhenktbG9hZGFibGUgcmVmZXJlbmNlIHRvIGEgY29tcG9uZW50J3MgY2xlYW51cCBob29rLlxuICpcbiAqIEludm9rZWQgd2hlbiB0aGUgY29tcG9uZW50IGlzIGRlc3Ryb3llZCAocmVtb3ZlZCBmcm9tIHJlbmRlciB0cmVlKSwgb3IgcGF1c2VkIGFzIHBhcnQgb2YgdGhlXG4gKiBTU1Igc2VyaWFsaXphdGlvbi5cbiAqXG4gKiBJdCBjYW4gYmUgdXNlZCB0byByZWxlYXNlIHJlc291cmNlcywgYWJvcnQgbmV0d29yayByZXF1ZXN0cywgc3RvcCB0aW1lcnMuLi5cbiAqXG4gKiBgYGB0c3hcbiAqIGNvbnN0IENtcCA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICogICB1c2VDbGVhbnVwJCgoKSA9PiB7XG4gKiAgICAgLy8gRXhlY3V0ZWQgYWZ0ZXIgU1NSIChwYXVzZSkgb3Igd2hlbiB0aGUgY29tcG9uZW50IGdldHMgcmVtb3ZlZCBmcm9tIHRoZSBET00uXG4gKiAgICAgLy8gQ2FuIGJlIHVzZWQgdG8gcmVsZWFzZSByZXNvdWNlcywgYWJvcnQgbmV0d29yayByZXF1ZXRzLCBzdG9wIHRpbWVycy4uLlxuICogICAgIGNvbnNvbGUubG9nKCdjb21wb25lbnQgaXMgZGVzdHJveWVkJyk7XG4gKiAgIH0pO1xuICogICByZXR1cm4gPGRpdj5IZWxsbyB3b3JsZDwvZGl2PjtcbiAqIH0pO1xuICogYGBgXG4gKlxuICogQGFscGhhXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBjb25zdCB1c2VDbGVhbnVwJCA9IC8qI19fUFVSRV9fKi8gaW1wbGljaXQkRmlyc3RBcmcodXNlQ2xlYW51cFFybCk7XG5cbi8qKlxuICogQGFscGhhXG4gKi9cbmV4cG9ydCB0eXBlIFVzZVJlc3VtZVJ1bk9wdGlvbnMgPSAndmlzaWJsZScgfCAnbG9hZCc7XG5cbi8qKlxuICogQGFscGhhXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVXNlUmVzdW1lT3B0aW9ucyB7XG4gIC8qKlxuICAgKiAtIGB2aXNpYmxlYDogcnVuIHRoZSBlZmZlY3Qgd2hlbiB0aGUgZWxlbWVudCBpcyB2aXNpYmxlLlxuICAgKiAtIGBsb2FkYDogZWFnZXJseSBydW4gdGhlIGVmZmVjdCB3aGVuIHRoZSBhcHBsaWNhdGlvbiByZXN1bWVzLlxuICAgKi9cbiAgcnVuPzogVXNlUmVzdW1lUnVuT3B0aW9ucztcbn1cblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi9yZWFkbWUubWQjdXNlUmVzdW1lXCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi4vcmVhZG1lLm1kI3VzZVJlc3VtZSBpbnN0ZWFkKVxuLyoqXG4gKiBBIGxhenktbG9hZGFibGUgcmVmZXJlbmNlIHRvIGEgY29tcG9uZW50J3Mgb24gcmVzdW1lIGhvb2suXG4gKlxuICogVGhlIGhvb2sgaXMgZWFnZXJseSBpbnZva2VkIHdoZW4gdGhlIGFwcGxpY2F0aW9uIHJlc3VtZXMgb24gdGhlIGNsaWVudC4gQmVjYXVzZSBpdCBpcyBjYWxsZWRcbiAqIGVhZ2VybHksIHRoaXMgYWxsb3dzIHRoZSBjb21wb25lbnQgdG8gcmVzdW1lIGV2ZW4gaWYgbm8gdXNlciBpbnRlcmFjdGlvbiBoYXMgdGFrZW4gcGxhY2UuXG4gKlxuICogT25seSBjYWxsZWQgaW4gdGhlIGNsaWVudC5cbiAqIE9ubHkgY2FsbGVkIG9uY2UuXG4gKlxuICogYGBgdHN4XG4gKiBjb25zdCBDbXAgPSBjb21wb25lbnQkKCgpID0+IHtcbiAqICAgdXNlUmVzdW1lJCgoKSA9PiB7XG4gKiAgICAgLy8gRWFnZXJseSBpbnZva2VkIHdoZW4gdGhlIGFwcGxpY2F0aW9uIHJlc3VtZXMgb24gdGhlIGNsaWVudFxuICogICAgIGNvbnNvbGUubG9nKCdjYWxsZWQgb25jZSBpbiBjbGllbnQnKTtcbiAqICAgfSk7XG4gKiAgIHJldHVybiA8ZGl2PkhlbGxvIHdvcmxkPC9kaXY+O1xuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBAc2VlIGB1c2VWaXNpYmxlYCwgYHVzZUNsaWVudEVmZmVjdGBcbiAqXG4gKiBAYWxwaGFcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGNvbnN0IHVzZVJlc3VtZVFybCA9IChyZXN1bWVGbjogUVJMPCgpID0+IHZvaWQ+LCBvcHRpb25zOiBVc2VSZXN1bWVPcHRpb25zID0ge30pOiB2b2lkID0+XG4gIHVzZU9uKG9wdGlvbnMucnVuID09ICdsb2FkJyA/ICdxaW5pdCcgOiAncXZpc2libGUnLCByZXN1bWVGbik7XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kI3VzZVJlc3VtZVwiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IC4uL3JlYWRtZS5tZCN1c2VSZXN1bWUgaW5zdGVhZClcbi8qKlxuICogQSBsYXp5LWxvYWRhYmxlIHJlZmVyZW5jZSB0byBhIGNvbXBvbmVudCdzIG9uIHJlc3VtZSBob29rLlxuICpcbiAqIFRoZSBob29rIGlzIGVhZ2VybHkgaW52b2tlZCB3aGVuIHRoZSBhcHBsaWNhdGlvbiByZXN1bWVzIG9uIHRoZSBjbGllbnQuIEJlY2F1c2UgaXQgaXMgY2FsbGVkXG4gKiBlYWdlcmx5LCB0aGlzIGFsbG93cyB0aGUgY29tcG9uZW50IHRvIHJlc3VtZSBldmVuIGlmIG5vIHVzZXIgaW50ZXJhY3Rpb24gaGFzIHRha2VuIHBsYWNlLlxuICpcbiAqIE9ubHkgY2FsbGVkIGluIHRoZSBjbGllbnQuXG4gKiBPbmx5IGNhbGxlZCBvbmNlLlxuICpcbiAqIGBgYHRzeFxuICogY29uc3QgQ21wID0gY29tcG9uZW50JCgoKSA9PiB7XG4gKiAgIHVzZVJlc3VtZSQoKCkgPT4ge1xuICogICAgIC8vIEVhZ2VybHkgaW52b2tlZCB3aGVuIHRoZSBhcHBsaWNhdGlvbiByZXN1bWVzIG9uIHRoZSBjbGllbnRcbiAqICAgICBjb25zb2xlLmxvZygnY2FsbGVkIG9uY2UgaW4gY2xpZW50Jyk7XG4gKiAgIH0pO1xuICogICByZXR1cm4gPGRpdj5IZWxsbyB3b3JsZDwvZGl2PjtcbiAqIH0pO1xuICogYGBgXG4gKlxuICogQHNlZSBgdXNlVmlzaWJsZWAsIGB1c2VDbGllbnRFZmZlY3RgXG4gKlxuICogQGFscGhhXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBjb25zdCB1c2VSZXN1bWUkID0gLyojX19QVVJFX18qLyBpbXBsaWNpdCRGaXJzdEFyZyh1c2VSZXN1bWVRcmwpO1xuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4uL3JlYWRtZS5tZCN1c2VWaXNpYmxlXCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi4vcmVhZG1lLm1kI3VzZVZpc2libGUgaW5zdGVhZClcbi8qKlxuICogQSBsYXp5LWxvYWRhYmxlIHJlZmVyZW5jZSB0byBhIGNvbXBvbmVudCdzIG9uIHRoZSB2aXNpYmxlIGhvb2suXG4gKlxuICogVGhlIGhvb2sgaXMgbGF6aWx5IGludm9rZWQgd2hlbiB0aGUgY29tcG9uZW50IGJlY29tZXMgdmlzaWJsZSBpbiB0aGUgYnJvd3NlciB2aWV3cG9ydC5cbiAqXG4gKiBPbmx5IGNhbGxlZCBpbiB0aGUgY2xpZW50LlxuICogT25seSBjYWxsZWQgb25jZS5cbiAqXG4gKiBAc2VlIGB1c2VSZXN1bWVgLCBgdXNlQ2xpZW50RWZmZWN0YFxuICpcbiAqIGBgYHRzeFxuICogY29uc3QgQ21wID0gY29tcG9uZW50JCgoKSA9PiB7XG4gKiAgIGNvbnN0IHN0b3JlID0gdXNlU3RvcmUoe1xuICogICAgIGlzVmlzaWJsZTogZmFsc2UsXG4gKiAgIH0pO1xuICogICB1c2VWaXNpYmxlJCgoKSA9PiB7XG4gKiAgICAgLy8gSW52b2tlZCBvbmNlIHdoZW4gdGhlIGNvbXBvbmVudCBpcyB2aXNpYmxlIGluIHRoZSBicm93c2VyJ3Mgdmlld3BvcnRcbiAqICAgICBjb25zb2xlLmxvZygnY2FsbGVkIG9uY2UgaW4gY2xpZW50IHdoZW4gdmlzaWJsZScpO1xuICogICAgIHN0b3JlLmlzVmlzaWJsZSA9IHRydWU7XG4gKiAgIH0pO1xuICogICByZXR1cm4gPGRpdj57c3RvcmUuaXNWaXNpYmxlfTwvZGl2PjtcbiAqIH0pO1xuICogYGBgXG4gKlxuICogQGFscGhhXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBjb25zdCB1c2VWaXNpYmxlUXJsID0gKHJlc3VtZUZuOiBRUkw8KCkgPT4gdm9pZD4pOiB2b2lkID0+IHVzZU9uKCdxdmlzaWJsZScsIHJlc3VtZUZuKTtcblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi9yZWFkbWUubWQjdXNlVmlzaWJsZVwiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IC4uL3JlYWRtZS5tZCN1c2VWaXNpYmxlIGluc3RlYWQpXG4vKipcbiAqIEEgbGF6eS1sb2FkYWJsZSByZWZlcmVuY2UgdG8gYSBjb21wb25lbnQncyBvbiB0aGUgdmlzaWJsZSBob29rLlxuICpcbiAqIFRoZSBob29rIGlzIGxhemlseSBpbnZva2VkIHdoZW4gdGhlIGNvbXBvbmVudCBiZWNvbWVzIHZpc2libGUgaW4gdGhlIGJyb3dzZXIgdmlld3BvcnQuXG4gKlxuICogT25seSBjYWxsZWQgaW4gdGhlIGNsaWVudC5cbiAqIE9ubHkgY2FsbGVkIG9uY2UuXG4gKlxuICogQHNlZSBgdXNlUmVzdW1lYCwgYHVzZUNsaWVudEVmZmVjdGBcbiAqXG4gKiBgYGB0c3hcbiAqIGNvbnN0IENtcCA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICogICBjb25zdCBzdG9yZSA9IHVzZVN0b3JlKHtcbiAqICAgICBpc1Zpc2libGU6IGZhbHNlLFxuICogICB9KTtcbiAqICAgdXNlVmlzaWJsZSQoKCkgPT4ge1xuICogICAgIC8vIEludm9rZWQgb25jZSB3aGVuIHRoZSBjb21wb25lbnQgaXMgdmlzaWJsZSBpbiB0aGUgYnJvd3NlcidzIHZpZXdwb3J0XG4gKiAgICAgY29uc29sZS5sb2coJ2NhbGxlZCBvbmNlIGluIGNsaWVudCB3aGVuIHZpc2libGUnKTtcbiAqICAgICBzdG9yZS5pc1Zpc2libGUgPSB0cnVlO1xuICogICB9KTtcbiAqICAgcmV0dXJuIDxkaXY+e3N0b3JlLmlzVmlzaWJsZX08L2Rpdj47XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBhbHBoYVxuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgY29uc3QgdXNlVmlzaWJsZSQgPSAvKiNfX1BVUkVfXyovIGltcGxpY2l0JEZpcnN0QXJnKHVzZVZpc2libGVRcmwpO1xuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4uL3JlYWRtZS5tZCN1c2VPblwiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IC4uL3JlYWRtZS5tZCN1c2VPbiBpbnN0ZWFkKVxuLyoqXG4gKiBSZWdpc3RlciBhIGxpc3RlbmVyIG9uIHRoZSBjdXJyZW50IGNvbXBvbmVudCdzIGhvc3QgZWxlbWVudC5cbiAqXG4gKiBVc2VkIHRvIHByb2dyYW1tYXRpY2FsbHkgYWRkIGV2ZW50IGxpc3RlbmVycy4gVXNlZnVsIGZyb20gY3VzdG9tIGB1c2UqYCBtZXRob2RzLCB3aGljaCBkbyBub3RcbiAqIGhhdmUgYWNjZXNzIHRvIHRoZSBKU1guIE90aGVyd2lzZSwgaXQncyBhZGRpbmcgYSBKU1ggbGlzdGVuZXIgaW4gdGhlIGA8SG9zdD5gIGlzIGEgYmV0dGVyXG4gKiBpZGVhLlxuICpcbiAqIEBzZWUgYHVzZU9uYCwgYHVzZU9uV2luZG93YCwgYHVzZU9uRG9jdW1lbnRgLlxuICpcbiAqIEBhbHBoYVxuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgY29uc3QgdXNlT24gPSAoZXZlbnQ6IHN0cmluZywgZXZlbnRRcmw6IFFSTDwoZXY6IEV2ZW50KSA9PiB2b2lkPikgPT5cbiAgX3VzZU9uKGBvbjoke2V2ZW50fWAsIGV2ZW50UXJsKTtcblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi9yZWFkbWUubWQjdXNlT25Eb2N1bWVudFwiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IC4uL3JlYWRtZS5tZCN1c2VPbkRvY3VtZW50IGluc3RlYWQpXG4vKipcbiAqIFJlZ2lzdGVyIGEgbGlzdGVuZXIgb24gYGRvY3VtZW50YC5cbiAqXG4gKiBVc2VkIHRvIHByb2dyYW1tYXRpY2FsbHkgYWRkIGV2ZW50IGxpc3RlbmVycy4gVXNlZnVsIGZyb20gY3VzdG9tIGB1c2UqYCBtZXRob2RzLCB3aGljaCBkbyBub3RcbiAqIGhhdmUgYWNjZXNzIHRvIHRoZSBKU1guXG4gKlxuICogQHNlZSBgdXNlT25gLCBgdXNlT25XaW5kb3dgLCBgdXNlT25Eb2N1bWVudGAuXG4gKlxuICogYGBgdHN4XG4gKiBmdW5jdGlvbiB1c2VTY3JvbGwoKSB7XG4gKiAgIHVzZU9uRG9jdW1lbnQoXG4gKiAgICAgJ3Njcm9sbCcsXG4gKiAgICAgJCgoZXZlbnQpID0+IHtcbiAqICAgICAgIGNvbnNvbGUubG9nKCdib2R5IHNjcm9sbGVkJywgZXZlbnQpO1xuICogICAgIH0pXG4gKiAgICk7XG4gKiB9XG4gKlxuICogY29uc3QgQ21wID0gY29tcG9uZW50JCgoKSA9PiB7XG4gKiAgIHVzZVNjcm9sbCgpO1xuICogICByZXR1cm4gPEhvc3Q+UHJvZml0ITwvSG9zdD47XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBhbHBoYVxuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgY29uc3QgdXNlT25Eb2N1bWVudCA9IChldmVudDogc3RyaW5nLCBldmVudFFybDogUVJMPChldjogRXZlbnQpID0+IHZvaWQ+KSA9PlxuICBfdXNlT24oYG9uLXdpbmRvdzoke2V2ZW50fWAsIGV2ZW50UXJsKTtcblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi9yZWFkbWUubWQjdXNlT25XaW5kb3dcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjdXNlT25XaW5kb3cgaW5zdGVhZClcbi8qKlxuICogUmVnaXN0ZXIgYSBsaXN0ZW5lciBvbiBgd2luZG93YC5cbiAqXG4gKiBVc2VkIHRvIHByb2dyYW1tYXRpY2FsbHkgYWRkIGV2ZW50IGxpc3RlbmVycy4gVXNlZnVsIGZyb20gY3VzdG9tIGB1c2UqYCBtZXRob2RzLCB3aGljaCBkbyBub3RcbiAqIGhhdmUgYWNjZXNzIHRvIHRoZSBKU1guXG4gKlxuICogQHNlZSBgdXNlT25gLCBgdXNlT25XaW5kb3dgLCBgdXNlT25Eb2N1bWVudGAuXG4gKlxuICogYGBgdHN4XG4gKiBmdW5jdGlvbiB1c2VBbmFseXRpY3MoKSB7XG4gKiAgIHVzZU9uV2luZG93KFxuICogICAgICdwb3BzdGF0ZScsXG4gKiAgICAgJCgoZXZlbnQpID0+IHtcbiAqICAgICAgIGNvbnNvbGUubG9nKCduYXZpZ2F0aW9uIGhhcHBlbmVkJywgZXZlbnQpO1xuICogICAgICAgLy8gcmVwb3J0IHRvIGFuYWx5dGljc1xuICogICAgIH0pXG4gKiAgICk7XG4gKiB9XG4gKlxuICogY29uc3QgQ21wID0gY29tcG9uZW50JCgoKSA9PiB7XG4gKiAgIHVzZUFuYWx5dGljcygpO1xuICogICByZXR1cm4gPEhvc3Q+UHJvZml0ITwvSG9zdD47XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBhbHBoYVxuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgY29uc3QgdXNlT25XaW5kb3cgPSAoZXZlbnQ6IHN0cmluZywgZXZlbnRRcmw6IFFSTDwoZXY6IEV2ZW50KSA9PiB2b2lkPikgPT5cbiAgX3VzZU9uKGBvbi13aW5kb3c6JHtldmVudH1gLCBldmVudFFybCk7XG5cbmNvbnN0IF91c2VPbiA9IChldmVudE5hbWU6IHN0cmluZywgZXZlbnRRcmw6IFFSTDwoZXY6IEV2ZW50KSA9PiB2b2lkPikgPT4ge1xuICBjb25zdCBpbnZva2VDdHggPSB1c2VJbnZva2VDb250ZXh0KCk7XG4gIGNvbnN0IGN0eCA9IGdldENvbnRleHQoaW52b2tlQ3R4LiRob3N0RWxlbWVudCQpO1xuICBhc3NlcnRRcmwoZXZlbnRRcmwpO1xuICBxUHJvcFdyaXRlUVJMKGludm9rZUN0eC4kcmVuZGVyQ3R4JCwgY3R4LCBldmVudE5hbWUsIGV2ZW50UXJsKTtcbn07XG4iXX0=","import { getProxyTarget, noSerialize, unwrapProxy } from '../object/q-object';\nimport { getContext } from '../props/props';\nimport { newInvokeContext, useInvoke } from './use-core';\nimport { logError, logErrorAndStop } from '../util/log';\nimport { safeCall, then } from '../util/promises';\nimport { useSequentialScope } from './use-store.public';\nimport { getDocument } from '../util/dom';\nimport { isFunction, isObject } from '../util/types';\nimport { getPlatform } from '../platform/platform';\nimport { handleWatch } from '../render/notify-render';\nimport { useResumeQrl, useVisibleQrl } from './use-on';\nimport { implicit$FirstArg } from '../util/implicit_dollar';\nimport { assertDefined, assertEqual } from '../assert/assert';\nimport { assertQrl, createQRL } from '../import/qrl-class';\nimport { codeToText, qError, QError_canNotMountUseServerMount, QError_trackUseStore, } from '../error/error';\nexport const WatchFlagsIsEffect = 1 << 0;\nexport const WatchFlagsIsWatch = 1 << 1;\nexport const WatchFlagsIsDirty = 1 << 2;\nexport const WatchFlagsIsCleanup = 1 << 3;\nexport const WatchFlagsIsResource = 1 << 4;\nexport const WatchFlagsIsBeforeRender = WatchFlagsIsResource | WatchFlagsIsWatch;\nexport const isSubscriberDescriptor = (obj) => {\n    return isObject(obj) && 'qrl' in obj && 'f' in obj;\n};\nexport const isWatchCleanup = (obj) => {\n    return isSubscriberDescriptor(obj) && !!(obj.f & WatchFlagsIsCleanup);\n};\n// <docs markdown=\"../readme.md#useWatch\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useWatch instead)\n/**\n * Reruns the `watchFn` when the observed inputs change.\n *\n * Use `useWatch` to observe changes on a set of inputs, and then re-execute the `watchFn` when\n * those inputs change.\n *\n * The `watchFn` only executes if the observed inputs change. To observe the inputs, use the\n * `obs` function to wrap property reads. This creates subscriptions that will trigger the\n * `watchFn` to rerun.\n *\n * @see `Tracker`\n *\n * @public\n *\n * ## Example\n *\n * The `useWatch` function is used to observe the `state.count` property. Any changes to the\n * `state.count` cause the `watchFn` to execute which in turn updates the `state.doubleCount` to\n * the double of `state.count`.\n *\n * ```tsx\n * const Cmp = component$(() => {\n *   const store = useStore({\n *     count: 0,\n *     doubleCount: 0,\n *     debounced: 0,\n *   });\n *\n *   // Double count watch\n *   useWatch$((track) => {\n *     const count = track(store, 'count');\n *     store.doubleCount = 2 * count;\n *   });\n *\n *   // Debouncer watch\n *   useWatch$((track) => {\n *     const doubleCount = track(store, 'doubleCount');\n *     const timer = setTimeout(() => {\n *       store.debounced = doubleCount;\n *     }, 2000);\n *     return () => {\n *       clearTimeout(timer);\n *     };\n *   });\n *   return (\n *     <Host>\n *       <div>\n *         {store.count} / {store.doubleCount}\n *       </div>\n *       <div>{store.debounced}</div>\n *     </Host>\n *   );\n * });\n * ```\n *\n * @param watch - Function which should be re-executed when changes to the inputs are detected\n * @public\n */\n// </docs>\nexport const useWatchQrl = (qrl, opts) => {\n    const { get, set, ctx, i } = useSequentialScope();\n    if (!get) {\n        assertQrl(qrl);\n        const el = ctx.$hostElement$;\n        const containerState = ctx.$renderCtx$.$containerState$;\n        const watch = {\n            qrl,\n            el,\n            f: WatchFlagsIsDirty | WatchFlagsIsWatch,\n            i,\n        };\n        set(true);\n        getContext(el).$watches$.push(watch);\n        const previousWait = ctx.$waitOn$.slice();\n        ctx.$waitOn$.push(Promise.all(previousWait).then(() => runSubscriber(watch, containerState)));\n        const isServer = containerState.$platform$.isServer;\n        if (isServer) {\n            useRunWatch(watch, opts?.run);\n        }\n    }\n};\n// <docs markdown=\"../readme.md#useWatch\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useWatch instead)\n/**\n * Reruns the `watchFn` when the observed inputs change.\n *\n * Use `useWatch` to observe changes on a set of inputs, and then re-execute the `watchFn` when\n * those inputs change.\n *\n * The `watchFn` only executes if the observed inputs change. To observe the inputs, use the\n * `obs` function to wrap property reads. This creates subscriptions that will trigger the\n * `watchFn` to rerun.\n *\n * @see `Tracker`\n *\n * @public\n *\n * ## Example\n *\n * The `useWatch` function is used to observe the `state.count` property. Any changes to the\n * `state.count` cause the `watchFn` to execute which in turn updates the `state.doubleCount` to\n * the double of `state.count`.\n *\n * ```tsx\n * const Cmp = component$(() => {\n *   const store = useStore({\n *     count: 0,\n *     doubleCount: 0,\n *     debounced: 0,\n *   });\n *\n *   // Double count watch\n *   useWatch$((track) => {\n *     const count = track(store, 'count');\n *     store.doubleCount = 2 * count;\n *   });\n *\n *   // Debouncer watch\n *   useWatch$((track) => {\n *     const doubleCount = track(store, 'doubleCount');\n *     const timer = setTimeout(() => {\n *       store.debounced = doubleCount;\n *     }, 2000);\n *     return () => {\n *       clearTimeout(timer);\n *     };\n *   });\n *   return (\n *     <Host>\n *       <div>\n *         {store.count} / {store.doubleCount}\n *       </div>\n *       <div>{store.debounced}</div>\n *     </Host>\n *   );\n * });\n * ```\n *\n * @param watch - Function which should be re-executed when changes to the inputs are detected\n * @public\n */\n// </docs>\nexport const useWatch$ = /*#__PURE__*/ implicit$FirstArg(useWatchQrl);\n// <docs markdown=\"../readme.md#useClientEffect\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useClientEffect instead)\n/**\n * ```tsx\n * const Timer = component$(() => {\n *   const store = useStore({\n *     count: 0,\n *   });\n *\n *   useClientEffect$(() => {\n *     // Only runs in the client\n *     const timer = setInterval(() => {\n *       store.count++;\n *     }, 500);\n *     return () => {\n *       clearInterval(timer);\n *     };\n *   });\n *\n *   return <Host>{store.count}</Host>;\n * });\n * ```\n *\n * @public\n */\n// </docs>\nexport const useClientEffectQrl = (qrl, opts) => {\n    const { get, set, i, ctx } = useSequentialScope();\n    if (!get) {\n        assertQrl(qrl);\n        const el = ctx.$hostElement$;\n        const watch = {\n            qrl,\n            el,\n            f: WatchFlagsIsEffect,\n            i,\n        };\n        set(true);\n        getContext(el).$watches$.push(watch);\n        useRunWatch(watch, opts?.run ?? 'visible');\n        const doc = ctx.$doc$;\n        if (doc['qO']) {\n            doc['qO'].observe(el);\n        }\n    }\n};\n// <docs markdown=\"../readme.md#useClientEffect\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useClientEffect instead)\n/**\n * ```tsx\n * const Timer = component$(() => {\n *   const store = useStore({\n *     count: 0,\n *   });\n *\n *   useClientEffect$(() => {\n *     // Only runs in the client\n *     const timer = setInterval(() => {\n *       store.count++;\n *     }, 500);\n *     return () => {\n *       clearInterval(timer);\n *     };\n *   });\n *\n *   return <Host>{store.count}</Host>;\n * });\n * ```\n *\n * @public\n */\n// </docs>\nexport const useClientEffect$ = /*#__PURE__*/ implicit$FirstArg(useClientEffectQrl);\n// <docs markdown=\"../readme.md#useServerMount\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useServerMount instead)\n/**\n * Register's a server mount hook that runs only in the server when the component is first\n * mounted.\n *\n * ## Example\n *\n * ```tsx\n * const Cmp = component$(() => {\n *   const store = useStore({\n *     users: [],\n *   });\n *\n *   useServerMount$(async () => {\n *     // This code will ONLY run once in the server, when the component is mounted\n *     store.users = await db.requestUsers();\n *   });\n *\n *   return (\n *     <Host>\n *       {store.users.map((user) => (\n *         <User user={user} />\n *       ))}\n *     </Host>\n *   );\n * });\n *\n * interface User {\n *   name: string;\n * }\n * function User(props: { user: User }) {\n *   return <div>Name: {props.user.name}</div>;\n * }\n * ```\n *\n * @see `useMount`\n * @public\n */\n// </docs>\nexport const useServerMountQrl = (mountQrl) => {\n    const { get, set, ctx } = useSequentialScope();\n    if (get) {\n        return get;\n    }\n    const isServer = getPlatform(ctx.$doc$).isServer;\n    if (isServer) {\n        const resource = createResourceFromPromise(mountQrl());\n        ctx.$waitOn$.push(resource.promise);\n        set(resource);\n        return resource;\n    }\n    else {\n        throw qError(QError_canNotMountUseServerMount, ctx.$hostElement$);\n    }\n};\n// <docs markdown=\"../readme.md#useServerMount\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useServerMount instead)\n/**\n * Register's a server mount hook that runs only in the server when the component is first\n * mounted.\n *\n * ## Example\n *\n * ```tsx\n * const Cmp = component$(() => {\n *   const store = useStore({\n *     users: [],\n *   });\n *\n *   useServerMount$(async () => {\n *     // This code will ONLY run once in the server, when the component is mounted\n *     store.users = await db.requestUsers();\n *   });\n *\n *   return (\n *     <Host>\n *       {store.users.map((user) => (\n *         <User user={user} />\n *       ))}\n *     </Host>\n *   );\n * });\n *\n * interface User {\n *   name: string;\n * }\n * function User(props: { user: User }) {\n *   return <div>Name: {props.user.name}</div>;\n * }\n * ```\n *\n * @see `useMount`\n * @public\n */\n// </docs>\nexport const useServerMount$ = /*#__PURE__*/ implicit$FirstArg(useServerMountQrl);\n// <docs markdown=\"../readme.md#useMount\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useMount instead)\n/**\n * Register a server mount hook that runs only in the server when the component is first mounted.\n *\n * ## Example\n *\n * ```tsx\n * const Cmp = component$(() => {\n *   const store = useStore({\n *     temp: 0,\n *   });\n *\n *   useMount$(async () => {\n *     // This code will run once whenever a component is mounted in the server, or in the client\n *     const res = await fetch('weather-api.example');\n *     const json = (await res.json()) as any;\n *     store.temp = json.temp;\n *   });\n *\n *   return (\n *     <Host>\n *       <p>The temperature is: ${store.temp}</p>\n *     </Host>\n *   );\n * });\n * ```\n *\n * @see `useServerMount`\n * @public\n */\n// </docs>\nexport const useMountQrl = (mountQrl) => {\n    const { get, set, ctx } = useSequentialScope();\n    if (get) {\n        return get;\n    }\n    const resource = createResourceFromPromise(mountQrl());\n    ctx.$waitOn$.push(resource.promise);\n    set(resource);\n    return resource;\n};\nconst createResourceFromPromise = (promise) => {\n    const resource = {\n        state: 'pending',\n        error: undefined,\n        resolved: undefined,\n        promise: promise.then((value) => {\n            resource.state = 'resolved';\n            resource.resolved = value;\n            return value;\n        }, (reason) => {\n            resource.state = 'rejected';\n            resource.error = reason;\n            throw reason;\n        }),\n    };\n    return resource;\n};\n// <docs markdown=\"../readme.md#useMount\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useMount instead)\n/**\n * Register a server mount hook that runs only in the server when the component is first mounted.\n *\n * ## Example\n *\n * ```tsx\n * const Cmp = component$(() => {\n *   const store = useStore({\n *     temp: 0,\n *   });\n *\n *   useMount$(async () => {\n *     // This code will run once whenever a component is mounted in the server, or in the client\n *     const res = await fetch('weather-api.example');\n *     const json = (await res.json()) as any;\n *     store.temp = json.temp;\n *   });\n *\n *   return (\n *     <Host>\n *       <p>The temperature is: ${store.temp}</p>\n *     </Host>\n *   );\n * });\n * ```\n *\n * @see `useServerMount`\n * @public\n */\n// </docs>\nexport const useMount$ = /*#__PURE__*/ implicit$FirstArg(useMountQrl);\nexport const runSubscriber = async (watch, containerState) => {\n    assertEqual(!!(watch.f & WatchFlagsIsDirty), true, 'Resource is not dirty', watch);\n    if ('r' in watch) {\n        await runResource(watch, containerState);\n    }\n    else {\n        await runWatch(watch, containerState);\n    }\n};\nexport const runResource = (watch, containerState, waitOn) => {\n    watch.f &= ~WatchFlagsIsDirty;\n    cleanupWatch(watch);\n    const el = watch.el;\n    const doc = getDocument(el);\n    const invokationContext = newInvokeContext(doc, el, el, 'WatchEvent');\n    const { $subsManager$: subsManager } = containerState;\n    const watchFn = watch.qrl.$invokeFn$(el, invokationContext, () => {\n        subsManager.$clearSub$(watch);\n    });\n    const cleanups = [];\n    const resource = watch.r;\n    assertDefined(resource, 'useResource: when running a resource, \"watch.r\" must be a defined.', watch);\n    const track = (obj, prop) => {\n        const target = getProxyTarget(obj);\n        if (target) {\n            const manager = subsManager.$getLocal$(target);\n            manager.$addSub$(watch, prop);\n        }\n        else {\n            logErrorAndStop(codeToText(QError_trackUseStore), obj);\n        }\n        if (prop) {\n            return obj[prop];\n        }\n        else {\n            return obj;\n        }\n    };\n    const opts = {\n        track,\n        cleanup(callback) {\n            cleanups.push(callback);\n        },\n        previous: unwrapProxy(resource).resolved,\n    };\n    let resolve;\n    let reject;\n    // Execute mutation inside empty invokation\n    useInvoke(invokationContext, () => {\n        resource.state = 'pending';\n        resource.resolved = undefined;\n        resource.promise = new Promise((r, re) => {\n            resolve = r;\n            reject = re;\n        });\n    });\n    watch.destroy = noSerialize(() => {\n        cleanups.forEach((fn) => fn());\n        reject('cancelled');\n    });\n    return safeCall(() => then(waitOn, () => watchFn(opts)), (value) => {\n        resource.state = 'resolved';\n        resource.resolved = value;\n        resource.error = undefined;\n        resolve(value);\n        return;\n    }, (reason) => {\n        resource.state = 'rejected';\n        resource.resolved = undefined;\n        resource.error = noSerialize(reason);\n        reject(reason);\n        return;\n    });\n};\nexport const runWatch = (watch, containerState) => {\n    watch.f &= ~WatchFlagsIsDirty;\n    cleanupWatch(watch);\n    const el = watch.el;\n    const doc = getDocument(el);\n    const invokationContext = newInvokeContext(doc, el, el, 'WatchEvent');\n    const { $subsManager$: subsManager } = containerState;\n    const watchFn = watch.qrl.$invokeFn$(el, invokationContext, () => {\n        subsManager.$clearSub$(watch);\n    });\n    const track = (obj, prop) => {\n        const target = getProxyTarget(obj);\n        if (target) {\n            const manager = subsManager.$getLocal$(target);\n            manager.$addSub$(watch, prop);\n        }\n        else {\n            logErrorAndStop(codeToText(QError_trackUseStore), obj);\n        }\n        if (prop) {\n            return obj[prop];\n        }\n        else {\n            return obj;\n        }\n    };\n    return safeCall(() => watchFn(track), (returnValue) => {\n        if (isFunction(returnValue)) {\n            watch.destroy = noSerialize(returnValue);\n        }\n    }, (reason) => {\n        logError(reason);\n    });\n};\nexport const cleanupWatch = (watch) => {\n    const destroy = watch.destroy;\n    if (destroy) {\n        watch.destroy = undefined;\n        try {\n            destroy();\n        }\n        catch (err) {\n            logError(err);\n        }\n    }\n};\nexport const destroyWatch = (watch) => {\n    if (watch.f & WatchFlagsIsCleanup) {\n        watch.f &= ~WatchFlagsIsCleanup;\n        const cleanup = watch.qrl.$invokeFn$(watch.el);\n        cleanup();\n    }\n    else {\n        cleanupWatch(watch);\n    }\n};\nconst useRunWatch = (watch, run) => {\n    if (run === 'load') {\n        useResumeQrl(getWatchHandlerQrl(watch));\n    }\n    else if (run === 'visible') {\n        useVisibleQrl(getWatchHandlerQrl(watch));\n    }\n};\nconst getWatchHandlerQrl = (watch) => {\n    const watchQrl = watch.qrl;\n    const watchHandler = createQRL(watchQrl.$chunk$, 'handleWatch', handleWatch, null, null, [watch], watchQrl.$symbol$);\n    return watchHandler;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLXdhdGNoLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3VzZS91c2Utd2F0Y2gudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGNBQWMsRUFBRSxXQUFXLEVBQWUsV0FBVyxFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFDM0YsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQzVDLE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxTQUFTLEVBQUUsTUFBTSxZQUFZLENBQUM7QUFDekQsT0FBTyxFQUFFLFFBQVEsRUFBRSxlQUFlLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFDeEQsT0FBTyxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUNsRCxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUN4RCxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sYUFBYSxDQUFDO0FBQzFDLE9BQU8sRUFBRSxVQUFVLEVBQUUsUUFBUSxFQUFrQixNQUFNLGVBQWUsQ0FBQztBQUNyRSxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFDbkQsT0FBTyxFQUFrQixXQUFXLEVBQUUsTUFBTSx5QkFBeUIsQ0FBQztBQUN0RSxPQUFPLEVBQUUsWUFBWSxFQUFFLGFBQWEsRUFBRSxNQUFNLFVBQVUsQ0FBQztBQUN2RCxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSx5QkFBeUIsQ0FBQztBQUM1RCxPQUFPLEVBQUUsYUFBYSxFQUFFLFdBQVcsRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBRTlELE9BQU8sRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFlLE1BQU0scUJBQXFCLENBQUM7QUFDeEUsT0FBTyxFQUNMLFVBQVUsRUFDVixNQUFNLEVBQ04sZ0NBQWdDLEVBQ2hDLG9CQUFvQixHQUNyQixNQUFNLGdCQUFnQixDQUFDO0FB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UUFBUSxHQUFHLEtBQUssQ0FBQyxHQUFHLENBQUM7SUFDM0IsTUFBTSxZQUFZLEdBQUcsU0FBUyxDQUM1QixRQUFRLENBQUMsT0FBTyxFQUNoQixhQUFhLEVBQ2IsV0FBVyxFQUNYLElBQUksRUFDSixJQUFJLEVBQ0osQ0FBQyxLQUFLLENBQUMsRUFDUCxRQUFRLENBQUMsUUFBUSxDQUNsQixDQUFDO0lBQ0YsT0FBTyxZQUFZLENBQUM7QUFDdEIsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0UHJveHlUYXJnZXQsIG5vU2VyaWFsaXplLCBOb1NlcmlhbGl6ZSwgdW53cmFwUHJveHkgfSBmcm9tICcuLi9vYmplY3QvcS1vYmplY3QnO1xuaW1wb3J0IHsgZ2V0Q29udGV4dCB9IGZyb20gJy4uL3Byb3BzL3Byb3BzJztcbmltcG9ydCB7IG5ld0ludm9rZUNvbnRleHQsIHVzZUludm9rZSB9IGZyb20gJy4vdXNlLWNvcmUnO1xuaW1wb3J0IHsgbG9nRXJyb3IsIGxvZ0Vycm9yQW5kU3RvcCB9IGZyb20gJy4uL3V0aWwvbG9nJztcbmltcG9ydCB7IHNhZmVDYWxsLCB0aGVuIH0gZnJvbSAnLi4vdXRpbC9wcm9taXNlcyc7XG5pbXBvcnQgeyB1c2VTZXF1ZW50aWFsU2NvcGUgfSBmcm9tICcuL3VzZS1zdG9yZS5wdWJsaWMnO1xuaW1wb3J0IHsgZ2V0RG9jdW1lbnQgfSBmcm9tICcuLi91dGlsL2RvbSc7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uLCBpc09iamVjdCwgVmFsdWVPclByb21pc2UgfSBmcm9tICcuLi91dGlsL3R5cGVzJztcbmltcG9ydCB7IGdldFBsYXRmb3JtIH0gZnJvbSAnLi4vcGxhdGZvcm0vcGxhdGZvcm0nO1xuaW1wb3J0IHsgQ29udGFpbmVyU3RhdGUsIGhhbmRsZVdhdGNoIH0gZnJvbSAnLi4vcmVuZGVyL25vdGlmeS1yZW5kZXInO1xuaW1wb3J0IHsgdXNlUmVzdW1lUXJsLCB1c2VWaXNpYmxlUXJsIH0gZnJvbSAnLi91c2Utb24nO1xuaW1wb3J0IHsgaW1wbGljaXQkRmlyc3RBcmcgfSBmcm9tICcuLi91dGlsL2ltcGxpY2l0X2RvbGxhcic7XG5pbXBvcnQgeyBhc3NlcnREZWZpbmVkLCBhc3NlcnRFcXVhbCB9IGZyb20gJy4uL2Fzc2VydC9hc3NlcnQnO1xuaW1wb3J0IHR5cGUgeyBRUkwgfSBmcm9tICcuLi9pbXBvcnQvcXJsLnB1YmxpYyc7XG5pbXBvcnQgeyBhc3NlcnRRcmwsIGNyZWF0ZVFSTCwgUVJMSW50ZXJuYWwgfSBmcm9tICcuLi9pbXBvcnQvcXJsLWNsYXNzJztcbmltcG9ydCB7XG4gIGNvZGVUb1RleHQsXG4gIHFFcnJvcixcbiAgUUVycm9yX2Nhbk5vdE1vdW50VXNlU2VydmVyTW91bnQsXG4gIFFFcnJvcl90cmFja1VzZVN0b3JlLFxufSBmcm9tICcuLi9lcnJvci9lcnJvcic7XG5cbmV4cG9ydCBjb25zdCBXYXRjaEZsYWdzSXNFZmZlY3QgPSAxIDw8IDA7XG5leHBvcnQgY29uc3QgV2F0Y2hGbGFnc0lzV2F0Y2ggPSAxIDw8IDE7XG5leHBvcnQgY29uc3QgV2F0Y2hGbGFnc0lzRGlydHkgPSAxIDw8IDI7XG5leHBvcnQgY29uc3QgV2F0Y2hGbGFnc0lzQ2xlYW51cCA9IDEgPDwgMztcbmV4cG9ydCBjb25zdCBXYXRjaEZsYWdzSXNSZXNvdXJjZSA9IDEgPDwgNDtcbmV4cG9ydCBjb25zdCBXYXRjaEZsYWdzSXNCZWZvcmVSZW5kZXIgPSBXYXRjaEZsYWdzSXNSZXNvdXJjZSB8IFdhdGNoRmxhZ3NJc1dhdGNoO1xuXG4vKipcbiAqIEBhbHBoYVxuICovXG5leHBvcnQgdHlwZSBXYXRjaEZuID0gKHRyYWNrOiBUcmFja2VyKSA9PiBWYWx1ZU9yUHJvbWlzZTx2b2lkIHwgKCgpID0+IHZvaWQpPjtcblxuLyoqXG4gKiBAYWxwaGFcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZXNvdXJjZUN0eDxUPiB7XG4gIHRyYWNrOiBUcmFja2VyO1xuICBjbGVhbnVwKGNhbGxiYWNrOiAoKSA9PiB2b2lkKTogdm9pZDtcbiAgcHJldmlvdXM6IFQgfCB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogQGFscGhhXG4gKi9cbmV4cG9ydCB0eXBlIE1vdW50Rm48VD4gPSAoKSA9PiBWYWx1ZU9yUHJvbWlzZTxUPjtcblxuLyoqXG4gKiBAYWxwaGFcbiAqL1xuZXhwb3J0IHR5cGUgUmVzb3VyY2VSZXR1cm48VD4gPSBSZXNvdXJjZVBlbmRpbmc8VD4gfCBSZXNvdXJjZVJlc29sdmVkPFQ+IHwgUmVzb3VyY2VSZWplY3RlZDxUPjtcblxuLyoqXG4gKiBAYWxwaGFcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZXNvdXJjZVBlbmRpbmc8VD4ge1xuICBzdGF0ZTogJ3BlbmRpbmcnO1xuXG4gIHByb21pc2U6IFByb21pc2U8VD47XG4gIHJlc29sdmVkOiB1bmRlZmluZWQ7XG4gIGVycm9yOiB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogQGFscGhhXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVzb3VyY2VSZXNvbHZlZDxUPiB7XG4gIHN0YXRlOiAncmVzb2x2ZWQnO1xuXG4gIHByb21pc2U6IFByb21pc2U8VD47XG4gIHJlc29sdmVkOiBUO1xuICBlcnJvcjogdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIEBhbHBoYVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlc291cmNlUmVqZWN0ZWQ8VD4ge1xuICBzdGF0ZTogJ3JlamVjdGVkJztcblxuICBwcm9taXNlOiBQcm9taXNlPFQ+O1xuICByZXNvbHZlZDogdW5kZWZpbmVkO1xuICBlcnJvcjogTm9TZXJpYWxpemU8YW55Pjtcbn1cblxuLyoqXG4gKiBAYWxwaGFcbiAqL1xuZXhwb3J0IHR5cGUgUmVzb3VyY2VGbjxUPiA9IChjdHg6IFJlc291cmNlQ3R4PFQ+KSA9PiBWYWx1ZU9yUHJvbWlzZTxUPjtcblxuLyoqXG4gKiBAYWxwaGFcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBEZXNjcmlwdG9yQmFzZTxUID0gYW55PiB7XG4gIHFybDogUVJMSW50ZXJuYWw8VD47XG4gIGVsOiBFbGVtZW50O1xuICBmOiBudW1iZXI7XG4gIGk6IG51bWJlcjtcbiAgZGVzdHJveT86IE5vU2VyaWFsaXplPCgpID0+IHZvaWQ+O1xufVxuXG4vKipcbiAqIEBhbHBoYVxuICovXG5leHBvcnQgdHlwZSBXYXRjaERlc2NyaXB0b3IgPSBEZXNjcmlwdG9yQmFzZTxXYXRjaEZuPjtcblxuLyoqXG4gKiBAYWxwaGFcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZXNvdXJjZURlc2NyaXB0b3I8VD4gZXh0ZW5kcyBEZXNjcmlwdG9yQmFzZTxSZXNvdXJjZUZuPFQ+PiB7XG4gIHI6IFJlc291cmNlUmV0dXJuPFQ+O1xufVxuXG4vKipcbiAqIEBhbHBoYVxuICovXG5leHBvcnQgdHlwZSBTdWJzY3JpYmVyRGVzY3JpcHRvciA9IFdhdGNoRGVzY3JpcHRvciB8IFJlc291cmNlRGVzY3JpcHRvcjxhbnk+O1xuXG5leHBvcnQgY29uc3QgaXNTdWJzY3JpYmVyRGVzY3JpcHRvciA9IChvYmo6IGFueSk6IG9iaiBpcyBTdWJzY3JpYmVyRGVzY3JpcHRvciA9PiB7XG4gIHJldHVybiBpc09iamVjdChvYmopICYmICdxcmwnIGluIG9iaiAmJiAnZicgaW4gb2JqO1xufTtcblxuZXhwb3J0IGNvbnN0IGlzV2F0Y2hDbGVhbnVwID0gKG9iajogYW55KTogb2JqIGlzIFdhdGNoRGVzY3JpcHRvciA9PiB7XG4gIHJldHVybiBpc1N1YnNjcmliZXJEZXNjcmlwdG9yKG9iaikgJiYgISEob2JqLmYgJiBXYXRjaEZsYWdzSXNDbGVhbnVwKTtcbn07XG5cbi8qKlxuICogQGFscGhhXG4gKi9cbmV4cG9ydCB0eXBlIFVzZUVmZmVjdFJ1bk9wdGlvbnMgPSAndmlzaWJsZScgfCAnbG9hZCc7XG5cbi8qKlxuICogQGFscGhhXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVXNlRWZmZWN0T3B0aW9ucyB7XG4gIC8qKlxuICAgKiAtIGB2aXNpYmxlYDogcnVuIHRoZSBlZmZlY3Qgd2hlbiB0aGUgZWxlbWVudCBpcyB2aXNpYmxlLlxuICAgKiAtIGBsb2FkYDogZWFnZXJseSBydW4gdGhlIGVmZmVjdCB3aGVuIHRoZSBhcHBsaWNhdGlvbiByZXN1bWVzLlxuICAgKi9cbiAgcnVuPzogVXNlRWZmZWN0UnVuT3B0aW9ucztcbn1cblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi9yZWFkbWUubWQjdXNlV2F0Y2hcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjdXNlV2F0Y2ggaW5zdGVhZClcbi8qKlxuICogUmVydW5zIHRoZSBgd2F0Y2hGbmAgd2hlbiB0aGUgb2JzZXJ2ZWQgaW5wdXRzIGNoYW5nZS5cbiAqXG4gKiBVc2UgYHVzZVdhdGNoYCB0byBvYnNlcnZlIGNoYW5nZXMgb24gYSBzZXQgb2YgaW5wdXRzLCBhbmQgdGhlbiByZS1leGVjdXRlIHRoZSBgd2F0Y2hGbmAgd2hlblxuICogdGhvc2UgaW5wdXRzIGNoYW5nZS5cbiAqXG4gKiBUaGUgYHdhdGNoRm5gIG9ubHkgZXhlY3V0ZXMgaWYgdGhlIG9ic2VydmVkIGlucHV0cyBjaGFuZ2UuIFRvIG9ic2VydmUgdGhlIGlucHV0cywgdXNlIHRoZVxuICogYG9ic2AgZnVuY3Rpb24gdG8gd3JhcCBwcm9wZXJ0eSByZWFkcy4gVGhpcyBjcmVhdGVzIHN1YnNjcmlwdGlvbnMgdGhhdCB3aWxsIHRyaWdnZXIgdGhlXG4gKiBgd2F0Y2hGbmAgdG8gcmVydW4uXG4gKlxuICogQHNlZSBgVHJhY2tlcmBcbiAqXG4gKiBAcHVibGljXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIFRoZSBgdXNlV2F0Y2hgIGZ1bmN0aW9uIGlzIHVzZWQgdG8gb2JzZXJ2ZSB0aGUgYHN0YXRlLmNvdW50YCBwcm9wZXJ0eS4gQW55IGNoYW5nZXMgdG8gdGhlXG4gKiBgc3RhdGUuY291bnRgIGNhdXNlIHRoZSBgd2F0Y2hGbmAgdG8gZXhlY3V0ZSB3aGljaCBpbiB0dXJuIHVwZGF0ZXMgdGhlIGBzdGF0ZS5kb3VibGVDb3VudGAgdG9cbiAqIHRoZSBkb3VibGUgb2YgYHN0YXRlLmNvdW50YC5cbiAqXG4gKiBgYGB0c3hcbiAqIGNvbnN0IENtcCA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICogICBjb25zdCBzdG9yZSA9IHVzZVN0b3JlKHtcbiAqICAgICBjb3VudDogMCxcbiAqICAgICBkb3VibGVDb3VudDogMCxcbiAqICAgICBkZWJvdW5jZWQ6IDAsXG4gKiAgIH0pO1xuICpcbiAqICAgLy8gRG91YmxlIGNvdW50IHdhdGNoXG4gKiAgIHVzZVdhdGNoJCgodHJhY2spID0+IHtcbiAqICAgICBjb25zdCBjb3VudCA9IHRyYWNrKHN0b3JlLCAnY291bnQnKTtcbiAqICAgICBzdG9yZS5kb3VibGVDb3VudCA9IDIgKiBjb3VudDtcbiAqICAgfSk7XG4gKlxuICogICAvLyBEZWJvdW5jZXIgd2F0Y2hcbiAqICAgdXNlV2F0Y2gkKCh0cmFjaykgPT4ge1xuICogICAgIGNvbnN0IGRvdWJsZUNvdW50ID0gdHJhY2soc3RvcmUsICdkb3VibGVDb3VudCcpO1xuICogICAgIGNvbnN0IHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gKiAgICAgICBzdG9yZS5kZWJvdW5jZWQgPSBkb3VibGVDb3VudDtcbiAqICAgICB9LCAyMDAwKTtcbiAqICAgICByZXR1cm4gKCkgPT4ge1xuICogICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAqICAgICB9O1xuICogICB9KTtcbiAqICAgcmV0dXJuIChcbiAqICAgICA8SG9zdD5cbiAqICAgICAgIDxkaXY+XG4gKiAgICAgICAgIHtzdG9yZS5jb3VudH0gLyB7c3RvcmUuZG91YmxlQ291bnR9XG4gKiAgICAgICA8L2Rpdj5cbiAqICAgICAgIDxkaXY+e3N0b3JlLmRlYm91bmNlZH08L2Rpdj5cbiAqICAgICA8L0hvc3Q+XG4gKiAgICk7XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB3YXRjaCAtIEZ1bmN0aW9uIHdoaWNoIHNob3VsZCBiZSByZS1leGVjdXRlZCB3aGVuIGNoYW5nZXMgdG8gdGhlIGlucHV0cyBhcmUgZGV0ZWN0ZWRcbiAqIEBwdWJsaWNcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGNvbnN0IHVzZVdhdGNoUXJsID0gKHFybDogUVJMPFdhdGNoRm4+LCBvcHRzPzogVXNlRWZmZWN0T3B0aW9ucyk6IHZvaWQgPT4ge1xuICBjb25zdCB7IGdldCwgc2V0LCBjdHgsIGkgfSA9IHVzZVNlcXVlbnRpYWxTY29wZTxib29sZWFuPigpO1xuICBpZiAoIWdldCkge1xuICAgIGFzc2VydFFybChxcmwpO1xuICAgIGNvbnN0IGVsID0gY3R4LiRob3N0RWxlbWVudCQ7XG4gICAgY29uc3QgY29udGFpbmVyU3RhdGUgPSBjdHguJHJlbmRlckN0eCQuJGNvbnRhaW5lclN0YXRlJDtcbiAgICBjb25zdCB3YXRjaDogV2F0Y2hEZXNjcmlwdG9yID0ge1xuICAgICAgcXJsLFxuICAgICAgZWwsXG4gICAgICBmOiBXYXRjaEZsYWdzSXNEaXJ0eSB8IFdhdGNoRmxhZ3NJc1dhdGNoLFxuICAgICAgaSxcbiAgICB9O1xuICAgIHNldCh0cnVlKTtcbiAgICBnZXRDb250ZXh0KGVsKS4kd2F0Y2hlcyQucHVzaCh3YXRjaCk7XG4gICAgY29uc3QgcHJldmlvdXNXYWl0ID0gY3R4LiR3YWl0T24kLnNsaWNlKCk7XG4gICAgY3R4LiR3YWl0T24kLnB1c2goUHJvbWlzZS5hbGwocHJldmlvdXNXYWl0KS50aGVuKCgpID0+IHJ1blN1YnNjcmliZXIod2F0Y2gsIGNvbnRhaW5lclN0YXRlKSkpO1xuICAgIGNvbnN0IGlzU2VydmVyID0gY29udGFpbmVyU3RhdGUuJHBsYXRmb3JtJC5pc1NlcnZlcjtcbiAgICBpZiAoaXNTZXJ2ZXIpIHtcbiAgICAgIHVzZVJ1bldhdGNoKHdhdGNoLCBvcHRzPy5ydW4pO1xuICAgIH1cbiAgfVxufTtcblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi9yZWFkbWUubWQjdXNlV2F0Y2hcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjdXNlV2F0Y2ggaW5zdGVhZClcbi8qKlxuICogUmVydW5zIHRoZSBgd2F0Y2hGbmAgd2hlbiB0aGUgb2JzZXJ2ZWQgaW5wdXRzIGNoYW5nZS5cbiAqXG4gKiBVc2UgYHVzZVdhdGNoYCB0byBvYnNlcnZlIGNoYW5nZXMgb24gYSBzZXQgb2YgaW5wdXRzLCBhbmQgdGhlbiByZS1leGVjdXRlIHRoZSBgd2F0Y2hGbmAgd2hlblxuICogdGhvc2UgaW5wdXRzIGNoYW5nZS5cbiAqXG4gKiBUaGUgYHdhdGNoRm5gIG9ubHkgZXhlY3V0ZXMgaWYgdGhlIG9ic2VydmVkIGlucHV0cyBjaGFuZ2UuIFRvIG9ic2VydmUgdGhlIGlucHV0cywgdXNlIHRoZVxuICogYG9ic2AgZnVuY3Rpb24gdG8gd3JhcCBwcm9wZXJ0eSByZWFkcy4gVGhpcyBjcmVhdGVzIHN1YnNjcmlwdGlvbnMgdGhhdCB3aWxsIHRyaWdnZXIgdGhlXG4gKiBgd2F0Y2hGbmAgdG8gcmVydW4uXG4gKlxuICogQHNlZSBgVHJhY2tlcmBcbiAqXG4gKiBAcHVibGljXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIFRoZSBgdXNlV2F0Y2hgIGZ1bmN0aW9uIGlzIHVzZWQgdG8gb2JzZXJ2ZSB0aGUgYHN0YXRlLmNvdW50YCBwcm9wZXJ0eS4gQW55IGNoYW5nZXMgdG8gdGhlXG4gKiBgc3RhdGUuY291bnRgIGNhdXNlIHRoZSBgd2F0Y2hGbmAgdG8gZXhlY3V0ZSB3aGljaCBpbiB0dXJuIHVwZGF0ZXMgdGhlIGBzdGF0ZS5kb3VibGVDb3VudGAgdG9cbiAqIHRoZSBkb3VibGUgb2YgYHN0YXRlLmNvdW50YC5cbiAqXG4gKiBgYGB0c3hcbiAqIGNvbnN0IENtcCA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICogICBjb25zdCBzdG9yZSA9IHVzZVN0b3JlKHtcbiAqICAgICBjb3VudDogMCxcbiAqICAgICBkb3VibGVDb3VudDogMCxcbiAqICAgICBkZWJvdW5jZWQ6IDAsXG4gKiAgIH0pO1xuICpcbiAqICAgLy8gRG91YmxlIGNvdW50IHdhdGNoXG4gKiAgIHVzZVdhdGNoJCgodHJhY2spID0+IHtcbiAqICAgICBjb25zdCBjb3VudCA9IHRyYWNrKHN0b3JlLCAnY291bnQnKTtcbiAqICAgICBzdG9yZS5kb3VibGVDb3VudCA9IDIgKiBjb3VudDtcbiAqICAgfSk7XG4gKlxuICogICAvLyBEZWJvdW5jZXIgd2F0Y2hcbiAqICAgdXNlV2F0Y2gkKCh0cmFjaykgPT4ge1xuICogICAgIGNvbnN0IGRvdWJsZUNvdW50ID0gdHJhY2soc3RvcmUsICdkb3VibGVDb3VudCcpO1xuICogICAgIGNvbnN0IHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gKiAgICAgICBzdG9yZS5kZWJvdW5jZWQgPSBkb3VibGVDb3VudDtcbiAqICAgICB9LCAyMDAwKTtcbiAqICAgICByZXR1cm4gKCkgPT4ge1xuICogICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAqICAgICB9O1xuICogICB9KTtcbiAqICAgcmV0dXJuIChcbiAqICAgICA8SG9zdD5cbiAqICAgICAgIDxkaXY+XG4gKiAgICAgICAgIHtzdG9yZS5jb3VudH0gLyB7c3RvcmUuZG91YmxlQ291bnR9XG4gKiAgICAgICA8L2Rpdj5cbiAqICAgICAgIDxkaXY+e3N0b3JlLmRlYm91bmNlZH08L2Rpdj5cbiAqICAgICA8L0hvc3Q+XG4gKiAgICk7XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB3YXRjaCAtIEZ1bmN0aW9uIHdoaWNoIHNob3VsZCBiZSByZS1leGVjdXRlZCB3aGVuIGNoYW5nZXMgdG8gdGhlIGlucHV0cyBhcmUgZGV0ZWN0ZWRcbiAqIEBwdWJsaWNcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGNvbnN0IHVzZVdhdGNoJCA9IC8qI19fUFVSRV9fKi8gaW1wbGljaXQkRmlyc3RBcmcodXNlV2F0Y2hRcmwpO1xuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4uL3JlYWRtZS5tZCN1c2VDbGllbnRFZmZlY3RcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjdXNlQ2xpZW50RWZmZWN0IGluc3RlYWQpXG4vKipcbiAqIGBgYHRzeFxuICogY29uc3QgVGltZXIgPSBjb21wb25lbnQkKCgpID0+IHtcbiAqICAgY29uc3Qgc3RvcmUgPSB1c2VTdG9yZSh7XG4gKiAgICAgY291bnQ6IDAsXG4gKiAgIH0pO1xuICpcbiAqICAgdXNlQ2xpZW50RWZmZWN0JCgoKSA9PiB7XG4gKiAgICAgLy8gT25seSBydW5zIGluIHRoZSBjbGllbnRcbiAqICAgICBjb25zdCB0aW1lciA9IHNldEludGVydmFsKCgpID0+IHtcbiAqICAgICAgIHN0b3JlLmNvdW50Kys7XG4gKiAgICAgfSwgNTAwKTtcbiAqICAgICByZXR1cm4gKCkgPT4ge1xuICogICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcik7XG4gKiAgICAgfTtcbiAqICAgfSk7XG4gKlxuICogICByZXR1cm4gPEhvc3Q+e3N0b3JlLmNvdW50fTwvSG9zdD47XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBwdWJsaWNcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGNvbnN0IHVzZUNsaWVudEVmZmVjdFFybCA9IChxcmw6IFFSTDxXYXRjaEZuPiwgb3B0cz86IFVzZUVmZmVjdE9wdGlvbnMpOiB2b2lkID0+IHtcbiAgY29uc3QgeyBnZXQsIHNldCwgaSwgY3R4IH0gPSB1c2VTZXF1ZW50aWFsU2NvcGU8Ym9vbGVhbj4oKTtcbiAgaWYgKCFnZXQpIHtcbiAgICBhc3NlcnRRcmwocXJsKTtcbiAgICBjb25zdCBlbCA9IGN0eC4kaG9zdEVsZW1lbnQkO1xuICAgIGNvbnN0IHdhdGNoOiBXYXRjaERlc2NyaXB0b3IgPSB7XG4gICAgICBxcmwsXG4gICAgICBlbCxcbiAgICAgIGY6IFdhdGNoRmxhZ3NJc0VmZmVjdCxcbiAgICAgIGksXG4gICAgfTtcbiAgICBzZXQodHJ1ZSk7XG4gICAgZ2V0Q29udGV4dChlbCkuJHdhdGNoZXMkLnB1c2god2F0Y2gpO1xuICAgIHVzZVJ1bldhdGNoKHdhdGNoLCBvcHRzPy5ydW4gPz8gJ3Zpc2libGUnKTtcbiAgICBjb25zdCBkb2MgPSBjdHguJGRvYyQgYXMgYW55O1xuICAgIGlmIChkb2NbJ3FPJ10pIHtcbiAgICAgIGRvY1sncU8nXS5vYnNlcnZlKGVsKTtcbiAgICB9XG4gIH1cbn07XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kI3VzZUNsaWVudEVmZmVjdFwiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IC4uL3JlYWRtZS5tZCN1c2VDbGllbnRFZmZlY3QgaW5zdGVhZClcbi8qKlxuICogYGBgdHN4XG4gKiBjb25zdCBUaW1lciA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICogICBjb25zdCBzdG9yZSA9IHVzZVN0b3JlKHtcbiAqICAgICBjb3VudDogMCxcbiAqICAgfSk7XG4gKlxuICogICB1c2VDbGllbnRFZmZlY3QkKCgpID0+IHtcbiAqICAgICAvLyBPbmx5IHJ1bnMgaW4gdGhlIGNsaWVudFxuICogICAgIGNvbnN0IHRpbWVyID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICogICAgICAgc3RvcmUuY291bnQrKztcbiAqICAgICB9LCA1MDApO1xuICogICAgIHJldHVybiAoKSA9PiB7XG4gKiAgICAgICBjbGVhckludGVydmFsKHRpbWVyKTtcbiAqICAgICB9O1xuICogICB9KTtcbiAqXG4gKiAgIHJldHVybiA8SG9zdD57c3RvcmUuY291bnR9PC9Ib3N0PjtcbiAqIH0pO1xuICogYGBgXG4gKlxuICogQHB1YmxpY1xuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgY29uc3QgdXNlQ2xpZW50RWZmZWN0JCA9IC8qI19fUFVSRV9fKi8gaW1wbGljaXQkRmlyc3RBcmcodXNlQ2xpZW50RWZmZWN0UXJsKTtcblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi9yZWFkbWUubWQjdXNlU2VydmVyTW91bnRcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjdXNlU2VydmVyTW91bnQgaW5zdGVhZClcbi8qKlxuICogUmVnaXN0ZXIncyBhIHNlcnZlciBtb3VudCBob29rIHRoYXQgcnVucyBvbmx5IGluIHRoZSBzZXJ2ZXIgd2hlbiB0aGUgY29tcG9uZW50IGlzIGZpcnN0XG4gKiBtb3VudGVkLlxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBgYGB0c3hcbiAqIGNvbnN0IENtcCA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICogICBjb25zdCBzdG9yZSA9IHVzZVN0b3JlKHtcbiAqICAgICB1c2VyczogW10sXG4gKiAgIH0pO1xuICpcbiAqICAgdXNlU2VydmVyTW91bnQkKGFzeW5jICgpID0+IHtcbiAqICAgICAvLyBUaGlzIGNvZGUgd2lsbCBPTkxZIHJ1biBvbmNlIGluIHRoZSBzZXJ2ZXIsIHdoZW4gdGhlIGNvbXBvbmVudCBpcyBtb3VudGVkXG4gKiAgICAgc3RvcmUudXNlcnMgPSBhd2FpdCBkYi5yZXF1ZXN0VXNlcnMoKTtcbiAqICAgfSk7XG4gKlxuICogICByZXR1cm4gKFxuICogICAgIDxIb3N0PlxuICogICAgICAge3N0b3JlLnVzZXJzLm1hcCgodXNlcikgPT4gKFxuICogICAgICAgICA8VXNlciB1c2VyPXt1c2VyfSAvPlxuICogICAgICAgKSl9XG4gKiAgICAgPC9Ib3N0PlxuICogICApO1xuICogfSk7XG4gKlxuICogaW50ZXJmYWNlIFVzZXIge1xuICogICBuYW1lOiBzdHJpbmc7XG4gKiB9XG4gKiBmdW5jdGlvbiBVc2VyKHByb3BzOiB7IHVzZXI6IFVzZXIgfSkge1xuICogICByZXR1cm4gPGRpdj5OYW1lOiB7cHJvcHMudXNlci5uYW1lfTwvZGl2PjtcbiAqIH1cbiAqIGBgYFxuICpcbiAqIEBzZWUgYHVzZU1vdW50YFxuICogQHB1YmxpY1xuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgY29uc3QgdXNlU2VydmVyTW91bnRRcmwgPSA8VD4obW91bnRRcmw6IFFSTDxNb3VudEZuPFQ+Pik6IFJlc291cmNlUmV0dXJuPFQ+ID0+IHtcbiAgY29uc3QgeyBnZXQsIHNldCwgY3R4IH0gPSB1c2VTZXF1ZW50aWFsU2NvcGU8UmVzb3VyY2VSZXR1cm48VD4+KCk7XG4gIGlmIChnZXQpIHtcbiAgICByZXR1cm4gZ2V0O1xuICB9XG4gIGNvbnN0IGlzU2VydmVyID0gZ2V0UGxhdGZvcm0oY3R4LiRkb2MkKS5pc1NlcnZlcjtcbiAgaWYgKGlzU2VydmVyKSB7XG4gICAgY29uc3QgcmVzb3VyY2UgPSBjcmVhdGVSZXNvdXJjZUZyb21Qcm9taXNlKG1vdW50UXJsKCkpO1xuICAgIGN0eC4kd2FpdE9uJC5wdXNoKHJlc291cmNlLnByb21pc2UpO1xuICAgIHNldChyZXNvdXJjZSk7XG4gICAgcmV0dXJuIHJlc291cmNlO1xuICB9IGVsc2Uge1xuICAgIHRocm93IHFFcnJvcihRRXJyb3JfY2FuTm90TW91bnRVc2VTZXJ2ZXJNb3VudCwgY3R4LiRob3N0RWxlbWVudCQpO1xuICB9XG59O1xuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4uL3JlYWRtZS5tZCN1c2VTZXJ2ZXJNb3VudFwiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IC4uL3JlYWRtZS5tZCN1c2VTZXJ2ZXJNb3VudCBpbnN0ZWFkKVxuLyoqXG4gKiBSZWdpc3RlcidzIGEgc2VydmVyIG1vdW50IGhvb2sgdGhhdCBydW5zIG9ubHkgaW4gdGhlIHNlcnZlciB3aGVuIHRoZSBjb21wb25lbnQgaXMgZmlyc3RcbiAqIG1vdW50ZWQuXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIGBgYHRzeFxuICogY29uc3QgQ21wID0gY29tcG9uZW50JCgoKSA9PiB7XG4gKiAgIGNvbnN0IHN0b3JlID0gdXNlU3RvcmUoe1xuICogICAgIHVzZXJzOiBbXSxcbiAqICAgfSk7XG4gKlxuICogICB1c2VTZXJ2ZXJNb3VudCQoYXN5bmMgKCkgPT4ge1xuICogICAgIC8vIFRoaXMgY29kZSB3aWxsIE9OTFkgcnVuIG9uY2UgaW4gdGhlIHNlcnZlciwgd2hlbiB0aGUgY29tcG9uZW50IGlzIG1vdW50ZWRcbiAqICAgICBzdG9yZS51c2VycyA9IGF3YWl0IGRiLnJlcXVlc3RVc2VycygpO1xuICogICB9KTtcbiAqXG4gKiAgIHJldHVybiAoXG4gKiAgICAgPEhvc3Q+XG4gKiAgICAgICB7c3RvcmUudXNlcnMubWFwKCh1c2VyKSA9PiAoXG4gKiAgICAgICAgIDxVc2VyIHVzZXI9e3VzZXJ9IC8+XG4gKiAgICAgICApKX1cbiAqICAgICA8L0hvc3Q+XG4gKiAgICk7XG4gKiB9KTtcbiAqXG4gKiBpbnRlcmZhY2UgVXNlciB7XG4gKiAgIG5hbWU6IHN0cmluZztcbiAqIH1cbiAqIGZ1bmN0aW9uIFVzZXIocHJvcHM6IHsgdXNlcjogVXNlciB9KSB7XG4gKiAgIHJldHVybiA8ZGl2Pk5hbWU6IHtwcm9wcy51c2VyLm5hbWV9PC9kaXY+O1xuICogfVxuICogYGBgXG4gKlxuICogQHNlZSBgdXNlTW91bnRgXG4gKiBAcHVibGljXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBjb25zdCB1c2VTZXJ2ZXJNb3VudCQgPSAvKiNfX1BVUkVfXyovIGltcGxpY2l0JEZpcnN0QXJnKHVzZVNlcnZlck1vdW50UXJsKTtcblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi9yZWFkbWUubWQjdXNlTW91bnRcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjdXNlTW91bnQgaW5zdGVhZClcbi8qKlxuICogUmVnaXN0ZXIgYSBzZXJ2ZXIgbW91bnQgaG9vayB0aGF0IHJ1bnMgb25seSBpbiB0aGUgc2VydmVyIHdoZW4gdGhlIGNvbXBvbmVudCBpcyBmaXJzdCBtb3VudGVkLlxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBgYGB0c3hcbiAqIGNvbnN0IENtcCA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICogICBjb25zdCBzdG9yZSA9IHVzZVN0b3JlKHtcbiAqICAgICB0ZW1wOiAwLFxuICogICB9KTtcbiAqXG4gKiAgIHVzZU1vdW50JChhc3luYyAoKSA9PiB7XG4gKiAgICAgLy8gVGhpcyBjb2RlIHdpbGwgcnVuIG9uY2Ugd2hlbmV2ZXIgYSBjb21wb25lbnQgaXMgbW91bnRlZCBpbiB0aGUgc2VydmVyLCBvciBpbiB0aGUgY2xpZW50XG4gKiAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goJ3dlYXRoZXItYXBpLmV4YW1wbGUnKTtcbiAqICAgICBjb25zdCBqc29uID0gKGF3YWl0IHJlcy5qc29uKCkpIGFzIGFueTtcbiAqICAgICBzdG9yZS50ZW1wID0ganNvbi50ZW1wO1xuICogICB9KTtcbiAqXG4gKiAgIHJldHVybiAoXG4gKiAgICAgPEhvc3Q+XG4gKiAgICAgICA8cD5UaGUgdGVtcGVyYXR1cmUgaXM6ICR7c3RvcmUudGVtcH08L3A+XG4gKiAgICAgPC9Ib3N0PlxuICogICApO1xuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBAc2VlIGB1c2VTZXJ2ZXJNb3VudGBcbiAqIEBwdWJsaWNcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGNvbnN0IHVzZU1vdW50UXJsID0gPFQ+KG1vdW50UXJsOiBRUkw8TW91bnRGbjxUPj4pOiBSZXNvdXJjZVJldHVybjxUPiA9PiB7XG4gIGNvbnN0IHsgZ2V0LCBzZXQsIGN0eCB9ID0gdXNlU2VxdWVudGlhbFNjb3BlPFJlc291cmNlUmV0dXJuPFQ+PigpO1xuICBpZiAoZ2V0KSB7XG4gICAgcmV0dXJuIGdldDtcbiAgfVxuICBjb25zdCByZXNvdXJjZSA9IGNyZWF0ZVJlc291cmNlRnJvbVByb21pc2UobW91bnRRcmwoKSk7XG4gIGN0eC4kd2FpdE9uJC5wdXNoKHJlc291cmNlLnByb21pc2UpO1xuICBzZXQocmVzb3VyY2UpO1xuICByZXR1cm4gcmVzb3VyY2U7XG59O1xuXG5jb25zdCBjcmVhdGVSZXNvdXJjZUZyb21Qcm9taXNlID0gPFQ+KHByb21pc2U6IFByb21pc2U8VD4pOiBSZXNvdXJjZVJldHVybjxUPiA9PiB7XG4gIGNvbnN0IHJlc291cmNlOiBSZXNvdXJjZVJldHVybjxUPiA9IHtcbiAgICBzdGF0ZTogJ3BlbmRpbmcnLFxuICAgIGVycm9yOiB1bmRlZmluZWQsXG4gICAgcmVzb2x2ZWQ6IHVuZGVmaW5lZCxcbiAgICBwcm9taXNlOiBwcm9taXNlLnRoZW4oXG4gICAgICAodmFsdWUpID0+IHtcbiAgICAgICAgcmVzb3VyY2Uuc3RhdGUgPSAncmVzb2x2ZWQnO1xuICAgICAgICByZXNvdXJjZS5yZXNvbHZlZCA9IHZhbHVlIGFzIGFueTtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfSxcbiAgICAgIChyZWFzb24pID0+IHtcbiAgICAgICAgcmVzb3VyY2Uuc3RhdGUgPSAncmVqZWN0ZWQnO1xuICAgICAgICByZXNvdXJjZS5lcnJvciA9IHJlYXNvbjtcbiAgICAgICAgdGhyb3cgcmVhc29uO1xuICAgICAgfVxuICAgICksXG4gIH07XG4gIHJldHVybiByZXNvdXJjZTtcbn07XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kI3VzZU1vdW50XCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi4vcmVhZG1lLm1kI3VzZU1vdW50IGluc3RlYWQpXG4vKipcbiAqIFJlZ2lzdGVyIGEgc2VydmVyIG1vdW50IGhvb2sgdGhhdCBydW5zIG9ubHkgaW4gdGhlIHNlcnZlciB3aGVuIHRoZSBjb21wb25lbnQgaXMgZmlyc3QgbW91bnRlZC5cbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogYGBgdHN4XG4gKiBjb25zdCBDbXAgPSBjb21wb25lbnQkKCgpID0+IHtcbiAqICAgY29uc3Qgc3RvcmUgPSB1c2VTdG9yZSh7XG4gKiAgICAgdGVtcDogMCxcbiAqICAgfSk7XG4gKlxuICogICB1c2VNb3VudCQoYXN5bmMgKCkgPT4ge1xuICogICAgIC8vIFRoaXMgY29kZSB3aWxsIHJ1biBvbmNlIHdoZW5ldmVyIGEgY29tcG9uZW50IGlzIG1vdW50ZWQgaW4gdGhlIHNlcnZlciwgb3IgaW4gdGhlIGNsaWVudFxuICogICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKCd3ZWF0aGVyLWFwaS5leGFtcGxlJyk7XG4gKiAgICAgY29uc3QganNvbiA9IChhd2FpdCByZXMuanNvbigpKSBhcyBhbnk7XG4gKiAgICAgc3RvcmUudGVtcCA9IGpzb24udGVtcDtcbiAqICAgfSk7XG4gKlxuICogICByZXR1cm4gKFxuICogICAgIDxIb3N0PlxuICogICAgICAgPHA+VGhlIHRlbXBlcmF0dXJlIGlzOiAke3N0b3JlLnRlbXB9PC9wPlxuICogICAgIDwvSG9zdD5cbiAqICAgKTtcbiAqIH0pO1xuICogYGBgXG4gKlxuICogQHNlZSBgdXNlU2VydmVyTW91bnRgXG4gKiBAcHVibGljXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBjb25zdCB1c2VNb3VudCQgPSAvKiNfX1BVUkVfXyovIGltcGxpY2l0JEZpcnN0QXJnKHVzZU1vdW50UXJsKTtcblxuZXhwb3J0IGNvbnN0IHJ1blN1YnNjcmliZXIgPSBhc3luYyAoXG4gIHdhdGNoOiBTdWJzY3JpYmVyRGVzY3JpcHRvcixcbiAgY29udGFpbmVyU3RhdGU6IENvbnRhaW5lclN0YXRlXG4pID0+IHtcbiAgYXNzZXJ0RXF1YWwoISEod2F0Y2guZiAmIFdhdGNoRmxhZ3NJc0RpcnR5KSwgdHJ1ZSwgJ1Jlc291cmNlIGlzIG5vdCBkaXJ0eScsIHdhdGNoKTtcbiAgaWYgKCdyJyBpbiB3YXRjaCkge1xuICAgIGF3YWl0IHJ1blJlc291cmNlKHdhdGNoLCBjb250YWluZXJTdGF0ZSk7XG4gIH0gZWxzZSB7XG4gICAgYXdhaXQgcnVuV2F0Y2god2F0Y2gsIGNvbnRhaW5lclN0YXRlKTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IHJ1blJlc291cmNlID0gPFQ+KFxuICB3YXRjaDogUmVzb3VyY2VEZXNjcmlwdG9yPFQ+LFxuICBjb250YWluZXJTdGF0ZTogQ29udGFpbmVyU3RhdGUsXG4gIHdhaXRPbj86IFByb21pc2U8YW55PlxuKTogVmFsdWVPclByb21pc2U8dm9pZD4gPT4ge1xuICB3YXRjaC5mICY9IH5XYXRjaEZsYWdzSXNEaXJ0eTtcbiAgY2xlYW51cFdhdGNoKHdhdGNoKTtcblxuICBjb25zdCBlbCA9IHdhdGNoLmVsO1xuICBjb25zdCBkb2MgPSBnZXREb2N1bWVudChlbCk7XG4gIGNvbnN0IGludm9rYXRpb25Db250ZXh0ID0gbmV3SW52b2tlQ29udGV4dChkb2MsIGVsLCBlbCwgJ1dhdGNoRXZlbnQnKTtcbiAgY29uc3QgeyAkc3Vic01hbmFnZXIkOiBzdWJzTWFuYWdlciB9ID0gY29udGFpbmVyU3RhdGU7XG4gIGNvbnN0IHdhdGNoRm4gPSB3YXRjaC5xcmwuJGludm9rZUZuJChlbCwgaW52b2thdGlvbkNvbnRleHQsICgpID0+IHtcbiAgICBzdWJzTWFuYWdlci4kY2xlYXJTdWIkKHdhdGNoKTtcbiAgfSk7XG5cbiAgY29uc3QgY2xlYW51cHM6ICgoKSA9PiB2b2lkKVtdID0gW107XG4gIGNvbnN0IHJlc291cmNlID0gd2F0Y2gucjtcbiAgYXNzZXJ0RGVmaW5lZChcbiAgICByZXNvdXJjZSxcbiAgICAndXNlUmVzb3VyY2U6IHdoZW4gcnVubmluZyBhIHJlc291cmNlLCBcIndhdGNoLnJcIiBtdXN0IGJlIGEgZGVmaW5lZC4nLFxuICAgIHdhdGNoXG4gICk7XG5cbiAgY29uc3QgdHJhY2s6IFRyYWNrZXIgPSAob2JqOiBhbnksIHByb3A/OiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCB0YXJnZXQgPSBnZXRQcm94eVRhcmdldChvYmopO1xuICAgIGlmICh0YXJnZXQpIHtcbiAgICAgIGNvbnN0IG1hbmFnZXIgPSBzdWJzTWFuYWdlci4kZ2V0TG9jYWwkKHRhcmdldCk7XG4gICAgICBtYW5hZ2VyLiRhZGRTdWIkKHdhdGNoLCBwcm9wKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbG9nRXJyb3JBbmRTdG9wKGNvZGVUb1RleHQoUUVycm9yX3RyYWNrVXNlU3RvcmUpLCBvYmopO1xuICAgIH1cbiAgICBpZiAocHJvcCkge1xuICAgICAgcmV0dXJuIG9ialtwcm9wXTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG4gIH07XG4gIGNvbnN0IG9wdHM6IFJlc291cmNlQ3R4PFQ+ID0ge1xuICAgIHRyYWNrLFxuICAgIGNsZWFudXAoY2FsbGJhY2spIHtcbiAgICAgIGNsZWFudXBzLnB1c2goY2FsbGJhY2spO1xuICAgIH0sXG4gICAgcHJldmlvdXM6IHVud3JhcFByb3h5KHJlc291cmNlKS5yZXNvbHZlZCxcbiAgfTtcblxuICBsZXQgcmVzb2x2ZTogKHY6IFQpID0+IHZvaWQ7XG4gIGxldCByZWplY3Q6ICh2OiBhbnkpID0+IHZvaWQ7XG5cbiAgLy8gRXhlY3V0ZSBtdXRhdGlvbiBpbnNpZGUgZW1wdHkgaW52b2thdGlvblxuICB1c2VJbnZva2UoaW52b2thdGlvbkNvbnRleHQsICgpID0+IHtcbiAgICByZXNvdXJjZS5zdGF0ZSA9ICdwZW5kaW5nJztcbiAgICByZXNvdXJjZS5yZXNvbHZlZCA9IHVuZGVmaW5lZCBhcyBhbnk7XG4gICAgcmVzb3VyY2UucHJvbWlzZSA9IG5ldyBQcm9taXNlKChyLCByZSkgPT4ge1xuICAgICAgcmVzb2x2ZSA9IHI7XG4gICAgICByZWplY3QgPSByZTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgd2F0Y2guZGVzdHJveSA9IG5vU2VyaWFsaXplKCgpID0+IHtcbiAgICBjbGVhbnVwcy5mb3JFYWNoKChmbikgPT4gZm4oKSk7XG4gICAgcmVqZWN0KCdjYW5jZWxsZWQnKTtcbiAgfSk7XG5cbiAgcmV0dXJuIHNhZmVDYWxsKFxuICAgICgpID0+IHRoZW4od2FpdE9uLCAoKSA9PiB3YXRjaEZuKG9wdHMpKSxcbiAgICAodmFsdWUpID0+IHtcbiAgICAgIHJlc291cmNlLnN0YXRlID0gJ3Jlc29sdmVkJztcbiAgICAgIHJlc291cmNlLnJlc29sdmVkID0gdmFsdWU7XG4gICAgICByZXNvdXJjZS5lcnJvciA9IHVuZGVmaW5lZDtcbiAgICAgIHJlc29sdmUodmFsdWUpO1xuICAgICAgcmV0dXJuO1xuICAgIH0sXG4gICAgKHJlYXNvbikgPT4ge1xuICAgICAgcmVzb3VyY2Uuc3RhdGUgPSAncmVqZWN0ZWQnO1xuICAgICAgcmVzb3VyY2UucmVzb2x2ZWQgPSB1bmRlZmluZWQgYXMgYW55O1xuICAgICAgcmVzb3VyY2UuZXJyb3IgPSBub1NlcmlhbGl6ZShyZWFzb24pO1xuICAgICAgcmVqZWN0KHJlYXNvbik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICApO1xufTtcblxuZXhwb3J0IGNvbnN0IHJ1bldhdGNoID0gKFxuICB3YXRjaDogV2F0Y2hEZXNjcmlwdG9yLFxuICBjb250YWluZXJTdGF0ZTogQ29udGFpbmVyU3RhdGVcbik6IFZhbHVlT3JQcm9taXNlPHZvaWQ+ID0+IHtcbiAgd2F0Y2guZiAmPSB+V2F0Y2hGbGFnc0lzRGlydHk7XG5cbiAgY2xlYW51cFdhdGNoKHdhdGNoKTtcbiAgY29uc3QgZWwgPSB3YXRjaC5lbDtcbiAgY29uc3QgZG9jID0gZ2V0RG9jdW1lbnQoZWwpO1xuICBjb25zdCBpbnZva2F0aW9uQ29udGV4dCA9IG5ld0ludm9rZUNvbnRleHQoZG9jLCBlbCwgZWwsICdXYXRjaEV2ZW50Jyk7XG4gIGNvbnN0IHsgJHN1YnNNYW5hZ2VyJDogc3Vic01hbmFnZXIgfSA9IGNvbnRhaW5lclN0YXRlO1xuICBjb25zdCB3YXRjaEZuID0gd2F0Y2gucXJsLiRpbnZva2VGbiQoZWwsIGludm9rYXRpb25Db250ZXh0LCAoKSA9PiB7XG4gICAgc3Vic01hbmFnZXIuJGNsZWFyU3ViJCh3YXRjaCk7XG4gIH0pO1xuICBjb25zdCB0cmFjazogVHJhY2tlciA9IChvYmo6IGFueSwgcHJvcD86IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IHRhcmdldCA9IGdldFByb3h5VGFyZ2V0KG9iaik7XG4gICAgaWYgKHRhcmdldCkge1xuICAgICAgY29uc3QgbWFuYWdlciA9IHN1YnNNYW5hZ2VyLiRnZXRMb2NhbCQodGFyZ2V0KTtcbiAgICAgIG1hbmFnZXIuJGFkZFN1YiQod2F0Y2gsIHByb3ApO1xuICAgIH0gZWxzZSB7XG4gICAgICBsb2dFcnJvckFuZFN0b3AoY29kZVRvVGV4dChRRXJyb3JfdHJhY2tVc2VTdG9yZSksIG9iaik7XG4gICAgfVxuICAgIGlmIChwcm9wKSB7XG4gICAgICByZXR1cm4gb2JqW3Byb3BdO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gb2JqO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gc2FmZUNhbGwoXG4gICAgKCkgPT4gd2F0Y2hGbih0cmFjayksXG4gICAgKHJldHVyblZhbHVlKSA9PiB7XG4gICAgICBpZiAoaXNGdW5jdGlvbihyZXR1cm5WYWx1ZSkpIHtcbiAgICAgICAgd2F0Y2guZGVzdHJveSA9IG5vU2VyaWFsaXplKHJldHVyblZhbHVlKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIChyZWFzb24pID0+IHtcbiAgICAgIGxvZ0Vycm9yKHJlYXNvbik7XG4gICAgfVxuICApO1xufTtcblxuZXhwb3J0IGNvbnN0IGNsZWFudXBXYXRjaCA9ICh3YXRjaDogU3Vic2NyaWJlckRlc2NyaXB0b3IpID0+IHtcbiAgY29uc3QgZGVzdHJveSA9IHdhdGNoLmRlc3Ryb3k7XG4gIGlmIChkZXN0cm95KSB7XG4gICAgd2F0Y2guZGVzdHJveSA9IHVuZGVmaW5lZDtcbiAgICB0cnkge1xuICAgICAgZGVzdHJveSgpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgbG9nRXJyb3IoZXJyKTtcbiAgICB9XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBkZXN0cm95V2F0Y2ggPSAod2F0Y2g6IFN1YnNjcmliZXJEZXNjcmlwdG9yKSA9PiB7XG4gIGlmICh3YXRjaC5mICYgV2F0Y2hGbGFnc0lzQ2xlYW51cCkge1xuICAgIHdhdGNoLmYgJj0gfldhdGNoRmxhZ3NJc0NsZWFudXA7XG4gICAgY29uc3QgY2xlYW51cCA9IHdhdGNoLnFybC4kaW52b2tlRm4kKHdhdGNoLmVsKTtcbiAgICAoY2xlYW51cCBhcyBhbnkpKCk7XG4gIH0gZWxzZSB7XG4gICAgY2xlYW51cFdhdGNoKHdhdGNoKTtcbiAgfVxufTtcblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi9yZWFkbWUubWQjVHJhY2tlclwiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IC4uL3JlYWRtZS5tZCNUcmFja2VyIGluc3RlYWQpXG4vKipcbiAqIFVzZWQgdG8gc2lnbmFsIHRvIFF3aWsgd2hpY2ggc3RhdGUgc2hvdWxkIGJlIHdhdGNoZWQgZm9yIGNoYW5nZXMuXG4gKlxuICogVGhlIGBUcmFja2VyYCBpcyBwYXNzZWQgaW50byB0aGUgYHdhdGNoRm5gIG9mIGB1c2VXYXRjaGAuIEl0IGlzIGludGVuZGVkIHRvIGJlIHVzZWQgdG8gd3JhcFxuICogc3RhdGUgb2JqZWN0cyBpbiBhIHJlYWQgcHJveHkgd2hpY2ggc2lnbmFscyB0byBRd2lrIHdoaWNoIHByb3BlcnRpZXMgc2hvdWxkIGJlIHdhdGNoZWQgZm9yXG4gKiBjaGFuZ2VzLiBBIGNoYW5nZSB0byBhbnkgb2YgdGhlIHByb3BlcnRpZXMgY2F1c2VzIHRoZSBgd2F0Y2hGbmAgdG8gcmVydW4uXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIFRoZSBgb2JzYCBwYXNzZWQgaW50byB0aGUgYHdhdGNoRm5gIGlzIHVzZWQgdG8gbWFyayBgc3RhdGUuY291bnRgIGFzIGEgcHJvcGVydHkgb2YgaW50ZXJlc3QuXG4gKiBBbnkgY2hhbmdlcyB0byB0aGUgYHN0YXRlLmNvdW50YCBwcm9wZXJ0eSB3aWxsIGNhdXNlIHRoZSBgd2F0Y2hGbmAgdG8gcmVydW4uXG4gKlxuICogYGBgdHN4XG4gKiBjb25zdCBDbXAgPSBjb21wb25lbnQkKCgpID0+IHtcbiAqICAgY29uc3Qgc3RvcmUgPSB1c2VTdG9yZSh7IGNvdW50OiAwLCBkb3VibGVDb3VudDogMCB9KTtcbiAqICAgdXNlV2F0Y2gkKCh0cmFjaykgPT4ge1xuICogICAgIGNvbnN0IGNvdW50ID0gdHJhY2soc3RvcmUsICdjb3VudCcpO1xuICogICAgIHN0b3JlLmRvdWJsZUNvdW50ID0gMiAqIGNvdW50O1xuICogICB9KTtcbiAqICAgcmV0dXJuIChcbiAqICAgICA8ZGl2PlxuICogICAgICAgPHNwYW4+XG4gKiAgICAgICAgIHtzdG9yZS5jb3VudH0gLyB7c3RvcmUuZG91YmxlQ291bnR9XG4gKiAgICAgICA8L3NwYW4+XG4gKiAgICAgICA8YnV0dG9uIG9uQ2xpY2skPXsoKSA9PiBzdG9yZS5jb3VudCsrfT4rPC9idXR0b24+XG4gKiAgICAgPC9kaXY+XG4gKiAgICk7XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBzZWUgYHVzZVdhdGNoYFxuICpcbiAqIEBwdWJsaWNcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGludGVyZmFjZSBUcmFja2VyIHtcbiAgPFQgZXh0ZW5kcyB7fT4ob2JqOiBUKTogVDtcbiAgPFQgZXh0ZW5kcyB7fSwgQiBleHRlbmRzIGtleW9mIFQ+KG9iajogVCwgcHJvcDogQik6IFRbQl07XG59XG5cbmNvbnN0IHVzZVJ1bldhdGNoID0gKHdhdGNoOiBTdWJzY3JpYmVyRGVzY3JpcHRvciwgcnVuOiBVc2VFZmZlY3RSdW5PcHRpb25zIHwgdW5kZWZpbmVkKSA9PiB7XG4gIGlmIChydW4gPT09ICdsb2FkJykge1xuICAgIHVzZVJlc3VtZVFybChnZXRXYXRjaEhhbmRsZXJRcmwod2F0Y2gpKTtcbiAgfSBlbHNlIGlmIChydW4gPT09ICd2aXNpYmxlJykge1xuICAgIHVzZVZpc2libGVRcmwoZ2V0V2F0Y2hIYW5kbGVyUXJsKHdhdGNoKSk7XG4gIH1cbn07XG5cbmNvbnN0IGdldFdhdGNoSGFuZGxlclFybCA9ICh3YXRjaDogU3Vic2NyaWJlckRlc2NyaXB0b3IpID0+IHtcbiAgY29uc3Qgd2F0Y2hRcmwgPSB3YXRjaC5xcmw7XG4gIGNvbnN0IHdhdGNoSGFuZGxlciA9IGNyZWF0ZVFSTChcbiAgICB3YXRjaFFybC4kY2h1bmskLFxuICAgICdoYW5kbGVXYXRjaCcsXG4gICAgaGFuZGxlV2F0Y2gsXG4gICAgbnVsbCxcbiAgICBudWxsLFxuICAgIFt3YXRjaF0sXG4gICAgd2F0Y2hRcmwuJHN5bWJvbCRcbiAgKTtcbiAgcmV0dXJuIHdhdGNoSGFuZGxlcjtcbn07XG4iXX0=","export const emitEvent = (el, eventName, detail, bubbles) => {\n    if (el && typeof CustomEvent === 'function') {\n        el.dispatchEvent(new CustomEvent(eventName, {\n            detail,\n            bubbles: bubbles,\n            composed: bubbles,\n        }));\n    }\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXZlbnQuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvdXRpbC9ldmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxNQUFNLENBQUMsTUFBTSxTQUFTLEdBQUcsQ0FDdkIsRUFBdUIsRUFDdkIsU0FBaUIsRUFDakIsTUFBVyxFQUNYLE9BQWdCLEVBQ2hCLEVBQUU7SUFDRixJQUFJLEVBQUUsSUFBSSxPQUFPLFdBQVcsS0FBSyxVQUFVLEVBQUU7UUFDM0MsRUFBRSxDQUFDLGFBQWEsQ0FDZCxJQUFJLFdBQVcsQ0FBQyxTQUFTLEVBQUU7WUFDekIsTUFBTTtZQUNOLE9BQU8sRUFBRSxPQUFPO1lBQ2hCLFFBQVEsRUFBRSxPQUFPO1NBQ2xCLENBQUMsQ0FDSCxDQUFDO0tBQ0g7QUFDSCxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgZW1pdEV2ZW50ID0gKFxuICBlbDogRWxlbWVudCB8IHVuZGVmaW5lZCxcbiAgZXZlbnROYW1lOiBzdHJpbmcsXG4gIGRldGFpbDogYW55LFxuICBidWJibGVzOiBib29sZWFuXG4pID0+IHtcbiAgaWYgKGVsICYmIHR5cGVvZiBDdXN0b21FdmVudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGVsLmRpc3BhdGNoRXZlbnQoXG4gICAgICBuZXcgQ3VzdG9tRXZlbnQoZXZlbnROYW1lLCB7XG4gICAgICAgIGRldGFpbCxcbiAgICAgICAgYnViYmxlczogYnViYmxlcyxcbiAgICAgICAgY29tcG9zZWQ6IGJ1YmJsZXMsXG4gICAgICB9KVxuICAgICk7XG4gIH1cbn07XG4iXX0=","import { assertDefined, assertTrue } from '../assert/assert';\nimport { parseQRL, stringifyQRL } from '../import/qrl';\nimport { isQrl } from '../import/qrl-class';\nimport { getContext, tryGetContext } from '../props/props';\nimport { getDocument } from '../util/dom';\nimport { isDocument, isElement, isNode } from '../util/element';\nimport { logDebug, logWarn } from '../util/log';\nimport { ELEMENT_ID, ELEMENT_ID_PREFIX, QContainerAttr } from '../util/markers';\nimport { qDev } from '../util/qdev';\nimport { createProxy, getOrCreateProxy, getProxyFlags, getProxyTarget, isConnected, isMutable, mutable, shouldSerialize, } from './q-object';\nimport { destroyWatch, WatchFlagsIsDirty } from '../use/use-watch';\nimport { emitEvent } from '../util/event';\nimport { getContainerState } from '../render/notify-render';\nimport { qError, QError_containerAlreadyPaused, QError_missingObjectId, QError_verifySerializable, } from '../error/error';\nimport { isArray, isObject, isString } from '../util/types';\nimport { directGetAttribute, directSetAttribute } from '../render/fast-calls';\nimport { isNotNullable, isPromise } from '../util/promises';\nexport const UNDEFINED_PREFIX = '\\u0010';\nexport const QRL_PREFIX = '\\u0011';\nexport const DOCUMENT_PREFIX = '\\u0012';\n// <docs markdown=\"../readme.md#pauseContainer\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#pauseContainer instead)\n/**\n * Serialize the current state of the application into DOM\n *\n * @alpha\n */\n// </docs>\nexport const pauseContainer = async (elmOrDoc) => {\n    const doc = getDocument(elmOrDoc);\n    const documentElement = doc.documentElement;\n    const containerEl = isDocument(elmOrDoc) ? documentElement : elmOrDoc;\n    if (directGetAttribute(containerEl, QContainerAttr) === 'paused') {\n        throw qError(QError_containerAlreadyPaused);\n    }\n    const parentJSON = containerEl === doc.documentElement ? doc.body : containerEl;\n    const data = await pauseState(containerEl);\n    const script = doc.createElement('script');\n    directSetAttribute(script, 'type', 'qwik/json');\n    script.textContent = escapeText(JSON.stringify(data.state, undefined, qDev ? '  ' : undefined));\n    parentJSON.appendChild(script);\n    directSetAttribute(containerEl, QContainerAttr, 'paused');\n    return data;\n};\nexport const resumeContainer = (containerEl) => {\n    if (!isContainer(containerEl)) {\n        logWarn('Skipping hydration because parent element is not q:container');\n        return;\n    }\n    const doc = getDocument(containerEl);\n    const isDocElement = containerEl === doc.documentElement;\n    const parentJSON = isDocElement ? doc.body : containerEl;\n    const script = getQwikJSON(parentJSON);\n    if (!script) {\n        logWarn('Skipping hydration qwik/json metadata was not found.');\n        return;\n    }\n    script.remove();\n    const containerState = getContainerState(containerEl);\n    const meta = JSON.parse(unescapeText(script.textContent || '{}'));\n    // Collect all elements\n    const elements = new Map();\n    const getObject = (id) => {\n        return getObjectImpl(id, elements, meta.objs, containerState);\n    };\n    getNodesInScope(containerEl, hasQId).forEach((el) => {\n        const id = directGetAttribute(el, ELEMENT_ID);\n        assertDefined(id, `resume: element missed q:id`, el);\n        elements.set(ELEMENT_ID_PREFIX + id, el);\n    });\n    // Revive proxies with subscriptions into the proxymap\n    reviveValues(meta.objs, meta.subs, getObject, containerState, parentJSON);\n    // Rebuild target objects\n    for (const obj of meta.objs) {\n        reviveNestedObjects(obj, getObject);\n    }\n    Object.entries(meta.ctx).forEach(([elementID, ctxMeta]) => {\n        const el = getObject(elementID);\n        assertDefined(el, `resume: cant find dom node for id`, elementID);\n        const ctx = getContext(el);\n        const qobj = ctxMeta.r;\n        const seq = ctxMeta.s;\n        const host = ctxMeta.h;\n        const contexts = ctxMeta.c;\n        const watches = ctxMeta.w;\n        if (qobj) {\n            ctx.$refMap$.$array$.push(...qobj.split(' ').map((part) => getObject(part)));\n        }\n        if (seq) {\n            ctx.$seq$ = seq.split(' ').map((part) => getObject(part));\n        }\n        if (watches) {\n            ctx.$watches$ = watches.split(' ').map((part) => getObject(part));\n        }\n        if (contexts) {\n            contexts.split(' ').map((part) => {\n                const [key, value] = part.split('=');\n                if (!ctx.$contexts$) {\n                    ctx.$contexts$ = new Map();\n                }\n                ctx.$contexts$.set(key, getObject(value));\n            });\n        }\n        // Restore sequence scoping\n        if (host) {\n            const [props, renderQrl] = host.split(' ');\n            assertDefined(props, `resume: props missing in q:host attribute`, host);\n            assertDefined(renderQrl, `resume: renderQRL missing in q:host attribute`, host);\n            ctx.$props$ = getObject(props);\n            ctx.$renderQrl$ = getObject(renderQrl);\n        }\n    });\n    directSetAttribute(containerEl, QContainerAttr, 'resumed');\n    logDebug('Container resumed');\n    emitEvent(containerEl, 'qresume', undefined, true);\n};\nconst hasContext = (el) => {\n    return !!tryGetContext(el);\n};\nexport const pauseState = async (containerEl) => {\n    const containerState = getContainerState(containerEl);\n    const doc = getDocument(containerEl);\n    const elementToIndex = new Map();\n    const collector = createCollector(doc, containerState);\n    // Collect all qObjected around the DOM\n    const elements = getNodesInScope(containerEl, hasContext);\n    for (const node of elements) {\n        const ctx = tryGetContext(node);\n        await collectProps(node, ctx.$props$, collector);\n        if (ctx.$contexts$) {\n            for (const item of ctx.$contexts$.values()) {\n                await collectValue(item, collector);\n            }\n        }\n        if (ctx.$listeners$) {\n            for (const listeners of ctx.$listeners$.values()) {\n                for (const l of listeners) {\n                    const captured = l.$captureRef$;\n                    if (captured) {\n                        for (const obj of captured) {\n                            await collectValue(obj, collector);\n                        }\n                    }\n                }\n            }\n        }\n        for (const watch of ctx.$watches$) {\n            collector.$watches$.push(watch);\n        }\n        for (const obj of ctx.$refMap$.$array$) {\n            await collectValue(obj, collector);\n        }\n    }\n    // Convert objSet to array\n    const objs = Array.from(new Set(collector.$objMap$.values()));\n    const objToId = new Map();\n    const hasSubscriptions = (a) => {\n        const flags = getProxyFlags(containerState.$proxyMap$.get(a));\n        if (typeof flags === 'number' && flags > 0) {\n            return true;\n        }\n        const manager = containerState.$subsManager$.$tryGetLocal$(a);\n        if (manager) {\n            return manager.$subs$.size > 0;\n        }\n        return false;\n    };\n    const getElementID = (el) => {\n        let id = elementToIndex.get(el);\n        if (id === undefined) {\n            if (el.isConnected) {\n                id = intToStr(elementToIndex.size);\n                directSetAttribute(el, ELEMENT_ID, id);\n                id = ELEMENT_ID_PREFIX + id;\n            }\n            else {\n                id = null;\n            }\n            elementToIndex.set(el, id);\n        }\n        return id;\n    };\n    const getObjId = (obj) => {\n        let suffix = '';\n        if (isMutable(obj)) {\n            obj = obj.v;\n            suffix = '%';\n        }\n        if (isPromise(obj)) {\n            obj = getPromiseValue(obj);\n            suffix += '~';\n        }\n        if (isObject(obj)) {\n            const target = getProxyTarget(obj);\n            if (target) {\n                suffix += '!';\n                obj = target;\n            }\n            if (!target && isElement(obj)) {\n                const elID = getElementID(obj);\n                if (elID) {\n                    return elID + suffix;\n                }\n                return null;\n            }\n        }\n        if (collector.$objMap$.has(obj)) {\n            const value = collector.$objMap$.get(obj);\n            const id = objToId.get(value);\n            assertTrue(typeof id === 'number', 'Can not find ID for object');\n            return intToStr(id) + suffix;\n        }\n        return null;\n    };\n    const mustGetObjId = (obj) => {\n        const key = getObjId(obj);\n        if (key === null) {\n            throw qError(QError_missingObjectId, obj);\n        }\n        return key;\n    };\n    objs.sort((a, b) => {\n        const isProxyA = hasSubscriptions(a) ? 0 : 1;\n        const isProxyB = hasSubscriptions(b) ? 0 : 1;\n        return isProxyA - isProxyB;\n    });\n    let count = 0;\n    for (const obj of objs) {\n        objToId.set(obj, count);\n        count++;\n    }\n    const subs = objs\n        .map((obj) => {\n        const flags = getProxyFlags(containerState.$proxyMap$.get(obj));\n        if (flags === undefined) {\n            return null;\n        }\n        const subs = containerState.$subsManager$.$tryGetLocal$(obj)?.$subs$;\n        if ((subs && subs.size > 0) || flags !== 0) {\n            const subsObj = {};\n            if (flags > 0) {\n                subsObj['$'] = flags;\n            }\n            subs &&\n                subs.forEach((set, key) => {\n                    const id = getObjId(key);\n                    if (id !== null) {\n                        subsObj[id] = set ? Array.from(set) : null;\n                    }\n                });\n            return subsObj;\n        }\n        else {\n            return null;\n        }\n    })\n        .filter(isNotNullable);\n    const qrlSerializeOptions = {\n        $platform$: containerState.$platform$,\n        $getObjId$: getObjId,\n    };\n    const convertedObjs = objs.map((obj) => {\n        switch (typeof obj) {\n            case 'undefined':\n                return UNDEFINED_PREFIX;\n            case 'function':\n                if (isQrl(obj)) {\n                    return QRL_PREFIX + stringifyQRL(obj, qrlSerializeOptions);\n                }\n                break;\n            case 'object':\n                if (obj === null) {\n                    return null;\n                }\n                if (obj === doc) {\n                    return DOCUMENT_PREFIX;\n                }\n                if (isArray(obj)) {\n                    return obj.map(mustGetObjId);\n                }\n                if (Object.getPrototypeOf(obj) === Object.prototype) {\n                    const output = {};\n                    Object.entries(obj).forEach(([key, value]) => {\n                        output[key] = mustGetObjId(value);\n                    });\n                    return output;\n                }\n                break;\n            case 'string':\n            case 'number':\n            case 'boolean':\n                return obj;\n        }\n        throw qError(QError_verifySerializable, obj);\n    });\n    const listeners = [];\n    const meta = {};\n    // Write back to the dom\n    elements.forEach((node) => {\n        const ctx = tryGetContext(node);\n        assertDefined(ctx, `pause: missing context for dom node`, node);\n        const ref = ctx.$refMap$;\n        const props = ctx.$props$;\n        const contexts = ctx.$contexts$;\n        const watches = ctx.$watches$;\n        const renderQrl = ctx.$renderQrl$;\n        const seq = ctx.$seq$;\n        const metaValue = {};\n        const elementCaptured = collector.$elements$.includes(node);\n        let add = false;\n        if (ref.$array$.length > 0) {\n            const value = ref.$array$.map(mustGetObjId).join(' ');\n            if (value) {\n                metaValue.r = value;\n                add = true;\n            }\n        }\n        if (elementCaptured && props) {\n            const objs = [props];\n            if (renderQrl) {\n                objs.push(renderQrl);\n            }\n            const value = objs.map(mustGetObjId).join(' ');\n            if (value) {\n                metaValue.h = value;\n                add = true;\n            }\n        }\n        if (watches.length > 0) {\n            const value = watches.map(getObjId).filter(isNotNullable).join(' ');\n            if (value) {\n                metaValue.w = value;\n                add = true;\n            }\n        }\n        if (elementCaptured && seq.length > 0) {\n            const value = seq.map(mustGetObjId).join(' ');\n            if (value) {\n                metaValue.s = value;\n                add = true;\n            }\n        }\n        if (contexts) {\n            const serializedContexts = [];\n            contexts.forEach((value, key) => {\n                serializedContexts.push(`${key}=${mustGetObjId(value)}`);\n            });\n            const value = serializedContexts.join(' ');\n            if (value) {\n                metaValue.c = value;\n                add = true;\n            }\n        }\n        if (add) {\n            const elementID = getElementID(node);\n            assertDefined(elementID, `pause: can not generate ID for dom node`, node);\n            meta[elementID] = metaValue;\n        }\n        if (ctx.$listeners$) {\n            ctx.$listeners$.forEach((qrls, key) => {\n                qrls.forEach((qrl) => {\n                    listeners.push({\n                        key,\n                        qrl,\n                    });\n                });\n            });\n        }\n    });\n    for (const watch of collector.$watches$) {\n        destroyWatch(watch);\n        if (qDev) {\n            if (watch.f & WatchFlagsIsDirty) {\n                logWarn('Serializing dirty watch. Looks like an internal error.');\n            }\n            if (!isConnected(watch)) {\n                logWarn('Serializing disconneted watch. Looks like an internal error.');\n            }\n        }\n    }\n    // Sanity check of serialized element\n    if (qDev) {\n        elementToIndex.forEach((value, el) => {\n            if (getDocument(el) !== doc) {\n                logWarn('element from different document', value, el.tagName);\n            }\n            if (!value) {\n                logWarn('unconnected element', el.tagName, '\\n');\n            }\n        });\n    }\n    return {\n        state: {\n            ctx: meta,\n            objs: convertedObjs,\n            subs,\n        },\n        objs,\n        listeners,\n    };\n};\nexport const getQwikJSON = (parentElm) => {\n    let child = parentElm.lastElementChild;\n    while (child) {\n        if (child.tagName === 'SCRIPT' && directGetAttribute(child, 'type') === 'qwik/json') {\n            return child;\n        }\n        child = child.previousElementSibling;\n    }\n    return undefined;\n};\nexport const getNodesInScope = (parent, predicate) => {\n    const nodes = [];\n    if (predicate(parent)) {\n        nodes.push(parent);\n    }\n    walkNodes(nodes, parent, predicate);\n    return nodes;\n};\nexport const walkNodes = (nodes, parent, predicate) => {\n    let child = parent.firstElementChild;\n    while (child) {\n        if (!isContainer(child)) {\n            if (predicate(child)) {\n                nodes.push(child);\n            }\n            walkNodes(nodes, child, predicate);\n        }\n        child = child.nextElementSibling;\n    }\n};\nconst reviveValues = (objs, subs, getObject, containerState, containerEl) => {\n    for (let i = 0; i < objs.length; i++) {\n        const value = objs[i];\n        if (isString(value)) {\n            if (value === UNDEFINED_PREFIX) {\n                objs[i] = undefined;\n            }\n            else if (value === DOCUMENT_PREFIX) {\n                objs[i] = getDocument(containerEl);\n            }\n            else if (value.startsWith(QRL_PREFIX)) {\n                objs[i] = parseQRL(value.slice(1), containerEl);\n            }\n        }\n        else {\n            const sub = subs[i];\n            if (sub) {\n                const converted = new Map();\n                let flags = 0;\n                Object.entries(sub).forEach((entry) => {\n                    if (entry[0] === '$') {\n                        flags = entry[1];\n                        return;\n                    }\n                    const el = getObject(entry[0]);\n                    if (!el) {\n                        logWarn('QWIK can not revive subscriptions because of missing element ID', entry, value);\n                        return;\n                    }\n                    const set = entry[1] === null ? null : new Set(entry[1]);\n                    converted.set(el, set);\n                });\n                createProxy(value, containerState, flags, converted);\n            }\n        }\n    }\n};\nconst reviveNestedObjects = (obj, getObject) => {\n    if (isQrl(obj)) {\n        if (obj.$capture$ && obj.$capture$.length > 0) {\n            obj.$captureRef$ = obj.$capture$.map(getObject);\n            obj.$capture$ = null;\n        }\n        return;\n    }\n    if (obj && typeof obj == 'object') {\n        if (isArray(obj)) {\n            for (let i = 0; i < obj.length; i++) {\n                const value = obj[i];\n                if (typeof value == 'string') {\n                    obj[i] = getObject(value);\n                }\n                else {\n                    reviveNestedObjects(value, getObject);\n                }\n            }\n        }\n        else if (Object.getPrototypeOf(obj) === Object.prototype) {\n            for (const key in obj) {\n                if (Object.prototype.hasOwnProperty.call(obj, key)) {\n                    const value = obj[key];\n                    if (typeof value == 'string') {\n                        obj[key] = getObject(value);\n                    }\n                    else {\n                        reviveNestedObjects(value, getObject);\n                    }\n                }\n            }\n        }\n    }\n};\nconst OBJECT_TRANSFORMS = {\n    '!': (obj, containerState) => {\n        return containerState.$proxyMap$.get(obj) ?? getOrCreateProxy(obj, containerState);\n    },\n    '%': (obj) => {\n        return mutable(obj);\n    },\n    '~': (obj) => {\n        return Promise.resolve(obj);\n    },\n};\nconst getObjectImpl = (id, elements, objs, containerState) => {\n    if (id.startsWith(ELEMENT_ID_PREFIX)) {\n        assertTrue(elements.has(id), `missing element for id:`, id);\n        return elements.get(id);\n    }\n    const index = strToInt(id);\n    assertTrue(objs.length > index, 'resume: index is out of bounds', id);\n    let obj = objs[index];\n    for (let i = id.length - 1; i >= 0; i--) {\n        const code = id[i];\n        const transform = OBJECT_TRANSFORMS[code];\n        if (!transform) {\n            break;\n        }\n        obj = transform(obj, containerState);\n    }\n    return obj;\n};\nconst collectProps = async (el, props, collector) => {\n    const subs = collector.$containerState$.$subsManager$.$tryGetLocal$(getProxyTarget(props))?.$subs$;\n    if (subs && subs.has(el)) {\n        // The host element read the props\n        await collectElement(el, collector);\n    }\n};\nconst createCollector = (doc, containerState) => {\n    return {\n        $seen$: new Set(),\n        $objMap$: new Map(),\n        $elements$: [],\n        $watches$: [],\n        $containerState$: containerState,\n        $doc$: doc,\n    };\n};\nconst collectElement = async (el, collector) => {\n    if (collector.$elements$.includes(el)) {\n        return;\n    }\n    const ctx = tryGetContext(el);\n    if (ctx) {\n        collector.$elements$.push(el);\n        if (ctx.$props$) {\n            await collectValue(ctx.$props$, collector);\n        }\n        if (ctx.$renderQrl$) {\n            await collectValue(ctx.$renderQrl$, collector);\n        }\n        for (const obj of ctx.$seq$) {\n            await collectValue(obj, collector);\n        }\n        for (const obj of ctx.$refMap$.$array$) {\n            await collectValue(obj, collector);\n        }\n        for (const obj of ctx.$watches$) {\n            await collectValue(obj, collector);\n        }\n        if (ctx.$contexts$) {\n            for (const obj of ctx.$contexts$.values()) {\n                await collectValue(obj, collector);\n            }\n        }\n    }\n};\nexport const escapeText = (str) => {\n    return str.replace(/<(\\/?script)/g, '\\\\x3C$1');\n};\nexport const unescapeText = (str) => {\n    return str.replace(/\\\\x3C(\\/?script)/g, '<$1');\n};\nconst collectSubscriptions = async (subs, collector) => {\n    if (collector.$seen$.has(subs)) {\n        return;\n    }\n    collector.$seen$.add(subs);\n    for (const key of Array.from(subs.keys())) {\n        if (isElement(key)) {\n            await collectElement(key, collector);\n        }\n        else {\n            await collectValue(key, collector);\n        }\n    }\n};\nconst PROMISE_VALUE = Symbol();\nconst resolvePromise = (promise) => {\n    return promise.then((value) => {\n        promise[PROMISE_VALUE] = value;\n        return value;\n    });\n};\nconst getPromiseValue = (promise) => {\n    assertTrue(PROMISE_VALUE in promise, 'pause: promise was not resolved previously', promise);\n    return promise[PROMISE_VALUE];\n};\nconst collectValue = async (obj, collector) => {\n    const input = obj;\n    if (collector.$seen$.has(obj)) {\n        return;\n    }\n    collector.$seen$.add(obj);\n    if (!shouldSerialize(obj) || obj === undefined) {\n        collector.$objMap$.set(obj, undefined);\n        return;\n    }\n    if (obj != null) {\n        // Handle QRL\n        if (isQrl(obj)) {\n            collector.$objMap$.set(obj, obj);\n            if (obj.$captureRef$) {\n                for (const item of obj.$captureRef$) {\n                    await collectValue(item, collector);\n                }\n            }\n            return;\n        }\n        // Handle Objets\n        if (typeof obj === 'object') {\n            // Handle promises\n            if (isPromise(obj)) {\n                const resolved = await resolvePromise(obj);\n                await collectValue(resolved, collector);\n                return;\n            }\n            const target = getProxyTarget(obj);\n            // Handle dom nodes\n            if (!target && isNode(obj)) {\n                if (obj.nodeType === 9) {\n                    assertTrue(obj === collector.$doc$, 'Document reference is not from the same page', obj);\n                    collector.$objMap$.set(obj, DOCUMENT_PREFIX);\n                }\n                else if (obj.nodeType !== 1) {\n                    throw qError(QError_verifySerializable, obj);\n                }\n                return;\n            }\n            // If proxy collect subscriptions\n            if (target) {\n                const subs = collector.$containerState$.$subsManager$.$tryGetLocal$(target)?.$subs$;\n                if (subs) {\n                    await collectSubscriptions(subs, collector);\n                }\n                obj = target;\n                if (collector.$seen$.has(obj)) {\n                    return;\n                }\n                collector.$seen$.add(obj);\n            }\n            collector.$objMap$.set(obj, obj);\n            if (isArray(obj)) {\n                for (let i = 0; i < obj.length; i++) {\n                    await collectValue(input[i], collector);\n                }\n            }\n            else {\n                for (const key in obj) {\n                    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n                        await collectValue(input[key], collector);\n                    }\n                }\n            }\n            return;\n        }\n    }\n    collector.$objMap$.set(obj, obj);\n};\nexport const isContainer = (el) => {\n    return el.hasAttribute(QContainerAttr);\n};\nconst hasQId = (el) => {\n    return el.hasAttribute(ELEMENT_ID);\n};\nexport const intToStr = (nu) => {\n    return nu.toString(36);\n};\nexport const strToInt = (nu) => {\n    return parseInt(nu, 36);\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RvcmUuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvb2JqZWN0L3N0b3JlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxhQUFhLEVBQUUsVUFBVSxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDN0QsT0FBTyxFQUFFLFFBQVEsRUFBdUIsWUFBWSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQzVFLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUM1QyxPQUFPLEVBQUUsVUFBVSxFQUFFLGFBQWEsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQzNELE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFDMUMsT0FBTyxFQUFFLFVBQVUsRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDaEUsT0FBTyxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFDaEQsT0FBTyxFQUFFLFVBQVUsRUFBRSxpQkFBaUIsRUFBRSxjQUFjLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUNoRixPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sY0FBYyxDQUFDO0FBQ3BDLE9BQU8sRUFDTCxXQUFXLEVBQ1gsZ0JBQWdCLEVBQ2hCLGFBQWEsRUFDYixjQUFjLEVBQ2QsV0FBVyxFQUNYLFNBQVMsRUFDVCxPQUFPLEVBQ1AsZUFBZSxHQUVoQixNQUFNLFlBQVksQ0FBQztBQUNwQixPQUFPLEVBQUUsWUFBWSxFQUF3QixpQkFBaUIsRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBRXpGLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDMUMsT0FBTyxFQUFrQixpQkFBaUIsRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBQzVFLE9BQU8sRUFDTCxNQUFNLEVBQ04sNkJBQTZCLEVBQzdCLHNCQUFzQixFQUN0Qix5QkFB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LFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQztBQUN6QixDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxRQUFRLEdBQUcsQ0FBQyxFQUFVLEVBQUUsRUFBRTtJQUNyQyxPQUFPLFFBQVEsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7QUFDMUIsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYXNzZXJ0RGVmaW5lZCwgYXNzZXJ0VHJ1ZSB9IGZyb20gJy4uL2Fzc2VydC9hc3NlcnQnO1xuaW1wb3J0IHsgcGFyc2VRUkwsIFFSTFNlcmlhbGl6ZU9wdGlvbnMsIHN0cmluZ2lmeVFSTCB9IGZyb20gJy4uL2ltcG9ydC9xcmwnO1xuaW1wb3J0IHsgaXNRcmwgfSBmcm9tICcuLi9pbXBvcnQvcXJsLWNsYXNzJztcbmltcG9ydCB7IGdldENvbnRleHQsIHRyeUdldENvbnRleHQgfSBmcm9tICcuLi9wcm9wcy9wcm9wcyc7XG5pbXBvcnQgeyBnZXREb2N1bWVudCB9IGZyb20gJy4uL3V0aWwvZG9tJztcbmltcG9ydCB7IGlzRG9jdW1lbnQsIGlzRWxlbWVudCwgaXNOb2RlIH0gZnJvbSAnLi4vdXRpbC9lbGVtZW50JztcbmltcG9ydCB7IGxvZ0RlYnVnLCBsb2dXYXJuIH0gZnJvbSAnLi4vdXRpbC9sb2cnO1xuaW1wb3J0IHsgRUxFTUVOVF9JRCwgRUxFTUVOVF9JRF9QUkVGSVgsIFFDb250YWluZXJBdHRyIH0gZnJvbSAnLi4vdXRpbC9tYXJrZXJzJztcbmltcG9ydCB7IHFEZXYgfSBmcm9tICcuLi91dGlsL3FkZXYnO1xuaW1wb3J0IHtcbiAgY3JlYXRlUHJveHksXG4gIGdldE9yQ3JlYXRlUHJveHksXG4gIGdldFByb3h5RmxhZ3MsXG4gIGdldFByb3h5VGFyZ2V0LFxuICBpc0Nvbm5lY3RlZCxcbiAgaXNNdXRhYmxlLFxuICBtdXRhYmxlLFxuICBzaG91bGRTZXJpYWxpemUsXG4gIFN1YnNjcmliZXJNYXAsXG59IGZyb20gJy4vcS1vYmplY3QnO1xuaW1wb3J0IHsgZGVzdHJveVdhdGNoLCBTdWJzY3JpYmVyRGVzY3JpcHRvciwgV2F0Y2hGbGFnc0lzRGlydHkgfSBmcm9tICcuLi91c2UvdXNlLXdhdGNoJztcbmltcG9ydCB0eXBlIHsgUVJMIH0gZnJvbSAnLi4vaW1wb3J0L3FybC5wdWJsaWMnO1xuaW1wb3J0IHsgZW1pdEV2ZW50IH0gZnJvbSAnLi4vdXRpbC9ldmVudCc7XG5pbXBvcnQgeyBDb250YWluZXJTdGF0ZSwgZ2V0Q29udGFpbmVyU3RhdGUgfSBmcm9tICcuLi9yZW5kZXIvbm90aWZ5LXJlbmRlcic7XG5pbXBvcnQge1xuICBxRXJyb3IsXG4gIFFFcnJvcl9jb250YWluZXJBbHJlYWR5UGF1c2VkLFxuICBRRXJyb3JfbWlzc2luZ09iamVjdElkLFxuICBRRXJyb3JfdmVyaWZ5U2VyaWFsaXphYmxlLFxufSBmcm9tICcuLi9lcnJvci9lcnJvcic7XG5pbXBvcnQgeyBpc0FycmF5LCBpc09iamVjdCwgaXNTdHJpbmcgfSBmcm9tICcuLi91dGlsL3R5cGVzJztcbmltcG9ydCB7IGRpcmVjdEdldEF0dHJpYnV0ZSwgZGlyZWN0U2V0QXR0cmlidXRlIH0gZnJvbSAnLi4vcmVuZGVyL2Zhc3QtY2FsbHMnO1xuaW1wb3J0IHsgaXNOb3ROdWxsYWJsZSwgaXNQcm9taXNlIH0gZnJvbSAnLi4vdXRpbC9wcm9taXNlcyc7XG5cbmV4cG9ydCB0eXBlIEdldE9iamVjdCA9IChpZDogc3RyaW5nKSA9PiBhbnk7XG5leHBvcnQgdHlwZSBHZXRPYmpJRCA9IChvYmo6IGFueSkgPT4gc3RyaW5nIHwgbnVsbDtcblxuZXhwb3J0IGNvbnN0IFVOREVGSU5FRF9QUkVGSVggPSAnXFx1MDAxMCc7XG5leHBvcnQgY29uc3QgUVJMX1BSRUZJWCA9ICdcXHUwMDExJztcbmV4cG9ydCBjb25zdCBET0NVTUVOVF9QUkVGSVggPSAnXFx1MDAxMic7XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kI3BhdXNlQ29udGFpbmVyXCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi4vcmVhZG1lLm1kI3BhdXNlQ29udGFpbmVyIGluc3RlYWQpXG4vKipcbiAqIFNlcmlhbGl6ZSB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgYXBwbGljYXRpb24gaW50byBET01cbiAqXG4gKiBAYWxwaGFcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGNvbnN0IHBhdXNlQ29udGFpbmVyID0gYXN5bmMgKGVsbU9yRG9jOiBFbGVtZW50IHwgRG9jdW1lbnQpOiBQcm9taXNlPFNuYXBzaG90UmVzdWx0PiA9PiB7XG4gIGNvbnN0IGRvYyA9IGdldERvY3VtZW50KGVsbU9yRG9jKTtcbiAgY29uc3QgZG9jdW1lbnRFbGVtZW50ID0gZG9jLmRvY3VtZW50RWxlbWVudDtcbiAgY29uc3QgY29udGFpbmVyRWwgPSBpc0RvY3VtZW50KGVsbU9yRG9jKSA/IGRvY3VtZW50RWxlbWVudCA6IGVsbU9yRG9jO1xuICBpZiAoZGlyZWN0R2V0QXR0cmlidXRlKGNvbnRhaW5lckVsLCBRQ29udGFpbmVyQXR0cikgPT09ICdwYXVzZWQnKSB7XG4gICAgdGhyb3cgcUVycm9yKFFFcnJvcl9jb250YWluZXJBbHJlYWR5UGF1c2VkKTtcbiAgfVxuICBjb25zdCBwYXJlbnRKU09OID0gY29udGFpbmVyRWwgPT09IGRvYy5kb2N1bWVudEVsZW1lbnQgPyBkb2MuYm9keSA6IGNvbnRhaW5lckVsO1xuICBjb25zdCBkYXRhID0gYXdhaXQgcGF1c2VTdGF0ZShjb250YWluZXJFbCk7XG4gIGNvbnN0IHNjcmlwdCA9IGRvYy5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiAgZGlyZWN0U2V0QXR0cmlidXRlKHNjcmlwdCwgJ3R5cGUnLCAncXdpay9qc29uJyk7XG4gIHNjcmlwdC50ZXh0Q29udGVudCA9IGVzY2FwZVRleHQoSlNPTi5zdHJpbmdpZnkoZGF0YS5zdGF0ZSwgdW5kZWZpbmVkLCBxRGV2ID8gJyAgJyA6IHVuZGVmaW5lZCkpO1xuICBwYXJlbnRKU09OLmFwcGVuZENoaWxkKHNjcmlwdCk7XG4gIGRpcmVjdFNldEF0dHJpYnV0ZShjb250YWluZXJFbCwgUUNvbnRhaW5lckF0dHIsICdwYXVzZWQnKTtcbiAgcmV0dXJuIGRhdGE7XG59O1xuXG5leHBvcnQgY29uc3QgcmVzdW1lQ29udGFpbmVyID0gKGNvbnRhaW5lckVsOiBFbGVtZW50KSA9PiB7XG4gIGlmICghaXNDb250YWluZXIoY29udGFpbmVyRWwpKSB7XG4gICAgbG9nV2FybignU2tpcHBpbmcgaHlkcmF0aW9uIGJlY2F1c2UgcGFyZW50IGVsZW1lbnQgaXMgbm90IHE6Y29udGFpbmVyJyk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IGRvYyA9IGdldERvY3VtZW50KGNvbnRhaW5lckVsKTtcbiAgY29uc3QgaXNEb2NFbGVtZW50ID0gY29udGFpbmVyRWwgPT09IGRvYy5kb2N1bWVudEVsZW1lbnQ7XG4gIGNvbnN0IHBhcmVudEpTT04gPSBpc0RvY0VsZW1lbnQgPyBkb2MuYm9keSA6IGNvbnRhaW5lckVsO1xuICBjb25zdCBzY3JpcHQgPSBnZXRRd2lrSlNPTihwYXJlbnRKU09OKTtcbiAgaWYgKCFzY3JpcHQpIHtcbiAgICBsb2dXYXJuKCdTa2lwcGluZyBoeWRyYXRpb24gcXdpay9qc29uIG1ldGFkYXRhIHdhcyBub3QgZm91bmQuJyk7XG4gICAgcmV0dXJuO1xuICB9XG4gIHNjcmlwdC5yZW1vdmUoKTtcblxuICBjb25zdCBjb250YWluZXJTdGF0ZSA9IGdldENvbnRhaW5lclN0YXRlKGNvbnRhaW5lckVsKTtcbiAgY29uc3QgbWV0YSA9IEpTT04ucGFyc2UodW5lc2NhcGVUZXh0KHNjcmlwdC50ZXh0Q29udGVudCB8fCAne30nKSkgYXMgU25hcHNob3RTdGF0ZTtcblxuICAvLyBDb2xsZWN0IGFsbCBlbGVtZW50c1xuICBjb25zdCBlbGVtZW50cyA9IG5ldyBNYXA8c3RyaW5nLCBFbGVtZW50PigpO1xuXG4gIGNvbnN0IGdldE9iamVjdDogR2V0T2JqZWN0ID0gKGlkKSA9PiB7XG4gICAgcmV0dXJuIGdldE9iamVjdEltcGwoaWQsIGVsZW1lbnRzLCBtZXRhLm9ianMsIGNvbnRhaW5lclN0YXRlKTtcbiAgfTtcblxuICBnZXROb2Rlc0luU2NvcGUoY29udGFpbmVyRWwsIGhhc1FJZCkuZm9yRWFjaCgoZWwpID0+IHtcbiAgICBjb25zdCBpZCA9IGRpcmVjdEdldEF0dHJpYnV0ZShlbCwgRUxFTUVOVF9JRCk7XG4gICAgYXNzZXJ0RGVmaW5lZChpZCwgYHJlc3VtZTogZWxlbWVudCBtaXNzZWQgcTppZGAsIGVsKTtcbiAgICBlbGVtZW50cy5zZXQoRUxFTUVOVF9JRF9QUkVGSVggKyBpZCwgZWwpO1xuICB9KTtcblxuICAvLyBSZXZpdmUgcHJveGllcyB3aXRoIHN1YnNjcmlwdGlvbnMgaW50byB0aGUgcHJveHltYXBcbiAgcmV2aXZlVmFsdWVzKG1ldGEub2JqcywgbWV0YS5zdWJzLCBnZXRPYmplY3QsIGNvbnRhaW5lclN0YXRlLCBwYXJlbnRKU09OKTtcblxuICAvLyBSZWJ1aWxkIHRhcmdldCBvYmplY3RzXG4gIGZvciAoY29uc3Qgb2JqIG9mIG1ldGEub2Jqcykge1xuICAgIHJldml2ZU5lc3RlZE9iamVjdHMob2JqLCBnZXRPYmplY3QpO1xuICB9XG5cbiAgT2JqZWN0LmVudHJpZXMobWV0YS5jdHgpLmZvckVhY2goKFtlbGVtZW50SUQsIGN0eE1ldGFdKSA9PiB7XG4gICAgY29uc3QgZWwgPSBnZXRPYmplY3QoZWxlbWVudElEKSBhcyBFbGVtZW50O1xuICAgIGFzc2VydERlZmluZWQoZWwsIGByZXN1bWU6IGNhbnQgZmluZCBkb20gbm9kZSBmb3IgaWRgLCBlbGVtZW50SUQpO1xuICAgIGNvbnN0IGN0eCA9IGdldENvbnRleHQoZWwpO1xuXG4gICAgY29uc3QgcW9iaiA9IGN0eE1ldGEucjtcbiAgICBjb25zdCBzZXEgPSBjdHhNZXRhLnM7XG4gICAgY29uc3QgaG9zdCA9IGN0eE1ldGEuaDtcbiAgICBjb25zdCBjb250ZXh0cyA9IGN0eE1ldGEuYztcbiAgICBjb25zdCB3YXRjaGVzID0gY3R4TWV0YS53O1xuXG4gICAgaWYgKHFvYmopIHtcbiAgICAgIGN0eC4kcmVmTWFwJC4kYXJyYXkkLnB1c2goLi4ucW9iai5zcGxpdCgnICcpLm1hcCgocGFydCkgPT4gZ2V0T2JqZWN0KHBhcnQpKSk7XG4gICAgfVxuICAgIGlmIChzZXEpIHtcbiAgICAgIGN0eC4kc2VxJCA9IHNlcS5zcGxpdCgnICcpLm1hcCgocGFydCkgPT4gZ2V0T2JqZWN0KHBhcnQpKTtcbiAgICB9XG4gICAgaWYgKHdhdGNoZXMpIHtcbiAgICAgIGN0eC4kd2F0Y2hlcyQgPSB3YXRjaGVzLnNwbGl0KCcgJykubWFwKChwYXJ0KSA9PiBnZXRPYmplY3QocGFydCkpO1xuICAgIH1cbiAgICBpZiAoY29udGV4dHMpIHtcbiAgICAgIGNvbnRleHRzLnNwbGl0KCcgJykubWFwKChwYXJ0KSA9PiB7XG4gICAgICAgIGNvbnN0IFtrZXksIHZhbHVlXSA9IHBhcnQuc3BsaXQoJz0nKTtcbiAgICAgICAgaWYgKCFjdHguJGNvbnRleHRzJCkge1xuICAgICAgICAgIGN0eC4kY29udGV4dHMkID0gbmV3IE1hcCgpO1xuICAgICAgICB9XG4gICAgICAgIGN0eC4kY29udGV4dHMkLnNldChrZXksIGdldE9iamVjdCh2YWx1ZSkpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gUmVzdG9yZSBzZXF1ZW5jZSBzY29waW5nXG4gICAgaWYgKGhvc3QpIHtcbiAgICAgIGNvbnN0IFtwcm9wcywgcmVuZGVyUXJsXSA9IGhvc3Quc3BsaXQoJyAnKTtcbiAgICAgIGFzc2VydERlZmluZWQocHJvcHMsIGByZXN1bWU6IHByb3BzIG1pc3NpbmcgaW4gcTpob3N0IGF0dHJpYnV0ZWAsIGhvc3QpO1xuICAgICAgYXNzZXJ0RGVmaW5lZChyZW5kZXJRcmwsIGByZXN1bWU6IHJlbmRlclFSTCBtaXNzaW5nIGluIHE6aG9zdCBhdHRyaWJ1dGVgLCBob3N0KTtcbiAgICAgIGN0eC4kcHJvcHMkID0gZ2V0T2JqZWN0KHByb3BzKTtcbiAgICAgIGN0eC4kcmVuZGVyUXJsJCA9IGdldE9iamVjdChyZW5kZXJRcmwpO1xuICAgIH1cbiAgfSk7XG5cbiAgZGlyZWN0U2V0QXR0cmlidXRlKGNvbnRhaW5lckVsLCBRQ29udGFpbmVyQXR0ciwgJ3Jlc3VtZWQnKTtcbiAgbG9nRGVidWcoJ0NvbnRhaW5lciByZXN1bWVkJyk7XG4gIGVtaXRFdmVudChjb250YWluZXJFbCwgJ3FyZXN1bWUnLCB1bmRlZmluZWQsIHRydWUpO1xufTtcblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU25hcHNob3RNZXRhVmFsdWUge1xuICByPzogc3RyaW5nOyAvLyBxOm9ialxuICB3Pzogc3RyaW5nOyAvLyBxOndhdGNoZXNcbiAgcz86IHN0cmluZzsgLy8gcTpzZXFcbiAgaD86IHN0cmluZzsgLy8gcTpob3N0XG4gIGM/OiBzdHJpbmc7IC8vIHE6Y29udGV4dFxufVxuXG5leHBvcnQgdHlwZSBTbmFwc2hvdE1ldGEgPSBSZWNvcmQ8c3RyaW5nLCBTbmFwc2hvdE1ldGFWYWx1ZT47XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgaW50ZXJmYWNlIFNuYXBzaG90U3RhdGUge1xuICBjdHg6IFNuYXBzaG90TWV0YTtcbiAgb2JqczogYW55W107XG4gIHN1YnM6IGFueVtdO1xufVxuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTbmFwc2hvdExpc3RlbmVyIHtcbiAga2V5OiBzdHJpbmc7XG4gIHFybDogUVJMPGFueT47XG59XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgaW50ZXJmYWNlIFNuYXBzaG90UmVzdWx0IHtcbiAgc3RhdGU6IFNuYXBzaG90U3RhdGU7XG4gIGxpc3RlbmVyczogU25hcHNob3RMaXN0ZW5lcltdO1xuICBvYmpzOiBhbnlbXTtcbn1cblxuY29uc3QgaGFzQ29udGV4dCA9IChlbDogRWxlbWVudCkgPT4ge1xuICByZXR1cm4gISF0cnlHZXRDb250ZXh0KGVsKTtcbn07XG5cbmV4cG9ydCBjb25zdCBwYXVzZVN0YXRlID0gYXN5bmMgKGNvbnRhaW5lckVsOiBFbGVtZW50KTogUHJvbWlzZTxTbmFwc2hvdFJlc3VsdD4gPT4ge1xuICBjb25zdCBjb250YWluZXJTdGF0ZSA9IGdldENvbnRhaW5lclN0YXRlKGNvbnRhaW5lckVsKTtcbiAgY29uc3QgZG9jID0gZ2V0RG9jdW1lbnQoY29udGFpbmVyRWwpO1xuICBjb25zdCBlbGVtZW50VG9JbmRleCA9IG5ldyBNYXA8RWxlbWVudCwgc3RyaW5nIHwgbnVsbD4oKTtcbiAgY29uc3QgY29sbGVjdG9yID0gY3JlYXRlQ29sbGVjdG9yKGRvYywgY29udGFpbmVyU3RhdGUpO1xuXG4gIC8vIENvbGxlY3QgYWxsIHFPYmplY3RlZCBhcm91bmQgdGhlIERPTVxuICBjb25zdCBlbGVtZW50cyA9IGdldE5vZGVzSW5TY29wZShjb250YWluZXJFbCwgaGFzQ29udGV4dCk7XG4gIGZvciAoY29uc3Qgbm9kZSBvZiBlbGVtZW50cykge1xuICAgIGNvbnN0IGN0eCA9IHRyeUdldENvbnRleHQobm9kZSkhO1xuICAgIGF3YWl0IGNvbGxlY3RQcm9wcyhub2RlLCBjdHguJHByb3BzJCwgY29sbGVjdG9yKTtcblxuICAgIGlmIChjdHguJGNvbnRleHRzJCkge1xuICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGN0eC4kY29udGV4dHMkLnZhbHVlcygpKSB7XG4gICAgICAgIGF3YWl0IGNvbGxlY3RWYWx1ZShpdGVtLCBjb2xsZWN0b3IpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChjdHguJGxpc3RlbmVycyQpIHtcbiAgICAgIGZvciAoY29uc3QgbGlzdGVuZXJzIG9mIGN0eC4kbGlzdGVuZXJzJC52YWx1ZXMoKSkge1xuICAgICAgICBmb3IgKGNvbnN0IGwgb2YgbGlzdGVuZXJzKSB7XG4gICAgICAgICAgY29uc3QgY2FwdHVyZWQgPSBsLiRjYXB0dXJlUmVmJDtcbiAgICAgICAgICBpZiAoY2FwdHVyZWQpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qgb2JqIG9mIGNhcHR1cmVkKSB7XG4gICAgICAgICAgICAgIGF3YWl0IGNvbGxlY3RWYWx1ZShvYmosIGNvbGxlY3Rvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAoY29uc3Qgd2F0Y2ggb2YgY3R4LiR3YXRjaGVzJCkge1xuICAgICAgY29sbGVjdG9yLiR3YXRjaGVzJC5wdXNoKHdhdGNoKTtcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IG9iaiBvZiBjdHguJHJlZk1hcCQuJGFycmF5JCkge1xuICAgICAgYXdhaXQgY29sbGVjdFZhbHVlKG9iaiwgY29sbGVjdG9yKTtcbiAgICB9XG4gIH1cblxuICAvLyBDb252ZXJ0IG9ialNldCB0byBhcnJheVxuICBjb25zdCBvYmpzID0gQXJyYXkuZnJvbShuZXcgU2V0KGNvbGxlY3Rvci4kb2JqTWFwJC52YWx1ZXMoKSkpO1xuXG4gIGNvbnN0IG9ialRvSWQgPSBuZXcgTWFwPGFueSwgbnVtYmVyPigpO1xuXG4gIGNvbnN0IGhhc1N1YnNjcmlwdGlvbnMgPSAoYTogYW55KSA9PiB7XG4gICAgY29uc3QgZmxhZ3MgPSBnZXRQcm94eUZsYWdzKGNvbnRhaW5lclN0YXRlLiRwcm94eU1hcCQuZ2V0KGEpKTtcbiAgICBpZiAodHlwZW9mIGZsYWdzID09PSAnbnVtYmVyJyAmJiBmbGFncyA+IDApIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBjb25zdCBtYW5hZ2VyID0gY29udGFpbmVyU3RhdGUuJHN1YnNNYW5hZ2VyJC4kdHJ5R2V0TG9jYWwkKGEpO1xuICAgIGlmIChtYW5hZ2VyKSB7XG4gICAgICByZXR1cm4gbWFuYWdlci4kc3VicyQuc2l6ZSA+IDA7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICBjb25zdCBnZXRFbGVtZW50SUQgPSAoZWw6IEVsZW1lbnQpOiBzdHJpbmcgfCBudWxsID0+IHtcbiAgICBsZXQgaWQgPSBlbGVtZW50VG9JbmRleC5nZXQoZWwpO1xuICAgIGlmIChpZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBpZiAoZWwuaXNDb25uZWN0ZWQpIHtcbiAgICAgICAgaWQgPSBpbnRUb1N0cihlbGVtZW50VG9JbmRleC5zaXplKTtcbiAgICAgICAgZGlyZWN0U2V0QXR0cmlidXRlKGVsLCBFTEVNRU5UX0lELCBpZCk7XG4gICAgICAgIGlkID0gRUxFTUVOVF9JRF9QUkVGSVggKyBpZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlkID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIGVsZW1lbnRUb0luZGV4LnNldChlbCwgaWQpO1xuICAgIH1cbiAgICByZXR1cm4gaWQ7XG4gIH07XG5cbiAgY29uc3QgZ2V0T2JqSWQgPSAob2JqOiBhbnkpOiBzdHJpbmcgfCBudWxsID0+IHtcbiAgICBsZXQgc3VmZml4ID0gJyc7XG4gICAgaWYgKGlzTXV0YWJsZShvYmopKSB7XG4gICAgICBvYmogPSBvYmoudjtcbiAgICAgIHN1ZmZpeCA9ICclJztcbiAgICB9XG4gICAgaWYgKGlzUHJvbWlzZShvYmopKSB7XG4gICAgICBvYmogPSBnZXRQcm9taXNlVmFsdWUob2JqKTtcbiAgICAgIHN1ZmZpeCArPSAnfic7XG4gICAgfVxuICAgIGlmIChpc09iamVjdChvYmopKSB7XG4gICAgICBjb25zdCB0YXJnZXQgPSBnZXRQcm94eVRhcmdldChvYmopO1xuICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICBzdWZmaXggKz0gJyEnO1xuICAgICAgICBvYmogPSB0YXJnZXQ7XG4gICAgICB9XG5cbiAgICAgIGlmICghdGFyZ2V0ICYmIGlzRWxlbWVudChvYmopKSB7XG4gICAgICAgIGNvbnN0IGVsSUQgPSBnZXRFbGVtZW50SUQob2JqIGFzIEVsZW1lbnQpO1xuICAgICAgICBpZiAoZWxJRCkge1xuICAgICAgICAgIHJldHVybiBlbElEICsgc3VmZml4O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoY29sbGVjdG9yLiRvYmpNYXAkLmhhcyhvYmopKSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IGNvbGxlY3Rvci4kb2JqTWFwJC5nZXQob2JqKTtcbiAgICAgIGNvbnN0IGlkID0gb2JqVG9JZC5nZXQodmFsdWUpO1xuICAgICAgYXNzZXJ0VHJ1ZSh0eXBlb2YgaWQgPT09ICdudW1iZXInLCAnQ2FuIG5vdCBmaW5kIElEIGZvciBvYmplY3QnKTtcbiAgICAgIHJldHVybiBpbnRUb1N0cihpZCBhcyBhbnkpICsgc3VmZml4O1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICBjb25zdCBtdXN0R2V0T2JqSWQgPSAob2JqOiBhbnkpOiBzdHJpbmcgPT4ge1xuICAgIGNvbnN0IGtleSA9IGdldE9iaklkKG9iaik7XG4gICAgaWYgKGtleSA9PT0gbnVsbCkge1xuICAgICAgdGhyb3cgcUVycm9yKFFFcnJvcl9taXNzaW5nT2JqZWN0SWQsIG9iaik7XG4gICAgfVxuICAgIHJldHVybiBrZXk7XG4gIH07XG5cbiAgb2Jqcy5zb3J0KChhLCBiKSA9PiB7XG4gICAgY29uc3QgaXNQcm94eUEgPSBoYXNTdWJzY3JpcHRpb25zKGEpID8gMCA6IDE7XG4gICAgY29uc3QgaXNQcm94eUIgPSBoYXNTdWJzY3JpcHRpb25zKGIpID8gMCA6IDE7XG4gICAgcmV0dXJuIGlzUHJveHlBIC0gaXNQcm94eUI7XG4gIH0pO1xuXG4gIGxldCBjb3VudCA9IDA7XG4gIGZvciAoY29uc3Qgb2JqIG9mIG9ianMpIHtcbiAgICBvYmpUb0lkLnNldChvYmosIGNvdW50KTtcbiAgICBjb3VudCsrO1xuICB9XG5cbiAgY29uc3Qgc3VicyA9IG9ianNcbiAgICAubWFwKChvYmopID0+IHtcbiAgICAgIGNvbnN0IGZsYWdzID0gZ2V0UHJveHlGbGFncyhjb250YWluZXJTdGF0ZS4kcHJveHlNYXAkLmdldChvYmopKTtcbiAgICAgIGlmIChmbGFncyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgY29uc3Qgc3VicyA9IGNvbnRhaW5lclN0YXRlLiRzdWJzTWFuYWdlciQuJHRyeUdldExvY2FsJChvYmopPy4kc3VicyQ7XG4gICAgICBpZiAoKHN1YnMgJiYgc3Vicy5zaXplID4gMCkgfHwgZmxhZ3MgIT09IDApIHtcbiAgICAgICAgY29uc3Qgc3Vic09iajogUmVjb3JkPHN0cmluZywgc3RyaW5nW10gfCBudW1iZXIgfCBudWxsPiA9IHt9O1xuICAgICAgICBpZiAoZmxhZ3MgPiAwKSB7XG4gICAgICAgICAgc3Vic09ialsnJCddID0gZmxhZ3M7XG4gICAgICAgIH1cbiAgICAgICAgc3VicyAmJlxuICAgICAgICAgIHN1YnMuZm9yRWFjaCgoc2V0LCBrZXkpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGlkID0gZ2V0T2JqSWQoa2V5KTtcbiAgICAgICAgICAgIGlmIChpZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICBzdWJzT2JqW2lkXSA9IHNldCA/IEFycmF5LmZyb20oc2V0KSA6IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBzdWJzT2JqO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfSlcbiAgICAuZmlsdGVyKGlzTm90TnVsbGFibGUpO1xuXG4gIGNvbnN0IHFybFNlcmlhbGl6ZU9wdGlvbnM6IFFSTFNlcmlhbGl6ZU9wdGlvbnMgPSB7XG4gICAgJHBsYXRmb3JtJDogY29udGFpbmVyU3RhdGUuJHBsYXRmb3JtJCxcbiAgICAkZ2V0T2JqSWQkOiBnZXRPYmpJZCxcbiAgfTtcblxuICBjb25zdCBjb252ZXJ0ZWRPYmpzID0gb2Jqcy5tYXAoKG9iaikgPT4ge1xuICAgIHN3aXRjaCAodHlwZW9mIG9iaikge1xuICAgICAgY2FzZSAndW5kZWZpbmVkJzpcbiAgICAgICAgcmV0dXJuIFVOREVGSU5FRF9QUkVGSVg7XG5cbiAgICAgIGNhc2UgJ2Z1bmN0aW9uJzpcbiAgICAgICAgaWYgKGlzUXJsKG9iaikpIHtcbiAgICAgICAgICByZXR1cm4gUVJMX1BSRUZJWCArIHN0cmluZ2lmeVFSTChvYmosIHFybFNlcmlhbGl6ZU9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgaWYgKG9iaiA9PT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvYmogPT09IGRvYykge1xuICAgICAgICAgIHJldHVybiBET0NVTUVOVF9QUkVGSVg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQXJyYXkob2JqKSkge1xuICAgICAgICAgIHJldHVybiBvYmoubWFwKG11c3RHZXRPYmpJZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmopID09PSBPYmplY3QucHJvdG90eXBlKSB7XG4gICAgICAgICAgY29uc3Qgb3V0cHV0OiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge307XG4gICAgICAgICAgT2JqZWN0LmVudHJpZXMob2JqKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIG91dHB1dFtrZXldID0gbXVzdEdldE9iaklkKHZhbHVlKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgIGNhc2UgJ251bWJlcic6XG4gICAgICBjYXNlICdib29sZWFuJzpcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG4gICAgdGhyb3cgcUVycm9yKFFFcnJvcl92ZXJpZnlTZXJpYWxpemFibGUsIG9iaik7XG4gIH0pO1xuXG4gIGNvbnN0IGxpc3RlbmVyczogU25hcHNob3RMaXN0ZW5lcltdID0gW107XG5cbiAgY29uc3QgbWV0YTogU25hcHNob3RNZXRhID0ge307XG5cbiAgLy8gV3JpdGUgYmFjayB0byB0aGUgZG9tXG4gIGVsZW1lbnRzLmZvckVhY2goKG5vZGUpID0+IHtcbiAgICBjb25zdCBjdHggPSB0cnlHZXRDb250ZXh0KG5vZGUpO1xuICAgIGFzc2VydERlZmluZWQoY3R4LCBgcGF1c2U6IG1pc3NpbmcgY29udGV4dCBmb3IgZG9tIG5vZGVgLCBub2RlKTtcblxuICAgIGNvbnN0IHJlZiA9IGN0eC4kcmVmTWFwJDtcbiAgICBjb25zdCBwcm9wcyA9IGN0eC4kcHJvcHMkO1xuICAgIGNvbnN0IGNvbnRleHRzID0gY3R4LiRjb250ZXh0cyQ7XG4gICAgY29uc3Qgd2F0Y2hlcyA9IGN0eC4kd2F0Y2hlcyQ7XG4gICAgY29uc3QgcmVuZGVyUXJsID0gY3R4LiRyZW5kZXJRcmwkO1xuICAgIGNvbnN0IHNlcSA9IGN0eC4kc2VxJDtcbiAgICBjb25zdCBtZXRhVmFsdWU6IFNuYXBzaG90TWV0YVZhbHVlID0ge307XG4gICAgY29uc3QgZWxlbWVudENhcHR1cmVkID0gY29sbGVjdG9yLiRlbGVtZW50cyQuaW5jbHVkZXMobm9kZSk7XG5cbiAgICBsZXQgYWRkID0gZmFsc2U7XG4gICAgaWYgKHJlZi4kYXJyYXkkLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gcmVmLiRhcnJheSQubWFwKG11c3RHZXRPYmpJZCkuam9pbignICcpO1xuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIG1ldGFWYWx1ZS5yID0gdmFsdWU7XG4gICAgICAgIGFkZCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGVsZW1lbnRDYXB0dXJlZCAmJiBwcm9wcykge1xuICAgICAgY29uc3Qgb2JqcyA9IFtwcm9wc107XG4gICAgICBpZiAocmVuZGVyUXJsKSB7XG4gICAgICAgIG9ianMucHVzaChyZW5kZXJRcmwpO1xuICAgICAgfVxuICAgICAgY29uc3QgdmFsdWUgPSBvYmpzLm1hcChtdXN0R2V0T2JqSWQpLmpvaW4oJyAnKTtcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICBtZXRhVmFsdWUuaCA9IHZhbHVlO1xuICAgICAgICBhZGQgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh3YXRjaGVzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gd2F0Y2hlcy5tYXAoZ2V0T2JqSWQpLmZpbHRlcihpc05vdE51bGxhYmxlKS5qb2luKCcgJyk7XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgbWV0YVZhbHVlLncgPSB2YWx1ZTtcbiAgICAgICAgYWRkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZWxlbWVudENhcHR1cmVkICYmIHNlcS5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IHNlcS5tYXAobXVzdEdldE9iaklkKS5qb2luKCcgJyk7XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgbWV0YVZhbHVlLnMgPSB2YWx1ZTtcbiAgICAgICAgYWRkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoY29udGV4dHMpIHtcbiAgICAgIGNvbnN0IHNlcmlhbGl6ZWRDb250ZXh0czogc3RyaW5nW10gPSBbXTtcbiAgICAgIGNvbnRleHRzLmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHtcbiAgICAgICAgc2VyaWFsaXplZENvbnRleHRzLnB1c2goYCR7a2V5fT0ke211c3RHZXRPYmpJZCh2YWx1ZSl9YCk7XG4gICAgICB9KTtcbiAgICAgIGNvbnN0IHZhbHVlID0gc2VyaWFsaXplZENvbnRleHRzLmpvaW4oJyAnKTtcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICBtZXRhVmFsdWUuYyA9IHZhbHVlO1xuICAgICAgICBhZGQgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChhZGQpIHtcbiAgICAgIGNvbnN0IGVsZW1lbnRJRCA9IGdldEVsZW1lbnRJRChub2RlKTtcbiAgICAgIGFzc2VydERlZmluZWQoZWxlbWVudElELCBgcGF1c2U6IGNhbiBub3QgZ2VuZXJhdGUgSUQgZm9yIGRvbSBub2RlYCwgbm9kZSk7XG4gICAgICBtZXRhW2VsZW1lbnRJRF0gPSBtZXRhVmFsdWU7XG4gICAgfVxuXG4gICAgaWYgKGN0eC4kbGlzdGVuZXJzJCkge1xuICAgICAgY3R4LiRsaXN0ZW5lcnMkLmZvckVhY2goKHFybHMsIGtleSkgPT4ge1xuICAgICAgICBxcmxzLmZvckVhY2goKHFybCkgPT4ge1xuICAgICAgICAgIGxpc3RlbmVycy5wdXNoKHtcbiAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgIHFybCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuXG4gIGZvciAoY29uc3Qgd2F0Y2ggb2YgY29sbGVjdG9yLiR3YXRjaGVzJCkge1xuICAgIGRlc3Ryb3lXYXRjaCh3YXRjaCk7XG4gICAgaWYgKHFEZXYpIHtcbiAgICAgIGlmICh3YXRjaC5mICYgV2F0Y2hGbGFnc0lzRGlydHkpIHtcbiAgICAgICAgbG9nV2FybignU2VyaWFsaXppbmcgZGlydHkgd2F0Y2guIExvb2tzIGxpa2UgYW4gaW50ZXJuYWwgZXJyb3IuJyk7XG4gICAgICB9XG4gICAgICBpZiAoIWlzQ29ubmVjdGVkKHdhdGNoKSkge1xuICAgICAgICBsb2dXYXJuKCdTZXJpYWxpemluZyBkaXNjb25uZXRlZCB3YXRjaC4gTG9va3MgbGlrZSBhbiBpbnRlcm5hbCBlcnJvci4nKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBTYW5pdHkgY2hlY2sgb2Ygc2VyaWFsaXplZCBlbGVtZW50XG4gIGlmIChxRGV2KSB7XG4gICAgZWxlbWVudFRvSW5kZXguZm9yRWFjaCgodmFsdWUsIGVsKSA9PiB7XG4gICAgICBpZiAoZ2V0RG9jdW1lbnQoZWwpICE9PSBkb2MpIHtcbiAgICAgICAgbG9nV2FybignZWxlbWVudCBmcm9tIGRpZmZlcmVudCBkb2N1bWVudCcsIHZhbHVlLCBlbC50YWdOYW1lKTtcbiAgICAgIH1cbiAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgbG9nV2FybigndW5jb25uZWN0ZWQgZWxlbWVudCcsIGVsLnRhZ05hbWUsICdcXG4nKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICByZXR1cm4ge1xuICAgIHN0YXRlOiB7XG4gICAgICBjdHg6IG1ldGEsXG4gICAgICBvYmpzOiBjb252ZXJ0ZWRPYmpzLFxuICAgICAgc3VicyxcbiAgICB9LFxuICAgIG9ianMsXG4gICAgbGlzdGVuZXJzLFxuICB9O1xufTtcblxuZXhwb3J0IGNvbnN0IGdldFF3aWtKU09OID0gKHBhcmVudEVsbTogRWxlbWVudCk6IEhUTUxTY3JpcHRFbGVtZW50IHwgdW5kZWZpbmVkID0+IHtcbiAgbGV0IGNoaWxkID0gcGFyZW50RWxtLmxhc3RFbGVtZW50Q2hpbGQ7XG4gIHdoaWxlIChjaGlsZCkge1xuICAgIGlmIChjaGlsZC50YWdOYW1lID09PSAnU0NSSVBUJyAmJiBkaXJlY3RHZXRBdHRyaWJ1dGUoY2hpbGQsICd0eXBlJykgPT09ICdxd2lrL2pzb24nKSB7XG4gICAgICByZXR1cm4gY2hpbGQgYXMgSFRNTFNjcmlwdEVsZW1lbnQ7XG4gICAgfVxuICAgIGNoaWxkID0gY2hpbGQucHJldmlvdXNFbGVtZW50U2libGluZztcbiAgfVxuICByZXR1cm4gdW5kZWZpbmVkO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldE5vZGVzSW5TY29wZSA9IChwYXJlbnQ6IEVsZW1lbnQsIHByZWRpY2F0ZTogKGVsOiBFbGVtZW50KSA9PiBib29sZWFuKSA9PiB7XG4gIGNvbnN0IG5vZGVzOiBFbGVtZW50W10gPSBbXTtcbiAgaWYgKHByZWRpY2F0ZShwYXJlbnQpKSB7XG4gICAgbm9kZXMucHVzaChwYXJlbnQpO1xuICB9XG4gIHdhbGtOb2Rlcyhub2RlcywgcGFyZW50LCBwcmVkaWNhdGUpO1xuICByZXR1cm4gbm9kZXM7XG59O1xuXG5leHBvcnQgY29uc3Qgd2Fsa05vZGVzID0gKFxuICBub2RlczogRWxlbWVudFtdLFxuICBwYXJlbnQ6IEVsZW1lbnQsXG4gIHByZWRpY2F0ZTogKGVsOiBFbGVtZW50KSA9PiBib29sZWFuXG4pID0+IHtcbiAgbGV0IGNoaWxkID0gcGFyZW50LmZpcnN0RWxlbWVudENoaWxkO1xuICB3aGlsZSAoY2hpbGQpIHtcbiAgICBpZiAoIWlzQ29udGFpbmVyKGNoaWxkKSkge1xuICAgICAgaWYgKHByZWRpY2F0ZShjaGlsZCkpIHtcbiAgICAgICAgbm9kZXMucHVzaChjaGlsZCk7XG4gICAgICB9XG4gICAgICB3YWxrTm9kZXMobm9kZXMsIGNoaWxkLCBwcmVkaWNhdGUpO1xuICAgIH1cbiAgICBjaGlsZCA9IGNoaWxkLm5leHRFbGVtZW50U2libGluZztcbiAgfVxufTtcblxuY29uc3QgcmV2aXZlVmFsdWVzID0gKFxuICBvYmpzOiBhbnlbXSxcbiAgc3ViczogYW55W10sXG4gIGdldE9iamVjdDogR2V0T2JqZWN0LFxuICBjb250YWluZXJTdGF0ZTogQ29udGFpbmVyU3RhdGUsXG4gIGNvbnRhaW5lckVsOiBFbGVtZW50XG4pID0+IHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBvYmpzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgdmFsdWUgPSBvYmpzW2ldO1xuICAgIGlmIChpc1N0cmluZyh2YWx1ZSkpIHtcbiAgICAgIGlmICh2YWx1ZSA9PT0gVU5ERUZJTkVEX1BSRUZJWCkge1xuICAgICAgICBvYmpzW2ldID0gdW5kZWZpbmVkO1xuICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gRE9DVU1FTlRfUFJFRklYKSB7XG4gICAgICAgIG9ianNbaV0gPSBnZXREb2N1bWVudChjb250YWluZXJFbCk7XG4gICAgICB9IGVsc2UgaWYgKHZhbHVlLnN0YXJ0c1dpdGgoUVJMX1BSRUZJWCkpIHtcbiAgICAgICAgb2Jqc1tpXSA9IHBhcnNlUVJMKHZhbHVlLnNsaWNlKDEpLCBjb250YWluZXJFbCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHN1YiA9IHN1YnNbaV07XG4gICAgICBpZiAoc3ViKSB7XG4gICAgICAgIGNvbnN0IGNvbnZlcnRlZCA9IG5ldyBNYXAoKTtcbiAgICAgICAgbGV0IGZsYWdzID0gMDtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMoc3ViKS5mb3JFYWNoKChlbnRyeSkgPT4ge1xuICAgICAgICAgIGlmIChlbnRyeVswXSA9PT0gJyQnKSB7XG4gICAgICAgICAgICBmbGFncyA9IGVudHJ5WzFdIGFzIG51bWJlcjtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgZWwgPSBnZXRPYmplY3QoZW50cnlbMF0pO1xuICAgICAgICAgIGlmICghZWwpIHtcbiAgICAgICAgICAgIGxvZ1dhcm4oXG4gICAgICAgICAgICAgICdRV0lLIGNhbiBub3QgcmV2aXZlIHN1YnNjcmlwdGlvbnMgYmVjYXVzZSBvZiBtaXNzaW5nIGVsZW1lbnQgSUQnLFxuICAgICAgICAgICAgICBlbnRyeSxcbiAgICAgICAgICAgICAgdmFsdWVcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IHNldCA9IGVudHJ5WzFdID09PSBudWxsID8gbnVsbCA6IChuZXcgU2V0KGVudHJ5WzFdIGFzIGFueSkgYXMgU2V0PHN0cmluZz4pO1xuICAgICAgICAgIGNvbnZlcnRlZC5zZXQoZWwsIHNldCk7XG4gICAgICAgIH0pO1xuICAgICAgICBjcmVhdGVQcm94eSh2YWx1ZSwgY29udGFpbmVyU3RhdGUsIGZsYWdzLCBjb252ZXJ0ZWQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxuY29uc3QgcmV2aXZlTmVzdGVkT2JqZWN0cyA9IChvYmo6IGFueSwgZ2V0T2JqZWN0OiBHZXRPYmplY3QpID0+IHtcbiAgaWYgKGlzUXJsKG9iaikpIHtcbiAgICBpZiAob2JqLiRjYXB0dXJlJCAmJiBvYmouJGNhcHR1cmUkLmxlbmd0aCA+IDApIHtcbiAgICAgIG9iai4kY2FwdHVyZVJlZiQgPSBvYmouJGNhcHR1cmUkLm1hcChnZXRPYmplY3QpO1xuICAgICAgb2JqLiRjYXB0dXJlJCA9IG51bGw7XG4gICAgfVxuICAgIHJldHVybjtcbiAgfVxuICBpZiAob2JqICYmIHR5cGVvZiBvYmogPT0gJ29iamVjdCcpIHtcbiAgICBpZiAoaXNBcnJheShvYmopKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9iai5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IG9ialtpXTtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJykge1xuICAgICAgICAgIG9ialtpXSA9IGdldE9iamVjdCh2YWx1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV2aXZlTmVzdGVkT2JqZWN0cyh2YWx1ZSwgZ2V0T2JqZWN0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iaikgPT09IE9iamVjdC5wcm90b3R5cGUpIHtcbiAgICAgIGZvciAoY29uc3Qga2V5IGluIG9iaikge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkge1xuICAgICAgICAgIGNvbnN0IHZhbHVlID0gb2JqW2tleV07XG4gICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgb2JqW2tleV0gPSBnZXRPYmplY3QodmFsdWUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXZpdmVOZXN0ZWRPYmplY3RzKHZhbHVlLCBnZXRPYmplY3QpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxuY29uc3QgT0JKRUNUX1RSQU5TRk9STVM6IFJlY29yZDxzdHJpbmcsIChvYmo6IGFueSwgY29udGFpbmVyU3RhdGU6IENvbnRhaW5lclN0YXRlKSA9PiBhbnk+ID0ge1xuICAnISc6IChvYmo6IGFueSwgY29udGFpbmVyU3RhdGU6IENvbnRhaW5lclN0YXRlKSA9PiB7XG4gICAgcmV0dXJuIGNvbnRhaW5lclN0YXRlLiRwcm94eU1hcCQuZ2V0KG9iaikgPz8gZ2V0T3JDcmVhdGVQcm94eShvYmosIGNvbnRhaW5lclN0YXRlKTtcbiAgfSxcbiAgJyUnOiAob2JqOiBhbnkpID0+IHtcbiAgICByZXR1cm4gbXV0YWJsZShvYmopO1xuICB9LFxuICAnfic6IChvYmo6IGFueSkgPT4ge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUob2JqKTtcbiAgfSxcbn07XG5cbmNvbnN0IGdldE9iamVjdEltcGwgPSAoXG4gIGlkOiBzdHJpbmcsXG4gIGVsZW1lbnRzOiBNYXA8c3RyaW5nLCBFbGVtZW50PixcbiAgb2JqczogYW55W10sXG4gIGNvbnRhaW5lclN0YXRlOiBDb250YWluZXJTdGF0ZVxuKSA9PiB7XG4gIGlmIChpZC5zdGFydHNXaXRoKEVMRU1FTlRfSURfUFJFRklYKSkge1xuICAgIGFzc2VydFRydWUoZWxlbWVudHMuaGFzKGlkKSwgYG1pc3NpbmcgZWxlbWVudCBmb3IgaWQ6YCwgaWQpO1xuICAgIHJldHVybiBlbGVtZW50cy5nZXQoaWQpO1xuICB9XG4gIGNvbnN0IGluZGV4ID0gc3RyVG9JbnQoaWQpO1xuICBhc3NlcnRUcnVlKG9ianMubGVuZ3RoID4gaW5kZXgsICdyZXN1bWU6IGluZGV4IGlzIG91dCBvZiBib3VuZHMnLCBpZCk7XG4gIGxldCBvYmogPSBvYmpzW2luZGV4XTtcbiAgZm9yIChsZXQgaSA9IGlkLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgY29uc3QgY29kZSA9IGlkW2ldO1xuICAgIGNvbnN0IHRyYW5zZm9ybSA9IE9CSkVDVF9UUkFOU0ZPUk1TW2NvZGVdO1xuICAgIGlmICghdHJhbnNmb3JtKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgb2JqID0gdHJhbnNmb3JtKG9iaiwgY29udGFpbmVyU3RhdGUpO1xuICB9XG4gIHJldHVybiBvYmo7XG59O1xuXG5jb25zdCBjb2xsZWN0UHJvcHMgPSBhc3luYyAoZWw6IEVsZW1lbnQsIHByb3BzOiBhbnksIGNvbGxlY3RvcjogQ29sbGVjdG9yKSA9PiB7XG4gIGNvbnN0IHN1YnMgPSBjb2xsZWN0b3IuJGNvbnRhaW5lclN0YXRlJC4kc3Vic01hbmFnZXIkLiR0cnlHZXRMb2NhbCQoXG4gICAgZ2V0UHJveHlUYXJnZXQocHJvcHMpXG4gICk/LiRzdWJzJDtcbiAgaWYgKHN1YnMgJiYgc3Vicy5oYXMoZWwpKSB7XG4gICAgLy8gVGhlIGhvc3QgZWxlbWVudCByZWFkIHRoZSBwcm9wc1xuICAgIGF3YWl0IGNvbGxlY3RFbGVtZW50KGVsLCBjb2xsZWN0b3IpO1xuICB9XG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIENvbGxlY3RvciB7XG4gICRzZWVuJDogU2V0PGFueT47XG4gICRvYmpNYXAkOiBNYXA8YW55LCBhbnk+O1xuICAkZWxlbWVudHMkOiBFbGVtZW50W107XG4gICR3YXRjaGVzJDogU3Vic2NyaWJlckRlc2NyaXB0b3JbXTtcbiAgJGNvbnRhaW5lclN0YXRlJDogQ29udGFpbmVyU3RhdGU7XG4gICRkb2MkOiBEb2N1bWVudDtcbn1cblxuY29uc3QgY3JlYXRlQ29sbGVjdG9yID0gKGRvYzogRG9jdW1lbnQsIGNvbnRhaW5lclN0YXRlOiBDb250YWluZXJTdGF0ZSk6IENvbGxlY3RvciA9PiB7XG4gIHJldHVybiB7XG4gICAgJHNlZW4kOiBuZXcgU2V0KCksXG4gICAgJG9iak1hcCQ6IG5ldyBNYXAoKSxcbiAgICAkZWxlbWVudHMkOiBbXSxcbiAgICAkd2F0Y2hlcyQ6IFtdLFxuICAgICRjb250YWluZXJTdGF0ZSQ6IGNvbnRhaW5lclN0YXRlLFxuICAgICRkb2MkOiBkb2MsXG4gIH07XG59O1xuXG5jb25zdCBjb2xsZWN0RWxlbWVudCA9IGFzeW5jIChlbDogRWxlbWVudCwgY29sbGVjdG9yOiBDb2xsZWN0b3IpID0+IHtcbiAgaWYgKGNvbGxlY3Rvci4kZWxlbWVudHMkLmluY2x1ZGVzKGVsKSkge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBjdHggPSB0cnlHZXRDb250ZXh0KGVsKTtcbiAgaWYgKGN0eCkge1xuICAgIGNvbGxlY3Rvci4kZWxlbWVudHMkLnB1c2goZWwpO1xuICAgIGlmIChjdHguJHByb3BzJCkge1xuICAgICAgYXdhaXQgY29sbGVjdFZhbHVlKGN0eC4kcHJvcHMkLCBjb2xsZWN0b3IpO1xuICAgIH1cbiAgICBpZiAoY3R4LiRyZW5kZXJRcmwkKSB7XG4gICAgICBhd2FpdCBjb2xsZWN0VmFsdWUoY3R4LiRyZW5kZXJRcmwkLCBjb2xsZWN0b3IpO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IG9iaiBvZiBjdHguJHNlcSQpIHtcbiAgICAgIGF3YWl0IGNvbGxlY3RWYWx1ZShvYmosIGNvbGxlY3Rvcik7XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBvYmogb2YgY3R4LiRyZWZNYXAkLiRhcnJheSQpIHtcbiAgICAgIGF3YWl0IGNvbGxlY3RWYWx1ZShvYmosIGNvbGxlY3Rvcik7XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBvYmogb2YgY3R4LiR3YXRjaGVzJCkge1xuICAgICAgYXdhaXQgY29sbGVjdFZhbHVlKG9iaiwgY29sbGVjdG9yKTtcbiAgICB9XG5cbiAgICBpZiAoY3R4LiRjb250ZXh0cyQpIHtcbiAgICAgIGZvciAoY29uc3Qgb2JqIG9mIGN0eC4kY29udGV4dHMkLnZhbHVlcygpKSB7XG4gICAgICAgIGF3YWl0IGNvbGxlY3RWYWx1ZShvYmosIGNvbGxlY3Rvcik7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG5leHBvcnQgY29uc3QgZXNjYXBlVGV4dCA9IChzdHI6IHN0cmluZykgPT4ge1xuICByZXR1cm4gc3RyLnJlcGxhY2UoLzwoXFwvP3NjcmlwdCkvZywgJ1xcXFx4M0MkMScpO1xufTtcblxuZXhwb3J0IGNvbnN0IHVuZXNjYXBlVGV4dCA9IChzdHI6IHN0cmluZykgPT4ge1xuICByZXR1cm4gc3RyLnJlcGxhY2UoL1xcXFx4M0MoXFwvP3NjcmlwdCkvZywgJzwkMScpO1xufTtcblxuY29uc3QgY29sbGVjdFN1YnNjcmlwdGlvbnMgPSBhc3luYyAoc3ViczogU3Vic2NyaWJlck1hcCwgY29sbGVjdG9yOiBDb2xsZWN0b3IpID0+IHtcbiAgaWYgKGNvbGxlY3Rvci4kc2VlbiQuaGFzKHN1YnMpKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbGxlY3Rvci4kc2VlbiQuYWRkKHN1YnMpO1xuICBmb3IgKGNvbnN0IGtleSBvZiBBcnJheS5mcm9tKHN1YnMua2V5cygpKSkge1xuICAgIGlmIChpc0VsZW1lbnQoa2V5KSkge1xuICAgICAgYXdhaXQgY29sbGVjdEVsZW1lbnQoa2V5LCBjb2xsZWN0b3IpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhd2FpdCBjb2xsZWN0VmFsdWUoa2V5LCBjb2xsZWN0b3IpO1xuICAgIH1cbiAgfVxufTtcblxuY29uc3QgUFJPTUlTRV9WQUxVRSA9IFN5bWJvbCgpO1xuY29uc3QgcmVzb2x2ZVByb21pc2UgPSAocHJvbWlzZTogUHJvbWlzZTxhbnk+KSA9PiB7XG4gIHJldHVybiBwcm9taXNlLnRoZW4oKHZhbHVlKSA9PiB7XG4gICAgKHByb21pc2UgYXMgYW55KVtQUk9NSVNFX1ZBTFVFXSA9IHZhbHVlO1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfSk7XG59O1xuXG5jb25zdCBnZXRQcm9taXNlVmFsdWUgPSAocHJvbWlzZTogUHJvbWlzZTxhbnk+KSA9PiB7XG4gIGFzc2VydFRydWUoUFJPTUlTRV9WQUxVRSBpbiBwcm9taXNlLCAncGF1c2U6IHByb21pc2Ugd2FzIG5vdCByZXNvbHZlZCBwcmV2aW91c2x5JywgcHJvbWlzZSk7XG4gIHJldHVybiAocHJvbWlzZSBhcyBhbnkpW1BST01JU0VfVkFMVUVdO1xufTtcblxuY29uc3QgY29sbGVjdFZhbHVlID0gYXN5bmMgKG9iajogYW55LCBjb2xsZWN0b3I6IENvbGxlY3RvcikgPT4ge1xuICBjb25zdCBpbnB1dCA9IG9iajtcbiAgaWYgKGNvbGxlY3Rvci4kc2VlbiQuaGFzKG9iaikpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29sbGVjdG9yLiRzZWVuJC5hZGQob2JqKTtcblxuICBpZiAoIXNob3VsZFNlcmlhbGl6ZShvYmopIHx8IG9iaiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgY29sbGVjdG9yLiRvYmpNYXAkLnNldChvYmosIHVuZGVmaW5lZCk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKG9iaiAhPSBudWxsKSB7XG4gICAgLy8gSGFuZGxlIFFSTFxuICAgIGlmIChpc1FybChvYmopKSB7XG4gICAgICBjb2xsZWN0b3IuJG9iak1hcCQuc2V0KG9iaiwgb2JqKTtcbiAgICAgIGlmIChvYmouJGNhcHR1cmVSZWYkKSB7XG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBvYmouJGNhcHR1cmVSZWYkKSB7XG4gICAgICAgICAgYXdhaXQgY29sbGVjdFZhbHVlKGl0ZW0sIGNvbGxlY3Rvcik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBIYW5kbGUgT2JqZXRzXG4gICAgaWYgKHR5cGVvZiBvYmogPT09ICdvYmplY3QnKSB7XG4gICAgICAvLyBIYW5kbGUgcHJvbWlzZXNcbiAgICAgIGlmIChpc1Byb21pc2Uob2JqKSkge1xuICAgICAgICBjb25zdCByZXNvbHZlZCA9IGF3YWl0IHJlc29sdmVQcm9taXNlKG9iaik7XG4gICAgICAgIGF3YWl0IGNvbGxlY3RWYWx1ZShyZXNvbHZlZCwgY29sbGVjdG9yKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCB0YXJnZXQgPSBnZXRQcm94eVRhcmdldChvYmopO1xuXG4gICAgICAvLyBIYW5kbGUgZG9tIG5vZGVzXG4gICAgICBpZiAoIXRhcmdldCAmJiBpc05vZGUob2JqKSkge1xuICAgICAgICBpZiAob2JqLm5vZGVUeXBlID09PSA5KSB7XG4gICAgICAgICAgYXNzZXJ0VHJ1ZShvYmogPT09IGNvbGxlY3Rvci4kZG9jJCwgJ0RvY3VtZW50IHJlZmVyZW5jZSBpcyBub3QgZnJvbSB0aGUgc2FtZSBwYWdlJywgb2JqKTtcbiAgICAgICAgICBjb2xsZWN0b3IuJG9iak1hcCQuc2V0KG9iaiwgRE9DVU1FTlRfUFJFRklYKTtcbiAgICAgICAgfSBlbHNlIGlmIChvYmoubm9kZVR5cGUgIT09IDEpIHtcbiAgICAgICAgICB0aHJvdyBxRXJyb3IoUUVycm9yX3ZlcmlmeVNlcmlhbGl6YWJsZSwgb2JqKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIElmIHByb3h5IGNvbGxlY3Qgc3Vic2NyaXB0aW9uc1xuICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICBjb25zdCBzdWJzID0gY29sbGVjdG9yLiRjb250YWluZXJTdGF0ZSQuJHN1YnNNYW5hZ2VyJC4kdHJ5R2V0TG9jYWwkKHRhcmdldCk/LiRzdWJzJDtcbiAgICAgICAgaWYgKHN1YnMpIHtcbiAgICAgICAgICBhd2FpdCBjb2xsZWN0U3Vic2NyaXB0aW9ucyhzdWJzLCBjb2xsZWN0b3IpO1xuICAgICAgICB9XG4gICAgICAgIG9iaiA9IHRhcmdldDtcbiAgICAgICAgaWYgKGNvbGxlY3Rvci4kc2VlbiQuaGFzKG9iaikpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29sbGVjdG9yLiRzZWVuJC5hZGQob2JqKTtcbiAgICAgIH1cblxuICAgICAgY29sbGVjdG9yLiRvYmpNYXAkLnNldChvYmosIG9iaik7XG4gICAgICBpZiAoaXNBcnJheShvYmopKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb2JqLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgYXdhaXQgY29sbGVjdFZhbHVlKGlucHV0W2ldLCBjb2xsZWN0b3IpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBvYmopIHtcbiAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkge1xuICAgICAgICAgICAgYXdhaXQgY29sbGVjdFZhbHVlKGlucHV0W2tleV0sIGNvbGxlY3Rvcik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG4gIGNvbGxlY3Rvci4kb2JqTWFwJC5zZXQob2JqLCBvYmopO1xufTtcblxuZXhwb3J0IGNvbnN0IGlzQ29udGFpbmVyID0gKGVsOiBFbGVtZW50KSA9PiB7XG4gIHJldHVybiBlbC5oYXNBdHRyaWJ1dGUoUUNvbnRhaW5lckF0dHIpO1xufTtcblxuY29uc3QgaGFzUUlkID0gKGVsOiBFbGVtZW50KSA9PiB7XG4gIHJldHVybiBlbC5oYXNBdHRyaWJ1dGUoRUxFTUVOVF9JRCk7XG59O1xuXG5leHBvcnQgY29uc3QgaW50VG9TdHIgPSAobnU6IG51bWJlcikgPT4ge1xuICByZXR1cm4gbnUudG9TdHJpbmcoMzYpO1xufTtcblxuZXhwb3J0IGNvbnN0IHN0clRvSW50ID0gKG51OiBzdHJpbmcpID0+IHtcbiAgcmV0dXJuIHBhcnNlSW50KG51LCAzNik7XG59O1xuIl19","import { OnRenderProp, QHostAttr, QSlot } from '../util/markers';\nimport { cleanupContext, getContext, getPropsMutator, setEvent, tryGetContext, } from '../props/props';\nimport { isOnProp } from '../props/props-on';\nimport { isArray, isString } from '../util/types';\nimport { renderComponent } from './render-component';\nimport { promiseAll, then } from '../util/promises';\nimport { assertDefined, assertEqual } from '../assert/assert';\nimport { intToStr } from '../object/store';\nimport { EMPTY_ARRAY } from '../util/flyweight';\nimport { logDebug, logError, logWarn } from '../util/log';\nimport { qDev } from '../util/qdev';\nimport { codeToText, qError, QError_hostCanOnlyBeAtRoot, QError_rootNodeMustBeHTML, QError_setProperty, QError_strictHTMLChildren, QError_stringifyClassOrStyle, } from '../error/error';\nimport { fromCamelToKebabCase } from '../util/case';\nimport { CONTAINER, isStyleTask } from '../use/use-core';\nimport { getDocument } from '../util/dom';\nimport { directGetAttribute, directSetAttribute } from './fast-calls';\nimport { HOST_TYPE, SKIP_RENDER_TYPE } from './jsx/jsx-runtime';\nimport { assertQrl } from '../import/qrl-class';\nexport const SVG_NS = 'http://www.w3.org/2000/svg';\nexport const smartUpdateChildren = (ctx, elm, ch, mode, isSvg) => {\n    if (ch.length === 1 && ch[0].$type$ === SKIP_RENDER_TYPE) {\n        if (elm.firstChild !== null) {\n            return;\n        }\n        ch = ch[0].$children$;\n    }\n    const oldCh = getChildren(elm, mode);\n    if (qDev) {\n        if (elm.nodeType === 9) {\n            if (ch.length !== 1 || ch[0].$type$ !== 'html') {\n                throw qError(QError_rootNodeMustBeHTML, ch);\n            }\n        }\n        else if (elm.nodeName === 'HTML') {\n            if (ch.length !== 2 || ch[0].$type$ !== 'head' || ch[1].$type$ !== 'body') {\n                throw qError(QError_strictHTMLChildren, ch);\n            }\n        }\n    }\n    if (oldCh.length > 0 && ch.length > 0) {\n        return updateChildren(ctx, elm, oldCh, ch, isSvg);\n    }\n    else if (ch.length > 0) {\n        return addVnodes(ctx, elm, null, ch, 0, ch.length - 1, isSvg);\n    }\n    else if (oldCh.length > 0) {\n        return removeVnodes(ctx, oldCh, 0, oldCh.length - 1);\n    }\n};\nexport const updateChildren = (ctx, parentElm, oldCh, newCh, isSvg) => {\n    let oldStartIdx = 0;\n    let newStartIdx = 0;\n    let oldEndIdx = oldCh.length - 1;\n    let oldStartVnode = oldCh[0];\n    let oldEndVnode = oldCh[oldEndIdx];\n    let newEndIdx = newCh.length - 1;\n    let newStartVnode = newCh[0];\n    let newEndVnode = newCh[newEndIdx];\n    let oldKeyToIdx;\n    let idxInOld;\n    let elmToMove;\n    const results = [];\n    while (oldStartIdx <= oldEndIdx && newStartIdx <= newEndIdx) {\n        if (oldStartVnode == null) {\n            oldStartVnode = oldCh[++oldStartIdx]; // Vnode might have been moved left\n        }\n        else if (oldEndVnode == null) {\n            oldEndVnode = oldCh[--oldEndIdx];\n        }\n        else if (newStartVnode == null) {\n            newStartVnode = newCh[++newStartIdx];\n        }\n        else if (newEndVnode == null) {\n            newEndVnode = newCh[--newEndIdx];\n        }\n        else if (sameVnode(oldStartVnode, newStartVnode)) {\n            results.push(patchVnode(ctx, oldStartVnode, newStartVnode, isSvg));\n            oldStartVnode = oldCh[++oldStartIdx];\n            newStartVnode = newCh[++newStartIdx];\n        }\n        else if (sameVnode(oldEndVnode, newEndVnode)) {\n            results.push(patchVnode(ctx, oldEndVnode, newEndVnode, isSvg));\n            oldEndVnode = oldCh[--oldEndIdx];\n            newEndVnode = newCh[--newEndIdx];\n        }\n        else if (sameVnode(oldStartVnode, newEndVnode)) {\n            // Vnode moved right\n            results.push(patchVnode(ctx, oldStartVnode, newEndVnode, isSvg));\n            insertBefore(ctx, parentElm, oldStartVnode, oldEndVnode.nextSibling);\n            oldStartVnode = oldCh[++oldStartIdx];\n            newEndVnode = newCh[--newEndIdx];\n        }\n        else if (sameVnode(oldEndVnode, newStartVnode)) {\n            // Vnode moved left\n            results.push(patchVnode(ctx, oldEndVnode, newStartVnode, isSvg));\n            insertBefore(ctx, parentElm, oldEndVnode, oldStartVnode);\n            oldEndVnode = oldCh[--oldEndIdx];\n            newStartVnode = newCh[++newStartIdx];\n        }\n        else {\n            if (oldKeyToIdx === undefined) {\n                oldKeyToIdx = createKeyToOldIdx(oldCh, oldStartIdx, oldEndIdx);\n            }\n            idxInOld = oldKeyToIdx[newStartVnode.$key$];\n            if (idxInOld === undefined) {\n                // New element\n                const newElm = createElm(ctx, newStartVnode, isSvg);\n                results.push(then(newElm, (newElm) => {\n                    insertBefore(ctx, parentElm, newElm, oldStartVnode);\n                }));\n            }\n            else {\n                elmToMove = oldCh[idxInOld];\n                if (!isTagName(elmToMove, newStartVnode.$type$)) {\n                    const newElm = createElm(ctx, newStartVnode, isSvg);\n                    results.push(then(newElm, (newElm) => {\n                        insertBefore(ctx, parentElm, newElm, oldStartVnode);\n                    }));\n                }\n                else {\n                    results.push(patchVnode(ctx, elmToMove, newStartVnode, isSvg));\n                    oldCh[idxInOld] = undefined;\n                    insertBefore(ctx, parentElm, elmToMove, oldStartVnode);\n                }\n            }\n            newStartVnode = newCh[++newStartIdx];\n        }\n    }\n    if (newStartIdx <= newEndIdx) {\n        const before = newCh[newEndIdx + 1] == null ? null : newCh[newEndIdx + 1].$elm$;\n        results.push(addVnodes(ctx, parentElm, before, newCh, newStartIdx, newEndIdx, isSvg));\n    }\n    let wait = promiseAll(results);\n    if (oldStartIdx <= oldEndIdx) {\n        const canRemove = parentElm.nodeName !== 'HEAD';\n        if (canRemove) {\n            wait = then(wait, () => {\n                removeVnodes(ctx, oldCh, oldStartIdx, oldEndIdx);\n            });\n        }\n    }\n    return wait;\n};\nconst isComponentNode = (node) => {\n    return node.$props$ && OnRenderProp in node.$props$;\n};\nconst getCh = (elm, filter) => {\n    return Array.from(elm.childNodes).filter(filter);\n};\nexport const getChildren = (elm, mode) => {\n    switch (mode) {\n        case 'default':\n            return getCh(elm, isNode);\n        case 'slot':\n            return getCh(elm, isChildSlot);\n        case 'root':\n            return getCh(elm, isChildComponent);\n        case 'fallback':\n            return getCh(elm, isFallback);\n    }\n};\nexport const isNode = (elm) => {\n    const type = elm.nodeType;\n    return type === 1 || type === 3;\n};\nconst isFallback = (node) => {\n    return node.nodeName === 'Q:FALLBACK';\n};\nconst isChildSlot = (node) => {\n    return isNode(node) && node.nodeName !== 'Q:FALLBACK' && node.nodeName !== 'Q:TEMPLATE';\n};\nconst isSlotTemplate = (node) => {\n    return node.nodeName === 'Q:TEMPLATE';\n};\nconst isChildComponent = (node) => {\n    return isNode(node) && node.nodeName !== 'Q:TEMPLATE';\n};\nconst splitBy = (input, condition) => {\n    const output = {};\n    for (const item of input) {\n        const key = condition(item);\n        const array = output[key] ?? (output[key] = []);\n        array.push(item);\n    }\n    return output;\n};\nexport const patchVnode = (rctx, elm, vnode, isSvg) => {\n    vnode.$elm$ = elm;\n    const tag = vnode.$type$;\n    if (tag === '#text') {\n        if (elm.data !== vnode.$text$) {\n            setProperty(rctx, elm, 'data', vnode.$text$);\n        }\n        return;\n    }\n    if (tag === HOST_TYPE) {\n        throw qError(QError_hostCanOnlyBeAtRoot);\n    }\n    if (tag === SKIP_RENDER_TYPE) {\n        return;\n    }\n    if (!isSvg) {\n        isSvg = tag === 'svg';\n    }\n    const props = vnode.$props$;\n    const ctx = getContext(elm);\n    const isSlot = tag === QSlot;\n    let dirty = updateProperties(rctx, ctx, props, isSvg);\n    if (isSvg && vnode.$type$ === 'foreignObject') {\n        isSvg = false;\n    }\n    else if (isSlot) {\n        const currentComponent = rctx.$currentComponent$;\n        if (currentComponent) {\n            currentComponent.$slots$.push(vnode);\n        }\n    }\n    const isComponent = isComponentNode(vnode);\n    const ch = vnode.$children$;\n    if (isComponent) {\n        if (!dirty && !ctx.$renderQrl$ && !ctx.$element$.hasAttribute(QHostAttr)) {\n            setAttribute(rctx, ctx.$element$, QHostAttr, '');\n            ctx.$renderQrl$ = props[OnRenderProp];\n            assertQrl(ctx.$renderQrl$);\n            dirty = true;\n        }\n        const promise = dirty ? renderComponent(rctx, ctx) : undefined;\n        return then(promise, () => {\n            const slotMaps = getSlots(ctx.$component$, elm);\n            const splittedChidren = splitBy(ch, getSlotName);\n            const promises = [];\n            const slotRctx = copyRenderContext(rctx);\n            slotRctx.$contexts$.push(ctx);\n            // Mark empty slots and remove content\n            Object.entries(slotMaps.slots).forEach(([key, slotEl]) => {\n                if (slotEl && !splittedChidren[key]) {\n                    const oldCh = getChildren(slotEl, 'slot');\n                    if (oldCh.length > 0) {\n                        removeVnodes(slotRctx, oldCh, 0, oldCh.length - 1);\n                    }\n                }\n            });\n            // Mark empty slots and remove content\n            Object.entries(slotMaps.templates).forEach(([key, templateEl]) => {\n                if (templateEl && !splittedChidren[key]) {\n                    removeNode(slotRctx, templateEl);\n                    slotMaps.templates[key] = undefined;\n                }\n            });\n            // Render into slots\n            Object.entries(splittedChidren).forEach(([key, ch]) => {\n                const slotElm = getSlotElement(slotRctx, slotMaps, elm, key);\n                promises.push(smartUpdateChildren(slotRctx, slotElm, ch, 'slot', isSvg));\n            });\n            return then(promiseAll(promises), () => {\n                removeTemplates(slotRctx, slotMaps);\n            });\n        });\n    }\n    const setsInnerHTML = checkInnerHTML(props);\n    if (setsInnerHTML) {\n        if (qDev && ch.length > 0) {\n            logWarn('Node can not have children when innerHTML is set');\n        }\n        return;\n    }\n    const mode = isSlot ? 'fallback' : 'default';\n    return smartUpdateChildren(rctx, elm, ch, mode, isSvg);\n};\nconst addVnodes = (ctx, parentElm, before, vnodes, startIdx, endIdx, isSvg) => {\n    const promises = [];\n    for (; startIdx <= endIdx; ++startIdx) {\n        const ch = vnodes[startIdx];\n        assertDefined(ch, 'render: node must be defined at index', startIdx, vnodes);\n        promises.push(createElm(ctx, ch, isSvg));\n    }\n    return then(promiseAll(promises), (children) => {\n        for (const child of children) {\n            insertBefore(ctx, parentElm, child, before);\n        }\n    });\n};\nconst removeVnodes = (ctx, nodes, startIdx, endIdx) => {\n    for (; startIdx <= endIdx; ++startIdx) {\n        const ch = nodes[startIdx];\n        if (ch) {\n            removeNode(ctx, ch);\n        }\n    }\n};\nlet refCount = 0;\nconst RefSymbol = Symbol();\nconst setSlotRef = (ctx, hostElm, slotEl) => {\n    let ref = hostElm[RefSymbol] ?? directGetAttribute(hostElm, 'q:sref');\n    if (ref === null) {\n        ref = intToStr(refCount++);\n        hostElm[RefSymbol] = ref;\n        setAttribute(ctx, hostElm, 'q:sref', ref);\n    }\n    directSetAttribute(slotEl, 'q:sref', ref);\n};\nconst getSlotElement = (ctx, slotMaps, parentEl, slotName) => {\n    const slotEl = slotMaps.slots[slotName];\n    if (slotEl) {\n        return slotEl;\n    }\n    const templateEl = slotMaps.templates[slotName];\n    if (templateEl) {\n        return templateEl;\n    }\n    const template = createTemplate(ctx, slotName);\n    prepend(ctx, parentEl, template);\n    slotMaps.templates[slotName] = template;\n    return template;\n};\nconst createTemplate = (ctx, slotName) => {\n    const template = createElement(ctx, 'q:template', false);\n    directSetAttribute(template, QSlot, slotName);\n    directSetAttribute(template, 'hidden', '');\n    directSetAttribute(template, 'aria-hidden', 'true');\n    return template;\n};\nconst removeTemplates = (ctx, slotMaps) => {\n    Object.keys(slotMaps.templates).forEach((key) => {\n        const template = slotMaps.templates[key];\n        if (template && slotMaps.slots[key] !== undefined) {\n            removeNode(ctx, template);\n            slotMaps.templates[key] = undefined;\n        }\n    });\n};\nexport const resolveSlotProjection = (ctx, hostElm, before, after) => {\n    Object.entries(before.slots).forEach(([key, slotEl]) => {\n        if (slotEl && !after.slots[key]) {\n            // Slot removed\n            // Move slot to template\n            const template = createTemplate(ctx, key);\n            const slotChildren = getChildren(slotEl, 'slot');\n            template.append(...slotChildren);\n            hostElm.insertBefore(template, hostElm.firstChild);\n            ctx.$operations$.push({\n                $el$: template,\n                $operation$: 'slot-to-template',\n                $args$: slotChildren,\n                $fn$: () => { },\n            });\n        }\n    });\n    Object.entries(after.slots).forEach(([key, slotEl]) => {\n        if (slotEl && !before.slots[key]) {\n            // Slot created\n            // Move template to slot\n            const template = before.templates[key];\n            if (template) {\n                slotEl.append(...getChildren(template, 'default'));\n                template.remove();\n                ctx.$operations$.push({\n                    $el$: slotEl,\n                    $operation$: 'template-to-slot',\n                    $args$: [template],\n                    $fn$: () => { },\n                });\n            }\n        }\n    });\n};\nconst getSlotName = (node) => {\n    return node.$props$?.[QSlot] ?? '';\n};\nconst createElm = (rctx, vnode, isSvg) => {\n    rctx.$perf$.$visited$++;\n    const tag = vnode.$type$;\n    if (tag === '#text') {\n        return (vnode.$elm$ = createTextNode(rctx, vnode.$text$));\n    }\n    if (tag === HOST_TYPE) {\n        throw qError(QError_hostCanOnlyBeAtRoot);\n    }\n    if (!isSvg) {\n        isSvg = tag === 'svg';\n    }\n    const props = vnode.$props$;\n    const elm = (vnode.$elm$ = createElement(rctx, tag, isSvg));\n    const isComponent = isComponentNode(vnode);\n    const ctx = getContext(elm);\n    setKey(elm, vnode.$key$);\n    updateProperties(rctx, ctx, props, isSvg);\n    if (isSvg && tag === 'foreignObject') {\n        isSvg = false;\n    }\n    const currentComponent = rctx.$currentComponent$;\n    if (currentComponent) {\n        const styleTag = currentComponent.$styleClass$;\n        if (styleTag) {\n            classlistAdd(rctx, elm, styleTag);\n        }\n        if (tag === QSlot || tag === 'html') {\n            setSlotRef(rctx, currentComponent.$hostElement$, elm);\n            currentComponent.$slots$.push(vnode);\n        }\n    }\n    let wait;\n    if (isComponent) {\n        // Run mount hook\n        const renderQRL = props[OnRenderProp];\n        assertQrl(renderQRL);\n        ctx.$renderQrl$ = renderQRL;\n        directSetAttribute(ctx.$element$, QHostAttr, '');\n        wait = renderComponent(rctx, ctx);\n    }\n    else {\n        const setsInnerHTML = checkInnerHTML(props);\n        if (setsInnerHTML) {\n            if (qDev && vnode.$children$.length > 0) {\n                logWarn('Node can not have children when innerHTML is set');\n            }\n            return elm;\n        }\n    }\n    return then(wait, () => {\n        let children = vnode.$children$;\n        if (children.length > 0) {\n            if (children.length === 1 && children[0].$type$ === SKIP_RENDER_TYPE) {\n                children = children[0].$children$;\n            }\n            const slotRctx = copyRenderContext(rctx);\n            slotRctx.$contexts$.push(ctx);\n            const slotMap = isComponent ? getSlots(ctx.$component$, elm) : undefined;\n            const promises = children.map((ch) => createElm(slotRctx, ch, isSvg));\n            return then(promiseAll(promises), () => {\n                let parent = elm;\n                for (const node of children) {\n                    if (slotMap) {\n                        parent = getSlotElement(slotRctx, slotMap, elm, getSlotName(node));\n                    }\n                    parent.appendChild(node.$elm$);\n                }\n                return elm;\n            });\n        }\n        return elm;\n    });\n};\nconst getSlots = (componentCtx, hostElm) => {\n    if (hostElm.localName === 'html') {\n        return { slots: { '': hostElm }, templates: {} };\n    }\n    const slots = {};\n    const templates = {};\n    const slotRef = directGetAttribute(hostElm, 'q:sref');\n    const existingSlots = Array.from(hostElm.querySelectorAll(`q\\\\:slot[q\\\\:sref=\"${slotRef}\"]`));\n    const newSlots = componentCtx?.$slots$ ?? EMPTY_ARRAY;\n    const t = Array.from(hostElm.children).filter(isSlotTemplate);\n    // Map slots\n    for (const elm of existingSlots) {\n        slots[directGetAttribute(elm, 'name') ?? ''] = elm;\n    }\n    // Map virtual slots\n    for (const vnode of newSlots) {\n        slots[vnode.$props$?.name ?? ''] = vnode.$elm$;\n    }\n    // Map templates\n    for (const elm of t) {\n        templates[directGetAttribute(elm, QSlot) ?? ''] = elm;\n    }\n    return { slots, templates };\n};\nconst handleStyle = (ctx, elm, _, newValue) => {\n    setAttribute(ctx, elm, 'style', stringifyClassOrStyle(newValue, false));\n    return true;\n};\nconst handleClass = (ctx, elm, _, newValue) => {\n    setAttribute(ctx, elm, 'class', stringifyClassOrStyle(newValue, true));\n    return true;\n};\nconst checkBeforeAssign = (ctx, elm, prop, newValue) => {\n    if (prop in elm) {\n        if (elm[prop] !== newValue) {\n            setProperty(ctx, elm, prop, newValue);\n        }\n    }\n    return true;\n};\nconst dangerouslySetInnerHTML = 'dangerouslySetInnerHTML';\nconst setInnerHTML = (ctx, elm, _, newValue) => {\n    if (dangerouslySetInnerHTML in elm) {\n        setProperty(ctx, elm, dangerouslySetInnerHTML, newValue);\n    }\n    else if ('innerHTML' in elm) {\n        setProperty(ctx, elm, 'innerHTML', newValue);\n    }\n    return true;\n};\nconst PROP_HANDLER_MAP = {\n    style: handleStyle,\n    class: handleClass,\n    className: handleClass,\n    value: checkBeforeAssign,\n    checked: checkBeforeAssign,\n    [dangerouslySetInnerHTML]: setInnerHTML,\n};\nconst ALLOWS_PROPS = ['class', 'className', 'style', 'id', QSlot];\nconst HOST_PREFIX = 'host:';\nconst SCOPE_PREFIX = /^(host|window|document|prevent(d|D)efault):/;\nexport const updateProperties = (rctx, ctx, expectProps, isSvg) => {\n    if (!expectProps) {\n        return false;\n    }\n    const elm = ctx.$element$;\n    const isCmp = OnRenderProp in expectProps;\n    const qwikProps = isCmp ? getPropsMutator(ctx, rctx.$containerState$) : undefined;\n    for (let key of Object.keys(expectProps)) {\n        if (key === 'children' || key === OnRenderProp) {\n            continue;\n        }\n        const newValue = expectProps[key];\n        if (key === 'ref') {\n            newValue.current = elm;\n            continue;\n        }\n        // Early exit if value didnt change\n        const oldValue = ctx.$cache$.get(key);\n        if (newValue === oldValue) {\n            continue;\n        }\n        ctx.$cache$.set(key, newValue);\n        // Check of data- or aria-\n        if (key.startsWith('data-') || key.startsWith('aria-')) {\n            setAttribute(rctx, elm, key, newValue);\n            continue;\n        }\n        if (qwikProps) {\n            const skipProperty = ALLOWS_PROPS.includes(key);\n            const hasPrefix = SCOPE_PREFIX.test(key);\n            if (!skipProperty && !hasPrefix) {\n                // Qwik props\n                qwikProps.set(key, newValue);\n                continue;\n            }\n            const hPrefixed = key.startsWith(HOST_PREFIX);\n            if (hPrefixed) {\n                key = key.slice(HOST_PREFIX.length);\n            }\n        }\n        else if (qDev && key.startsWith(HOST_PREFIX)) {\n            logWarn(`${HOST_PREFIX} prefix can not be used in non components`);\n            continue;\n        }\n        if (isOnProp(key)) {\n            setEvent(rctx, ctx, key, newValue);\n            continue;\n        }\n        // Check if its an exception\n        const exception = PROP_HANDLER_MAP[key];\n        if (exception) {\n            if (exception(rctx, elm, key, newValue, oldValue)) {\n                continue;\n            }\n        }\n        // Check if property in prototype\n        if (!isSvg && key in elm) {\n            setProperty(rctx, elm, key, newValue);\n            continue;\n        }\n        // Fallback to render attribute\n        setAttribute(rctx, elm, key, newValue);\n    }\n    return ctx.$dirty$;\n};\nexport const createRenderContext = (doc, containerState, containerEl) => {\n    const ctx = {\n        $doc$: doc,\n        $containerState$: containerState,\n        $containerEl$: containerEl,\n        $hostElements$: new Set(),\n        $operations$: [],\n        $roots$: [],\n        $contexts$: [],\n        $currentComponent$: undefined,\n        $perf$: {\n            $visited$: 0,\n        },\n    };\n    return ctx;\n};\nexport const copyRenderContext = (ctx) => {\n    const newCtx = {\n        ...ctx,\n        $contexts$: [...ctx.$contexts$],\n    };\n    return newCtx;\n};\nexport const setAttribute = (ctx, el, prop, value) => {\n    const fn = () => {\n        if (value == null || value === false) {\n            el.removeAttribute(prop);\n        }\n        else {\n            const str = value === true ? '' : String(value);\n            directSetAttribute(el, prop, str);\n        }\n    };\n    ctx.$operations$.push({\n        $el$: el,\n        $operation$: 'set-attribute',\n        $args$: [prop, value],\n        $fn$: fn,\n    });\n};\nexport const classlistAdd = (ctx, el, hostStyleTag) => {\n    const fn = () => {\n        el.classList.add(hostStyleTag);\n    };\n    ctx.$operations$.push({\n        $el$: el,\n        $operation$: 'classlist-add',\n        $args$: [hostStyleTag],\n        $fn$: fn,\n    });\n};\nconst setProperty = (ctx, node, key, value) => {\n    const fn = () => {\n        try {\n            node[key] = value;\n        }\n        catch (err) {\n            logError(codeToText(QError_setProperty), { node, key, value }, err);\n        }\n    };\n    ctx.$operations$.push({\n        $el$: node,\n        $operation$: 'set-property',\n        $args$: [key, value],\n        $fn$: fn,\n    });\n};\nconst createElement = (ctx, expectTag, isSvg) => {\n    const el = isSvg\n        ? ctx.$doc$.createElementNS(SVG_NS, expectTag)\n        : ctx.$doc$.createElement(expectTag);\n    el[CONTAINER] = ctx.$containerEl$;\n    ctx.$operations$.push({\n        $el$: el,\n        $operation$: 'create-element',\n        $args$: [expectTag],\n        $fn$: () => { },\n    });\n    return el;\n};\nconst insertBefore = (ctx, parent, newChild, refChild) => {\n    const fn = () => {\n        parent.insertBefore(newChild, refChild ? refChild : null);\n    };\n    ctx.$operations$.push({\n        $el$: parent,\n        $operation$: 'insert-before',\n        $args$: [newChild, refChild],\n        $fn$: fn,\n    });\n    return newChild;\n};\nexport const appendStyle = (ctx, hostElement, styleTask) => {\n    const fn = () => {\n        const containerEl = ctx.$containerEl$;\n        const stylesParent = ctx.$doc$.documentElement === containerEl ? ctx.$doc$.head ?? containerEl : containerEl;\n        const style = ctx.$doc$.createElement('style');\n        directSetAttribute(style, 'q:style', styleTask.styleId);\n        style.textContent = styleTask.content;\n        stylesParent.insertBefore(style, stylesParent.firstChild);\n    };\n    ctx.$operations$.push({\n        $el$: hostElement,\n        $operation$: 'append-style',\n        $args$: [styleTask],\n        $fn$: fn,\n    });\n};\nexport const hasStyle = (ctx, styleId) => {\n    const containerEl = ctx.$containerEl$;\n    const doc = getDocument(containerEl);\n    const hasOperation = ctx.$operations$.some((op) => {\n        if (op.$operation$ === 'append-style') {\n            const s = op.$args$[0];\n            if (isStyleTask(s)) {\n                return s.styleId === styleId;\n            }\n        }\n        return false;\n    });\n    if (hasOperation) {\n        return true;\n    }\n    const stylesParent = doc.documentElement === containerEl ? doc.head ?? containerEl : containerEl;\n    return !!stylesParent.querySelector(`style[q\\\\:style=\"${styleId}\"]`);\n};\nconst prepend = (ctx, parent, newChild) => {\n    const fn = () => {\n        parent.insertBefore(newChild, parent.firstChild);\n    };\n    ctx.$operations$.push({\n        $el$: parent,\n        $operation$: 'prepend',\n        $args$: [newChild],\n        $fn$: fn,\n    });\n};\nconst removeNode = (ctx, el) => {\n    const fn = () => {\n        const parent = el.parentNode;\n        if (parent) {\n            if (el.nodeType === 1) {\n                cleanupTree(el, ctx.$containerState$.$subsManager$);\n            }\n            parent.removeChild(el);\n        }\n        else if (qDev) {\n            logWarn('Trying to remove component already removed', el);\n        }\n    };\n    ctx.$operations$.push({\n        $el$: el,\n        $operation$: 'remove',\n        $args$: [],\n        $fn$: fn,\n    });\n};\nexport const cleanupTree = (parent, subsManager) => {\n    if (parent.nodeName === 'Q:SLOT') {\n        return;\n    }\n    if (parent.hasAttribute(QHostAttr)) {\n        cleanupElement(parent, subsManager);\n    }\n    let child = parent.firstElementChild;\n    while (child) {\n        cleanupTree(child, subsManager);\n        child = child.nextElementSibling;\n    }\n};\nconst cleanupElement = (el, subsManager) => {\n    const ctx = tryGetContext(el);\n    if (ctx) {\n        cleanupContext(ctx, subsManager);\n    }\n};\nconst createTextNode = (ctx, text) => {\n    return ctx.$doc$.createTextNode(text);\n};\nexport const executeContextWithSlots = (ctx) => {\n    const before = ctx.$roots$.map((elm) => getSlots(undefined, elm));\n    executeContext(ctx);\n    const after = ctx.$roots$.map((elm) => getSlots(undefined, elm));\n    assertEqual(before.length, after.length, 'render: number of q:slots changed during render context execution', before, after);\n    for (let i = 0; i < before.length; i++) {\n        resolveSlotProjection(ctx, ctx.$roots$[i], before[i], after[i]);\n    }\n};\nexport const executeContext = (ctx) => {\n    for (const op of ctx.$operations$) {\n        op.$fn$();\n    }\n};\nexport const printRenderStats = (ctx) => {\n    if (qDev) {\n        if (typeof window !== 'undefined' && window.document != null) {\n            const byOp = {};\n            for (const op of ctx.$operations$) {\n                byOp[op.$operation$] = (byOp[op.$operation$] ?? 0) + 1;\n            }\n            const affectedElements = Array.from(new Set(ctx.$operations$.map((a) => a.$el$)));\n            const stats = {\n                byOp,\n                roots: ctx.$roots$,\n                hostElements: Array.from(ctx.$hostElements$),\n                affectedElements,\n                visitedNodes: ctx.$perf$.$visited$,\n                operations: ctx.$operations$.map((v) => [v.$operation$, v.$el$, ...v.$args$]),\n            };\n            const noOps = ctx.$operations$.length === 0;\n            logDebug('Render stats.', noOps ? 'No operations' : '', stats);\n        }\n    }\n};\nconst createKeyToOldIdx = (children, beginIdx, endIdx) => {\n    const map = {};\n    for (let i = beginIdx; i <= endIdx; ++i) {\n        const child = children[i];\n        if (child.nodeType === 1) {\n            const key = getKey(child);\n            if (key != null) {\n                map[key] = i;\n            }\n        }\n    }\n    return map;\n};\nconst KEY_SYMBOL = Symbol('vnode key');\nconst getKey = (el) => {\n    let key = el[KEY_SYMBOL];\n    if (key === undefined) {\n        key = el[KEY_SYMBOL] = directGetAttribute(el, 'q:key');\n    }\n    return key;\n};\nconst setKey = (el, key) => {\n    if (isString(key)) {\n        directSetAttribute(el, 'q:key', key);\n    }\n    el[KEY_SYMBOL] = key;\n};\nconst sameVnode = (elm, vnode2) => {\n    const isElement = elm.nodeType === 1;\n    const type = vnode2.$type$;\n    if (isElement) {\n        const isSameSel = elm.localName === type;\n        if (!isSameSel) {\n            return false;\n        }\n        return getKey(elm) === vnode2.$key$;\n    }\n    return elm.nodeName === type;\n};\nconst isTagName = (elm, tagName) => {\n    if (elm.nodeType === 1) {\n        return elm.localName === tagName;\n    }\n    return elm.nodeName === tagName;\n};\nconst checkInnerHTML = (props) => {\n    return props && ('innerHTML' in props || dangerouslySetInnerHTML in props);\n};\nexport const stringifyClassOrStyle = (obj, isClass) => {\n    if (obj == null)\n        return '';\n    if (typeof obj == 'object') {\n        let text = '';\n        let sep = '';\n        if (isArray(obj)) {\n            if (!isClass) {\n                throw qError(QError_stringifyClassOrStyle, obj, 'style');\n            }\n            for (let i = 0; i < obj.length; i++) {\n                text += sep + obj[i];\n                sep = ' ';\n            }\n        }\n        else {\n            for (const key in obj) {\n                if (Object.prototype.hasOwnProperty.call(obj, key)) {\n                    const value = obj[key];\n                    if (value) {\n                        text += isClass\n                            ? value\n                                ? sep + key\n                                : ''\n                            : sep + fromCamelToKebabCase(key) + ':' + value;\n                        sep = isClass ? ' ' : ';';\n                    }\n                }\n            }\n        }\n        return text;\n    }\n    return String(obj);\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY3Vyc29yLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3JlbmRlci9jdXJzb3IudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFlBQVksRUFBRSxTQUFTLEVBQUUsS0FBSyxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDakUsT0FBTyxFQUNMLGNBQWMsRUFFZCxVQUFVLEVBQ1YsZUFBZSxFQUVmLFFBQVEsRUFDUixhQUFhLEdBQ2QsTUFBTSxnQkFBZ0IsQ0FBQztBQUN4QixPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFDN0MsT0FBTyxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQWtCLE1BQU0sZUFBZSxDQUFDO0FBRWxFLE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUNyRCxPQUFPLEVBQUUsVUFBVSxFQUFFLElBQUksRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBRXBELE9BQU8sRUFBRSxhQUFhLEVBQUUsV0FBVyxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDOUQsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQzNDLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQztBQUNoRCxPQUFPLEVBQUUsUUFBUSxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFDMUQsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLGNBQWMsQ0FBQztBQUNwQyxPQUFPLEVBQ0wsVUFBVSxFQUNWLE1BQU0sRUFDTiwwQkFBMEIsRUFDMUIseUJBQXlCLEVBQ3pCLGtCQUFrQixFQUNsQix5QkFBeUIsRUFDekIsNEJBQTRCLEdBQzdCLE1BQU0sZ0JBQWdCLENBQUM7QUFDeEIsT0FBTyxFQUFFLG9CQUFvQixFQUFFLE1BQU0sY0FBYyxDQUFDO0FBRXBELE9BQU8sRUFBRSxTQUFTLEVBQUUsV0FBVyxFQUFlLE1BQU0saUJBQWlCLENBQUM7QUFHdEUsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUMxQyxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSxjQUFjLENBQUM7QUFDdEUsT0FBTyxFQUFFLFNBQVMsRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBQ2hFLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUVoRCxNQUFNLENBQUMsTUFBTSxNQUFNLEdBQUcsNEJBQTRCLENBQUM7QUE4Q25ELE1BQU0sQ0FBQyxNQUFNLG1CQUFtQixHQUFHLENBQ2pDLEdBQWtCLEVBQ2xCLEdBQVMsRUFDVCxFQUFzQixFQUN0QixJQUFrQixFQUNsQixLQUFjLEVBQ2QsRUFBRTtJQUNGLElBQUksRUFBRSxDQUFDLE1BQU0sS0FBSyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sS0FBSyxnQkFBZ0IsRUFBRTtRQUN4RCxJQUFJLEdBQUcsQ0FBQyxVQUFVLEtBQUssSUFBSSxFQUFFO1lBQzNCLE9BQU87U0FDUjtRQUNELEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDO0tBQ3ZCO0lBQ0QsTUFBTSxLQUFLLEdBQUcsV0FBVyxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUNyQyxJQUFJLElBQUksRUFBRTtRQUNSLElBQUksR0FBRyxDQUFDLFFBQVEsS0FBSyxDQUFDLEVBQUU7WUFDdEIsSUFBSSxFQUFFLENBQUMsTUFBTSxLQUFLLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxLQUFLLE1BQU0sRUFBRTtnQkFDOUMsTUFBTSxNQUFNLENBQUMseUJBQXlCLEVBQUUsRUFBRSxDQUFDLENBQUM7YUFDN0M7U0FDRjthQUFNLElBQUksR0FBRyxDQUFDLFFBQVEsS0FBSyxNQUFNLEVBQUU7WUFDbEMsSUFBSSxFQUFFLENBQUMsTUFBTSxLQUFLLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxLQUFLLE1BQU0sSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxLQUFLLE1BQU0sRUFBRTtnQkFDekUsTUFBTSxNQUFNLENBQUMseUJBQXlCLEVBQUUsRUFBRSxDQUFDLENBQUM7YUFDN0M7U0FDRjtLQUNGO0lBQ0QsSUFBSSxLQUFLLENBQUMsTUFBTSxHQUFHLENBQUMsSUFBSSxFQUFFLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtRQUNyQyxPQUFPLGNBQWMsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxFQUFFLEVBQUUsS0FBSyxDQUFDLENBQUM7S0FDbkQ7U0FBTSxJQUFJLEVBQUUsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO1FBQ3hCLE9BQU8sU0FBUyxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUM7S0FDL0Q7U0FBTSxJQUFJLEtBQUssQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO1FBQzNCLE9BQU8sWUFBWSxDQUFDLEdBQUcsRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQUFFLEtBQUssQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUM7S0FDdEQ7QUFDSCxDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxjQUFjLEdBQUcsQ0FDNUIsR0FBa0IsRUFDbEIsU0FBZSxFQUNmLEtBQWEsRUFDYixLQUF5QixFQUN6QixLQUFjLEVBQ1EsRUFBRTtJQUN4QixJQUFJLFdBQVcsR0FBRyxDQUFDLENBQUM7SUFDcEIsSUFBSSxXQUFXLEdBQUcsQ0FBQyxDQUFDO0lBQ3BCLElBQUksU0FBUyxHQUFHLEtBQUssQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO0lBQ2pDLElBQUksYUFBYSxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUM3QixJQUFJLFdBQVcsR0FBRyxLQUFLLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDbkMsSUFBSSxTQUFTLEdBQUcsS0FBSyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7SUFDakMsSUFBSSxhQUFhLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzdCLElBQUksV0FBVyxHQUFHLEtBQUssQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUNuQyxJQUFJLFdBQXNDLENBQUM7SUFDM0MsSUFBSSxRQUFnQixDQUFDO0lBQ3JCLElBQUksU0FBZSxDQUFDO0lBQ3BCLE1BQU0sT0FBTyxHQUFHLEVBQUUsQ0FBQztJQUVuQixPQUFPLFdBQVcsSUFBSSxTQUFTLElBQUksV0FBVyxJQUFJLFNBQVMsRUFBRTtRQUMzRCxJQUFJLGFBQWEsSUFBSSxJQUFJLEVBQUU7WUFDekIsYUFBYSxHQUFHLEtBQUssQ0FBQyxFQUFFLFdBQVcsQ0FBQyxDQUFDLENBQUMsbUNBQW1DO1NBQzFFO2FBQU0sSUFBSSxXQUFXLElBQUksSUFBSSxFQUFFO1lBQzlCLFdBQVcsR0FBRyxLQUFLLENBQUMsRUFBRSxTQUFTLENBQUMsQ0FBQztTQUNsQzthQUFNLElBQUksYUFBYSxJQUFJLElBQUksRUFBRTtZQUNoQyxhQUFhLEdBQUcsS0FBSyxDQUFDLEVBQUUsV0FBVyxDQUFDLENBQUM7U0FDdEM7YUFBTSxJQUFJLFdBQVcsSUFBSSxJQUFJLEVBQUU7WUFDOUIsV0FBVyxHQUFHLEtBQUssQ0FBQyxFQUFFLFNBQVMsQ0FBQyxDQUFDO1NBQ2xDO2FBQU0sSUFBSSxTQUFTLENBQUMsYUFBYSxFQUFFLGFBQWEsQ0FBQyxFQUFFO1lBQ2xELE9BQU8sQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLEdBQUcsRUFBRSxhQUFhLEVBQUUsYUFBYSxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUM7WUFDbkUsYUFBYSxHQUFHLEtBQUssQ0FBQyxFQUFFLFdBQVcsQ0FBQyxDQUFDO1lBQ3JDLGFBQWEsR0FBRyxLQUFLLENBQUMsRUFBRSxXQUFXLENBQUMsQ0FBQztTQUN0QzthQUFNLElBQUksU0FBUyxDQUFDLFdBQVcsRUFBRSxXQUFXLENBQUMsRUFBRTtZQUM5QyxPQUFPLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxHQUFHLEVBQUUsV0FBVyxFQUFFLFdBQVcsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDO1lBQy9ELFdBQVcsR0FBRyxLQUFLLENBQUMsRUFBRSxTQUFTLENBQUMsQ0FBQztZQUNqQyxXQUFXLEdBQUcsS0FBSyxDQUFDLEVBQUUsU0FBUyxDQUFDLENBQUM7U0FDbEM7YUFBTSxJQUFJLFNBQVMsQ0FBQyxhQUFhLEVBQUUsV0FBVyxDQUFDLEVBQUU7WUFDaEQsb0JBQW9CO1lBQ3BCLE9BQU8sQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLEdBQUcsRUFBRSxhQUFhLEVBQUUsV0FBVyxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUM7WUFFakUsWUFBWSxDQUFDLEdBQUcsRUFBRSxTQUFTLEVBQUUsYUFBYSxFQUFFLFdBQVcsQ0FBQyxXQUFXLENBQUMsQ0FBQztZQUNyRSxhQUFhLEdBQUcsS0FBSyxDQUFDLEVBQUUsV0FBVyxDQUFDLENBQUM7WUFDckMsV0FBVyxHQUFHLEtBQUssQ0FBQyxFQUFFLFNBQVMsQ0FBQyxDQUFDO1NBQ2xDO2FBQU0sSUFBSSxTQUFTLENBQUMsV0FBVyxFQUFFLGFBQWEsQ0FBQyxFQUFFO1lBQ2hELG1CQUFtQjtZQUNuQixPQUFPLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxHQUFHLEVBQUUsV0FBVyxFQUFFLGFBQWEsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDO1lBRWpFLFlBQVksQ0FBQyxHQUFHLEVBQUUsU0FBUyxFQUFFLFdBQVcsRUFBRSxhQUFhLENBQUMsQ0FBQztZQUN6RCxXQUFXLEdBQUcsS0FBSyxDQUFDLEVBQUUsU0FBUyxDQUFDLENBQUM7WUFDakMsYUFBYSxHQUFHLEtBQUssQ0FBQyxFQUFFLFdBQVcsQ0FBQyxDQUFDO1NBQ3RDO2FBQU07WUFDTCxJQUFJLFdBQVcsS0FBSyxTQUFTLEVBQUU7Z0JBQzdCLFdBQVcsR0FBRyxpQkFBaUIsQ0FBQyxLQUFLLEVBQUUsV0FBVyxFQUFFLFNBQVMsQ0FBQyxDQUFDO2FBQ2hFO1lBQ0QsUUFBUSxHQUFHLFdBQVcsQ0FBQyxhQUFhLENBQUMsS0FBZSxDQUFDLENBQUM7WUFDdEQsSUFBSSxRQUFRLEtBQUssU0FBUyxFQUFFO2dCQUMxQixjQUFjO2dCQUNkLE1BQU0sTUFBTSxHQUFHLFNBQVMsQ0FBQyxHQUFHLEVBQUUsYUFBYSxFQUFFLEtBQUssQ0FBQyxDQUFDO2dCQUNwRCxPQUFPLENBQUMsSUFBSSxDQUNWLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxNQUFNLEVBQUUsRUFBRTtvQkFDdEIsWUFBWSxDQUFDLEdBQUcsRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLGFBQWEsQ0FBQyxDQUFDO2dCQUN0RCxDQUFDLENBQUMsQ0FDSCxDQUFDO2FBQ0g7aUJBQU07Z0JBQ0wsU0FBUyxHQUFHLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQztnQkFDNUIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxTQUFTLEVBQUUsYUFBYSxDQUFDLE1BQU0sQ0FBQyxFQUFFO29CQUMvQyxNQUFNLE1BQU0sR0FBRyxTQUFTLENBQUMsR0FBRyxFQUFFLGFBQWEsRUFBRSxLQUFLLENBQUMsQ0FBQztvQkFDcEQsT0FBTyxDQUFDLElBQUksQ0FDVixJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsTUFBTSxFQUFFLEVBQUU7d0JBQ3RCLFlBQVksQ0FBQyxHQUFHLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxhQUFhLENBQUMsQ0FBQztvQkFDdEQsQ0FBQyxDQUFDLENBQ0gsQ0FBQztpQkFDSDtxQkFBTTtvQkFDTCxPQUFPLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxHQUFHLEVBQUUsU0FBUyxFQUFFLGFBQWEsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDO29CQUMvRCxLQUFLLENBQUMsUUFBUSxDQUFDLEdBQUcsU0FBZ0IsQ0FBQztvQkFDbkMsWUFBWSxDQUFDLEdBQUcsRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLGFBQWEsQ0FBQyxDQUFDO2lCQUN4RDthQUNGO1lBQ0QsYUFBYSxHQUFHLEtBQUssQ0FBQyxFQUFFLFdBQVcsQ0FBQyxDQUFDO1NBQ3RDO0tBQ0Y7SUFFRCxJQUFJLFdBQVcsSUFBSSxTQUFTLEVBQUU7UUFDNUIsTUFBTSxNQUFNLEdBQUcsS0FBSyxDQUFDLFNBQVMsR0FBRyxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLFNBQVMsR0FBRyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7UUFDaEYsT0FBTyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLFdBQVcsRUFBRSxTQUFTLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQztLQUN2RjtJQUVELElBQUksSUFBSSxHQUFHLFVBQVUsQ0FBQyxPQUFPLENBQVEsQ0FBQztJQUN0QyxJQUFJLFdBQVcsSUFBSSxTQUFTLEVBQUU7UUFDNUIsTUFBTSxTQUFTLEdBQUcsU0FBUyxDQUFDLFFBQVEsS0FBSyxNQUFNLENBQUM7UUFDaEQsSUFBSSxTQUFTLEVBQUU7WUFDYixJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksRUFBRSxHQUFHLEVBQUU7Z0JBQ3JCLFlBQVksQ0FBQyxHQUFHLEVBQUUsS0FBSyxFQUFFLFdBQVcsRUFBRSxTQUFTLENBQUMsQ0FBQztZQUNuRCxDQUFDLENBQUMsQ0FBQztTQUNKO0tBQ0Y7SUFDRCxPQUFPLElBQUksQ0FBQztBQUNkLENBQUMsQ0FBQztBQUVGLE1BQU0sZUFBZSxHQUFHLENBQUMsSUFBc0IsRUFBRSxFQUFFO0lBQ2pELE9BQU8sSUFBSSxDQUFDLE9BQU8sSUFBSSxZQUFZLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQztBQUN0RCxDQUFDLENBQUM7QUFFRixNQUFNLEtBQUssR0FBRyxDQUFDLEdBQVMsRUFBRSxNQUE2QixFQUFFLEVBQUU7SUFDekQsT0FBTyxLQUFLLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDbkQsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sV0FBVyxHQUFHLENBQUMsR0FBUyxFQUFFLElBQWtCLEVBQVUsRUFBRTtJQUNuRSxRQUFRLElBQUksRUFBRTtRQUNaLEtBQUssU0FBUztZQUNaLE9BQU8sS0FBSyxDQUFDLEdBQUcsRUFBRSxNQUFNLENBQUMsQ0FBQztRQUM1QixLQUFLLE1BQU07WUFDVCxPQUFPLEtBQUssQ0FBQyxHQUFHLEVBQUUsV0FBVyxDQUFDLENBQUM7UUFDakMsS0FBSyxNQUFNO1lBQ1QsT0FBTyxLQUFLLENBQUMsR0FBRyxFQUFFLGdCQUFnQixDQUFDLENBQUM7UUFDdEMsS0FBSyxVQUFVO1lBQ2IsT0FBTyxLQUFLLENBQUMsR0FBRyxFQUFFLFVBQVUsQ0FBQyxDQUFDO0tBQ2pDO0FBQ0gsQ0FBQyxDQUFDO0FBQ0YsTUFBTSxDQUFDLE1BQU0sTUFBTSxHQUFHLENBQUMsR0FBUyxFQUFXLEVBQUU7SUFDM0MsTUFBTSxJQUFJLEdBQUcsR0FBRyxDQUFDLFFBQVEsQ0FBQztJQUMxQixPQUFPLElBQUksS0FBSyxDQUFDLElBQUksSUFBSSxLQUFLLENBQUMsQ0FBQztBQUNsQyxDQUFDLENBQUM7QUFFRixNQUFNLFVBQVUsR0FBRyxDQUFDLElBQVUsRUFBVyxFQUFFO0lBQ3pDLE9BQU8sSUFBSSxDQUFDLFFBQVEsS0FBSyxZQUFZLENBQUM7QUFDeEMsQ0FBQyxDQUFDO0FBRUYsTUFBTSxXQUFXLEdBQUcsQ0FBQyxJQUFVLEVBQVcsRUFBRTtJQUMxQyxPQUFPLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsUUFBUSxLQUFLLFlBQVksSUFBSSxJQUFJLENBQUMsUUFBUSxLQUFLLFlBQVksQ0FBQztBQUMxRixDQUFDLENBQUM7QUFFRixNQUFNLGNBQWMsR0FBRyxDQUFDLElBQVUsRUFBK0IsRUFBRTtJQUNqRSxPQUFPLElBQUksQ0FBQyxRQUFRLEtBQUssWUFBWSxDQUFDO0FBQ3hDLENBQUMsQ0FBQztBQUVGLE1BQU0sZ0JBQWdCLEdBQUcsQ0FBQyxJQUFVLEVBQVcsRUFBRTtJQUMvQyxPQUFPLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsUUFBUSxLQUFLLFlBQVksQ0FBQztBQUN4RCxDQUFDLENBQUM7QUFFRixNQUFNLE9BQU8sR0FBRyxDQUFJLEtBQVUsRUFBRSxTQUE4QixFQUF1QixFQUFFO0lBQ3JGLE1BQU0sTUFBTSxHQUF3QixFQUFFLENBQUM7SUFDdkMsS0FBSyxNQUFNLElBQUksSUFBSSxLQUFLLEVBQUU7UUFDeEIsTUFBTSxHQUFHLEdBQUcsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzVCLE1BQU0sS0FBSyxHQUFHLE1BQU0sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQztRQUNoRCxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQ2xCO0lBQ0QsT0FBTyxNQUFNLENBQUM7QUFDaEIsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sVUFBVSxHQUFHLENBQ3hCLElBQW1CLEVBQ25CLEdBQVMsRUFDVCxLQUF1QixFQUN2QixLQUFjLEVBQ1EsRUFBRTtJQUN4QixLQUFLLENBQUMsS0FBSyxHQUFHLEdBQUcsQ0FBQztJQUNsQixNQUFNLEdBQUcsR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDO0lBQ3pCLElBQUksR0FBRyxLQUFLLE9BQU8sRUFBRTtRQUNuQixJQUFLLEdBQVksQ0FBQyxJQUFJLEtBQUssS0FBSyxDQUFDLE1BQU0sRUFBRTtZQUN2QyxXQUFXLENBQUMsSUFBSSxFQUFFLEdBQUcsRUFBRSxNQUFNLEVBQUUsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1NBQzlDO1FBQ0QsT0FBTztLQUNSO0lBRUQsSUFBSSxHQUFHLEtBQUssU0FBUyxFQUFFO1FBQ3JCLE1BQU0sTUFBTSxDQUFDLDBCQUEwQixDQUFDLENBQUM7S0FDMUM7SUFFRCxJQUFJLEdBQUcsS0FBSyxnQkFBZ0IsRUFBRTtRQUM1QixPQUFPO0tBQ1I7SUFFRCxJQUFJLENBQUMsS0FBSyxFQUFFO1FBQ1YsS0FBSyxHQUFHLEdBQUcsS0FBSyxLQUFLLENBQUM7S0FDdkI7SUFFRCxNQUFNLEtBQUssR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDO0lBQzVCLE1BQU0sR0FBRyxHQUFHLFVBQVUsQ0FBQyxHQUFjLENBQUMsQ0FBQztJQUN2QyxNQUFNLE1BQU0sR0FBRyxHQUFHLEtBQUssS0FBSyxDQUFDO0lBQzdCLElBQUksS0FBSyxHQUFHLGdCQUFnQixDQUFDLElBQUksRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQ3RELElBQUksS0FBSyxJQUFJLEtBQUssQ0FBQyxNQUFNLEtBQUssZUFBZSxFQUFFO1FBQzdDLEtBQUssR0FBRyxLQUFLLENBQUM7S0FDZjtTQUFNLElBQUksTUFBTSxFQUFFO1FBQ2pCLE1BQU0sZ0JBQWdCLEdBQUcsSUFBSSxDQUFDLGtCQUFrQixDQUFDO1FBQ2pELElBQUksZ0JBQWdCLEVBQUU7WUFDcEIsZ0JBQWdCLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztTQUN0QztLQUNGO0lBQ0QsTUFBTSxXQUFXLEdBQUcsZUFBZSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQzNDLE1BQU0sRUFBRSxHQUFHLEtBQUssQ0FBQyxVQUFVLENBQUM7SUFDNUIsSUFBSSxXQUFXLEVBQUU7UUFDZixJQUFJLENBQUMsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLFdBQVcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxFQUFFO1lBQ3hFLFlBQVksQ0FBQyxJQUFJLEVBQUUsR0FBRyxDQUFDLFNBQVMsRUFBRSxTQUFTLEVBQUUsRUFBRSxDQUFDLENBQUM7WUFDakQsR0FBRyxDQUFDLFdBQVcsR0FBRyxLQUFNLENBQUMsWUFBWSxDQUFDLENBQUM7WUFDdkMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxXQUFrQixDQUFDLENBQUM7WUFDbEMsS0FBSyxHQUFHLElBQUksQ0FBQztTQUNkO1FBQ0QsTUFBTSxPQUFPLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxlQUFlLENBQUMsSUFBSSxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUM7UUFDL0QsT0FBTyxJQUFJLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRTtZQUN4QixNQUFNLFFBQVEsR0FBRyxRQUFRLENBQUMsR0FBRyxDQUFDLFdBQVcsRUFBRSxHQUFjLENBQUMsQ0FBQztZQUMzRCxNQUFNLGVBQWUsR0FBRyxPQUFPLENBQUMsRUFBRSxFQUFFLFdBQVcsQ0FBQyxDQUFDO1lBQ2pELE1BQU0sUUFBUSxHQUEyQixFQUFFLENBQUM7WUFDNUMsTUFBTSxRQUFRLEdBQUcsaUJBQWlCLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDekMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7WUFFOUIsc0NBQXNDO1lBQ3RDLE1BQU0sQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsR0FBRyxFQUFFLE1BQU0sQ0FBQyxFQUFFLEVBQUU7Z0JBQ3ZELElBQUksTUFBTSxJQUFJLENBQUMsZUFBZSxDQUFDLEdBQUcsQ0FBQyxFQUFFO29CQUNuQyxNQUFNLEtBQUssR0FBRyxXQUFXLENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQyxDQUFDO29CQUMxQyxJQUFJLEtBQUssQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO3dCQUNwQixZQUFZLENBQUMsUUFBUSxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUUsS0FBSyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQztxQkFDcEQ7aUJBQ0Y7WUFDSCxDQUFDLENBQUMsQ0FBQztZQUVILHNDQUFzQztZQUN0QyxNQUFNLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxVQUFVLENBQUMsRUFBRSxFQUFFO2dCQUMvRCxJQUFJLFVBQVUsSUFBSSxDQUFDLGVBQWUsQ0FBQyxHQUFHLENBQUMsRUFBRTtvQkFDdkMsVUFBVSxDQUFDLFFBQVEsRUFBRSxVQUFVLENBQUMsQ0FBQztvQkFDakMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsR0FBRyxTQUFTLENBQUM7aUJBQ3JDO1lBQ0gsQ0FBQyxDQUFDLENBQUM7WUFDSCxvQkFBb0I7WUFDcEIsTUFBTSxDQUFDLE9BQU8sQ0FBQyxlQUFlLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFO2dCQUNwRCxNQUFNLE9BQU8sR0FBRyxjQUFjLENBQUMsUUFBUSxFQUFFLFFBQVEsRUFBRSxHQUFjLEVBQUUsR0FBRyxDQUFDLENBQUM7Z0JBQ3hFLFFBQVEsQ0FBQyxJQUFJLENBQUMsbUJBQW1CLENBQUMsUUFBUSxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUUsTUFBTSxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUM7WUFDM0UsQ0FBQyxDQUFDLENBQUM7WUFDSCxPQUFPLElBQUksQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLEVBQUUsR0FBRyxFQUFFO2dCQUNyQyxlQUFlLENBQUMsUUFBUSxFQUFFLFFBQVEsQ0FBQyxDQUFDO1lBQ3RDLENBQUMsQ0FBQyxDQUFDO1FBQ0wsQ0FBQyxDQUFDLENBQUM7S0FDSjtJQUNELE1BQU0sYUFBYSxHQUFHLGNBQWMsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUM1QyxJQUFJLGFBQWEsRUFBRTtRQUNqQixJQUFJLElBQUksSUFBSSxFQUFFLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtZQUN6QixPQUFPLENBQUMsa0RBQWtELENBQUMsQ0FBQztTQUM3RDtRQUNELE9BQU87S0FDUjtJQUNELE1BQU0sSUFBSSxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUM7SUFDN0MsT0FBTyxtQkFBbUIsQ0FBQyxJQUFJLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUM7QUFDekQsQ0FBQyxDQUFDO0FBRUYsTUFBTSxTQUFTLEdBQUcsQ0FDaEIsR0FBa0IsRUFDbEIsU0FBZSxFQUNmLE1BQW1CLEVBQ25CLE1BQTBCLEVBQzFCLFFBQWdCLEVBQ2hCLE1BQWMsRUFDZCxLQUFjLEVBQ1EsRUFBRTtJQUN4QixNQUFNLFFBQVEsR0FBRyxFQUFFLENBQUM7SUFDcEIsT0FBTyxRQUFRLElBQUksTUFBTSxFQUFFLEVBQUUsUUFBUSxFQUFFO1FBQ3JDLE1BQU0sRUFBRSxHQUFHLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUM1QixhQUFhLENBQUMsRUFBRSxFQUFFLHVDQUF1QyxFQUFFLFFBQVEsRUFBRSxNQUFNLENBQUMsQ0FBQztRQUM3RSxRQUFRLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLEVBQUUsRUFBRSxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUM7S0FDMUM7SUFDRCxPQUFPLElBQUksQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxRQUFRLEVBQUUsRUFBRTtRQUM3QyxLQUFLLE1BQU0sS0FBSyxJQUFJLFFBQVEsRUFBRTtZQUM1QixZQUFZLENBQUMsR0FBRyxFQUFFLFNBQVMsRUFBRSxLQUFLLEVBQUUsTUFBTSxDQUFDLENBQUM7U0FDN0M7SUFDSCxDQUFDLENBQUMsQ0FBQztBQUNMLENBQUMsQ0FBQztBQUVGLE1BQU0sWUFBWSxHQUFHLENBQ25CLEdBQWtCLEVBQ2xCLEtBQWEsRUFDYixRQUFnQixFQUNoQixNQUFjLEVBQ1IsRUFBRTtJQUNSLE9BQU8sUUFBUSxJQUFJLE1BQU0sRUFBRSxFQUFFLFFBQVEsRUFBRTtRQUNyQyxNQUFNLEVBQUUsR0FBRyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDM0IsSUFBSSxFQUFFLEVBQUU7WUFDTixVQUFVLENBQUMsR0FBRyxFQUFFLEVBQUUsQ0FBQyxDQUFDO1NBQ3JCO0tBQ0Y7QUFDSCxDQUFDLENBQUM7QUFFRixJQUFJLFFBQVEsR0FBRyxDQUFDLENBQUM7QUFDakIsTUFBTSxTQUFTLEdBQUcsTUFBTSxFQUFFLENBQUM7QUFFM0IsTUFBTSxVQUFVLEdBQUcsQ0FBQyxHQUFrQixFQUFFLE9BQWdCLEVBQUUsTUFBZSxFQUFFLEVBQUU7SUFDM0UsSUFBSSxHQUFHLEdBQUksT0FBZSxDQUFDLFNBQVMsQ0FBQyxJQUFJLGtCQUFrQixDQUFDLE9BQU8sRUFBRSxRQUFRLENBQUMsQ0FBQztJQUMvRSxJQUFJLEdBQUcsS0FBSyxJQUFJLEVBQUU7UUFDaEIsR0FBRyxHQUFHLFFBQVEsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDO1FBQzFCLE9BQWUsQ0FBQyxTQUFTLENBQUMsR0FBRyxHQUFHLENBQUM7UUFDbEMsWUFBWSxDQUFDLEdBQUcsRUFBRSxPQUFPLEVBQUUsUUFBUSxFQUFFLEdBQUcsQ0FBQyxDQUFDO0tBQzNDO0lBQ0Qsa0JBQWtCLENBQUMsTUFBTSxFQUFFLFFBQVEsRUFBRSxHQUFHLENBQUMsQ0FBQztBQUM1QyxDQUFDLENBQUM7QUFFRixNQUFNLGNBQWMsR0FBRyxDQUNyQixHQUFrQixFQUNsQixRQUFrQixFQUNsQixRQUFpQixFQUNqQixRQUFnQixFQUNQLEVBQUU7SUFDWCxNQUFNLE1BQU0sR0FBRyxRQUFRLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ3hDLElBQUksTUFBTSxFQUFFO1FBQ1YsT0FBTyxNQUFNLENBQUM7S0FDZjtJQUNELE1BQU0sVUFBVSxHQUFHLFFBQVEsQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDaEQsSUFBSSxVQUFVLEVBQUU7UUFDZCxPQUFPLFVBQVUsQ0FBQztLQUNuQjtJQUNELE1BQU0sUUFBUSxHQUFHLGNBQWMsQ0FBQyxHQUFHLEVBQUUsUUFBUSxDQUFDLENBQUM7SUFDL0MsT0FBTyxDQUFDLEdBQUcsRUFBRSxRQUFRLEVBQUUsUUFBUSxDQUFDLENBQUM7SUFDakMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsR0FBRyxRQUFRLENBQUM7SUFDeEMsT0FBTyxRQUFRLENBQUM7QUFDbEIsQ0FBQyxDQUFDO0FBRUYsTUFBTSxjQUFjLEdBQUcsQ0FBQyxHQUFrQixFQUFFLFFBQWdCLEVBQUUsRUFBRTtJQUM5RCxNQUFNLFFBQVEsR0FBRyxhQUFhLENBQUMsR0FBRyxFQUFFLFlBQVksRUFBRSxLQUFLLENBQUMsQ0FBQztJQUN6RCxrQkFBa0IsQ0FBQyxRQUFRLEVBQUUsS0FBSyxFQUFFLFFBQVEsQ0FBQyxDQUFDO0lBQzlDLGtCQUFrQixDQUFDLFFBQVEsRUFBRSxRQUFRLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDM0Msa0JBQWtCLENBQUMsUUFBUSxFQUFFLGFBQWEsRUFBRSxNQUFNLENBQUMsQ0FBQztJQUVwRCxPQUFPLFFBQVEsQ0FBQztBQUNsQixDQUFDLENBQUM7QUFFRixNQUFNLGVBQWUsR0FBRyxDQUFDLEdBQWtCLEVBQUUsUUFBa0IsRUFBRSxFQUFFO0lBQ2pFLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLEdBQUcsRUFBRSxFQUFFO1FBQzlDLE1BQU0sUUFBUSxHQUFHLFFBQVEsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFFLENBQUM7UUFDMUMsSUFBSSxRQUFRLElBQUksUUFBUSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsS0FBSyxTQUFTLEVBQUU7WUFDakQsVUFBVSxDQUFDLEdBQUcsRUFBRSxRQUFRLENBQUMsQ0FBQztZQUMxQixRQUFRLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxHQUFHLFNBQVMsQ0FBQztTQUNyQztJQUNILENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0scUJBQXFCLEdBQUcsQ0FDbkMsR0FBa0IsRUFDbEIsT0FBZ0IsRUFDaEIsTUFBZ0IsRUFDaEIsS0FBZSxFQUNmLEVBQUU7SUFDRixNQUFNLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxNQUFNLENBQUMsRUFBRSxFQUFFO1FBQ3JELElBQUksTUFBTSxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRTtZQUMvQixlQUFlO1lBQ2Ysd0JBQXdCO1lBQ3hCLE1BQU0sUUFBUSxHQUFHLGNBQWMsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUM7WUFDMUMsTUFBTSxZQUFZLEdBQUcsV0FBVyxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsQ0FBQztZQUNqRCxRQUFRLENBQUMsTUFBTSxDQUFDLEdBQUcsWUFBWSxDQUFDLENBQUM7WUFDakMsT0FBTyxDQUFDLFlBQVksQ0FBQyxRQUFRLEVBQUUsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFDO1lBRW5ELEdBQUcsQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDO2dCQUNwQixJQUFJLEVBQUUsUUFBUTtnQkFDZCxXQUFXLEVBQUUsa0JBQWtCO2dCQUMvQixNQUFNLEVBQUUsWUFBWTtnQkFDcEIsSUFBSSxFQUFFLEdBQUcsRUFBRSxHQUFFLENBQUM7YUFDZixDQUFDLENBQUM7U0FDSjtJQUNILENBQUMsQ0FBQyxDQUFDO0lBRUgsTUFBTSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxHQUFHLEVBQUUsTUFBTSxDQUFDLEVBQUUsRUFBRTtRQUNwRCxJQUFJLE1BQU0sSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUU7WUFDaEMsZUFBZTtZQUNmLHdCQUF3QjtZQUN4QixNQUFNLFFBQVEsR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ3ZDLElBQUksUUFBUSxFQUFFO2dCQUNaLE1BQU0sQ0FBQyxNQUFNLENBQUMsR0FBRyxXQUFXLENBQUMsUUFBUSxFQUFFLFNBQVMsQ0FBQyxDQUFDLENBQUM7Z0JBQ25ELFFBQVEsQ0FBQyxNQUFNLEVBQUUsQ0FBQztnQkFDbEIsR0FBRyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUM7b0JBQ3BCLElBQUksRUFBRSxNQUFNO29CQUNaLFdBQVcsRUFBRSxrQkFBa0I7b0JBQy9CLE1BQU0sRUFBRSxDQUFDLFFBQVEsQ0FBQztvQkFDbEIsSUFBSSxFQUFFLEdBQUcsRUFBRSxHQUFFLENBQUM7aUJBQ2YsQ0FBQyxDQUFDO2FBQ0o7U0FDRjtJQUNILENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDO0FBRUYsTUFBTSxXQUFXLEdBQUcsQ0FBQyxJQUFzQixFQUFVLEVBQUU7SUFDckQsT0FBTyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ3JDLENBQUMsQ0FBQztBQUVGLE1BQU0sU0FBUyxHQUFHLENBQ2hCLElBQW1CLEVBQ25CLEtBQXVCLEVBQ3ZCLEtBQWMsRUFDUSxFQUFFO0lBQ3hCLElBQUksQ0FBQyxNQUFNLENBQUMsU0FBUyxFQUFFLENBQUM7SUFDeEIsTUFBTSxHQUFHLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQztJQUN6QixJQUFJLEdBQUcsS0FBSyxPQUFPLEVBQUU7UUFDbkIsT0FBTyxDQUFDLEtBQUssQ0FBQyxLQUFLLEdBQUcsY0FBYyxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsTUFBTyxDQUFDLENBQUMsQ0FBQztLQUM1RDtJQUVELElBQUksR0FBRyxLQUFLLFNBQVMsRUFBRTtRQUNyQixNQUFNLE1BQU0sQ0FBQywwQkFBMEIsQ0FBQyxDQUFDO0tBQzFDO0lBRUQsSUFBSSxDQUFDLEtBQUssRUFBRTtRQUNWLEtBQUssR0FBRyxHQUFHLEtBQUssS0FBSyxDQUFDO0tBQ3ZCO0lBRUQsTUFBTSxLQUFLLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQztJQUM1QixNQUFNLEdBQUcsR0FBRyxDQUFDLEtBQUssQ0FBQyxLQUFLLEdBQUcsYUFBYSxDQUFDLElBQUksRUFBRSxHQUFHLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQztJQUM1RCxNQUFNLFdBQVcsR0FBRyxlQUFlLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDM0MsTUFBTSxHQUFHLEdBQUcsVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQzVCLE1BQU0sQ0FBQyxHQUFHLEVBQUUsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3pCLGdCQUFnQixDQUFDLElBQUksRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBRTFDLElBQUksS0FBSyxJQUFJLEdBQUcsS0FBSyxlQUFlLEVBQUU7UUFDcEMsS0FBSyxHQUFHLEtBQUssQ0FBQztLQUNmO0lBQ0QsTUFBTSxnQkFBZ0IsR0FBRyxJQUFJLENBQUMsa0JBQWtCLENBQUM7SUFDakQsSUFBSSxnQkFBZ0IsRUFBRTtRQUNwQixNQUFNLFFBQVEsR0FBRyxnQkFBZ0IsQ0FBQyxZQUFZLENBQUM7UUFDL0MsSUFBSSxRQUFRLEVBQUU7WUFDWixZQUFZLENBQUMsSUFBSSxFQUFFLEdBQUcsRUFBRSxRQUFRLENBQUMsQ0FBQztTQUNuQztRQUNELElBQUksR0FBRyxLQUFLLEtBQUssSUFBSSxHQUFHLEtBQUssTUFBTSxFQUFFO1lBQ25DLFVBQVUsQ0FBQyxJQUFJLEVBQUUsZ0JBQWdCLENBQUMsYUFBYSxFQUFFLEdBQUcsQ0FBQyxDQUFDO1lBQ3RELGdCQUFnQixDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7U0FDdEM7S0FDRjtJQUVELElBQUksSUFBMEIsQ0FBQztJQUMvQixJQUFJLFdBQVcsRUFBRTtRQUNmLGlCQUFpQjtRQUNqQixNQUFNLFNBQVMsR0FBRyxLQUFNLENBQUMsWUFBWSxDQUFDLENBQUM7UUFDdkMsU0FBUyxDQUFrQixTQUFTLENBQUMsQ0FBQztRQUN0QyxHQUFHLENBQUMsV0FBVyxHQUFHLFNBQVMsQ0FBQztRQUM1QixrQkFBa0IsQ0FBQyxHQUFHLENBQUMsU0FBUyxFQUFFLFNBQVMsRUFBRSxFQUFFLENBQUMsQ0FBQztRQUNqRCxJQUFJLEdBQUcsZUFBZSxDQUFDLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQztLQUNuQztTQUFNO1FBQ0wsTUFBTSxhQUFhLEdBQUcsY0FBYyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQzVDLElBQUksYUFBYSxFQUFFO1lBQ2pCLElBQUksSUFBSSxJQUFJLEtBQUssQ0FBQyxVQUFVLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtnQkFDdkMsT0FBTyxDQUFDLGtEQUFrRCxDQUFDLENBQUM7YUFDN0Q7WUFDRCxPQUFPLEdBQUcsQ0FBQztTQUNaO0tBQ0Y7SUFDRCxPQUFPLElBQUksQ0FBQyxJQUFJLEVBQUUsR0FBRyxFQUFFO1FBQ3JCLElBQUksUUFBUSxHQUFHLEtBQUssQ0FBQyxVQUFVLENBQUM7UUFDaEMsSUFBSSxRQUFRLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtZQUN2QixJQUFJLFFBQVEsQ0FBQyxNQUFNLEtBQUssQ0FBQyxJQUFJLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLEtBQUssZ0JBQWdCLEVBQUU7Z0JBQ3BFLFFBQVEsR0FBRyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDO2FBQ25DO1lBQ0QsTUFBTSxRQUFRLEdBQUcsaUJBQWlCLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDekMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDOUIsTUFBTSxPQUFPLEdBQUcsV0FBVyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLFdBQVcsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDO1lBQ3pFLE1BQU0sUUFBUSxHQUFHLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLFNBQVMsQ0FBQyxRQUFRLEVBQUUsRUFBRSxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUM7WUFDdEUsT0FBTyxJQUFJLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxFQUFFLEdBQUcsRUFBRTtnQkFDckMsSUFBSSxNQUFNLEdBQUcsR0FBRyxDQUFDO2dCQUNqQixLQUFLLE1BQU0sSUFBSSxJQUFJLFFBQVEsRUFBRTtvQkFDM0IsSUFBSSxPQUFPLEVBQUU7d0JBQ1gsTUFBTSxHQUFHLGNBQWMsQ0FBQyxRQUFRLEVBQUUsT0FBTyxFQUFFLEdBQUcsRUFBRSxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztxQkFDcEU7b0JBQ0QsTUFBTSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsS0FBTSxDQUFDLENBQUM7aUJBQ2pDO2dCQUNELE9BQU8sR0FBRyxDQUFDO1lBQ2IsQ0FBQyxDQUFDLENBQUM7U0FDSjtRQUNELE9BQU8sR0FBRyxDQUFDO0lBQ2IsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDLENBQUM7QUFNRixNQUFNLFFBQVEsR0FBRyxDQUFDLFlBQXNDLEVBQUUsT0FBZ0IsRUFBWSxFQUFFO0lBQ3RGLElBQUksT0FBTyxDQUFDLFNBQVMsS0FBSyxNQUFNLEVBQUU7UUFDaEMsT0FBTyxFQUFFLEtBQUssRUFBRSxFQUFFLEVBQUUsRUFBRSxPQUFPLEVBQUUsRUFBRSxTQUFTLEVBQUUsRUFBRSxFQUFFLENBQUM7S0FDbEQ7SUFDRCxNQUFNLEtBQUssR0FBNEIsRUFBRSxDQUFDO0lBQzFDLE1BQU0sU0FBUyxHQUF3QyxFQUFFLENBQUM7SUFDMUQsTUFBTSxPQUFPLEdBQUcsa0JBQWtCLENBQUMsT0FBTyxFQUFFLFFBQVEsQ0FBQyxDQUFDO0lBQ3RELE1BQU0sYUFBYSxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLGdCQUFnQixDQUFDLHNCQUFzQixPQUFPLElBQUksQ0FBQyxDQUFDLENBQUM7SUFDOUYsTUFBTSxRQUFRLEdBQUcsWUFBWSxFQUFFLE9BQU8sSUFBSSxXQUFXLENBQUM7SUFDdEQsTUFBTSxDQUFDLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUMsTUFBTSxDQUFDLGNBQWMsQ0FBQyxDQUFDO0lBRTlELFlBQVk7SUFDWixLQUFLLE1BQU0sR0FBRyxJQUFJLGFBQWEsRUFBRTtRQUMvQixLQUFLLENBQUMsa0JBQWtCLENBQUMsR0FBRyxFQUFFLE1BQU0sQ0FBQyxJQUFJLEVBQUUsQ0FBQyxHQUFHLEdBQUcsQ0FBQztLQUNwRDtJQUVELG9CQUFvQjtJQUNwQixLQUFLLE1BQU0sS0FBSyxJQUFJLFFBQVEsRUFBRTtRQUM1QixLQUFLLENBQUMsS0FBSyxDQUFDLE9BQU8sRUFBRSxJQUFJLElBQUksRUFBRSxDQUFDLEdBQUcsS0FBSyxDQUFDLEtBQWdCLENBQUM7S0FDM0Q7SUFFRCxnQkFBZ0I7SUFDaEIsS0FBSyxNQUFNLEdBQUcsSUFBSSxDQUFDLEVBQUU7UUFDbkIsU0FBUyxDQUFDLGtCQUFrQixDQUFDLEdBQUcsRUFBRSxLQUFLLENBQUMsSUFBSSxFQUFFLENBQUMsR0FBRyxHQUFHLENBQUM7S0FDdkQ7SUFFRCxPQUFPLEVBQUUsS0FBSyxFQUFFLFNBQVMsRUFBRSxDQUFDO0FBQzlCLENBQUMsQ0FBQztBQUVGLE1BQU0sV0FBVyxHQUFnQixDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLFFBQVEsRUFBRSxFQUFFO0lBQ3pELFlBQVksQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxxQkFBcUIsQ0FBQyxRQUFRLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQztJQUN4RSxPQUFPLElBQUksQ0FBQztBQUNkLENBQUMsQ0FBQztBQUVGLE1BQU0sV0FBVyxHQUFnQixDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLFFBQVEsRUFBRSxFQUFFO0lBQ3pELFlBQVksQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxxQkFBcUIsQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQztJQUN2RSxPQUFPLElBQUksQ0FBQztBQUNkLENBQUMsQ0FBQztBQUVGLE1BQU0saUJBQWlCLEdBQWdCLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsUUFBUSxFQUFFLEVBQUU7SUFDbEUsSUFBSSxJQUFJLElBQUksR0FBRyxFQUFFO1FBQ2YsSUFBSyxHQUFXLENBQUMsSUFBSSxDQUFDLEtBQUssUUFBUSxFQUFFO1lBQ25DLFdBQVcsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxRQUFRLENBQUMsQ0FBQztTQUN2QztLQUNGO0lBQ0QsT0FBTyxJQUFJLENBQUM7QUFDZCxDQUFDLENBQUM7QUFFRixNQUFNLHVCQUF1QixHQUFHLHlCQUF5QixDQUFDO0FBQzFELE1BQU0sWUFBWSxHQUFnQixDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLFFBQVEsRUFBRSxFQUFFO0lBQzFELElBQUksdUJBQXVCLElBQUksR0FBRyxFQUFFO1FBQ2xDLFdBQVcsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLHVCQUF1QixFQUFFLFFBQVEsQ0FBQyxDQUFDO0tBQzFEO1NBQU0sSUFBSSxXQUFXLElBQUksR0FBRyxFQUFFO1FBQzdCLFdBQVcsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLFdBQVcsRUFBRSxRQUFRLENBQUMsQ0FBQztLQUM5QztJQUNELE9BQU8sSUFBSSxDQUFDO0FBQ2QsQ0FBQyxDQUFDO0FBRUYsTUFBTSxnQkFBZ0IsR0FBZ0M7SUFDcEQsS0FBSyxFQUFFLFdBQVc7SUFDbEIsS0FBSyxFQUFFLFdBQVc7SUFDbEIsU0FBUyxFQUFFLFdBQVc7SUFDdEIsS0FBSyxFQUFFLGlCQUFpQjtJQUN4QixPQUFPLEVBQUUsaUJBQWlCO0lBQzFCLENBQUMsdUJBQXVCLENBQUMsRUFBRSxZQUFZO0NBQ3hDLENBQUM7QUFFRixNQUFNLFlBQVksR0FBRyxDQUFDLE9BQU8sRUFBRSxXQUFXLEVBQUUsT0FBTyxFQUFFLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQztBQUNsRSxNQUFNLFdBQVcsR0FBRyxPQUFPLENBQUM7QUFDNUIsTUFBTSxZQUFZLEdBQUcsNkNBQTZDLENBQUM7QUFFbkUsTUFBTSxDQUFDLE1BQU0sZ0JBQWdCLEdBQUcsQ0FDOUIsSUFBbUIsRUFDbkIsR0FBYSxFQUNiLFdBQXVDLEVBQ3ZDLEtBQWMsRUFDZCxFQUFFO0lBQ0YsSUFBSSxDQUFDLFdBQVcsRUFBRTtRQUNoQixPQUFPLEtBQUssQ0FBQztLQUNkO0lBQ0QsTUFBTSxHQUFHLEdBQUcsR0FBRyxDQUFDLFNBQVMsQ0FBQztJQUMxQixNQUFNLEtBQUssR0FBRyxZQUFZLElBQUksV0FBVyxDQUFDO0lBQzFDLE1BQU0sU0FBUyxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsZUFBZSxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDO0lBRWxGLEtBQUssSUFBSSxHQUFHLElBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsRUFBRTtRQUN4QyxJQUFJLEdBQUcsS0FBSyxVQUFVLElBQUksR0FBRyxLQUFLLFlBQVksRUFBRTtZQUM5QyxTQUFTO1NBQ1Y7UUFDRCxNQUFNLFFBQVEsR0FBRyxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDbEMsSUFBSSxHQUFHLEtBQUssS0FBSyxFQUFFO1lBQ2hCLFFBQXlCLENBQUMsT0FBTyxHQUFHLEdBQUcsQ0FBQztZQUN6QyxTQUFTO1NBQ1Y7UUFFRCxtQ0FBbUM7UUFDbkMsTUFBTSxRQUFRLEdBQUcsR0FBRyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDdEMsSUFBSSxRQUFRLEtBQUssUUFBUSxFQUFFO1lBQ3pCLFNBQVM7U0FDVjtRQUNELEdBQUcsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxRQUFRLENBQUMsQ0FBQztRQUUvQiwwQkFBMEI7UUFDMUIsSUFBSSxHQUFHLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxJQUFJLEdBQUcsQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLEVBQUU7WUFDdEQsWUFBWSxDQUFDLElBQUksRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLFFBQVEsQ0FBQyxDQUFDO1lBQ3ZDLFNBQVM7U0FDVjtRQUVELElBQUksU0FBUyxFQUFFO1lBQ2IsTUFBTSxZQUFZLEdBQUcsWUFBWSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUNoRCxNQUFNLFNBQVMsR0FBRyxZQUFZLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ3pDLElBQUksQ0FBQyxZQUFZLElBQUksQ0FBQyxTQUFTLEVBQUU7Z0JBQy9CLGFBQWE7Z0JBQ2IsU0FBUyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsUUFBUSxDQUFDLENBQUM7Z0JBQzdCLFNBQVM7YUFDVjtZQUNELE1BQU0sU0FBUyxHQUFHLEdBQUcsQ0FBQyxVQUFVLENBQUMsV0FBVyxDQUFDLENBQUM7WUFDOUMsSUFBSSxTQUFTLEVBQUU7Z0JBQ2IsR0FBRyxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxDQUFDO2FBQ3JDO1NBQ0Y7YUFBTSxJQUFJLElBQUksSUFBSSxHQUFHLENBQUMsVUFBVSxDQUFDLFdBQVcsQ0FBQyxFQUFFO1lBQzlDLE9BQU8sQ0FBQyxHQUFHLFdBQVcsMkNBQTJDLENBQUMsQ0FBQztZQUNuRSxTQUFTO1NBQ1Y7UUFFRCxJQUFJLFFBQVEsQ0FBQyxHQUFHLENBQUMsRUFBRTtZQUNqQixRQUFRLENBQUMsSUFBSSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsUUFBUSxDQUFDLENBQUM7WUFDbkMsU0FBUztTQUNWO1FBRUQsNEJBQTRCO1FBQzVCLE1BQU0sU0FBUyxHQUFHLGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3hDLElBQUksU0FBUyxFQUFFO1lBQ2IsSUFBSSxTQUFTLENBQUMsSUFBSSxFQUFFLEdBQWtCLEVBQUUsR0FBRyxFQUFFLFFBQVEsRUFBRSxRQUFRLENBQUMsRUFBRTtnQkFDaEUsU0FBUzthQUNWO1NBQ0Y7UUFFRCxpQ0FBaUM7UUFDakMsSUFBSSxDQUFDLEtBQUssSUFBSSxHQUFHLElBQUksR0FBRyxFQUFFO1lBQ3hCLFdBQVcsQ0FBQyxJQUFJLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxRQUFRLENBQUMsQ0FBQztZQUN0QyxTQUFTO1NBQ1Y7UUFFRCwrQkFBK0I7UUFDL0IsWUFBWSxDQUFDLElBQUksRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLFFBQVEsQ0FBQyxDQUFDO0tBQ3hDO0lBQ0QsT0FBTyxHQUFHLENBQUMsT0FBTyxDQUFDO0FBQ3JCLENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLG1CQUFtQixHQUFHLENBQ2pDLEdBQWEsRUFDYixjQUE4QixFQUM5QixXQUFvQixFQUNMLEVBQUU7SUFDakIsTUFBTSxHQUFHLEdBQWtCO1FBQ3pCLEtBQUssRUFBRSxHQUFHO1FBQ1YsZ0JBQWdCLEVBQUUsY0FBYztRQUNoQyxhQUFhLEVBQUUsV0FBVztRQUMxQixjQUFjLEVBQUUsSUFBSSxHQUFHLEVBQUU7UUFDekIsWUFBWSxFQUFFLEVBQUU7UUFDaEIsT0FBTyxFQUFFLEVBQUU7UUFDWCxVQUFVLEVBQUUsRUFBRTtRQUNkLGtCQUFrQixFQUFFLFNBQVM7UUFDN0IsTUFBTSxFQUFFO1lBQ04sU0FBUyxFQUFFLENBQUM7U0FDYjtLQUNGLENBQUM7SUFDRixPQUFPLEdBQUcsQ0FBQztBQUNiLENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLGlCQUFpQixHQUFHLENBQUMsR0FBa0IsRUFBaUIsRUFBRTtJQUNyRSxNQUFNLE1BQU0sR0FBa0I7UUFDNUIsR0FBRyxHQUFHO1FBQ04sVUFBVSxFQUFFLENBQUMsR0FBRyxHQUFHLENBQUMsVUFBVSxDQUFDO0tBQ2hDLENBQUM7SUFDRixPQUFPLE1BQU0sQ0FBQztBQUNoQixDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxZQUFZLEdBQUcsQ0FBQyxHQUFrQixFQUFFLEVBQVcsRUFBRSxJQUFZLEVBQUUsS0FBVSxFQUFFLEVBQUU7SUFDeEYsTUFBTSxFQUFFLEdBQUcsR0FBRyxFQUFFO1FBQ2QsSUFBSSxLQUFLLElBQUksSUFBSSxJQUFJLEtBQUssS0FBSyxLQUFLLEVBQUU7WUFDcEMsRUFBRSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUMxQjthQUFNO1lBQ0wsTUFBTSxHQUFHLEdBQUcsS0FBSyxLQUFLLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDaEQsa0JBQWtCLENBQUMsRUFBRSxFQUFFLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQztTQUNuQztJQUNILENBQUMsQ0FBQztJQUNGLEdBQUcsQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDO1FBQ3BCLElBQUksRUFBRSxFQUFFO1FBQ1IsV0FBVyxFQUFFLGVBQWU7UUFDNUIsTUFBTSxFQUFFLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQztRQUNyQixJQUFJLEVBQUUsRUFBRTtLQUNULENBQUMsQ0FBQztBQUNMLENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLFlBQVksR0FBRyxDQUFDLEdBQWtCLEVBQUUsRUFBVyxFQUFFLFlBQW9CLEVBQUUsRUFBRTtJQUNwRixNQUFNLEVBQUUsR0FBRyxHQUFHLEVBQUU7UUFDZCxFQUFFLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsQ0FBQztJQUNqQyxDQUFDLENBQUM7SUFDRixHQUFHLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQztRQUNwQixJQUFJLEVBQUUsRUFBRTtRQUNSLFdBQVcsRUFBRSxlQUFlO1FBQzVCLE1BQU0sRUFBRSxDQUFDLFlBQVksQ0FBQztRQUN0QixJQUFJLEVBQUUsRUFBRTtLQUNULENBQUMsQ0FBQztBQUNMLENBQUMsQ0FBQztBQUVGLE1BQU0sV0FBVyxHQUFHLENBQUMsR0FBa0IsRUFBRSxJQUFTLEVBQUUsR0FBVyxFQUFFLEtBQVUsRUFBRSxFQUFFO0lBQzdFLE1BQU0sRUFBRSxHQUFHLEdBQUcsRUFBRTtRQUNkLElBQUk7WUFDRixJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsS0FBSyxDQUFDO1NBQ25CO1FBQUMsT0FBTyxHQUFHLEVBQUU7WUFDWixRQUFRLENBQUMsVUFBVSxDQUFDLGtCQUFrQixDQUFDLEVBQUUsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxFQUFFLEdBQUcsQ0FBQyxDQUFDO1NBQ3JFO0lBQ0gsQ0FBQyxDQUFDO0lBQ0YsR0FBRyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUM7UUFDcEIsSUFBSSxFQUFFLElBQUk7UUFDVixXQUFXLEVBQUUsY0FBYztRQUMzQixNQUFNLEVBQUUsQ0FBQyxHQUFHLEVBQUUsS0FBSyxDQUFDO1FBQ3BCLElBQUksRUFBRSxFQUFFO0tBQ1QsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDO0FBRUYsTUFBTSxhQUFhLEdBQUcsQ0FBQyxHQUFrQixFQUFFLFNBQWlCLEVBQUUsS0FBYyxFQUFXLEVBQUU7SUFDdkYsTUFBTSxFQUFFLEdBQUcsS0FBSztRQUNkLENBQUMsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLGVBQWUsQ0FBQyxNQUFNLEVBQUUsU0FBUyxDQUFDO1FBQzlDLENBQUMsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLGFBQWEsQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUN0QyxFQUFVLENBQUMsU0FBUyxDQUFDLEdBQUcsR0FBRyxDQUFDLGFBQWEsQ0FBQztJQUMzQyxHQUFHLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQztRQUNwQixJQUFJLEVBQUUsRUFBRTtRQUNSLFdBQVcsRUFBRSxnQkFBZ0I7UUFDN0IsTUFBTSxFQUFFLENBQUMsU0FBUyxDQUFDO1FBQ25CLElBQUksRUFBRSxHQUFHLEVBQUUsR0FBRSxDQUFDO0tBQ2YsQ0FBQyxDQUFDO0lBQ0gsT0FBTyxFQUFFLENBQUM7QUFDWixDQUFDLENBQUM7QUFFRixNQUFNLFlBQVksR0FBRyxDQUNuQixHQUFrQixFQUNsQixNQUFZLEVBQ1osUUFBVyxFQUNYLFFBQWlDLEVBQzlCLEVBQUU7SUFDTCxNQUFNLEVBQUUsR0FBRyxHQUFHLEVBQUU7UUFDZCxNQUFNLENBQUMsWUFBWSxDQUFDLFFBQVEsRUFBRSxRQUFRLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDNUQsQ0FBQyxDQUFDO0lBQ0YsR0FBRyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUM7UUFDcEIsSUFBSSxFQUFFLE1BQU07UUFDWixXQUFXLEVBQUUsZUFBZTtRQUM1QixNQUFNLEVBQUUsQ0FBQyxRQUFRLEVBQUUsUUFBUSxDQUFDO1FBQzVCLElBQUksRUFBRSxFQUFFO0tBQ1QsQ0FBQyxDQUFDO0lBQ0gsT0FBTyxRQUFRLENBQUM7QUFDbEIsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sV0FBVyxHQUFHLENBQUMsR0FBa0IsRUFBRSxXQUFvQixFQUFFLFNBQXNCLEVBQUUsRUFBRTtJQUM5RixNQUFNLEVBQUUsR0FBRyxHQUFHLEVBQUU7UUFDZCxNQUFNLFdBQVcsR0FBRyxHQUFHLENBQUMsYUFBYSxDQUFDO1FBQ3RDLE1BQU0sWUFBWSxHQUNoQixHQUFHLENBQUMsS0FBSyxDQUFDLGVBQWUsS0FBSyxXQUFXLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsSUFBSSxJQUFJLFdBQVcsQ0FBQyxDQUFDLENBQUMsV0FBVyxDQUFDO1FBQzFGLE1BQU0sS0FBSyxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQy9DLGtCQUFrQixDQUFDLEtBQUssRUFBRSxTQUFTLEVBQUUsU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ3hELEtBQUssQ0FBQyxXQUFXLEdBQUcsU0FBUyxDQUFDLE9BQU8sQ0FBQztRQUN0QyxZQUFZLENBQUMsWUFBWSxDQUFDLEtBQUssRUFBRSxZQUFZLENBQUMsVUFBVSxDQUFDLENBQUM7SUFDNUQsQ0FBQyxDQUFDO0lBQ0YsR0FBRyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUM7UUFDcEIsSUFBSSxFQUFFLFdBQVc7UUFDakIsV0FBVyxFQUFFLGNBQWM7UUFDM0IsTUFBTSxFQUFFLENBQUMsU0FBUyxDQUFDO1FBQ25CLElBQUksRUFBRSxFQUFFO0tBQ1QsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sUUFBUSxHQUFHLENBQUMsR0FBa0IsRUFBRSxPQUFlLEVBQUUsRUFBRTtJQUM5RCxNQUFNLFdBQVcsR0FBRyxHQUFHLENBQUMsYUFBYSxDQUFDO0lBQ3RDLE1BQU0sR0FBRyxHQUFHLFdBQVcsQ0FBQyxXQUFXLENBQUMsQ0FBQztJQUNyQyxNQUFNLFlBQVksR0FBRyxHQUFHLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsRUFBRSxFQUFFO1FBQ2hELElBQUksRUFBRSxDQUFDLFdBQVcsS0FBSyxjQUFjLEVBQUU7WUFDckMsTUFBTSxDQUFDLEdBQUcsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN2QixJQUFJLFdBQVcsQ0FBQyxDQUFDLENBQUMsRUFBRTtnQkFDbEIsT0FBTyxDQUFDLENBQUMsT0FBTyxLQUFLLE9BQU8sQ0FBQzthQUM5QjtTQUNGO1FBQ0QsT0FBTyxLQUFLLENBQUM7SUFDZixDQUFDLENBQUMsQ0FBQztJQUNILElBQUksWUFBWSxFQUFFO1FBQ2hCLE9BQU8sSUFBSSxDQUFDO0tBQ2I7SUFDRCxNQUFNLFlBQVksR0FBRyxHQUFHLENBQUMsZUFBZSxLQUFLLFdBQVcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLElBQUksSUFBSSxXQUFXLENBQUMsQ0FBQyxDQUFDLFdBQVcsQ0FBQztJQUNqRyxPQUFPLENBQUMsQ0FBQyxZQUFZLENBQUMsYUFBYSxDQUFDLG9CQUFvQixPQUFPLElBQUksQ0FBQyxDQUFDO0FBQ3ZFLENBQUMsQ0FBQztBQUVGLE1BQU0sT0FBTyxHQUFHLENBQUMsR0FBa0IsRUFBRSxNQUFlLEVBQUUsUUFBYyxFQUFFLEVBQUU7SUFDdEUsTUFBTSxFQUFFLEdBQUcsR0FBRyxFQUFFO1FBQ2QsTUFBTSxDQUFDLFlBQVksQ0FBQyxRQUFRLEVBQUUsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDO0lBQ25ELENBQUMsQ0FBQztJQUNGLEdBQUcsQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDO1FBQ3BCLElBQUksRUFBRSxNQUFNO1FBQ1osV0FBVyxFQUFFLFNBQVM7UUFDdEIsTUFBTSxFQUFFLENBQUMsUUFBUSxDQUFDO1FBQ2xCLElBQUksRUFBRSxFQUFFO0tBQ1QsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDO0FBRUYsTUFBTSxVQUFVLEdBQUcsQ0FBQyxHQUFrQixFQUFFLEVBQVEsRUFBRSxFQUFFO0lBQ2xELE1BQU0sRUFBRSxHQUFHLEdBQUcsRUFBRTtRQUNkLE1BQU0sTUFBTSxHQUFHLEVBQUUsQ0FBQyxVQUFVLENBQUM7UUFDN0IsSUFBSSxNQUFNLEVBQUU7WUFDVixJQUFJLEVBQUUsQ0FBQyxRQUFRLEtBQUssQ0FBQyxFQUFFO2dCQUNyQixXQUFXLENBQUMsRUFBYSxFQUFFLEdBQUcsQ0FBQyxnQkFBZ0IsQ0FBQyxhQUFhLENBQUMsQ0FBQzthQUNoRTtZQUNELE1BQU0sQ0FBQyxXQUFXLENBQUMsRUFBRSxDQUFDLENBQUM7U0FDeEI7YUFBTSxJQUFJLElBQUksRUFBRTtZQUNmLE9BQU8sQ0FBQyw0Q0FBNEMsRUFBRSxFQUFFLENBQUMsQ0FBQztTQUMzRDtJQUNILENBQUMsQ0FBQztJQUNGLEdBQUcsQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDO1FBQ3BCLElBQUksRUFBRSxFQUFFO1FBQ1IsV0FBVyxFQUFFLFFBQVE7UUFDckIsTUFBTSxFQUFFLEVBQUU7UUFDVixJQUFJLEVBQUUsRUFBRTtLQUNULENBQUMsQ0FBQztBQUNMLENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLFdBQVcsR0FBRyxDQUFDLE1BQWUsRUFBRSxXQUFnQyxFQUFFLEVBQUU7SUFDL0UsSUFBSSxNQUFNLENBQUMsUUFBUSxLQUFLLFFBQVEsRUFBRTtRQUNoQyxPQUFPO0tBQ1I7SUFDRCxJQUFJLE1BQU0sQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDLEVBQUU7UUFDbEMsY0FBYyxDQUFDLE1BQU0sRUFBRSxXQUFXLENBQUMsQ0FBQztLQUNyQztJQUNELElBQUksS0FBSyxHQUFHLE1BQU0sQ0FBQyxpQkFBaUIsQ0FBQztJQUNyQyxPQUFPLEtBQUssRUFBRTtRQUNaLFdBQVcsQ0FBQyxLQUFLLEVBQUUsV0FBVyxDQUFDLENBQUM7UUFDaEMsS0FBSyxHQUFHLEtBQUssQ0FBQyxrQkFBa0IsQ0FBQztLQUNsQztBQUNILENBQUMsQ0FBQztBQUVGLE1BQU0sY0FBYyxHQUFHLENBQUMsRUFBVyxFQUFFLFdBQWdDLEVBQUUsRUFBRTtJQUN2RSxNQUFNLEdBQUcsR0FBRyxhQUFhLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDOUIsSUFBSSxHQUFHLEVBQUU7UUFDUCxjQUFjLENBQUMsR0FBRyxFQUFFLFdBQVcsQ0FBQyxDQUFDO0tBQ2xDO0FBQ0gsQ0FBQyxDQUFDO0FBRUYsTUFBTSxjQUFjLEdBQUcsQ0FBQyxHQUFrQixFQUFFLElBQVksRUFBUSxFQUFFO0lBQ2hFLE9BQU8sR0FBRyxDQUFDLEtBQUssQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDeEMsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sdUJBQXVCLEdBQUcsQ0FBQyxHQUFrQixFQUFFLEVBQUU7SUFDNUQsTUFBTSxNQUFNLEdBQUcsR0FBRyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEVBQUUsRUFBRSxDQUFDLFFBQVEsQ0FBQyxTQUFTLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQztJQUVsRSxjQUFjLENBQUMsR0FBRyxDQUFDLENBQUM7SUFFcEIsTUFBTSxLQUFLLEdBQUcsR0FBRyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEVBQUUsRUFBRSxDQUFDLFFBQVEsQ0FBQyxTQUFTLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQztJQUNqRSxXQUFXLENBQ1QsTUFBTSxDQUFDLE1BQU0sRUFDYixLQUFLLENBQUMsTUFBTSxFQUNaLG1FQUFtRSxFQUNuRSxNQUFNLEVBQ04sS0FBSyxDQUNOLENBQUM7SUFFRixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtRQUN0QyxxQkFBcUIsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7S0FDakU7QUFDSCxDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxjQUFjLEdBQUcsQ0FBQyxHQUFrQixFQUFFLEVBQUU7SUFDbkQsS0FBSyxNQUFNLEVBQUUsSUFBSSxHQUFHLENBQUMsWUFBWSxFQUFFO1FBQ2pDLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztLQUNYO0FBQ0gsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sZ0JBQWdCLEdBQUcsQ0FBQyxHQUFrQixFQUFFLEVBQUU7SUFDckQsSUFBSSxJQUFJLEVBQUU7UUFDUixJQUFJLE9BQU8sTUFBTSxLQUFLLFdBQVcsSUFBSSxNQUFNLENBQUMsUUFBUSxJQUFJLElBQUksRUFBRTtZQUM1RCxNQUFNLElBQUksR0FBMkIsRUFBRSxDQUFDO1lBQ3hDLEtBQUssTUFBTSxFQUFFLElBQUksR0FBRyxDQUFDLFlBQVksRUFBRTtnQkFDakMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2FBQ3hEO1lBQ0QsTUFBTSxnQkFBZ0IsR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksR0FBRyxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2xGLE1BQU0sS0FBSyxHQUFHO2dCQUNaLElBQUk7Z0JBQ0osS0FBSyxFQUFFLEdBQUcsQ0FBQyxPQUFPO2dCQUNsQixZQUFZLEVBQUUsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsY0FBYyxDQUFDO2dCQUM1QyxnQkFBZ0I7Z0JBQ2hCLFlBQVksRUFBRSxHQUFHLENBQUMsTUFBTSxDQUFDLFNBQVM7Z0JBQ2xDLFVBQVUsRUFBRSxHQUFHLENBQUMsWUFBWSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUMsQ0FBQyxJQUFJLEVBQUUsR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUM7YUFDOUUsQ0FBQztZQUNGLE1BQU0sS0FBSyxHQUFHLEdBQUcsQ0FBQyxZQUFZLENBQUMsTUFBTSxLQUFLLENBQUMsQ0FBQztZQUM1QyxRQUFRLENBQUMsZUFBZSxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsS0FBSyxDQUFDLENBQUM7U0FDaEU7S0FDRjtBQUNILENBQUMsQ0FBQztBQUVGLE1BQU0saUJBQWlCLEdBQUcsQ0FBQyxRQUFnQixFQUFFLFFBQWdCLEVBQUUsTUFBYyxFQUFpQixFQUFFO0lBQzlGLE1BQU0sR0FBRyxHQUFrQixFQUFFLENBQUM7SUFDOUIsS0FBSyxJQUFJLENBQUMsR0FBRyxRQUFRLEVBQUUsQ0FBQyxJQUFJLE1BQU0sRUFBRSxFQUFFLENBQUMsRUFBRTtRQUN2QyxNQUFNLEtBQUssR0FBRyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDMUIsSUFBSSxLQUFLLENBQUMsUUFBUSxLQUFLLENBQUMsRUFBRTtZQUN4QixNQUFNLEdBQUcsR0FBRyxNQUFNLENBQUMsS0FBZ0IsQ0FBQyxDQUFDO1lBQ3JDLElBQUksR0FBRyxJQUFJLElBQUksRUFBRTtnQkFDZixHQUFHLENBQUMsR0FBYSxDQUFDLEdBQUcsQ0FBQyxDQUFDO2FBQ3hCO1NBQ0Y7S0FDRjtJQUNELE9BQU8sR0FBRyxDQUFDO0FBQ2IsQ0FBQyxDQUFDO0FBRUYsTUFBTSxVQUFVLEdBQUcsTUFBTSxDQUFDLFdBQVcsQ0FBQyxDQUFDO0FBRXZDLE1BQU0sTUFBTSxHQUFHLENBQUMsRUFBVyxFQUFpQixFQUFFO0lBQzVDLElBQUksR0FBRyxHQUFJLEVBQVUsQ0FBQyxVQUFVLENBQUMsQ0FBQztJQUNsQyxJQUFJLEdBQUcsS0FBSyxTQUFTLEVBQUU7UUFDckIsR0FBRyxHQUFJLEVBQVUsQ0FBQyxVQUFVLENBQUMsR0FBRyxrQkFBa0IsQ0FBQyxFQUFFLEVBQUUsT0FBTyxDQUFDLENBQUM7S0FDakU7SUFDRCxPQUFPLEdBQUcsQ0FBQztBQUNiLENBQUMsQ0FBQztBQUVGLE1BQU0sTUFBTSxHQUFHLENBQUMsRUFBVyxFQUFFLEdBQWtCLEVBQUUsRUFBRTtJQUNqRCxJQUFJLFFBQVEsQ0FBQyxHQUFHLENBQUMsRUFBRTtRQUNqQixrQkFBa0IsQ0FBQyxFQUFFLEVBQUUsT0FBTyxFQUFFLEdBQUcsQ0FBQyxDQUFDO0tBQ3RDO0lBQ0EsRUFBVSxDQUFDLFVBQVUsQ0FBQyxHQUFHLEdBQUcsQ0FBQztBQUNoQyxDQUFDLENBQUM7QUFFRixNQUFNLFNBQVMsR0FBRyxDQUFDLEdBQVMsRUFBRSxNQUF3QixFQUFXLEVBQUU7SUFDakUsTUFBTSxTQUFTLEdBQUcsR0FBRyxDQUFDLFFBQVEsS0FBSyxDQUFDLENBQUM7SUFDckMsTUFBTSxJQUFJLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQztJQUMzQixJQUFJLFNBQVMsRUFBRTtRQUNiLE1BQU0sU0FBUyxHQUFJLEdBQWUsQ0FBQyxTQUFTLEtBQUssSUFBSSxDQUFDO1FBQ3RELElBQUksQ0FBQyxTQUFTLEVBQUU7WUFDZCxPQUFPLEtBQUssQ0FBQztTQUNkO1FBQ0QsT0FBTyxNQUFNLENBQUMsR0FBYyxDQUFDLEtBQUssTUFBTSxDQUFDLEtBQUssQ0FBQztLQUNoRDtJQUNELE9BQU8sR0FBRyxDQUFDLFFBQVEsS0FBSyxJQUFJLENBQUM7QUFDL0IsQ0FBQyxDQUFDO0FBRUYsTUFBTSxTQUFTLEdBQUcsQ0FBQyxHQUFTLEVBQUUsT0FBZSxFQUFXLEVBQUU7SUFDeEQsSUFBSSxHQUFHLENBQUMsUUFBUSxLQUFLLENBQUMsRUFBRTtRQUN0QixPQUFRLEdBQWUsQ0FBQyxTQUFTLEtBQUssT0FBTyxDQUFDO0tBQy9DO0lBQ0QsT0FBTyxHQUFHLENBQUMsUUFBUSxLQUFLLE9BQU8sQ0FBQztBQUNsQyxDQUFDLENBQUM7QUFFRixNQUFNLGNBQWMsR0FBRyxDQUFDLEtBQTZDLEVBQUUsRUFBRTtJQUN2RSxPQUFPLEtBQUssSUFBSSxDQUFDLFdBQVcsSUFBSSxLQUFLLElBQUksdUJBQXVCLElBQUksS0FBSyxDQUFDLENBQUM7QUFDN0UsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0scUJBQXFCLEdBQUcsQ0FBQyxHQUFRLEVBQUUsT0FBZ0IsRUFBVSxFQUFFO0lBQzFFLElBQUksR0FBRyxJQUFJLElBQUk7UUFBRSxPQUFPLEVBQUUsQ0FBQztJQUMzQixJQUFJLE9BQU8sR0FBRyxJQUFJLFFBQVEsRUFBRTtRQUMxQixJQUFJLElBQUksR0FBRyxFQUFFLENBQUM7UUFDZCxJQUFJLEdBQUcsR0FBRyxFQUFFLENBQUM7UUFDYixJQUFJLE9BQU8sQ0FBQyxHQUFHLENBQUMsRUFBRTtZQUNoQixJQUFJLENBQUMsT0FBTyxFQUFFO2dCQUNaLE1BQU0sTUFBTSxDQUFDLDRCQUE0QixFQUFFLEdBQUcsRUFBRSxPQUFPLENBQUMsQ0FBQzthQUMxRDtZQUNELEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO2dCQUNuQyxJQUFJLElBQUksR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDckIsR0FBRyxHQUFHLEdBQUcsQ0FBQzthQUNYO1NBQ0Y7YUFBTTtZQUNMLEtBQUssTUFBTSxHQUFHLElBQUksR0FBRyxFQUFFO2dCQUNyQixJQUFJLE1BQU0sQ0FBQyxTQUFTLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLEVBQUU7b0JBQ2xELE1BQU0sS0FBSyxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztvQkFFdkIsSUFBSSxLQUFLLEVBQUU7d0JBQ1QsSUFBSSxJQUFJLE9BQU87NEJBQ2IsQ0FBQyxDQUFDLEtBQUs7Z0NBQ0wsQ0FBQyxDQUFDLEdBQUcsR0FBRyxHQUFHO2dDQUNYLENBQUMsQ0FBQyxFQUFFOzRCQUNOLENBQUMsQ0FBQyxHQUFHLEdBQUcsb0JBQW9CLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxHQUFHLEtBQUssQ0FBQzt3QkFDbEQsR0FBRyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUM7cUJBQzNCO2lCQUNGO2FBQ0Y7U0FDRjtRQUNELE9BQU8sSUFBSSxDQUFDO0tBQ2I7SUFDRCxPQUFPLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUNyQixDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBPblJlbmRlclByb3AsIFFIb3N0QXR0ciwgUVNsb3QgfSBmcm9tICcuLi91dGlsL21hcmtlcnMnO1xuaW1wb3J0IHtcbiAgY2xlYW51cENvbnRleHQsXG4gIENvbXBvbmVudEN0eCxcbiAgZ2V0Q29udGV4dCxcbiAgZ2V0UHJvcHNNdXRhdG9yLFxuICBRQ29udGV4dCxcbiAgc2V0RXZlbnQsXG4gIHRyeUdldENvbnRleHQsXG59IGZyb20gJy4uL3Byb3BzL3Byb3BzJztcbmltcG9ydCB7IGlzT25Qcm9wIH0gZnJvbSAnLi4vcHJvcHMvcHJvcHMtb24nO1xuaW1wb3J0IHsgaXNBcnJheSwgaXNTdHJpbmcsIFZhbHVlT3JQcm9taXNlIH0gZnJvbSAnLi4vdXRpbC90eXBlcyc7XG5pbXBvcnQgdHlwZSB7IFByb2Nlc3NlZEpTWE5vZGUgfSBmcm9tICcuLi9yZW5kZXIvanN4L3R5cGVzL2pzeC1ub2RlJztcbmltcG9ydCB7IHJlbmRlckNvbXBvbmVudCB9IGZyb20gJy4vcmVuZGVyLWNvbXBvbmVudCc7XG5pbXBvcnQgeyBwcm9taXNlQWxsLCB0aGVuIH0gZnJvbSAnLi4vdXRpbC9wcm9taXNlcyc7XG5pbXBvcnQgdHlwZSB7IENvbnRhaW5lclN0YXRlIH0gZnJvbSAnLi9ub3RpZnktcmVuZGVyJztcbmltcG9ydCB7IGFzc2VydERlZmluZWQsIGFzc2VydEVxdWFsIH0gZnJvbSAnLi4vYXNzZXJ0L2Fzc2VydCc7XG5pbXBvcnQgeyBpbnRUb1N0ciB9IGZyb20gJy4uL29iamVjdC9zdG9yZSc7XG5pbXBvcnQgeyBFTVBUWV9BUlJBWSB9IGZyb20gJy4uL3V0aWwvZmx5d2VpZ2h0JztcbmltcG9ydCB7IGxvZ0RlYnVnLCBsb2dFcnJvciwgbG9nV2FybiB9IGZyb20gJy4uL3V0aWwvbG9nJztcbmltcG9ydCB7IHFEZXYgfSBmcm9tICcuLi91dGlsL3FkZXYnO1xuaW1wb3J0IHtcbiAgY29kZVRvVGV4dCxcbiAgcUVycm9yLFxuICBRRXJyb3JfaG9zdENhbk9ubHlCZUF0Um9vdCxcbiAgUUVycm9yX3Jvb3ROb2RlTXVzdEJlSFRNTCxcbiAgUUVycm9yX3NldFByb3BlcnR5LFxuICBRRXJyb3Jfc3RyaWN0SFRNTENoaWxkcmVuLFxuICBRRXJyb3Jfc3RyaW5naWZ5Q2xhc3NPclN0eWxlLFxufSBmcm9tICcuLi9lcnJvci9lcnJvcic7XG5pbXBvcnQgeyBmcm9tQ2FtZWxUb0tlYmFiQ2FzZSB9IGZyb20gJy4uL3V0aWwvY2FzZSc7XG5pbXBvcnQgdHlwZSB7IE9uUmVuZGVyRm4gfSBmcm9tICcuLi9jb21wb25lbnQvY29tcG9uZW50LnB1YmxpYyc7XG5pbXBvcnQgeyBDT05UQUlORVIsIGlzU3R5bGVUYXNrLCBTdHlsZUFwcGVuZCB9IGZyb20gJy4uL3VzZS91c2UtY29yZSc7XG5pbXBvcnQgdHlwZSB7IFJlZiB9IGZyb20gJy4uL3VzZS91c2Utc3RvcmUucHVibGljJztcbmltcG9ydCB0eXBlIHsgU3Vic2NyaXB0aW9uTWFuYWdlciB9IGZyb20gJy4uL29iamVjdC9xLW9iamVjdCc7XG5pbXBvcnQgeyBnZXREb2N1bWVudCB9IGZyb20gJy4uL3V0aWwvZG9tJztcbmltcG9ydCB7IGRpcmVjdEdldEF0dHJpYnV0ZSwgZGlyZWN0U2V0QXR0cmlidXRlIH0gZnJvbSAnLi9mYXN0LWNhbGxzJztcbmltcG9ydCB7IEhPU1RfVFlQRSwgU0tJUF9SRU5ERVJfVFlQRSB9IGZyb20gJy4vanN4L2pzeC1ydW50aW1lJztcbmltcG9ydCB7IGFzc2VydFFybCB9IGZyb20gJy4uL2ltcG9ydC9xcmwtY2xhc3MnO1xuXG5leHBvcnQgY29uc3QgU1ZHX05TID0gJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJztcblxudHlwZSBLZXlUb0luZGV4TWFwID0geyBba2V5OiBzdHJpbmddOiBudW1iZXIgfTtcblxudHlwZSBQcm9wSGFuZGxlciA9IChcbiAgY3R4OiBSZW5kZXJDb250ZXh0LFxuICBlbDogSFRNTEVsZW1lbnQsXG4gIGtleTogc3RyaW5nLFxuICBuZXdWYWx1ZTogYW55LFxuICBvbGRWYWx1ZTogYW55XG4pID0+IGJvb2xlYW47XG5cbi8qKlxuICogQGFscGhhXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVuZGVyT3BlcmF0aW9uIHtcbiAgJGVsJDogTm9kZTtcbiAgJG9wZXJhdGlvbiQ6IHN0cmluZztcbiAgJGFyZ3MkOiBhbnlbXTtcbiAgJGZuJDogKCkgPT4gdm9pZDtcbn1cblxuZXhwb3J0IHR5cGUgQ2hpbGRyZW5Nb2RlID0gJ3Jvb3QnIHwgJ3Nsb3QnIHwgJ2ZhbGxiYWNrJyB8ICdkZWZhdWx0JztcblxuLyoqXG4gKiBAYWxwaGFcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZW5kZXJQZXJmIHtcbiAgJHZpc2l0ZWQkOiBudW1iZXI7XG59XG5cbi8qKlxuICogQGFscGhhXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVuZGVyQ29udGV4dCB7XG4gICRkb2MkOiBEb2N1bWVudDtcbiAgJHJvb3RzJDogRWxlbWVudFtdO1xuICAkaG9zdEVsZW1lbnRzJDogU2V0PEVsZW1lbnQ+O1xuICAkb3BlcmF0aW9ucyQ6IFJlbmRlck9wZXJhdGlvbltdO1xuICAkY29udGV4dHMkOiBRQ29udGV4dFtdO1xuICAkY3VycmVudENvbXBvbmVudCQ6IENvbXBvbmVudEN0eCB8IHVuZGVmaW5lZDtcbiAgJGNvbnRhaW5lclN0YXRlJDogQ29udGFpbmVyU3RhdGU7XG4gICRjb250YWluZXJFbCQ6IEVsZW1lbnQ7XG4gICRwZXJmJDogUmVuZGVyUGVyZjtcbn1cblxuZXhwb3J0IGNvbnN0IHNtYXJ0VXBkYXRlQ2hpbGRyZW4gPSAoXG4gIGN0eDogUmVuZGVyQ29udGV4dCxcbiAgZWxtOiBOb2RlLFxuICBjaDogUHJvY2Vzc2VkSlNYTm9kZVtdLFxuICBtb2RlOiBDaGlsZHJlbk1vZGUsXG4gIGlzU3ZnOiBib29sZWFuXG4pID0+IHtcbiAgaWYgKGNoLmxlbmd0aCA9PT0gMSAmJiBjaFswXS4kdHlwZSQgPT09IFNLSVBfUkVOREVSX1RZUEUpIHtcbiAgICBpZiAoZWxtLmZpcnN0Q2hpbGQgIT09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY2ggPSBjaFswXS4kY2hpbGRyZW4kO1xuICB9XG4gIGNvbnN0IG9sZENoID0gZ2V0Q2hpbGRyZW4oZWxtLCBtb2RlKTtcbiAgaWYgKHFEZXYpIHtcbiAgICBpZiAoZWxtLm5vZGVUeXBlID09PSA5KSB7XG4gICAgICBpZiAoY2gubGVuZ3RoICE9PSAxIHx8IGNoWzBdLiR0eXBlJCAhPT0gJ2h0bWwnKSB7XG4gICAgICAgIHRocm93IHFFcnJvcihRRXJyb3Jfcm9vdE5vZGVNdXN0QmVIVE1MLCBjaCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChlbG0ubm9kZU5hbWUgPT09ICdIVE1MJykge1xuICAgICAgaWYgKGNoLmxlbmd0aCAhPT0gMiB8fCBjaFswXS4kdHlwZSQgIT09ICdoZWFkJyB8fCBjaFsxXS4kdHlwZSQgIT09ICdib2R5Jykge1xuICAgICAgICB0aHJvdyBxRXJyb3IoUUVycm9yX3N0cmljdEhUTUxDaGlsZHJlbiwgY2gpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAob2xkQ2gubGVuZ3RoID4gMCAmJiBjaC5sZW5ndGggPiAwKSB7XG4gICAgcmV0dXJuIHVwZGF0ZUNoaWxkcmVuKGN0eCwgZWxtLCBvbGRDaCwgY2gsIGlzU3ZnKTtcbiAgfSBlbHNlIGlmIChjaC5sZW5ndGggPiAwKSB7XG4gICAgcmV0dXJuIGFkZFZub2RlcyhjdHgsIGVsbSwgbnVsbCwgY2gsIDAsIGNoLmxlbmd0aCAtIDEsIGlzU3ZnKTtcbiAgfSBlbHNlIGlmIChvbGRDaC5sZW5ndGggPiAwKSB7XG4gICAgcmV0dXJuIHJlbW92ZVZub2RlcyhjdHgsIG9sZENoLCAwLCBvbGRDaC5sZW5ndGggLSAxKTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IHVwZGF0ZUNoaWxkcmVuID0gKFxuICBjdHg6IFJlbmRlckNvbnRleHQsXG4gIHBhcmVudEVsbTogTm9kZSxcbiAgb2xkQ2g6IE5vZGVbXSxcbiAgbmV3Q2g6IFByb2Nlc3NlZEpTWE5vZGVbXSxcbiAgaXNTdmc6IGJvb2xlYW5cbik6IFZhbHVlT3JQcm9taXNlPHZvaWQ+ID0+IHtcbiAgbGV0IG9sZFN0YXJ0SWR4ID0gMDtcbiAgbGV0IG5ld1N0YXJ0SWR4ID0gMDtcbiAgbGV0IG9sZEVuZElkeCA9IG9sZENoLmxlbmd0aCAtIDE7XG4gIGxldCBvbGRTdGFydFZub2RlID0gb2xkQ2hbMF07XG4gIGxldCBvbGRFbmRWbm9kZSA9IG9sZENoW29sZEVuZElkeF07XG4gIGxldCBuZXdFbmRJZHggPSBuZXdDaC5sZW5ndGggLSAxO1xuICBsZXQgbmV3U3RhcnRWbm9kZSA9IG5ld0NoWzBdO1xuICBsZXQgbmV3RW5kVm5vZGUgPSBuZXdDaFtuZXdFbmRJZHhdO1xuICBsZXQgb2xkS2V5VG9JZHg6IEtleVRvSW5kZXhNYXAgfCB1bmRlZmluZWQ7XG4gIGxldCBpZHhJbk9sZDogbnVtYmVyO1xuICBsZXQgZWxtVG9Nb3ZlOiBOb2RlO1xuICBjb25zdCByZXN1bHRzID0gW107XG5cbiAgd2hpbGUgKG9sZFN0YXJ0SWR4IDw9IG9sZEVuZElkeCAmJiBuZXdTdGFydElkeCA8PSBuZXdFbmRJZHgpIHtcbiAgICBpZiAob2xkU3RhcnRWbm9kZSA9PSBudWxsKSB7XG4gICAgICBvbGRTdGFydFZub2RlID0gb2xkQ2hbKytvbGRTdGFydElkeF07IC8vIFZub2RlIG1pZ2h0IGhhdmUgYmVlbiBtb3ZlZCBsZWZ0XG4gICAgfSBlbHNlIGlmIChvbGRFbmRWbm9kZSA9PSBudWxsKSB7XG4gICAgICBvbGRFbmRWbm9kZSA9IG9sZENoWy0tb2xkRW5kSWR4XTtcbiAgICB9IGVsc2UgaWYgKG5ld1N0YXJ0Vm5vZGUgPT0gbnVsbCkge1xuICAgICAgbmV3U3RhcnRWbm9kZSA9IG5ld0NoWysrbmV3U3RhcnRJZHhdO1xuICAgIH0gZWxzZSBpZiAobmV3RW5kVm5vZGUgPT0gbnVsbCkge1xuICAgICAgbmV3RW5kVm5vZGUgPSBuZXdDaFstLW5ld0VuZElkeF07XG4gICAgfSBlbHNlIGlmIChzYW1lVm5vZGUob2xkU3RhcnRWbm9kZSwgbmV3U3RhcnRWbm9kZSkpIHtcbiAgICAgIHJlc3VsdHMucHVzaChwYXRjaFZub2RlKGN0eCwgb2xkU3RhcnRWbm9kZSwgbmV3U3RhcnRWbm9kZSwgaXNTdmcpKTtcbiAgICAgIG9sZFN0YXJ0Vm5vZGUgPSBvbGRDaFsrK29sZFN0YXJ0SWR4XTtcbiAgICAgIG5ld1N0YXJ0Vm5vZGUgPSBuZXdDaFsrK25ld1N0YXJ0SWR4XTtcbiAgICB9IGVsc2UgaWYgKHNhbWVWbm9kZShvbGRFbmRWbm9kZSwgbmV3RW5kVm5vZGUpKSB7XG4gICAgICByZXN1bHRzLnB1c2gocGF0Y2hWbm9kZShjdHgsIG9sZEVuZFZub2RlLCBuZXdFbmRWbm9kZSwgaXNTdmcpKTtcbiAgICAgIG9sZEVuZFZub2RlID0gb2xkQ2hbLS1vbGRFbmRJZHhdO1xuICAgICAgbmV3RW5kVm5vZGUgPSBuZXdDaFstLW5ld0VuZElkeF07XG4gICAgfSBlbHNlIGlmIChzYW1lVm5vZGUob2xkU3RhcnRWbm9kZSwgbmV3RW5kVm5vZGUpKSB7XG4gICAgICAvLyBWbm9kZSBtb3ZlZCByaWdodFxuICAgICAgcmVzdWx0cy5wdXNoKHBhdGNoVm5vZGUoY3R4LCBvbGRTdGFydFZub2RlLCBuZXdFbmRWbm9kZSwgaXNTdmcpKTtcblxuICAgICAgaW5zZXJ0QmVmb3JlKGN0eCwgcGFyZW50RWxtLCBvbGRTdGFydFZub2RlLCBvbGRFbmRWbm9kZS5uZXh0U2libGluZyk7XG4gICAgICBvbGRTdGFydFZub2RlID0gb2xkQ2hbKytvbGRTdGFydElkeF07XG4gICAgICBuZXdFbmRWbm9kZSA9IG5ld0NoWy0tbmV3RW5kSWR4XTtcbiAgICB9IGVsc2UgaWYgKHNhbWVWbm9kZShvbGRFbmRWbm9kZSwgbmV3U3RhcnRWbm9kZSkpIHtcbiAgICAgIC8vIFZub2RlIG1vdmVkIGxlZnRcbiAgICAgIHJlc3VsdHMucHVzaChwYXRjaFZub2RlKGN0eCwgb2xkRW5kVm5vZGUsIG5ld1N0YXJ0Vm5vZGUsIGlzU3ZnKSk7XG5cbiAgICAgIGluc2VydEJlZm9yZShjdHgsIHBhcmVudEVsbSwgb2xkRW5kVm5vZGUsIG9sZFN0YXJ0Vm5vZGUpO1xuICAgICAgb2xkRW5kVm5vZGUgPSBvbGRDaFstLW9sZEVuZElkeF07XG4gICAgICBuZXdTdGFydFZub2RlID0gbmV3Q2hbKytuZXdTdGFydElkeF07XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChvbGRLZXlUb0lkeCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG9sZEtleVRvSWR4ID0gY3JlYXRlS2V5VG9PbGRJZHgob2xkQ2gsIG9sZFN0YXJ0SWR4LCBvbGRFbmRJZHgpO1xuICAgICAgfVxuICAgICAgaWR4SW5PbGQgPSBvbGRLZXlUb0lkeFtuZXdTdGFydFZub2RlLiRrZXkkIGFzIHN0cmluZ107XG4gICAgICBpZiAoaWR4SW5PbGQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvLyBOZXcgZWxlbWVudFxuICAgICAgICBjb25zdCBuZXdFbG0gPSBjcmVhdGVFbG0oY3R4LCBuZXdTdGFydFZub2RlLCBpc1N2Zyk7XG4gICAgICAgIHJlc3VsdHMucHVzaChcbiAgICAgICAgICB0aGVuKG5ld0VsbSwgKG5ld0VsbSkgPT4ge1xuICAgICAgICAgICAgaW5zZXJ0QmVmb3JlKGN0eCwgcGFyZW50RWxtLCBuZXdFbG0sIG9sZFN0YXJ0Vm5vZGUpO1xuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbG1Ub01vdmUgPSBvbGRDaFtpZHhJbk9sZF07XG4gICAgICAgIGlmICghaXNUYWdOYW1lKGVsbVRvTW92ZSwgbmV3U3RhcnRWbm9kZS4kdHlwZSQpKSB7XG4gICAgICAgICAgY29uc3QgbmV3RWxtID0gY3JlYXRlRWxtKGN0eCwgbmV3U3RhcnRWbm9kZSwgaXNTdmcpO1xuICAgICAgICAgIHJlc3VsdHMucHVzaChcbiAgICAgICAgICAgIHRoZW4obmV3RWxtLCAobmV3RWxtKSA9PiB7XG4gICAgICAgICAgICAgIGluc2VydEJlZm9yZShjdHgsIHBhcmVudEVsbSwgbmV3RWxtLCBvbGRTdGFydFZub2RlKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXN1bHRzLnB1c2gocGF0Y2hWbm9kZShjdHgsIGVsbVRvTW92ZSwgbmV3U3RhcnRWbm9kZSwgaXNTdmcpKTtcbiAgICAgICAgICBvbGRDaFtpZHhJbk9sZF0gPSB1bmRlZmluZWQgYXMgYW55O1xuICAgICAgICAgIGluc2VydEJlZm9yZShjdHgsIHBhcmVudEVsbSwgZWxtVG9Nb3ZlLCBvbGRTdGFydFZub2RlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbmV3U3RhcnRWbm9kZSA9IG5ld0NoWysrbmV3U3RhcnRJZHhdO1xuICAgIH1cbiAgfVxuXG4gIGlmIChuZXdTdGFydElkeCA8PSBuZXdFbmRJZHgpIHtcbiAgICBjb25zdCBiZWZvcmUgPSBuZXdDaFtuZXdFbmRJZHggKyAxXSA9PSBudWxsID8gbnVsbCA6IG5ld0NoW25ld0VuZElkeCArIDFdLiRlbG0kO1xuICAgIHJlc3VsdHMucHVzaChhZGRWbm9kZXMoY3R4LCBwYXJlbnRFbG0sIGJlZm9yZSwgbmV3Q2gsIG5ld1N0YXJ0SWR4LCBuZXdFbmRJZHgsIGlzU3ZnKSk7XG4gIH1cblxuICBsZXQgd2FpdCA9IHByb21pc2VBbGwocmVzdWx0cykgYXMgYW55O1xuICBpZiAob2xkU3RhcnRJZHggPD0gb2xkRW5kSWR4KSB7XG4gICAgY29uc3QgY2FuUmVtb3ZlID0gcGFyZW50RWxtLm5vZGVOYW1lICE9PSAnSEVBRCc7XG4gICAgaWYgKGNhblJlbW92ZSkge1xuICAgICAgd2FpdCA9IHRoZW4od2FpdCwgKCkgPT4ge1xuICAgICAgICByZW1vdmVWbm9kZXMoY3R4LCBvbGRDaCwgb2xkU3RhcnRJZHgsIG9sZEVuZElkeCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHdhaXQ7XG59O1xuXG5jb25zdCBpc0NvbXBvbmVudE5vZGUgPSAobm9kZTogUHJvY2Vzc2VkSlNYTm9kZSkgPT4ge1xuICByZXR1cm4gbm9kZS4kcHJvcHMkICYmIE9uUmVuZGVyUHJvcCBpbiBub2RlLiRwcm9wcyQ7XG59O1xuXG5jb25zdCBnZXRDaCA9IChlbG06IE5vZGUsIGZpbHRlcjogKGVsOiBOb2RlKSA9PiBib29sZWFuKSA9PiB7XG4gIHJldHVybiBBcnJheS5mcm9tKGVsbS5jaGlsZE5vZGVzKS5maWx0ZXIoZmlsdGVyKTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRDaGlsZHJlbiA9IChlbG06IE5vZGUsIG1vZGU6IENoaWxkcmVuTW9kZSk6IE5vZGVbXSA9PiB7XG4gIHN3aXRjaCAobW9kZSkge1xuICAgIGNhc2UgJ2RlZmF1bHQnOlxuICAgICAgcmV0dXJuIGdldENoKGVsbSwgaXNOb2RlKTtcbiAgICBjYXNlICdzbG90JzpcbiAgICAgIHJldHVybiBnZXRDaChlbG0sIGlzQ2hpbGRTbG90KTtcbiAgICBjYXNlICdyb290JzpcbiAgICAgIHJldHVybiBnZXRDaChlbG0sIGlzQ2hpbGRDb21wb25lbnQpO1xuICAgIGNhc2UgJ2ZhbGxiYWNrJzpcbiAgICAgIHJldHVybiBnZXRDaChlbG0sIGlzRmFsbGJhY2spO1xuICB9XG59O1xuZXhwb3J0IGNvbnN0IGlzTm9kZSA9IChlbG06IE5vZGUpOiBib29sZWFuID0+IHtcbiAgY29uc3QgdHlwZSA9IGVsbS5ub2RlVHlwZTtcbiAgcmV0dXJuIHR5cGUgPT09IDEgfHwgdHlwZSA9PT0gMztcbn07XG5cbmNvbnN0IGlzRmFsbGJhY2sgPSAobm9kZTogTm9kZSk6IGJvb2xlYW4gPT4ge1xuICByZXR1cm4gbm9kZS5ub2RlTmFtZSA9PT0gJ1E6RkFMTEJBQ0snO1xufTtcblxuY29uc3QgaXNDaGlsZFNsb3QgPSAobm9kZTogTm9kZSk6IGJvb2xlYW4gPT4ge1xuICByZXR1cm4gaXNOb2RlKG5vZGUpICYmIG5vZGUubm9kZU5hbWUgIT09ICdROkZBTExCQUNLJyAmJiBub2RlLm5vZGVOYW1lICE9PSAnUTpURU1QTEFURSc7XG59O1xuXG5jb25zdCBpc1Nsb3RUZW1wbGF0ZSA9IChub2RlOiBOb2RlKTogbm9kZSBpcyBIVE1MVGVtcGxhdGVFbGVtZW50ID0+IHtcbiAgcmV0dXJuIG5vZGUubm9kZU5hbWUgPT09ICdROlRFTVBMQVRFJztcbn07XG5cbmNvbnN0IGlzQ2hpbGRDb21wb25lbnQgPSAobm9kZTogTm9kZSk6IGJvb2xlYW4gPT4ge1xuICByZXR1cm4gaXNOb2RlKG5vZGUpICYmIG5vZGUubm9kZU5hbWUgIT09ICdROlRFTVBMQVRFJztcbn07XG5cbmNvbnN0IHNwbGl0QnkgPSA8VD4oaW5wdXQ6IFRbXSwgY29uZGl0aW9uOiAoaXRlbTogVCkgPT4gc3RyaW5nKTogUmVjb3JkPHN0cmluZywgVFtdPiA9PiB7XG4gIGNvbnN0IG91dHB1dDogUmVjb3JkPHN0cmluZywgVFtdPiA9IHt9O1xuICBmb3IgKGNvbnN0IGl0ZW0gb2YgaW5wdXQpIHtcbiAgICBjb25zdCBrZXkgPSBjb25kaXRpb24oaXRlbSk7XG4gICAgY29uc3QgYXJyYXkgPSBvdXRwdXRba2V5XSA/PyAob3V0cHV0W2tleV0gPSBbXSk7XG4gICAgYXJyYXkucHVzaChpdGVtKTtcbiAgfVxuICByZXR1cm4gb3V0cHV0O1xufTtcblxuZXhwb3J0IGNvbnN0IHBhdGNoVm5vZGUgPSAoXG4gIHJjdHg6IFJlbmRlckNvbnRleHQsXG4gIGVsbTogTm9kZSxcbiAgdm5vZGU6IFByb2Nlc3NlZEpTWE5vZGUsXG4gIGlzU3ZnOiBib29sZWFuXG4pOiBWYWx1ZU9yUHJvbWlzZTx2b2lkPiA9PiB7XG4gIHZub2RlLiRlbG0kID0gZWxtO1xuICBjb25zdCB0YWcgPSB2bm9kZS4kdHlwZSQ7XG4gIGlmICh0YWcgPT09ICcjdGV4dCcpIHtcbiAgICBpZiAoKGVsbSBhcyBUZXh0KS5kYXRhICE9PSB2bm9kZS4kdGV4dCQpIHtcbiAgICAgIHNldFByb3BlcnR5KHJjdHgsIGVsbSwgJ2RhdGEnLCB2bm9kZS4kdGV4dCQpO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAodGFnID09PSBIT1NUX1RZUEUpIHtcbiAgICB0aHJvdyBxRXJyb3IoUUVycm9yX2hvc3RDYW5Pbmx5QmVBdFJvb3QpO1xuICB9XG5cbiAgaWYgKHRhZyA9PT0gU0tJUF9SRU5ERVJfVFlQRSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmICghaXNTdmcpIHtcbiAgICBpc1N2ZyA9IHRhZyA9PT0gJ3N2Zyc7XG4gIH1cblxuICBjb25zdCBwcm9wcyA9IHZub2RlLiRwcm9wcyQ7XG4gIGNvbnN0IGN0eCA9IGdldENvbnRleHQoZWxtIGFzIEVsZW1lbnQpO1xuICBjb25zdCBpc1Nsb3QgPSB0YWcgPT09IFFTbG90O1xuICBsZXQgZGlydHkgPSB1cGRhdGVQcm9wZXJ0aWVzKHJjdHgsIGN0eCwgcHJvcHMsIGlzU3ZnKTtcbiAgaWYgKGlzU3ZnICYmIHZub2RlLiR0eXBlJCA9PT0gJ2ZvcmVpZ25PYmplY3QnKSB7XG4gICAgaXNTdmcgPSBmYWxzZTtcbiAgfSBlbHNlIGlmIChpc1Nsb3QpIHtcbiAgICBjb25zdCBjdXJyZW50Q29tcG9uZW50ID0gcmN0eC4kY3VycmVudENvbXBvbmVudCQ7XG4gICAgaWYgKGN1cnJlbnRDb21wb25lbnQpIHtcbiAgICAgIGN1cnJlbnRDb21wb25lbnQuJHNsb3RzJC5wdXNoKHZub2RlKTtcbiAgICB9XG4gIH1cbiAgY29uc3QgaXNDb21wb25lbnQgPSBpc0NvbXBvbmVudE5vZGUodm5vZGUpO1xuICBjb25zdCBjaCA9IHZub2RlLiRjaGlsZHJlbiQ7XG4gIGlmIChpc0NvbXBvbmVudCkge1xuICAgIGlmICghZGlydHkgJiYgIWN0eC4kcmVuZGVyUXJsJCAmJiAhY3R4LiRlbGVtZW50JC5oYXNBdHRyaWJ1dGUoUUhvc3RBdHRyKSkge1xuICAgICAgc2V0QXR0cmlidXRlKHJjdHgsIGN0eC4kZWxlbWVudCQsIFFIb3N0QXR0ciwgJycpO1xuICAgICAgY3R4LiRyZW5kZXJRcmwkID0gcHJvcHMhW09uUmVuZGVyUHJvcF07XG4gICAgICBhc3NlcnRRcmwoY3R4LiRyZW5kZXJRcmwkIGFzIGFueSk7XG4gICAgICBkaXJ0eSA9IHRydWU7XG4gICAgfVxuICAgIGNvbnN0IHByb21pc2UgPSBkaXJ0eSA/IHJlbmRlckNvbXBvbmVudChyY3R4LCBjdHgpIDogdW5kZWZpbmVkO1xuICAgIHJldHVybiB0aGVuKHByb21pc2UsICgpID0+IHtcbiAgICAgIGNvbnN0IHNsb3RNYXBzID0gZ2V0U2xvdHMoY3R4LiRjb21wb25lbnQkLCBlbG0gYXMgRWxlbWVudCk7XG4gICAgICBjb25zdCBzcGxpdHRlZENoaWRyZW4gPSBzcGxpdEJ5KGNoLCBnZXRTbG90TmFtZSk7XG4gICAgICBjb25zdCBwcm9taXNlczogVmFsdWVPclByb21pc2U8dm9pZD5bXSA9IFtdO1xuICAgICAgY29uc3Qgc2xvdFJjdHggPSBjb3B5UmVuZGVyQ29udGV4dChyY3R4KTtcbiAgICAgIHNsb3RSY3R4LiRjb250ZXh0cyQucHVzaChjdHgpO1xuXG4gICAgICAvLyBNYXJrIGVtcHR5IHNsb3RzIGFuZCByZW1vdmUgY29udGVudFxuICAgICAgT2JqZWN0LmVudHJpZXMoc2xvdE1hcHMuc2xvdHMpLmZvckVhY2goKFtrZXksIHNsb3RFbF0pID0+IHtcbiAgICAgICAgaWYgKHNsb3RFbCAmJiAhc3BsaXR0ZWRDaGlkcmVuW2tleV0pIHtcbiAgICAgICAgICBjb25zdCBvbGRDaCA9IGdldENoaWxkcmVuKHNsb3RFbCwgJ3Nsb3QnKTtcbiAgICAgICAgICBpZiAob2xkQ2gubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmVtb3ZlVm5vZGVzKHNsb3RSY3R4LCBvbGRDaCwgMCwgb2xkQ2gubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgLy8gTWFyayBlbXB0eSBzbG90cyBhbmQgcmVtb3ZlIGNvbnRlbnRcbiAgICAgIE9iamVjdC5lbnRyaWVzKHNsb3RNYXBzLnRlbXBsYXRlcykuZm9yRWFjaCgoW2tleSwgdGVtcGxhdGVFbF0pID0+IHtcbiAgICAgICAgaWYgKHRlbXBsYXRlRWwgJiYgIXNwbGl0dGVkQ2hpZHJlbltrZXldKSB7XG4gICAgICAgICAgcmVtb3ZlTm9kZShzbG90UmN0eCwgdGVtcGxhdGVFbCk7XG4gICAgICAgICAgc2xvdE1hcHMudGVtcGxhdGVzW2tleV0gPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgLy8gUmVuZGVyIGludG8gc2xvdHNcbiAgICAgIE9iamVjdC5lbnRyaWVzKHNwbGl0dGVkQ2hpZHJlbikuZm9yRWFjaCgoW2tleSwgY2hdKSA9PiB7XG4gICAgICAgIGNvbnN0IHNsb3RFbG0gPSBnZXRTbG90RWxlbWVudChzbG90UmN0eCwgc2xvdE1hcHMsIGVsbSBhcyBFbGVtZW50LCBrZXkpO1xuICAgICAgICBwcm9taXNlcy5wdXNoKHNtYXJ0VXBkYXRlQ2hpbGRyZW4oc2xvdFJjdHgsIHNsb3RFbG0sIGNoLCAnc2xvdCcsIGlzU3ZnKSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB0aGVuKHByb21pc2VBbGwocHJvbWlzZXMpLCAoKSA9PiB7XG4gICAgICAgIHJlbW92ZVRlbXBsYXRlcyhzbG90UmN0eCwgc2xvdE1hcHMpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbiAgY29uc3Qgc2V0c0lubmVySFRNTCA9IGNoZWNrSW5uZXJIVE1MKHByb3BzKTtcbiAgaWYgKHNldHNJbm5lckhUTUwpIHtcbiAgICBpZiAocURldiAmJiBjaC5sZW5ndGggPiAwKSB7XG4gICAgICBsb2dXYXJuKCdOb2RlIGNhbiBub3QgaGF2ZSBjaGlsZHJlbiB3aGVuIGlubmVySFRNTCBpcyBzZXQnKTtcbiAgICB9XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IG1vZGUgPSBpc1Nsb3QgPyAnZmFsbGJhY2snIDogJ2RlZmF1bHQnO1xuICByZXR1cm4gc21hcnRVcGRhdGVDaGlsZHJlbihyY3R4LCBlbG0sIGNoLCBtb2RlLCBpc1N2Zyk7XG59O1xuXG5jb25zdCBhZGRWbm9kZXMgPSAoXG4gIGN0eDogUmVuZGVyQ29udGV4dCxcbiAgcGFyZW50RWxtOiBOb2RlLFxuICBiZWZvcmU6IE5vZGUgfCBudWxsLFxuICB2bm9kZXM6IFByb2Nlc3NlZEpTWE5vZGVbXSxcbiAgc3RhcnRJZHg6IG51bWJlcixcbiAgZW5kSWR4OiBudW1iZXIsXG4gIGlzU3ZnOiBib29sZWFuXG4pOiBWYWx1ZU9yUHJvbWlzZTx2b2lkPiA9PiB7XG4gIGNvbnN0IHByb21pc2VzID0gW107XG4gIGZvciAoOyBzdGFydElkeCA8PSBlbmRJZHg7ICsrc3RhcnRJZHgpIHtcbiAgICBjb25zdCBjaCA9IHZub2Rlc1tzdGFydElkeF07XG4gICAgYXNzZXJ0RGVmaW5lZChjaCwgJ3JlbmRlcjogbm9kZSBtdXN0IGJlIGRlZmluZWQgYXQgaW5kZXgnLCBzdGFydElkeCwgdm5vZGVzKTtcbiAgICBwcm9taXNlcy5wdXNoKGNyZWF0ZUVsbShjdHgsIGNoLCBpc1N2ZykpO1xuICB9XG4gIHJldHVybiB0aGVuKHByb21pc2VBbGwocHJvbWlzZXMpLCAoY2hpbGRyZW4pID0+IHtcbiAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIGNoaWxkcmVuKSB7XG4gICAgICBpbnNlcnRCZWZvcmUoY3R4LCBwYXJlbnRFbG0sIGNoaWxkLCBiZWZvcmUpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5jb25zdCByZW1vdmVWbm9kZXMgPSAoXG4gIGN0eDogUmVuZGVyQ29udGV4dCxcbiAgbm9kZXM6IE5vZGVbXSxcbiAgc3RhcnRJZHg6IG51bWJlcixcbiAgZW5kSWR4OiBudW1iZXJcbik6IHZvaWQgPT4ge1xuICBmb3IgKDsgc3RhcnRJZHggPD0gZW5kSWR4OyArK3N0YXJ0SWR4KSB7XG4gICAgY29uc3QgY2ggPSBub2Rlc1tzdGFydElkeF07XG4gICAgaWYgKGNoKSB7XG4gICAgICByZW1vdmVOb2RlKGN0eCwgY2gpO1xuICAgIH1cbiAgfVxufTtcblxubGV0IHJlZkNvdW50ID0gMDtcbmNvbnN0IFJlZlN5bWJvbCA9IFN5bWJvbCgpO1xuXG5jb25zdCBzZXRTbG90UmVmID0gKGN0eDogUmVuZGVyQ29udGV4dCwgaG9zdEVsbTogRWxlbWVudCwgc2xvdEVsOiBFbGVtZW50KSA9PiB7XG4gIGxldCByZWYgPSAoaG9zdEVsbSBhcyBhbnkpW1JlZlN5bWJvbF0gPz8gZGlyZWN0R2V0QXR0cmlidXRlKGhvc3RFbG0sICdxOnNyZWYnKTtcbiAgaWYgKHJlZiA9PT0gbnVsbCkge1xuICAgIHJlZiA9IGludFRvU3RyKHJlZkNvdW50KyspO1xuICAgIChob3N0RWxtIGFzIGFueSlbUmVmU3ltYm9sXSA9IHJlZjtcbiAgICBzZXRBdHRyaWJ1dGUoY3R4LCBob3N0RWxtLCAncTpzcmVmJywgcmVmKTtcbiAgfVxuICBkaXJlY3RTZXRBdHRyaWJ1dGUoc2xvdEVsLCAncTpzcmVmJywgcmVmKTtcbn07XG5cbmNvbnN0IGdldFNsb3RFbGVtZW50ID0gKFxuICBjdHg6IFJlbmRlckNvbnRleHQsXG4gIHNsb3RNYXBzOiBTbG90TWFwcyxcbiAgcGFyZW50RWw6IEVsZW1lbnQsXG4gIHNsb3ROYW1lOiBzdHJpbmdcbik6IEVsZW1lbnQgPT4ge1xuICBjb25zdCBzbG90RWwgPSBzbG90TWFwcy5zbG90c1tzbG90TmFtZV07XG4gIGlmIChzbG90RWwpIHtcbiAgICByZXR1cm4gc2xvdEVsO1xuICB9XG4gIGNvbnN0IHRlbXBsYXRlRWwgPSBzbG90TWFwcy50ZW1wbGF0ZXNbc2xvdE5hbWVdO1xuICBpZiAodGVtcGxhdGVFbCkge1xuICAgIHJldHVybiB0ZW1wbGF0ZUVsO1xuICB9XG4gIGNvbnN0IHRlbXBsYXRlID0gY3JlYXRlVGVtcGxhdGUoY3R4LCBzbG90TmFtZSk7XG4gIHByZXBlbmQoY3R4LCBwYXJlbnRFbCwgdGVtcGxhdGUpO1xuICBzbG90TWFwcy50ZW1wbGF0ZXNbc2xvdE5hbWVdID0gdGVtcGxhdGU7XG4gIHJldHVybiB0ZW1wbGF0ZTtcbn07XG5cbmNvbnN0IGNyZWF0ZVRlbXBsYXRlID0gKGN0eDogUmVuZGVyQ29udGV4dCwgc2xvdE5hbWU6IHN0cmluZykgPT4ge1xuICBjb25zdCB0ZW1wbGF0ZSA9IGNyZWF0ZUVsZW1lbnQoY3R4LCAncTp0ZW1wbGF0ZScsIGZhbHNlKTtcbiAgZGlyZWN0U2V0QXR0cmlidXRlKHRlbXBsYXRlLCBRU2xvdCwgc2xvdE5hbWUpO1xuICBkaXJlY3RTZXRBdHRyaWJ1dGUodGVtcGxhdGUsICdoaWRkZW4nLCAnJyk7XG4gIGRpcmVjdFNldEF0dHJpYnV0ZSh0ZW1wbGF0ZSwgJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcblxuICByZXR1cm4gdGVtcGxhdGU7XG59O1xuXG5jb25zdCByZW1vdmVUZW1wbGF0ZXMgPSAoY3R4OiBSZW5kZXJDb250ZXh0LCBzbG90TWFwczogU2xvdE1hcHMpID0+IHtcbiAgT2JqZWN0LmtleXMoc2xvdE1hcHMudGVtcGxhdGVzKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICBjb25zdCB0ZW1wbGF0ZSA9IHNsb3RNYXBzLnRlbXBsYXRlc1trZXldITtcbiAgICBpZiAodGVtcGxhdGUgJiYgc2xvdE1hcHMuc2xvdHNba2V5XSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZW1vdmVOb2RlKGN0eCwgdGVtcGxhdGUpO1xuICAgICAgc2xvdE1hcHMudGVtcGxhdGVzW2tleV0gPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCByZXNvbHZlU2xvdFByb2plY3Rpb24gPSAoXG4gIGN0eDogUmVuZGVyQ29udGV4dCxcbiAgaG9zdEVsbTogRWxlbWVudCxcbiAgYmVmb3JlOiBTbG90TWFwcyxcbiAgYWZ0ZXI6IFNsb3RNYXBzXG4pID0+IHtcbiAgT2JqZWN0LmVudHJpZXMoYmVmb3JlLnNsb3RzKS5mb3JFYWNoKChba2V5LCBzbG90RWxdKSA9PiB7XG4gICAgaWYgKHNsb3RFbCAmJiAhYWZ0ZXIuc2xvdHNba2V5XSkge1xuICAgICAgLy8gU2xvdCByZW1vdmVkXG4gICAgICAvLyBNb3ZlIHNsb3QgdG8gdGVtcGxhdGVcbiAgICAgIGNvbnN0IHRlbXBsYXRlID0gY3JlYXRlVGVtcGxhdGUoY3R4LCBrZXkpO1xuICAgICAgY29uc3Qgc2xvdENoaWxkcmVuID0gZ2V0Q2hpbGRyZW4oc2xvdEVsLCAnc2xvdCcpO1xuICAgICAgdGVtcGxhdGUuYXBwZW5kKC4uLnNsb3RDaGlsZHJlbik7XG4gICAgICBob3N0RWxtLmluc2VydEJlZm9yZSh0ZW1wbGF0ZSwgaG9zdEVsbS5maXJzdENoaWxkKTtcblxuICAgICAgY3R4LiRvcGVyYXRpb25zJC5wdXNoKHtcbiAgICAgICAgJGVsJDogdGVtcGxhdGUsXG4gICAgICAgICRvcGVyYXRpb24kOiAnc2xvdC10by10ZW1wbGF0ZScsXG4gICAgICAgICRhcmdzJDogc2xvdENoaWxkcmVuLFxuICAgICAgICAkZm4kOiAoKSA9PiB7fSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG5cbiAgT2JqZWN0LmVudHJpZXMoYWZ0ZXIuc2xvdHMpLmZvckVhY2goKFtrZXksIHNsb3RFbF0pID0+IHtcbiAgICBpZiAoc2xvdEVsICYmICFiZWZvcmUuc2xvdHNba2V5XSkge1xuICAgICAgLy8gU2xvdCBjcmVhdGVkXG4gICAgICAvLyBNb3ZlIHRlbXBsYXRlIHRvIHNsb3RcbiAgICAgIGNvbnN0IHRlbXBsYXRlID0gYmVmb3JlLnRlbXBsYXRlc1trZXldO1xuICAgICAgaWYgKHRlbXBsYXRlKSB7XG4gICAgICAgIHNsb3RFbC5hcHBlbmQoLi4uZ2V0Q2hpbGRyZW4odGVtcGxhdGUsICdkZWZhdWx0JykpO1xuICAgICAgICB0ZW1wbGF0ZS5yZW1vdmUoKTtcbiAgICAgICAgY3R4LiRvcGVyYXRpb25zJC5wdXNoKHtcbiAgICAgICAgICAkZWwkOiBzbG90RWwsXG4gICAgICAgICAgJG9wZXJhdGlvbiQ6ICd0ZW1wbGF0ZS10by1zbG90JyxcbiAgICAgICAgICAkYXJncyQ6IFt0ZW1wbGF0ZV0sXG4gICAgICAgICAgJGZuJDogKCkgPT4ge30sXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59O1xuXG5jb25zdCBnZXRTbG90TmFtZSA9IChub2RlOiBQcm9jZXNzZWRKU1hOb2RlKTogc3RyaW5nID0+IHtcbiAgcmV0dXJuIG5vZGUuJHByb3BzJD8uW1FTbG90XSA/PyAnJztcbn07XG5cbmNvbnN0IGNyZWF0ZUVsbSA9IChcbiAgcmN0eDogUmVuZGVyQ29udGV4dCxcbiAgdm5vZGU6IFByb2Nlc3NlZEpTWE5vZGUsXG4gIGlzU3ZnOiBib29sZWFuXG4pOiBWYWx1ZU9yUHJvbWlzZTxOb2RlPiA9PiB7XG4gIHJjdHguJHBlcmYkLiR2aXNpdGVkJCsrO1xuICBjb25zdCB0YWcgPSB2bm9kZS4kdHlwZSQ7XG4gIGlmICh0YWcgPT09ICcjdGV4dCcpIHtcbiAgICByZXR1cm4gKHZub2RlLiRlbG0kID0gY3JlYXRlVGV4dE5vZGUocmN0eCwgdm5vZGUuJHRleHQkISkpO1xuICB9XG5cbiAgaWYgKHRhZyA9PT0gSE9TVF9UWVBFKSB7XG4gICAgdGhyb3cgcUVycm9yKFFFcnJvcl9ob3N0Q2FuT25seUJlQXRSb290KTtcbiAgfVxuXG4gIGlmICghaXNTdmcpIHtcbiAgICBpc1N2ZyA9IHRhZyA9PT0gJ3N2Zyc7XG4gIH1cblxuICBjb25zdCBwcm9wcyA9IHZub2RlLiRwcm9wcyQ7XG4gIGNvbnN0IGVsbSA9ICh2bm9kZS4kZWxtJCA9IGNyZWF0ZUVsZW1lbnQocmN0eCwgdGFnLCBpc1N2ZykpO1xuICBjb25zdCBpc0NvbXBvbmVudCA9IGlzQ29tcG9uZW50Tm9kZSh2bm9kZSk7XG4gIGNvbnN0IGN0eCA9IGdldENvbnRleHQoZWxtKTtcbiAgc2V0S2V5KGVsbSwgdm5vZGUuJGtleSQpO1xuICB1cGRhdGVQcm9wZXJ0aWVzKHJjdHgsIGN0eCwgcHJvcHMsIGlzU3ZnKTtcblxuICBpZiAoaXNTdmcgJiYgdGFnID09PSAnZm9yZWlnbk9iamVjdCcpIHtcbiAgICBpc1N2ZyA9IGZhbHNlO1xuICB9XG4gIGNvbnN0IGN1cnJlbnRDb21wb25lbnQgPSByY3R4LiRjdXJyZW50Q29tcG9uZW50JDtcbiAgaWYgKGN1cnJlbnRDb21wb25lbnQpIHtcbiAgICBjb25zdCBzdHlsZVRhZyA9IGN1cnJlbnRDb21wb25lbnQuJHN0eWxlQ2xhc3MkO1xuICAgIGlmIChzdHlsZVRhZykge1xuICAgICAgY2xhc3NsaXN0QWRkKHJjdHgsIGVsbSwgc3R5bGVUYWcpO1xuICAgIH1cbiAgICBpZiAodGFnID09PSBRU2xvdCB8fCB0YWcgPT09ICdodG1sJykge1xuICAgICAgc2V0U2xvdFJlZihyY3R4LCBjdXJyZW50Q29tcG9uZW50LiRob3N0RWxlbWVudCQsIGVsbSk7XG4gICAgICBjdXJyZW50Q29tcG9uZW50LiRzbG90cyQucHVzaCh2bm9kZSk7XG4gICAgfVxuICB9XG5cbiAgbGV0IHdhaXQ6IFZhbHVlT3JQcm9taXNlPHZvaWQ+O1xuICBpZiAoaXNDb21wb25lbnQpIHtcbiAgICAvLyBSdW4gbW91bnQgaG9va1xuICAgIGNvbnN0IHJlbmRlclFSTCA9IHByb3BzIVtPblJlbmRlclByb3BdO1xuICAgIGFzc2VydFFybDxPblJlbmRlckZuPGFueT4+KHJlbmRlclFSTCk7XG4gICAgY3R4LiRyZW5kZXJRcmwkID0gcmVuZGVyUVJMO1xuICAgIGRpcmVjdFNldEF0dHJpYnV0ZShjdHguJGVsZW1lbnQkLCBRSG9zdEF0dHIsICcnKTtcbiAgICB3YWl0ID0gcmVuZGVyQ29tcG9uZW50KHJjdHgsIGN0eCk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3Qgc2V0c0lubmVySFRNTCA9IGNoZWNrSW5uZXJIVE1MKHByb3BzKTtcbiAgICBpZiAoc2V0c0lubmVySFRNTCkge1xuICAgICAgaWYgKHFEZXYgJiYgdm5vZGUuJGNoaWxkcmVuJC5sZW5ndGggPiAwKSB7XG4gICAgICAgIGxvZ1dhcm4oJ05vZGUgY2FuIG5vdCBoYXZlIGNoaWxkcmVuIHdoZW4gaW5uZXJIVE1MIGlzIHNldCcpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGVsbTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRoZW4od2FpdCwgKCkgPT4ge1xuICAgIGxldCBjaGlsZHJlbiA9IHZub2RlLiRjaGlsZHJlbiQ7XG4gICAgaWYgKGNoaWxkcmVuLmxlbmd0aCA+IDApIHtcbiAgICAgIGlmIChjaGlsZHJlbi5sZW5ndGggPT09IDEgJiYgY2hpbGRyZW5bMF0uJHR5cGUkID09PSBTS0lQX1JFTkRFUl9UWVBFKSB7XG4gICAgICAgIGNoaWxkcmVuID0gY2hpbGRyZW5bMF0uJGNoaWxkcmVuJDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHNsb3RSY3R4ID0gY29weVJlbmRlckNvbnRleHQocmN0eCk7XG4gICAgICBzbG90UmN0eC4kY29udGV4dHMkLnB1c2goY3R4KTtcbiAgICAgIGNvbnN0IHNsb3RNYXAgPSBpc0NvbXBvbmVudCA/IGdldFNsb3RzKGN0eC4kY29tcG9uZW50JCwgZWxtKSA6IHVuZGVmaW5lZDtcbiAgICAgIGNvbnN0IHByb21pc2VzID0gY2hpbGRyZW4ubWFwKChjaCkgPT4gY3JlYXRlRWxtKHNsb3RSY3R4LCBjaCwgaXNTdmcpKTtcbiAgICAgIHJldHVybiB0aGVuKHByb21pc2VBbGwocHJvbWlzZXMpLCAoKSA9PiB7XG4gICAgICAgIGxldCBwYXJlbnQgPSBlbG07XG4gICAgICAgIGZvciAoY29uc3Qgbm9kZSBvZiBjaGlsZHJlbikge1xuICAgICAgICAgIGlmIChzbG90TWFwKSB7XG4gICAgICAgICAgICBwYXJlbnQgPSBnZXRTbG90RWxlbWVudChzbG90UmN0eCwgc2xvdE1hcCwgZWxtLCBnZXRTbG90TmFtZShub2RlKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHBhcmVudC5hcHBlbmRDaGlsZChub2RlLiRlbG0kISk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVsbTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZWxtO1xuICB9KTtcbn07XG5pbnRlcmZhY2UgU2xvdE1hcHMge1xuICBzbG90czogUmVjb3JkPHN0cmluZywgRWxlbWVudCB8IHVuZGVmaW5lZD47XG4gIHRlbXBsYXRlczogUmVjb3JkPHN0cmluZywgRWxlbWVudCB8IHVuZGVmaW5lZD47XG59XG5cbmNvbnN0IGdldFNsb3RzID0gKGNvbXBvbmVudEN0eDogQ29tcG9uZW50Q3R4IHwgdW5kZWZpbmVkLCBob3N0RWxtOiBFbGVtZW50KTogU2xvdE1hcHMgPT4ge1xuICBpZiAoaG9zdEVsbS5sb2NhbE5hbWUgPT09ICdodG1sJykge1xuICAgIHJldHVybiB7IHNsb3RzOiB7ICcnOiBob3N0RWxtIH0sIHRlbXBsYXRlczoge30gfTtcbiAgfVxuICBjb25zdCBzbG90czogUmVjb3JkPHN0cmluZywgRWxlbWVudD4gPSB7fTtcbiAgY29uc3QgdGVtcGxhdGVzOiBSZWNvcmQ8c3RyaW5nLCBIVE1MVGVtcGxhdGVFbGVtZW50PiA9IHt9O1xuICBjb25zdCBzbG90UmVmID0gZGlyZWN0R2V0QXR0cmlidXRlKGhvc3RFbG0sICdxOnNyZWYnKTtcbiAgY29uc3QgZXhpc3RpbmdTbG90cyA9IEFycmF5LmZyb20oaG9zdEVsbS5xdWVyeVNlbGVjdG9yQWxsKGBxXFxcXDpzbG90W3FcXFxcOnNyZWY9XCIke3Nsb3RSZWZ9XCJdYCkpO1xuICBjb25zdCBuZXdTbG90cyA9IGNvbXBvbmVudEN0eD8uJHNsb3RzJCA/PyBFTVBUWV9BUlJBWTtcbiAgY29uc3QgdCA9IEFycmF5LmZyb20oaG9zdEVsbS5jaGlsZHJlbikuZmlsdGVyKGlzU2xvdFRlbXBsYXRlKTtcblxuICAvLyBNYXAgc2xvdHNcbiAgZm9yIChjb25zdCBlbG0gb2YgZXhpc3RpbmdTbG90cykge1xuICAgIHNsb3RzW2RpcmVjdEdldEF0dHJpYnV0ZShlbG0sICduYW1lJykgPz8gJyddID0gZWxtO1xuICB9XG5cbiAgLy8gTWFwIHZpcnR1YWwgc2xvdHNcbiAgZm9yIChjb25zdCB2bm9kZSBvZiBuZXdTbG90cykge1xuICAgIHNsb3RzW3Zub2RlLiRwcm9wcyQ/Lm5hbWUgPz8gJyddID0gdm5vZGUuJGVsbSQgYXMgRWxlbWVudDtcbiAgfVxuXG4gIC8vIE1hcCB0ZW1wbGF0ZXNcbiAgZm9yIChjb25zdCBlbG0gb2YgdCkge1xuICAgIHRlbXBsYXRlc1tkaXJlY3RHZXRBdHRyaWJ1dGUoZWxtLCBRU2xvdCkgPz8gJyddID0gZWxtO1xuICB9XG5cbiAgcmV0dXJuIHsgc2xvdHMsIHRlbXBsYXRlcyB9O1xufTtcblxuY29uc3QgaGFuZGxlU3R5bGU6IFByb3BIYW5kbGVyID0gKGN0eCwgZWxtLCBfLCBuZXdWYWx1ZSkgPT4ge1xuICBzZXRBdHRyaWJ1dGUoY3R4LCBlbG0sICdzdHlsZScsIHN0cmluZ2lmeUNsYXNzT3JTdHlsZShuZXdWYWx1ZSwgZmFsc2UpKTtcbiAgcmV0dXJuIHRydWU7XG59O1xuXG5jb25zdCBoYW5kbGVDbGFzczogUHJvcEhhbmRsZXIgPSAoY3R4LCBlbG0sIF8sIG5ld1ZhbHVlKSA9PiB7XG4gIHNldEF0dHJpYnV0ZShjdHgsIGVsbSwgJ2NsYXNzJywgc3RyaW5naWZ5Q2xhc3NPclN0eWxlKG5ld1ZhbHVlLCB0cnVlKSk7XG4gIHJldHVybiB0cnVlO1xufTtcblxuY29uc3QgY2hlY2tCZWZvcmVBc3NpZ246IFByb3BIYW5kbGVyID0gKGN0eCwgZWxtLCBwcm9wLCBuZXdWYWx1ZSkgPT4ge1xuICBpZiAocHJvcCBpbiBlbG0pIHtcbiAgICBpZiAoKGVsbSBhcyBhbnkpW3Byb3BdICE9PSBuZXdWYWx1ZSkge1xuICAgICAgc2V0UHJvcGVydHkoY3R4LCBlbG0sIHByb3AsIG5ld1ZhbHVlKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59O1xuXG5jb25zdCBkYW5nZXJvdXNseVNldElubmVySFRNTCA9ICdkYW5nZXJvdXNseVNldElubmVySFRNTCc7XG5jb25zdCBzZXRJbm5lckhUTUw6IFByb3BIYW5kbGVyID0gKGN0eCwgZWxtLCBfLCBuZXdWYWx1ZSkgPT4ge1xuICBpZiAoZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwgaW4gZWxtKSB7XG4gICAgc2V0UHJvcGVydHkoY3R4LCBlbG0sIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MLCBuZXdWYWx1ZSk7XG4gIH0gZWxzZSBpZiAoJ2lubmVySFRNTCcgaW4gZWxtKSB7XG4gICAgc2V0UHJvcGVydHkoY3R4LCBlbG0sICdpbm5lckhUTUwnLCBuZXdWYWx1ZSk7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59O1xuXG5jb25zdCBQUk9QX0hBTkRMRVJfTUFQOiBSZWNvcmQ8c3RyaW5nLCBQcm9wSGFuZGxlcj4gPSB7XG4gIHN0eWxlOiBoYW5kbGVTdHlsZSxcbiAgY2xhc3M6IGhhbmRsZUNsYXNzLFxuICBjbGFzc05hbWU6IGhhbmRsZUNsYXNzLFxuICB2YWx1ZTogY2hlY2tCZWZvcmVBc3NpZ24sXG4gIGNoZWNrZWQ6IGNoZWNrQmVmb3JlQXNzaWduLFxuICBbZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxdOiBzZXRJbm5lckhUTUwsXG59O1xuXG5jb25zdCBBTExPV1NfUFJPUFMgPSBbJ2NsYXNzJywgJ2NsYXNzTmFtZScsICdzdHlsZScsICdpZCcsIFFTbG90XTtcbmNvbnN0IEhPU1RfUFJFRklYID0gJ2hvc3Q6JztcbmNvbnN0IFNDT1BFX1BSRUZJWCA9IC9eKGhvc3R8d2luZG93fGRvY3VtZW50fHByZXZlbnQoZHxEKWVmYXVsdCk6LztcblxuZXhwb3J0IGNvbnN0IHVwZGF0ZVByb3BlcnRpZXMgPSAoXG4gIHJjdHg6IFJlbmRlckNvbnRleHQsXG4gIGN0eDogUUNvbnRleHQsXG4gIGV4cGVjdFByb3BzOiBSZWNvcmQ8c3RyaW5nLCBhbnk+IHwgbnVsbCxcbiAgaXNTdmc6IGJvb2xlYW5cbikgPT4ge1xuICBpZiAoIWV4cGVjdFByb3BzKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGNvbnN0IGVsbSA9IGN0eC4kZWxlbWVudCQ7XG4gIGNvbnN0IGlzQ21wID0gT25SZW5kZXJQcm9wIGluIGV4cGVjdFByb3BzO1xuICBjb25zdCBxd2lrUHJvcHMgPSBpc0NtcCA/IGdldFByb3BzTXV0YXRvcihjdHgsIHJjdHguJGNvbnRhaW5lclN0YXRlJCkgOiB1bmRlZmluZWQ7XG5cbiAgZm9yIChsZXQga2V5IG9mIE9iamVjdC5rZXlzKGV4cGVjdFByb3BzKSkge1xuICAgIGlmIChrZXkgPT09ICdjaGlsZHJlbicgfHwga2V5ID09PSBPblJlbmRlclByb3ApIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBjb25zdCBuZXdWYWx1ZSA9IGV4cGVjdFByb3BzW2tleV07XG4gICAgaWYgKGtleSA9PT0gJ3JlZicpIHtcbiAgICAgIChuZXdWYWx1ZSBhcyBSZWY8RWxlbWVudD4pLmN1cnJlbnQgPSBlbG07XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyBFYXJseSBleGl0IGlmIHZhbHVlIGRpZG50IGNoYW5nZVxuICAgIGNvbnN0IG9sZFZhbHVlID0gY3R4LiRjYWNoZSQuZ2V0KGtleSk7XG4gICAgaWYgKG5ld1ZhbHVlID09PSBvbGRWYWx1ZSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGN0eC4kY2FjaGUkLnNldChrZXksIG5ld1ZhbHVlKTtcblxuICAgIC8vIENoZWNrIG9mIGRhdGEtIG9yIGFyaWEtXG4gICAgaWYgKGtleS5zdGFydHNXaXRoKCdkYXRhLScpIHx8IGtleS5zdGFydHNXaXRoKCdhcmlhLScpKSB7XG4gICAgICBzZXRBdHRyaWJ1dGUocmN0eCwgZWxtLCBrZXksIG5ld1ZhbHVlKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGlmIChxd2lrUHJvcHMpIHtcbiAgICAgIGNvbnN0IHNraXBQcm9wZXJ0eSA9IEFMTE9XU19QUk9QUy5pbmNsdWRlcyhrZXkpO1xuICAgICAgY29uc3QgaGFzUHJlZml4ID0gU0NPUEVfUFJFRklYLnRlc3Qoa2V5KTtcbiAgICAgIGlmICghc2tpcFByb3BlcnR5ICYmICFoYXNQcmVmaXgpIHtcbiAgICAgICAgLy8gUXdpayBwcm9wc1xuICAgICAgICBxd2lrUHJvcHMuc2V0KGtleSwgbmV3VmFsdWUpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGhQcmVmaXhlZCA9IGtleS5zdGFydHNXaXRoKEhPU1RfUFJFRklYKTtcbiAgICAgIGlmIChoUHJlZml4ZWQpIHtcbiAgICAgICAga2V5ID0ga2V5LnNsaWNlKEhPU1RfUFJFRklYLmxlbmd0aCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChxRGV2ICYmIGtleS5zdGFydHNXaXRoKEhPU1RfUFJFRklYKSkge1xuICAgICAgbG9nV2FybihgJHtIT1NUX1BSRUZJWH0gcHJlZml4IGNhbiBub3QgYmUgdXNlZCBpbiBub24gY29tcG9uZW50c2ApO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgaWYgKGlzT25Qcm9wKGtleSkpIHtcbiAgICAgIHNldEV2ZW50KHJjdHgsIGN0eCwga2V5LCBuZXdWYWx1ZSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBpZiBpdHMgYW4gZXhjZXB0aW9uXG4gICAgY29uc3QgZXhjZXB0aW9uID0gUFJPUF9IQU5ETEVSX01BUFtrZXldO1xuICAgIGlmIChleGNlcHRpb24pIHtcbiAgICAgIGlmIChleGNlcHRpb24ocmN0eCwgZWxtIGFzIEhUTUxFbGVtZW50LCBrZXksIG5ld1ZhbHVlLCBvbGRWYWx1ZSkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgaWYgcHJvcGVydHkgaW4gcHJvdG90eXBlXG4gICAgaWYgKCFpc1N2ZyAmJiBrZXkgaW4gZWxtKSB7XG4gICAgICBzZXRQcm9wZXJ0eShyY3R4LCBlbG0sIGtleSwgbmV3VmFsdWUpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gRmFsbGJhY2sgdG8gcmVuZGVyIGF0dHJpYnV0ZVxuICAgIHNldEF0dHJpYnV0ZShyY3R4LCBlbG0sIGtleSwgbmV3VmFsdWUpO1xuICB9XG4gIHJldHVybiBjdHguJGRpcnR5JDtcbn07XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVSZW5kZXJDb250ZXh0ID0gKFxuICBkb2M6IERvY3VtZW50LFxuICBjb250YWluZXJTdGF0ZTogQ29udGFpbmVyU3RhdGUsXG4gIGNvbnRhaW5lckVsOiBFbGVtZW50XG4pOiBSZW5kZXJDb250ZXh0ID0+IHtcbiAgY29uc3QgY3R4OiBSZW5kZXJDb250ZXh0ID0ge1xuICAgICRkb2MkOiBkb2MsXG4gICAgJGNvbnRhaW5lclN0YXRlJDogY29udGFpbmVyU3RhdGUsXG4gICAgJGNvbnRhaW5lckVsJDogY29udGFpbmVyRWwsXG4gICAgJGhvc3RFbGVtZW50cyQ6IG5ldyBTZXQoKSxcbiAgICAkb3BlcmF0aW9ucyQ6IFtdLFxuICAgICRyb290cyQ6IFtdLFxuICAgICRjb250ZXh0cyQ6IFtdLFxuICAgICRjdXJyZW50Q29tcG9uZW50JDogdW5kZWZpbmVkLFxuICAgICRwZXJmJDoge1xuICAgICAgJHZpc2l0ZWQkOiAwLFxuICAgIH0sXG4gIH07XG4gIHJldHVybiBjdHg7XG59O1xuXG5leHBvcnQgY29uc3QgY29weVJlbmRlckNvbnRleHQgPSAoY3R4OiBSZW5kZXJDb250ZXh0KTogUmVuZGVyQ29udGV4dCA9PiB7XG4gIGNvbnN0IG5ld0N0eDogUmVuZGVyQ29udGV4dCA9IHtcbiAgICAuLi5jdHgsXG4gICAgJGNvbnRleHRzJDogWy4uLmN0eC4kY29udGV4dHMkXSxcbiAgfTtcbiAgcmV0dXJuIG5ld0N0eDtcbn07XG5cbmV4cG9ydCBjb25zdCBzZXRBdHRyaWJ1dGUgPSAoY3R4OiBSZW5kZXJDb250ZXh0LCBlbDogRWxlbWVudCwgcHJvcDogc3RyaW5nLCB2YWx1ZTogYW55KSA9PiB7XG4gIGNvbnN0IGZuID0gKCkgPT4ge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8IHZhbHVlID09PSBmYWxzZSkge1xuICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKHByb3ApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBzdHIgPSB2YWx1ZSA9PT0gdHJ1ZSA/ICcnIDogU3RyaW5nKHZhbHVlKTtcbiAgICAgIGRpcmVjdFNldEF0dHJpYnV0ZShlbCwgcHJvcCwgc3RyKTtcbiAgICB9XG4gIH07XG4gIGN0eC4kb3BlcmF0aW9ucyQucHVzaCh7XG4gICAgJGVsJDogZWwsXG4gICAgJG9wZXJhdGlvbiQ6ICdzZXQtYXR0cmlidXRlJyxcbiAgICAkYXJncyQ6IFtwcm9wLCB2YWx1ZV0sXG4gICAgJGZuJDogZm4sXG4gIH0pO1xufTtcblxuZXhwb3J0IGNvbnN0IGNsYXNzbGlzdEFkZCA9IChjdHg6IFJlbmRlckNvbnRleHQsIGVsOiBFbGVtZW50LCBob3N0U3R5bGVUYWc6IHN0cmluZykgPT4ge1xuICBjb25zdCBmbiA9ICgpID0+IHtcbiAgICBlbC5jbGFzc0xpc3QuYWRkKGhvc3RTdHlsZVRhZyk7XG4gIH07XG4gIGN0eC4kb3BlcmF0aW9ucyQucHVzaCh7XG4gICAgJGVsJDogZWwsXG4gICAgJG9wZXJhdGlvbiQ6ICdjbGFzc2xpc3QtYWRkJyxcbiAgICAkYXJncyQ6IFtob3N0U3R5bGVUYWddLFxuICAgICRmbiQ6IGZuLFxuICB9KTtcbn07XG5cbmNvbnN0IHNldFByb3BlcnR5ID0gKGN0eDogUmVuZGVyQ29udGV4dCwgbm9kZTogYW55LCBrZXk6IHN0cmluZywgdmFsdWU6IGFueSkgPT4ge1xuICBjb25zdCBmbiA9ICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgbm9kZVtrZXldID0gdmFsdWU7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBsb2dFcnJvcihjb2RlVG9UZXh0KFFFcnJvcl9zZXRQcm9wZXJ0eSksIHsgbm9kZSwga2V5LCB2YWx1ZSB9LCBlcnIpO1xuICAgIH1cbiAgfTtcbiAgY3R4LiRvcGVyYXRpb25zJC5wdXNoKHtcbiAgICAkZWwkOiBub2RlLFxuICAgICRvcGVyYXRpb24kOiAnc2V0LXByb3BlcnR5JyxcbiAgICAkYXJncyQ6IFtrZXksIHZhbHVlXSxcbiAgICAkZm4kOiBmbixcbiAgfSk7XG59O1xuXG5jb25zdCBjcmVhdGVFbGVtZW50ID0gKGN0eDogUmVuZGVyQ29udGV4dCwgZXhwZWN0VGFnOiBzdHJpbmcsIGlzU3ZnOiBib29sZWFuKTogRWxlbWVudCA9PiB7XG4gIGNvbnN0IGVsID0gaXNTdmdcbiAgICA/IGN0eC4kZG9jJC5jcmVhdGVFbGVtZW50TlMoU1ZHX05TLCBleHBlY3RUYWcpXG4gICAgOiBjdHguJGRvYyQuY3JlYXRlRWxlbWVudChleHBlY3RUYWcpO1xuICAoZWwgYXMgYW55KVtDT05UQUlORVJdID0gY3R4LiRjb250YWluZXJFbCQ7XG4gIGN0eC4kb3BlcmF0aW9ucyQucHVzaCh7XG4gICAgJGVsJDogZWwsXG4gICAgJG9wZXJhdGlvbiQ6ICdjcmVhdGUtZWxlbWVudCcsXG4gICAgJGFyZ3MkOiBbZXhwZWN0VGFnXSxcbiAgICAkZm4kOiAoKSA9PiB7fSxcbiAgfSk7XG4gIHJldHVybiBlbDtcbn07XG5cbmNvbnN0IGluc2VydEJlZm9yZSA9IDxUIGV4dGVuZHMgTm9kZT4oXG4gIGN0eDogUmVuZGVyQ29udGV4dCxcbiAgcGFyZW50OiBOb2RlLFxuICBuZXdDaGlsZDogVCxcbiAgcmVmQ2hpbGQ6IE5vZGUgfCBudWxsIHwgdW5kZWZpbmVkXG4pOiBUID0+IHtcbiAgY29uc3QgZm4gPSAoKSA9PiB7XG4gICAgcGFyZW50Lmluc2VydEJlZm9yZShuZXdDaGlsZCwgcmVmQ2hpbGQgPyByZWZDaGlsZCA6IG51bGwpO1xuICB9O1xuICBjdHguJG9wZXJhdGlvbnMkLnB1c2goe1xuICAgICRlbCQ6IHBhcmVudCxcbiAgICAkb3BlcmF0aW9uJDogJ2luc2VydC1iZWZvcmUnLFxuICAgICRhcmdzJDogW25ld0NoaWxkLCByZWZDaGlsZF0sXG4gICAgJGZuJDogZm4sXG4gIH0pO1xuICByZXR1cm4gbmV3Q2hpbGQ7XG59O1xuXG5leHBvcnQgY29uc3QgYXBwZW5kU3R5bGUgPSAoY3R4OiBSZW5kZXJDb250ZXh0LCBob3N0RWxlbWVudDogRWxlbWVudCwgc3R5bGVUYXNrOiBTdHlsZUFwcGVuZCkgPT4ge1xuICBjb25zdCBmbiA9ICgpID0+IHtcbiAgICBjb25zdCBjb250YWluZXJFbCA9IGN0eC4kY29udGFpbmVyRWwkO1xuICAgIGNvbnN0IHN0eWxlc1BhcmVudCA9XG4gICAgICBjdHguJGRvYyQuZG9jdW1lbnRFbGVtZW50ID09PSBjb250YWluZXJFbCA/IGN0eC4kZG9jJC5oZWFkID8/IGNvbnRhaW5lckVsIDogY29udGFpbmVyRWw7XG4gICAgY29uc3Qgc3R5bGUgPSBjdHguJGRvYyQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICBkaXJlY3RTZXRBdHRyaWJ1dGUoc3R5bGUsICdxOnN0eWxlJywgc3R5bGVUYXNrLnN0eWxlSWQpO1xuICAgIHN0eWxlLnRleHRDb250ZW50ID0gc3R5bGVUYXNrLmNvbnRlbnQ7XG4gICAgc3R5bGVzUGFyZW50Lmluc2VydEJlZm9yZShzdHlsZSwgc3R5bGVzUGFyZW50LmZpcnN0Q2hpbGQpO1xuICB9O1xuICBjdHguJG9wZXJhdGlvbnMkLnB1c2goe1xuICAgICRlbCQ6IGhvc3RFbGVtZW50LFxuICAgICRvcGVyYXRpb24kOiAnYXBwZW5kLXN0eWxlJyxcbiAgICAkYXJncyQ6IFtzdHlsZVRhc2tdLFxuICAgICRmbiQ6IGZuLFxuICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBoYXNTdHlsZSA9IChjdHg6IFJlbmRlckNvbnRleHQsIHN0eWxlSWQ6IHN0cmluZykgPT4ge1xuICBjb25zdCBjb250YWluZXJFbCA9IGN0eC4kY29udGFpbmVyRWwkO1xuICBjb25zdCBkb2MgPSBnZXREb2N1bWVudChjb250YWluZXJFbCk7XG4gIGNvbnN0IGhhc09wZXJhdGlvbiA9IGN0eC4kb3BlcmF0aW9ucyQuc29tZSgob3ApID0+IHtcbiAgICBpZiAob3AuJG9wZXJhdGlvbiQgPT09ICdhcHBlbmQtc3R5bGUnKSB7XG4gICAgICBjb25zdCBzID0gb3AuJGFyZ3MkWzBdO1xuICAgICAgaWYgKGlzU3R5bGVUYXNrKHMpKSB7XG4gICAgICAgIHJldHVybiBzLnN0eWxlSWQgPT09IHN0eWxlSWQ7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSk7XG4gIGlmIChoYXNPcGVyYXRpb24pIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBjb25zdCBzdHlsZXNQYXJlbnQgPSBkb2MuZG9jdW1lbnRFbGVtZW50ID09PSBjb250YWluZXJFbCA/IGRvYy5oZWFkID8/IGNvbnRhaW5lckVsIDogY29udGFpbmVyRWw7XG4gIHJldHVybiAhIXN0eWxlc1BhcmVudC5xdWVyeVNlbGVjdG9yKGBzdHlsZVtxXFxcXDpzdHlsZT1cIiR7c3R5bGVJZH1cIl1gKTtcbn07XG5cbmNvbnN0IHByZXBlbmQgPSAoY3R4OiBSZW5kZXJDb250ZXh0LCBwYXJlbnQ6IEVsZW1lbnQsIG5ld0NoaWxkOiBOb2RlKSA9PiB7XG4gIGNvbnN0IGZuID0gKCkgPT4ge1xuICAgIHBhcmVudC5pbnNlcnRCZWZvcmUobmV3Q2hpbGQsIHBhcmVudC5maXJzdENoaWxkKTtcbiAgfTtcbiAgY3R4LiRvcGVyYXRpb25zJC5wdXNoKHtcbiAgICAkZWwkOiBwYXJlbnQsXG4gICAgJG9wZXJhdGlvbiQ6ICdwcmVwZW5kJyxcbiAgICAkYXJncyQ6IFtuZXdDaGlsZF0sXG4gICAgJGZuJDogZm4sXG4gIH0pO1xufTtcblxuY29uc3QgcmVtb3ZlTm9kZSA9IChjdHg6IFJlbmRlckNvbnRleHQsIGVsOiBOb2RlKSA9PiB7XG4gIGNvbnN0IGZuID0gKCkgPT4ge1xuICAgIGNvbnN0IHBhcmVudCA9IGVsLnBhcmVudE5vZGU7XG4gICAgaWYgKHBhcmVudCkge1xuICAgICAgaWYgKGVsLm5vZGVUeXBlID09PSAxKSB7XG4gICAgICAgIGNsZWFudXBUcmVlKGVsIGFzIEVsZW1lbnQsIGN0eC4kY29udGFpbmVyU3RhdGUkLiRzdWJzTWFuYWdlciQpO1xuICAgICAgfVxuICAgICAgcGFyZW50LnJlbW92ZUNoaWxkKGVsKTtcbiAgICB9IGVsc2UgaWYgKHFEZXYpIHtcbiAgICAgIGxvZ1dhcm4oJ1RyeWluZyB0byByZW1vdmUgY29tcG9uZW50IGFscmVhZHkgcmVtb3ZlZCcsIGVsKTtcbiAgICB9XG4gIH07XG4gIGN0eC4kb3BlcmF0aW9ucyQucHVzaCh7XG4gICAgJGVsJDogZWwsXG4gICAgJG9wZXJhdGlvbiQ6ICdyZW1vdmUnLFxuICAgICRhcmdzJDogW10sXG4gICAgJGZuJDogZm4sXG4gIH0pO1xufTtcblxuZXhwb3J0IGNvbnN0IGNsZWFudXBUcmVlID0gKHBhcmVudDogRWxlbWVudCwgc3Vic01hbmFnZXI6IFN1YnNjcmlwdGlvbk1hbmFnZXIpID0+IHtcbiAgaWYgKHBhcmVudC5ub2RlTmFtZSA9PT0gJ1E6U0xPVCcpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKHBhcmVudC5oYXNBdHRyaWJ1dGUoUUhvc3RBdHRyKSkge1xuICAgIGNsZWFudXBFbGVtZW50KHBhcmVudCwgc3Vic01hbmFnZXIpO1xuICB9XG4gIGxldCBjaGlsZCA9IHBhcmVudC5maXJzdEVsZW1lbnRDaGlsZDtcbiAgd2hpbGUgKGNoaWxkKSB7XG4gICAgY2xlYW51cFRyZWUoY2hpbGQsIHN1YnNNYW5hZ2VyKTtcbiAgICBjaGlsZCA9IGNoaWxkLm5leHRFbGVtZW50U2libGluZztcbiAgfVxufTtcblxuY29uc3QgY2xlYW51cEVsZW1lbnQgPSAoZWw6IEVsZW1lbnQsIHN1YnNNYW5hZ2VyOiBTdWJzY3JpcHRpb25NYW5hZ2VyKSA9PiB7XG4gIGNvbnN0IGN0eCA9IHRyeUdldENvbnRleHQoZWwpO1xuICBpZiAoY3R4KSB7XG4gICAgY2xlYW51cENvbnRleHQoY3R4LCBzdWJzTWFuYWdlcik7XG4gIH1cbn07XG5cbmNvbnN0IGNyZWF0ZVRleHROb2RlID0gKGN0eDogUmVuZGVyQ29udGV4dCwgdGV4dDogc3RyaW5nKTogVGV4dCA9PiB7XG4gIHJldHVybiBjdHguJGRvYyQuY3JlYXRlVGV4dE5vZGUodGV4dCk7XG59O1xuXG5leHBvcnQgY29uc3QgZXhlY3V0ZUNvbnRleHRXaXRoU2xvdHMgPSAoY3R4OiBSZW5kZXJDb250ZXh0KSA9PiB7XG4gIGNvbnN0IGJlZm9yZSA9IGN0eC4kcm9vdHMkLm1hcCgoZWxtKSA9PiBnZXRTbG90cyh1bmRlZmluZWQsIGVsbSkpO1xuXG4gIGV4ZWN1dGVDb250ZXh0KGN0eCk7XG5cbiAgY29uc3QgYWZ0ZXIgPSBjdHguJHJvb3RzJC5tYXAoKGVsbSkgPT4gZ2V0U2xvdHModW5kZWZpbmVkLCBlbG0pKTtcbiAgYXNzZXJ0RXF1YWwoXG4gICAgYmVmb3JlLmxlbmd0aCxcbiAgICBhZnRlci5sZW5ndGgsXG4gICAgJ3JlbmRlcjogbnVtYmVyIG9mIHE6c2xvdHMgY2hhbmdlZCBkdXJpbmcgcmVuZGVyIGNvbnRleHQgZXhlY3V0aW9uJyxcbiAgICBiZWZvcmUsXG4gICAgYWZ0ZXJcbiAgKTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGJlZm9yZS5sZW5ndGg7IGkrKykge1xuICAgIHJlc29sdmVTbG90UHJvamVjdGlvbihjdHgsIGN0eC4kcm9vdHMkW2ldLCBiZWZvcmVbaV0sIGFmdGVyW2ldKTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGV4ZWN1dGVDb250ZXh0ID0gKGN0eDogUmVuZGVyQ29udGV4dCkgPT4ge1xuICBmb3IgKGNvbnN0IG9wIG9mIGN0eC4kb3BlcmF0aW9ucyQpIHtcbiAgICBvcC4kZm4kKCk7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBwcmludFJlbmRlclN0YXRzID0gKGN0eDogUmVuZGVyQ29udGV4dCkgPT4ge1xuICBpZiAocURldikge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuZG9jdW1lbnQgIT0gbnVsbCkge1xuICAgICAgY29uc3QgYnlPcDogUmVjb3JkPHN0cmluZywgbnVtYmVyPiA9IHt9O1xuICAgICAgZm9yIChjb25zdCBvcCBvZiBjdHguJG9wZXJhdGlvbnMkKSB7XG4gICAgICAgIGJ5T3Bbb3AuJG9wZXJhdGlvbiRdID0gKGJ5T3Bbb3AuJG9wZXJhdGlvbiRdID8/IDApICsgMTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGFmZmVjdGVkRWxlbWVudHMgPSBBcnJheS5mcm9tKG5ldyBTZXQoY3R4LiRvcGVyYXRpb25zJC5tYXAoKGEpID0+IGEuJGVsJCkpKTtcbiAgICAgIGNvbnN0IHN0YXRzID0ge1xuICAgICAgICBieU9wLFxuICAgICAgICByb290czogY3R4LiRyb290cyQsXG4gICAgICAgIGhvc3RFbGVtZW50czogQXJyYXkuZnJvbShjdHguJGhvc3RFbGVtZW50cyQpLFxuICAgICAgICBhZmZlY3RlZEVsZW1lbnRzLFxuICAgICAgICB2aXNpdGVkTm9kZXM6IGN0eC4kcGVyZiQuJHZpc2l0ZWQkLFxuICAgICAgICBvcGVyYXRpb25zOiBjdHguJG9wZXJhdGlvbnMkLm1hcCgodikgPT4gW3YuJG9wZXJhdGlvbiQsIHYuJGVsJCwgLi4udi4kYXJncyRdKSxcbiAgICAgIH07XG4gICAgICBjb25zdCBub09wcyA9IGN0eC4kb3BlcmF0aW9ucyQubGVuZ3RoID09PSAwO1xuICAgICAgbG9nRGVidWcoJ1JlbmRlciBzdGF0cy4nLCBub09wcyA/ICdObyBvcGVyYXRpb25zJyA6ICcnLCBzdGF0cyk7XG4gICAgfVxuICB9XG59O1xuXG5jb25zdCBjcmVhdGVLZXlUb09sZElkeCA9IChjaGlsZHJlbjogTm9kZVtdLCBiZWdpbklkeDogbnVtYmVyLCBlbmRJZHg6IG51bWJlcik6IEtleVRvSW5kZXhNYXAgPT4ge1xuICBjb25zdCBtYXA6IEtleVRvSW5kZXhNYXAgPSB7fTtcbiAgZm9yIChsZXQgaSA9IGJlZ2luSWR4OyBpIDw9IGVuZElkeDsgKytpKSB7XG4gICAgY29uc3QgY2hpbGQgPSBjaGlsZHJlbltpXTtcbiAgICBpZiAoY2hpbGQubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgIGNvbnN0IGtleSA9IGdldEtleShjaGlsZCBhcyBFbGVtZW50KTtcbiAgICAgIGlmIChrZXkgIT0gbnVsbCkge1xuICAgICAgICBtYXBba2V5IGFzIHN0cmluZ10gPSBpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gbWFwO1xufTtcblxuY29uc3QgS0VZX1NZTUJPTCA9IFN5bWJvbCgndm5vZGUga2V5Jyk7XG5cbmNvbnN0IGdldEtleSA9IChlbDogRWxlbWVudCk6IHN0cmluZyB8IG51bGwgPT4ge1xuICBsZXQga2V5ID0gKGVsIGFzIGFueSlbS0VZX1NZTUJPTF07XG4gIGlmIChrZXkgPT09IHVuZGVmaW5lZCkge1xuICAgIGtleSA9IChlbCBhcyBhbnkpW0tFWV9TWU1CT0xdID0gZGlyZWN0R2V0QXR0cmlidXRlKGVsLCAncTprZXknKTtcbiAgfVxuICByZXR1cm4ga2V5O1xufTtcblxuY29uc3Qgc2V0S2V5ID0gKGVsOiBFbGVtZW50LCBrZXk6IHN0cmluZyB8IG51bGwpID0+IHtcbiAgaWYgKGlzU3RyaW5nKGtleSkpIHtcbiAgICBkaXJlY3RTZXRBdHRyaWJ1dGUoZWwsICdxOmtleScsIGtleSk7XG4gIH1cbiAgKGVsIGFzIGFueSlbS0VZX1NZTUJPTF0gPSBrZXk7XG59O1xuXG5jb25zdCBzYW1lVm5vZGUgPSAoZWxtOiBOb2RlLCB2bm9kZTI6IFByb2Nlc3NlZEpTWE5vZGUpOiBib29sZWFuID0+IHtcbiAgY29uc3QgaXNFbGVtZW50ID0gZWxtLm5vZGVUeXBlID09PSAxO1xuICBjb25zdCB0eXBlID0gdm5vZGUyLiR0eXBlJDtcbiAgaWYgKGlzRWxlbWVudCkge1xuICAgIGNvbnN0IGlzU2FtZVNlbCA9IChlbG0gYXMgRWxlbWVudCkubG9jYWxOYW1lID09PSB0eXBlO1xuICAgIGlmICghaXNTYW1lU2VsKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBnZXRLZXkoZWxtIGFzIEVsZW1lbnQpID09PSB2bm9kZTIuJGtleSQ7XG4gIH1cbiAgcmV0dXJuIGVsbS5ub2RlTmFtZSA9PT0gdHlwZTtcbn07XG5cbmNvbnN0IGlzVGFnTmFtZSA9IChlbG06IE5vZGUsIHRhZ05hbWU6IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xuICBpZiAoZWxtLm5vZGVUeXBlID09PSAxKSB7XG4gICAgcmV0dXJuIChlbG0gYXMgRWxlbWVudCkubG9jYWxOYW1lID09PSB0YWdOYW1lO1xuICB9XG4gIHJldHVybiBlbG0ubm9kZU5hbWUgPT09IHRhZ05hbWU7XG59O1xuXG5jb25zdCBjaGVja0lubmVySFRNTCA9IChwcm9wczogUmVjb3JkPHN0cmluZywgYW55PiB8IHVuZGVmaW5lZCB8IG51bGwpID0+IHtcbiAgcmV0dXJuIHByb3BzICYmICgnaW5uZXJIVE1MJyBpbiBwcm9wcyB8fCBkYW5nZXJvdXNseVNldElubmVySFRNTCBpbiBwcm9wcyk7XG59O1xuXG5leHBvcnQgY29uc3Qgc3RyaW5naWZ5Q2xhc3NPclN0eWxlID0gKG9iajogYW55LCBpc0NsYXNzOiBib29sZWFuKTogc3RyaW5nID0+IHtcbiAgaWYgKG9iaiA9PSBudWxsKSByZXR1cm4gJyc7XG4gIGlmICh0eXBlb2Ygb2JqID09ICdvYmplY3QnKSB7XG4gICAgbGV0IHRleHQgPSAnJztcbiAgICBsZXQgc2VwID0gJyc7XG4gICAgaWYgKGlzQXJyYXkob2JqKSkge1xuICAgICAgaWYgKCFpc0NsYXNzKSB7XG4gICAgICAgIHRocm93IHFFcnJvcihRRXJyb3Jfc3RyaW5naWZ5Q2xhc3NPclN0eWxlLCBvYmosICdzdHlsZScpO1xuICAgICAgfVxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvYmoubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGV4dCArPSBzZXAgKyBvYmpbaV07XG4gICAgICAgIHNlcCA9ICcgJztcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZm9yIChjb25zdCBrZXkgaW4gb2JqKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7XG4gICAgICAgICAgY29uc3QgdmFsdWUgPSBvYmpba2V5XTtcblxuICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgdGV4dCArPSBpc0NsYXNzXG4gICAgICAgICAgICAgID8gdmFsdWVcbiAgICAgICAgICAgICAgICA/IHNlcCArIGtleVxuICAgICAgICAgICAgICAgIDogJydcbiAgICAgICAgICAgICAgOiBzZXAgKyBmcm9tQ2FtZWxUb0tlYmFiQ2FzZShrZXkpICsgJzonICsgdmFsdWU7XG4gICAgICAgICAgICBzZXAgPSBpc0NsYXNzID8gJyAnIDogJzsnO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGV4dDtcbiAgfVxuICByZXR1cm4gU3RyaW5nKG9iaik7XG59O1xuIl19","import { assertDefined, assertTrue } from '../assert/assert';\nimport { parseQRL } from '../import/qrl';\nimport { getContext, resumeIfNeeded } from '../props/props';\nimport { getContainer, getInvokeContext } from './use-core';\nimport { assertQrl } from '../import/qrl-class';\n// <docs markdown=\"../readme.md#useLexicalScope\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useLexicalScope instead)\n/**\n * Used by the Qwik Optimizer to restore the lexically scoped variables.\n *\n * This method should not be present in the application source code.\n *\n * NOTE: `useLexicalScope` method can only be used in the synchronous portion of the callback\n * (before any `await` statements.)\n *\n * @public\n */\n// </docs>\nexport const useLexicalScope = () => {\n    const context = getInvokeContext();\n    const hostElement = context.$hostElement$;\n    const qrl = context.$qrl$ ?? parseQRL(decodeURIComponent(String(context.$url$)), hostElement);\n    assertQrl(qrl);\n    if (qrl.$captureRef$ == null) {\n        const el = context.$element$;\n        assertDefined(el, 'invoke: element must be defined inside useLexicalScope()', context);\n        assertDefined(qrl.$capture$, 'invoke: qrl capture must be defined inside useLexicalScope()', qrl);\n        const container = getContainer(el);\n        assertDefined(container, `invoke: cant find parent q:container of`, el);\n        resumeIfNeeded(container);\n        const ctx = getContext(el);\n        qrl.$captureRef$ = qrl.$capture$.map((idx) => qInflate(idx, ctx));\n    }\n    const subscriber = context.$subscriber$;\n    if (subscriber) {\n        return qrl.$captureRef$;\n    }\n    return qrl.$captureRef$;\n};\nconst qInflate = (ref, hostCtx) => {\n    const int = parseInt(ref, 10);\n    const obj = hostCtx.$refMap$.$get$(int);\n    assertTrue(hostCtx.$refMap$.$array$.length > int, 'out of bounds infrate access', ref);\n    return obj;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLWxleGljYWwtc2NvcGUucHVibGljLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3VzZS91c2UtbGV4aWNhbC1zY29wZS5wdWJsaWMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGFBQWEsRUFBRSxVQUFVLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUM3RCxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ3pDLE9BQU8sRUFBRSxVQUFVLEVBQVksY0FBYyxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDdEUsT0FBTyxFQUFFLFlBQVksRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLFlBQVksQ0FBQztBQUM1RCxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFFaEQsaURBQWlEO0FBQ2pELHlDQUF5QztBQUN6Qyw4Q0FBOEM7QUFDOUM7Ozs7Ozs7OztHQVNHO0FBQ0gsVUFBVTtBQUNWLE1BQU0sQ0FBQyxNQUFNLGVBQWUsR0FBRyxHQUE2QixFQUFFO0lBQzVELE1BQU0sT0FBTyxHQUFHLGdCQUFnQixFQUFFLENBQUM7SUFDbkMsTUFBTSxXQUFXLEdBQUcsT0FBTyxDQUFDLGFBQWEsQ0FBQztJQUMxQyxNQUFNLEdBQUcsR0FBRyxPQUFPLENBQUMsS0FBSyxJQUFJLFFBQVEsQ0FBQyxrQkFBa0IsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsV0FBVyxDQUFDLENBQUM7SUFDOUYsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBRWYsSUFBSSxHQUFHLENBQUMsWUFBWSxJQUFJLElBQUksRUFBRTtRQUM1QixNQUFNLEVBQUUsR0FBRyxPQUFPLENBQUMsU0FBUyxDQUFDO1FBQzdCLGFBQWEsQ0FBQyxFQUFFLEVBQUUsMERBQTBELEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDdkYsYUFBYSxDQUNYLEdBQUcsQ0FBQyxTQUFTLEVBQ2IsOERBQThELEVBQzlELEdBQUcsQ0FDSixDQUFDO1FBRUYsTUFBTSxTQUFTLEdBQUcsWUFBWSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ25DLGFBQWEsQ0FBQyxTQUFTLEVBQUUseUNBQXlDLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFFeEUsY0FBYyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQzFCLE1BQU0sR0FBRyxHQUFHLFVBQVUsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUUzQixHQUFHLENBQUMsWUFBWSxHQUFHLEdBQUcsQ0FBQyxTQUFVLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxFQUFFLEVBQUUsQ0FBQyxRQUFRLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUM7S0FDcEU7SUFDRCxNQUFNLFVBQVUsR0FBRyxPQUFPLENBQUMsWUFBWSxDQUFDO0lBQ3hDLElBQUksVUFBVSxFQUFFO1FBQ2QsT0FBTyxHQUFHLENBQUMsWUFBb0IsQ0FBQztLQUNqQztJQUNELE9BQU8sR0FBRyxDQUFDLFlBQW9CLENBQUM7QUFDbEMsQ0FBQyxDQUFDO0FBRUYsTUFBTSxRQUFRLEdBQUcsQ0FBQyxHQUFXLEVBQUUsT0FBaUIsRUFBRSxFQUFFO0lBQ2xELE1BQU0sR0FBRyxHQUFHLFFBQVEsQ0FBQyxHQUFHLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDOUIsTUFBTSxHQUFHLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDeEMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLE1BQU0sR0FBRyxHQUFHLEVBQUUsOEJBQThCLEVBQUUsR0FBRyxDQUFDLENBQUM7SUFDdkYsT0FBTyxHQUFHLENBQUM7QUFDYixDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhc3NlcnREZWZpbmVkLCBhc3NlcnRUcnVlIH0gZnJvbSAnLi4vYXNzZXJ0L2Fzc2VydCc7XG5pbXBvcnQgeyBwYXJzZVFSTCB9IGZyb20gJy4uL2ltcG9ydC9xcmwnO1xuaW1wb3J0IHsgZ2V0Q29udGV4dCwgUUNvbnRleHQsIHJlc3VtZUlmTmVlZGVkIH0gZnJvbSAnLi4vcHJvcHMvcHJvcHMnO1xuaW1wb3J0IHsgZ2V0Q29udGFpbmVyLCBnZXRJbnZva2VDb250ZXh0IH0gZnJvbSAnLi91c2UtY29yZSc7XG5pbXBvcnQgeyBhc3NlcnRRcmwgfSBmcm9tICcuLi9pbXBvcnQvcXJsLWNsYXNzJztcblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi9yZWFkbWUubWQjdXNlTGV4aWNhbFNjb3BlXCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi4vcmVhZG1lLm1kI3VzZUxleGljYWxTY29wZSBpbnN0ZWFkKVxuLyoqXG4gKiBVc2VkIGJ5IHRoZSBRd2lrIE9wdGltaXplciB0byByZXN0b3JlIHRoZSBsZXhpY2FsbHkgc2NvcGVkIHZhcmlhYmxlcy5cbiAqXG4gKiBUaGlzIG1ldGhvZCBzaG91bGQgbm90IGJlIHByZXNlbnQgaW4gdGhlIGFwcGxpY2F0aW9uIHNvdXJjZSBjb2RlLlxuICpcbiAqIE5PVEU6IGB1c2VMZXhpY2FsU2NvcGVgIG1ldGhvZCBjYW4gb25seSBiZSB1c2VkIGluIHRoZSBzeW5jaHJvbm91cyBwb3J0aW9uIG9mIHRoZSBjYWxsYmFja1xuICogKGJlZm9yZSBhbnkgYGF3YWl0YCBzdGF0ZW1lbnRzLilcbiAqXG4gKiBAcHVibGljXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBjb25zdCB1c2VMZXhpY2FsU2NvcGUgPSA8VkFSUyBleHRlbmRzIGFueVtdPigpOiBWQVJTID0+IHtcbiAgY29uc3QgY29udGV4dCA9IGdldEludm9rZUNvbnRleHQoKTtcbiAgY29uc3QgaG9zdEVsZW1lbnQgPSBjb250ZXh0LiRob3N0RWxlbWVudCQ7XG4gIGNvbnN0IHFybCA9IGNvbnRleHQuJHFybCQgPz8gcGFyc2VRUkwoZGVjb2RlVVJJQ29tcG9uZW50KFN0cmluZyhjb250ZXh0LiR1cmwkKSksIGhvc3RFbGVtZW50KTtcbiAgYXNzZXJ0UXJsKHFybCk7XG5cbiAgaWYgKHFybC4kY2FwdHVyZVJlZiQgPT0gbnVsbCkge1xuICAgIGNvbnN0IGVsID0gY29udGV4dC4kZWxlbWVudCQ7XG4gICAgYXNzZXJ0RGVmaW5lZChlbCwgJ2ludm9rZTogZWxlbWVudCBtdXN0IGJlIGRlZmluZWQgaW5zaWRlIHVzZUxleGljYWxTY29wZSgpJywgY29udGV4dCk7XG4gICAgYXNzZXJ0RGVmaW5lZChcbiAgICAgIHFybC4kY2FwdHVyZSQsXG4gICAgICAnaW52b2tlOiBxcmwgY2FwdHVyZSBtdXN0IGJlIGRlZmluZWQgaW5zaWRlIHVzZUxleGljYWxTY29wZSgpJyxcbiAgICAgIHFybFxuICAgICk7XG5cbiAgICBjb25zdCBjb250YWluZXIgPSBnZXRDb250YWluZXIoZWwpO1xuICAgIGFzc2VydERlZmluZWQoY29udGFpbmVyLCBgaW52b2tlOiBjYW50IGZpbmQgcGFyZW50IHE6Y29udGFpbmVyIG9mYCwgZWwpO1xuXG4gICAgcmVzdW1lSWZOZWVkZWQoY29udGFpbmVyKTtcbiAgICBjb25zdCBjdHggPSBnZXRDb250ZXh0KGVsKTtcblxuICAgIHFybC4kY2FwdHVyZVJlZiQgPSBxcmwuJGNhcHR1cmUkIS5tYXAoKGlkeCkgPT4gcUluZmxhdGUoaWR4LCBjdHgpKTtcbiAgfVxuICBjb25zdCBzdWJzY3JpYmVyID0gY29udGV4dC4kc3Vic2NyaWJlciQ7XG4gIGlmIChzdWJzY3JpYmVyKSB7XG4gICAgcmV0dXJuIHFybC4kY2FwdHVyZVJlZiQgYXMgVkFSUztcbiAgfVxuICByZXR1cm4gcXJsLiRjYXB0dXJlUmVmJCBhcyBWQVJTO1xufTtcblxuY29uc3QgcUluZmxhdGUgPSAocmVmOiBzdHJpbmcsIGhvc3RDdHg6IFFDb250ZXh0KSA9PiB7XG4gIGNvbnN0IGludCA9IHBhcnNlSW50KHJlZiwgMTApO1xuICBjb25zdCBvYmogPSBob3N0Q3R4LiRyZWZNYXAkLiRnZXQkKGludCk7XG4gIGFzc2VydFRydWUoaG9zdEN0eC4kcmVmTWFwJC4kYXJyYXkkLmxlbmd0aCA+IGludCwgJ291dCBvZiBib3VuZHMgaW5mcmF0ZSBhY2Nlc3MnLCByZWYpO1xuICByZXR1cm4gb2JqO1xufTtcbiJdfQ==","import { assertDefined } from '../assert/assert';\nimport { QContainerAttr, QHostAttr } from '../util/markers';\nimport { createRenderContext, executeContextWithSlots, printRenderStats, } from './cursor';\nimport { getContext, resumeIfNeeded } from '../props/props';\nimport { qDev, qTest } from '../util/qdev';\nimport { getPlatform } from '../platform/platform';\nimport { getDocument } from '../util/dom';\nimport { renderComponent } from './render-component';\nimport { logError, logWarn } from '../util/log';\nimport { getContainer } from '../use/use-core';\nimport { runSubscriber, WatchFlagsIsDirty, WatchFlagsIsEffect, WatchFlagsIsResource, WatchFlagsIsWatch, } from '../use/use-watch';\nimport { createSubscriptionManager } from '../object/q-object';\nimport { then } from '../util/promises';\nimport { codeToText, QError_errorWhileRendering } from '../error/error';\nimport { directGetAttribute } from './fast-calls';\nimport { useLexicalScope } from '../use/use-lexical-scope.public';\nimport { isElement } from '../util/element';\nconst CONTAINER_STATE = Symbol('ContainerState');\nexport const getContainerState = (containerEl) => {\n    let set = containerEl[CONTAINER_STATE];\n    if (!set) {\n        containerEl[CONTAINER_STATE] = set = {\n            $proxyMap$: new WeakMap(),\n            $subsManager$: createSubscriptionManager(),\n            $platform$: getPlatform(containerEl),\n            $watchNext$: new Set(),\n            $watchStaging$: new Set(),\n            $hostsNext$: new Set(),\n            $hostsStaging$: new Set(),\n            $renderPromise$: undefined,\n            $hostsRendering$: undefined,\n        };\n    }\n    return set;\n};\nexport const notifyChange = (subscriber) => {\n    if (isElement(subscriber)) {\n        notifyRender(subscriber);\n    }\n    else {\n        notifyWatch(subscriber);\n    }\n};\n/**\n * Mark component for rendering.\n *\n * Use `notifyRender` method to mark a component for rendering at some later point in time.\n * This method uses `getPlatform(doc).queueRender` for scheduling of the rendering. The\n * default implementation of the method is to use `requestAnimationFrame` to do actual rendering.\n *\n * The method is intended to coalesce multiple calls into `notifyRender` into a single call for\n * rendering.\n *\n * @param hostElement - Host-element of the component to re-render.\n * @returns A promise which is resolved when the component has been rendered.\n * @public\n */\nconst notifyRender = (hostElement) => {\n    assertDefined(directGetAttribute(hostElement, QHostAttr), 'render: notified element must be a component', hostElement);\n    const containerEl = getContainer(hostElement);\n    assertDefined(containerEl, 'render: host element need to be inside a q:container', hostElement);\n    const state = getContainerState(containerEl);\n    if (qDev &&\n        !qTest &&\n        state.$platform$.isServer &&\n        directGetAttribute(containerEl, QContainerAttr) === 'paused') {\n        logWarn('Can not rerender in server platform');\n        return undefined;\n    }\n    resumeIfNeeded(containerEl);\n    const ctx = getContext(hostElement);\n    assertDefined(ctx.$renderQrl$, `render: notified host element must have a defined $renderQrl$`, ctx);\n    if (ctx.$dirty$) {\n        return;\n    }\n    ctx.$dirty$ = true;\n    const activeRendering = state.$hostsRendering$ !== undefined;\n    if (activeRendering) {\n        assertDefined(state.$renderPromise$, 'render: while rendering, $renderPromise$ must be defined', state);\n        state.$hostsStaging$.add(hostElement);\n    }\n    else {\n        state.$hostsNext$.add(hostElement);\n        scheduleFrame(containerEl, state);\n    }\n};\nconst notifyWatch = (watch) => {\n    if (watch.f & WatchFlagsIsDirty) {\n        return;\n    }\n    watch.f |= WatchFlagsIsDirty;\n    const containerEl = getContainer(watch.el);\n    const state = getContainerState(containerEl);\n    const activeRendering = state.$hostsRendering$ !== undefined;\n    if (activeRendering) {\n        assertDefined(state.$renderPromise$, 'render: while rendering, $renderPromise$ must be defined', state);\n        state.$watchStaging$.add(watch);\n    }\n    else {\n        state.$watchNext$.add(watch);\n        scheduleFrame(containerEl, state);\n    }\n};\nconst scheduleFrame = (containerEl, containerState) => {\n    if (containerState.$renderPromise$ === undefined) {\n        containerState.$renderPromise$ = containerState.$platform$.nextTick(() => renderMarked(containerEl, containerState));\n    }\n    return containerState.$renderPromise$;\n};\n/**\n * Low-level API used by the Optimizer to process `useWatch$()` API. This method\n * is not intended to be used by developers.\n * @alpha\n */\nexport const handleWatch = () => {\n    const [watch] = useLexicalScope();\n    notifyWatch(watch);\n};\nconst renderMarked = async (containerEl, containerState) => {\n    const hostsRendering = (containerState.$hostsRendering$ = new Set(containerState.$hostsNext$));\n    containerState.$hostsNext$.clear();\n    await executeWatchesBefore(containerState);\n    containerState.$hostsStaging$.forEach((host) => {\n        hostsRendering.add(host);\n    });\n    containerState.$hostsStaging$.clear();\n    const doc = getDocument(containerEl);\n    const platform = containerState.$platform$;\n    const renderingQueue = Array.from(hostsRendering);\n    sortNodes(renderingQueue);\n    const ctx = createRenderContext(doc, containerState, containerEl);\n    for (const el of renderingQueue) {\n        if (!ctx.$hostElements$.has(el)) {\n            ctx.$roots$.push(el);\n            try {\n                await renderComponent(ctx, getContext(el));\n            }\n            catch (e) {\n                logError(codeToText(QError_errorWhileRendering), e);\n            }\n        }\n    }\n    // Early exist, no dom operations\n    if (ctx.$operations$.length === 0) {\n        printRenderStats(ctx);\n        postRendering(containerEl, containerState, ctx);\n        return ctx;\n    }\n    return platform.raf(() => {\n        executeContextWithSlots(ctx);\n        printRenderStats(ctx);\n        postRendering(containerEl, containerState, ctx);\n        return ctx;\n    });\n};\nexport const postRendering = async (containerEl, containerState, ctx) => {\n    await executeWatchesAfter(containerState, (watch, stage) => {\n        if ((watch.f & WatchFlagsIsEffect) === 0) {\n            return false;\n        }\n        if (stage) {\n            return ctx.$hostElements$.has(watch.el);\n        }\n        return true;\n    });\n    // Clear staging\n    containerState.$hostsStaging$.forEach((el) => {\n        containerState.$hostsNext$.add(el);\n    });\n    containerState.$hostsStaging$.clear();\n    containerState.$hostsRendering$ = undefined;\n    containerState.$renderPromise$ = undefined;\n    if (containerState.$hostsNext$.size + containerState.$watchNext$.size > 0) {\n        scheduleFrame(containerEl, containerState);\n    }\n};\nconst executeWatchesBefore = async (containerState) => {\n    const resourcesPromises = [];\n    const watchPromises = [];\n    const isWatch = (watch) => (watch.f & WatchFlagsIsWatch) !== 0;\n    const isResource = (watch) => (watch.f & WatchFlagsIsResource) !== 0;\n    containerState.$watchNext$.forEach((watch) => {\n        if (isWatch(watch)) {\n            watchPromises.push(then(watch.qrl.$resolveLazy$(watch.el), () => watch));\n            containerState.$watchNext$.delete(watch);\n        }\n        if (isResource(watch)) {\n            resourcesPromises.push(then(watch.qrl.$resolveLazy$(watch.el), () => watch));\n            containerState.$watchNext$.delete(watch);\n        }\n    });\n    do {\n        // Run staging effected\n        containerState.$watchStaging$.forEach((watch) => {\n            if (isWatch(watch)) {\n                watchPromises.push(then(watch.qrl.$resolveLazy$(watch.el), () => watch));\n            }\n            else if (isResource(watch)) {\n                resourcesPromises.push(then(watch.qrl.$resolveLazy$(watch.el), () => watch));\n            }\n            else {\n                containerState.$watchNext$.add(watch);\n            }\n        });\n        containerState.$watchStaging$.clear();\n        // Wait for all promises\n        if (watchPromises.length > 0) {\n            const watches = await Promise.all(watchPromises);\n            sortWatches(watches);\n            await Promise.all(watches.map((watch) => {\n                return runSubscriber(watch, containerState);\n            }));\n            watchPromises.length = 0;\n        }\n    } while (containerState.$watchStaging$.size > 0);\n    if (resourcesPromises.length > 0) {\n        const resources = await Promise.all(resourcesPromises);\n        sortWatches(resources);\n        resources.forEach((watch) => runSubscriber(watch, containerState));\n    }\n};\nconst executeWatchesAfter = async (containerState, watchPred) => {\n    const watchPromises = [];\n    containerState.$watchNext$.forEach((watch) => {\n        if (watchPred(watch, false)) {\n            watchPromises.push(then(watch.qrl.$resolveLazy$(watch.el), () => watch));\n            containerState.$watchNext$.delete(watch);\n        }\n    });\n    do {\n        // Run staging effected\n        containerState.$watchStaging$.forEach((watch) => {\n            if (watchPred(watch, true)) {\n                watchPromises.push(then(watch.qrl.$resolveLazy$(watch.el), () => watch));\n            }\n            else {\n                containerState.$watchNext$.add(watch);\n            }\n        });\n        containerState.$watchStaging$.clear();\n        // Wait for all promises\n        if (watchPromises.length > 0) {\n            const watches = await Promise.all(watchPromises);\n            sortWatches(watches);\n            await Promise.all(watches.map((watch) => {\n                return runSubscriber(watch, containerState);\n            }));\n            watchPromises.length = 0;\n        }\n    } while (containerState.$watchStaging$.size > 0);\n};\nconst sortNodes = (elements) => {\n    elements.sort((a, b) => (a.compareDocumentPosition(b) & 2 ? 1 : -1));\n};\nconst sortWatches = (watches) => {\n    watches.sort((a, b) => {\n        if (a.el === b.el) {\n            return a.i < b.i ? -1 : 1;\n        }\n        return (a.el.compareDocumentPosition(b.el) & 2) !== 0 ? 1 : -1;\n    });\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm90aWZ5LXJlbmRlci5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9yZW5kZXIvbm90aWZ5LXJlbmRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDakQsT0FBTyxFQUFFLGNBQWMsRUFBRSxTQUFTLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUM1RCxPQUFPLEVBQ0wsbUJBQW1CLEVBQ25CLHVCQUF1QixFQUN2QixnQkFBZ0IsR0FFakIsTUFBTSxVQUFVLENBQUM7QUFDbEIsT0FBTyxFQUFFLFVBQVUsRUFBRSxjQUFjLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUM1RCxPQUFPLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxNQUFNLGNBQWMsQ0FBQztBQUMzQyxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFDbkQsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUMxQyxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFDckQsT0FBTyxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFDaEQsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQy9DLE9BQU8sRUFDTCxhQUFhLEVBRWIsaUJBQWlCLEVBQ2pCLGtCQUFrQixFQUNsQixvQkFBb0IsRUFDcEIsaUJBQWlCLEdBQ2xCLE1BQU0sa0JBQWtCLENBQUM7QUFDMUIsT0FBTyxFQUFFLHlCQUF5QixFQUFzQyxNQUFNLG9CQUFvQixDQUFDO0FBQ25HLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUd4QyxPQUFPLEVBQUUsVUFBVSxFQUFFLDBCQUEwQixFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDeEUsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1B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Q0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLHVCQUF1QixDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDdkUsQ0FBQyxDQUFDO0FBRUYsTUFBTSxXQUFXLEdBQUcsQ0FBQyxPQUErQixFQUFFLEVBQUU7SUFDdEQsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRTtRQUNwQixJQUFJLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDLEVBQUUsRUFBRTtZQUNqQixPQUFPLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUMzQjtRQUNELE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLHVCQUF1QixDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDakUsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhc3NlcnREZWZpbmVkIH0gZnJvbSAnLi4vYXNzZXJ0L2Fzc2VydCc7XG5pbXBvcnQgeyBRQ29udGFpbmVyQXR0ciwgUUhvc3RBdHRyIH0gZnJvbSAnLi4vdXRpbC9tYXJrZXJzJztcbmltcG9ydCB7XG4gIGNyZWF0ZVJlbmRlckNvbnRleHQsXG4gIGV4ZWN1dGVDb250ZXh0V2l0aFNsb3RzLFxuICBwcmludFJlbmRlclN0YXRzLFxuICBSZW5kZXJDb250ZXh0LFxufSBmcm9tICcuL2N1cnNvcic7XG5pbXBvcnQgeyBnZXRDb250ZXh0LCByZXN1bWVJZk5lZWRlZCB9IGZyb20gJy4uL3Byb3BzL3Byb3BzJztcbmltcG9ydCB7IHFEZXYsIHFUZXN0IH0gZnJvbSAnLi4vdXRpbC9xZGV2JztcbmltcG9ydCB7IGdldFBsYXRmb3JtIH0gZnJvbSAnLi4vcGxhdGZvcm0vcGxhdGZvcm0nO1xuaW1wb3J0IHsgZ2V0RG9jdW1lbnQgfSBmcm9tICcuLi91dGlsL2RvbSc7XG5pbXBvcnQgeyByZW5kZXJDb21wb25lbnQgfSBmcm9tICcuL3JlbmRlci1jb21wb25lbnQnO1xuaW1wb3J0IHsgbG9nRXJyb3IsIGxvZ1dhcm4gfSBmcm9tICcuLi91dGlsL2xvZyc7XG5pbXBvcnQgeyBnZXRDb250YWluZXIgfSBmcm9tICcuLi91c2UvdXNlLWNvcmUnO1xuaW1wb3J0IHtcbiAgcnVuU3Vic2NyaWJlcixcbiAgU3Vic2NyaWJlckRlc2NyaXB0b3IsXG4gIFdhdGNoRmxhZ3NJc0RpcnR5LFxuICBXYXRjaEZsYWdzSXNFZmZlY3QsXG4gIFdhdGNoRmxhZ3NJc1Jlc291cmNlLFxuICBXYXRjaEZsYWdzSXNXYXRjaCxcbn0gZnJvbSAnLi4vdXNlL3VzZS13YXRjaCc7XG5pbXBvcnQgeyBjcmVhdGVTdWJzY3JpcHRpb25NYW5hZ2VyLCBPYmpUb1Byb3h5TWFwLCBTdWJzY3JpcHRpb25NYW5hZ2VyIH0gZnJvbSAnLi4vb2JqZWN0L3Etb2JqZWN0JztcbmltcG9ydCB7IHRoZW4gfSBmcm9tICcuLi91dGlsL3Byb21pc2VzJztcbmltcG9ydCB0eXBlIHsgVmFsdWVPclByb21pc2UgfSBmcm9tICcuLi91dGlsL3R5cGVzJztcbmltcG9ydCB0eXBlIHsgQ29yZVBsYXRmb3JtIH0gZnJvbSAnLi4vcGxhdGZvcm0vdHlwZXMnO1xuaW1wb3J0IHsgY29kZVRvVGV4dCwgUUVycm9yX2Vycm9yV2hpbGVSZW5kZXJpbmcgfSBmcm9tICcuLi9lcnJvci9lcnJvcic7XG5pbXBvcnQgeyBkaXJlY3RHZXRBdHRyaWJ1dGUgfSBmcm9tICcuL2Zhc3QtY2FsbHMnO1xuaW1wb3J0IHsgdXNlTGV4aWNhbFNjb3BlIH0gZnJvbSAnLi4vdXNlL3VzZS1sZXhpY2FsLXNjb3BlLnB1YmxpYyc7XG5pbXBvcnQgdHlwZSB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi91c2UvdXNlLXN1YnNjcmliZXInO1xuaW1wb3J0IHsgaXNFbGVtZW50IH0gZnJvbSAnLi4vdXRpbC9lbGVtZW50JztcblxuLyoqXG4gKiBAYWxwaGFcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDb250YWluZXJTdGF0ZSB7XG4gICRwcm94eU1hcCQ6IE9ialRvUHJveHlNYXA7XG4gICRzdWJzTWFuYWdlciQ6IFN1YnNjcmlwdGlvbk1hbmFnZXI7XG4gICRwbGF0Zm9ybSQ6IENvcmVQbGF0Zm9ybTtcblxuICAkd2F0Y2hOZXh0JDogU2V0PFN1YnNjcmliZXJEZXNjcmlwdG9yPjtcbiAgJHdhdGNoU3RhZ2luZyQ6IFNldDxTdWJzY3JpYmVyRGVzY3JpcHRvcj47XG5cbiAgJGhvc3RzTmV4dCQ6IFNldDxFbGVtZW50PjtcbiAgJGhvc3RzU3RhZ2luZyQ6IFNldDxFbGVtZW50PjtcbiAgJGhvc3RzUmVuZGVyaW5nJDogU2V0PEVsZW1lbnQ+IHwgdW5kZWZpbmVkO1xuICAkcmVuZGVyUHJvbWlzZSQ6IFByb21pc2U8UmVuZGVyQ29udGV4dD4gfCB1bmRlZmluZWQ7XG59XG5cbmNvbnN0IENPTlRBSU5FUl9TVEFURSA9IFN5bWJvbCgnQ29udGFpbmVyU3RhdGUnKTtcblxuZXhwb3J0IGNvbnN0IGdldENvbnRhaW5lclN0YXRlID0gKGNvbnRhaW5lckVsOiBFbGVtZW50KTogQ29udGFpbmVyU3RhdGUgPT4ge1xuICBsZXQgc2V0ID0gKGNvbnRhaW5lckVsIGFzIGFueSlbQ09OVEFJTkVSX1NUQVRFXSBhcyBDb250YWluZXJTdGF0ZTtcbiAgaWYgKCFzZXQpIHtcbiAgICAoY29udGFpbmVyRWwgYXMgYW55KVtDT05UQUlORVJfU1RBVEVdID0gc2V0ID0ge1xuICAgICAgJHByb3h5TWFwJDogbmV3IFdlYWtNYXAoKSxcbiAgICAgICRzdWJzTWFuYWdlciQ6IGNyZWF0ZVN1YnNjcmlwdGlvbk1hbmFnZXIoKSxcbiAgICAgICRwbGF0Zm9ybSQ6IGdldFBsYXRmb3JtKGNvbnRhaW5lckVsKSxcblxuICAgICAgJHdhdGNoTmV4dCQ6IG5ldyBTZXQoKSxcbiAgICAgICR3YXRjaFN0YWdpbmckOiBuZXcgU2V0KCksXG5cbiAgICAgICRob3N0c05leHQkOiBuZXcgU2V0KCksXG4gICAgICAkaG9zdHNTdGFnaW5nJDogbmV3IFNldCgpLFxuICAgICAgJHJlbmRlclByb21pc2UkOiB1bmRlZmluZWQsXG4gICAgICAkaG9zdHNSZW5kZXJpbmckOiB1bmRlZmluZWQsXG4gICAgfTtcbiAgfVxuICByZXR1cm4gc2V0O1xufTtcblxuZXhwb3J0IGNvbnN0IG5vdGlmeUNoYW5nZSA9IChzdWJzY3JpYmVyOiBTdWJzY3JpYmVyKSA9PiB7XG4gIGlmIChpc0VsZW1lbnQoc3Vic2NyaWJlcikpIHtcbiAgICBub3RpZnlSZW5kZXIoc3Vic2NyaWJlcik7XG4gIH0gZWxzZSB7XG4gICAgbm90aWZ5V2F0Y2goc3Vic2NyaWJlcik7XG4gIH1cbn07XG5cbi8qKlxuICogTWFyayBjb21wb25lbnQgZm9yIHJlbmRlcmluZy5cbiAqXG4gKiBVc2UgYG5vdGlmeVJlbmRlcmAgbWV0aG9kIHRvIG1hcmsgYSBjb21wb25lbnQgZm9yIHJlbmRlcmluZyBhdCBzb21lIGxhdGVyIHBvaW50IGluIHRpbWUuXG4gKiBUaGlzIG1ldGhvZCB1c2VzIGBnZXRQbGF0Zm9ybShkb2MpLnF1ZXVlUmVuZGVyYCBmb3Igc2NoZWR1bGluZyBvZiB0aGUgcmVuZGVyaW5nLiBUaGVcbiAqIGRlZmF1bHQgaW1wbGVtZW50YXRpb24gb2YgdGhlIG1ldGhvZCBpcyB0byB1c2UgYHJlcXVlc3RBbmltYXRpb25GcmFtZWAgdG8gZG8gYWN0dWFsIHJlbmRlcmluZy5cbiAqXG4gKiBUaGUgbWV0aG9kIGlzIGludGVuZGVkIHRvIGNvYWxlc2NlIG11bHRpcGxlIGNhbGxzIGludG8gYG5vdGlmeVJlbmRlcmAgaW50byBhIHNpbmdsZSBjYWxsIGZvclxuICogcmVuZGVyaW5nLlxuICpcbiAqIEBwYXJhbSBob3N0RWxlbWVudCAtIEhvc3QtZWxlbWVudCBvZiB0aGUgY29tcG9uZW50IHRvIHJlLXJlbmRlci5cbiAqIEByZXR1cm5zIEEgcHJvbWlzZSB3aGljaCBpcyByZXNvbHZlZCB3aGVuIHRoZSBjb21wb25lbnQgaGFzIGJlZW4gcmVuZGVyZWQuXG4gKiBAcHVibGljXG4gKi9cbmNvbnN0IG5vdGlmeVJlbmRlciA9IChob3N0RWxlbWVudDogRWxlbWVudCk6IHZvaWQgPT4ge1xuICBhc3NlcnREZWZpbmVkKFxuICAgIGRpcmVjdEdldEF0dHJpYnV0ZShob3N0RWxlbWVudCwgUUhvc3RBdHRyKSxcbiAgICAncmVuZGVyOiBub3RpZmllZCBlbGVtZW50IG11c3QgYmUgYSBjb21wb25lbnQnLFxuICAgIGhvc3RFbGVtZW50XG4gICk7XG5cbiAgY29uc3QgY29udGFpbmVyRWwgPSBnZXRDb250YWluZXIoaG9zdEVsZW1lbnQpO1xuICBhc3NlcnREZWZpbmVkKGNvbnRhaW5lckVsLCAncmVuZGVyOiBob3N0IGVsZW1lbnQgbmVlZCB0byBiZSBpbnNpZGUgYSBxOmNvbnRhaW5lcicsIGhvc3RFbGVtZW50KTtcblxuICBjb25zdCBzdGF0ZSA9IGdldENvbnRhaW5lclN0YXRlKGNvbnRhaW5lckVsKTtcbiAgaWYgKFxuICAgIHFEZXYgJiZcbiAgICAhcVRlc3QgJiZcbiAgICBzdGF0ZS4kcGxhdGZvcm0kLmlzU2VydmVyICYmXG4gICAgZGlyZWN0R2V0QXR0cmlidXRlKGNvbnRhaW5lckVsLCBRQ29udGFpbmVyQXR0cikgPT09ICdwYXVzZWQnXG4gICkge1xuICAgIGxvZ1dhcm4oJ0NhbiBub3QgcmVyZW5kZXIgaW4gc2VydmVyIHBsYXRmb3JtJyk7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuICByZXN1bWVJZk5lZWRlZChjb250YWluZXJFbCk7XG5cbiAgY29uc3QgY3R4ID0gZ2V0Q29udGV4dChob3N0RWxlbWVudCk7XG4gIGFzc2VydERlZmluZWQoXG4gICAgY3R4LiRyZW5kZXJRcmwkLFxuICAgIGByZW5kZXI6IG5vdGlmaWVkIGhvc3QgZWxlbWVudCBtdXN0IGhhdmUgYSBkZWZpbmVkICRyZW5kZXJRcmwkYCxcbiAgICBjdHhcbiAgKTtcblxuICBpZiAoY3R4LiRkaXJ0eSQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY3R4LiRkaXJ0eSQgPSB0cnVlO1xuICBjb25zdCBhY3RpdmVSZW5kZXJpbmcgPSBzdGF0ZS4kaG9zdHNSZW5kZXJpbmckICE9PSB1bmRlZmluZWQ7XG4gIGlmIChhY3RpdmVSZW5kZXJpbmcpIHtcbiAgICBhc3NlcnREZWZpbmVkKFxuICAgICAgc3RhdGUuJHJlbmRlclByb21pc2UkLFxuICAgICAgJ3JlbmRlcjogd2hpbGUgcmVuZGVyaW5nLCAkcmVuZGVyUHJvbWlzZSQgbXVzdCBiZSBkZWZpbmVkJyxcbiAgICAgIHN0YXRlXG4gICAgKTtcbiAgICBzdGF0ZS4kaG9zdHNTdGFnaW5nJC5hZGQoaG9zdEVsZW1lbnQpO1xuICB9IGVsc2Uge1xuICAgIHN0YXRlLiRob3N0c05leHQkLmFkZChob3N0RWxlbWVudCk7XG4gICAgc2NoZWR1bGVGcmFtZShjb250YWluZXJFbCwgc3RhdGUpO1xuICB9XG59O1xuXG5jb25zdCBub3RpZnlXYXRjaCA9ICh3YXRjaDogU3Vic2NyaWJlckRlc2NyaXB0b3IpID0+IHtcbiAgaWYgKHdhdGNoLmYgJiBXYXRjaEZsYWdzSXNEaXJ0eSkge1xuICAgIHJldHVybjtcbiAgfVxuICB3YXRjaC5mIHw9IFdhdGNoRmxhZ3NJc0RpcnR5O1xuXG4gIGNvbnN0IGNvbnRhaW5lckVsID0gZ2V0Q29udGFpbmVyKHdhdGNoLmVsKSE7XG4gIGNvbnN0IHN0YXRlID0gZ2V0Q29udGFpbmVyU3RhdGUoY29udGFpbmVyRWwpO1xuICBjb25zdCBhY3RpdmVSZW5kZXJpbmcgPSBzdGF0ZS4kaG9zdHNSZW5kZXJpbmckICE9PSB1bmRlZmluZWQ7XG4gIGlmIChhY3RpdmVSZW5kZXJpbmcpIHtcbiAgICBhc3NlcnREZWZpbmVkKFxuICAgICAgc3RhdGUuJHJlbmRlclByb21pc2UkLFxuICAgICAgJ3JlbmRlcjogd2hpbGUgcmVuZGVyaW5nLCAkcmVuZGVyUHJvbWlzZSQgbXVzdCBiZSBkZWZpbmVkJyxcbiAgICAgIHN0YXRlXG4gICAgKTtcbiAgICBzdGF0ZS4kd2F0Y2hTdGFnaW5nJC5hZGQod2F0Y2gpO1xuICB9IGVsc2Uge1xuICAgIHN0YXRlLiR3YXRjaE5leHQkLmFkZCh3YXRjaCk7XG4gICAgc2NoZWR1bGVGcmFtZShjb250YWluZXJFbCwgc3RhdGUpO1xuICB9XG59O1xuXG5jb25zdCBzY2hlZHVsZUZyYW1lID0gKFxuICBjb250YWluZXJFbDogRWxlbWVudCxcbiAgY29udGFpbmVyU3RhdGU6IENvbnRhaW5lclN0YXRlXG4pOiBQcm9taXNlPFJlbmRlckNvbnRleHQ+ID0+IHtcbiAgaWYgKGNvbnRhaW5lclN0YXRlLiRyZW5kZXJQcm9taXNlJCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgY29udGFpbmVyU3RhdGUuJHJlbmRlclByb21pc2UkID0gY29udGFpbmVyU3RhdGUuJHBsYXRmb3JtJC5uZXh0VGljaygoKSA9PlxuICAgICAgcmVuZGVyTWFya2VkKGNvbnRhaW5lckVsLCBjb250YWluZXJTdGF0ZSlcbiAgICApO1xuICB9XG4gIHJldHVybiBjb250YWluZXJTdGF0ZS4kcmVuZGVyUHJvbWlzZSQ7XG59O1xuXG4vKipcbiAqIExvdy1sZXZlbCBBUEkgdXNlZCBieSB0aGUgT3B0aW1pemVyIHRvIHByb2Nlc3MgYHVzZVdhdGNoJCgpYCBBUEkuIFRoaXMgbWV0aG9kXG4gKiBpcyBub3QgaW50ZW5kZWQgdG8gYmUgdXNlZCBieSBkZXZlbG9wZXJzLlxuICogQGFscGhhXG4gKi9cbmV4cG9ydCBjb25zdCBoYW5kbGVXYXRjaCA9ICgpID0+IHtcbiAgY29uc3QgW3dhdGNoXSA9IHVzZUxleGljYWxTY29wZSgpO1xuICBub3RpZnlXYXRjaCh3YXRjaCk7XG59O1xuXG5jb25zdCByZW5kZXJNYXJrZWQgPSBhc3luYyAoXG4gIGNvbnRhaW5lckVsOiBFbGVtZW50LFxuICBjb250YWluZXJTdGF0ZTogQ29udGFpbmVyU3RhdGVcbik6IFByb21pc2U8UmVuZGVyQ29udGV4dD4gPT4ge1xuICBjb25zdCBob3N0c1JlbmRlcmluZyA9IChjb250YWluZXJTdGF0ZS4kaG9zdHNSZW5kZXJpbmckID0gbmV3IFNldChjb250YWluZXJTdGF0ZS4kaG9zdHNOZXh0JCkpO1xuICBjb250YWluZXJTdGF0ZS4kaG9zdHNOZXh0JC5jbGVhcigpO1xuICBhd2FpdCBleGVjdXRlV2F0Y2hlc0JlZm9yZShjb250YWluZXJTdGF0ZSk7XG5cbiAgY29udGFpbmVyU3RhdGUuJGhvc3RzU3RhZ2luZyQuZm9yRWFjaCgoaG9zdCkgPT4ge1xuICAgIGhvc3RzUmVuZGVyaW5nLmFkZChob3N0KTtcbiAgfSk7XG4gIGNvbnRhaW5lclN0YXRlLiRob3N0c1N0YWdpbmckLmNsZWFyKCk7XG5cbiAgY29uc3QgZG9jID0gZ2V0RG9jdW1lbnQoY29udGFpbmVyRWwpO1xuICBjb25zdCBwbGF0Zm9ybSA9IGNvbnRhaW5lclN0YXRlLiRwbGF0Zm9ybSQ7XG4gIGNvbnN0IHJlbmRlcmluZ1F1ZXVlID0gQXJyYXkuZnJvbShob3N0c1JlbmRlcmluZyk7XG4gIHNvcnROb2RlcyhyZW5kZXJpbmdRdWV1ZSk7XG5cbiAgY29uc3QgY3R4ID0gY3JlYXRlUmVuZGVyQ29udGV4dChkb2MsIGNvbnRhaW5lclN0YXRlLCBjb250YWluZXJFbCk7XG5cbiAgZm9yIChjb25zdCBlbCBvZiByZW5kZXJpbmdRdWV1ZSkge1xuICAgIGlmICghY3R4LiRob3N0RWxlbWVudHMkLmhhcyhlbCkpIHtcbiAgICAgIGN0eC4kcm9vdHMkLnB1c2goZWwpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgcmVuZGVyQ29tcG9uZW50KGN0eCwgZ2V0Q29udGV4dChlbCkpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBsb2dFcnJvcihjb2RlVG9UZXh0KFFFcnJvcl9lcnJvcldoaWxlUmVuZGVyaW5nKSwgZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gRWFybHkgZXhpc3QsIG5vIGRvbSBvcGVyYXRpb25zXG4gIGlmIChjdHguJG9wZXJhdGlvbnMkLmxlbmd0aCA9PT0gMCkge1xuICAgIHByaW50UmVuZGVyU3RhdHMoY3R4KTtcbiAgICBwb3N0UmVuZGVyaW5nKGNvbnRhaW5lckVsLCBjb250YWluZXJTdGF0ZSwgY3R4KTtcbiAgICByZXR1cm4gY3R4O1xuICB9XG5cbiAgcmV0dXJuIHBsYXRmb3JtLnJhZigoKSA9PiB7XG4gICAgZXhlY3V0ZUNvbnRleHRXaXRoU2xvdHMoY3R4KTtcbiAgICBwcmludFJlbmRlclN0YXRzKGN0eCk7XG4gICAgcG9zdFJlbmRlcmluZyhjb250YWluZXJFbCwgY29udGFpbmVyU3RhdGUsIGN0eCk7XG4gICAgcmV0dXJuIGN0eDtcbiAgfSk7XG59O1xuXG5leHBvcnQgY29uc3QgcG9zdFJlbmRlcmluZyA9IGFzeW5jIChcbiAgY29udGFpbmVyRWw6IEVsZW1lbnQsXG4gIGNvbnRhaW5lclN0YXRlOiBDb250YWluZXJTdGF0ZSxcbiAgY3R4OiBSZW5kZXJDb250ZXh0XG4pID0+IHtcbiAgYXdhaXQgZXhlY3V0ZVdhdGNoZXNBZnRlcihjb250YWluZXJTdGF0ZSwgKHdhdGNoLCBzdGFnZSkgPT4ge1xuICAgIGlmICgod2F0Y2guZiAmIFdhdGNoRmxhZ3NJc0VmZmVjdCkgPT09IDApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHN0YWdlKSB7XG4gICAgICByZXR1cm4gY3R4LiRob3N0RWxlbWVudHMkLmhhcyh3YXRjaC5lbCk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9KTtcblxuICAvLyBDbGVhciBzdGFnaW5nXG4gIGNvbnRhaW5lclN0YXRlLiRob3N0c1N0YWdpbmckLmZvckVhY2goKGVsKSA9PiB7XG4gICAgY29udGFpbmVyU3RhdGUuJGhvc3RzTmV4dCQuYWRkKGVsKTtcbiAgfSk7XG4gIGNvbnRhaW5lclN0YXRlLiRob3N0c1N0YWdpbmckLmNsZWFyKCk7XG5cbiAgY29udGFpbmVyU3RhdGUuJGhvc3RzUmVuZGVyaW5nJCA9IHVuZGVmaW5lZDtcbiAgY29udGFpbmVyU3RhdGUuJHJlbmRlclByb21pc2UkID0gdW5kZWZpbmVkO1xuXG4gIGlmIChjb250YWluZXJTdGF0ZS4kaG9zdHNOZXh0JC5zaXplICsgY29udGFpbmVyU3RhdGUuJHdhdGNoTmV4dCQuc2l6ZSA+IDApIHtcbiAgICBzY2hlZHVsZUZyYW1lKGNvbnRhaW5lckVsLCBjb250YWluZXJTdGF0ZSk7XG4gIH1cbn07XG5cbmNvbnN0IGV4ZWN1dGVXYXRjaGVzQmVmb3JlID0gYXN5bmMgKGNvbnRhaW5lclN0YXRlOiBDb250YWluZXJTdGF0ZSkgPT4ge1xuICBjb25zdCByZXNvdXJjZXNQcm9taXNlczogVmFsdWVPclByb21pc2U8U3Vic2NyaWJlckRlc2NyaXB0b3I+W10gPSBbXTtcbiAgY29uc3Qgd2F0Y2hQcm9taXNlczogVmFsdWVPclByb21pc2U8U3Vic2NyaWJlckRlc2NyaXB0b3I+W10gPSBbXTtcbiAgY29uc3QgaXNXYXRjaCA9ICh3YXRjaDogU3Vic2NyaWJlckRlc2NyaXB0b3IpID0+ICh3YXRjaC5mICYgV2F0Y2hGbGFnc0lzV2F0Y2gpICE9PSAwO1xuICBjb25zdCBpc1Jlc291cmNlID0gKHdhdGNoOiBTdWJzY3JpYmVyRGVzY3JpcHRvcikgPT4gKHdhdGNoLmYgJiBXYXRjaEZsYWdzSXNSZXNvdXJjZSkgIT09IDA7XG5cbiAgY29udGFpbmVyU3RhdGUuJHdhdGNoTmV4dCQuZm9yRWFjaCgod2F0Y2gpID0+IHtcbiAgICBpZiAoaXNXYXRjaCh3YXRjaCkpIHtcbiAgICAgIHdhdGNoUHJvbWlzZXMucHVzaCh0aGVuKHdhdGNoLnFybC4kcmVzb2x2ZUxhenkkKHdhdGNoLmVsKSwgKCkgPT4gd2F0Y2gpKTtcbiAgICAgIGNvbnRhaW5lclN0YXRlLiR3YXRjaE5leHQkLmRlbGV0ZSh3YXRjaCk7XG4gICAgfVxuICAgIGlmIChpc1Jlc291cmNlKHdhdGNoKSkge1xuICAgICAgcmVzb3VyY2VzUHJvbWlzZXMucHVzaCh0aGVuKHdhdGNoLnFybC4kcmVzb2x2ZUxhenkkKHdhdGNoLmVsKSwgKCkgPT4gd2F0Y2gpKTtcbiAgICAgIGNvbnRhaW5lclN0YXRlLiR3YXRjaE5leHQkLmRlbGV0ZSh3YXRjaCk7XG4gICAgfVxuICB9KTtcbiAgZG8ge1xuICAgIC8vIFJ1biBzdGFnaW5nIGVmZmVjdGVkXG4gICAgY29udGFpbmVyU3RhdGUuJHdhdGNoU3RhZ2luZyQuZm9yRWFjaCgod2F0Y2gpID0+IHtcbiAgICAgIGlmIChpc1dhdGNoKHdhdGNoKSkge1xuICAgICAgICB3YXRjaFByb21pc2VzLnB1c2godGhlbih3YXRjaC5xcmwuJHJlc29sdmVMYXp5JCh3YXRjaC5lbCksICgpID0+IHdhdGNoKSk7XG4gICAgICB9IGVsc2UgaWYgKGlzUmVzb3VyY2Uod2F0Y2gpKSB7XG4gICAgICAgIHJlc291cmNlc1Byb21pc2VzLnB1c2godGhlbih3YXRjaC5xcmwuJHJlc29sdmVMYXp5JCh3YXRjaC5lbCksICgpID0+IHdhdGNoKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb250YWluZXJTdGF0ZS4kd2F0Y2hOZXh0JC5hZGQod2F0Y2gpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgY29udGFpbmVyU3RhdGUuJHdhdGNoU3RhZ2luZyQuY2xlYXIoKTtcblxuICAgIC8vIFdhaXQgZm9yIGFsbCBwcm9taXNlc1xuICAgIGlmICh3YXRjaFByb21pc2VzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IHdhdGNoZXMgPSBhd2FpdCBQcm9taXNlLmFsbCh3YXRjaFByb21pc2VzKTtcbiAgICAgIHNvcnRXYXRjaGVzKHdhdGNoZXMpO1xuICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICAgIHdhdGNoZXMubWFwKCh3YXRjaCkgPT4ge1xuICAgICAgICAgIHJldHVybiBydW5TdWJzY3JpYmVyKHdhdGNoLCBjb250YWluZXJTdGF0ZSk7XG4gICAgICAgIH0pXG4gICAgICApO1xuICAgICAgd2F0Y2hQcm9taXNlcy5sZW5ndGggPSAwO1xuICAgIH1cbiAgfSB3aGlsZSAoY29udGFpbmVyU3RhdGUuJHdhdGNoU3RhZ2luZyQuc2l6ZSA+IDApO1xuXG4gIGlmIChyZXNvdXJjZXNQcm9taXNlcy5sZW5ndGggPiAwKSB7XG4gICAgY29uc3QgcmVzb3VyY2VzID0gYXdhaXQgUHJvbWlzZS5hbGwocmVzb3VyY2VzUHJvbWlzZXMpO1xuICAgIHNvcnRXYXRjaGVzKHJlc291cmNlcyk7XG4gICAgcmVzb3VyY2VzLmZvckVhY2goKHdhdGNoKSA9PiBydW5TdWJzY3JpYmVyKHdhdGNoLCBjb250YWluZXJTdGF0ZSkpO1xuICB9XG59O1xuXG5jb25zdCBleGVjdXRlV2F0Y2hlc0FmdGVyID0gYXN5bmMgKFxuICBjb250YWluZXJTdGF0ZTogQ29udGFpbmVyU3RhdGUsXG4gIHdhdGNoUHJlZDogKHdhdGNoOiBTdWJzY3JpYmVyRGVzY3JpcHRvciwgc3RhZ2luZzogYm9vbGVhbikgPT4gYm9vbGVhblxuKSA9PiB7XG4gIGNvbnN0IHdhdGNoUHJvbWlzZXM6IFZhbHVlT3JQcm9taXNlPFN1YnNjcmliZXJEZXNjcmlwdG9yPltdID0gW107XG5cbiAgY29udGFpbmVyU3RhdGUuJHdhdGNoTmV4dCQuZm9yRWFjaCgod2F0Y2gpID0+IHtcbiAgICBpZiAod2F0Y2hQcmVkKHdhdGNoLCBmYWxzZSkpIHtcbiAgICAgIHdhdGNoUHJvbWlzZXMucHVzaCh0aGVuKHdhdGNoLnFybC4kcmVzb2x2ZUxhenkkKHdhdGNoLmVsKSwgKCkgPT4gd2F0Y2gpKTtcbiAgICAgIGNvbnRhaW5lclN0YXRlLiR3YXRjaE5leHQkLmRlbGV0ZSh3YXRjaCk7XG4gICAgfVxuICB9KTtcbiAgZG8ge1xuICAgIC8vIFJ1biBzdGFnaW5nIGVmZmVjdGVkXG4gICAgY29udGFpbmVyU3RhdGUuJHdhdGNoU3RhZ2luZyQuZm9yRWFjaCgod2F0Y2gpID0+IHtcbiAgICAgIGlmICh3YXRjaFByZWQod2F0Y2gsIHRydWUpKSB7XG4gICAgICAgIHdhdGNoUHJvbWlzZXMucHVzaCh0aGVuKHdhdGNoLnFybC4kcmVzb2x2ZUxhenkkKHdhdGNoLmVsKSwgKCkgPT4gd2F0Y2gpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnRhaW5lclN0YXRlLiR3YXRjaE5leHQkLmFkZCh3YXRjaCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgY29udGFpbmVyU3RhdGUuJHdhdGNoU3RhZ2luZyQuY2xlYXIoKTtcblxuICAgIC8vIFdhaXQgZm9yIGFsbCBwcm9taXNlc1xuICAgIGlmICh3YXRjaFByb21pc2VzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IHdhdGNoZXMgPSBhd2FpdCBQcm9taXNlLmFsbCh3YXRjaFByb21pc2VzKTtcbiAgICAgIHNvcnRXYXRjaGVzKHdhdGNoZXMpO1xuICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICAgIHdhdGNoZXMubWFwKCh3YXRjaCkgPT4ge1xuICAgICAgICAgIHJldHVybiBydW5TdWJzY3JpYmVyKHdhdGNoLCBjb250YWluZXJTdGF0ZSk7XG4gICAgICAgIH0pXG4gICAgICApO1xuICAgICAgd2F0Y2hQcm9taXNlcy5sZW5ndGggPSAwO1xuICAgIH1cbiAgfSB3aGlsZSAoY29udGFpbmVyU3RhdGUuJHdhdGNoU3RhZ2luZyQuc2l6ZSA+IDApO1xufTtcblxuY29uc3Qgc29ydE5vZGVzID0gKGVsZW1lbnRzOiBFbGVtZW50W10pID0+IHtcbiAgZWxlbWVudHMuc29ydCgoYSwgYikgPT4gKGEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oYikgJiAyID8gMSA6IC0xKSk7XG59O1xuXG5jb25zdCBzb3J0V2F0Y2hlcyA9ICh3YXRjaGVzOiBTdWJzY3JpYmVyRGVzY3JpcHRvcltdKSA9PiB7XG4gIHdhdGNoZXMuc29ydCgoYSwgYikgPT4ge1xuICAgIGlmIChhLmVsID09PSBiLmVsKSB7XG4gICAgICByZXR1cm4gYS5pIDwgYi5pID8gLTEgOiAxO1xuICAgIH1cbiAgICByZXR1cm4gKGEuZWwuY29tcGFyZURvY3VtZW50UG9zaXRpb24oYi5lbCkgJiAyKSAhPT0gMCA/IDEgOiAtMTtcbiAgfSk7XG59O1xuIl19","import { assertEqual, assertTrue } from '../assert/assert';\nimport { qError, QError_immutableProps, QError_onlyLiteralWrapped, QError_onlyObjectWrapped, QError_verifySerializable, } from '../error/error';\nimport { isQrl } from '../import/qrl-class';\nimport { notifyChange } from '../render/notify-render';\nimport { tryGetInvokeContext } from '../use/use-core';\nimport { isDocument, isElement, isNode } from '../util/element';\nimport { logWarn } from '../util/log';\nimport { qDev } from '../util/qdev';\nimport { tryGetContext } from '../props/props';\nimport { RenderEvent } from '../util/markers';\nimport { isArray, isFunction, isObject } from '../util/types';\nimport { isPromise } from '../util/promises';\nexport const QObjectRecursive = 1 << 0;\nexport const QObjectImmutable = 1 << 1;\n/**\n * Creates a proxy that notifies of any writes.\n */\nexport const getOrCreateProxy = (target, containerState, flags = 0) => {\n    const proxy = containerState.$proxyMap$.get(target);\n    if (proxy) {\n        return proxy;\n    }\n    return createProxy(target, containerState, flags, undefined);\n};\nexport const createProxy = (target, containerState, flags, subs) => {\n    assertEqual(unwrapProxy(target), target, 'Unexpected proxy at this location', target);\n    assertTrue(!containerState.$proxyMap$.has(target), 'Proxy was already created', target);\n    if (!isObject(target)) {\n        throw qError(QError_onlyObjectWrapped, target);\n    }\n    if (target.constructor !== Object && !isArray(target)) {\n        throw qError(QError_onlyLiteralWrapped, target);\n    }\n    const manager = containerState.$subsManager$.$getLocal$(target, subs);\n    const proxy = new Proxy(target, new ReadWriteProxyHandler(containerState, manager, flags));\n    containerState.$proxyMap$.set(target, proxy);\n    return proxy;\n};\nconst QOjectTargetSymbol = Symbol();\nconst QOjectFlagsSymbol = Symbol();\nexport const createSubscriptionManager = () => {\n    const objToSubs = new Map();\n    const subsToObjs = new Map();\n    const clearSub = (sub) => {\n        const subs = subsToObjs.get(sub);\n        if (subs) {\n            subs.forEach((s) => {\n                s.delete(sub);\n            });\n            subsToObjs.delete(sub);\n            subs.clear();\n        }\n    };\n    const tryGetLocal = (obj) => {\n        assertEqual(getProxyTarget(obj), undefined, 'object can not be be a proxy', obj);\n        return objToSubs.get(obj);\n    };\n    const trackSubToObj = (subscriber, map) => {\n        let set = subsToObjs.get(subscriber);\n        if (!set) {\n            subsToObjs.set(subscriber, (set = new Set()));\n        }\n        set.add(map);\n    };\n    const getLocal = (obj, initialMap) => {\n        let local = tryGetLocal(obj);\n        if (local) {\n            assertEqual(initialMap, undefined, 'subscription map can not be set to an existing object', local);\n        }\n        else {\n            const map = !initialMap ? new Map() : initialMap;\n            map.forEach((_, key) => {\n                trackSubToObj(key, map);\n            });\n            objToSubs.set(obj, (local = {\n                $subs$: map,\n                $addSub$(subscriber, key) {\n                    if (key == null) {\n                        map.set(subscriber, null);\n                    }\n                    else {\n                        let sub = map.get(subscriber);\n                        if (sub === undefined) {\n                            map.set(subscriber, (sub = new Set()));\n                        }\n                        if (sub) {\n                            sub.add(key);\n                        }\n                    }\n                    trackSubToObj(subscriber, map);\n                },\n                $notifySubs$(key) {\n                    map.forEach((value, subscriber) => {\n                        if (value === null || !key || value.has(key)) {\n                            notifyChange(subscriber);\n                        }\n                    });\n                },\n            }));\n        }\n        return local;\n    };\n    return {\n        $tryGetLocal$: tryGetLocal,\n        $getLocal$: getLocal,\n        $clearSub$: clearSub,\n    };\n};\nclass ReadWriteProxyHandler {\n    constructor($containerState$, $manager$, $flags$) {\n        this.$containerState$ = $containerState$;\n        this.$manager$ = $manager$;\n        this.$flags$ = $flags$;\n    }\n    get(target, prop) {\n        if (typeof prop === 'symbol') {\n            if (prop === QOjectTargetSymbol)\n                return target;\n            if (prop === QOjectFlagsSymbol)\n                return this.$flags$;\n            return target[prop];\n        }\n        let subscriber;\n        const invokeCtx = tryGetInvokeContext();\n        const recursive = (this.$flags$ & QObjectRecursive) !== 0;\n        const immutable = (this.$flags$ & QObjectImmutable) !== 0;\n        if (invokeCtx) {\n            subscriber = invokeCtx.$subscriber$;\n        }\n        let value = target[prop];\n        if (isMutable(value)) {\n            value = value.v;\n        }\n        else if (immutable) {\n            subscriber = null;\n        }\n        if (subscriber) {\n            const isA = isArray(target);\n            this.$manager$.$addSub$(subscriber, isA ? undefined : prop);\n        }\n        return recursive ? wrap(value, this.$containerState$) : value;\n    }\n    set(target, prop, newValue) {\n        if (typeof prop === 'symbol') {\n            target[prop] = newValue;\n            return true;\n        }\n        const immutable = (this.$flags$ & QObjectImmutable) !== 0;\n        if (immutable) {\n            throw qError(QError_immutableProps);\n        }\n        const recursive = (this.$flags$ & QObjectRecursive) !== 0;\n        const unwrappedNewValue = recursive ? unwrapProxy(newValue) : newValue;\n        if (qDev) {\n            verifySerializable(unwrappedNewValue);\n            const invokeCtx = tryGetInvokeContext();\n            if (invokeCtx && invokeCtx.$event$ === RenderEvent) {\n                logWarn('State mutation inside render function. Move mutation to useWatch(), useClientEffect() or useServerMount()', invokeCtx.$hostElement$, prop);\n            }\n        }\n        const isA = isArray(target);\n        if (isA) {\n            target[prop] = unwrappedNewValue;\n            this.$manager$.$notifySubs$();\n            return true;\n        }\n        const oldValue = target[prop];\n        if (oldValue !== unwrappedNewValue) {\n            target[prop] = unwrappedNewValue;\n            this.$manager$.$notifySubs$(prop);\n        }\n        return true;\n    }\n    has(target, property) {\n        if (property === QOjectTargetSymbol)\n            return true;\n        if (property === QOjectFlagsSymbol)\n            return true;\n        return Object.prototype.hasOwnProperty.call(target, property);\n    }\n    ownKeys(target) {\n        let subscriber = null;\n        const invokeCtx = tryGetInvokeContext();\n        if (invokeCtx) {\n            subscriber = invokeCtx.$subscriber$;\n        }\n        if (subscriber) {\n            this.$manager$.$addSub$(subscriber);\n        }\n        return Object.getOwnPropertyNames(target);\n    }\n}\nconst wrap = (value, containerState) => {\n    if (isQrl(value)) {\n        return value;\n    }\n    if (isObject(value)) {\n        if (Object.isFrozen(value)) {\n            return value;\n        }\n        const nakedValue = unwrapProxy(value);\n        if (nakedValue !== value) {\n            // already a proxy return;\n            return value;\n        }\n        if (isNode(nakedValue)) {\n            return value;\n        }\n        if (!shouldSerialize(nakedValue)) {\n            return value;\n        }\n        if (qDev) {\n            verifySerializable(value);\n        }\n        const proxy = containerState.$proxyMap$.get(value);\n        return proxy ? proxy : getOrCreateProxy(value, containerState, QObjectRecursive);\n    }\n    else {\n        return value;\n    }\n};\nexport const verifySerializable = (value) => {\n    const seen = new Set();\n    return _verifySerializable(value, seen);\n};\nconst _verifySerializable = (value, seen) => {\n    const unwrapped = unwrapProxy(value);\n    if (unwrapped == null) {\n        return value;\n    }\n    if (shouldSerialize(unwrapped)) {\n        if (seen.has(unwrapped)) {\n            return value;\n        }\n        seen.add(unwrapped);\n        if (isQrl(unwrapped)) {\n            return value;\n        }\n        switch (typeof unwrapped) {\n            case 'object':\n                if (isArray(unwrapped)) {\n                    for (const item of unwrapped) {\n                        _verifySerializable(item, seen);\n                    }\n                    return value;\n                }\n                if (Object.getPrototypeOf(unwrapped) === Object.prototype) {\n                    for (const item of Object.values(unwrapped)) {\n                        _verifySerializable(item, seen);\n                    }\n                    return value;\n                }\n                if (isPromise(unwrapped))\n                    return value;\n                if (isElement(unwrapped))\n                    return value;\n                if (isDocument(unwrapped))\n                    return value;\n                break;\n            case 'boolean':\n            case 'string':\n            case 'number':\n                return value;\n        }\n        throw qError(QError_verifySerializable, unwrapped);\n    }\n    return value;\n};\nconst noSerializeSet = /*#__PURE__*/ new WeakSet();\nexport const shouldSerialize = (obj) => {\n    if (isObject(obj) || isFunction(obj)) {\n        return !noSerializeSet.has(obj);\n    }\n    return true;\n};\n// <docs markdown=\"../readme.md#noSerialize\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#noSerialize instead)\n/**\n * Marks a property on a store as non-serializable.\n *\n * At times it is necessary to store values on a store that are non-serializable. Normally this\n * is a runtime error as Store wants to eagerly report when a non-serializable property is\n * assigned to it.\n *\n * You can use `noSerialize()` to mark a value as non-serializable. The value is persisted in the\n * Store but does not survive serialization. The implication is that when your application is\n * resumed, the value of this object will be `undefined`. You will be responsible for recovering\n * from this.\n *\n * See: [noSerialize Tutorial](http://qwik.builder.io/tutorial/store/no-serialize)\n *\n * @alpha\n */\n// </docs>\nexport const noSerialize = (input) => {\n    noSerializeSet.add(input);\n    return input;\n};\n// <docs markdown=\"../readme.md#immutable\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#immutable instead)\n/**\n * Mark an object as immutable, preventing Qwik from creating subscriptions on that object.\n *\n * Qwik automatically creates subscriptions on store objects created by `useStore()`. By marking\n * an object as `immutable`, it hints to Qwik that the properties of this object will not change,\n * and therefore there is no need to create subscriptions for those objects.\n *\n * @alpha\n */\n// </docs>\nexport const immutable = (input) => {\n    return Object.freeze(input);\n};\n// <docs markdown=\"../readme.md#mutable\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#mutable instead)\n/**\n * Mark property as mutable.\n *\n * Qwik assumes that all bindings in components are immutable by default. This is done for two\n * reasons:\n *\n * 1. JSX does not allow Qwik runtime to know if a binding is static or mutable.\n *    `<Example valueA={123} valueB={exp}>` At runtime there is no way to know if `valueA` is\n * immutable.\n * 2. If Qwik assumes that properties are immutable, then it can do a better job data-shaking the\n * amount of code that needs to be serialized to the client.\n *\n * Because Qwik assumes that bindings are immutable by default, it needs a way for a developer to\n * let it know that binding is mutable. `mutable()` function serves that purpose.\n * `<Example valueA={123} valueB={mutable(exp)}>`. In this case, the Qwik runtime can correctly\n * recognize that the `Example` props are mutable and need to be serialized.\n *\n * See: [Mutable Props Tutorial](http://qwik.builder.io/tutorial/props/mutable) for an example\n *\n * @alpha\n */\n// </docs>\nexport const mutable = (v) => {\n    return {\n        [MUTABLE]: true,\n        v,\n    };\n};\nexport const isConnected = (sub) => {\n    if (isElement(sub)) {\n        return !!tryGetContext(sub) || sub.isConnected;\n    }\n    else {\n        return isConnected(sub.el);\n    }\n};\nconst MUTABLE = Symbol('mutable');\nexport const isMutable = (v) => {\n    return isObject(v) && v[MUTABLE] === true;\n};\n/**\n * @alpha\n */\nexport const unwrapProxy = (proxy) => {\n    return getProxyTarget(proxy) ?? proxy;\n};\nexport const getProxyTarget = (obj) => {\n    if (isObject(obj)) {\n        return obj[QOjectTargetSymbol];\n    }\n    return undefined;\n};\nexport const getProxyFlags = (obj) => {\n    if (isObject(obj)) {\n        return obj[QOjectFlagsSymbol];\n    }\n    return undefined;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicS1vYmplY3QuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvb2JqZWN0L3Etb2JqZWN0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxXQUFXLEVBQUUsVUFBVSxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDM0QsT0FBTyxFQUNMLE1BQU0sRUFDTixxQkFBcUIsRUFDckIseUJBQXlCLEVBQ3pCLHdCQUF3QixFQUN4Qix5QkFBeUIsR0FDMUIsTUFBTSxnQkFBZ0IsQ0FBQztBQUN4QixPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFDNUMsT0FBTyxFQUFrQixZQUFZLEVBQUUsTUFBTSx5QkFBeUIsQ0FBQztBQUN2RSxPQUFPLEVBQUUsbUJBQW1CLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUN0RCxPQUFPLEVBQUUsVUFBVSxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUNoRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sYUFBYSxDQUFDO0FBQ3RDLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxjQUFjLENBQUM7QUFFcEMsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQy9DLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUM5QyxPQUFPLEVBQUUsT0FBTyxFQUFFLFVBQVUsRUFBRSxRQUFRLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDOUQsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBSzdDLE1BQU0sQ0FBQyxNQUFNLGdCQUFnQixHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDdkMsTUFBTSxDQUFDLE1BQU0sZ0JBQWdCLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUV2Qzs7R0FFRztBQUNILE1BQU0sQ0FBQyxNQUFNLGdCQUFnQixHQUFHLENBQzlC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QyxDQUFDO0FBc0JsQyxNQUFNLENBQUMsTUFBTSxTQUFTLEdBQUcsQ0FBQyxDQUFNLEVBQTRCLEVBQUU7SUFDNUQsT0FBTyxRQUFRLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLE9BQU8sQ0FBQyxLQUFLLElBQUksQ0FBQztBQUM1QyxDQUFDLENBQUM7QUFFRjs7R0FFRztBQUNILE1BQU0sQ0FBQyxNQUFNLFdBQVcsR0FBRyxDQUFJLEtBQVEsRUFBSyxFQUFFO0lBQzVDLE9BQU8sY0FBYyxDQUFJLEtBQUssQ0FBQyxJQUFJLEtBQUssQ0FBQztBQUMzQyxDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxjQUFjLEdBQUcsQ0FBMEIsR0FBTSxFQUFpQixFQUFFO0lBQy9FLElBQUksUUFBUSxDQUFDLEdBQUcsQ0FBQyxFQUFFO1FBQ2pCLE9BQVEsR0FBVyxDQUFDLGtCQUFrQixDQUFDLENBQUM7S0FDekM7SUFDRCxPQUFPLFNBQVMsQ0FBQztBQUNuQixDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxhQUFhLEdBQUcsQ0FBMEIsR0FBTSxFQUFzQixFQUFFO0lBQ25GLElBQUksUUFBUSxDQUFDLEdBQUcsQ0FBQyxFQUFFO1FBQ2pCLE9BQVEsR0FBVyxDQUFDLGlCQUFpQixDQUFDLENBQUM7S0FDeEM7SUFDRCxPQUFPLFNBQVMsQ0FBQztBQUNuQixDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhc3NlcnRFcXVhbCwgYXNzZXJ0VHJ1ZSB9IGZyb20gJy4uL2Fzc2VydC9hc3NlcnQnO1xuaW1wb3J0IHtcbiAgcUVycm9yLFxuICBRRXJyb3JfaW1tdXRhYmxlUHJvcHMsXG4gIFFFcnJvcl9vbmx5TGl0ZXJhbFdyYXBwZWQsXG4gIFFFcnJvcl9vbmx5T2JqZWN0V3JhcHBlZCxcbiAgUUVycm9yX3ZlcmlmeVNlcmlhbGl6YWJsZSxcbn0gZnJvbSAnLi4vZXJyb3IvZXJyb3InO1xuaW1wb3J0IHsgaXNRcmwgfSBmcm9tICcuLi9pbXBvcnQvcXJsLWNsYXNzJztcbmltcG9ydCB7IENvbnRhaW5lclN0YXRlLCBub3RpZnlDaGFuZ2UgfSBmcm9tICcuLi9yZW5kZXIvbm90aWZ5LXJlbmRlcic7XG5pbXBvcnQgeyB0cnlHZXRJbnZva2VDb250ZXh0IH0gZnJvbSAnLi4vdXNlL3VzZS1jb3JlJztcbmltcG9ydCB7IGlzRG9jdW1lbnQsIGlzRWxlbWVudCwgaXNOb2RlIH0gZnJvbSAnLi4vdXRpbC9lbGVtZW50JztcbmltcG9ydCB7IGxvZ1dhcm4gfSBmcm9tICcuLi91dGlsL2xvZyc7XG5pbXBvcnQgeyBxRGV2IH0gZnJvbSAnLi4vdXRpbC9xZGV2JztcbmltcG9ydCB0eXBlIHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL3VzZS91c2Utc3Vic2NyaWJlcic7XG5pbXBvcnQgeyB0cnlHZXRDb250ZXh0IH0gZnJvbSAnLi4vcHJvcHMvcHJvcHMnO1xuaW1wb3J0IHsgUmVuZGVyRXZlbnQgfSBmcm9tICcuLi91dGlsL21hcmtlcnMnO1xuaW1wb3J0IHsgaXNBcnJheSwgaXNGdW5jdGlvbiwgaXNPYmplY3QgfSBmcm9tICcuLi91dGlsL3R5cGVzJztcbmltcG9ydCB7IGlzUHJvbWlzZSB9IGZyb20gJy4uL3V0aWwvcHJvbWlzZXMnO1xuXG5leHBvcnQgdHlwZSBPYmpUb1Byb3h5TWFwID0gV2Vha01hcDxhbnksIGFueT47XG5leHBvcnQgdHlwZSBRT2JqZWN0PFQgZXh0ZW5kcyB7fT4gPSBUICYgeyBfX2JyYW5kX186ICdRT2JqZWN0JyB9O1xuXG5leHBvcnQgY29uc3QgUU9iamVjdFJlY3Vyc2l2ZSA9IDEgPDwgMDtcbmV4cG9ydCBjb25zdCBRT2JqZWN0SW1tdXRhYmxlID0gMSA8PCAxO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBwcm94eSB0aGF0IG5vdGlmaWVzIG9mIGFueSB3cml0ZXMuXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRPckNyZWF0ZVByb3h5ID0gPFQgZXh0ZW5kcyBvYmplY3Q+KFxuICB0YXJnZXQ6IFQsXG4gIGNvbnRhaW5lclN0YXRlOiBDb250YWluZXJTdGF0ZSxcbiAgZmxhZ3MgPSAwXG4pOiBUID0+IHtcbiAgY29uc3QgcHJveHkgPSBjb250YWluZXJTdGF0ZS4kcHJveHlNYXAkLmdldCh0YXJnZXQpO1xuICBpZiAocHJveHkpIHtcbiAgICByZXR1cm4gcHJveHk7XG4gIH1cbiAgcmV0dXJuIGNyZWF0ZVByb3h5KHRhcmdldCwgY29udGFpbmVyU3RhdGUsIGZsYWdzLCB1bmRlZmluZWQpO1xufTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZVByb3h5ID0gPFQgZXh0ZW5kcyBvYmplY3Q+KFxuICB0YXJnZXQ6IFQsXG4gIGNvbnRhaW5lclN0YXRlOiBDb250YWluZXJTdGF0ZSxcbiAgZmxhZ3M6IG51bWJlcixcbiAgc3Vicz86IE1hcDxFbGVtZW50LCBTZXQ8c3RyaW5nPj5cbik6IFQgPT4ge1xuICBhc3NlcnRFcXVhbCh1bndyYXBQcm94eSh0YXJnZXQpLCB0YXJnZXQsICdVbmV4cGVjdGVkIHByb3h5IGF0IHRoaXMgbG9jYXRpb24nLCB0YXJnZXQpO1xuICBhc3NlcnRUcnVlKCFjb250YWluZXJTdGF0ZS4kcHJveHlNYXAkLmhhcyh0YXJnZXQpLCAnUHJveHkgd2FzIGFscmVhZHkgY3JlYXRlZCcsIHRhcmdldCk7XG5cbiAgaWYgKCFpc09iamVjdCh0YXJnZXQpKSB7XG4gICAgdGhyb3cgcUVycm9yKFFFcnJvcl9vbmx5T2JqZWN0V3JhcHBlZCwgdGFyZ2V0KTtcbiAgfVxuICBpZiAodGFyZ2V0LmNvbnN0cnVjdG9yICE9PSBPYmplY3QgJiYgIWlzQXJyYXkodGFyZ2V0KSkge1xuICAgIHRocm93IHFFcnJvcihRRXJyb3Jfb25seUxpdGVyYWxXcmFwcGVkLCB0YXJnZXQpO1xuICB9XG5cbiAgY29uc3QgbWFuYWdlciA9IGNvbnRhaW5lclN0YXRlLiRzdWJzTWFuYWdlciQuJGdldExvY2FsJCh0YXJnZXQsIHN1YnMpO1xuICBjb25zdCBwcm94eSA9IG5ldyBQcm94eShcbiAgICB0YXJnZXQsXG4gICAgbmV3IFJlYWRXcml0ZVByb3h5SGFuZGxlcihjb250YWluZXJTdGF0ZSwgbWFuYWdlciwgZmxhZ3MpXG4gICkgYXMgYW55IGFzIFQ7XG4gIGNvbnRhaW5lclN0YXRlLiRwcm94eU1hcCQuc2V0KHRhcmdldCwgcHJveHkpO1xuICByZXR1cm4gcHJveHk7XG59O1xuXG5jb25zdCBRT2plY3RUYXJnZXRTeW1ib2wgPSBTeW1ib2woKTtcbmNvbnN0IFFPamVjdEZsYWdzU3ltYm9sID0gU3ltYm9sKCk7XG5cbmV4cG9ydCB0eXBlIFRhcmdldFR5cGUgPSBSZWNvcmQ8c3RyaW5nIHwgc3ltYm9sLCBhbnk+O1xuXG5leHBvcnQgdHlwZSBTdWJzY3JpYmVyTWFwID0gTWFwPFN1YnNjcmliZXIsIFNldDxzdHJpbmc+IHwgbnVsbD47XG5leHBvcnQgdHlwZSBPYmpUb1N1YnNjcmliZXJNYXAgPSBXZWFrTWFwPGFueSwgTG9jYWxTdWJzY3JpcHRpb25NYW5hZ2VyPjtcbmV4cG9ydCB0eXBlIFN1YnNjcmliZXJUb1N1YnNjcmliZXJNYXAgPSBNYXA8U3Vic2NyaWJlciwgU2V0PFN1YnNjcmliZXJNYXA+PjtcblxuZXhwb3J0IGludGVyZmFjZSBTdWJzY3JpcHRpb25NYW5hZ2VyIHtcbiAgJHRyeUdldExvY2FsJChvYmo6IGFueSk6IExvY2FsU3Vic2NyaXB0aW9uTWFuYWdlciB8IHVuZGVmaW5lZDtcbiAgJGdldExvY2FsJChvYmo6IGFueSwgbWFwPzogU3Vic2NyaWJlck1hcCk6IExvY2FsU3Vic2NyaXB0aW9uTWFuYWdlcjtcbiAgJGNsZWFyU3ViJDogKHN1YjogU3Vic2NyaWJlcikgPT4gdm9pZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBMb2NhbFN1YnNjcmlwdGlvbk1hbmFnZXIge1xuICAkc3VicyQ6IFN1YnNjcmliZXJNYXA7XG4gICRub3RpZnlTdWJzJDogKGtleT86IHN0cmluZyB8IHVuZGVmaW5lZCkgPT4gdm9pZDtcbiAgJGFkZFN1YiQ6IChzdWJzY3JpYmVyOiBTdWJzY3JpYmVyLCBrZXk/OiBzdHJpbmcpID0+IHZvaWQ7XG59XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVTdWJzY3JpcHRpb25NYW5hZ2VyID0gKCk6IFN1YnNjcmlwdGlvbk1hbmFnZXIgPT4ge1xuICBjb25zdCBvYmpUb1N1YnM6IE9ialRvU3Vic2NyaWJlck1hcCA9IG5ldyBNYXAoKTtcbiAgY29uc3Qgc3Vic1RvT2JqczogU3Vic2NyaWJlclRvU3Vic2NyaWJlck1hcCA9IG5ldyBNYXAoKTtcblxuICBjb25zdCBjbGVhclN1YiA9IChzdWI6IFN1YnNjcmliZXIpID0+IHtcbiAgICBjb25zdCBzdWJzID0gc3Vic1RvT2Jqcy5nZXQoc3ViKTtcbiAgICBpZiAoc3Vicykge1xuICAgICAgc3Vicy5mb3JFYWNoKChzKSA9PiB7XG4gICAgICAgIHMuZGVsZXRlKHN1Yik7XG4gICAgICB9KTtcbiAgICAgIHN1YnNUb09ianMuZGVsZXRlKHN1Yik7XG4gICAgICBzdWJzLmNsZWFyKCk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHRyeUdldExvY2FsID0gKG9iajogYW55KSA9PiB7XG4gICAgYXNzZXJ0RXF1YWwoZ2V0UHJveHlUYXJnZXQob2JqKSwgdW5kZWZpbmVkLCAnb2JqZWN0IGNhbiBub3QgYmUgYmUgYSBwcm94eScsIG9iaik7XG4gICAgcmV0dXJuIG9ialRvU3Vicy5nZXQob2JqKTtcbiAgfTtcblxuICBjb25zdCB0cmFja1N1YlRvT2JqID0gKHN1YnNjcmliZXI6IFN1YnNjcmliZXIsIG1hcDogU3Vic2NyaWJlck1hcCkgPT4ge1xuICAgIGxldCBzZXQgPSBzdWJzVG9PYmpzLmdldChzdWJzY3JpYmVyKTtcbiAgICBpZiAoIXNldCkge1xuICAgICAgc3Vic1RvT2Jqcy5zZXQoc3Vic2NyaWJlciwgKHNldCA9IG5ldyBTZXQoKSkpO1xuICAgIH1cbiAgICBzZXQuYWRkKG1hcCk7XG4gIH07XG5cbiAgY29uc3QgZ2V0TG9jYWwgPSAob2JqOiBhbnksIGluaXRpYWxNYXA/OiBTdWJzY3JpYmVyTWFwKSA9PiB7XG4gICAgbGV0IGxvY2FsID0gdHJ5R2V0TG9jYWwob2JqKTtcbiAgICBpZiAobG9jYWwpIHtcbiAgICAgIGFzc2VydEVxdWFsKFxuICAgICAgICBpbml0aWFsTWFwLFxuICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICdzdWJzY3JpcHRpb24gbWFwIGNhbiBub3QgYmUgc2V0IHRvIGFuIGV4aXN0aW5nIG9iamVjdCcsXG4gICAgICAgIGxvY2FsXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBtYXAgPSAhaW5pdGlhbE1hcCA/IChuZXcgTWFwKCkgYXMgU3Vic2NyaWJlck1hcCkgOiBpbml0aWFsTWFwO1xuICAgICAgbWFwLmZvckVhY2goKF8sIGtleSkgPT4ge1xuICAgICAgICB0cmFja1N1YlRvT2JqKGtleSwgbWFwKTtcbiAgICAgIH0pO1xuICAgICAgb2JqVG9TdWJzLnNldChcbiAgICAgICAgb2JqLFxuICAgICAgICAobG9jYWwgPSB7XG4gICAgICAgICAgJHN1YnMkOiBtYXAsXG4gICAgICAgICAgJGFkZFN1YiQoc3Vic2NyaWJlcjogU3Vic2NyaWJlciwga2V5Pzogc3RyaW5nKSB7XG4gICAgICAgICAgICBpZiAoa2V5ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgbWFwLnNldChzdWJzY3JpYmVyLCBudWxsKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGxldCBzdWIgPSBtYXAuZ2V0KHN1YnNjcmliZXIpO1xuICAgICAgICAgICAgICBpZiAoc3ViID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBtYXAuc2V0KHN1YnNjcmliZXIsIChzdWIgPSBuZXcgU2V0KCkpKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoc3ViKSB7XG4gICAgICAgICAgICAgICAgc3ViLmFkZChrZXkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cmFja1N1YlRvT2JqKHN1YnNjcmliZXIsIG1hcCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICAkbm90aWZ5U3VicyQoa2V5Pzogc3RyaW5nKSB7XG4gICAgICAgICAgICBtYXAuZm9yRWFjaCgodmFsdWUsIHN1YnNjcmliZXIpID0+IHtcbiAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBudWxsIHx8ICFrZXkgfHwgdmFsdWUuaGFzKGtleSkpIHtcbiAgICAgICAgICAgICAgICBub3RpZnlDaGFuZ2Uoc3Vic2NyaWJlcik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0sXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gbG9jYWw7XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICAkdHJ5R2V0TG9jYWwkOiB0cnlHZXRMb2NhbCxcbiAgICAkZ2V0TG9jYWwkOiBnZXRMb2NhbCxcbiAgICAkY2xlYXJTdWIkOiBjbGVhclN1YixcbiAgfTtcbn07XG5cbmNsYXNzIFJlYWRXcml0ZVByb3h5SGFuZGxlciBpbXBsZW1lbnRzIFByb3h5SGFuZGxlcjxUYXJnZXRUeXBlPiB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgJGNvbnRhaW5lclN0YXRlJDogQ29udGFpbmVyU3RhdGUsXG4gICAgcHJpdmF0ZSAkbWFuYWdlciQ6IExvY2FsU3Vic2NyaXB0aW9uTWFuYWdlcixcbiAgICBwcml2YXRlICRmbGFncyQ6IG51bWJlclxuICApIHt9XG5cbiAgZ2V0KHRhcmdldDogVGFyZ2V0VHlwZSwgcHJvcDogc3RyaW5nIHwgc3ltYm9sKTogYW55IHtcbiAgICBpZiAodHlwZW9mIHByb3AgPT09ICdzeW1ib2wnKSB7XG4gICAgICBpZiAocHJvcCA9PT0gUU9qZWN0VGFyZ2V0U3ltYm9sKSByZXR1cm4gdGFyZ2V0O1xuICAgICAgaWYgKHByb3AgPT09IFFPamVjdEZsYWdzU3ltYm9sKSByZXR1cm4gdGhpcy4kZmxhZ3MkO1xuICAgICAgcmV0dXJuIHRhcmdldFtwcm9wXTtcbiAgICB9XG4gICAgbGV0IHN1YnNjcmliZXI6IFN1YnNjcmliZXIgfCB1bmRlZmluZWQgfCBudWxsO1xuICAgIGNvbnN0IGludm9rZUN0eCA9IHRyeUdldEludm9rZUNvbnRleHQoKTtcbiAgICBjb25zdCByZWN1cnNpdmUgPSAodGhpcy4kZmxhZ3MkICYgUU9iamVjdFJlY3Vyc2l2ZSkgIT09IDA7XG4gICAgY29uc3QgaW1tdXRhYmxlID0gKHRoaXMuJGZsYWdzJCAmIFFPYmplY3RJbW11dGFibGUpICE9PSAwO1xuICAgIGlmIChpbnZva2VDdHgpIHtcbiAgICAgIHN1YnNjcmliZXIgPSBpbnZva2VDdHguJHN1YnNjcmliZXIkO1xuICAgIH1cbiAgICBsZXQgdmFsdWUgPSB0YXJnZXRbcHJvcF07XG4gICAgaWYgKGlzTXV0YWJsZSh2YWx1ZSkpIHtcbiAgICAgIHZhbHVlID0gdmFsdWUudjtcbiAgICB9IGVsc2UgaWYgKGltbXV0YWJsZSkge1xuICAgICAgc3Vic2NyaWJlciA9IG51bGw7XG4gICAgfVxuICAgIGlmIChzdWJzY3JpYmVyKSB7XG4gICAgICBjb25zdCBpc0EgPSBpc0FycmF5KHRhcmdldCk7XG4gICAgICB0aGlzLiRtYW5hZ2VyJC4kYWRkU3ViJChzdWJzY3JpYmVyLCBpc0EgPyB1bmRlZmluZWQgOiBwcm9wKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlY3Vyc2l2ZSA/IHdyYXAodmFsdWUsIHRoaXMuJGNvbnRhaW5lclN0YXRlJCkgOiB2YWx1ZTtcbiAgfVxuXG4gIHNldCh0YXJnZXQ6IFRhcmdldFR5cGUsIHByb3A6IHN0cmluZyB8IHN5bWJvbCwgbmV3VmFsdWU6IGFueSk6IGJvb2xlYW4ge1xuICAgIGlmICh0eXBlb2YgcHJvcCA9PT0gJ3N5bWJvbCcpIHtcbiAgICAgIHRhcmdldFtwcm9wXSA9IG5ld1ZhbHVlO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGNvbnN0IGltbXV0YWJsZSA9ICh0aGlzLiRmbGFncyQgJiBRT2JqZWN0SW1tdXRhYmxlKSAhPT0gMDtcbiAgICBpZiAoaW1tdXRhYmxlKSB7XG4gICAgICB0aHJvdyBxRXJyb3IoUUVycm9yX2ltbXV0YWJsZVByb3BzKTtcbiAgICB9XG4gICAgY29uc3QgcmVjdXJzaXZlID0gKHRoaXMuJGZsYWdzJCAmIFFPYmplY3RSZWN1cnNpdmUpICE9PSAwO1xuICAgIGNvbnN0IHVud3JhcHBlZE5ld1ZhbHVlID0gcmVjdXJzaXZlID8gdW53cmFwUHJveHkobmV3VmFsdWUpIDogbmV3VmFsdWU7XG4gICAgaWYgKHFEZXYpIHtcbiAgICAgIHZlcmlmeVNlcmlhbGl6YWJsZSh1bndyYXBwZWROZXdWYWx1ZSk7XG4gICAgICBjb25zdCBpbnZva2VDdHggPSB0cnlHZXRJbnZva2VDb250ZXh0KCk7XG4gICAgICBpZiAoaW52b2tlQ3R4ICYmIGludm9rZUN0eC4kZXZlbnQkID09PSBSZW5kZXJFdmVudCkge1xuICAgICAgICBsb2dXYXJuKFxuICAgICAgICAgICdTdGF0ZSBtdXRhdGlvbiBpbnNpZGUgcmVuZGVyIGZ1bmN0aW9uLiBNb3ZlIG11dGF0aW9uIHRvIHVzZVdhdGNoKCksIHVzZUNsaWVudEVmZmVjdCgpIG9yIHVzZVNlcnZlck1vdW50KCknLFxuICAgICAgICAgIGludm9rZUN0eC4kaG9zdEVsZW1lbnQkLFxuICAgICAgICAgIHByb3BcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgaXNBID0gaXNBcnJheSh0YXJnZXQpO1xuICAgIGlmIChpc0EpIHtcbiAgICAgIHRhcmdldFtwcm9wIGFzIGFueV0gPSB1bndyYXBwZWROZXdWYWx1ZTtcbiAgICAgIHRoaXMuJG1hbmFnZXIkLiRub3RpZnlTdWJzJCgpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgY29uc3Qgb2xkVmFsdWUgPSB0YXJnZXRbcHJvcF07XG4gICAgaWYgKG9sZFZhbHVlICE9PSB1bndyYXBwZWROZXdWYWx1ZSkge1xuICAgICAgdGFyZ2V0W3Byb3BdID0gdW53cmFwcGVkTmV3VmFsdWU7XG4gICAgICB0aGlzLiRtYW5hZ2VyJC4kbm90aWZ5U3VicyQocHJvcCk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgaGFzKHRhcmdldDogVGFyZ2V0VHlwZSwgcHJvcGVydHk6IHN0cmluZyB8IHN5bWJvbCkge1xuICAgIGlmIChwcm9wZXJ0eSA9PT0gUU9qZWN0VGFyZ2V0U3ltYm9sKSByZXR1cm4gdHJ1ZTtcbiAgICBpZiAocHJvcGVydHkgPT09IFFPamVjdEZsYWdzU3ltYm9sKSByZXR1cm4gdHJ1ZTtcblxuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGFyZ2V0LCBwcm9wZXJ0eSk7XG4gIH1cblxuICBvd25LZXlzKHRhcmdldDogVGFyZ2V0VHlwZSk6IEFycmF5TGlrZTxzdHJpbmcgfCBzeW1ib2w+IHtcbiAgICBsZXQgc3Vic2NyaWJlcjogU3Vic2NyaWJlciB8IG51bGwgfCB1bmRlZmluZWQgPSBudWxsO1xuICAgIGNvbnN0IGludm9rZUN0eCA9IHRyeUdldEludm9rZUNvbnRleHQoKTtcbiAgICBpZiAoaW52b2tlQ3R4KSB7XG4gICAgICBzdWJzY3JpYmVyID0gaW52b2tlQ3R4LiRzdWJzY3JpYmVyJDtcbiAgICB9XG4gICAgaWYgKHN1YnNjcmliZXIpIHtcbiAgICAgIHRoaXMuJG1hbmFnZXIkLiRhZGRTdWIkKHN1YnNjcmliZXIpO1xuICAgIH1cbiAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGFyZ2V0KTtcbiAgfVxufVxuXG5jb25zdCB3cmFwID0gPFQ+KHZhbHVlOiBULCBjb250YWluZXJTdGF0ZTogQ29udGFpbmVyU3RhdGUpOiBUID0+IHtcbiAgaWYgKGlzUXJsKHZhbHVlKSkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBpZiAoaXNPYmplY3QodmFsdWUpKSB7XG4gICAgaWYgKE9iamVjdC5pc0Zyb3plbih2YWx1ZSkpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgY29uc3QgbmFrZWRWYWx1ZSA9IHVud3JhcFByb3h5KHZhbHVlKTtcbiAgICBpZiAobmFrZWRWYWx1ZSAhPT0gdmFsdWUpIHtcbiAgICAgIC8vIGFscmVhZHkgYSBwcm94eSByZXR1cm47XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGlmIChpc05vZGUobmFrZWRWYWx1ZSkpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgaWYgKCFzaG91bGRTZXJpYWxpemUobmFrZWRWYWx1ZSkpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgaWYgKHFEZXYpIHtcbiAgICAgIHZlcmlmeVNlcmlhbGl6YWJsZTxUPih2YWx1ZSk7XG4gICAgfVxuICAgIGNvbnN0IHByb3h5ID0gY29udGFpbmVyU3RhdGUuJHByb3h5TWFwJC5nZXQodmFsdWUpO1xuICAgIHJldHVybiBwcm94eSA/IHByb3h5IDogZ2V0T3JDcmVhdGVQcm94eSh2YWx1ZSBhcyBhbnksIGNvbnRhaW5lclN0YXRlLCBRT2JqZWN0UmVjdXJzaXZlKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCB2ZXJpZnlTZXJpYWxpemFibGUgPSA8VD4odmFsdWU6IFQpOiBUID0+IHtcbiAgY29uc3Qgc2VlbiA9IG5ldyBTZXQoKTtcbiAgcmV0dXJuIF92ZXJpZnlTZXJpYWxpemFibGUodmFsdWUsIHNlZW4pO1xufTtcblxuY29uc3QgX3ZlcmlmeVNlcmlhbGl6YWJsZSA9IDxUPih2YWx1ZTogVCwgc2VlbjogU2V0PGFueT4pOiBUID0+IHtcbiAgY29uc3QgdW53cmFwcGVkID0gdW53cmFwUHJveHkodmFsdWUpO1xuICBpZiAodW53cmFwcGVkID09IG51bGwpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgaWYgKHNob3VsZFNlcmlhbGl6ZSh1bndyYXBwZWQpKSB7XG4gICAgaWYgKHNlZW4uaGFzKHVud3JhcHBlZCkpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgc2Vlbi5hZGQodW53cmFwcGVkKTtcbiAgICBpZiAoaXNRcmwodW53cmFwcGVkKSkge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBzd2l0Y2ggKHR5cGVvZiB1bndyYXBwZWQpIHtcbiAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgIGlmIChpc0FycmF5KHVud3JhcHBlZCkpIHtcbiAgICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgdW53cmFwcGVkKSB7XG4gICAgICAgICAgICBfdmVyaWZ5U2VyaWFsaXphYmxlKGl0ZW0sIHNlZW4pO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKE9iamVjdC5nZXRQcm90b3R5cGVPZih1bndyYXBwZWQpID09PSBPYmplY3QucHJvdG90eXBlKSB7XG4gICAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIE9iamVjdC52YWx1ZXModW53cmFwcGVkKSkge1xuICAgICAgICAgICAgX3ZlcmlmeVNlcmlhbGl6YWJsZShpdGVtLCBzZWVuKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1Byb21pc2UodW53cmFwcGVkKSkgcmV0dXJuIHZhbHVlO1xuICAgICAgICBpZiAoaXNFbGVtZW50KHVud3JhcHBlZCkpIHJldHVybiB2YWx1ZTtcbiAgICAgICAgaWYgKGlzRG9jdW1lbnQodW53cmFwcGVkKSkgcmV0dXJuIHZhbHVlO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgIGNhc2UgJ251bWJlcic6XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgdGhyb3cgcUVycm9yKFFFcnJvcl92ZXJpZnlTZXJpYWxpemFibGUsIHVud3JhcHBlZCk7XG4gIH1cbiAgcmV0dXJuIHZhbHVlO1xufTtcbmNvbnN0IG5vU2VyaWFsaXplU2V0ID0gLyojX19QVVJFX18qLyBuZXcgV2Vha1NldDxhbnk+KCk7XG5cbmV4cG9ydCBjb25zdCBzaG91bGRTZXJpYWxpemUgPSAob2JqOiBhbnkpOiBib29sZWFuID0+IHtcbiAgaWYgKGlzT2JqZWN0KG9iaikgfHwgaXNGdW5jdGlvbihvYmopKSB7XG4gICAgcmV0dXJuICFub1NlcmlhbGl6ZVNldC5oYXMob2JqKTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbi8qKlxuICogQGFscGhhXG4gKi9cbmV4cG9ydCB0eXBlIE5vU2VyaWFsaXplPFQ+ID0gKFQgJiB7IF9fbm9fc2VyaWFsaXplX186IHRydWUgfSkgfCB1bmRlZmluZWQ7XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kI25vU2VyaWFsaXplXCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi4vcmVhZG1lLm1kI25vU2VyaWFsaXplIGluc3RlYWQpXG4vKipcbiAqIE1hcmtzIGEgcHJvcGVydHkgb24gYSBzdG9yZSBhcyBub24tc2VyaWFsaXphYmxlLlxuICpcbiAqIEF0IHRpbWVzIGl0IGlzIG5lY2Vzc2FyeSB0byBzdG9yZSB2YWx1ZXMgb24gYSBzdG9yZSB0aGF0IGFyZSBub24tc2VyaWFsaXphYmxlLiBOb3JtYWxseSB0aGlzXG4gKiBpcyBhIHJ1bnRpbWUgZXJyb3IgYXMgU3RvcmUgd2FudHMgdG8gZWFnZXJseSByZXBvcnQgd2hlbiBhIG5vbi1zZXJpYWxpemFibGUgcHJvcGVydHkgaXNcbiAqIGFzc2lnbmVkIHRvIGl0LlxuICpcbiAqIFlvdSBjYW4gdXNlIGBub1NlcmlhbGl6ZSgpYCB0byBtYXJrIGEgdmFsdWUgYXMgbm9uLXNlcmlhbGl6YWJsZS4gVGhlIHZhbHVlIGlzIHBlcnNpc3RlZCBpbiB0aGVcbiAqIFN0b3JlIGJ1dCBkb2VzIG5vdCBzdXJ2aXZlIHNlcmlhbGl6YXRpb24uIFRoZSBpbXBsaWNhdGlvbiBpcyB0aGF0IHdoZW4geW91ciBhcHBsaWNhdGlvbiBpc1xuICogcmVzdW1lZCwgdGhlIHZhbHVlIG9mIHRoaXMgb2JqZWN0IHdpbGwgYmUgYHVuZGVmaW5lZGAuIFlvdSB3aWxsIGJlIHJlc3BvbnNpYmxlIGZvciByZWNvdmVyaW5nXG4gKiBmcm9tIHRoaXMuXG4gKlxuICogU2VlOiBbbm9TZXJpYWxpemUgVHV0b3JpYWxdKGh0dHA6Ly9xd2lrLmJ1aWxkZXIuaW8vdHV0b3JpYWwvc3RvcmUvbm8tc2VyaWFsaXplKVxuICpcbiAqIEBhbHBoYVxuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgY29uc3Qgbm9TZXJpYWxpemUgPSA8VCBleHRlbmRzIHt9PihpbnB1dDogVCk6IE5vU2VyaWFsaXplPFQ+ID0+IHtcbiAgbm9TZXJpYWxpemVTZXQuYWRkKGlucHV0KTtcbiAgcmV0dXJuIGlucHV0IGFzIGFueTtcbn07XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kI2ltbXV0YWJsZVwiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IC4uL3JlYWRtZS5tZCNpbW11dGFibGUgaW5zdGVhZClcbi8qKlxuICogTWFyayBhbiBvYmplY3QgYXMgaW1tdXRhYmxlLCBwcmV2ZW50aW5nIFF3aWsgZnJvbSBjcmVhdGluZyBzdWJzY3JpcHRpb25zIG9uIHRoYXQgb2JqZWN0LlxuICpcbiAqIFF3aWsgYXV0b21hdGljYWxseSBjcmVhdGVzIHN1YnNjcmlwdGlvbnMgb24gc3RvcmUgb2JqZWN0cyBjcmVhdGVkIGJ5IGB1c2VTdG9yZSgpYC4gQnkgbWFya2luZ1xuICogYW4gb2JqZWN0IGFzIGBpbW11dGFibGVgLCBpdCBoaW50cyB0byBRd2lrIHRoYXQgdGhlIHByb3BlcnRpZXMgb2YgdGhpcyBvYmplY3Qgd2lsbCBub3QgY2hhbmdlLFxuICogYW5kIHRoZXJlZm9yZSB0aGVyZSBpcyBubyBuZWVkIHRvIGNyZWF0ZSBzdWJzY3JpcHRpb25zIGZvciB0aG9zZSBvYmplY3RzLlxuICpcbiAqIEBhbHBoYVxuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgY29uc3QgaW1tdXRhYmxlID0gPFQgZXh0ZW5kcyB7fT4oaW5wdXQ6IFQpOiBSZWFkb25seTxUPiA9PiB7XG4gIHJldHVybiBPYmplY3QuZnJlZXplKGlucHV0KTtcbn07XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kI211dGFibGVcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjbXV0YWJsZSBpbnN0ZWFkKVxuLyoqXG4gKiBNYXJrIHByb3BlcnR5IGFzIG11dGFibGUuXG4gKlxuICogUXdpayBhc3N1bWVzIHRoYXQgYWxsIGJpbmRpbmdzIGluIGNvbXBvbmVudHMgYXJlIGltbXV0YWJsZSBieSBkZWZhdWx0LiBUaGlzIGlzIGRvbmUgZm9yIHR3b1xuICogcmVhc29uczpcbiAqXG4gKiAxLiBKU1ggZG9lcyBub3QgYWxsb3cgUXdpayBydW50aW1lIHRvIGtub3cgaWYgYSBiaW5kaW5nIGlzIHN0YXRpYyBvciBtdXRhYmxlLlxuICogICAgYDxFeGFtcGxlIHZhbHVlQT17MTIzfSB2YWx1ZUI9e2V4cH0+YCBBdCBydW50aW1lIHRoZXJlIGlzIG5vIHdheSB0byBrbm93IGlmIGB2YWx1ZUFgIGlzXG4gKiBpbW11dGFibGUuXG4gKiAyLiBJZiBRd2lrIGFzc3VtZXMgdGhhdCBwcm9wZXJ0aWVzIGFyZSBpbW11dGFibGUsIHRoZW4gaXQgY2FuIGRvIGEgYmV0dGVyIGpvYiBkYXRhLXNoYWtpbmcgdGhlXG4gKiBhbW91bnQgb2YgY29kZSB0aGF0IG5lZWRzIHRvIGJlIHNlcmlhbGl6ZWQgdG8gdGhlIGNsaWVudC5cbiAqXG4gKiBCZWNhdXNlIFF3aWsgYXNzdW1lcyB0aGF0IGJpbmRpbmdzIGFyZSBpbW11dGFibGUgYnkgZGVmYXVsdCwgaXQgbmVlZHMgYSB3YXkgZm9yIGEgZGV2ZWxvcGVyIHRvXG4gKiBsZXQgaXQga25vdyB0aGF0IGJpbmRpbmcgaXMgbXV0YWJsZS4gYG11dGFibGUoKWAgZnVuY3Rpb24gc2VydmVzIHRoYXQgcHVycG9zZS5cbiAqIGA8RXhhbXBsZSB2YWx1ZUE9ezEyM30gdmFsdWVCPXttdXRhYmxlKGV4cCl9PmAuIEluIHRoaXMgY2FzZSwgdGhlIFF3aWsgcnVudGltZSBjYW4gY29ycmVjdGx5XG4gKiByZWNvZ25pemUgdGhhdCB0aGUgYEV4YW1wbGVgIHByb3BzIGFyZSBtdXRhYmxlIGFuZCBuZWVkIHRvIGJlIHNlcmlhbGl6ZWQuXG4gKlxuICogU2VlOiBbTXV0YWJsZSBQcm9wcyBUdXRvcmlhbF0oaHR0cDovL3F3aWsuYnVpbGRlci5pby90dXRvcmlhbC9wcm9wcy9tdXRhYmxlKSBmb3IgYW4gZXhhbXBsZVxuICpcbiAqIEBhbHBoYVxuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgY29uc3QgbXV0YWJsZSA9IDxUPih2OiBUKTogTXV0YWJsZVdyYXBwZXI8VD4gPT4ge1xuICByZXR1cm4ge1xuICAgIFtNVVRBQkxFXTogdHJ1ZSxcbiAgICB2LFxuICB9O1xufTtcblxuZXhwb3J0IGNvbnN0IGlzQ29ubmVjdGVkID0gKHN1YjogU3Vic2NyaWJlcik6IGJvb2xlYW4gPT4ge1xuICBpZiAoaXNFbGVtZW50KHN1YikpIHtcbiAgICByZXR1cm4gISF0cnlHZXRDb250ZXh0KHN1YikgfHwgc3ViLmlzQ29ubmVjdGVkO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBpc0Nvbm5lY3RlZChzdWIuZWwpO1xuICB9XG59O1xuXG5jb25zdCBNVVRBQkxFID0gU3ltYm9sKCdtdXRhYmxlJyk7XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kI011dGFibGVXcmFwcGVyXCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi4vcmVhZG1lLm1kI011dGFibGVXcmFwcGVyIGluc3RlYWQpXG4vKipcbiAqIEEgbWFya2VyIG9iamVjdCByZXR1cm5lZCBieSBgbXV0YWJsZSgpYCB0byBpZGVudGlmeSB0aGF0IHRoZSBiaW5kaW5nIGlzIG11dGFibGUuXG4gKlxuICogQGFscGhhXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBpbnRlcmZhY2UgTXV0YWJsZVdyYXBwZXI8VD4ge1xuICAvKipcbiAgICogQSBtYXJrZXIgc3ltYm9sLlxuICAgKi9cbiAgW01VVEFCTEVdOiB0cnVlO1xuICAvKipcbiAgICogTXV0YWJsZSB2YWx1ZS5cbiAgICovXG4gIHY6IFQ7XG59XG5cbmV4cG9ydCBjb25zdCBpc011dGFibGUgPSAodjogYW55KTogdiBpcyBNdXRhYmxlV3JhcHBlcjxhbnk+ID0+IHtcbiAgcmV0dXJuIGlzT2JqZWN0KHYpICYmIHZbTVVUQUJMRV0gPT09IHRydWU7XG59O1xuXG4vKipcbiAqIEBhbHBoYVxuICovXG5leHBvcnQgY29uc3QgdW53cmFwUHJveHkgPSA8VD4ocHJveHk6IFQpOiBUID0+IHtcbiAgcmV0dXJuIGdldFByb3h5VGFyZ2V0PFQ+KHByb3h5KSA/PyBwcm94eTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRQcm94eVRhcmdldCA9IDxUID0gUmVjb3JkPHN0cmluZywgYW55Pj4ob2JqOiBUKTogVCB8IHVuZGVmaW5lZCA9PiB7XG4gIGlmIChpc09iamVjdChvYmopKSB7XG4gICAgcmV0dXJuIChvYmogYXMgYW55KVtRT2plY3RUYXJnZXRTeW1ib2xdO1xuICB9XG4gIHJldHVybiB1bmRlZmluZWQ7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0UHJveHlGbGFncyA9IDxUID0gUmVjb3JkPHN0cmluZywgYW55Pj4ob2JqOiBUKTogbnVtYmVyIHwgdW5kZWZpbmVkID0+IHtcbiAgaWYgKGlzT2JqZWN0KG9iaikpIHtcbiAgICByZXR1cm4gKG9iaiBhcyBhbnkpW1FPamVjdEZsYWdzU3ltYm9sXTtcbiAgfVxuICByZXR1cm4gdW5kZWZpbmVkO1xufTtcbiJdfQ==","export const newQObjectMap = () => {\n    const array = [];\n    return {\n        $array$: array,\n        $get$(index) {\n            return array[index];\n        },\n        $indexOf$(obj) {\n            const index = array.indexOf(obj);\n            return index === -1 ? undefined : index;\n        },\n        $add$(object) {\n            const index = array.indexOf(object);\n            if (index === -1) {\n                array.push(object);\n                return array.length - 1;\n            }\n            return index;\n        },\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvcHMtb2JqLW1hcC5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9wcm9wcy9wcm9wcy1vYmotbWFwLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQVNBLE1BQU0sQ0FBQyxNQUFNLGFBQWEsR0FBRyxHQUFlLEVBQUU7SUFDNUMsTUFBTSxLQUFLLEdBQW1CLEVBQUUsQ0FBQztJQUNqQyxPQUFPO1FBQ0wsT0FBTyxFQUFFLEtBQUs7UUFDZCxLQUFLLENBQUMsS0FBYTtZQUNqQixPQUFPLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUN0QixDQUFDO1FBQ0QsU0FBUyxDQUFDLEdBQVc7WUFDbkIsTUFBTSxLQUFLLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUNqQyxPQUFPLEtBQUssS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7UUFDMUMsQ0FBQztRQUNELEtBQUssQ0FBQyxNQUFvQjtZQUN4QixNQUFNLEtBQUssR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQ3BDLElBQUksS0FBSyxLQUFLLENBQUMsQ0FBQyxFQUFFO2dCQUNoQixLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO2dCQUNuQixPQUFPLEtBQUssQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO2FBQ3pCO1lBQ0QsT0FBTyxLQUFLLENBQUM7UUFDZixDQUFDO0tBQ1ksQ0FBQztBQUNsQixDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IFFPYmplY3QgfSBmcm9tICcuLi9vYmplY3QvcS1vYmplY3QnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFFPYmplY3RNYXAge1xuICAkYWRkJChxT2JqZWN0OiBRT2JqZWN0PGFueT4pOiBudW1iZXI7XG4gICRnZXQkKGluZGV4OiBudW1iZXIpOiBRT2JqZWN0PGFueT4gfCB1bmRlZmluZWQ7XG4gICRpbmRleE9mJChvYmplY3Q6IFFPYmplY3Q8YW55Pik6IG51bWJlciB8IHVuZGVmaW5lZDtcbiAgcmVhZG9ubHkgJGFycmF5JDogUU9iamVjdDxhbnk+W107XG59XG5cbmV4cG9ydCBjb25zdCBuZXdRT2JqZWN0TWFwID0gKCk6IFFPYmplY3RNYXAgPT4ge1xuICBjb25zdCBhcnJheTogUU9iamVjdDxhbnk+W10gPSBbXTtcbiAgcmV0dXJuIHtcbiAgICAkYXJyYXkkOiBhcnJheSxcbiAgICAkZ2V0JChpbmRleDogbnVtYmVyKTogUU9iamVjdDxhbnk+IHwgdW5kZWZpbmVkIHtcbiAgICAgIHJldHVybiBhcnJheVtpbmRleF07XG4gICAgfSxcbiAgICAkaW5kZXhPZiQob2JqOiBzdHJpbmcpOiBudW1iZXIgfCB1bmRlZmluZWQge1xuICAgICAgY29uc3QgaW5kZXggPSBhcnJheS5pbmRleE9mKG9iaik7XG4gICAgICByZXR1cm4gaW5kZXggPT09IC0xID8gdW5kZWZpbmVkIDogaW5kZXg7XG4gICAgfSxcbiAgICAkYWRkJChvYmplY3Q6IFFPYmplY3Q8YW55Pikge1xuICAgICAgY29uc3QgaW5kZXggPSBhcnJheS5pbmRleE9mKG9iamVjdCk7XG4gICAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICAgIGFycmF5LnB1c2gob2JqZWN0KTtcbiAgICAgICAgcmV0dXJuIGFycmF5Lmxlbmd0aCAtIDE7XG4gICAgICB9XG4gICAgICByZXR1cm4gaW5kZXg7XG4gICAgfSxcbiAgfSBhcyBRT2JqZWN0TWFwO1xufTtcbiJdfQ==","import { createProxy, getProxyTarget, isMutable, QObjectImmutable, } from '../object/q-object';\nimport { resumeContainer } from '../object/store';\nimport { newQObjectMap } from './props-obj-map';\nimport { qPropWriteQRL } from './props-on';\nimport { QContainerAttr } from '../util/markers';\nimport { $ } from '../import/qrl.public';\nimport { destroyWatch } from '../use/use-watch';\nimport { pauseContainer } from '../object/store';\nimport { getContainerState } from '../render/notify-render';\nimport { qDev } from '../util/qdev';\nimport { logError } from '../util/log';\nimport { isQrl } from '../import/qrl-class';\nimport { directGetAttribute } from '../render/fast-calls';\nimport { assertDefined, assertTrue } from '../assert/assert';\nimport { codeToText, QError_immutableJsxProps } from '../error/error';\nimport { isArray } from '../util/types';\nconst Q_CTX = '__ctx__';\nexport const resumeIfNeeded = (containerEl) => {\n    const isResumed = directGetAttribute(containerEl, QContainerAttr);\n    if (isResumed === 'paused') {\n        resumeContainer(containerEl);\n        if (qDev) {\n            appendQwikDevTools(containerEl);\n        }\n    }\n};\nexport const appendQwikDevTools = (containerEl) => {\n    containerEl['qwik'] = {\n        pause: () => pauseContainer(containerEl),\n        state: getContainerState(containerEl),\n    };\n};\nexport const tryGetContext = (element) => {\n    return element[Q_CTX];\n};\nexport const getContext = (element) => {\n    let ctx = tryGetContext(element);\n    if (!ctx) {\n        const cache = new Map();\n        element[Q_CTX] = ctx = {\n            $element$: element,\n            $cache$: cache,\n            $refMap$: newQObjectMap(),\n            $dirty$: false,\n            $seq$: [],\n            $watches$: [],\n            $props$: undefined,\n            $renderQrl$: undefined,\n            $component$: undefined,\n        };\n    }\n    return ctx;\n};\nexport const cleanupContext = (ctx, subsManager) => {\n    const el = ctx.$element$;\n    ctx.$watches$.forEach((watch) => {\n        subsManager.$clearSub$(watch);\n        destroyWatch(watch);\n    });\n    if (ctx.$renderQrl$) {\n        subsManager.$clearSub$(el);\n    }\n    ctx.$component$ = undefined;\n    ctx.$renderQrl$ = undefined;\n    ctx.$seq$.length = 0;\n    ctx.$watches$.length = 0;\n    ctx.$cache$.clear();\n    ctx.$dirty$ = false;\n    ctx.$refMap$.$array$.length = 0;\n    el[Q_CTX] = undefined;\n};\nconst PREFIXES = ['document:on', 'window:on', 'on'];\nconst SCOPED = ['on-window', 'on-window', 'on'];\nexport const normalizeOnProp = (prop) => {\n    let scope = 'on';\n    for (let i = 0; i < PREFIXES.length; i++) {\n        const prefix = PREFIXES[i];\n        if (prop.startsWith(prefix)) {\n            scope = SCOPED[i];\n            prop = prop.slice(prefix.length);\n        }\n    }\n    if (prop.startsWith('-')) {\n        prop = prop.slice(1);\n    }\n    else {\n        prop = prop.toLowerCase();\n    }\n    return `${scope}:${prop}`;\n};\nexport const setEvent = (rctx, ctx, prop, value) => {\n    assertTrue(prop.endsWith('$'), 'render: event property does not end with $', prop);\n    const qrl = isArray(value) ? value.map(ensureQrl) : ensureQrl(value);\n    qPropWriteQRL(rctx, ctx, normalizeOnProp(prop.slice(0, -1)), qrl);\n};\nconst ensureQrl = (value) => {\n    return isQrl(value) ? value : $(value);\n};\nexport const createProps = (target, containerState) => {\n    return createProxy(target, containerState, QObjectImmutable);\n};\nexport const getPropsMutator = (ctx, containerState) => {\n    let props = ctx.$props$;\n    if (!ctx.$props$) {\n        ctx.$props$ = props = createProps({}, containerState);\n    }\n    const target = getProxyTarget(props);\n    assertDefined(target, `props have to be a proxy, but it is not`, props);\n    const manager = containerState.$subsManager$.$getLocal$(target);\n    return {\n        set(prop, value) {\n            const didSet = prop in target;\n            let oldValue = target[prop];\n            let mut = false;\n            if (isMutable(oldValue)) {\n                oldValue = oldValue.v;\n            }\n            target[prop] = value;\n            if (isMutable(value)) {\n                value = value.v;\n                mut = true;\n            }\n            if (oldValue !== value) {\n                if (qDev) {\n                    if (didSet && !mut && !isQrl(value)) {\n                        const displayName = ctx.$renderQrl$?.getSymbol() ?? ctx.$element$.localName;\n                        logError(codeToText(QError_immutableJsxProps), `If you need to change a value of a passed in prop, please wrap the prop with \"mutable()\" <${displayName} ${prop}={mutable(...)}>`, '\\n - Component:', displayName, '\\n - Prop:', prop, '\\n - Old value:', oldValue, '\\n - New value:', value);\n                    }\n                }\n                manager.$notifySubs$(prop);\n            }\n        },\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvcHMuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvcHJvcHMvcHJvcHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsT0FBTyxFQUNMLFdBQVcsRUFDWCxjQUFjLEVBQ2QsU0FBUyxFQUNULGdCQUFnQixHQUVqQixNQUFNLG9CQUFvQixDQUFDO0FBQzVCLE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUVsRCxPQUFPLEVBQUUsYUFBYSxFQUFjLE1BQU0saUJBQWlCLENBQUM7QUFDNUQsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLFlBQVksQ0FBQztBQUMzQyxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDakQsT0FBTyxFQUFFLENBQUMsRUFBTyxNQUFNLHNCQUFzQixDQUFDO0FBRTlDLE9BQU8sRUFBRSxZQUFZLEVBQXdCLE1BQU0sa0JBQWtCLENBQUM7QUFDdEUsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQ2pELE9BQU8sRUFBa0IsaUJBQWlCLEVBQUUsTUFBTSx5QkFBeUIsQ0FBQztBQUM1RSxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sY0FBYyxDQUFDO0FBQ3BDLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFDdkMsT0FBTyxFQUFFLEtBQUssRUFBZSxNQUFNLHFCQUFxQixDQUFDO0FBQ3pELE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBQzFELE9BQU8sRUFBRSxhQUFhLEVBQUUsVUFBVSxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDN0QsT0FBTyxFQUFFLFVBQVUsRUFBRSx3QkFBd0IsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQ3RFLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFeEMsTUFBTSxLQUFLLEdBQUcsU0FBUyxDQUFDO0FBRXhC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QUcsS0FBSyxDQUFDO1lBQ2hCLElBQUksU0FBUyxDQUFDLFFBQVEsQ0FBQyxFQUFFO2dCQUN2QixRQUFRLEdBQUcsUUFBUSxDQUFDLENBQUMsQ0FBQzthQUN2QjtZQUNELE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxLQUFLLENBQUM7WUFDckIsSUFBSSxTQUFTLENBQUMsS0FBSyxDQUFDLEVBQUU7Z0JBQ3BCLEtBQUssR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDO2dCQUNoQixHQUFHLEdBQUcsSUFBSSxDQUFDO2FBQ1o7WUFDRCxJQUFJLFFBQVEsS0FBSyxLQUFLLEVBQUU7Z0JBQ3RCLElBQUksSUFBSSxFQUFFO29CQUNSLElBQUksTUFBTSxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxFQUFFO3dCQUNuQyxNQUFNLFdBQVcsR0FBRyxHQUFHLENBQUMsV0FBVyxFQUFFLFNBQVMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDO3dCQUM1RSxRQUFRLENBQ04sVUFBVSxDQUFDLHdCQUF3QixDQUFDLEVBQ3BDLDZGQUE2RixXQUFXLElBQUksSUFBSSxrQkFBa0IsRUFDbEksaUJBQWlCLEVBQ2pCLFdBQVcsRUFDWCxZQUFZLEVBQ1osSUFBSSxFQUNKLGlCQUFpQixFQUNqQixRQUFRLEVBQ1IsaUJBQWlCLEVBQ2pCLEtBQUssQ0FDTixDQUFDO3FCQUNIO2lCQUNGO2dCQUNELE9BQU8sQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLENBQUM7YUFDNUI7UUFDSCxDQUFDO0tBQ0YsQ0FBQztBQUNKLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgUHJvY2Vzc2VkSlNYTm9kZSB9IGZyb20gJy4uL3JlbmRlci9qc3gvdHlwZXMvanN4LW5vZGUnO1xuaW1wb3J0IHtcbiAgY3JlYXRlUHJveHksXG4gIGdldFByb3h5VGFyZ2V0LFxuICBpc011dGFibGUsXG4gIFFPYmplY3RJbW11dGFibGUsXG4gIFN1YnNjcmlwdGlvbk1hbmFnZXIsXG59IGZyb20gJy4uL29iamVjdC9xLW9iamVjdCc7XG5pbXBvcnQgeyByZXN1bWVDb250YWluZXIgfSBmcm9tICcuLi9vYmplY3Qvc3RvcmUnO1xuaW1wb3J0IHR5cGUgeyBSZW5kZXJDb250ZXh0IH0gZnJvbSAnLi4vcmVuZGVyL2N1cnNvcic7XG5pbXBvcnQgeyBuZXdRT2JqZWN0TWFwLCBRT2JqZWN0TWFwIH0gZnJvbSAnLi9wcm9wcy1vYmotbWFwJztcbmltcG9ydCB7IHFQcm9wV3JpdGVRUkwgfSBmcm9tICcuL3Byb3BzLW9uJztcbmltcG9ydCB7IFFDb250YWluZXJBdHRyIH0gZnJvbSAnLi4vdXRpbC9tYXJrZXJzJztcbmltcG9ydCB7ICQsIFFSTCB9IGZyb20gJy4uL2ltcG9ydC9xcmwucHVibGljJztcbmltcG9ydCB0eXBlIHsgT25SZW5kZXJGbiB9IGZyb20gJy4uL2NvbXBvbmVudC9jb21wb25lbnQucHVibGljJztcbmltcG9ydCB7IGRlc3Ryb3lXYXRjaCwgU3Vic2NyaWJlckRlc2NyaXB0b3IgfSBmcm9tICcuLi91c2UvdXNlLXdhdGNoJztcbmltcG9ydCB7IHBhdXNlQ29udGFpbmVyIH0gZnJvbSAnLi4vb2JqZWN0L3N0b3JlJztcbmltcG9ydCB7IENvbnRhaW5lclN0YXRlLCBnZXRDb250YWluZXJTdGF0ZSB9IGZyb20gJy4uL3JlbmRlci9ub3RpZnktcmVuZGVyJztcbmltcG9ydCB7IHFEZXYgfSBmcm9tICcuLi91dGlsL3FkZXYnO1xuaW1wb3J0IHsgbG9nRXJyb3IgfSBmcm9tICcuLi91dGlsL2xvZyc7XG5pbXBvcnQgeyBpc1FybCwgUVJMSW50ZXJuYWwgfSBmcm9tICcuLi9pbXBvcnQvcXJsLWNsYXNzJztcbmltcG9ydCB7IGRpcmVjdEdldEF0dHJpYnV0ZSB9IGZyb20gJy4uL3JlbmRlci9mYXN0LWNhbGxzJztcbmltcG9ydCB7IGFzc2VydERlZmluZWQsIGFzc2VydFRydWUgfSBmcm9tICcuLi9hc3NlcnQvYXNzZXJ0JztcbmltcG9ydCB7IGNvZGVUb1RleHQsIFFFcnJvcl9pbW11dGFibGVKc3hQcm9wcyB9IGZyb20gJy4uL2Vycm9yL2Vycm9yJztcbmltcG9ydCB7IGlzQXJyYXkgfSBmcm9tICcuLi91dGlsL3R5cGVzJztcblxuY29uc3QgUV9DVFggPSAnX19jdHhfXyc7XG5cbmV4cG9ydCBjb25zdCByZXN1bWVJZk5lZWRlZCA9IChjb250YWluZXJFbDogRWxlbWVudCk6IHZvaWQgPT4ge1xuICBjb25zdCBpc1Jlc3VtZWQgPSBkaXJlY3RHZXRBdHRyaWJ1dGUoY29udGFpbmVyRWwsIFFDb250YWluZXJBdHRyKTtcbiAgaWYgKGlzUmVzdW1lZCA9PT0gJ3BhdXNlZCcpIHtcbiAgICByZXN1bWVDb250YWluZXIoY29udGFpbmVyRWwpO1xuICAgIGlmIChxRGV2KSB7XG4gICAgICBhcHBlbmRRd2lrRGV2VG9vbHMoY29udGFpbmVyRWwpO1xuICAgIH1cbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGFwcGVuZFF3aWtEZXZUb29scyA9IChjb250YWluZXJFbDogRWxlbWVudCkgPT4ge1xuICAoY29udGFpbmVyRWwgYXMgYW55KVsncXdpayddID0ge1xuICAgIHBhdXNlOiAoKSA9PiBwYXVzZUNvbnRhaW5lcihjb250YWluZXJFbCksXG4gICAgc3RhdGU6IGdldENvbnRhaW5lclN0YXRlKGNvbnRhaW5lckVsKSxcbiAgfTtcbn07XG5cbmV4cG9ydCBpbnRlcmZhY2UgUUNvbnRleHRFdmVudHMge1xuICBbZXZlbnROYW1lOiBzdHJpbmddOiBRUkwgfCB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29tcG9uZW50Q3R4IHtcbiAgJGhvc3RFbGVtZW50JDogRWxlbWVudDtcbiAgJHN0eWxlSWQkOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gICRzdHlsZUNsYXNzJDogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAkc3R5bGVIb3N0Q2xhc3MkOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gICRzbG90cyQ6IFByb2Nlc3NlZEpTWE5vZGVbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBRQ29udGV4dCB7XG4gICRjYWNoZSQ6IE1hcDxzdHJpbmcsIGFueT47XG4gICRyZWZNYXAkOiBRT2JqZWN0TWFwO1xuICAkZWxlbWVudCQ6IEVsZW1lbnQ7XG4gICRkaXJ0eSQ6IGJvb2xlYW47XG4gICRwcm9wcyQ6IFJlY29yZDxzdHJpbmcsIGFueT4gfCB1bmRlZmluZWQ7XG4gICRyZW5kZXJRcmwkOiBRUkxJbnRlcm5hbDxPblJlbmRlckZuPGFueT4+IHwgdW5kZWZpbmVkO1xuICAkY29tcG9uZW50JDogQ29tcG9uZW50Q3R4IHwgdW5kZWZpbmVkO1xuICAkbGlzdGVuZXJzJD86IE1hcDxzdHJpbmcsIFFSTEludGVybmFsPGFueT5bXT47XG4gICRzZXEkOiBhbnlbXTtcbiAgJHdhdGNoZXMkOiBTdWJzY3JpYmVyRGVzY3JpcHRvcltdO1xuICAkY29udGV4dHMkPzogTWFwPHN0cmluZywgYW55Pjtcbn1cblxuZXhwb3J0IGNvbnN0IHRyeUdldENvbnRleHQgPSAoZWxlbWVudDogRWxlbWVudCk6IFFDb250ZXh0IHwgdW5kZWZpbmVkID0+IHtcbiAgcmV0dXJuIChlbGVtZW50IGFzIGFueSlbUV9DVFhdO1xufTtcbmV4cG9ydCBjb25zdCBnZXRDb250ZXh0ID0gKGVsZW1lbnQ6IEVsZW1lbnQpOiBRQ29udGV4dCA9PiB7XG4gIGxldCBjdHggPSB0cnlHZXRDb250ZXh0KGVsZW1lbnQpITtcbiAgaWYgKCFjdHgpIHtcbiAgICBjb25zdCBjYWNoZSA9IG5ldyBNYXAoKTtcbiAgICAoZWxlbWVudCBhcyBhbnkpW1FfQ1RYXSA9IGN0eCA9IHtcbiAgICAgICRlbGVtZW50JDogZWxlbWVudCxcbiAgICAgICRjYWNoZSQ6IGNhY2hlLFxuICAgICAgJHJlZk1hcCQ6IG5ld1FPYmplY3RNYXAoKSxcbiAgICAgICRkaXJ0eSQ6IGZhbHNlLFxuICAgICAgJHNlcSQ6IFtdLFxuICAgICAgJHdhdGNoZXMkOiBbXSxcbiAgICAgICRwcm9wcyQ6IHVuZGVmaW5lZCxcbiAgICAgICRyZW5kZXJRcmwkOiB1bmRlZmluZWQsXG4gICAgICAkY29tcG9uZW50JDogdW5kZWZpbmVkLFxuICAgIH07XG4gIH1cbiAgcmV0dXJuIGN0eDtcbn07XG5cbmV4cG9ydCBjb25zdCBjbGVhbnVwQ29udGV4dCA9IChjdHg6IFFDb250ZXh0LCBzdWJzTWFuYWdlcjogU3Vic2NyaXB0aW9uTWFuYWdlcikgPT4ge1xuICBjb25zdCBlbCA9IGN0eC4kZWxlbWVudCQ7XG4gIGN0eC4kd2F0Y2hlcyQuZm9yRWFjaCgod2F0Y2gpID0+IHtcbiAgICBzdWJzTWFuYWdlci4kY2xlYXJTdWIkKHdhdGNoKTtcbiAgICBkZXN0cm95V2F0Y2god2F0Y2gpO1xuICB9KTtcbiAgaWYgKGN0eC4kcmVuZGVyUXJsJCkge1xuICAgIHN1YnNNYW5hZ2VyLiRjbGVhclN1YiQoZWwpO1xuICB9XG4gIGN0eC4kY29tcG9uZW50JCA9IHVuZGVmaW5lZDtcbiAgY3R4LiRyZW5kZXJRcmwkID0gdW5kZWZpbmVkO1xuICBjdHguJHNlcSQubGVuZ3RoID0gMDtcbiAgY3R4LiR3YXRjaGVzJC5sZW5ndGggPSAwO1xuICBjdHguJGNhY2hlJC5jbGVhcigpO1xuICBjdHguJGRpcnR5JCA9IGZhbHNlO1xuICBjdHguJHJlZk1hcCQuJGFycmF5JC5sZW5ndGggPSAwO1xuICAoZWwgYXMgYW55KVtRX0NUWF0gPSB1bmRlZmluZWQ7XG59O1xuXG5jb25zdCBQUkVGSVhFUyA9IFsnZG9jdW1lbnQ6b24nLCAnd2luZG93Om9uJywgJ29uJ107XG5jb25zdCBTQ09QRUQgPSBbJ29uLXdpbmRvdycsICdvbi13aW5kb3cnLCAnb24nXTtcblxuZXhwb3J0IGNvbnN0IG5vcm1hbGl6ZU9uUHJvcCA9IChwcm9wOiBzdHJpbmcpID0+IHtcbiAgbGV0IHNjb3BlID0gJ29uJztcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBQUkVGSVhFUy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHByZWZpeCA9IFBSRUZJWEVTW2ldO1xuICAgIGlmIChwcm9wLnN0YXJ0c1dpdGgocHJlZml4KSkge1xuICAgICAgc2NvcGUgPSBTQ09QRURbaV07XG4gICAgICBwcm9wID0gcHJvcC5zbGljZShwcmVmaXgubGVuZ3RoKTtcbiAgICB9XG4gIH1cbiAgaWYgKHByb3Auc3RhcnRzV2l0aCgnLScpKSB7XG4gICAgcHJvcCA9IHByb3Auc2xpY2UoMSk7XG4gIH0gZWxzZSB7XG4gICAgcHJvcCA9IHByb3AudG9Mb3dlckNhc2UoKTtcbiAgfVxuICByZXR1cm4gYCR7c2NvcGV9OiR7cHJvcH1gO1xufTtcblxuZXhwb3J0IGNvbnN0IHNldEV2ZW50ID0gKHJjdHg6IFJlbmRlckNvbnRleHQsIGN0eDogUUNvbnRleHQsIHByb3A6IHN0cmluZywgdmFsdWU6IGFueSkgPT4ge1xuICBhc3NlcnRUcnVlKHByb3AuZW5kc1dpdGgoJyQnKSwgJ3JlbmRlcjogZXZlbnQgcHJvcGVydHkgZG9lcyBub3QgZW5kIHdpdGggJCcsIHByb3ApO1xuICBjb25zdCBxcmwgPSBpc0FycmF5KHZhbHVlKSA/IHZhbHVlLm1hcChlbnN1cmVRcmwpIDogZW5zdXJlUXJsKHZhbHVlKTtcbiAgcVByb3BXcml0ZVFSTChyY3R4LCBjdHgsIG5vcm1hbGl6ZU9uUHJvcChwcm9wLnNsaWNlKDAsIC0xKSksIHFybCk7XG59O1xuXG5jb25zdCBlbnN1cmVRcmwgPSAodmFsdWU6IGFueSkgPT4ge1xuICByZXR1cm4gaXNRcmwodmFsdWUpID8gdmFsdWUgOiAoJCh2YWx1ZSkgYXMgUVJMSW50ZXJuYWwpO1xufTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZVByb3BzID0gKHRhcmdldDogYW55LCBjb250YWluZXJTdGF0ZTogQ29udGFpbmVyU3RhdGUpID0+IHtcbiAgcmV0dXJuIGNyZWF0ZVByb3h5KHRhcmdldCwgY29udGFpbmVyU3RhdGUsIFFPYmplY3RJbW11dGFibGUpO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldFByb3BzTXV0YXRvciA9IChjdHg6IFFDb250ZXh0LCBjb250YWluZXJTdGF0ZTogQ29udGFpbmVyU3RhdGUpID0+IHtcbiAgbGV0IHByb3BzID0gY3R4LiRwcm9wcyQ7XG4gIGlmICghY3R4LiRwcm9wcyQpIHtcbiAgICBjdHguJHByb3BzJCA9IHByb3BzID0gY3JlYXRlUHJvcHMoe30sIGNvbnRhaW5lclN0YXRlKTtcbiAgfVxuICBjb25zdCB0YXJnZXQgPSBnZXRQcm94eVRhcmdldChwcm9wcyk7XG4gIGFzc2VydERlZmluZWQodGFyZ2V0LCBgcHJvcHMgaGF2ZSB0byBiZSBhIHByb3h5LCBidXQgaXQgaXMgbm90YCwgcHJvcHMpO1xuICBjb25zdCBtYW5hZ2VyID0gY29udGFpbmVyU3RhdGUuJHN1YnNNYW5hZ2VyJC4kZ2V0TG9jYWwkKHRhcmdldCk7XG5cbiAgcmV0dXJuIHtcbiAgICBzZXQocHJvcDogc3RyaW5nLCB2YWx1ZTogYW55KSB7XG4gICAgICBjb25zdCBkaWRTZXQgPSBwcm9wIGluIHRhcmdldDtcbiAgICAgIGxldCBvbGRWYWx1ZSA9IHRhcmdldFtwcm9wXTtcbiAgICAgIGxldCBtdXQgPSBmYWxzZTtcbiAgICAgIGlmIChpc011dGFibGUob2xkVmFsdWUpKSB7XG4gICAgICAgIG9sZFZhbHVlID0gb2xkVmFsdWUudjtcbiAgICAgIH1cbiAgICAgIHRhcmdldFtwcm9wXSA9IHZhbHVlO1xuICAgICAgaWYgKGlzTXV0YWJsZSh2YWx1ZSkpIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZS52O1xuICAgICAgICBtdXQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKG9sZFZhbHVlICE9PSB2YWx1ZSkge1xuICAgICAgICBpZiAocURldikge1xuICAgICAgICAgIGlmIChkaWRTZXQgJiYgIW11dCAmJiAhaXNRcmwodmFsdWUpKSB7XG4gICAgICAgICAgICBjb25zdCBkaXNwbGF5TmFtZSA9IGN0eC4kcmVuZGVyUXJsJD8uZ2V0U3ltYm9sKCkgPz8gY3R4LiRlbGVtZW50JC5sb2NhbE5hbWU7XG4gICAgICAgICAgICBsb2dFcnJvcihcbiAgICAgICAgICAgICAgY29kZVRvVGV4dChRRXJyb3JfaW1tdXRhYmxlSnN4UHJvcHMpLFxuICAgICAgICAgICAgICBgSWYgeW91IG5lZWQgdG8gY2hhbmdlIGEgdmFsdWUgb2YgYSBwYXNzZWQgaW4gcHJvcCwgcGxlYXNlIHdyYXAgdGhlIHByb3Agd2l0aCBcIm11dGFibGUoKVwiIDwke2Rpc3BsYXlOYW1lfSAke3Byb3B9PXttdXRhYmxlKC4uLil9PmAsXG4gICAgICAgICAgICAgICdcXG4gLSBDb21wb25lbnQ6JyxcbiAgICAgICAgICAgICAgZGlzcGxheU5hbWUsXG4gICAgICAgICAgICAgICdcXG4gLSBQcm9wOicsXG4gICAgICAgICAgICAgIHByb3AsXG4gICAgICAgICAgICAgICdcXG4gLSBPbGQgdmFsdWU6JyxcbiAgICAgICAgICAgICAgb2xkVmFsdWUsXG4gICAgICAgICAgICAgICdcXG4gLSBOZXcgdmFsdWU6JyxcbiAgICAgICAgICAgICAgdmFsdWVcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG1hbmFnZXIuJG5vdGlmeVN1YnMkKHByb3ApO1xuICAgICAgfVxuICAgIH0sXG4gIH07XG59O1xuIl19","import { isElement } from '../../testing/html';\nimport { tryGetContext } from '../props/props';\nimport { QHostAttr } from './markers';\nimport { qDev } from './qdev';\nconst STYLE = qDev\n    ? `background: #564CE0; color: white; padding: 2px 3px; border-radius: 2px; font-size: 0.8em;`\n    : '';\nexport const logError = (message, ...optionalParams) => {\n    const err = message instanceof Error ? message : new Error(message);\n    // eslint-disable-next-line no-console\n    console.error('%cQWIK ERROR', STYLE, err, ...printParams(optionalParams));\n    return err;\n};\nexport const logErrorAndStop = (message, ...optionalParams) => {\n    const err = logError(message, ...optionalParams);\n    // eslint-disable-next-line no-debugger\n    debugger;\n    return err;\n};\nexport const logWarn = (message, ...optionalParams) => {\n    // eslint-disable-next-line no-console\n    if (qDev) {\n        console.warn('%cQWIK WARN', STYLE, message, ...printParams(optionalParams));\n    }\n};\nexport const logDebug = (message, ...optionalParams) => {\n    if (qDev) {\n        // eslint-disable-next-line no-console\n        console.debug('%cQWIK', STYLE, message, ...printParams(optionalParams));\n    }\n};\nconst printParams = (optionalParams) => {\n    if (qDev) {\n        return optionalParams.map((p) => {\n            if (isElement(p)) {\n                return printElement(p);\n            }\n            return p;\n        });\n    }\n    return optionalParams;\n};\nconst printElement = (el) => {\n    const ctx = tryGetContext(el);\n    const isComponent = el.hasAttribute(QHostAttr);\n    const isServer = /*#__PURE__*/ (() => typeof process !== 'undefined' && !!process.versions && !!process.versions.node)();\n    return {\n        isComponent,\n        tagName: el.tagName,\n        renderQRL: ctx?.$renderQrl$?.getSymbol(),\n        element: isServer ? undefined : el,\n        ctx: isServer ? undefined : ctx,\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibG9nLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3V0aWwvbG9nLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUMvQyxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDL0MsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLFdBQVcsQ0FBQztBQUN0QyxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sUUFBUSxDQUFDO0FBRTlCLE1BQU0sS0FBSyxHQUFHLElBQUk7SUFDaEIsQ0FBQyxDQUFDLDRGQUE0RjtJQUM5RixDQUFDLENBQUMsRUFBRSxDQUFDO0FBRVAsTUFBTSxDQUFDLE1BQU0sUUFBUSxHQUFHLENBQUMsT0FBYSxFQUFFLEdBQUcsY0FBcUIsRUFBRSxFQUFFO0lBQ2xFLE1BQU0sR0FBRyxHQUFHLE9BQU8sWUFBWSxLQUFLLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDcEUsc0NBQXNDO0lBQ3RDLE9BQU8sQ0FBQyxLQUFLLENBQUMsY0FBYyxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsR0FBRyxXQUFXLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQztJQUMxRSxPQUFPLEdBQUcsQ0FBQztBQUNiLENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLGVBQWUsR0FBRyxDQUFDLE9BQWEsRUFBRSxHQUFHLGNBQXFCLEVBQUUsRUFBRTtJQUN6RSxNQUFNLEdBQUcsR0FBRyxRQUFRLENBQUMsT0FBTyxFQUFFLEdBQUcsY0FBYyxDQUFDLENBQUM7SUFDakQsdUNBQXVDO0lBQ3ZDLFFBQVEsQ0FBQztJQUNULE9BQU8sR0FBRyxDQUFDO0FBQ2IsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sT0FBTyxHQUFHLENBQUMsT0FBYSxFQUFFLEdBQUcsY0FBcUIsRUFBRSxFQUFFO0lBQ2pFLHNDQUFzQztJQUN0QyxJQUFJLElBQUksRUFBRTtRQUNSLE9BQU8sQ0FBQyxJQUFJLENBQUMsYUFBYSxFQUFFLEtBQUssRUFBRSxPQUFPLEVBQUUsR0FBRyxXQUFXLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQztLQUM3RTtBQUNILENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLFFBQVEsR0FBRyxDQUFDLE9BQWdCLEVBQUUsR0FBRyxjQUFxQixFQUFFLEVBQUU7SUFDckUsSUFBSSxJQUFJLEVBQUU7UUFDUixzQ0FBc0M7UUFDdEMsT0FBTyxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRSxHQUFHLFdBQVcsQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDO0tBQ3pFO0FBQ0gsQ0FBQyxDQUFDO0FBRUYsTUFBTSxXQUFXLEdBQUcsQ0FBQyxjQUFxQixFQUFFLEVBQUU7SUFDNUMsSUFBSSxJQUFJLEVBQUU7UUFDUixPQUFPLGNBQWMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRTtZQUM5QixJQUFJLFNBQVMsQ0FBQyxDQUFDLENBQUMsRUFBRTtnQkFDaEIsT0FBTyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUM7YUFDeEI7WUFDRCxPQUFPLENBQUMsQ0FBQztRQUNYLENBQUMsQ0FBQyxDQUFDO0tBQ0o7SUFDRCxPQUFPLGNBQWMsQ0FBQztBQUN4QixDQUFDLENBQUM7QUFFRixNQUFNLFlBQVksR0FBRyxDQUFDLEVBQVcsRUFBRSxFQUFFO0lBQ25DLE1BQU0sR0FBRyxHQUFHLGFBQWEsQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUM5QixNQUFNLFdBQVcsR0FBRyxFQUFFLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQy9DLE1BQU0sUUFBUSxHQUFZLGFBQWEsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUM1QyxPQUFPLE9BQU8sS0FBSyxXQUFXLElBQUksQ0FBQyxDQUFDLE9BQU8sQ0FBQyxRQUFRLElBQUksQ0FBQyxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQztJQUVyRixPQUFPO1FBQ0wsV0FBVztRQUNYLE9BQU8sRUFBRSxFQUFFLENBQUMsT0FBTztRQUNuQixTQUFTLEVBQUUsR0FBRyxFQUFFLFdBQVcsRUFBRSxTQUFTLEVBQUU7UUFDeEMsT0FBTyxFQUFFLFFBQVEsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxFQUFFO1FBQ2xDLEdBQUcsRUFBRSxRQUFRLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsR0FBRztLQUNoQyxDQUFDO0FBQ0osQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNFbGVtZW50IH0gZnJvbSAnLi4vLi4vdGVzdGluZy9odG1sJztcbmltcG9ydCB7IHRyeUdldENvbnRleHQgfSBmcm9tICcuLi9wcm9wcy9wcm9wcyc7XG5pbXBvcnQgeyBRSG9zdEF0dHIgfSBmcm9tICcuL21hcmtlcnMnO1xuaW1wb3J0IHsgcURldiB9IGZyb20gJy4vcWRldic7XG5cbmNvbnN0IFNUWUxFID0gcURldlxuICA/IGBiYWNrZ3JvdW5kOiAjNTY0Q0UwOyBjb2xvcjogd2hpdGU7IHBhZGRpbmc6IDJweCAzcHg7IGJvcmRlci1yYWRpdXM6IDJweDsgZm9udC1zaXplOiAwLjhlbTtgXG4gIDogJyc7XG5cbmV4cG9ydCBjb25zdCBsb2dFcnJvciA9IChtZXNzYWdlPzogYW55LCAuLi5vcHRpb25hbFBhcmFtczogYW55W10pID0+IHtcbiAgY29uc3QgZXJyID0gbWVzc2FnZSBpbnN0YW5jZW9mIEVycm9yID8gbWVzc2FnZSA6IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgY29uc29sZS5lcnJvcignJWNRV0lLIEVSUk9SJywgU1RZTEUsIGVyciwgLi4ucHJpbnRQYXJhbXMob3B0aW9uYWxQYXJhbXMpKTtcbiAgcmV0dXJuIGVycjtcbn07XG5cbmV4cG9ydCBjb25zdCBsb2dFcnJvckFuZFN0b3AgPSAobWVzc2FnZT86IGFueSwgLi4ub3B0aW9uYWxQYXJhbXM6IGFueVtdKSA9PiB7XG4gIGNvbnN0IGVyciA9IGxvZ0Vycm9yKG1lc3NhZ2UsIC4uLm9wdGlvbmFsUGFyYW1zKTtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWRlYnVnZ2VyXG4gIGRlYnVnZ2VyO1xuICByZXR1cm4gZXJyO1xufTtcblxuZXhwb3J0IGNvbnN0IGxvZ1dhcm4gPSAobWVzc2FnZT86IGFueSwgLi4ub3B0aW9uYWxQYXJhbXM6IGFueVtdKSA9PiB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gIGlmIChxRGV2KSB7XG4gICAgY29uc29sZS53YXJuKCclY1FXSUsgV0FSTicsIFNUWUxFLCBtZXNzYWdlLCAuLi5wcmludFBhcmFtcyhvcHRpb25hbFBhcmFtcykpO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgbG9nRGVidWcgPSAobWVzc2FnZT86IHN0cmluZywgLi4ub3B0aW9uYWxQYXJhbXM6IGFueVtdKSA9PiB7XG4gIGlmIChxRGV2KSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICBjb25zb2xlLmRlYnVnKCclY1FXSUsnLCBTVFlMRSwgbWVzc2FnZSwgLi4ucHJpbnRQYXJhbXMob3B0aW9uYWxQYXJhbXMpKTtcbiAgfVxufTtcblxuY29uc3QgcHJpbnRQYXJhbXMgPSAob3B0aW9uYWxQYXJhbXM6IGFueVtdKSA9PiB7XG4gIGlmIChxRGV2KSB7XG4gICAgcmV0dXJuIG9wdGlvbmFsUGFyYW1zLm1hcCgocCkgPT4ge1xuICAgICAgaWYgKGlzRWxlbWVudChwKSkge1xuICAgICAgICByZXR1cm4gcHJpbnRFbGVtZW50KHApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHA7XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIG9wdGlvbmFsUGFyYW1zO1xufTtcblxuY29uc3QgcHJpbnRFbGVtZW50ID0gKGVsOiBFbGVtZW50KSA9PiB7XG4gIGNvbnN0IGN0eCA9IHRyeUdldENvbnRleHQoZWwpO1xuICBjb25zdCBpc0NvbXBvbmVudCA9IGVsLmhhc0F0dHJpYnV0ZShRSG9zdEF0dHIpO1xuICBjb25zdCBpc1NlcnZlcjogYm9vbGVhbiA9IC8qI19fUFVSRV9fKi8gKCgpID0+XG4gICAgdHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmICEhcHJvY2Vzcy52ZXJzaW9ucyAmJiAhIXByb2Nlc3MudmVyc2lvbnMubm9kZSkoKTtcblxuICByZXR1cm4ge1xuICAgIGlzQ29tcG9uZW50LFxuICAgIHRhZ05hbWU6IGVsLnRhZ05hbWUsXG4gICAgcmVuZGVyUVJMOiBjdHg/LiRyZW5kZXJRcmwkPy5nZXRTeW1ib2woKSxcbiAgICBlbGVtZW50OiBpc1NlcnZlciA/IHVuZGVmaW5lZCA6IGVsLFxuICAgIGN0eDogaXNTZXJ2ZXIgPyB1bmRlZmluZWQgOiBjdHgsXG4gIH07XG59O1xuIl19","import { logErrorAndStop } from '../util/log';\nimport { qDev } from '../util/qdev';\nexport const QError_stringifyClassOrStyle = 0;\nexport const QError_cannotSerializeNode = 1; // 'Can not serialize a HTML Node that is not an Element'\nexport const QError_runtimeQrlNoElement = 2; // `Q-ERROR: '${qrl}' is runtime but no instance found on element.`\nexport const QError_verifySerializable = 3; // 'Only primitive and object literals can be serialized', value,\nexport const QError_errorWhileRendering = 4; // Crash while rendering\nexport const QError_cannotRenderOverExistingContainer = 5; //'You can render over a existing q:container. Skipping render().'\nexport const QError_setProperty = 6; //'Set property'\nexport const QError_qrlOrError = 7;\nexport const QError_onlyObjectWrapped = 8;\nexport const QError_onlyLiteralWrapped = 9;\nexport const QError_qrlIsNotFunction = 10;\nexport const QError_dynamicImportFailed = 11;\nexport const QError_unknownTypeArgument = 12;\nexport const QError_notFoundContext = 13;\nexport const QError_useMethodOutsideContext = 14;\nexport const QError_missingRenderCtx = 15;\nexport const QError_missingDoc = 16;\nexport const QError_immutableProps = 17;\nexport const QError_hostCanOnlyBeAtRoot = 18;\nexport const QError_immutableJsxProps = 19;\nexport const QError_useInvokeContext = 20;\nexport const QError_containerAlreadyPaused = 21;\nexport const QError_canNotMountUseServerMount = 22;\nexport const QError_rootNodeMustBeHTML = 23;\nexport const QError_strictHTMLChildren = 24;\nexport const QError_invalidJsxNodeType = 25;\nexport const QError_trackUseStore = 26;\nexport const QError_missingObjectId = 27;\nexport const qError = (code, ...parts) => {\n    const text = codeToText(code);\n    return logErrorAndStop(text, ...parts);\n};\nexport const codeToText = (code) => {\n    if (qDev) {\n        const MAP = [\n            'Error while serializing class attribute',\n            'Can not serialize a HTML Node that is not an Element',\n            'Rruntime but no instance found on element.',\n            'Only primitive and object literals can be serialized',\n            'Crash while rendering',\n            'You can render over a existing q:container. Skipping render().',\n            'Set property',\n            \"Only function's and 'string's are supported.\",\n            \"Only objects can be wrapped in 'QObject'\",\n            `Only objects literals can be wrapped in 'QObject'`,\n            'QRL is not a function',\n            'Dynamic import not found',\n            'Unknown type argument',\n            'not found state for useContext',\n            \"Invoking 'use*()' method outside of invocation context.\",\n            'Cant access renderCtx for existing context',\n            'Cant access document for existing context',\n            'props are inmutable',\n            '<Host> component can only be used at the root of a Qwik component$()',\n            'Props are immutable by default.',\n            'use- method must be called only at the root level of a component$()',\n            'Container is already paused. Skipping',\n            'Components using useServerMount() can only be mounted in the server, if you need your component to be mounted in the client, use \"useMount$()\" instead',\n            'When rendering directly on top of Document, the root node must be a <html>',\n            'A <html> node must have 2 children. The first one <head> and the second one a <body>',\n            'Invalid JSXNode type. It must be either a function or a string. Found:',\n            'Tracking value changes can only be done to useStore() objects and component props',\n            'Missing Object ID for captured object',\n        ];\n        return `Code(${code}): ${MAP[code] ?? ''}`;\n    }\n    else {\n        return `Code(${code})`;\n    }\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXJyb3IuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvZXJyb3IvZXJyb3IudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUM5QyxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sY0FBYyxDQUFDO0FBRXBDLE1BQU0sQ0FBQyxNQUFNLDRCQUE0QixHQUFHLENBQUMsQ0FBQztBQUM5QyxNQUFNLENBQUMsTUFBTSwwQkFBMEIsR0FBRyxDQUFDLENBQUMsQ0FBQyx5REFBeUQ7QUFDdEcsTUFBTSxDQUFDLE1BQU0sMEJBQTBCLEdBQUcsQ0FBQyxDQUFDLENBQUMsbUVBQW1FO0FBQ2hILE1BQU0sQ0FBQyxNQUFNLHlCQUF5QixHQUFHLENBQUMsQ0FBQyxDQUFDLGlFQUFpRTtBQUM3RyxNQUFNLENBQUMsTUFBTSwwQkFBMEIsR0FBRyxDQUFDLENBQUMsQ0FBQyx3QkFBd0I7QUFDckUsTUFBTSxDQUFDLE1BQU0sd0NBQXdDLEdBQUcsQ0FBQyxDQUFDLENBQUMsa0VBQWtFO0FBQzdILE1BQU0sQ0FBQyxNQUFNLGtCQUFrQixHQUFHLENBQUMsQ0FBQyxDQUFDLGdCQUFnQjtBQUNyRCxNQUFNLENBQUMsTUFBTSxpQkFBaUIsR0FBRyxDQUFDLENBQUM7QUFDbkMsTUFBTSxDQUFDLE1BQU0sd0JBQXdCLEdBQUcsQ0FBQyxDQUFDO0FBQzFDLE1BQU0sQ0FBQyxNQUFNLHlCQUF5QixHQUFHLENBQUMsQ0FBQztBQUMzQyxNQUFNLENBQUMsTUFBTSx1QkFBdUIsR0FBRyxFQUFFLENBQUM7QUFDMUMsTUFBTSxDQUFDLE1BQU0sMEJBQTBCLEdBQUcsRUFBRSxDQUFDO0FBQzdDLE1BQU0sQ0FBQyxNQUFNLDBCQUEwQixHQUFHLEVBQUUsQ0FBQztBQUM3QyxNQUFNLENBQUMsTUFBTSxzQkFBc0IsR0FBRyxFQUFFLENBQUM7QUFDekMsTUFBTSxDQUFDLE1BQU0sOEJBQThCLEdBQUcsRUFBRSxDQUFDO0FBQ2pELE1BQU0sQ0FBQyxNQUFNLHVCQUF1QixHQUFHLEVBQUUsQ0FBQztBQUMxQyxNQUFNLENBQUMsTUFBTSxpQkFBaUIsR0FBRyxFQUFFLENBQUM7QUFDcEMsTUFBTSxDQUFDLE1BQU0scUJBQXFCLEdBQUcsRUFBRSxDQUFDO0FBQ3hDLE1BQU0sQ0FBQyxNQUFNLDBCQUEwQixHQUFHLEVBQUUsQ0FBQztBQUM3QyxNQUFNLENBQUMsTUFBTSx3QkFBd0IsR0FBRyxFQUFFLENBQUM7QUFDM0MsTUFBTSxDQUFDLE1BQU0sdUJBQXVCLEdBQUcsRUFBRSxDQUFDO0FBQzFDLE1BQU0sQ0FBQyxNQUFNLDZCQUE2QixHQUFHLEVBQUUsQ0FBQztBQUNoRCxNQUFNLENBQUMsTUFBTSxnQ0FBZ0MsR0FBRyxFQUFFLENBQUM7QUFDbkQsTUFBTSxDQUFDLE1BQU0seUJBQXlCLEdBQUcsRUFBRSxDQUFDO0FBQzVDLE1BQU0sQ0FBQyxNQUFNLHlCQUF5QixHQUFHLEVBQUUsQ0FBQztBQUM1QyxNQUFNLENBQUMsTUFBTSx5QkFBeUIsR0FBRyxFQUFFLENBQUM7QUFDNUMsTUFBTSxDQUFDLE1BQU0sb0JBQW9CLEdBQUcsRUFBRSxDQUFDO0FBQ3ZDLE1BQU0sQ0FBQyxNQUFNLHNCQUFzQixHQUFHLEVBQUUsQ0FBQztBQUV6QyxNQUFNLENBQUMsTUFBTSxNQUFNLEdBQUcsQ0FBQyxJQUFZLEVBQUUsR0FBRyxLQUFZLEVBQVMsRUFBRTtJQUM3RCxNQUFNLElBQUksR0FBRyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDOUIsT0FBTyxlQUFlLENBQUMsSUFBSSxFQUFFLEdBQUcsS0FBSyxDQUFDLENBQUM7QUFDekMsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sVUFBVSxHQUFHLENBQUMsSUFBWSxFQUFVLEVBQUU7SUFDakQsSUFBSSxJQUFJLEVBQUU7UUFDUixNQUFNLEdBQUcsR0FBRztZQUNWLHlDQUF5QztZQUN6QyxzREFBc0Q7WUFDdEQsNENBQTRDO1lBQzVDLHNEQUFzRDtZQUN0RCx1QkFBdUI7WUFDdkIsZ0VBQWdFO1lBQ2hFLGNBQWM7WUFDZCw4Q0FBOEM7WUFDOUMsMENBQTBDO1lBQzFDLG1EQUFtRDtZQUNuRCx1QkFBdUI7WUFDdkIsMEJBQTBCO1lBQzFCLHVCQUF1QjtZQUN2QixnQ0FBZ0M7WUFDaEMseURBQXlEO1lBQ3pELDRDQUE0QztZQUM1QywyQ0FBMkM7WUFDM0MscUJBQXFCO1lBQ3JCLHNFQUFzRTtZQUN0RSxpQ0FBaUM7WUFDakMscUVBQXFFO1lBQ3JFLHVDQUF1QztZQUN2Qyx3SkFBd0o7WUFDeEosNEVBQTRFO1lBQzVFLHNGQUFzRjtZQUN0Rix3RUFBd0U7WUFDeEUsbUZBQW1GO1lBQ25GLHVDQUF1QztTQUN4QyxDQUFDO1FBQ0YsT0FBTyxRQUFRLElBQUksTUFBTSxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxFQUFFLENBQUM7S0FDNUM7U0FBTTtRQUNMLE9BQU8sUUFBUSxJQUFJLEdBQUcsQ0FBQztLQUN4QjtBQUNILENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGxvZ0Vycm9yQW5kU3RvcCB9IGZyb20gJy4uL3V0aWwvbG9nJztcbmltcG9ydCB7IHFEZXYgfSBmcm9tICcuLi91dGlsL3FkZXYnO1xuXG5leHBvcnQgY29uc3QgUUVycm9yX3N0cmluZ2lmeUNsYXNzT3JTdHlsZSA9IDA7XG5leHBvcnQgY29uc3QgUUVycm9yX2Nhbm5vdFNlcmlhbGl6ZU5vZGUgPSAxOyAvLyAnQ2FuIG5vdCBzZXJpYWxpemUgYSBIVE1MIE5vZGUgdGhhdCBpcyBub3QgYW4gRWxlbWVudCdcbmV4cG9ydCBjb25zdCBRRXJyb3JfcnVudGltZVFybE5vRWxlbWVudCA9IDI7IC8vIGBRLUVSUk9SOiAnJHtxcmx9JyBpcyBydW50aW1lIGJ1dCBubyBpbnN0YW5jZSBmb3VuZCBvbiBlbGVtZW50LmBcbmV4cG9ydCBjb25zdCBRRXJyb3JfdmVyaWZ5U2VyaWFsaXphYmxlID0gMzsgLy8gJ09ubHkgcHJpbWl0aXZlIGFuZCBvYmplY3QgbGl0ZXJhbHMgY2FuIGJlIHNlcmlhbGl6ZWQnLCB2YWx1ZSxcbmV4cG9ydCBjb25zdCBRRXJyb3JfZXJyb3JXaGlsZVJlbmRlcmluZyA9IDQ7IC8vIENyYXNoIHdoaWxlIHJlbmRlcmluZ1xuZXhwb3J0IGNvbnN0IFFFcnJvcl9jYW5ub3RSZW5kZXJPdmVyRXhpc3RpbmdDb250YWluZXIgPSA1OyAvLydZb3UgY2FuIHJlbmRlciBvdmVyIGEgZXhpc3RpbmcgcTpjb250YWluZXIuIFNraXBwaW5nIHJlbmRlcigpLidcbmV4cG9ydCBjb25zdCBRRXJyb3Jfc2V0UHJvcGVydHkgPSA2OyAvLydTZXQgcHJvcGVydHknXG5leHBvcnQgY29uc3QgUUVycm9yX3FybE9yRXJyb3IgPSA3O1xuZXhwb3J0IGNvbnN0IFFFcnJvcl9vbmx5T2JqZWN0V3JhcHBlZCA9IDg7XG5leHBvcnQgY29uc3QgUUVycm9yX29ubHlMaXRlcmFsV3JhcHBlZCA9IDk7XG5leHBvcnQgY29uc3QgUUVycm9yX3FybElzTm90RnVuY3Rpb24gPSAxMDtcbmV4cG9ydCBjb25zdCBRRXJyb3JfZHluYW1pY0ltcG9ydEZhaWxlZCA9IDExO1xuZXhwb3J0IGNvbnN0IFFFcnJvcl91bmtub3duVHlwZUFyZ3VtZW50ID0gMTI7XG5leHBvcnQgY29uc3QgUUVycm9yX25vdEZvdW5kQ29udGV4dCA9IDEzO1xuZXhwb3J0IGNvbnN0IFFFcnJvcl91c2VNZXRob2RPdXRzaWRlQ29udGV4dCA9IDE0O1xuZXhwb3J0IGNvbnN0IFFFcnJvcl9taXNzaW5nUmVuZGVyQ3R4ID0gMTU7XG5leHBvcnQgY29uc3QgUUVycm9yX21pc3NpbmdEb2MgPSAxNjtcbmV4cG9ydCBjb25zdCBRRXJyb3JfaW1tdXRhYmxlUHJvcHMgPSAxNztcbmV4cG9ydCBjb25zdCBRRXJyb3JfaG9zdENhbk9ubHlCZUF0Um9vdCA9IDE4O1xuZXhwb3J0IGNvbnN0IFFFcnJvcl9pbW11dGFibGVKc3hQcm9wcyA9IDE5O1xuZXhwb3J0IGNvbnN0IFFFcnJvcl91c2VJbnZva2VDb250ZXh0ID0gMjA7XG5leHBvcnQgY29uc3QgUUVycm9yX2NvbnRhaW5lckFscmVhZHlQYXVzZWQgPSAyMTtcbmV4cG9ydCBjb25zdCBRRXJyb3JfY2FuTm90TW91bnRVc2VTZXJ2ZXJNb3VudCA9IDIyO1xuZXhwb3J0IGNvbnN0IFFFcnJvcl9yb290Tm9kZU11c3RCZUhUTUwgPSAyMztcbmV4cG9ydCBjb25zdCBRRXJyb3Jfc3RyaWN0SFRNTENoaWxkcmVuID0gMjQ7XG5leHBvcnQgY29uc3QgUUVycm9yX2ludmFsaWRKc3hOb2RlVHlwZSA9IDI1O1xuZXhwb3J0IGNvbnN0IFFFcnJvcl90cmFja1VzZVN0b3JlID0gMjY7XG5leHBvcnQgY29uc3QgUUVycm9yX21pc3NpbmdPYmplY3RJZCA9IDI3O1xuXG5leHBvcnQgY29uc3QgcUVycm9yID0gKGNvZGU6IG51bWJlciwgLi4ucGFydHM6IGFueVtdKTogRXJyb3IgPT4ge1xuICBjb25zdCB0ZXh0ID0gY29kZVRvVGV4dChjb2RlKTtcbiAgcmV0dXJuIGxvZ0Vycm9yQW5kU3RvcCh0ZXh0LCAuLi5wYXJ0cyk7XG59O1xuXG5leHBvcnQgY29uc3QgY29kZVRvVGV4dCA9IChjb2RlOiBudW1iZXIpOiBzdHJpbmcgPT4ge1xuICBpZiAocURldikge1xuICAgIGNvbnN0IE1BUCA9IFtcbiAgICAgICdFcnJvciB3aGlsZSBzZXJpYWxpemluZyBjbGFzcyBhdHRyaWJ1dGUnLCAvLyAwXG4gICAgICAnQ2FuIG5vdCBzZXJpYWxpemUgYSBIVE1MIE5vZGUgdGhhdCBpcyBub3QgYW4gRWxlbWVudCcsIC8vIDFcbiAgICAgICdScnVudGltZSBidXQgbm8gaW5zdGFuY2UgZm91bmQgb24gZWxlbWVudC4nLCAvLyAyXG4gICAgICAnT25seSBwcmltaXRpdmUgYW5kIG9iamVjdCBsaXRlcmFscyBjYW4gYmUgc2VyaWFsaXplZCcsIC8vIDNcbiAgICAgICdDcmFzaCB3aGlsZSByZW5kZXJpbmcnLCAvLyA0XG4gICAgICAnWW91IGNhbiByZW5kZXIgb3ZlciBhIGV4aXN0aW5nIHE6Y29udGFpbmVyLiBTa2lwcGluZyByZW5kZXIoKS4nLCAvLyA1XG4gICAgICAnU2V0IHByb3BlcnR5JywgLy8gNlxuICAgICAgXCJPbmx5IGZ1bmN0aW9uJ3MgYW5kICdzdHJpbmcncyBhcmUgc3VwcG9ydGVkLlwiLCAvLyA3XG4gICAgICBcIk9ubHkgb2JqZWN0cyBjYW4gYmUgd3JhcHBlZCBpbiAnUU9iamVjdCdcIiwgLy8gOFxuICAgICAgYE9ubHkgb2JqZWN0cyBsaXRlcmFscyBjYW4gYmUgd3JhcHBlZCBpbiAnUU9iamVjdCdgLCAvLyA5XG4gICAgICAnUVJMIGlzIG5vdCBhIGZ1bmN0aW9uJywgLy8gMTBcbiAgICAgICdEeW5hbWljIGltcG9ydCBub3QgZm91bmQnLCAvLyAxMVxuICAgICAgJ1Vua25vd24gdHlwZSBhcmd1bWVudCcsIC8vIDEyXG4gICAgICAnbm90IGZvdW5kIHN0YXRlIGZvciB1c2VDb250ZXh0JywgLy8gMTNcbiAgICAgIFwiSW52b2tpbmcgJ3VzZSooKScgbWV0aG9kIG91dHNpZGUgb2YgaW52b2NhdGlvbiBjb250ZXh0LlwiLCAvLyAxNFxuICAgICAgJ0NhbnQgYWNjZXNzIHJlbmRlckN0eCBmb3IgZXhpc3RpbmcgY29udGV4dCcsIC8vIDE1XG4gICAgICAnQ2FudCBhY2Nlc3MgZG9jdW1lbnQgZm9yIGV4aXN0aW5nIGNvbnRleHQnLCAvLyAxNlxuICAgICAgJ3Byb3BzIGFyZSBpbm11dGFibGUnLCAvLyAxN1xuICAgICAgJzxIb3N0PiBjb21wb25lbnQgY2FuIG9ubHkgYmUgdXNlZCBhdCB0aGUgcm9vdCBvZiBhIFF3aWsgY29tcG9uZW50JCgpJywgLy8gMThcbiAgICAgICdQcm9wcyBhcmUgaW1tdXRhYmxlIGJ5IGRlZmF1bHQuJywgLy8gMTlcbiAgICAgICd1c2UtIG1ldGhvZCBtdXN0IGJlIGNhbGxlZCBvbmx5IGF0IHRoZSByb290IGxldmVsIG9mIGEgY29tcG9uZW50JCgpJyxcbiAgICAgICdDb250YWluZXIgaXMgYWxyZWFkeSBwYXVzZWQuIFNraXBwaW5nJyxcbiAgICAgICdDb21wb25lbnRzIHVzaW5nIHVzZVNlcnZlck1vdW50KCkgY2FuIG9ubHkgYmUgbW91bnRlZCBpbiB0aGUgc2VydmVyLCBpZiB5b3UgbmVlZCB5b3VyIGNvbXBvbmVudCB0byBiZSBtb3VudGVkIGluIHRoZSBjbGllbnQsIHVzZSBcInVzZU1vdW50JCgpXCIgaW5zdGVhZCcsXG4gICAgICAnV2hlbiByZW5kZXJpbmcgZGlyZWN0bHkgb24gdG9wIG9mIERvY3VtZW50LCB0aGUgcm9vdCBub2RlIG11c3QgYmUgYSA8aHRtbD4nLFxuICAgICAgJ0EgPGh0bWw+IG5vZGUgbXVzdCBoYXZlIDIgY2hpbGRyZW4uIFRoZSBmaXJzdCBvbmUgPGhlYWQ+IGFuZCB0aGUgc2Vjb25kIG9uZSBhIDxib2R5PicsXG4gICAgICAnSW52YWxpZCBKU1hOb2RlIHR5cGUuIEl0IG11c3QgYmUgZWl0aGVyIGEgZnVuY3Rpb24gb3IgYSBzdHJpbmcuIEZvdW5kOicsXG4gICAgICAnVHJhY2tpbmcgdmFsdWUgY2hhbmdlcyBjYW4gb25seSBiZSBkb25lIHRvIHVzZVN0b3JlKCkgb2JqZWN0cyBhbmQgY29tcG9uZW50IHByb3BzJyxcbiAgICAgICdNaXNzaW5nIE9iamVjdCBJRCBmb3IgY2FwdHVyZWQgb2JqZWN0JyxcbiAgICBdO1xuICAgIHJldHVybiBgQ29kZSgke2NvZGV9KTogJHtNQVBbY29kZV0gPz8gJyd9YDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gYENvZGUoJHtjb2RlfSlgO1xuICB9XG59O1xuIl19","import { qError, QError_qrlIsNotFunction } from '../error/error';\nimport { verifySerializable } from '../object/q-object';\nimport { getPlatform } from '../platform/platform';\nimport { newInvokeContext, useInvoke } from '../use/use-core';\nimport { then } from '../util/promises';\nimport { qDev } from '../util/qdev';\nimport { isFunction } from '../util/types';\nimport { stringifyQRL } from './qrl';\nexport const isQrl = (value) => {\n    return typeof value === 'function' && typeof value.getSymbol === 'function';\n};\nexport const createQRL = (chunk, symbol, symbolRef, symbolFn, capture, captureRef, refSymbol) => {\n    if (qDev) {\n        verifySerializable(captureRef);\n    }\n    let cachedEl;\n    const setContainer = (el) => {\n        if (!cachedEl) {\n            cachedEl = el;\n        }\n    };\n    const resolve = async (el) => {\n        if (el) {\n            setContainer(el);\n        }\n        if (symbolRef) {\n            return symbolRef;\n        }\n        if (symbolFn) {\n            return (symbolRef = symbolFn().then((module) => (symbolRef = module[symbol])));\n        }\n        else {\n            if (!cachedEl) {\n                throw new Error(`QRL '${chunk}#${symbol || 'default'}' does not have an attached container`);\n            }\n            const symbol2 = getPlatform(cachedEl).importSymbol(cachedEl, chunk, symbol);\n            return (symbolRef = then(symbol2, (ref) => {\n                return (symbolRef = ref);\n            }));\n        }\n    };\n    const resolveLazy = (el) => {\n        return isFunction(symbolRef) ? symbolRef : resolve(el);\n    };\n    const invokeFn = (el, currentCtx, beforeFn) => {\n        return ((...args) => {\n            const fn = resolveLazy(el);\n            return then(fn, (fn) => {\n                if (isFunction(fn)) {\n                    const baseContext = currentCtx ?? newInvokeContext();\n                    const context = {\n                        ...baseContext,\n                        $qrl$: QRL,\n                    };\n                    if (beforeFn) {\n                        beforeFn();\n                    }\n                    return useInvoke(context, fn, ...args);\n                }\n                throw qError(QError_qrlIsNotFunction);\n            });\n        });\n    };\n    const invoke = async function (...args) {\n        const fn = invokeFn();\n        const result = await fn(...args);\n        return result;\n    };\n    const QRL = invoke;\n    const methods = {\n        getSymbol: () => refSymbol ?? symbol,\n        getHash: () => getSymbolHash(refSymbol ?? symbol),\n        resolve,\n        $resolveLazy$: resolveLazy,\n        $setContainer$: setContainer,\n        $chunk$: chunk,\n        $symbol$: symbol,\n        $refSymbol$: refSymbol,\n        get $capture$() {\n            return capture;\n        },\n        set $capture$(v) {\n            capture = v;\n        },\n        get $captureRef$() {\n            return captureRef;\n        },\n        set $captureRef$(v) {\n            captureRef = v;\n        },\n        $invokeFn$: invokeFn,\n        $copy$() {\n            return createQRL(chunk, symbol, symbolRef, symbolFn, null, captureRef, refSymbol);\n        },\n        $serialize$(options) {\n            return stringifyQRL(QRL, options);\n        },\n    };\n    return Object.assign(invoke, methods);\n};\nexport const getSymbolHash = (symbolName) => {\n    const index = symbolName.lastIndexOf('_');\n    if (index > -1) {\n        return symbolName.slice(index + 1);\n    }\n    return symbolName;\n};\nexport const isSameQRL = (a, b) => {\n    return a.getHash() === b.getHash();\n};\nexport function assertQrl(qrl) {\n    if (qDev) {\n        if (!isQrl(qrl)) {\n            throw new Error('Not a QRL');\n        }\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicXJsLWNsYXNzLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL2ltcG9ydC9xcmwtY2xhc3MudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLE1BQU0sRUFBRSx1QkFBdUIsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQ2pFLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBQ3hELE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUNuRCxPQUFPLEVBQWlCLGdCQUFnQixFQUFFLFNBQVMsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQzdFLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUN4QyxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sY0FBYyxDQUFDO0FBQ3BDLE9BQU8sRUFBRSxVQUFVLEVBQWtCLE1BQU0sZUFBZSxDQUFDO0FBQzNELE9BQU8sRUFBdUIsWUFBWSxFQUFFLE1BQU0sT0FBTyxDQUFDO0FBRzFELE1BQU0sQ0FBQyxNQUFNLEtBQUssR0FBRyxDQUFDLEtBQVUsRUFBd0IsRUFBRTtJQUN4RCxPQUFPLE9BQU8sS0FBSyxLQUFLLFVBQVUsSUFBSSxPQUFPLEtBQUssQ0FBQyxTQUFTLEtBQUssVUFBVSxDQUFDO0FBQzlFLENBQUMsQ0FBQztBQXNCRixNQUFNLENBQUMsTUFBTSxTQUFTLEdBQUcsQ0FDdkIsS0FBYSxFQUNiLE1BQWMsRUFDZCxTQUFzQyxFQUN0QyxRQUFxRCxFQUNyRCxPQUF3QixFQUN4QixVQUF3QixFQUN4QixTQUF3QixFQUNMLEVBQUU7SUFDckIsSUFBSSxJQUFJLEVBQUU7UUFDUixrQkFBa0IsQ0FBQyxVQUFVLENBQUMsQ0FBQztLQUNoQztJQUVELElBQUksUUFBNkIsQ0FBQztJQUVsQyxNQUFNLFlBQVksR0FBRyxDQUFDLEVBQVcsRUFBRSxFQUFFO1FBQ25DLElBQUksQ0FBQyxRQUFR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QUFDLE9BQU8sRUFBRSxLQUFLLENBQUMsQ0FBQyxPQUFPLEVBQUUsQ0FBQztBQUNyQyxDQUFDLENBQUM7QUFFRixNQUFNLFVBQVUsU0FBUyxDQUFJLEdBQVc7SUFDdEMsSUFBSSxJQUFJLEVBQUU7UUFDUixJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFO1lBQ2YsTUFBTSxJQUFJLEtBQUssQ0FBQyxXQUFXLENBQUMsQ0FBQztTQUM5QjtLQUNGO0FBQ0gsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHFFcnJvciwgUUVycm9yX3FybElzTm90RnVuY3Rpb24gfSBmcm9tICcuLi9lcnJvci9lcnJvcic7XG5pbXBvcnQgeyB2ZXJpZnlTZXJpYWxpemFibGUgfSBmcm9tICcuLi9vYmplY3QvcS1vYmplY3QnO1xuaW1wb3J0IHsgZ2V0UGxhdGZvcm0gfSBmcm9tICcuLi9wbGF0Zm9ybS9wbGF0Zm9ybSc7XG5pbXBvcnQgeyBJbnZva2VDb250ZXh0LCBuZXdJbnZva2VDb250ZXh0LCB1c2VJbnZva2UgfSBmcm9tICcuLi91c2UvdXNlLWNvcmUnO1xuaW1wb3J0IHsgdGhlbiB9IGZyb20gJy4uL3V0aWwvcHJvbWlzZXMnO1xuaW1wb3J0IHsgcURldiB9IGZyb20gJy4uL3V0aWwvcWRldic7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uLCBWYWx1ZU9yUHJvbWlzZSB9IGZyb20gJy4uL3V0aWwvdHlwZXMnO1xuaW1wb3J0IHsgUVJMU2VyaWFsaXplT3B0aW9ucywgc3RyaW5naWZ5UVJMIH0gZnJvbSAnLi9xcmwnO1xuaW1wb3J0IHR5cGUgeyBRUkwgfSBmcm9tICcuL3FybC5wdWJsaWMnO1xuXG5leHBvcnQgY29uc3QgaXNRcmwgPSAodmFsdWU6IGFueSk6IHZhbHVlIGlzIFFSTEludGVybmFsID0+IHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgdmFsdWUuZ2V0U3ltYm9sID09PSAnZnVuY3Rpb24nO1xufTtcblxuZXhwb3J0IGludGVyZmFjZSBRUkxJbnRlcm5hbE1ldGhvZHM8VFlQRT4ge1xuICByZWFkb25seSAkY2h1bmskOiBzdHJpbmc7XG4gIHJlYWRvbmx5ICRzeW1ib2wkOiBzdHJpbmc7XG4gIHJlYWRvbmx5ICRyZWZTeW1ib2wkOiBzdHJpbmcgfCBudWxsO1xuICAkY2FwdHVyZSQ6IHN0cmluZ1tdIHwgbnVsbDtcbiAgJGNhcHR1cmVSZWYkOiBhbnlbXSB8IG51bGw7XG5cbiAgcmVzb2x2ZShlbD86IEVsZW1lbnQpOiBQcm9taXNlPFRZUEU+O1xuICBnZXRTeW1ib2woKTogc3RyaW5nO1xuICBnZXRIYXNoKCk6IHN0cmluZztcblxuICAkc2V0Q29udGFpbmVyJChlbDogRWxlbWVudCk6IHZvaWQ7XG4gICRyZXNvbHZlTGF6eSQoZWw6IEVsZW1lbnQpOiB2b2lkO1xuICAkaW52b2tlRm4kKGVsPzogRWxlbWVudCwgY3VycmVudEN0eD86IEludm9rZUNvbnRleHQsIGJlZm9yZUZuPzogKCkgPT4gdm9pZCk6IGFueTtcbiAgJGNvcHkkKCk6IFFSTEludGVybmFsPFRZUEU+O1xuICAkc2VyaWFsaXplJChvcHRpb25zPzogUVJMU2VyaWFsaXplT3B0aW9ucyk6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBRUkxJbnRlcm5hbDxUWVBFID0gYW55PiBleHRlbmRzIFFSTDxUWVBFPiwgUVJMSW50ZXJuYWxNZXRob2RzPFRZUEU+IHt9XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVRUkwgPSA8VFlQRT4oXG4gIGNodW5rOiBzdHJpbmcsXG4gIHN5bWJvbDogc3RyaW5nLFxuICBzeW1ib2xSZWY6IG51bGwgfCBWYWx1ZU9yUHJvbWlzZTxUWVBFPixcbiAgc3ltYm9sRm46IG51bGwgfCAoKCkgPT4gUHJvbWlzZTxSZWNvcmQ8c3RyaW5nLCBhbnk+PiksXG4gIGNhcHR1cmU6IG51bGwgfCBzdHJpbmdbXSxcbiAgY2FwdHVyZVJlZjogYW55W10gfCBudWxsLFxuICByZWZTeW1ib2w6IHN0cmluZyB8IG51bGxcbik6IFFSTEludGVybmFsPFRZUEU+ID0+IHtcbiAgaWYgKHFEZXYpIHtcbiAgICB2ZXJpZnlTZXJpYWxpemFibGUoY2FwdHVyZVJlZik7XG4gIH1cblxuICBsZXQgY2FjaGVkRWw6IEVsZW1lbnQgfCB1bmRlZmluZWQ7XG5cbiAgY29uc3Qgc2V0Q29udGFpbmVyID0gKGVsOiBFbGVtZW50KSA9PiB7XG4gICAgaWYgKCFjYWNoZWRFbCkge1xuICAgICAgY2FjaGVkRWwgPSBlbDtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgcmVzb2x2ZSA9IGFzeW5jIChlbD86IEVsZW1lbnQpOiBQcm9taXNlPFRZUEU+ID0+IHtcbiAgICBpZiAoZWwpIHtcbiAgICAgIHNldENvbnRhaW5lcihlbCk7XG4gICAgfVxuICAgIGlmIChzeW1ib2xSZWYpIHtcbiAgICAgIHJldHVybiBzeW1ib2xSZWY7XG4gICAgfVxuICAgIGlmIChzeW1ib2xGbikge1xuICAgICAgcmV0dXJuIChzeW1ib2xSZWYgPSBzeW1ib2xGbigpLnRoZW4oKG1vZHVsZSkgPT4gKHN5bWJvbFJlZiA9IG1vZHVsZVtzeW1ib2xdKSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIWNhY2hlZEVsKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICBgUVJMICcke2NodW5rfSMke3N5bWJvbCB8fCAnZGVmYXVsdCd9JyBkb2VzIG5vdCBoYXZlIGFuIGF0dGFjaGVkIGNvbnRhaW5lcmBcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHN5bWJvbDIgPSBnZXRQbGF0Zm9ybShjYWNoZWRFbCkuaW1wb3J0U3ltYm9sKGNhY2hlZEVsLCBjaHVuaywgc3ltYm9sKTtcbiAgICAgIHJldHVybiAoc3ltYm9sUmVmID0gdGhlbihzeW1ib2wyLCAocmVmKSA9PiB7XG4gICAgICAgIHJldHVybiAoc3ltYm9sUmVmID0gcmVmKTtcbiAgICAgIH0pKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgcmVzb2x2ZUxhenkgPSAoZWw/OiBFbGVtZW50KTogVmFsdWVPclByb21pc2U8VFlQRT4gPT4ge1xuICAgIHJldHVybiBpc0Z1bmN0aW9uKHN5bWJvbFJlZikgPyBzeW1ib2xSZWYgOiByZXNvbHZlKGVsKTtcbiAgfTtcblxuICBjb25zdCBpbnZva2VGbiA9IChlbD86IEVsZW1lbnQsIGN1cnJlbnRDdHg/OiBJbnZva2VDb250ZXh0LCBiZWZvcmVGbj86ICgpID0+IHZvaWQpID0+IHtcbiAgICByZXR1cm4gKCguLi5hcmdzOiBhbnlbXSk6IGFueSA9PiB7XG4gICAgICBjb25zdCBmbiA9IHJlc29sdmVMYXp5KGVsKSBhcyBUWVBFO1xuICAgICAgcmV0dXJuIHRoZW4oZm4sIChmbikgPT4ge1xuICAgICAgICBpZiAoaXNGdW5jdGlvbihmbikpIHtcbiAgICAgICAgICBjb25zdCBiYXNlQ29udGV4dCA9IGN1cnJlbnRDdHggPz8gbmV3SW52b2tlQ29udGV4dCgpO1xuICAgICAgICAgIGNvbnN0IGNvbnRleHQ6IEludm9rZUNvbnRleHQgPSB7XG4gICAgICAgICAgICAuLi5iYXNlQ29udGV4dCxcbiAgICAgICAgICAgICRxcmwkOiBRUkwgYXMgUVJMSW50ZXJuYWw8YW55PixcbiAgICAgICAgICB9O1xuICAgICAgICAgIGlmIChiZWZvcmVGbikge1xuICAgICAgICAgICAgYmVmb3JlRm4oKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHVzZUludm9rZShjb250ZXh0LCBmbiBhcyBhbnksIC4uLmFyZ3MpO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IHFFcnJvcihRRXJyb3JfcXJsSXNOb3RGdW5jdGlvbik7XG4gICAgICB9KTtcbiAgICB9KSBhcyBhbnk7XG4gIH07XG5cbiAgY29uc3QgaW52b2tlID0gYXN5bmMgZnVuY3Rpb24gKC4uLmFyZ3M6IGFueSkge1xuICAgIGNvbnN0IGZuID0gaW52b2tlRm4oKTtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBmbiguLi5hcmdzKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIGNvbnN0IFFSTDogUVJMSW50ZXJuYWw8VFlQRT4gPSBpbnZva2UgYXMgYW55O1xuICBjb25zdCBtZXRob2RzOiBRUkxJbnRlcm5hbE1ldGhvZHM8VFlQRT4gPSB7XG4gICAgZ2V0U3ltYm9sOiAoKSA9PiByZWZTeW1ib2wgPz8gc3ltYm9sLFxuICAgIGdldEhhc2g6ICgpID0+IGdldFN5bWJvbEhhc2gocmVmU3ltYm9sID8/IHN5bWJvbCksXG4gICAgcmVzb2x2ZSxcbiAgICAkcmVzb2x2ZUxhenkkOiByZXNvbHZlTGF6eSxcbiAgICAkc2V0Q29udGFpbmVyJDogc2V0Q29udGFpbmVyLFxuICAgICRjaHVuayQ6IGNodW5rLFxuICAgICRzeW1ib2wkOiBzeW1ib2wsXG4gICAgJHJlZlN5bWJvbCQ6IHJlZlN5bWJvbCxcbiAgICBnZXQgJGNhcHR1cmUkKCkge1xuICAgICAgcmV0dXJuIGNhcHR1cmU7XG4gICAgfSxcbiAgICBzZXQgJGNhcHR1cmUkKHYpIHtcbiAgICAgIGNhcHR1cmUgPSB2O1xuICAgIH0sXG4gICAgZ2V0ICRjYXB0dXJlUmVmJCgpIHtcbiAgICAgIHJldHVybiBjYXB0dXJlUmVmO1xuICAgIH0sXG4gICAgc2V0ICRjYXB0dXJlUmVmJCh2KSB7XG4gICAgICBjYXB0dXJlUmVmID0gdjtcbiAgICB9LFxuICAgICRpbnZva2VGbiQ6IGludm9rZUZuLFxuICAgICRjb3B5JCgpOiBRUkxJbnRlcm5hbDxUWVBFPiB7XG4gICAgICByZXR1cm4gY3JlYXRlUVJMPFRZUEU+KGNodW5rLCBzeW1ib2wsIHN5bWJvbFJlZiwgc3ltYm9sRm4sIG51bGwsIGNhcHR1cmVSZWYsIHJlZlN5bWJvbCk7XG4gICAgfSxcbiAgICAkc2VyaWFsaXplJChvcHRpb25zPzogUVJMU2VyaWFsaXplT3B0aW9ucykge1xuICAgICAgcmV0dXJuIHN0cmluZ2lmeVFSTChRUkwsIG9wdGlvbnMpO1xuICAgIH0sXG4gIH07XG4gIHJldHVybiBPYmplY3QuYXNzaWduKGludm9rZSwgbWV0aG9kcykgYXMgYW55O1xufTtcblxuZXhwb3J0IGNvbnN0IGdldFN5bWJvbEhhc2ggPSAoc3ltYm9sTmFtZTogc3RyaW5nKSA9PiB7XG4gIGNvbnN0IGluZGV4ID0gc3ltYm9sTmFtZS5sYXN0SW5kZXhPZignXycpO1xuICBpZiAoaW5kZXggPiAtMSkge1xuICAgIHJldHVybiBzeW1ib2xOYW1lLnNsaWNlKGluZGV4ICsgMSk7XG4gIH1cbiAgcmV0dXJuIHN5bWJvbE5hbWU7XG59O1xuXG5leHBvcnQgY29uc3QgaXNTYW1lUVJMID0gKGE6IFFSTEludGVybmFsPGFueT4sIGI6IFFSTEludGVybmFsPGFueT4pOiBib29sZWFuID0+IHtcbiAgcmV0dXJuIGEuZ2V0SGFzaCgpID09PSBiLmdldEhhc2goKTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRRcmw8VD4ocXJsOiBRUkw8VD4pOiBhc3NlcnRzIHFybCBpcyBRUkxJbnRlcm5hbDxUPiB7XG4gIGlmIChxRGV2KSB7XG4gICAgaWYgKCFpc1FybChxcmwpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vdCBhIFFSTCcpO1xuICAgIH1cbiAgfVxufVxuIl19","import { EMPTY_ARRAY } from '../util/flyweight';\nimport { assertQrl, createQRL } from './qrl-class';\nimport { isFunction, isString } from '../util/types';\nimport { getDocument } from '../util/dom';\nimport { logError } from '../util/log';\nimport { tryGetInvokeContext } from '../use/use-core';\nimport { codeToText, qError, QError_dynamicImportFailed, QError_runtimeQrlNoElement, QError_unknownTypeArgument, } from '../error/error';\nlet runtimeSymbolId = 0;\nconst RUNTIME_QRL = '/runtimeQRL';\nconst INLINED_QRL = '/inlinedQRL';\n// https://regexr.com/68v72\nconst EXTRACT_IMPORT_PATH = /\\(\\s*(['\"])([^\\1]+)\\1\\s*\\)/;\n// https://regexr.com/690ds\nconst EXTRACT_SELF_IMPORT = /Promise\\s*\\.\\s*resolve/;\n// https://regexr.com/6a83h\nconst EXTRACT_FILE_NAME = /[\\\\/(]([\\w\\d.\\-_]+\\.(js|ts)x?):/;\n// <docs markdown=\"../readme.md#qrl\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#qrl instead)\n/**\n * Used by Qwik Optimizer to point to lazy-loaded resources.\n *\n * This function should be used by the Qwik Optimizer only. The function should not be directly\n * referred to in the source code of the application.\n *\n * @see `QRL`, `$(...)`\n *\n * @param chunkOrFn - Chunk name (or function which is stringified to extract chunk name)\n * @param symbol - Symbol to lazy load\n * @param lexicalScopeCapture - a set of lexically scoped variables to capture.\n * @alpha\n */\n// </docs>\nexport const qrl = (chunkOrFn, symbol, lexicalScopeCapture = EMPTY_ARRAY) => {\n    let chunk;\n    let symbolFn = null;\n    if (isString(chunkOrFn)) {\n        chunk = chunkOrFn;\n    }\n    else if (isFunction(chunkOrFn)) {\n        symbolFn = chunkOrFn;\n        let match;\n        const srcCode = String(chunkOrFn);\n        if ((match = srcCode.match(EXTRACT_IMPORT_PATH)) && match[2]) {\n            chunk = match[2];\n        }\n        else if ((match = srcCode.match(EXTRACT_SELF_IMPORT))) {\n            const ref = 'QWIK-SELF';\n            const frames = new Error(ref).stack.split('\\n');\n            const start = frames.findIndex((f) => f.includes(ref));\n            const frame = frames[start + 2];\n            match = frame.match(EXTRACT_FILE_NAME);\n            if (!match) {\n                chunk = 'main';\n            }\n            else {\n                chunk = match[1];\n            }\n        }\n        else {\n            throw qError(QError_dynamicImportFailed, srcCode);\n        }\n    }\n    else {\n        throw qError(QError_unknownTypeArgument, chunkOrFn);\n    }\n    // Unwrap subscribers\n    const qrl = createQRL(chunk, symbol, null, symbolFn, null, lexicalScopeCapture, null);\n    const ctx = tryGetInvokeContext();\n    if (ctx && ctx.$element$) {\n        qrl.$setContainer$(ctx.$element$);\n    }\n    return qrl;\n};\nexport const runtimeQrl = (symbol, lexicalScopeCapture = EMPTY_ARRAY) => {\n    return createQRL(RUNTIME_QRL, 's' + runtimeSymbolId++, symbol, null, null, lexicalScopeCapture, null);\n};\n/**\n * @alpha\n */\nexport const inlinedQrl = (symbol, symbolName, lexicalScopeCapture = EMPTY_ARRAY) => {\n    // Unwrap subscribers\n    return createQRL(INLINED_QRL, symbolName, symbol, null, null, lexicalScopeCapture, null);\n};\nexport const stringifyQRL = (qrl, opts = {}) => {\n    assertQrl(qrl);\n    let symbol = qrl.$symbol$;\n    let chunk = qrl.$chunk$;\n    const refSymbol = qrl.$refSymbol$ ?? symbol;\n    const platform = opts.$platform$;\n    const element = opts.$element$;\n    if (platform) {\n        const result = platform.chunkForSymbol(refSymbol);\n        if (result) {\n            chunk = result[1];\n            if (!qrl.$refSymbol$) {\n                symbol = result[0];\n            }\n        }\n    }\n    const parts = [chunk];\n    if (symbol && symbol !== 'default') {\n        parts.push('#', symbol);\n    }\n    const capture = qrl.$capture$;\n    const captureRef = qrl.$captureRef$;\n    if (opts.$getObjId$) {\n        if (captureRef && captureRef.length) {\n            const capture = captureRef.map(opts.$getObjId$);\n            parts.push(`[${capture.join(' ')}]`);\n        }\n    }\n    else if (capture && capture.length > 0) {\n        parts.push(`[${capture.join(' ')}]`);\n    }\n    const qrlString = parts.join('');\n    if (qrl.$chunk$ === RUNTIME_QRL && element) {\n        const qrls = element.__qrls__ || (element.__qrls__ = new Set());\n        qrls.add(qrl);\n    }\n    return qrlString;\n};\nexport const qrlToUrl = (element, qrl) => {\n    return new URL(stringifyQRL(qrl), getDocument(element).baseURI);\n};\n/**\n * `./chunk#symbol[captures]\n */\nexport const parseQRL = (qrl, el) => {\n    const endIdx = qrl.length;\n    const hashIdx = indexOf(qrl, 0, '#');\n    const captureIdx = indexOf(qrl, hashIdx, '[');\n    const chunkEndIdx = Math.min(hashIdx, captureIdx);\n    const chunk = qrl.substring(0, chunkEndIdx);\n    const symbolStartIdx = hashIdx == endIdx ? hashIdx : hashIdx + 1;\n    const symbolEndIdx = captureIdx;\n    const symbol = symbolStartIdx == symbolEndIdx ? 'default' : qrl.substring(symbolStartIdx, symbolEndIdx);\n    const captureStartIdx = captureIdx;\n    const captureEndIdx = endIdx;\n    const capture = captureStartIdx === captureEndIdx\n        ? EMPTY_ARRAY\n        : qrl.substring(captureStartIdx + 1, captureEndIdx - 1).split(' ');\n    if (chunk === RUNTIME_QRL) {\n        logError(codeToText(QError_runtimeQrlNoElement), qrl);\n    }\n    const iQrl = createQRL(chunk, symbol, null, null, capture, null, null);\n    if (el) {\n        iQrl.$setContainer$(el);\n    }\n    return iQrl;\n};\nconst indexOf = (text, startIdx, char) => {\n    const endIdx = text.length;\n    const charIdx = text.indexOf(char, startIdx == endIdx ? 0 : startIdx);\n    return charIdx == -1 ? endIdx : charIdx;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicXJsLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL2ltcG9ydC9xcmwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBRWhELE9BQU8sRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFlLE1BQU0sYUFBYSxDQUFDO0FBQ2hFLE9BQU8sRUFBRSxVQUFVLEVBQUUsUUFBUSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBRXJELE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFDMUMsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUN2QyxPQUFPLEVBQUUsbUJBQW1CLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUN0RCxPQUFPLEVBQ0wsVUFBVSxFQUNWLE1BQU0sRUFDTiwwQkFBMEIsRUFDMUIsMEJBQTBCLEVBQzFCLDBCQUEwQixHQUMzQixNQUFNLGdCQUFnQixDQUFDO0FBRXhCLElBQUksZUFBZSxHQUFHLENBQUMsQ0FBQztBQUN4QixNQUFNLFdBQVcsR0FBRyxhQUFhLENBQUM7QUFDbEMsTUFBTSxXQUFXLEdBQUcsYUFBYSxDQUFDO0FBRWxDLDJCQUEyQjtBQUMzQixNQUFNLG1CQUFtQixHQUFHLDRCQUE0QixDQUFDO0FBRXpELDJCQUEyQjtBQUMzQixNQUFNLG1CQUFtQixHQUFHLHdCQUF3QixDQUFDO0FBRXJELDJCQUEyQjtBQUMzQixNQUFNLGlCQUFpQixHQUFHLGlDQUFpQyxDQUFDO0FBRTVELHFDQUFxQztBQUNyQyx5Q0FBeUM7QUFDekMsa0NBQWtDO0FBQ2xDOzs7Ozs7Ozs7Ozs7R0FZRztBQUNILFVBQVU7QUFDVixNQUFNLENBQUMsTUFBTSxHQUFHLEdBQUcsQ0FDakIsU0FBd0MsRUFDeEMsTUFBYyxFQUNkLHNCQUE2QixXQUFXLEVBQ2hDLEVBQUU7SUFDVixJQUFJLEtBQWEsQ0FBQztJQUNsQixJ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LENBQUMsTUFBTSxDQUFDO0lBQzNCLE1BQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLFFBQVEsSUFBSSxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDdEUsT0FBTyxPQUFPLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDO0FBQzFDLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEVNUFRZX0FSUkFZIH0gZnJvbSAnLi4vdXRpbC9mbHl3ZWlnaHQnO1xuaW1wb3J0IHR5cGUgeyBRUkwgfSBmcm9tICcuL3FybC5wdWJsaWMnO1xuaW1wb3J0IHsgYXNzZXJ0UXJsLCBjcmVhdGVRUkwsIFFSTEludGVybmFsIH0gZnJvbSAnLi9xcmwtY2xhc3MnO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiwgaXNTdHJpbmcgfSBmcm9tICcuLi91dGlsL3R5cGVzJztcbmltcG9ydCB0eXBlIHsgQ29yZVBsYXRmb3JtIH0gZnJvbSAnLi4vcGxhdGZvcm0vdHlwZXMnO1xuaW1wb3J0IHsgZ2V0RG9jdW1lbnQgfSBmcm9tICcuLi91dGlsL2RvbSc7XG5pbXBvcnQgeyBsb2dFcnJvciB9IGZyb20gJy4uL3V0aWwvbG9nJztcbmltcG9ydCB7IHRyeUdldEludm9rZUNvbnRleHQgfSBmcm9tICcuLi91c2UvdXNlLWNvcmUnO1xuaW1wb3J0IHtcbiAgY29kZVRvVGV4dCxcbiAgcUVycm9yLFxuICBRRXJyb3JfZHluYW1pY0ltcG9ydEZhaWxlZCxcbiAgUUVycm9yX3J1bnRpbWVRcmxOb0VsZW1lbnQsXG4gIFFFcnJvcl91bmtub3duVHlwZUFyZ3VtZW50LFxufSBmcm9tICcuLi9lcnJvci9lcnJvcic7XG5cbmxldCBydW50aW1lU3ltYm9sSWQgPSAwO1xuY29uc3QgUlVOVElNRV9RUkwgPSAnL3J1bnRpbWVRUkwnO1xuY29uc3QgSU5MSU5FRF9RUkwgPSAnL2lubGluZWRRUkwnO1xuXG4vLyBodHRwczovL3JlZ2V4ci5jb20vNjh2NzJcbmNvbnN0IEVYVFJBQ1RfSU1QT1JUX1BBVEggPSAvXFwoXFxzKihbJ1wiXSkoW15cXDFdKylcXDFcXHMqXFwpLztcblxuLy8gaHR0cHM6Ly9yZWdleHIuY29tLzY5MGRzXG5jb25zdCBFWFRSQUNUX1NFTEZfSU1QT1JUID0gL1Byb21pc2VcXHMqXFwuXFxzKnJlc29sdmUvO1xuXG4vLyBodHRwczovL3JlZ2V4ci5jb20vNmE4M2hcbmNvbnN0IEVYVFJBQ1RfRklMRV9OQU1FID0gL1tcXFxcLyhdKFtcXHdcXGQuXFwtX10rXFwuKGpzfHRzKXg/KTovO1xuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4uL3JlYWRtZS5tZCNxcmxcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjcXJsIGluc3RlYWQpXG4vKipcbiAqIFVzZWQgYnkgUXdpayBPcHRpbWl6ZXIgdG8gcG9pbnQgdG8gbGF6eS1sb2FkZWQgcmVzb3VyY2VzLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gc2hvdWxkIGJlIHVzZWQgYnkgdGhlIFF3aWsgT3B0aW1pemVyIG9ubHkuIFRoZSBmdW5jdGlvbiBzaG91bGQgbm90IGJlIGRpcmVjdGx5XG4gKiByZWZlcnJlZCB0byBpbiB0aGUgc291cmNlIGNvZGUgb2YgdGhlIGFwcGxpY2F0aW9uLlxuICpcbiAqIEBzZWUgYFFSTGAsIGAkKC4uLilgXG4gKlxuICogQHBhcmFtIGNodW5rT3JGbiAtIENodW5rIG5hbWUgKG9yIGZ1bmN0aW9uIHdoaWNoIGlzIHN0cmluZ2lmaWVkIHRvIGV4dHJhY3QgY2h1bmsgbmFtZSlcbiAqIEBwYXJhbSBzeW1ib2wgLSBTeW1ib2wgdG8gbGF6eSBsb2FkXG4gKiBAcGFyYW0gbGV4aWNhbFNjb3BlQ2FwdHVyZSAtIGEgc2V0IG9mIGxleGljYWxseSBzY29wZWQgdmFyaWFibGVzIHRvIGNhcHR1cmUuXG4gKiBAYWxwaGFcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGNvbnN0IHFybCA9IDxUID0gYW55PihcbiAgY2h1bmtPckZuOiBzdHJpbmcgfCAoKCkgPT4gUHJvbWlzZTxhbnk+KSxcbiAgc3ltYm9sOiBzdHJpbmcsXG4gIGxleGljYWxTY29wZUNhcHR1cmU6IGFueVtdID0gRU1QVFlfQVJSQVlcbik6IFFSTDxUPiA9PiB7XG4gIGxldCBjaHVuazogc3RyaW5nO1xuICBsZXQgc3ltYm9sRm46IG51bGwgfCAoKCkgPT4gUHJvbWlzZTxSZWNvcmQ8c3RyaW5nLCBhbnk+PikgPSBudWxsO1xuICBpZiAoaXNTdHJpbmcoY2h1bmtPckZuKSkge1xuICAgIGNodW5rID0gY2h1bmtPckZuO1xuICB9IGVsc2UgaWYgKGlzRnVuY3Rpb24oY2h1bmtPckZuKSkge1xuICAgIHN5bWJvbEZuID0gY2h1bmtPckZuO1xuICAgIGxldCBtYXRjaDogUmVnRXhwTWF0Y2hBcnJheSB8IG51bGw7XG4gICAgY29uc3Qgc3JjQ29kZSA9IFN0cmluZyhjaHVua09yRm4pO1xuICAgIGlmICgobWF0Y2ggPSBzcmNDb2RlLm1hdGNoKEVYVFJBQ1RfSU1QT1JUX1BBVEgpKSAmJiBtYXRjaFsyXSkge1xuICAgICAgY2h1bmsgPSBtYXRjaFsyXTtcbiAgICB9IGVsc2UgaWYgKChtYXRjaCA9IHNyY0NvZGUubWF0Y2goRVhUUkFDVF9TRUxGX0lNUE9SVCkpKSB7XG4gICAgICBjb25zdCByZWYgPSAnUVdJSy1TRUxGJztcbiAgICAgIGNvbnN0IGZyYW1lcyA9IG5ldyBFcnJvcihyZWYpLnN0YWNrIS5zcGxpdCgnXFxuJyk7XG4gICAgICBjb25zdCBzdGFydCA9IGZyYW1lcy5maW5kSW5kZXgoKGYpID0+IGYuaW5jbHVkZXMocmVmKSk7XG4gICAgICBjb25zdCBmcmFtZSA9IGZyYW1lc1tzdGFydCArIDJdO1xuICAgICAgbWF0Y2ggPSBmcmFtZS5tYXRjaChFWFRSQUNUX0ZJTEVfTkFNRSk7XG4gICAgICBpZiAoIW1hdGNoKSB7XG4gICAgICAgIGNodW5rID0gJ21haW4nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2h1bmsgPSBtYXRjaFsxXTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgcUVycm9yKFFFcnJvcl9keW5hbWljSW1wb3J0RmFpbGVkLCBzcmNDb2RlKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgcUVycm9yKFFFcnJvcl91bmtub3duVHlwZUFyZ3VtZW50LCBjaHVua09yRm4pO1xuICB9XG5cbiAgLy8gVW53cmFwIHN1YnNjcmliZXJzXG4gIGNvbnN0IHFybCA9IGNyZWF0ZVFSTDxUPihjaHVuaywgc3ltYm9sLCBudWxsLCBzeW1ib2xGbiwgbnVsbCwgbGV4aWNhbFNjb3BlQ2FwdHVyZSwgbnVsbCk7XG4gIGNvbnN0IGN0eCA9IHRyeUdldEludm9rZUNvbnRleHQoKTtcbiAgaWYgKGN0eCAmJiBjdHguJGVsZW1lbnQkKSB7XG4gICAgcXJsLiRzZXRDb250YWluZXIkKGN0eC4kZWxlbWVudCQpO1xuICB9XG4gIHJldHVybiBxcmwgYXMgYW55O1xufTtcblxuZXhwb3J0IGNvbnN0IHJ1bnRpbWVRcmwgPSA8VD4oXG4gIHN5bWJvbDogVCxcbiAgbGV4aWNhbFNjb3BlQ2FwdHVyZTogYW55W10gPSBFTVBUWV9BUlJBWVxuKTogUVJMSW50ZXJuYWw8VD4gPT4ge1xuICByZXR1cm4gY3JlYXRlUVJMPFQ+KFxuICAgIFJVTlRJTUVfUVJMLFxuICAgICdzJyArIHJ1bnRpbWVTeW1ib2xJZCsrLFxuICAgIHN5bWJvbCxcbiAgICBudWxsLFxuICAgIG51bGwsXG4gICAgbGV4aWNhbFNjb3BlQ2FwdHVyZSxcbiAgICBudWxsXG4gICk7XG59O1xuXG4vKipcbiAqIEBhbHBoYVxuICovXG5leHBvcnQgY29uc3QgaW5saW5lZFFybCA9IDxUPihcbiAgc3ltYm9sOiBULFxuICBzeW1ib2xOYW1lOiBzdHJpbmcsXG4gIGxleGljYWxTY29wZUNhcHR1cmU6IGFueVtdID0gRU1QVFlfQVJSQVlcbik6IFFSTDxUPiA9PiB7XG4gIC8vIFVud3JhcCBzdWJzY3JpYmVyc1xuICByZXR1cm4gY3JlYXRlUVJMPFQ+KElOTElORURfUVJMLCBzeW1ib2xOYW1lLCBzeW1ib2wsIG51bGwsIG51bGwsIGxleGljYWxTY29wZUNhcHR1cmUsIG51bGwpO1xufTtcblxuZXhwb3J0IGludGVyZmFjZSBRUkxTZXJpYWxpemVPcHRpb25zIHtcbiAgJHBsYXRmb3JtJD86IENvcmVQbGF0Zm9ybTtcbiAgJGVsZW1lbnQkPzogRWxlbWVudDtcbiAgJGdldE9iaklkJD86IChvYmo6IGFueSkgPT4gc3RyaW5nIHwgbnVsbDtcbn1cblxuZXhwb3J0IGNvbnN0IHN0cmluZ2lmeVFSTCA9IChxcmw6IFFSTEludGVybmFsLCBvcHRzOiBRUkxTZXJpYWxpemVPcHRpb25zID0ge30pID0+IHtcbiAgYXNzZXJ0UXJsKHFybCk7XG4gIGxldCBzeW1ib2wgPSBxcmwuJHN5bWJvbCQ7XG4gIGxldCBjaHVuayA9IHFybC4kY2h1bmskO1xuICBjb25zdCByZWZTeW1ib2wgPSBxcmwuJHJlZlN5bWJvbCQgPz8gc3ltYm9sO1xuICBjb25zdCBwbGF0Zm9ybSA9IG9wdHMuJHBsYXRmb3JtJDtcbiAgY29uc3QgZWxlbWVudCA9IG9wdHMuJGVsZW1lbnQkO1xuICBpZiAocGxhdGZvcm0pIHtcbiAgICBjb25zdCByZXN1bHQgPSBwbGF0Zm9ybS5jaHVua0ZvclN5bWJvbChyZWZTeW1ib2wpO1xuICAgIGlmIChyZXN1bHQpIHtcbiAgICAgIGNodW5rID0gcmVzdWx0WzFdO1xuICAgICAgaWYgKCFxcmwuJHJlZlN5bWJvbCQpIHtcbiAgICAgICAgc3ltYm9sID0gcmVzdWx0WzBdO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBjb25zdCBwYXJ0czogc3RyaW5nW10gPSBbY2h1bmtdO1xuICBpZiAoc3ltYm9sICYmIHN5bWJvbCAhPT0gJ2RlZmF1bHQnKSB7XG4gICAgcGFydHMucHVzaCgnIycsIHN5bWJvbCk7XG4gIH1cbiAgY29uc3QgY2FwdHVyZSA9IHFybC4kY2FwdHVyZSQ7XG4gIGNvbnN0IGNhcHR1cmVSZWYgPSBxcmwuJGNhcHR1cmVSZWYkO1xuICBpZiAob3B0cy4kZ2V0T2JqSWQkKSB7XG4gICAgaWYgKGNhcHR1cmVSZWYgJiYgY2FwdHVyZVJlZi5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IGNhcHR1cmUgPSBjYXB0dXJlUmVmLm1hcChvcHRzLiRnZXRPYmpJZCQpO1xuICAgICAgcGFydHMucHVzaChgWyR7Y2FwdHVyZS5qb2luKCcgJyl9XWApO1xuICAgIH1cbiAgfSBlbHNlIGlmIChjYXB0dXJlICYmIGNhcHR1cmUubGVuZ3RoID4gMCkge1xuICAgIHBhcnRzLnB1c2goYFske2NhcHR1cmUuam9pbignICcpfV1gKTtcbiAgfVxuICBjb25zdCBxcmxTdHJpbmcgPSBwYXJ0cy5qb2luKCcnKTtcbiAgaWYgKHFybC4kY2h1bmskID09PSBSVU5USU1FX1FSTCAmJiBlbGVtZW50KSB7XG4gICAgY29uc3QgcXJsczogU2V0PFFSTD4gPSAoZWxlbWVudCBhcyBhbnkpLl9fcXJsc19fIHx8ICgoZWxlbWVudCBhcyBhbnkpLl9fcXJsc19fID0gbmV3IFNldCgpKTtcbiAgICBxcmxzLmFkZChxcmwpO1xuICB9XG4gIHJldHVybiBxcmxTdHJpbmc7XG59O1xuXG5leHBvcnQgY29uc3QgcXJsVG9VcmwgPSAoZWxlbWVudDogRWxlbWVudCwgcXJsOiBRUkxJbnRlcm5hbCk6IFVSTCA9PiB7XG4gIHJldHVybiBuZXcgVVJMKHN0cmluZ2lmeVFSTChxcmwpLCBnZXREb2N1bWVudChlbGVtZW50KS5iYXNlVVJJKTtcbn07XG5cbi8qKlxuICogYC4vY2h1bmsjc3ltYm9sW2NhcHR1cmVzXVxuICovXG5leHBvcnQgY29uc3QgcGFyc2VRUkwgPSAocXJsOiBzdHJpbmcsIGVsPzogRWxlbWVudCk6IFFSTEludGVybmFsID0+IHtcbiAgY29uc3QgZW5kSWR4ID0gcXJsLmxlbmd0aDtcbiAgY29uc3QgaGFzaElkeCA9IGluZGV4T2YocXJsLCAwLCAnIycpO1xuICBjb25zdCBjYXB0dXJlSWR4ID0gaW5kZXhPZihxcmwsIGhhc2hJZHgsICdbJyk7XG5cbiAgY29uc3QgY2h1bmtFbmRJZHggPSBNYXRoLm1pbihoYXNoSWR4LCBjYXB0dXJlSWR4KTtcbiAgY29uc3QgY2h1bmsgPSBxcmwuc3Vic3RyaW5nKDAsIGNodW5rRW5kSWR4KTtcblxuICBjb25zdCBzeW1ib2xTdGFydElkeCA9IGhhc2hJZHggPT0gZW5kSWR4ID8gaGFzaElkeCA6IGhhc2hJZHggKyAxO1xuICBjb25zdCBzeW1ib2xFbmRJZHggPSBjYXB0dXJlSWR4O1xuICBjb25zdCBzeW1ib2wgPVxuICAgIHN5bWJvbFN0YXJ0SWR4ID09IHN5bWJvbEVuZElkeCA/ICdkZWZhdWx0JyA6IHFybC5zdWJzdHJpbmcoc3ltYm9sU3RhcnRJZHgsIHN5bWJvbEVuZElkeCk7XG5cbiAgY29uc3QgY2FwdHVyZVN0YXJ0SWR4ID0gY2FwdHVyZUlkeDtcbiAgY29uc3QgY2FwdHVyZUVuZElkeCA9IGVuZElkeDtcbiAgY29uc3QgY2FwdHVyZSA9XG4gICAgY2FwdHVyZVN0YXJ0SWR4ID09PSBjYXB0dXJlRW5kSWR4XG4gICAgICA/IEVNUFRZX0FSUkFZXG4gICAgICA6IHFybC5zdWJzdHJpbmcoY2FwdHVyZVN0YXJ0SWR4ICsgMSwgY2FwdHVyZUVuZElkeCAtIDEpLnNwbGl0KCcgJyk7XG5cbiAgaWYgKGNodW5rID09PSBSVU5USU1FX1FSTCkge1xuICAgIGxvZ0Vycm9yKGNvZGVUb1RleHQoUUVycm9yX3J1bnRpbWVRcmxOb0VsZW1lbnQpLCBxcmwpO1xuICB9XG4gIGNvbnN0IGlRcmwgPSBjcmVhdGVRUkw8YW55PihjaHVuaywgc3ltYm9sLCBudWxsLCBudWxsLCBjYXB0dXJlLCBudWxsLCBudWxsKTtcbiAgaWYgKGVsKSB7XG4gICAgaVFybC4kc2V0Q29udGFpbmVyJChlbCk7XG4gIH1cbiAgcmV0dXJuIGlRcmw7XG59O1xuXG5jb25zdCBpbmRleE9mID0gKHRleHQ6IHN0cmluZywgc3RhcnRJZHg6IG51bWJlciwgY2hhcjogc3RyaW5nKSA9PiB7XG4gIGNvbnN0IGVuZElkeCA9IHRleHQubGVuZ3RoO1xuICBjb25zdCBjaGFySWR4ID0gdGV4dC5pbmRleE9mKGNoYXIsIHN0YXJ0SWR4ID09IGVuZElkeCA/IDAgOiBzdGFydElkeCk7XG4gIHJldHVybiBjaGFySWR4ID09IC0xID8gZW5kSWR4IDogY2hhcklkeDtcbn07XG4iXX0=","import { runtimeQrl } from './qrl';\n// <docs markdown=\"../readme.md#$\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#$ instead)\n/**\n * Qwik Optimizer marker function.\n *\n * Use `$(...)` to tell Qwik Optimizer to extract the expression in `$(...)` into a lazy-loadable\n * resource referenced by `QRL`.\n *\n * @see `implicit$FirstArg` for additional `____$(...)` rules.\n *\n * In this example, `$(...)` is used to capture the callback function of `onmousemove` into a\n * lazy-loadable reference. This allows the code to refer to the function without actually\n * loading the function. In this example, the callback function does not get loaded until\n * `mousemove` event fires.\n *\n * ```tsx\n * useOnDocument(\n *   'mousemove',\n *   $((event) => console.log('mousemove', event))\n * );\n * ```\n *\n * In this code, the Qwik Optimizer detects `$(...)` and transforms the code into:\n *\n * ```tsx\n * // FILE: <current file>\n * useOnDocument('mousemove', qrl('./chunk-abc.js', 'onMousemove'));\n *\n * // FILE: chunk-abc.js\n * export const onMousemove = () => console.log('mousemove');\n * ```\n *\n * ## Special Rules\n *\n * The Qwik Optimizer places special rules on functions that can be lazy-loaded.\n *\n * 1. The expression of the `$(expression)` function must be importable by the system.\n * (expression shows up in `import` or has `export`)\n * 2. If inlined function, then all lexically captured values must be:\n *    - importable (vars show up in `import`s or `export`s)\n *    - const (The capturing process differs from JS capturing in that writing to captured\n * variables does not update them, and therefore writes are forbidden. The best practice is that\n * all captured variables are constants.)\n *    - Must be runtime serializable.\n *\n * ```tsx\n * import { importedFn } from './import/example';\n *\n * export const greet = () => console.log('greet');\n * function topLevelFn() {}\n *\n * function myCode() {\n *   const store = useStore({});\n *   function localFn() {}\n *   // Valid Examples\n *   $(greet); // greet is importable\n *   $(importedFn); // importedFn is importable\n *   $(() => greet()); // greet is importable;\n *   $(() => importedFn()); // importedFn is importable\n *   $(() => console.log(store)); // store is serializable.\n *\n *   // Compile time errors\n *   $(topLevelFn); // ERROR: `topLevelFn` not importable\n *   $(() => topLevelFn()); // ERROR: `topLevelFn` not importable\n *\n *   // Runtime errors\n *   $(localFn); // ERROR: `localFn` fails serialization\n *   $(() => localFn()); // ERROR: `localFn` fails serialization\n * }\n *\n * ```\n *\n * @param expression - Expression which should be lazy loaded\n * @public\n */\n// </docs>\nexport const $ = (expression) => {\n    return runtimeQrl(expression);\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicXJsLnB1YmxpYy5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9pbXBvcnQvcXJsLnB1YmxpYy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sT0FBTyxDQUFDO0FBa0tuQyxtQ0FBbUM7QUFDbkMseUNBQXlDO0FBQ3pDLGdDQUFnQztBQUNoQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0dBd0VHO0FBQ0gsVUFBVTtBQUNWLE1BQU0sQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFJLFVBQWEsRUFBVSxFQUFFO0lBQzVDLE9BQU8sVUFBVSxDQUFDLFVBQVUsQ0FBQyxDQUFDO0FBQ2hDLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHJ1bnRpbWVRcmwgfSBmcm9tICcuL3FybCc7XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kI1FSTFwiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IC4uL3JlYWRtZS5tZCNRUkwgaW5zdGVhZClcbi8qKlxuICogVGhlIGBRUkxgIHR5cGUgcmVwcmVzZW50cyBhIGxhenktbG9hZGFibGUgQU5EIHNlcmlhbGl6YWJsZSByZXNvdXJjZS5cbiAqXG4gKiBRUkwgc3RhbmRzIGZvciBRd2lrIFVSTC5cbiAqXG4gKiBVc2UgYFFSTGAgd2hlbiB5b3Ugd2FudCB0byByZWZlciB0byBhIGxhenktbG9hZGVkIHJlc291cmNlLiBgUVJMYHMgYXJlIG1vc3Qgb2Z0ZW4gdXNlZCBmb3JcbiAqIGNvZGUgKGZ1bmN0aW9ucykgYnV0IGNhbiBhbHNvIGJlIHVzZWQgZm9yIG90aGVyIHJlc291cmNlcyBzdWNoIGFzIGBzdHJpbmdgcyBpbiB0aGUgY2FzZSBvZlxuICogc3R5bGVzLlxuICpcbiAqIGBRUkxgIGlzIGFuIG9wYXF1ZSB0b2tlbiB0aGF0IGlzIGdlbmVyYXRlZCBieSB0aGUgUXdpayBPcHRpbWl6ZXIuIChEbyBub3QgcmVseSBvbiBhbnlcbiAqIHByb3BlcnRpZXMgaW4gYFFSTGAgYXMgaXQgbWF5IGNoYW5nZSBiZXR3ZWVuIHZlcnNpb25zLilcbiAqXG4gKiAjIyBDcmVhdGluZyBgUVJMYCByZWZlcmVuY2VzXG4gKlxuICogQ3JlYXRpbmcgYFFSTGAgaXMgZG9uZSB1c2luZyBgJCguLi4pYCBmdW5jdGlvbi4gYCQoLi4uKWAgaXMgYSBzcGVjaWFsIG1hcmtlciBmb3IgdGhlIFF3aWtcbiAqIE9wdGltaXplciB0aGF0IG1hcmtzIHRoYXQgdGhlIGNvZGUgc2hvdWxkIGJlIGV4dHJhY3RlZCBpbnRvIGEgbGF6eS1sb2FkZWQgc3ltYm9sLlxuICpcbiAqIGBgYHRzeFxuICogdXNlT25Eb2N1bWVudChcbiAqICAgJ21vdXNlbW92ZScsXG4gKiAgICQoKGV2ZW50KSA9PiBjb25zb2xlLmxvZygnbW91c2Vtb3ZlJywgZXZlbnQpKVxuICogKTtcbiAqIGBgYFxuICpcbiAqIEluIHRoZSBhYm92ZSBjb2RlLCB0aGUgUXdpayBPcHRpbWl6ZXIgZGV0ZWN0cyBgJCguLi4pYCBhbmQgdHJhbnNmb3JtcyB0aGUgY29kZSBhcyBzaG93biBiZWxvdzpcbiAqXG4gKiBgYGB0c3hcbiAqIC8vIEZJTEU6IDxjdXJyZW50IGZpbGU+XG4gKiB1c2VPbkRvY3VtZW50KCdtb3VzZW1vdmUnLCBxcmwoJy4vY2h1bmstYWJjLmpzJywgJ29uTW91c2Vtb3ZlJykpO1xuICpcbiAqIC8vIEZJTEU6IGNodW5rLWFiYy5qc1xuICogZXhwb3J0IGNvbnN0IG9uTW91c2Vtb3ZlID0gKCkgPT4gY29uc29sZS5sb2coJ21vdXNlbW92ZScpO1xuICogYGBgXG4gKlxuICogTk9URTogYHFybCguLi4pYCBpcyBhIHJlc3VsdCBvZiBRd2lrIE9wdGltaXplciB0cmFuc2Zvcm1hdGlvbi4gWW91IHNob3VsZCBuZXZlciBoYXZlIHRvIGludm9rZVxuICogdGhpcyBmdW5jdGlvbiBkaXJlY3RseSBpbiB5b3VyIGFwcGxpY2F0aW9uLiBUaGUgYHFybCguLi4pYCBmdW5jdGlvbiBzaG91bGQgYmUgaW52b2tlZCBvbmx5XG4gKiBhZnRlciB0aGUgUXdpayBPcHRpbWl6ZXIgdHJhbnNmb3JtYXRpb24uXG4gKlxuICogIyMgVXNpbmcgYFFSTGBzXG4gKlxuICogVXNlIGBRUkxgIHR5cGUgaW4geW91ciBhcHBsaWNhdGlvbiB3aGVuIHlvdSB3YW50IHRvIGdldCBhIGxhenktbG9hZGFibGUgcmVmZXJlbmNlIHRvIGFcbiAqIHJlc291cmNlIChtb3N0IGxpa2VseSBhIGZ1bmN0aW9uKS5cbiAqXG4gKiBgYGB0c3hcbiAqIC8vIEV4YW1wbGUgb2YgZGVjbGFyaW5nIGEgY3VzdG9tIGZ1bmN0aW9ucyB3aGljaCB0YWtlcyBjYWxsYmFjayBhcyBRUkwuXG4gKiBleHBvcnQgZnVuY3Rpb24gdXNlTXlGdW5jdGlvbihjYWxsYmFjazogUVJMPCgpID0+IHZvaWQ+KSB7XG4gKiAgIGRvRXh0cmFTdHVmZigpO1xuICogICAvLyBUaGUgY2FsbGJhY2sgcGFzc2VkIHRvIGBvbkRvY3VtZW50YCByZXF1aXJlcyBgUVJMYC5cbiAqICAgdXNlT25Eb2N1bWVudCgnbW91c2Vtb3ZlJywgY2FsbGJhY2spO1xuICogfVxuICogYGBgXG4gKlxuICogSW4gdGhlIGFib3ZlIGV4YW1wbGUsIHRoZSB3YXkgdG8gdGhpbmsgYWJvdXQgdGhlIGNvZGUgaXMgdGhhdCB5b3UgYXJlIG5vdCBhc2tpbmcgZm9yIGFcbiAqIGNhbGxiYWNrIGZ1bmN0aW9uIGJ1dCByYXRoZXIgYSByZWZlcmVuY2UgdG8gYSBsYXp5LWxvYWRhYmxlIGNhbGxiYWNrIGZ1bmN0aW9uLiBTcGVjaWZpY2FsbHksXG4gKiB0aGUgZnVuY3Rpb24gbG9hZGluZyBzaG91bGQgYmUgZGVsYXllZCB1bnRpbCBpdCBpcyBhY3R1YWxseSBuZWVkZWQuIEluIHRoZSBhYm92ZSBleGFtcGxlLCB0aGVcbiAqIGZ1bmN0aW9uIHdvdWxkIG5vdCBsb2FkIHVudGlsIGFmdGVyIGEgYG1vdXNlbW92ZWAgZXZlbnQgb24gYGRvY3VtZW50YCBmaXJlcy5cbiAqXG4gKiAjIyBSZXNvbHZpbmcgYFFSTGAgcmVmZXJlbmNlc1xuICpcbiAqIEF0IHRpbWVzIGl0IG1heSBiZSBuZWNlc3NhcnkgdG8gcmVzb2x2ZSBhIGBRUkxgIHJlZmVyZW5jZSB0byB0aGUgYWN0dWFsIHZhbHVlLiBUaGlzIGNhbiBiZVxuICogcGVyZm9ybWVkIHVzaW5nIGBRUkwucmVzb2x2ZSguLilgIGZ1bmN0aW9uLlxuICpcbiAqIGBgYHRzeFxuICogLy8gQXNzdW1lIHlvdSBoYXZlIFFSTCByZWZlcmVuY2UgdG8gYSBncmVldCBmdW5jdGlvblxuICogY29uc3QgbGF6eUdyZWV0OiBRUkw8KCkgPT4gdm9pZD4gPSAkKCgpID0+IGNvbnNvbGUubG9nKCdIZWxsbyBXb3JsZCEnKSk7XG4gKlxuICogLy8gVXNlIGBxcmxJbXBvcnRgIHRvIGxvYWQgLyByZXNvbHZlIHRoZSByZWZlcmVuY2UuXG4gKiBjb25zdCBncmVldDogKCkgPT4gdm9pZCA9IGF3YWl0IGxhenlHcmVldC5yZXNvbHZlKCk7XG4gKlxuICogLy8gIEludm9rZSBpdFxuICogZ3JlZXQoKTtcbiAqIGBgYFxuICpcbiAqIE5PVEU6IGBlbGVtZW50YCBpcyBuZWVkZWQgYmVjYXVzZSBgUVJMYHMgYXJlIHJlbGF0aXZlIGFuZCBuZWVkIGEgYmFzZSBsb2NhdGlvbiB0byByZXNvbHZlXG4gKiBhZ2FpbnN0LiBUaGUgYmFzZSBsb2NhdGlvbiBpcyBlbmNvZGVkIGluIHRoZSBIVE1MIGluIHRoZSBmb3JtIG9mIGA8ZGl2IHE6YmFzZT1cIi91cmxcIj5gLlxuICpcbiAqICMjIFF1ZXN0aW9uOiBXaHkgbm90IGp1c3QgdXNlIGBpbXBvcnQoKWA/XG4gKlxuICogQXQgZmlyc3QgZ2xhbmNlLCBgUVJMYCBzZXJ2ZXMgdGhlIHNhbWUgcHVycG9zZSBhcyBgaW1wb3J0KClgLiBIb3dldmVyLCB0aGVyZSBhcmUgdGhyZWUgc3VidGxlXG4gKiBkaWZmZXJlbmNlcyB0aGF0IG5lZWQgdG8gYmUgdGFrZW4gaW50byBhY2NvdW50LlxuICpcbiAqIDEuIGBRUkxgcyBtdXN0IGJlIHNlcmlhbGl6YWJsZSBpbnRvIEhUTUwuXG4gKiAyLiBgUVJMYHMgbXVzdCBiZSByZXNvbHZlZCBieSBmcmFtZXdvcmsgcmVsYXRpdmUgdG8gYHE6YmFzZWAuXG4gKiAzLiBgUVJMYHMgbXVzdCBiZSBhYmxlIHRvIGNhcHR1cmUgbGV4aWNhbGx5IHNjb3BlZCB2YXJpYWJsZXMuXG4gKiA0LiBgUVJMYHMgZW5jYXBzdWxhdGUgdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiBydW5uaW5nIHdpdGggYW5kIHdpdGhvdXQgUXdpayBPcHRpbWl6ZXIuXG4gKiA1LiBgUVJMYHMgYWxsb3cgZXhwcmVzc2luZyBsYXp5LWxvYWRlZCBib3VuZGFyaWVzIHdpdGhvdXQgdGhpbmtpbmcgYWJvdXQgY2h1bmsgYW5kIHN5bWJvbFxuICogbmFtZXMuXG4gKlxuICogTGV0J3MgYXNzdW1lIHRoYXQgeW91IGludGVuZCB0byB3cml0ZSBjb2RlIHN1Y2ggYXMgdGhpczpcbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiByZXR1cm4gPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiAoYXdhaXQgaW1wb3J0KCcuL2NodW5rLWFiYy5qcycpKS5vbkNsaWNrfT5cbiAqIGBgYFxuICpcbiAqIFRoZSBhYm92ZSBjb2RlIG5lZWRzIHRvIGJlIHNlcmlhbGl6ZWQgaW50byBET00gc3VjaCBhczpcbiAqXG4gKiBgYGBcbiAqIDxkaXYgcTpiYXNlPVwiL2J1aWxkL1wiPlxuICogICA8YnV0dG9uIG9uOmxpY2s9XCIuL2NodW5rLWFiYy5qcyNvbkNsaWNrXCI+Li4uPC9idXR0b24+XG4gKiA8L2Rpdj5cbiAqIGBgYFxuICpcbiAqIDEuIE5vdGljZSB0aGVyZSBpcyBubyBlYXN5IHdheSB0byBleHRyYWN0IGNodW5rIChgLi9jaHVuay1hYmMuanNgKSBhbmQgc3ltYm9sIChgb25DbGlja2ApIGludG9cbiAqIEhUTUwuXG4gKiAyLiBOb3RpY2UgdGhhdCBldmVuIGlmIHlvdSBjb3VsZCBleHRyYWN0IGl0LCB0aGUgYGltcG9ydCgnLi9jaHVuay1hYmMuanMnKWAgd291bGQgYmVjb21lXG4gKiByZWxhdGl2ZSB0byB3aGVyZSB0aGUgYGltcG9ydCgpYCBmaWxlIGlzIGRlY2xhcmVkLiBCZWNhdXNlIGl0IGlzIG91ciBmcmFtZXdvcmsgZG9pbmcgdGhlIGxvYWQsXG4gKiB0aGUgYC4vY2h1bmstYWJjLmpzYCB3b3VsZCBiZWNvbWUgcmVsYXRpdmUgdG8gdGhlIGZyYW1ld29yayBmaWxlLiBUaGlzIGlzIG5vdCBjb3JyZWN0LCBhcyBpdFxuICogc2hvdWxkIGJlIHJlbGF0aXZlIHRvIHRoZSBvcmlnaW5hbCBmaWxlIGdlbmVyYXRlZCBieSB0aGUgYnVuZGxlci5cbiAqIDMuIE5leHQsIHRoZSBmcmFtZXdvcmsgbmVlZHMgdG8gcmVzb2x2ZSB0aGUgYC4vY2h1bmstYWJjLmpzYCBhbmQgbmVlZHMgYSBiYXNlIGxvY2F0aW9uIHRoYXQgaXNcbiAqIGVuY29kZWQgaW4gdGhlIEhUTUwuXG4gKiA0LiBUaGUgUVJMIG5lZWRzIHRvIGJlIGFibGUgdG8gY2FwdHVyZSBsZXhpY2FsbHkgc2NvcGVkIHZhcmlhYmxlcy4gKGBpbXBvcnQoKWAgb25seSBhbGxvd3NcbiAqIGxvYWRpbmcgdG9wLWxldmVsIHN5bWJvbHMgd2hpY2ggZG9uJ3QgY2FwdHVyZSB2YXJpYWJsZXMuKVxuICogNS4gQXMgYSBkZXZlbG9wZXIsIHlvdSBkb24ndCB3YW50IHRvIHRoaW5rIGFib3V0IGBpbXBvcnRgIGFuZCBuYW1pbmcgdGhlIGNodW5rcyBhbmQgc3ltYm9scy5cbiAqIFlvdSBqdXN0IHdhbnQgdG8gc2F5OiBcInRoaXMgc2hvdWxkIGJlIGxhenkuXCJcbiAqXG4gKiBUaGVzZSBhcmUgdGhlIG1haW4gcmVhc29ucyB3aHkgUXdpayBpbnRyb2R1Y2VzIGl0cyBvd24gY29uY2VwdCBvZiBgUVJMYC5cbiAqXG4gKiBAc2VlIGAkYFxuICpcbiAqIEBwdWJsaWNcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGludGVyZmFjZSBRUkw8VFlQRSA9IGFueT4ge1xuICBfX2JyYW5kX19RUkxfXzogVFlQRTtcblxuICAvKipcbiAgICogUmVzb2x2ZSB0aGUgUVJMIG9mIGNsb3N1cmUgYW5kIGludm9rZSBpdC5cbiAgICogQHBhcmFtIGFyZ3MgLSBDbG91c3VyZSBhcmd1bWVudHMuXG4gICAqIEByZXR1cm5zIEEgcHJvbWlzZSBvZiB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBjbG9zdXJlLlxuICAgKi9cbiAgKC4uLmFyZ3M6IFRZUEUgZXh0ZW5kcyAoLi4uYXJnczogaW5mZXIgQVJHUykgPT4gYW55ID8gQVJHUyA6IG5ldmVyKTogUHJvbWlzZTxcbiAgICBUWVBFIGV4dGVuZHMgKC4uLmFyZ3M6IGFueVtdKSA9PiBpbmZlciBSRVRVUk4gPyBBd2FpdGVkPFJFVFVSTj4gOiBuZXZlclxuICA+O1xuXG4gIC8qKlxuICAgKiBSZXNvbHZlIHRoZSBRUkwgYW5kIHJldHVybiB0aGUgYWN0dWFsIHZhbHVlLlxuICAgKi9cbiAgcmVzb2x2ZShlbD86IEVsZW1lbnQpOiBQcm9taXNlPFRZUEU+O1xuXG4gIGdldFN5bWJvbCgpOiBzdHJpbmc7XG4gIGdldEhhc2goKTogc3RyaW5nO1xufVxuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQcm9wRm5JbnRlcmZhY2U8QVJHUyBleHRlbmRzIGFueVtdLCBSRVQ+IHtcbiAgKC4uLmFyZ3M6IEFSR1MpOiBQcm9taXNlPFJFVD47XG59XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdHlwZSBQcm9wRnVuY3Rpb248VCBleHRlbmRzIEZ1bmN0aW9uPiA9IFQgZXh0ZW5kcyAoLi4uYXJnczogaW5mZXIgQVJHUykgPT4gaW5mZXIgUkVUXG4gID8gUHJvcEZuSW50ZXJmYWNlPEFSR1MsIFJFVD5cbiAgOiBuZXZlcjtcblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi9yZWFkbWUubWQjJFwiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IC4uL3JlYWRtZS5tZCMkIGluc3RlYWQpXG4vKipcbiAqIFF3aWsgT3B0aW1pemVyIG1hcmtlciBmdW5jdGlvbi5cbiAqXG4gKiBVc2UgYCQoLi4uKWAgdG8gdGVsbCBRd2lrIE9wdGltaXplciB0byBleHRyYWN0IHRoZSBleHByZXNzaW9uIGluIGAkKC4uLilgIGludG8gYSBsYXp5LWxvYWRhYmxlXG4gKiByZXNvdXJjZSByZWZlcmVuY2VkIGJ5IGBRUkxgLlxuICpcbiAqIEBzZWUgYGltcGxpY2l0JEZpcnN0QXJnYCBmb3IgYWRkaXRpb25hbCBgX19fXyQoLi4uKWAgcnVsZXMuXG4gKlxuICogSW4gdGhpcyBleGFtcGxlLCBgJCguLi4pYCBpcyB1c2VkIHRvIGNhcHR1cmUgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIG9mIGBvbm1vdXNlbW92ZWAgaW50byBhXG4gKiBsYXp5LWxvYWRhYmxlIHJlZmVyZW5jZS4gVGhpcyBhbGxvd3MgdGhlIGNvZGUgdG8gcmVmZXIgdG8gdGhlIGZ1bmN0aW9uIHdpdGhvdXQgYWN0dWFsbHlcbiAqIGxvYWRpbmcgdGhlIGZ1bmN0aW9uLiBJbiB0aGlzIGV4YW1wbGUsIHRoZSBjYWxsYmFjayBmdW5jdGlvbiBkb2VzIG5vdCBnZXQgbG9hZGVkIHVudGlsXG4gKiBgbW91c2Vtb3ZlYCBldmVudCBmaXJlcy5cbiAqXG4gKiBgYGB0c3hcbiAqIHVzZU9uRG9jdW1lbnQoXG4gKiAgICdtb3VzZW1vdmUnLFxuICogICAkKChldmVudCkgPT4gY29uc29sZS5sb2coJ21vdXNlbW92ZScsIGV2ZW50KSlcbiAqICk7XG4gKiBgYGBcbiAqXG4gKiBJbiB0aGlzIGNvZGUsIHRoZSBRd2lrIE9wdGltaXplciBkZXRlY3RzIGAkKC4uLilgIGFuZCB0cmFuc2Zvcm1zIHRoZSBjb2RlIGludG86XG4gKlxuICogYGBgdHN4XG4gKiAvLyBGSUxFOiA8Y3VycmVudCBmaWxlPlxuICogdXNlT25Eb2N1bWVudCgnbW91c2Vtb3ZlJywgcXJsKCcuL2NodW5rLWFiYy5qcycsICdvbk1vdXNlbW92ZScpKTtcbiAqXG4gKiAvLyBGSUxFOiBjaHVuay1hYmMuanNcbiAqIGV4cG9ydCBjb25zdCBvbk1vdXNlbW92ZSA9ICgpID0+IGNvbnNvbGUubG9nKCdtb3VzZW1vdmUnKTtcbiAqIGBgYFxuICpcbiAqICMjIFNwZWNpYWwgUnVsZXNcbiAqXG4gKiBUaGUgUXdpayBPcHRpbWl6ZXIgcGxhY2VzIHNwZWNpYWwgcnVsZXMgb24gZnVuY3Rpb25zIHRoYXQgY2FuIGJlIGxhenktbG9hZGVkLlxuICpcbiAqIDEuIFRoZSBleHByZXNzaW9uIG9mIHRoZSBgJChleHByZXNzaW9uKWAgZnVuY3Rpb24gbXVzdCBiZSBpbXBvcnRhYmxlIGJ5IHRoZSBzeXN0ZW0uXG4gKiAoZXhwcmVzc2lvbiBzaG93cyB1cCBpbiBgaW1wb3J0YCBvciBoYXMgYGV4cG9ydGApXG4gKiAyLiBJZiBpbmxpbmVkIGZ1bmN0aW9uLCB0aGVuIGFsbCBsZXhpY2FsbHkgY2FwdHVyZWQgdmFsdWVzIG11c3QgYmU6XG4gKiAgICAtIGltcG9ydGFibGUgKHZhcnMgc2hvdyB1cCBpbiBgaW1wb3J0YHMgb3IgYGV4cG9ydGBzKVxuICogICAgLSBjb25zdCAoVGhlIGNhcHR1cmluZyBwcm9jZXNzIGRpZmZlcnMgZnJvbSBKUyBjYXB0dXJpbmcgaW4gdGhhdCB3cml0aW5nIHRvIGNhcHR1cmVkXG4gKiB2YXJpYWJsZXMgZG9lcyBub3QgdXBkYXRlIHRoZW0sIGFuZCB0aGVyZWZvcmUgd3JpdGVzIGFyZSBmb3JiaWRkZW4uIFRoZSBiZXN0IHByYWN0aWNlIGlzIHRoYXRcbiAqIGFsbCBjYXB0dXJlZCB2YXJpYWJsZXMgYXJlIGNvbnN0YW50cy4pXG4gKiAgICAtIE11c3QgYmUgcnVudGltZSBzZXJpYWxpemFibGUuXG4gKlxuICogYGBgdHN4XG4gKiBpbXBvcnQgeyBpbXBvcnRlZEZuIH0gZnJvbSAnLi9pbXBvcnQvZXhhbXBsZSc7XG4gKlxuICogZXhwb3J0IGNvbnN0IGdyZWV0ID0gKCkgPT4gY29uc29sZS5sb2coJ2dyZWV0Jyk7XG4gKiBmdW5jdGlvbiB0b3BMZXZlbEZuKCkge31cbiAqXG4gKiBmdW5jdGlvbiBteUNvZGUoKSB7XG4gKiAgIGNvbnN0IHN0b3JlID0gdXNlU3RvcmUoe30pO1xuICogICBmdW5jdGlvbiBsb2NhbEZuKCkge31cbiAqICAgLy8gVmFsaWQgRXhhbXBsZXNcbiAqICAgJChncmVldCk7IC8vIGdyZWV0IGlzIGltcG9ydGFibGVcbiAqICAgJChpbXBvcnRlZEZuKTsgLy8gaW1wb3J0ZWRGbiBpcyBpbXBvcnRhYmxlXG4gKiAgICQoKCkgPT4gZ3JlZXQoKSk7IC8vIGdyZWV0IGlzIGltcG9ydGFibGU7XG4gKiAgICQoKCkgPT4gaW1wb3J0ZWRGbigpKTsgLy8gaW1wb3J0ZWRGbiBpcyBpbXBvcnRhYmxlXG4gKiAgICQoKCkgPT4gY29uc29sZS5sb2coc3RvcmUpKTsgLy8gc3RvcmUgaXMgc2VyaWFsaXphYmxlLlxuICpcbiAqICAgLy8gQ29tcGlsZSB0aW1lIGVycm9yc1xuICogICAkKHRvcExldmVsRm4pOyAvLyBFUlJPUjogYHRvcExldmVsRm5gIG5vdCBpbXBvcnRhYmxlXG4gKiAgICQoKCkgPT4gdG9wTGV2ZWxGbigpKTsgLy8gRVJST1I6IGB0b3BMZXZlbEZuYCBub3QgaW1wb3J0YWJsZVxuICpcbiAqICAgLy8gUnVudGltZSBlcnJvcnNcbiAqICAgJChsb2NhbEZuKTsgLy8gRVJST1I6IGBsb2NhbEZuYCBmYWlscyBzZXJpYWxpemF0aW9uXG4gKiAgICQoKCkgPT4gbG9jYWxGbigpKTsgLy8gRVJST1I6IGBsb2NhbEZuYCBmYWlscyBzZXJpYWxpemF0aW9uXG4gKiB9XG4gKlxuICogYGBgXG4gKlxuICogQHBhcmFtIGV4cHJlc3Npb24gLSBFeHByZXNzaW9uIHdoaWNoIHNob3VsZCBiZSBsYXp5IGxvYWRlZFxuICogQHB1YmxpY1xuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgY29uc3QgJCA9IDxUPihleHByZXNzaW9uOiBUKTogUVJMPFQ+ID0+IHtcbiAgcmV0dXJuIHJ1bnRpbWVRcmwoZXhwcmVzc2lvbik7XG59O1xuIl19","import { $ } from '../import/qrl.public';\nimport { OnRenderProp } from '../util/markers';\nimport { jsx } from '../render/jsx/jsx-runtime';\nconst ELEMENTS_SKIP_KEY = ['html', 'body', 'head'];\n// <docs markdown=\"../readme.md#component\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#component instead)\n/**\n * Declare a Qwik component that can be used to create UI.\n *\n * Use `component$` to declare a Qwik component. A Qwik component is a special kind of component\n * that allows the Qwik framework to lazy load and execute the component independently of other\n * Qwik components as well as lazy load the component's life-cycle hooks and event handlers.\n *\n * Side note: You can also declare regular (standard JSX) components that will have standard\n * synchronous behavior.\n *\n * Qwik component is a facade that describes how the component should be used without forcing the\n * implementation of the component to be eagerly loaded. A minimum Qwik definition consists of:\n *\n * ### Example:\n *\n * An example showing how to create a counter component:\n *\n * ```tsx\n * export interface CounterProps {\n *   initialValue?: number;\n *   step?: number;\n * }\n * export const Counter = component$((props: CounterProps) => {\n *   const state = useStore({ count: props.initialValue || 0 });\n *   return (\n *     <div>\n *       <span>{state.count}</span>\n *       <button onClick$={() => (state.count += props.step || 1)}>+</button>\n *     </div>\n *   );\n * });\n * ```\n *\n * - `component$` is how a component gets declared.\n * - `{ value?: number; step?: number }` declares the public (props) interface of the component.\n * - `{ count: number }` declares the private (state) interface of the component.\n *\n * The above can then be used like so:\n *\n * ```tsx\n * export const OtherComponent = component$(() => {\n *   return <Counter initialValue={100} />;\n * });\n * ```\n *\n * See also: `component`, `useCleanup`, `onResume`, `onPause`, `useOn`, `useOnDocument`,\n * `useOnWindow`, `useStyles`, `useScopedStyles`\n *\n * @public\n */\n// </docs>\nexport const componentQrl = (onRenderQrl, options = {}) => {\n    const tagName = options.tagName ?? 'div';\n    const skipKey = ELEMENTS_SKIP_KEY.includes(tagName);\n    // Return a QComponent Factory function.\n    return function QSimpleComponent(props, key) {\n        const finalKey = skipKey ? undefined : onRenderQrl.getHash() + ':' + (key ? key : '');\n        return jsx(tagName, { [OnRenderProp]: onRenderQrl, ...props }, finalKey);\n    };\n};\n// <docs markdown=\"../readme.md#component\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#component instead)\n/**\n * Declare a Qwik component that can be used to create UI.\n *\n * Use `component$` to declare a Qwik component. A Qwik component is a special kind of component\n * that allows the Qwik framework to lazy load and execute the component independently of other\n * Qwik components as well as lazy load the component's life-cycle hooks and event handlers.\n *\n * Side note: You can also declare regular (standard JSX) components that will have standard\n * synchronous behavior.\n *\n * Qwik component is a facade that describes how the component should be used without forcing the\n * implementation of the component to be eagerly loaded. A minimum Qwik definition consists of:\n *\n * ### Example:\n *\n * An example showing how to create a counter component:\n *\n * ```tsx\n * export interface CounterProps {\n *   initialValue?: number;\n *   step?: number;\n * }\n * export const Counter = component$((props: CounterProps) => {\n *   const state = useStore({ count: props.initialValue || 0 });\n *   return (\n *     <div>\n *       <span>{state.count}</span>\n *       <button onClick$={() => (state.count += props.step || 1)}>+</button>\n *     </div>\n *   );\n * });\n * ```\n *\n * - `component$` is how a component gets declared.\n * - `{ value?: number; step?: number }` declares the public (props) interface of the component.\n * - `{ count: number }` declares the private (state) interface of the component.\n *\n * The above can then be used like so:\n *\n * ```tsx\n * export const OtherComponent = component$(() => {\n *   return <Counter initialValue={100} />;\n * });\n * ```\n *\n * See also: `component`, `useCleanup`, `onResume`, `onPause`, `useOn`, `useOnDocument`,\n * `useOnWindow`, `useStyles`, `useScopedStyles`\n *\n * @public\n */\n// </docs>\nexport const component$ = (onMount, options) => {\n    return componentQrl($(onMount), options);\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tcG9uZW50LnB1YmxpYy5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9jb21wb25lbnQvY29tcG9uZW50LnB1YmxpYy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsQ0FBQyxFQUFPLE1BQU0sc0JBQXNCLENBQUM7QUFFOUMsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBRy9DLE9BQU8sRUFBRSxHQUFHLEVBQUUsTUFBTSwyQkFBMkIsQ0FBQztBQTZFaEQsTUFBTSxpQkFBaUIsR0FBRyxDQUFDLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTSxDQUFDLENBQUM7QUFFbkQsMkNBQTJDO0FBQzNDLHlDQUF5QztBQUN6Qyx3Q0FBd0M7QUFDeEM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7R0FpREc7QUFDSCxVQUFVO0FBQ1YsTUFBTSxDQUFDLE1BQU0sWUFBWSxHQUFHLENBQzFCLFdBQW1DLEVBQ25DLFVBQTRCLEVBQUUsRUFDWixFQUFFO0lBQ3BCLE1BQU0sT0FBTyxHQUFHLE9BQU8sQ0FBQyxPQUFPLElBQUksS0FBSyxDQUFDO0lBQ3pDLE1BQU0sT0FBTyxHQUFHLGlCQUFpQixDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUVwRCx3Q0FBd0M7SUFDeEMsT0FBTyxTQUFTLGdCQUFnQixDQUFDLEtBQUssRUFBRSxHQUFHO1FBQ3pDLE1BQU0sUUFBUSxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxXQUFXLENBQUMsT0FBTyxFQUFFLEdBQUcsR0FBRyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3RGLE9BQU8sR0FBRyxDQUFDLE9BQU8sRUFBRSxFQUFFLENBQUMsWUFBWSxDQUFDLEVBQUUsV0FBVyxFQUFFLEdBQUcsS0FBSyxFQUFFLEVBQUUsUUFBUSxDQUFRLENBQUM7SUFDbEYsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFDO0FBRUYsMkNBQTJDO0FBQzNDLHlDQUF5QztBQUN6Qyx3Q0FBd0M7QUFDeEM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7R0FpREc7QUFDSCxVQUFVO0FBQ1YsTUFBTSxDQUFDLE1BQU0sVUFBVSxHQUFHLENBQ3hCLE9BQTBCLEVBQzFCLE9BQTBCLEVBQ1IsRUFBRTtJQUNwQixPQUFPLFlBQVksQ0FBUSxDQUFDLENBQUMsT0FBTyxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUM7QUFDbEQsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgJCwgUVJMIH0gZnJvbSAnLi4vaW1wb3J0L3FybC5wdWJsaWMnO1xuaW1wb3J0IHR5cGUgeyBKU1hOb2RlIH0gZnJvbSAnLi4vcmVuZGVyL2pzeC90eXBlcy9qc3gtbm9kZSc7XG5pbXBvcnQgeyBPblJlbmRlclByb3AgfSBmcm9tICcuLi91dGlsL21hcmtlcnMnO1xuaW1wb3J0IHR5cGUgeyBDb21wb25lbnRCYXNlUHJvcHMgfSBmcm9tICcuLi9yZW5kZXIvanN4L3R5cGVzL2pzeC1xd2lrLWF0dHJpYnV0ZXMnO1xuaW1wb3J0IHR5cGUgeyBGdW5jdGlvbkNvbXBvbmVudCB9IGZyb20gJy4uL3JlbmRlci9qc3gvdHlwZXMvanN4LW5vZGUnO1xuaW1wb3J0IHsganN4IH0gZnJvbSAnLi4vcmVuZGVyL2pzeC9qc3gtcnVudGltZSc7XG5pbXBvcnQgdHlwZSB7IE11dGFibGVXcmFwcGVyIH0gZnJvbSAnLi4vb2JqZWN0L3Etb2JqZWN0JztcblxuLyoqXG4gKiBJbmZlcnMgYFByb3BzYCBmcm9tIHRoZSBjb21wb25lbnQuXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogZXhwb3J0IGNvbnN0IE90aGVyQ29tcG9uZW50ID0gY29tcG9uZW50JCgoKSA9PiB7XG4gKiAgIHJldHVybiAkKCgpID0+IDxDb3VudGVyIHZhbHVlPXsxMDB9IC8+KTtcbiAqIH0pO1xuICogYGBgXG4gKlxuICogQHB1YmxpY1xuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgdHlwZSBQcm9wc09mPENPTVAgZXh0ZW5kcyBDb21wb25lbnQ8YW55Pj4gPSBDT01QIGV4dGVuZHMgQ29tcG9uZW50PGluZmVyIFBST1BTPlxuICA/IE5vbk51bGxhYmxlPFBST1BTPlxuICA6IG5ldmVyO1xuXG4vKipcbiAqIERlY2xhcmF0aXZlIGNvbXBvbmVudCBvcHRpb25zLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDb21wb25lbnRPcHRpb25zIHtcbiAgLyoqXG4gICAqIFRhZyB0aGUgbmFtZSBvZiB0aGUgY29tcG9uZW50J3MgaG9zdCBlbGVtZW50LlxuICAgKlxuICAgKiBEZWZhdWx0IHZhbHVlIGZvIGB0YWdOYW1lYCBpcyBgZGl2YC4gT3ZlcnJpZGUgdGhpcyB2YWx1ZSBpbiBzaXR1YXRpb25zIHdoZXJlIHlvdSB3YW50IHRvIHVzZVxuICAgKiBhIGRpZmZlcmVudCB0YWcgbmFtZS4gRXhhbXBsZXMgYXJlOlxuICAgKiAtIEl0IGlzIGRlc2lyYWJsZSB0byBoYXZlIGNvbXBvbmVudCBuYW1lcyBkaXJlY3RseSBpbiB0aGUgSFRNTCAoV2ViQ29tcG9uZW50IHN0eWxlKVxuICAgKiAtIEl0IGlzIGRlc2lyYWJsZSB0byBoYXZlIGEgc3BlY2lmaWMgdGFnIG5hbWUgZm9yIGFjY2Vzc2liaWxpdHkuIEZvciBleGFtcGxlLCB1c2luZyBgPGJ1dHRvbj5gXG4gICAqICAgZm9yIGA8TXlDdXN0b21CdXR0b24+YCBjb21wb25lbnQuXG4gICAqXG4gICAqIFdoZW4gYSBjb21wb25lbnQgaXMgaW5zZXJ0ZWQgaW50byB0aGUgcmVuZGVyIHRyZWUsIHRoZSBob3N0IGVsZW1lbnQgbmVlZHMgdG8gYmUgaW5zZXJ0ZWRcbiAgICogc3luY2hyb25vdXNseSwgd2hpbGUgdGhlIGNvbXBvbmVudCBib2R5IGlzIGluc2VydGVkIGFzeW5jaHJvbm91c2x5LiBUaGUgc3luY2hyb25vdXMgbmF0dXJlXG4gICAqIG9mIGhvc3QgZWxlbWVudCByZXF1aXJlcyB0aGF0IHRoZSBwYXJlbnQgY29tcG9uZW50IG5lZWRzIHRvIGtub3cgdGhlIHRhZyBuYW1lIG9mIHRoZSBjaGlsZFxuICAgKiBjb21wb25lbnQgc3luY2hyb25vdXNseS5cbiAgICovXG4gIHRhZ05hbWU/OiBzdHJpbmc7XG59XG5cbi8qKlxuICogVHlwZSByZXByZXNlbnRpbmcgdGhlIFF3aWsgY29tcG9uZW50LlxuICpcbiAqIGBDb21wb25lbnRgIGlzIHRoZSB0eXBlIHJldHVybmVkIGJ5IGludm9raW5nIGBjb21wb25lbnQkYC5cbiAqXG4gKiBgYGBcbiAqIGludGVyZmFjZSBNeUNvbXBvbmVudFByb3BzIHtcbiAqICAgc29tZVByb3A6IHN0cmluZztcbiAqIH1cbiAqIGNvbnN0IE15Q29tcG9uZW50OiBDb21wb25lbnQ8TXlDb21wb25lbnRQcm9wcz4gPSBjb21wb25lbnQkKChwcm9wczogTXlDb21wb25lbnRQcm9wcykgPT4ge1xuICogICByZXR1cm4gPHNwYW4+e3Byb3BzLnNvbWVQcm9wfTwvc3Bhbj47XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHR5cGUgQ29tcG9uZW50PFBST1BTIGV4dGVuZHMge30+ID0gRnVuY3Rpb25Db21wb25lbnQ8UHVibGljUHJvcHM8UFJPUFM+PjtcblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB0eXBlIFB1YmxpY1Byb3BzPFBST1BTIGV4dGVuZHMge30+ID0gTXV0YWJsZVByb3BzPFBST1BTPiAmIENvbXBvbmVudEJhc2VQcm9wcztcblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB0eXBlIE11dGFibGVQcm9wczxQUk9QUyBleHRlbmRzIHt9PiA9IHtcbiAgW0sgaW4ga2V5b2YgUFJPUFNdOiBQUk9QU1tLXSB8IE11dGFibGVXcmFwcGVyPFBST1BTW0tdPjtcbn07XG5cbi8qKlxuICogQGFscGhhXG4gKi9cbmV4cG9ydCB0eXBlIEV2ZW50SGFuZGxlcjxUPiA9IFFSTDwodmFsdWU6IFQpID0+IGFueT47XG5cbmNvbnN0IEVMRU1FTlRTX1NLSVBfS0VZID0gWydodG1sJywgJ2JvZHknLCAnaGVhZCddO1xuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4uL3JlYWRtZS5tZCNjb21wb25lbnRcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjY29tcG9uZW50IGluc3RlYWQpXG4vKipcbiAqIERlY2xhcmUgYSBRd2lrIGNvbXBvbmVudCB0aGF0IGNhbiBiZSB1c2VkIHRvIGNyZWF0ZSBVSS5cbiAqXG4gKiBVc2UgYGNvbXBvbmVudCRgIHRvIGRlY2xhcmUgYSBRd2lrIGNvbXBvbmVudC4gQSBRd2lrIGNvbXBvbmVudCBpcyBhIHNwZWNpYWwga2luZCBvZiBjb21wb25lbnRcbiAqIHRoYXQgYWxsb3dzIHRoZSBRd2lrIGZyYW1ld29yayB0byBsYXp5IGxvYWQgYW5kIGV4ZWN1dGUgdGhlIGNvbXBvbmVudCBpbmRlcGVuZGVudGx5IG9mIG90aGVyXG4gKiBRd2lrIGNvbXBvbmVudHMgYXMgd2VsbCBhcyBsYXp5IGxvYWQgdGhlIGNvbXBvbmVudCdzIGxpZmUtY3ljbGUgaG9va3MgYW5kIGV2ZW50IGhhbmRsZXJzLlxuICpcbiAqIFNpZGUgbm90ZTogWW91IGNhbiBhbHNvIGRlY2xhcmUgcmVndWxhciAoc3RhbmRhcmQgSlNYKSBjb21wb25lbnRzIHRoYXQgd2lsbCBoYXZlIHN0YW5kYXJkXG4gKiBzeW5jaHJvbm91cyBiZWhhdmlvci5cbiAqXG4gKiBRd2lrIGNvbXBvbmVudCBpcyBhIGZhY2FkZSB0aGF0IGRlc2NyaWJlcyBob3cgdGhlIGNvbXBvbmVudCBzaG91bGQgYmUgdXNlZCB3aXRob3V0IGZvcmNpbmcgdGhlXG4gKiBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgY29tcG9uZW50IHRvIGJlIGVhZ2VybHkgbG9hZGVkLiBBIG1pbmltdW0gUXdpayBkZWZpbml0aW9uIGNvbnNpc3RzIG9mOlxuICpcbiAqICMjIyBFeGFtcGxlOlxuICpcbiAqIEFuIGV4YW1wbGUgc2hvd2luZyBob3cgdG8gY3JlYXRlIGEgY291bnRlciBjb21wb25lbnQ6XG4gKlxuICogYGBgdHN4XG4gKiBleHBvcnQgaW50ZXJmYWNlIENvdW50ZXJQcm9wcyB7XG4gKiAgIGluaXRpYWxWYWx1ZT86IG51bWJlcjtcbiAqICAgc3RlcD86IG51bWJlcjtcbiAqIH1cbiAqIGV4cG9ydCBjb25zdCBDb3VudGVyID0gY29tcG9uZW50JCgocHJvcHM6IENvdW50ZXJQcm9wcykgPT4ge1xuICogICBjb25zdCBzdGF0ZSA9IHVzZVN0b3JlKHsgY291bnQ6IHByb3BzLmluaXRpYWxWYWx1ZSB8fCAwIH0pO1xuICogICByZXR1cm4gKFxuICogICAgIDxkaXY+XG4gKiAgICAgICA8c3Bhbj57c3RhdGUuY291bnR9PC9zcGFuPlxuICogICAgICAgPGJ1dHRvbiBvbkNsaWNrJD17KCkgPT4gKHN0YXRlLmNvdW50ICs9IHByb3BzLnN0ZXAgfHwgMSl9Pis8L2J1dHRvbj5cbiAqICAgICA8L2Rpdj5cbiAqICAgKTtcbiAqIH0pO1xuICogYGBgXG4gKlxuICogLSBgY29tcG9uZW50JGAgaXMgaG93IGEgY29tcG9uZW50IGdldHMgZGVjbGFyZWQuXG4gKiAtIGB7IHZhbHVlPzogbnVtYmVyOyBzdGVwPzogbnVtYmVyIH1gIGRlY2xhcmVzIHRoZSBwdWJsaWMgKHByb3BzKSBpbnRlcmZhY2Ugb2YgdGhlIGNvbXBvbmVudC5cbiAqIC0gYHsgY291bnQ6IG51bWJlciB9YCBkZWNsYXJlcyB0aGUgcHJpdmF0ZSAoc3RhdGUpIGludGVyZmFjZSBvZiB0aGUgY29tcG9uZW50LlxuICpcbiAqIFRoZSBhYm92ZSBjYW4gdGhlbiBiZSB1c2VkIGxpa2Ugc286XG4gKlxuICogYGBgdHN4XG4gKiBleHBvcnQgY29uc3QgT3RoZXJDb21wb25lbnQgPSBjb21wb25lbnQkKCgpID0+IHtcbiAqICAgcmV0dXJuIDxDb3VudGVyIGluaXRpYWxWYWx1ZT17MTAwfSAvPjtcbiAqIH0pO1xuICogYGBgXG4gKlxuICogU2VlIGFsc286IGBjb21wb25lbnRgLCBgdXNlQ2xlYW51cGAsIGBvblJlc3VtZWAsIGBvblBhdXNlYCwgYHVzZU9uYCwgYHVzZU9uRG9jdW1lbnRgLFxuICogYHVzZU9uV2luZG93YCwgYHVzZVN0eWxlc2AsIGB1c2VTY29wZWRTdHlsZXNgXG4gKlxuICogQHB1YmxpY1xuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgY29uc3QgY29tcG9uZW50UXJsID0gPFBST1BTIGV4dGVuZHMge30+KFxuICBvblJlbmRlclFybDogUVJMPE9uUmVuZGVyRm48UFJPUFM+PixcbiAgb3B0aW9uczogQ29tcG9uZW50T3B0aW9ucyA9IHt9XG4pOiBDb21wb25lbnQ8UFJPUFM+ID0+IHtcbiAgY29uc3QgdGFnTmFtZSA9IG9wdGlvbnMudGFnTmFtZSA/PyAnZGl2JztcbiAgY29uc3Qgc2tpcEtleSA9IEVMRU1FTlRTX1NLSVBfS0VZLmluY2x1ZGVzKHRhZ05hbWUpO1xuXG4gIC8vIFJldHVybiBhIFFDb21wb25lbnQgRmFjdG9yeSBmdW5jdGlvbi5cbiAgcmV0dXJuIGZ1bmN0aW9uIFFTaW1wbGVDb21wb25lbnQocHJvcHMsIGtleSk6IEpTWE5vZGU8UFJPUFM+IHtcbiAgICBjb25zdCBmaW5hbEtleSA9IHNraXBLZXkgPyB1bmRlZmluZWQgOiBvblJlbmRlclFybC5nZXRIYXNoKCkgKyAnOicgKyAoa2V5ID8ga2V5IDogJycpO1xuICAgIHJldHVybiBqc3godGFnTmFtZSwgeyBbT25SZW5kZXJQcm9wXTogb25SZW5kZXJRcmwsIC4uLnByb3BzIH0sIGZpbmFsS2V5KSBhcyBhbnk7XG4gIH07XG59O1xuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4uL3JlYWRtZS5tZCNjb21wb25lbnRcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjY29tcG9uZW50IGluc3RlYWQpXG4vKipcbiAqIERlY2xhcmUgYSBRd2lrIGNvbXBvbmVudCB0aGF0IGNhbiBiZSB1c2VkIHRvIGNyZWF0ZSBVSS5cbiAqXG4gKiBVc2UgYGNvbXBvbmVudCRgIHRvIGRlY2xhcmUgYSBRd2lrIGNvbXBvbmVudC4gQSBRd2lrIGNvbXBvbmVudCBpcyBhIHNwZWNpYWwga2luZCBvZiBjb21wb25lbnRcbiAqIHRoYXQgYWxsb3dzIHRoZSBRd2lrIGZyYW1ld29yayB0byBsYXp5IGxvYWQgYW5kIGV4ZWN1dGUgdGhlIGNvbXBvbmVudCBpbmRlcGVuZGVudGx5IG9mIG90aGVyXG4gKiBRd2lrIGNvbXBvbmVudHMgYXMgd2VsbCBhcyBsYXp5IGxvYWQgdGhlIGNvbXBvbmVudCdzIGxpZmUtY3ljbGUgaG9va3MgYW5kIGV2ZW50IGhhbmRsZXJzLlxuICpcbiAqIFNpZGUgbm90ZTogWW91IGNhbiBhbHNvIGRlY2xhcmUgcmVndWxhciAoc3RhbmRhcmQgSlNYKSBjb21wb25lbnRzIHRoYXQgd2lsbCBoYXZlIHN0YW5kYXJkXG4gKiBzeW5jaHJvbm91cyBiZWhhdmlvci5cbiAqXG4gKiBRd2lrIGNvbXBvbmVudCBpcyBhIGZhY2FkZSB0aGF0IGRlc2NyaWJlcyBob3cgdGhlIGNvbXBvbmVudCBzaG91bGQgYmUgdXNlZCB3aXRob3V0IGZvcmNpbmcgdGhlXG4gKiBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgY29tcG9uZW50IHRvIGJlIGVhZ2VybHkgbG9hZGVkLiBBIG1pbmltdW0gUXdpayBkZWZpbml0aW9uIGNvbnNpc3RzIG9mOlxuICpcbiAqICMjIyBFeGFtcGxlOlxuICpcbiAqIEFuIGV4YW1wbGUgc2hvd2luZyBob3cgdG8gY3JlYXRlIGEgY291bnRlciBjb21wb25lbnQ6XG4gKlxuICogYGBgdHN4XG4gKiBleHBvcnQgaW50ZXJmYWNlIENvdW50ZXJQcm9wcyB7XG4gKiAgIGluaXRpYWxWYWx1ZT86IG51bWJlcjtcbiAqICAgc3RlcD86IG51bWJlcjtcbiAqIH1cbiAqIGV4cG9ydCBjb25zdCBDb3VudGVyID0gY29tcG9uZW50JCgocHJvcHM6IENvdW50ZXJQcm9wcykgPT4ge1xuICogICBjb25zdCBzdGF0ZSA9IHVzZVN0b3JlKHsgY291bnQ6IHByb3BzLmluaXRpYWxWYWx1ZSB8fCAwIH0pO1xuICogICByZXR1cm4gKFxuICogICAgIDxkaXY+XG4gKiAgICAgICA8c3Bhbj57c3RhdGUuY291bnR9PC9zcGFuPlxuICogICAgICAgPGJ1dHRvbiBvbkNsaWNrJD17KCkgPT4gKHN0YXRlLmNvdW50ICs9IHByb3BzLnN0ZXAgfHwgMSl9Pis8L2J1dHRvbj5cbiAqICAgICA8L2Rpdj5cbiAqICAgKTtcbiAqIH0pO1xuICogYGBgXG4gKlxuICogLSBgY29tcG9uZW50JGAgaXMgaG93IGEgY29tcG9uZW50IGdldHMgZGVjbGFyZWQuXG4gKiAtIGB7IHZhbHVlPzogbnVtYmVyOyBzdGVwPzogbnVtYmVyIH1gIGRlY2xhcmVzIHRoZSBwdWJsaWMgKHByb3BzKSBpbnRlcmZhY2Ugb2YgdGhlIGNvbXBvbmVudC5cbiAqIC0gYHsgY291bnQ6IG51bWJlciB9YCBkZWNsYXJlcyB0aGUgcHJpdmF0ZSAoc3RhdGUpIGludGVyZmFjZSBvZiB0aGUgY29tcG9uZW50LlxuICpcbiAqIFRoZSBhYm92ZSBjYW4gdGhlbiBiZSB1c2VkIGxpa2Ugc286XG4gKlxuICogYGBgdHN4XG4gKiBleHBvcnQgY29uc3QgT3RoZXJDb21wb25lbnQgPSBjb21wb25lbnQkKCgpID0+IHtcbiAqICAgcmV0dXJuIDxDb3VudGVyIGluaXRpYWxWYWx1ZT17MTAwfSAvPjtcbiAqIH0pO1xuICogYGBgXG4gKlxuICogU2VlIGFsc286IGBjb21wb25lbnRgLCBgdXNlQ2xlYW51cGAsIGBvblJlc3VtZWAsIGBvblBhdXNlYCwgYHVzZU9uYCwgYHVzZU9uRG9jdW1lbnRgLFxuICogYHVzZU9uV2luZG93YCwgYHVzZVN0eWxlc2AsIGB1c2VTY29wZWRTdHlsZXNgXG4gKlxuICogQHB1YmxpY1xuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgY29uc3QgY29tcG9uZW50JCA9IDxQUk9QUyBleHRlbmRzIHt9PihcbiAgb25Nb3VudDogT25SZW5kZXJGbjxQUk9QUz4sXG4gIG9wdGlvbnM/OiBDb21wb25lbnRPcHRpb25zXG4pOiBDb21wb25lbnQ8UFJPUFM+ID0+IHtcbiAgcmV0dXJuIGNvbXBvbmVudFFybDxQUk9QUz4oJChvbk1vdW50KSwgb3B0aW9ucyk7XG59O1xuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHR5cGUgT25SZW5kZXJGbjxQUk9QUz4gPSAocHJvcHM6IFBST1BTKSA9PiBKU1hOb2RlPGFueT4gfCBudWxsIHwgKCgpID0+IEpTWE5vZGU8YW55Pik7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVuZGVyRmFjdG9yeU91dHB1dDxQUk9QUz4ge1xuICByZW5kZXJRUkw6IFFSTDxPblJlbmRlckZuPFBST1BTPj47XG4gIHdhaXRPbjogYW55W107XG59XG4iXX0=","import { createProxy } from '../object/q-object';\nimport { getContext } from '../props/props';\nimport { useSequentialScope } from './use-store.public';\nimport { $ } from '../import/qrl.public';\nimport { assertQrl } from '../import/qrl-class';\nimport { runResource, WatchFlagsIsDirty, WatchFlagsIsResource, } from './use-watch';\nimport { assertDefined } from '../assert/assert';\nimport { Fragment, jsx } from '../render/jsx/jsx-runtime';\nimport { qDev } from '../util/qdev';\nimport { getPlatform } from '../platform/platform';\nimport { getInvokeContext } from './use-core';\n/**\n * @alpha\n */\nexport const useResourceQrl = (qrl) => {\n    const { get, set, i, ctx } = useSequentialScope();\n    if (get != null) {\n        return get;\n    }\n    assertQrl(qrl);\n    const containerState = ctx.$renderCtx$.$containerState$;\n    const result = {\n        promise: undefined,\n        resolved: undefined,\n        error: undefined,\n        state: 'pending',\n    };\n    const resource = createProxy(result, containerState, 0, undefined);\n    const el = ctx.$hostElement$;\n    const watch = {\n        qrl,\n        el,\n        f: WatchFlagsIsDirty | WatchFlagsIsResource,\n        i,\n        r: resource,\n    };\n    const previousWait = Promise.all(ctx.$waitOn$.slice());\n    runResource(watch, containerState, previousWait);\n    getContext(el).$watches$.push(watch);\n    assertDefined(result.promise, `useResource: resource.promise must be defined`, result);\n    set(resource);\n    return resource;\n};\n/**\n * @alpha\n */\nexport const useResource$ = (generatorFn) => {\n    return useResourceQrl($(generatorFn));\n};\nexport const useIsServer = () => {\n    const ctx = getInvokeContext();\n    assertDefined(ctx.$doc$, 'doc must be defined', ctx);\n    return getPlatform(ctx.$doc$).isServer;\n};\n/**\n * @alpha\n */\nexport const Resource = (props) => {\n    const isBrowser = !qDev || !useIsServer();\n    if (isBrowser) {\n        if (props.onRejected) {\n            props.resource.promise.catch(() => { });\n            if (props.resource.state === 'rejected') {\n                return props.onRejected(props.resource.error);\n            }\n        }\n        if (props.onPending) {\n            const state = props.resource.state;\n            if (state === 'pending') {\n                return props.onPending();\n            }\n            else if (state === 'resolved') {\n                return props.onResolved(props.resource.resolved);\n            }\n        }\n    }\n    // Resource path\n    return jsx(Fragment, {\n        children: props.resource.promise.then(props.onResolved, props.onRejected),\n    });\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLXJlc291cmNlLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3VzZS91c2UtcmVzb3VyY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBQ2pELE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUM1QyxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUN4RCxPQUFPLEVBQUUsQ0FBQyxFQUFPLE1BQU0sc0JBQXNCLENBQUM7QUFDOUMsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBQ2hELE9BQU8sRUFJTCxXQUFXLEVBQ1gsaUJBQWlCLEVBQ2pCLG9CQUFvQixHQUNyQixNQUFNLGFBQWEsQ0FBQztBQUNyQixPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDakQsT0FBTyxFQUFFLFFBQVEsRUFBRSxHQUFHLEVBQUUsTUFBTSwyQkFBMkIsQ0FBQztBQUUxRCxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sY0FBYyxDQUFDO0FBQ3BDLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUNuRCxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxZQUFZLENBQUM7QUFFOUM7O0dBRUc7QUFDSCxNQUFNLENBQUMsTUFBTSxjQUFjLEdBQUcsQ0FBSSxHQUF1QixFQUFxQixFQUFFO0lBQzlFLE1BQU0sRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsR0FBRyxrQkFBa0IsRUFBcUIsQ0FBQztJQUNyRSxJQUFJLEdBQUcsSUFBSSxJQUFJLEVBQUU7UUFDZixPQUFPLEdBQUcsQ0FBQztLQUNaO0lBQ0QsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBRWYsTUFBTSxjQUFjLEdBQUcsR0FBRyxDQUFD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QUFVLEVBQUUsS0FBSyxDQUFDLFVBQVUsQ0FBQztLQUMxRSxDQUFDLENBQUM7QUFDTCxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVQcm94eSB9IGZyb20gJy4uL29iamVjdC9xLW9iamVjdCc7XG5pbXBvcnQgeyBnZXRDb250ZXh0IH0gZnJvbSAnLi4vcHJvcHMvcHJvcHMnO1xuaW1wb3J0IHsgdXNlU2VxdWVudGlhbFNjb3BlIH0gZnJvbSAnLi91c2Utc3RvcmUucHVibGljJztcbmltcG9ydCB7ICQsIFFSTCB9IGZyb20gJy4uL2ltcG9ydC9xcmwucHVibGljJztcbmltcG9ydCB7IGFzc2VydFFybCB9IGZyb20gJy4uL2ltcG9ydC9xcmwtY2xhc3MnO1xuaW1wb3J0IHtcbiAgUmVzb3VyY2VSZXR1cm4sXG4gIFJlc291cmNlRGVzY3JpcHRvcixcbiAgUmVzb3VyY2VGbixcbiAgcnVuUmVzb3VyY2UsXG4gIFdhdGNoRmxhZ3NJc0RpcnR5LFxuICBXYXRjaEZsYWdzSXNSZXNvdXJjZSxcbn0gZnJvbSAnLi91c2Utd2F0Y2gnO1xuaW1wb3J0IHsgYXNzZXJ0RGVmaW5lZCB9IGZyb20gJy4uL2Fzc2VydC9hc3NlcnQnO1xuaW1wb3J0IHsgRnJhZ21lbnQsIGpzeCB9IGZyb20gJy4uL3JlbmRlci9qc3gvanN4LXJ1bnRpbWUnO1xuaW1wb3J0IHR5cGUgeyBKU1hOb2RlIH0gZnJvbSAnLi4vcmVuZGVyL2pzeC90eXBlcy9qc3gtbm9kZSc7XG5pbXBvcnQgeyBxRGV2IH0gZnJvbSAnLi4vdXRpbC9xZGV2JztcbmltcG9ydCB7IGdldFBsYXRmb3JtIH0gZnJvbSAnLi4vcGxhdGZvcm0vcGxhdGZvcm0nO1xuaW1wb3J0IHsgZ2V0SW52b2tlQ29udGV4dCB9IGZyb20gJy4vdXNlLWNvcmUnO1xuXG4vKipcbiAqIEBhbHBoYVxuICovXG5leHBvcnQgY29uc3QgdXNlUmVzb3VyY2VRcmwgPSA8VD4ocXJsOiBRUkw8UmVzb3VyY2VGbjxUPj4pOiBSZXNvdXJjZVJldHVybjxUPiA9PiB7XG4gIGNvbnN0IHsgZ2V0LCBzZXQsIGksIGN0eCB9ID0gdXNlU2VxdWVudGlhbFNjb3BlPFJlc291cmNlUmV0dXJuPFQ+PigpO1xuICBpZiAoZ2V0ICE9IG51bGwpIHtcbiAgICByZXR1cm4gZ2V0O1xuICB9XG4gIGFzc2VydFFybChxcmwpO1xuXG4gIGNvbnN0IGNvbnRhaW5lclN0YXRlID0gY3R4LiRyZW5kZXJDdHgkLiRjb250YWluZXJTdGF0ZSQ7XG4gIGNvbnN0IHJlc3VsdDogUmVzb3VyY2VSZXR1cm48VD4gPSB7XG4gICAgcHJvbWlzZTogdW5kZWZpbmVkIGFzIG5ldmVyLFxuICAgIHJlc29sdmVkOiB1bmRlZmluZWQgYXMgbmV2ZXIsXG4gICAgZXJyb3I6IHVuZGVmaW5lZCBhcyBuZXZlcixcbiAgICBzdGF0ZTogJ3BlbmRpbmcnLFxuICB9O1xuICBjb25zdCByZXNvdXJjZSA9IGNyZWF0ZVByb3h5KHJlc3VsdCwgY29udGFpbmVyU3RhdGUsIDAsIHVuZGVmaW5lZCk7XG4gIGNvbnN0IGVsID0gY3R4LiRob3N0RWxlbWVudCQ7XG4gIGNvbnN0IHdhdGNoOiBSZXNvdXJjZURlc2NyaXB0b3I8VD4gPSB7XG4gICAgcXJsLFxuICAgIGVsLFxuICAgIGY6IFdhdGNoRmxhZ3NJc0RpcnR5IHwgV2F0Y2hGbGFnc0lzUmVzb3VyY2UsXG4gICAgaSxcbiAgICByOiByZXNvdXJjZSxcbiAgfTtcbiAgY29uc3QgcHJldmlvdXNXYWl0ID0gUHJvbWlzZS5hbGwoY3R4LiR3YWl0T24kLnNsaWNlKCkpO1xuICBydW5SZXNvdXJjZSh3YXRjaCwgY29udGFpbmVyU3RhdGUsIHByZXZpb3VzV2FpdCk7XG4gIGdldENvbnRleHQoZWwpLiR3YXRjaGVzJC5wdXNoKHdhdGNoKTtcbiAgYXNzZXJ0RGVmaW5lZChyZXN1bHQucHJvbWlzZSwgYHVzZVJlc291cmNlOiByZXNvdXJjZS5wcm9taXNlIG11c3QgYmUgZGVmaW5lZGAsIHJlc3VsdCk7XG4gIHNldChyZXNvdXJjZSk7XG5cbiAgcmV0dXJuIHJlc291cmNlO1xufTtcblxuLyoqXG4gKiBAYWxwaGFcbiAqL1xuZXhwb3J0IGNvbnN0IHVzZVJlc291cmNlJCA9IDxUPihnZW5lcmF0b3JGbjogUmVzb3VyY2VGbjxUPik6IFJlc291cmNlUmV0dXJuPFQ+ID0+IHtcbiAgcmV0dXJuIHVzZVJlc291cmNlUXJsPFQ+KCQoZ2VuZXJhdG9yRm4pKTtcbn07XG5cbmV4cG9ydCBjb25zdCB1c2VJc1NlcnZlciA9ICgpID0+IHtcbiAgY29uc3QgY3R4ID0gZ2V0SW52b2tlQ29udGV4dCgpO1xuICBhc3NlcnREZWZpbmVkKGN0eC4kZG9jJCwgJ2RvYyBtdXN0IGJlIGRlZmluZWQnLCBjdHgpO1xuICByZXR1cm4gZ2V0UGxhdGZvcm0oY3R4LiRkb2MkKS5pc1NlcnZlcjtcbn07XG5cbi8qKlxuICogQGFscGhhXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVzb3VyY2VQcm9wczxUPiB7XG4gIHJlc291cmNlOiBSZXNvdXJjZVJldHVybjxUPjtcbiAgb25SZXNvbHZlZDogKHZhbHVlOiBUKSA9PiBKU1hOb2RlO1xuICBvblBlbmRpbmc/OiAoKSA9PiBKU1hOb2RlO1xuICBvblJlamVjdGVkPzogKHJlYXNvbjogYW55KSA9PiBKU1hOb2RlO1xufVxuXG4vKipcbiAqIEBhbHBoYVxuICovXG5leHBvcnQgY29uc3QgUmVzb3VyY2UgPSA8VD4ocHJvcHM6IFJlc291cmNlUHJvcHM8VD4pOiBKU1hOb2RlID0+IHtcbiAgY29uc3QgaXNCcm93c2VyID0gIXFEZXYgfHwgIXVzZUlzU2VydmVyKCk7XG4gIGlmIChpc0Jyb3dzZXIpIHtcbiAgICBpZiAocHJvcHMub25SZWplY3RlZCkge1xuICAgICAgcHJvcHMucmVzb3VyY2UucHJvbWlzZS5jYXRjaCgoKSA9PiB7fSk7XG4gICAgICBpZiAocHJvcHMucmVzb3VyY2Uuc3RhdGUgPT09ICdyZWplY3RlZCcpIHtcbiAgICAgICAgcmV0dXJuIHByb3BzLm9uUmVqZWN0ZWQocHJvcHMucmVzb3VyY2UuZXJyb3IpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAocHJvcHMub25QZW5kaW5nKSB7XG4gICAgICBjb25zdCBzdGF0ZSA9IHByb3BzLnJlc291cmNlLnN0YXRlO1xuICAgICAgaWYgKHN0YXRlID09PSAncGVuZGluZycpIHtcbiAgICAgICAgcmV0dXJuIHByb3BzLm9uUGVuZGluZygpO1xuICAgICAgfSBlbHNlIGlmIChzdGF0ZSA9PT0gJ3Jlc29sdmVkJykge1xuICAgICAgICByZXR1cm4gcHJvcHMub25SZXNvbHZlZChwcm9wcy5yZXNvdXJjZS5yZXNvbHZlZCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gUmVzb3VyY2UgcGF0aFxuICByZXR1cm4ganN4KEZyYWdtZW50LCB7XG4gICAgY2hpbGRyZW46IHByb3BzLnJlc291cmNlLnByb21pc2UudGhlbihwcm9wcy5vblJlc29sdmVkLCBwcm9wcy5vblJlamVjdGVkKSxcbiAgfSk7XG59O1xuIl19","/* eslint-disable */\nimport { EMPTY_ARRAY } from '../../util/flyweight';\nimport { JSXNodeImpl } from './jsx-runtime';\nimport { isArray } from '../../util/types';\nexport const flattenArray = (array, dst) => {\n    // Yes this function is just Array.flat, but we need to run on old versions of Node.\n    if (!dst)\n        dst = [];\n    for (const item of array) {\n        if (isArray(item)) {\n            flattenArray(item, dst);\n        }\n        else {\n            dst.push(item);\n        }\n    }\n    return dst;\n};\n/**\n * @public\n */\nexport function h(type, props, ...children) {\n    // Using legacy h() jsx transform and morphing it\n    // so it can use the modern vdom structure\n    // https://reactjs.org/blog/2020/09/22/introducing-the-new-jsx-transform.html\n    // https://www.typescriptlang.org/tsconfig#jsxImportSource\n    const normalizedProps = {\n        children: arguments.length > 2 ? flattenArray(children) : EMPTY_ARRAY,\n    };\n    let key;\n    let i;\n    for (i in props) {\n        if (i == 'key')\n            key = props[i];\n        else\n            normalizedProps[i] = props[i];\n    }\n    return new JSXNodeImpl(type, normalizedProps, key);\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmFjdG9yeS5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9yZW5kZXIvanN4L2ZhY3RvcnkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsb0JBQW9CO0FBQ3BCLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUNuRCxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBRzVDLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUUzQyxNQUFNLENBQUMsTUFBTSxZQUFZLEdBQUcsQ0FBSSxLQUFrQixFQUFFLEdBQVMsRUFBTyxFQUFFO0lBQ3BFLG9GQUFvRjtJQUNwRixJQUFJLENBQUMsR0FBRztRQUFFLEdBQUcsR0FBRyxFQUFFLENBQUM7SUFDbkIsS0FBSyxNQUFNLElBQUksSUFBSSxLQUFLLEVBQUU7UUFDeEIsSUFBSSxPQUFPLENBQUMsSUFBSSxDQUFDLEVBQUU7WUFDakIsWUFBWSxDQUFDLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQztTQUN6QjthQUFNO1lBQ0wsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUNoQjtLQUNGO0lBQ0QsT0FBTyxHQUFHLENBQUM7QUFDYixDQUFDLENBQUM7QUFFRjs7R0FFRztBQUNILE1BQU0sVUFBVSxDQUFDLENBQ2YsSUFBVSxFQUNWLEtBQW1CLEVBQ25CLEdBQUcsUUFBZTtJQUVsQixpREFBaUQ7SUFDakQsMENBQTBDO0lBQzFDLDZFQUE2RTtJQUM3RSwwREFBMEQ7SUFFMUQsTUFBTSxlQUFlLEdBQVE7UUFDM0IsUUFBUSxFQUFFLFNBQVMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLFdBQVc7S0FDdEUsQ0FBQztJQUVGLElBQUksR0FBUSxDQUFDO0lBQ2IsSUFBSSxDQUFNLENBQUM7SUFFWCxLQUFLLENBQUMsSUFBSSxLQUFLLEVBQUU7UUFDZixJQUFJLENBQUMsSUFBSSxLQUFLO1lBQUUsR0FBRyxHQUFJLEtBQTZCLENBQUMsQ0FBQyxDQUFDLENBQUM7O1lBQ25ELGVBQWUsQ0FBQyxDQUFDLENBQUMsR0FBSSxLQUE2QixDQUFDLENBQUMsQ0FBQyxDQUFDO0tBQzdEO0lBRUQsT0FBTyxJQUFJLFdBQVcsQ0FBQyxJQUFJLEVBQUUsZUFBZSxFQUFFLEdBQUcsQ0FBQyxDQUFDO0FBQ3JELENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IHsgRU1QVFlfQVJSQVkgfSBmcm9tICcuLi8uLi91dGlsL2ZseXdlaWdodCc7XG5pbXBvcnQgeyBKU1hOb2RlSW1wbCB9IGZyb20gJy4vanN4LXJ1bnRpbWUnO1xuaW1wb3J0IHR5cGUgeyBRd2lrSlNYIH0gZnJvbSAnLi90eXBlcy9qc3gtcXdpayc7XG5pbXBvcnQgdHlwZSB7IEZ1bmN0aW9uQ29tcG9uZW50LCBKU1hOb2RlIH0gZnJvbSAnLi90eXBlcy9qc3gtbm9kZSc7XG5pbXBvcnQgeyBpc0FycmF5IH0gZnJvbSAnLi4vLi4vdXRpbC90eXBlcyc7XG5cbmV4cG9ydCBjb25zdCBmbGF0dGVuQXJyYXkgPSA8VD4oYXJyYXk6IChUIHwgVFtdKVtdLCBkc3Q/OiBUW10pOiBUW10gPT4ge1xuICAvLyBZZXMgdGhpcyBmdW5jdGlvbiBpcyBqdXN0IEFycmF5LmZsYXQsIGJ1dCB3ZSBuZWVkIHRvIHJ1biBvbiBvbGQgdmVyc2lvbnMgb2YgTm9kZS5cbiAgaWYgKCFkc3QpIGRzdCA9IFtdO1xuICBmb3IgKGNvbnN0IGl0ZW0gb2YgYXJyYXkpIHtcbiAgICBpZiAoaXNBcnJheShpdGVtKSkge1xuICAgICAgZmxhdHRlbkFycmF5KGl0ZW0sIGRzdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRzdC5wdXNoKGl0ZW0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZHN0O1xufTtcblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoPFRZUEUgZXh0ZW5kcyBzdHJpbmcgfCBGdW5jdGlvbkNvbXBvbmVudDxQUk9QUz4sIFBST1BTIGV4dGVuZHMge30gPSB7fT4oXG4gIHR5cGU6IFRZUEUsXG4gIHByb3BzOiBQUk9QUyB8IG51bGwsXG4gIC4uLmNoaWxkcmVuOiBhbnlbXVxuKTogSlNYTm9kZTxUWVBFPiB7XG4gIC8vIFVzaW5nIGxlZ2FjeSBoKCkganN4IHRyYW5zZm9ybSBhbmQgbW9ycGhpbmcgaXRcbiAgLy8gc28gaXQgY2FuIHVzZSB0aGUgbW9kZXJuIHZkb20gc3RydWN0dXJlXG4gIC8vIGh0dHBzOi8vcmVhY3Rqcy5vcmcvYmxvZy8yMDIwLzA5LzIyL2ludHJvZHVjaW5nLXRoZS1uZXctanN4LXRyYW5zZm9ybS5odG1sXG4gIC8vIGh0dHBzOi8vd3d3LnR5cGVzY3JpcHRsYW5nLm9yZy90c2NvbmZpZyNqc3hJbXBvcnRTb3VyY2VcblxuICBjb25zdCBub3JtYWxpemVkUHJvcHM6IGFueSA9IHtcbiAgICBjaGlsZHJlbjogYXJndW1lbnRzLmxlbmd0aCA+IDIgPyBmbGF0dGVuQXJyYXkoY2hpbGRyZW4pIDogRU1QVFlfQVJSQVksXG4gIH07XG5cbiAgbGV0IGtleTogYW55O1xuICBsZXQgaTogYW55O1xuXG4gIGZvciAoaSBpbiBwcm9wcykge1xuICAgIGlmIChpID09ICdrZXknKSBrZXkgPSAocHJvcHMgYXMgUmVjb3JkPHN0cmluZywgYW55PilbaV07XG4gICAgZWxzZSBub3JtYWxpemVkUHJvcHNbaV0gPSAocHJvcHMgYXMgUmVjb3JkPHN0cmluZywgYW55PilbaV07XG4gIH1cblxuICByZXR1cm4gbmV3IEpTWE5vZGVJbXBsKHR5cGUsIG5vcm1hbGl6ZWRQcm9wcywga2V5KTtcbn1cblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBkZWNsYXJlIG5hbWVzcGFjZSBoIHtcbiAgZXhwb3J0IGZ1bmN0aW9uIGgodHlwZTogYW55KTogSlNYTm9kZTxhbnk+O1xuICBleHBvcnQgZnVuY3Rpb24gaCh0eXBlOiBOb2RlLCBkYXRhOiBhbnkpOiBKU1hOb2RlPGFueT47XG4gIGV4cG9ydCBmdW5jdGlvbiBoKHR5cGU6IGFueSwgdGV4dDogc3RyaW5nKTogSlNYTm9kZTxhbnk+O1xuICBleHBvcnQgZnVuY3Rpb24gaCh0eXBlOiBhbnksIGNoaWxkcmVuOiBBcnJheTxhbnk+KTogSlNYTm9kZTxhbnk+O1xuICBleHBvcnQgZnVuY3Rpb24gaCh0eXBlOiBhbnksIGRhdGE6IGFueSwgdGV4dDogc3RyaW5nKTogSlNYTm9kZTxhbnk+O1xuICBleHBvcnQgZnVuY3Rpb24gaChcbiAgICB0eXBlOiBhbnksXG4gICAgZGF0YTogYW55LFxuICAgIGNoaWxkcmVuOiBBcnJheTxKU1hOb2RlPGFueT4gfCB1bmRlZmluZWQgfCBudWxsPlxuICApOiBKU1hOb2RlPGFueT47XG4gIGV4cG9ydCBmdW5jdGlvbiBoKHNlbDogYW55LCBkYXRhOiBhbnkgfCBudWxsLCBjaGlsZHJlbjogSlNYTm9kZTxhbnk+KTogSlNYTm9kZTxhbnk+O1xuXG4gIGV4cG9ydCBuYW1lc3BhY2UgSlNYIHtcbiAgICBleHBvcnQgaW50ZXJmYWNlIEVsZW1lbnQgZXh0ZW5kcyBRd2lrSlNYLkVsZW1lbnQge31cbiAgICBleHBvcnQgaW50ZXJmYWNlIEludHJpbnNpY0F0dHJpYnV0ZXMgZXh0ZW5kcyBRd2lrSlNYLkludHJpbnNpY0F0dHJpYnV0ZXMge31cbiAgICBleHBvcnQgaW50ZXJmYWNlIEludHJpbnNpY0VsZW1lbnRzIGV4dGVuZHMgUXdpa0pTWC5JbnRyaW5zaWNFbGVtZW50cyB7fVxuICAgIGV4cG9ydCBpbnRlcmZhY2UgRWxlbWVudENoaWxkcmVuQXR0cmlidXRlIHtcbiAgICAgIGNoaWxkcmVuPzogYW55O1xuICAgIH1cbiAgfVxufVxuIl19","import { QSlot } from '../../util/markers';\nimport { isArray } from '../../util/types';\nimport { jsx } from './jsx-runtime';\n/**\n * @public\n */\nexport const Slot = (props) => {\n    const hasChildren = props.children || (isArray(props.children) && props.children.length > 0);\n    const newChildrem = !hasChildren\n        ? []\n        : jsx('q:fallback', {\n            children: props.children,\n        });\n    return jsx(QSlot, {\n        name: props.name,\n        children: newChildrem,\n    }, props.name);\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2xvdC5wdWJsaWMuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvcmVuZGVyL2pzeC9zbG90LnB1YmxpYy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFDM0MsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBQzNDLE9BQU8sRUFBRSxHQUFHLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFHcEM7O0dBRUc7QUFDSCxNQUFNLENBQUMsTUFBTSxJQUFJLEdBR1osQ0FBQyxLQUFLLEVBQUUsRUFBRTtJQUNiLE1BQU0sV0FBVyxHQUFHLEtBQUssQ0FBQyxRQUFRLElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxJQUFJLEtBQUssQ0FBQyxRQUFRLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBQzdGLE1BQU0sV0FBVyxHQUFHLENBQUMsV0FBVztRQUM5QixDQUFDLENBQUMsRUFBRTtRQUNKLENBQUMsQ0FBQyxHQUFHLENBQUMsWUFBWSxFQUFFO1lBQ2hCLFFBQVEsRUFBRSxLQUFLLENBQUMsUUFBUTtTQUN6QixDQUFDLENBQUM7SUFFUCxPQUFPLEdBQUcsQ0FDUixLQUFLLEVBQ0w7UUFDRSxJQUFJLEVBQUUsS0FBSyxDQUFDLElBQUk7UUFDaEIsUUFBUSxFQUFFLFdBQVc7S0FDdEIsRUFDRCxLQUFLLENBQUMsSUFBSSxDQUNYLENBQUM7QUFDSixDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBRU2xvdCB9IGZyb20gJy4uLy4uL3V0aWwvbWFya2Vycyc7XG5pbXBvcnQgeyBpc0FycmF5IH0gZnJvbSAnLi4vLi4vdXRpbC90eXBlcyc7XG5pbXBvcnQgeyBqc3ggfSBmcm9tICcuL2pzeC1ydW50aW1lJztcbmltcG9ydCB0eXBlIHsgRnVuY3Rpb25Db21wb25lbnQgfSBmcm9tICcuL3R5cGVzL2pzeC1ub2RlJztcblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBTbG90OiBGdW5jdGlvbkNvbXBvbmVudDx7XG4gIG5hbWU/OiBzdHJpbmc7XG4gIGNoaWxkcmVuPzogYW55O1xufT4gPSAocHJvcHMpID0+IHtcbiAgY29uc3QgaGFzQ2hpbGRyZW4gPSBwcm9wcy5jaGlsZHJlbiB8fCAoaXNBcnJheShwcm9wcy5jaGlsZHJlbikgJiYgcHJvcHMuY2hpbGRyZW4ubGVuZ3RoID4gMCk7XG4gIGNvbnN0IG5ld0NoaWxkcmVtID0gIWhhc0NoaWxkcmVuXG4gICAgPyBbXVxuICAgIDoganN4KCdxOmZhbGxiYWNrJywge1xuICAgICAgICBjaGlsZHJlbjogcHJvcHMuY2hpbGRyZW4sXG4gICAgICB9KTtcblxuICByZXR1cm4ganN4KFxuICAgIFFTbG90LFxuICAgIHtcbiAgICAgIG5hbWU6IHByb3BzLm5hbWUsXG4gICAgICBjaGlsZHJlbjogbmV3Q2hpbGRyZW0sXG4gICAgfSxcbiAgICBwcm9wcy5uYW1lXG4gICk7XG59O1xuIl19","/**\n * QWIK_VERSION\n * @public\n */\nexport const version = globalThis.QWIK_VERSION;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVyc2lvbi5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS92ZXJzaW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7R0FHRztBQUNILE1BQU0sQ0FBQyxNQUFNLE9BQU8sR0FBSSxVQUFrQixDQUFDLFlBQXNCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFFXSUtfVkVSU0lPTlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgdmVyc2lvbiA9IChnbG9iYWxUaGlzIGFzIGFueSkuUVdJS19WRVJTSU9OIGFzIHN0cmluZztcbiJdfQ==","import { isDocument } from '../util/element';\nimport { createRenderContext, executeContext, printRenderStats } from './cursor';\nimport { isJSXNode, jsx, processData } from './jsx/jsx-runtime';\nimport { visitJsxNode } from './render';\nimport { getContainerState, postRendering } from './notify-render';\nimport { getDocument } from '../util/dom';\nimport { qDev, qTest } from '../util/qdev';\nimport { version } from '../version';\nimport { QContainerAttr } from '../util/markers';\nimport { logWarn } from '../util/log';\nimport { appendQwikDevTools } from '../props/props';\nimport { qError, QError_cannotRenderOverExistingContainer } from '../error/error';\nimport { directSetAttribute } from './fast-calls';\n/**\n * Render JSX.\n *\n * Use this method to render JSX. This function does reconciling which means\n * it always tries to reuse what is already in the DOM (rather then destroy and\n * recreate content.)\n *\n * @param parent - Element which will act as a parent to `jsxNode`. When\n *     possible the rendering will try to reuse existing nodes.\n * @param jsxNode - JSX to render\n * @alpha\n */\nexport const render = async (parent, jsxNode, allowRerender = true) => {\n    // If input is not JSX, convert it\n    if (!isJSXNode(jsxNode)) {\n        jsxNode = jsx(jsxNode, null);\n    }\n    const doc = getDocument(parent);\n    const containerEl = getElement(parent);\n    if (qDev && containerEl.hasAttribute(QContainerAttr)) {\n        throw qError(QError_cannotRenderOverExistingContainer, containerEl);\n    }\n    injectQContainer(containerEl);\n    const containerState = getContainerState(containerEl);\n    containerState.$hostsRendering$ = new Set();\n    containerState.$renderPromise$ = renderRoot(parent, jsxNode, doc, containerState, containerEl);\n    const renderCtx = await containerState.$renderPromise$;\n    if (allowRerender) {\n        await postRendering(containerEl, containerState, renderCtx);\n    }\n    else {\n        containerState.$hostsRendering$ = undefined;\n        containerState.$renderPromise$ = undefined;\n        const next = containerState.$hostsNext$.size +\n            containerState.$hostsStaging$.size +\n            containerState.$watchNext$.size +\n            containerState.$watchStaging$.size;\n        if (next > 0) {\n            logWarn('State changed and a rerender is required, skipping');\n        }\n    }\n};\nconst renderRoot = async (parent, jsxNode, doc, containerState, containerEl) => {\n    const ctx = createRenderContext(doc, containerState, containerEl);\n    ctx.$roots$.push(parent);\n    const processedNodes = await processData(jsxNode);\n    await visitJsxNode(ctx, parent, processedNodes, false);\n    executeContext(ctx);\n    if (!qTest) {\n        injectQwikSlotCSS(parent);\n    }\n    if (qDev) {\n        appendQwikDevTools(containerEl);\n        printRenderStats(ctx);\n    }\n    return ctx;\n};\nexport const injectQwikSlotCSS = (docOrElm) => {\n    const doc = getDocument(docOrElm);\n    const element = isDocument(docOrElm) ? docOrElm.head : docOrElm;\n    const style = doc.createElement('style');\n    directSetAttribute(style, 'id', 'qwik/base-styles');\n    style.textContent = `q\\\\:slot{display:contents}q\\\\:fallback,q\\\\:template{display:none}q\\\\:fallback:last-child{display:contents}`;\n    element.insertBefore(style, element.firstChild);\n};\nexport const getElement = (docOrElm) => {\n    return isDocument(docOrElm) ? docOrElm.documentElement : docOrElm;\n};\nexport const injectQContainer = (containerEl) => {\n    directSetAttribute(containerEl, 'q:version', version || '');\n    directSetAttribute(containerEl, QContainerAttr, 'resumed');\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVuZGVyLnB1YmxpYy5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9yZW5kZXIvcmVuZGVyLnB1YmxpYy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDN0MsT0FBTyxFQUFFLG1CQUFtQixFQUFFLGNBQWMsRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLFVBQVUsQ0FBQztBQUNqRixPQUFPLEVBQUUsU0FBUyxFQUFFLEdBQUcsRUFBRSxXQUFXLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQztBQUVoRSxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sVUFBVSxDQUFDO0FBQ3hDLE9BQU8sRUFBa0IsaUJBQWlCLEVBQUUsYUFBYSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDbkYsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUMxQyxPQUFPLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxNQUFNLGNBQWMsQ0FBQztBQUMzQyxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sWUFBWSxDQUFDO0FBQ3JDLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUNqRCxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sYUFBYSxDQUFDO0FBQ3RDLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQ3BELE9BQU8sRUFBRSxNQUFNLEVBQUUsd0NBQXdDLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUNsRixPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSxjQUFjLENBQUM7QUFFbEQ7Ozs7Ozs7Ozs7O0dBV0c7QUFDSCxNQUFNLENBQUMsTUFBTSxNQUFNLEdBQUcsS0FBSyxFQUN6QixNQUEwQixFQUMxQixPQUFrRCxFQUNsRCxhQUFhLEdBQUcsSUFBSSxFQUNMLEVBQUU7SUFDakIsa0NBQWtDO0lBQ2xDLElB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QUMsQ0FBQztJQUNwRCxLQUFLLENBQUMsV0FBVyxHQUFHLDRHQUE0RyxDQUFDO0lBQ2pJLE9BQU8sQ0FBQyxZQUFZLENBQUMsS0FBSyxFQUFFLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQztBQUNsRCxDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxVQUFVLEdBQUcsQ0FBQyxRQUE0QixFQUFXLEVBQUU7SUFDbEUsT0FBTyxVQUFVLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQztBQUNwRSxDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxnQkFBZ0IsR0FBRyxDQUFDLFdBQW9CLEVBQUUsRUFBRTtJQUN2RCxrQkFBa0IsQ0FBQyxXQUFXLEVBQUUsV0FBVyxFQUFFLE9BQU8sSUFBSSxFQUFFLENBQUMsQ0FBQztJQUM1RCxrQkFBa0IsQ0FBQyxXQUFXLEVBQUUsY0FBYyxFQUFFLFNBQVMsQ0FBQyxDQUFDO0FBQzdELENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzRG9jdW1lbnQgfSBmcm9tICcuLi91dGlsL2VsZW1lbnQnO1xuaW1wb3J0IHsgY3JlYXRlUmVuZGVyQ29udGV4dCwgZXhlY3V0ZUNvbnRleHQsIHByaW50UmVuZGVyU3RhdHMgfSBmcm9tICcuL2N1cnNvcic7XG5pbXBvcnQgeyBpc0pTWE5vZGUsIGpzeCwgcHJvY2Vzc0RhdGEgfSBmcm9tICcuL2pzeC9qc3gtcnVudGltZSc7XG5pbXBvcnQgdHlwZSB7IEpTWE5vZGUsIEZ1bmN0aW9uQ29tcG9uZW50IH0gZnJvbSAnLi9qc3gvdHlwZXMvanN4LW5vZGUnO1xuaW1wb3J0IHsgdmlzaXRKc3hOb2RlIH0gZnJvbSAnLi9yZW5kZXInO1xuaW1wb3J0IHsgQ29udGFpbmVyU3RhdGUsIGdldENvbnRhaW5lclN0YXRlLCBwb3N0UmVuZGVyaW5nIH0gZnJvbSAnLi9ub3RpZnktcmVuZGVyJztcbmltcG9ydCB7IGdldERvY3VtZW50IH0gZnJvbSAnLi4vdXRpbC9kb20nO1xuaW1wb3J0IHsgcURldiwgcVRlc3QgfSBmcm9tICcuLi91dGlsL3FkZXYnO1xuaW1wb3J0IHsgdmVyc2lvbiB9IGZyb20gJy4uL3ZlcnNpb24nO1xuaW1wb3J0IHsgUUNvbnRhaW5lckF0dHIgfSBmcm9tICcuLi91dGlsL21hcmtlcnMnO1xuaW1wb3J0IHsgbG9nV2FybiB9IGZyb20gJy4uL3V0aWwvbG9nJztcbmltcG9ydCB7IGFwcGVuZFF3aWtEZXZUb29scyB9IGZyb20gJy4uL3Byb3BzL3Byb3BzJztcbmltcG9ydCB7IHFFcnJvciwgUUVycm9yX2Nhbm5vdFJlbmRlck92ZXJFeGlzdGluZ0NvbnRhaW5lciB9IGZyb20gJy4uL2Vycm9yL2Vycm9yJztcbmltcG9ydCB7IGRpcmVjdFNldEF0dHJpYnV0ZSB9IGZyb20gJy4vZmFzdC1jYWxscyc7XG5cbi8qKlxuICogUmVuZGVyIEpTWC5cbiAqXG4gKiBVc2UgdGhpcyBtZXRob2QgdG8gcmVuZGVyIEpTWC4gVGhpcyBmdW5jdGlvbiBkb2VzIHJlY29uY2lsaW5nIHdoaWNoIG1lYW5zXG4gKiBpdCBhbHdheXMgdHJpZXMgdG8gcmV1c2Ugd2hhdCBpcyBhbHJlYWR5IGluIHRoZSBET00gKHJhdGhlciB0aGVuIGRlc3Ryb3kgYW5kXG4gKiByZWNyZWF0ZSBjb250ZW50LilcbiAqXG4gKiBAcGFyYW0gcGFyZW50IC0gRWxlbWVudCB3aGljaCB3aWxsIGFjdCBhcyBhIHBhcmVudCB0byBganN4Tm9kZWAuIFdoZW5cbiAqICAgICBwb3NzaWJsZSB0aGUgcmVuZGVyaW5nIHdpbGwgdHJ5IHRvIHJldXNlIGV4aXN0aW5nIG5vZGVzLlxuICogQHBhcmFtIGpzeE5vZGUgLSBKU1ggdG8gcmVuZGVyXG4gKiBAYWxwaGFcbiAqL1xuZXhwb3J0IGNvbnN0IHJlbmRlciA9IGFzeW5jIChcbiAgcGFyZW50OiBFbGVtZW50IHwgRG9jdW1lbnQsXG4gIGpzeE5vZGU6IEpTWE5vZGU8dW5rbm93bj4gfCBGdW5jdGlvbkNvbXBvbmVudDxhbnk+LFxuICBhbGxvd1JlcmVuZGVyID0gdHJ1ZVxuKTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gIC8vIElmIGlucHV0IGlzIG5vdCBKU1gsIGNvbnZlcnQgaXRcbiAgaWYgKCFpc0pTWE5vZGUoanN4Tm9kZSkpIHtcbiAgICBqc3hOb2RlID0ganN4KGpzeE5vZGUsIG51bGwpO1xuICB9XG4gIGNvbnN0IGRvYyA9IGdldERvY3VtZW50KHBhcmVudCk7XG4gIGNvbnN0IGNvbnRhaW5lckVsID0gZ2V0RWxlbWVudChwYXJlbnQpO1xuICBpZiAocURldiAmJiBjb250YWluZXJFbC5oYXNBdHRyaWJ1dGUoUUNvbnRhaW5lckF0dHIpKSB7XG4gICAgdGhyb3cgcUVycm9yKFFFcnJvcl9jYW5ub3RSZW5kZXJPdmVyRXhpc3RpbmdDb250YWluZXIsIGNvbnRhaW5lckVsKTtcbiAgfVxuICBpbmplY3RRQ29udGFpbmVyKGNvbnRhaW5lckVsKTtcblxuICBjb25zdCBjb250YWluZXJTdGF0ZSA9IGdldENvbnRhaW5lclN0YXRlKGNvbnRhaW5lckVsKTtcbiAgY29udGFpbmVyU3RhdGUuJGhvc3RzUmVuZGVyaW5nJCA9IG5ldyBTZXQoKTtcbiAgY29udGFpbmVyU3RhdGUuJHJlbmRlclByb21pc2UkID0gcmVuZGVyUm9vdChwYXJlbnQsIGpzeE5vZGUsIGRvYywgY29udGFpbmVyU3RhdGUsIGNvbnRhaW5lckVsKTtcblxuICBjb25zdCByZW5kZXJDdHggPSBhd2FpdCBjb250YWluZXJTdGF0ZS4kcmVuZGVyUHJvbWlzZSQ7XG5cbiAgaWYgKGFsbG93UmVyZW5kZXIpIHtcbiAgICBhd2FpdCBwb3N0UmVuZGVyaW5nKGNvbnRhaW5lckVsLCBjb250YWluZXJTdGF0ZSwgcmVuZGVyQ3R4KTtcbiAgfSBlbHNlIHtcbiAgICBjb250YWluZXJTdGF0ZS4kaG9zdHNSZW5kZXJpbmckID0gdW5kZWZpbmVkO1xuICAgIGNvbnRhaW5lclN0YXRlLiRyZW5kZXJQcm9taXNlJCA9IHVuZGVmaW5lZDtcblxuICAgIGNvbnN0IG5leHQgPVxuICAgICAgY29udGFpbmVyU3RhdGUuJGhvc3RzTmV4dCQuc2l6ZSArXG4gICAgICBjb250YWluZXJTdGF0ZS4kaG9zdHNTdGFnaW5nJC5zaXplICtcbiAgICAgIGNvbnRhaW5lclN0YXRlLiR3YXRjaE5leHQkLnNpemUgK1xuICAgICAgY29udGFpbmVyU3RhdGUuJHdhdGNoU3RhZ2luZyQuc2l6ZTtcbiAgICBpZiAobmV4dCA+IDApIHtcbiAgICAgIGxvZ1dhcm4oJ1N0YXRlIGNoYW5nZWQgYW5kIGEgcmVyZW5kZXIgaXMgcmVxdWlyZWQsIHNraXBwaW5nJyk7XG4gICAgfVxuICB9XG59O1xuXG5jb25zdCByZW5kZXJSb290ID0gYXN5bmMgKFxuICBwYXJlbnQ6IEVsZW1lbnQgfCBEb2N1bWVudCxcbiAganN4Tm9kZTogSlNYTm9kZTx1bmtub3duPiB8IEZ1bmN0aW9uQ29tcG9uZW50PGFueT4sXG4gIGRvYzogRG9jdW1lbnQsXG4gIGNvbnRhaW5lclN0YXRlOiBDb250YWluZXJTdGF0ZSxcbiAgY29udGFpbmVyRWw6IEVsZW1lbnRcbikgPT4ge1xuICBjb25zdCBjdHggPSBjcmVhdGVSZW5kZXJDb250ZXh0KGRvYywgY29udGFpbmVyU3RhdGUsIGNvbnRhaW5lckVsKTtcbiAgY3R4LiRyb290cyQucHVzaChwYXJlbnQgYXMgRWxlbWVudCk7XG5cbiAgY29uc3QgcHJvY2Vzc2VkTm9kZXMgPSBhd2FpdCBwcm9jZXNzRGF0YShqc3hOb2RlKTtcbiAgYXdhaXQgdmlzaXRKc3hOb2RlKGN0eCwgcGFyZW50IGFzIEVsZW1lbnQsIHByb2Nlc3NlZE5vZGVzLCBmYWxzZSk7XG5cbiAgZXhlY3V0ZUNvbnRleHQoY3R4KTtcbiAgaWYgKCFxVGVzdCkge1xuICAgIGluamVjdFF3aWtTbG90Q1NTKHBhcmVudCk7XG4gIH1cblxuICBpZiAocURldikge1xuICAgIGFwcGVuZFF3aWtEZXZUb29scyhjb250YWluZXJFbCk7XG4gICAgcHJpbnRSZW5kZXJTdGF0cyhjdHgpO1xuICB9XG4gIHJldHVybiBjdHg7XG59O1xuZXhwb3J0IGNvbnN0IGluamVjdFF3aWtTbG90Q1NTID0gKGRvY09yRWxtOiBEb2N1bWVudCB8IEVsZW1lbnQpID0+IHtcbiAgY29uc3QgZG9jID0gZ2V0RG9jdW1lbnQoZG9jT3JFbG0pO1xuICBjb25zdCBlbGVtZW50ID0gaXNEb2N1bWVudChkb2NPckVsbSkgPyBkb2NPckVsbS5oZWFkIDogZG9jT3JFbG07XG4gIGNvbnN0IHN0eWxlID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gIGRpcmVjdFNldEF0dHJpYnV0ZShzdHlsZSwgJ2lkJywgJ3F3aWsvYmFzZS1zdHlsZXMnKTtcbiAgc3R5bGUudGV4dENvbnRlbnQgPSBgcVxcXFw6c2xvdHtkaXNwbGF5OmNvbnRlbnRzfXFcXFxcOmZhbGxiYWNrLHFcXFxcOnRlbXBsYXRle2Rpc3BsYXk6bm9uZX1xXFxcXDpmYWxsYmFjazpsYXN0LWNoaWxke2Rpc3BsYXk6Y29udGVudHN9YDtcbiAgZWxlbWVudC5pbnNlcnRCZWZvcmUoc3R5bGUsIGVsZW1lbnQuZmlyc3RDaGlsZCk7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0RWxlbWVudCA9IChkb2NPckVsbTogRG9jdW1lbnQgfCBFbGVtZW50KTogRWxlbWVudCA9PiB7XG4gIHJldHVybiBpc0RvY3VtZW50KGRvY09yRWxtKSA/IGRvY09yRWxtLmRvY3VtZW50RWxlbWVudCA6IGRvY09yRWxtO1xufTtcblxuZXhwb3J0IGNvbnN0IGluamVjdFFDb250YWluZXIgPSAoY29udGFpbmVyRWw6IEVsZW1lbnQpID0+IHtcbiAgZGlyZWN0U2V0QXR0cmlidXRlKGNvbnRhaW5lckVsLCAncTp2ZXJzaW9uJywgdmVyc2lvbiB8fCAnJyk7XG4gIGRpcmVjdFNldEF0dHJpYnV0ZShjb250YWluZXJFbCwgUUNvbnRhaW5lckF0dHIsICdyZXN1bWVkJyk7XG59O1xuIl19","import { useInvokeContext } from './use-core';\n// <docs markdown=\"../readme.md#useHostElement\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useHostElement instead)\n/**\n * Retrieves the Host Element of the current component.\n *\n * NOTE: `useHostElement` method can only be used in the synchronous portion of the callback\n * (before any `await` statements.)\n *\n * ```tsx\n * const Section = component$(\n *   () => {\n *     const hostElement = useHostElement();\n *     console.log(hostElement); // hostElement is a HTMLSectionElement\n *\n *     return <Host>I am a section</Host>;\n *   },\n *   {\n *     tagName: 'section',\n *   }\n * );\n * ```\n *\n * @public\n */\n// </docs>\nexport const useHostElement = () => {\n    const ctx = useInvokeContext();\n    return ctx.$hostElement$;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLWhvc3QtZWxlbWVudC5wdWJsaWMuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvdXNlL3VzZS1ob3N0LWVsZW1lbnQucHVibGljLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLFlBQVksQ0FBQztBQUU5QyxnREFBZ0Q7QUFDaEQseUNBQXlDO0FBQ3pDLDZDQUE2QztBQUM3Qzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0dBcUJHO0FBQ0gsVUFBVTtBQUNWLE1BQU0sQ0FBQyxNQUFNLGNBQWMsR0FBRyxHQUFZLEVBQUU7SUFDMUMsTUFBTSxHQUFHLEdBQUcsZ0JBQWdCLEVBQUUsQ0FBQztJQUMvQixPQUFPLEdBQUcsQ0FBQyxhQUFhLENBQUM7QUFDM0IsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlSW52b2tlQ29udGV4dCB9IGZyb20gJy4vdXNlLWNvcmUnO1xuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4uL3JlYWRtZS5tZCN1c2VIb3N0RWxlbWVudFwiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IC4uL3JlYWRtZS5tZCN1c2VIb3N0RWxlbWVudCBpbnN0ZWFkKVxuLyoqXG4gKiBSZXRyaWV2ZXMgdGhlIEhvc3QgRWxlbWVudCBvZiB0aGUgY3VycmVudCBjb21wb25lbnQuXG4gKlxuICogTk9URTogYHVzZUhvc3RFbGVtZW50YCBtZXRob2QgY2FuIG9ubHkgYmUgdXNlZCBpbiB0aGUgc3luY2hyb25vdXMgcG9ydGlvbiBvZiB0aGUgY2FsbGJhY2tcbiAqIChiZWZvcmUgYW55IGBhd2FpdGAgc3RhdGVtZW50cy4pXG4gKlxuICogYGBgdHN4XG4gKiBjb25zdCBTZWN0aW9uID0gY29tcG9uZW50JChcbiAqICAgKCkgPT4ge1xuICogICAgIGNvbnN0IGhvc3RFbGVtZW50ID0gdXNlSG9zdEVsZW1lbnQoKTtcbiAqICAgICBjb25zb2xlLmxvZyhob3N0RWxlbWVudCk7IC8vIGhvc3RFbGVtZW50IGlzIGEgSFRNTFNlY3Rpb25FbGVtZW50XG4gKlxuICogICAgIHJldHVybiA8SG9zdD5JIGFtIGEgc2VjdGlvbjwvSG9zdD47XG4gKiAgIH0sXG4gKiAgIHtcbiAqICAgICB0YWdOYW1lOiAnc2VjdGlvbicsXG4gKiAgIH1cbiAqICk7XG4gKiBgYGBcbiAqXG4gKiBAcHVibGljXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBjb25zdCB1c2VIb3N0RWxlbWVudCA9ICgpOiBFbGVtZW50ID0+IHtcbiAgY29uc3QgY3R4ID0gdXNlSW52b2tlQ29udGV4dCgpO1xuICByZXR1cm4gY3R4LiRob3N0RWxlbWVudCQ7XG59O1xuIl19","import { useInvokeContext } from './use-core';\n// <docs markdown=\"../readme.md#useDocument\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useDocument instead)\n/**\n * Retrieves the document of the current element. It's important to use this method instead of\n * accessing `document` directly because during SSR, the global document might not exist.\n *\n * NOTE: `useDocument` method can only be used in the synchronous portion of the callback (before\n * any `await` statements.)\n *\n * @alpha\n */\n// </docs>\nexport const useDocument = () => {\n    const ctx = useInvokeContext();\n    return ctx.$doc$;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLWRvY3VtZW50LnB1YmxpYy5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS91c2UvdXNlLWRvY3VtZW50LnB1YmxpYy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxZQUFZLENBQUM7QUFFOUMsNkNBQTZDO0FBQzdDLHlDQUF5QztBQUN6QywwQ0FBMEM7QUFDMUM7Ozs7Ozs7O0dBUUc7QUFDSCxVQUFVO0FBQ1YsTUFBTSxDQUFDLE1BQU0sV0FBVyxHQUFHLEdBQWEsRUFBRTtJQUN4QyxNQUFNLEdBQUcsR0FBRyxnQkFBZ0IsRUFBRSxDQUFDO0lBQy9CLE9BQU8sR0FBRyxDQUFDLEtBQUssQ0FBQztBQUNuQixDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VJbnZva2VDb250ZXh0IH0gZnJvbSAnLi91c2UtY29yZSc7XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kI3VzZURvY3VtZW50XCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi4vcmVhZG1lLm1kI3VzZURvY3VtZW50IGluc3RlYWQpXG4vKipcbiAqIFJldHJpZXZlcyB0aGUgZG9jdW1lbnQgb2YgdGhlIGN1cnJlbnQgZWxlbWVudC4gSXQncyBpbXBvcnRhbnQgdG8gdXNlIHRoaXMgbWV0aG9kIGluc3RlYWQgb2ZcbiAqIGFjY2Vzc2luZyBgZG9jdW1lbnRgIGRpcmVjdGx5IGJlY2F1c2UgZHVyaW5nIFNTUiwgdGhlIGdsb2JhbCBkb2N1bWVudCBtaWdodCBub3QgZXhpc3QuXG4gKlxuICogTk9URTogYHVzZURvY3VtZW50YCBtZXRob2QgY2FuIG9ubHkgYmUgdXNlZCBpbiB0aGUgc3luY2hyb25vdXMgcG9ydGlvbiBvZiB0aGUgY2FsbGJhY2sgKGJlZm9yZVxuICogYW55IGBhd2FpdGAgc3RhdGVtZW50cy4pXG4gKlxuICogQGFscGhhXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBjb25zdCB1c2VEb2N1bWVudCA9ICgpOiBEb2N1bWVudCA9PiB7XG4gIGNvbnN0IGN0eCA9IHVzZUludm9rZUNvbnRleHQoKTtcbiAgcmV0dXJuIGN0eC4kZG9jJDtcbn07XG4iXX0=","import { useSequentialScope } from './use-store.public';\nimport { setAttribute } from '../render/cursor';\nimport { fromCamelToKebabCase } from '../util/case';\nimport { getContext } from '../props/props';\nimport { QCtxAttr } from '../util/markers';\nimport { qError, QError_notFoundContext } from '../error/error';\nimport { verifySerializable } from '../object/q-object';\nimport { qDev } from '../util/qdev';\n// <docs markdown=\"./use-context.docs.md#createContext\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ./use-context.docs.md#createContext instead)\n/**\n * Create a context ID to be used in your application.\n *\n * Context is a way to pass stores to the child components without prop-drilling.\n *\n * Use `createContext()` to create a `Context`. `Context` is just a serializable identifier for\n * the context. It is not the context value itself. See `useContextProvider()` and `useContext()`\n * for the values. Qwik needs a serializable ID for the context so that the it can track context\n * providers and consumers in a way that survives resumability.\n *\n * ## Example\n *\n * ```tsx\n * // Declare the Context type.\n * interface TodosStore {\n *   items: string[];\n * }\n * // Create a Context ID (no data is saved here.)\n * // You will use this ID to both create and retrieve the Context.\n * export const TodosContext = createContext<TodosStore>('Todos');\n *\n * // Example of providing context to child components.\n * export const App = component$(() => {\n *   useContextProvider(\n *     TodosContext,\n *     useStore<TodosStore>({\n *       items: ['Learn Qwik', 'Build Qwik app', 'Profit'],\n *     })\n *   );\n *\n *   return <Items />;\n * });\n *\n * // Example of retrieving the context provided by a parent component.\n * export const Items = component$(() => {\n *   const todos = useContext(TodosContext);\n *   return (\n *     <ul>\n *       {todos.items.map((item) => (\n *         <li>{item}</li>\n *       ))}\n *     </ul>\n *   );\n * });\n *\n * ```\n * @param name - The name of the context.\n * @alpha\n */\n// </docs>\nexport const createContext = (name) => {\n    return Object.freeze({\n        id: fromCamelToKebabCase(name),\n    });\n};\n// <docs markdown=\"./use-context.docs.md#useContextProvider\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ./use-context.docs.md#useContextProvider instead)\n/**\n * Assign a value to a Context.\n *\n * Use `useContextProvider()` to assign a value to a context. The assignment happens in the\n * component's function. Once assign use `useContext()` in any child component to retrieve the\n * value.\n *\n * Context is a way to pass stores to the child components without prop-drilling.\n *\n * ## Example\n *\n * ```tsx\n * // Declare the Context type.\n * interface TodosStore {\n *   items: string[];\n * }\n * // Create a Context ID (no data is saved here.)\n * // You will use this ID to both create and retrieve the Context.\n * export const TodosContext = createContext<TodosStore>('Todos');\n *\n * // Example of providing context to child components.\n * export const App = component$(() => {\n *   useContextProvider(\n *     TodosContext,\n *     useStore<TodosStore>({\n *       items: ['Learn Qwik', 'Build Qwik app', 'Profit'],\n *     })\n *   );\n *\n *   return <Items />;\n * });\n *\n * // Example of retrieving the context provided by a parent component.\n * export const Items = component$(() => {\n *   const todos = useContext(TodosContext);\n *   return (\n *     <ul>\n *       {todos.items.map((item) => (\n *         <li>{item}</li>\n *       ))}\n *     </ul>\n *   );\n * });\n *\n * ```\n * @param context - The context to assign a value to.\n * @param value - The value to assign to the context.\n * @alpha\n */\n// </docs>\nexport const useContextProvider = (context, newValue) => {\n    const { get, set, ctx } = useSequentialScope();\n    if (get) {\n        return;\n    }\n    const hostElement = ctx.$hostElement$;\n    const renderCtx = ctx.$renderCtx$;\n    const hostCtx = getContext(hostElement);\n    let contexts = hostCtx.$contexts$;\n    if (!contexts) {\n        hostCtx.$contexts$ = contexts = new Map();\n    }\n    if (qDev) {\n        verifySerializable(newValue);\n    }\n    contexts.set(context.id, newValue);\n    const serializedContexts = [];\n    contexts.forEach((_, key) => {\n        serializedContexts.push(`${key}`);\n    });\n    setAttribute(renderCtx, hostElement, QCtxAttr, serializedContexts.join(' '));\n    set(true);\n};\n// <docs markdown=\"./use-context.docs.md#useContext\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ./use-context.docs.md#useContext instead)\n/**\n * Retrive Context value.\n *\n * Use `useContext()` to retrieve the value of context in a component. To retrieve a value a\n * parent component needs to invoke `useContextProvider()` to assign a value.\n *\n * ## Example\n *\n * ```tsx\n * // Declare the Context type.\n * interface TodosStore {\n *   items: string[];\n * }\n * // Create a Context ID (no data is saved here.)\n * // You will use this ID to both create and retrieve the Context.\n * export const TodosContext = createContext<TodosStore>('Todos');\n *\n * // Example of providing context to child components.\n * export const App = component$(() => {\n *   useContextProvider(\n *     TodosContext,\n *     useStore<TodosStore>({\n *       items: ['Learn Qwik', 'Build Qwik app', 'Profit'],\n *     })\n *   );\n *\n *   return <Items />;\n * });\n *\n * // Example of retrieving the context provided by a parent component.\n * export const Items = component$(() => {\n *   const todos = useContext(TodosContext);\n *   return (\n *     <ul>\n *       {todos.items.map((item) => (\n *         <li>{item}</li>\n *       ))}\n *     </ul>\n *   );\n * });\n *\n * ```\n * @param context - The context to retrieve a value from.\n * @alpha\n */\n// </docs>\nexport const useContext = (context) => {\n    const { get, set, ctx } = useSequentialScope();\n    if (get) {\n        return get;\n    }\n    let hostElement = ctx.$hostElement$;\n    const contexts = ctx.$renderCtx$.$contexts$;\n    for (let i = contexts.length - 1; i >= 0; i--) {\n        const ctx = contexts[i];\n        hostElement = ctx.$element$;\n        if (ctx.$contexts$) {\n            const found = ctx.$contexts$.get(context.id);\n            if (found) {\n                set(found);\n                return found;\n            }\n        }\n    }\n    const foundEl = hostElement.closest(`[q\\\\:ctx*=\"${context.id}\"]`);\n    if (foundEl) {\n        const value = getContext(foundEl).$contexts$.get(context.id);\n        if (value) {\n            set(value);\n            return value;\n        }\n    }\n    throw qError(QError_notFoundContext, context.id);\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLWNvbnRleHQuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvdXNlL3VzZS1jb250ZXh0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBQ3hELE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUNoRCxPQUFPLEVBQUUsb0JBQW9CLEVBQUUsTUFBTSxjQUFjLENBQUM7QUFDcEQsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQzVDLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUMzQyxPQUFPLEVBQUUsTUFBTSxFQUFFLHNCQUFzQixFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDaEUsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFDeEQsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLGNBQWMsQ0FBQztBQWlFcEMsd0RBQXdEO0FBQ3hELHlDQUF5QztBQUN6QyxxREFBcUQ7QUFDckQ7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQWdERztBQUNILFVBQVU7QUFDVixNQUFNLENBQUMsTUFBTSxhQUFhLEdBQUcsQ0FBdUIsSUFBWSxFQUFrQixFQUFFO0lBQ2xGLE9BQU8sTUFBTSxDQUFDLE1BQU0sQ0FBQztRQUNuQixFQUFFLEVBQUUsb0JBQW9CLENBQUMsSUFBSSxDQUFDO0tBQ3hCLENBQUMsQ0FBQztBQUNaLENBQUMsQ0FBQztBQUVGLDZEQUE2RDtBQUM3RCx5Q0FBeUM7QUFDekMsMERBQTBEO0FBQzFEOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7R0FnREc7QUFDSCxVQUFVO0FBQ1YsTUFBTSxDQUFDLE1BQU0sa0JBQWtCLEdBQUcsQ0FDaEMsT0FB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LE1BQU0sQ0FBQyxzQkFBc0IsRUFBRSxPQUFPLENBQUMsRUFBRSxDQUFDLENBQUM7QUFDbkQsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlU2VxdWVudGlhbFNjb3BlIH0gZnJvbSAnLi91c2Utc3RvcmUucHVibGljJztcbmltcG9ydCB7IHNldEF0dHJpYnV0ZSB9IGZyb20gJy4uL3JlbmRlci9jdXJzb3InO1xuaW1wb3J0IHsgZnJvbUNhbWVsVG9LZWJhYkNhc2UgfSBmcm9tICcuLi91dGlsL2Nhc2UnO1xuaW1wb3J0IHsgZ2V0Q29udGV4dCB9IGZyb20gJy4uL3Byb3BzL3Byb3BzJztcbmltcG9ydCB7IFFDdHhBdHRyIH0gZnJvbSAnLi4vdXRpbC9tYXJrZXJzJztcbmltcG9ydCB7IHFFcnJvciwgUUVycm9yX25vdEZvdW5kQ29udGV4dCB9IGZyb20gJy4uL2Vycm9yL2Vycm9yJztcbmltcG9ydCB7IHZlcmlmeVNlcmlhbGl6YWJsZSB9IGZyb20gJy4uL29iamVjdC9xLW9iamVjdCc7XG5pbXBvcnQgeyBxRGV2IH0gZnJvbSAnLi4vdXRpbC9xZGV2JztcblxuLy8gPGRvY3MgbWFya2Rvd249XCIuL3VzZS1jb250ZXh0LmRvY3MubWQjQ29udGV4dFwiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IC4vdXNlLWNvbnRleHQuZG9jcy5tZCNDb250ZXh0IGluc3RlYWQpXG4vKipcbiAqIENvbnRleHQgaXMgYSB0eXBlc2FmZSBJRCBmb3IgeW91ciBjb250ZXh0LlxuICpcbiAqIENvbnRleHQgaXMgYSB3YXkgdG8gcGFzcyBzdG9yZXMgdG8gdGhlIGNoaWxkIGNvbXBvbmVudHMgd2l0aG91dCBwcm9wLWRyaWxsaW5nLlxuICpcbiAqIFVzZSBgY3JlYXRlQ29udGV4dCgpYCB0byBjcmVhdGUgYSBgQ29udGV4dGAuIGBDb250ZXh0YCBpcyBqdXN0IGEgc2VyaWFsaXphYmxlIGlkZW50aWZpZXIgZm9yXG4gKiB0aGUgY29udGV4dC4gSXQgaXMgbm90IHRoZSBjb250ZXh0IHZhbHVlIGl0c2VsZi4gU2VlIGB1c2VDb250ZXh0UHJvdmlkZXIoKWAgYW5kIGB1c2VDb250ZXh0KClgXG4gKiBmb3IgdGhlIHZhbHVlcy4gUXdpayBuZWVkcyBhIHNlcmlhbGl6YWJsZSBJRCBmb3IgdGhlIGNvbnRleHQgc28gdGhhdCB0aGUgaXQgY2FuIHRyYWNrIGNvbnRleHRcbiAqIHByb3ZpZGVycyBhbmQgY29uc3VtZXJzIGluIGEgd2F5IHRoYXQgc3Vydml2ZXMgcmVzdW1hYmlsaXR5LlxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBgYGB0c3hcbiAqIC8vIERlY2xhcmUgdGhlIENvbnRleHQgdHlwZS5cbiAqIGludGVyZmFjZSBUb2Rvc1N0b3JlIHtcbiAqICAgaXRlbXM6IHN0cmluZ1tdO1xuICogfVxuICogLy8gQ3JlYXRlIGEgQ29udGV4dCBJRCAobm8gZGF0YSBpcyBzYXZlZCBoZXJlLilcbiAqIC8vIFlvdSB3aWxsIHVzZSB0aGlzIElEIHRvIGJvdGggY3JlYXRlIGFuZCByZXRyaWV2ZSB0aGUgQ29udGV4dC5cbiAqIGV4cG9ydCBjb25zdCBUb2Rvc0NvbnRleHQgPSBjcmVhdGVDb250ZXh0PFRvZG9zU3RvcmU+KCdUb2RvcycpO1xuICpcbiAqIC8vIEV4YW1wbGUgb2YgcHJvdmlkaW5nIGNvbnRleHQgdG8gY2hpbGQgY29tcG9uZW50cy5cbiAqIGV4cG9ydCBjb25zdCBBcHAgPSBjb21wb25lbnQkKCgpID0+IHtcbiAqICAgdXNlQ29udGV4dFByb3ZpZGVyKFxuICogICAgIFRvZG9zQ29udGV4dCxcbiAqICAgICB1c2VTdG9yZTxUb2Rvc1N0b3JlPih7XG4gKiAgICAgICBpdGVtczogWydMZWFybiBRd2lrJywgJ0J1aWxkIFF3aWsgYXBwJywgJ1Byb2ZpdCddLFxuICogICAgIH0pXG4gKiAgICk7XG4gKlxuICogICByZXR1cm4gPEl0ZW1zIC8+O1xuICogfSk7XG4gKlxuICogLy8gRXhhbXBsZSBvZiByZXRyaWV2aW5nIHRoZSBjb250ZXh0IHByb3ZpZGVkIGJ5IGEgcGFyZW50IGNvbXBvbmVudC5cbiAqIGV4cG9ydCBjb25zdCBJdGVtcyA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICogICBjb25zdCB0b2RvcyA9IHVzZUNvbnRleHQoVG9kb3NDb250ZXh0KTtcbiAqICAgcmV0dXJuIChcbiAqICAgICA8dWw+XG4gKiAgICAgICB7dG9kb3MuaXRlbXMubWFwKChpdGVtKSA9PiAoXG4gKiAgICAgICAgIDxsaT57aXRlbX08L2xpPlxuICogICAgICAgKSl9XG4gKiAgICAgPC91bD5cbiAqICAgKTtcbiAqIH0pO1xuICpcbiAqIGBgYFxuICogQGFscGhhXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBpbnRlcmZhY2UgQ29udGV4dDxTVEFURSBleHRlbmRzIG9iamVjdD4ge1xuICAvKipcbiAgICogRGVzaWduLXRpbWUgcHJvcGVydHkgdG8gc3RvcmUgdHlwZSBpbmZvcm1hdGlvbiBmb3IgdGhlIGNvbnRleHQuXG4gICAqL1xuICByZWFkb25seSBfX2JyYW5kX2NvbnRleHRfdHlwZV9fOiBTVEFURTtcbiAgLyoqXG4gICAqIEEgdW5pcXVlIElEIGZvciB0aGUgY29udGV4dC5cbiAgICovXG4gIHJlYWRvbmx5IGlkOiBzdHJpbmc7XG59XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi91c2UtY29udGV4dC5kb2NzLm1kI2NyZWF0ZUNvbnRleHRcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuL3VzZS1jb250ZXh0LmRvY3MubWQjY3JlYXRlQ29udGV4dCBpbnN0ZWFkKVxuLyoqXG4gKiBDcmVhdGUgYSBjb250ZXh0IElEIHRvIGJlIHVzZWQgaW4geW91ciBhcHBsaWNhdGlvbi5cbiAqXG4gKiBDb250ZXh0IGlzIGEgd2F5IHRvIHBhc3Mgc3RvcmVzIHRvIHRoZSBjaGlsZCBjb21wb25lbnRzIHdpdGhvdXQgcHJvcC1kcmlsbGluZy5cbiAqXG4gKiBVc2UgYGNyZWF0ZUNvbnRleHQoKWAgdG8gY3JlYXRlIGEgYENvbnRleHRgLiBgQ29udGV4dGAgaXMganVzdCBhIHNlcmlhbGl6YWJsZSBpZGVudGlmaWVyIGZvclxuICogdGhlIGNvbnRleHQuIEl0IGlzIG5vdCB0aGUgY29udGV4dCB2YWx1ZSBpdHNlbGYuIFNlZSBgdXNlQ29udGV4dFByb3ZpZGVyKClgIGFuZCBgdXNlQ29udGV4dCgpYFxuICogZm9yIHRoZSB2YWx1ZXMuIFF3aWsgbmVlZHMgYSBzZXJpYWxpemFibGUgSUQgZm9yIHRoZSBjb250ZXh0IHNvIHRoYXQgdGhlIGl0IGNhbiB0cmFjayBjb250ZXh0XG4gKiBwcm92aWRlcnMgYW5kIGNvbnN1bWVycyBpbiBhIHdheSB0aGF0IHN1cnZpdmVzIHJlc3VtYWJpbGl0eS5cbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogYGBgdHN4XG4gKiAvLyBEZWNsYXJlIHRoZSBDb250ZXh0IHR5cGUuXG4gKiBpbnRlcmZhY2UgVG9kb3NTdG9yZSB7XG4gKiAgIGl0ZW1zOiBzdHJpbmdbXTtcbiAqIH1cbiAqIC8vIENyZWF0ZSBhIENvbnRleHQgSUQgKG5vIGRhdGEgaXMgc2F2ZWQgaGVyZS4pXG4gKiAvLyBZb3Ugd2lsbCB1c2UgdGhpcyBJRCB0byBib3RoIGNyZWF0ZSBhbmQgcmV0cmlldmUgdGhlIENvbnRleHQuXG4gKiBleHBvcnQgY29uc3QgVG9kb3NDb250ZXh0ID0gY3JlYXRlQ29udGV4dDxUb2Rvc1N0b3JlPignVG9kb3MnKTtcbiAqXG4gKiAvLyBFeGFtcGxlIG9mIHByb3ZpZGluZyBjb250ZXh0IHRvIGNoaWxkIGNvbXBvbmVudHMuXG4gKiBleHBvcnQgY29uc3QgQXBwID0gY29tcG9uZW50JCgoKSA9PiB7XG4gKiAgIHVzZUNvbnRleHRQcm92aWRlcihcbiAqICAgICBUb2Rvc0NvbnRleHQsXG4gKiAgICAgdXNlU3RvcmU8VG9kb3NTdG9yZT4oe1xuICogICAgICAgaXRlbXM6IFsnTGVhcm4gUXdpaycsICdCdWlsZCBRd2lrIGFwcCcsICdQcm9maXQnXSxcbiAqICAgICB9KVxuICogICApO1xuICpcbiAqICAgcmV0dXJuIDxJdGVtcyAvPjtcbiAqIH0pO1xuICpcbiAqIC8vIEV4YW1wbGUgb2YgcmV0cmlldmluZyB0aGUgY29udGV4dCBwcm92aWRlZCBieSBhIHBhcmVudCBjb21wb25lbnQuXG4gKiBleHBvcnQgY29uc3QgSXRlbXMgPSBjb21wb25lbnQkKCgpID0+IHtcbiAqICAgY29uc3QgdG9kb3MgPSB1c2VDb250ZXh0KFRvZG9zQ29udGV4dCk7XG4gKiAgIHJldHVybiAoXG4gKiAgICAgPHVsPlxuICogICAgICAge3RvZG9zLml0ZW1zLm1hcCgoaXRlbSkgPT4gKFxuICogICAgICAgICA8bGk+e2l0ZW19PC9saT5cbiAqICAgICAgICkpfVxuICogICAgIDwvdWw+XG4gKiAgICk7XG4gKiB9KTtcbiAqXG4gKiBgYGBcbiAqIEBwYXJhbSBuYW1lIC0gVGhlIG5hbWUgb2YgdGhlIGNvbnRleHQuXG4gKiBAYWxwaGFcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGNvbnN0IGNyZWF0ZUNvbnRleHQgPSA8U1RBVEUgZXh0ZW5kcyBvYmplY3Q+KG5hbWU6IHN0cmluZyk6IENvbnRleHQ8U1RBVEU+ID0+IHtcbiAgcmV0dXJuIE9iamVjdC5mcmVlemUoe1xuICAgIGlkOiBmcm9tQ2FtZWxUb0tlYmFiQ2FzZShuYW1lKSxcbiAgfSBhcyBhbnkpO1xufTtcblxuLy8gPGRvY3MgbWFya2Rvd249XCIuL3VzZS1jb250ZXh0LmRvY3MubWQjdXNlQ29udGV4dFByb3ZpZGVyXCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi91c2UtY29udGV4dC5kb2NzLm1kI3VzZUNvbnRleHRQcm92aWRlciBpbnN0ZWFkKVxuLyoqXG4gKiBBc3NpZ24gYSB2YWx1ZSB0byBhIENvbnRleHQuXG4gKlxuICogVXNlIGB1c2VDb250ZXh0UHJvdmlkZXIoKWAgdG8gYXNzaWduIGEgdmFsdWUgdG8gYSBjb250ZXh0LiBUaGUgYXNzaWdubWVudCBoYXBwZW5zIGluIHRoZVxuICogY29tcG9uZW50J3MgZnVuY3Rpb24uIE9uY2UgYXNzaWduIHVzZSBgdXNlQ29udGV4dCgpYCBpbiBhbnkgY2hpbGQgY29tcG9uZW50IHRvIHJldHJpZXZlIHRoZVxuICogdmFsdWUuXG4gKlxuICogQ29udGV4dCBpcyBhIHdheSB0byBwYXNzIHN0b3JlcyB0byB0aGUgY2hpbGQgY29tcG9uZW50cyB3aXRob3V0IHByb3AtZHJpbGxpbmcuXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIGBgYHRzeFxuICogLy8gRGVjbGFyZSB0aGUgQ29udGV4dCB0eXBlLlxuICogaW50ZXJmYWNlIFRvZG9zU3RvcmUge1xuICogICBpdGVtczogc3RyaW5nW107XG4gKiB9XG4gKiAvLyBDcmVhdGUgYSBDb250ZXh0IElEIChubyBkYXRhIGlzIHNhdmVkIGhlcmUuKVxuICogLy8gWW91IHdpbGwgdXNlIHRoaXMgSUQgdG8gYm90aCBjcmVhdGUgYW5kIHJldHJpZXZlIHRoZSBDb250ZXh0LlxuICogZXhwb3J0IGNvbnN0IFRvZG9zQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQ8VG9kb3NTdG9yZT4oJ1RvZG9zJyk7XG4gKlxuICogLy8gRXhhbXBsZSBvZiBwcm92aWRpbmcgY29udGV4dCB0byBjaGlsZCBjb21wb25lbnRzLlxuICogZXhwb3J0IGNvbnN0IEFwcCA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICogICB1c2VDb250ZXh0UHJvdmlkZXIoXG4gKiAgICAgVG9kb3NDb250ZXh0LFxuICogICAgIHVzZVN0b3JlPFRvZG9zU3RvcmU+KHtcbiAqICAgICAgIGl0ZW1zOiBbJ0xlYXJuIFF3aWsnLCAnQnVpbGQgUXdpayBhcHAnLCAnUHJvZml0J10sXG4gKiAgICAgfSlcbiAqICAgKTtcbiAqXG4gKiAgIHJldHVybiA8SXRlbXMgLz47XG4gKiB9KTtcbiAqXG4gKiAvLyBFeGFtcGxlIG9mIHJldHJpZXZpbmcgdGhlIGNvbnRleHQgcHJvdmlkZWQgYnkgYSBwYXJlbnQgY29tcG9uZW50LlxuICogZXhwb3J0IGNvbnN0IEl0ZW1zID0gY29tcG9uZW50JCgoKSA9PiB7XG4gKiAgIGNvbnN0IHRvZG9zID0gdXNlQ29udGV4dChUb2Rvc0NvbnRleHQpO1xuICogICByZXR1cm4gKFxuICogICAgIDx1bD5cbiAqICAgICAgIHt0b2Rvcy5pdGVtcy5tYXAoKGl0ZW0pID0+IChcbiAqICAgICAgICAgPGxpPntpdGVtfTwvbGk+XG4gKiAgICAgICApKX1cbiAqICAgICA8L3VsPlxuICogICApO1xuICogfSk7XG4gKlxuICogYGBgXG4gKiBAcGFyYW0gY29udGV4dCAtIFRoZSBjb250ZXh0IHRvIGFzc2lnbiBhIHZhbHVlIHRvLlxuICogQHBhcmFtIHZhbHVlIC0gVGhlIHZhbHVlIHRvIGFzc2lnbiB0byB0aGUgY29udGV4dC5cbiAqIEBhbHBoYVxuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgY29uc3QgdXNlQ29udGV4dFByb3ZpZGVyID0gPFNUQVRFIGV4dGVuZHMgb2JqZWN0PihcbiAgY29udGV4dDogQ29udGV4dDxTVEFURT4sXG4gIG5ld1ZhbHVlOiBTVEFURVxuKSA9PiB7XG4gIGNvbnN0IHsgZ2V0LCBzZXQsIGN0eCB9ID0gdXNlU2VxdWVudGlhbFNjb3BlPGJvb2xlYW4+KCk7XG4gIGlmIChnZXQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgaG9zdEVsZW1lbnQgPSBjdHguJGhvc3RFbGVtZW50JCE7XG4gIGNvbnN0IHJlbmRlckN0eCA9IGN0eC4kcmVuZGVyQ3R4JCE7XG4gIGNvbnN0IGhvc3RDdHggPSBnZXRDb250ZXh0KGhvc3RFbGVtZW50KTtcbiAgbGV0IGNvbnRleHRzID0gaG9zdEN0eC4kY29udGV4dHMkO1xuICBpZiAoIWNvbnRleHRzKSB7XG4gICAgaG9zdEN0eC4kY29udGV4dHMkID0gY29udGV4dHMgPSBuZXcgTWFwKCk7XG4gIH1cbiAgaWYgKHFEZXYpIHtcbiAgICB2ZXJpZnlTZXJpYWxpemFibGUobmV3VmFsdWUpO1xuICB9XG4gIGNvbnRleHRzLnNldChjb250ZXh0LmlkLCBuZXdWYWx1ZSk7XG5cbiAgY29uc3Qgc2VyaWFsaXplZENvbnRleHRzOiBzdHJpbmdbXSA9IFtdO1xuICBjb250ZXh0cy5mb3JFYWNoKChfLCBrZXkpID0+IHtcbiAgICBzZXJpYWxpemVkQ29udGV4dHMucHVzaChgJHtrZXl9YCk7XG4gIH0pO1xuICBzZXRBdHRyaWJ1dGUocmVuZGVyQ3R4LCBob3N0RWxlbWVudCwgUUN0eEF0dHIsIHNlcmlhbGl6ZWRDb250ZXh0cy5qb2luKCcgJykpO1xuICBzZXQodHJ1ZSk7XG59O1xuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4vdXNlLWNvbnRleHQuZG9jcy5tZCN1c2VDb250ZXh0XCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi91c2UtY29udGV4dC5kb2NzLm1kI3VzZUNvbnRleHQgaW5zdGVhZClcbi8qKlxuICogUmV0cml2ZSBDb250ZXh0IHZhbHVlLlxuICpcbiAqIFVzZSBgdXNlQ29udGV4dCgpYCB0byByZXRyaWV2ZSB0aGUgdmFsdWUgb2YgY29udGV4dCBpbiBhIGNvbXBvbmVudC4gVG8gcmV0cmlldmUgYSB2YWx1ZSBhXG4gKiBwYXJlbnQgY29tcG9uZW50IG5lZWRzIHRvIGludm9rZSBgdXNlQ29udGV4dFByb3ZpZGVyKClgIHRvIGFzc2lnbiBhIHZhbHVlLlxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBgYGB0c3hcbiAqIC8vIERlY2xhcmUgdGhlIENvbnRleHQgdHlwZS5cbiAqIGludGVyZmFjZSBUb2Rvc1N0b3JlIHtcbiAqICAgaXRlbXM6IHN0cmluZ1tdO1xuICogfVxuICogLy8gQ3JlYXRlIGEgQ29udGV4dCBJRCAobm8gZGF0YSBpcyBzYXZlZCBoZXJlLilcbiAqIC8vIFlvdSB3aWxsIHVzZSB0aGlzIElEIHRvIGJvdGggY3JlYXRlIGFuZCByZXRyaWV2ZSB0aGUgQ29udGV4dC5cbiAqIGV4cG9ydCBjb25zdCBUb2Rvc0NvbnRleHQgPSBjcmVhdGVDb250ZXh0PFRvZG9zU3RvcmU+KCdUb2RvcycpO1xuICpcbiAqIC8vIEV4YW1wbGUgb2YgcHJvdmlkaW5nIGNvbnRleHQgdG8gY2hpbGQgY29tcG9uZW50cy5cbiAqIGV4cG9ydCBjb25zdCBBcHAgPSBjb21wb25lbnQkKCgpID0+IHtcbiAqICAgdXNlQ29udGV4dFByb3ZpZGVyKFxuICogICAgIFRvZG9zQ29udGV4dCxcbiAqICAgICB1c2VTdG9yZTxUb2Rvc1N0b3JlPih7XG4gKiAgICAgICBpdGVtczogWydMZWFybiBRd2lrJywgJ0J1aWxkIFF3aWsgYXBwJywgJ1Byb2ZpdCddLFxuICogICAgIH0pXG4gKiAgICk7XG4gKlxuICogICByZXR1cm4gPEl0ZW1zIC8+O1xuICogfSk7XG4gKlxuICogLy8gRXhhbXBsZSBvZiByZXRyaWV2aW5nIHRoZSBjb250ZXh0IHByb3ZpZGVkIGJ5IGEgcGFyZW50IGNvbXBvbmVudC5cbiAqIGV4cG9ydCBjb25zdCBJdGVtcyA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICogICBjb25zdCB0b2RvcyA9IHVzZUNvbnRleHQoVG9kb3NDb250ZXh0KTtcbiAqICAgcmV0dXJuIChcbiAqICAgICA8dWw+XG4gKiAgICAgICB7dG9kb3MuaXRlbXMubWFwKChpdGVtKSA9PiAoXG4gKiAgICAgICAgIDxsaT57aXRlbX08L2xpPlxuICogICAgICAgKSl9XG4gKiAgICAgPC91bD5cbiAqICAgKTtcbiAqIH0pO1xuICpcbiAqIGBgYFxuICogQHBhcmFtIGNvbnRleHQgLSBUaGUgY29udGV4dCB0byByZXRyaWV2ZSBhIHZhbHVlIGZyb20uXG4gKiBAYWxwaGFcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGNvbnN0IHVzZUNvbnRleHQgPSA8U1RBVEUgZXh0ZW5kcyBvYmplY3Q+KGNvbnRleHQ6IENvbnRleHQ8U1RBVEU+KTogU1RBVEUgPT4ge1xuICBjb25zdCB7IGdldCwgc2V0LCBjdHggfSA9IHVzZVNlcXVlbnRpYWxTY29wZTxTVEFURT4oKTtcbiAgaWYgKGdldCkge1xuICAgIHJldHVybiBnZXQ7XG4gIH1cbiAgbGV0IGhvc3RFbGVtZW50ID0gY3R4LiRob3N0RWxlbWVudCQ7XG4gIGNvbnN0IGNvbnRleHRzID0gY3R4LiRyZW5kZXJDdHgkLiRjb250ZXh0cyQ7XG4gIGZvciAobGV0IGkgPSBjb250ZXh0cy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIGNvbnN0IGN0eCA9IGNvbnRleHRzW2ldO1xuICAgIGhvc3RFbGVtZW50ID0gY3R4LiRlbGVtZW50JDtcbiAgICBpZiAoY3R4LiRjb250ZXh0cyQpIHtcbiAgICAgIGNvbnN0IGZvdW5kID0gY3R4LiRjb250ZXh0cyQuZ2V0KGNvbnRleHQuaWQpO1xuICAgICAgaWYgKGZvdW5kKSB7XG4gICAgICAgIHNldChmb3VuZCk7XG4gICAgICAgIHJldHVybiBmb3VuZDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgY29uc3QgZm91bmRFbCA9IGhvc3RFbGVtZW50LmNsb3Nlc3QoYFtxXFxcXDpjdHgqPVwiJHtjb250ZXh0LmlkfVwiXWApO1xuICBpZiAoZm91bmRFbCkge1xuICAgIGNvbnN0IHZhbHVlID0gZ2V0Q29udGV4dChmb3VuZEVsKS4kY29udGV4dHMkIS5nZXQoY29udGV4dC5pZCk7XG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICBzZXQodmFsdWUpO1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgfVxuICB0aHJvdyBxRXJyb3IoUUVycm9yX25vdEZvdW5kQ29udGV4dCwgY29udGV4dC5pZCk7XG59O1xuIl19","import { styleKey } from '../component/qrl-styles';\nimport { appendStyle, hasStyle } from '../render/cursor';\nimport { directSetAttribute } from '../render/fast-calls';\nimport { ComponentScopedStyles } from '../util/markers';\nimport { useSequentialScope } from './use-store.public';\nimport { implicit$FirstArg } from '../util/implicit_dollar';\n// <docs markdown=\"../readme.md#useStyles\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useStyles instead)\n/**\n * A lazy-loadable reference to a component's styles.\n *\n * Component styles allow Qwik to lazy load the style information for the component only when\n * needed. (And avoid double loading it in case of SSR hydration.)\n *\n * ```tsx\n * import styles from './code-block.css?inline';\n *\n * export const CmpStyles = component$(() => {\n *   useStyles$(styles);\n *\n *   return <Host>Some text</Host>;\n * });\n * ```\n *\n * @see `useScopedStyles`.\n *\n * @public\n */\n// </docs>\nexport const useStylesQrl = (styles) => {\n    _useStyles(styles, false);\n};\n// <docs markdown=\"../readme.md#useStyles\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useStyles instead)\n/**\n * A lazy-loadable reference to a component's styles.\n *\n * Component styles allow Qwik to lazy load the style information for the component only when\n * needed. (And avoid double loading it in case of SSR hydration.)\n *\n * ```tsx\n * import styles from './code-block.css?inline';\n *\n * export const CmpStyles = component$(() => {\n *   useStyles$(styles);\n *\n *   return <Host>Some text</Host>;\n * });\n * ```\n *\n * @see `useScopedStyles`.\n *\n * @public\n */\n// </docs>\nexport const useStyles$ = /*#__PURE__*/ implicit$FirstArg(useStylesQrl);\n// <docs markdown=\"../readme.md#useScopedStyles\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useScopedStyles instead)\n/**\n * @see `useStyles`.\n *\n * @alpha\n */\n// </docs>\nexport const useScopedStylesQrl = (styles) => {\n    _useStyles(styles, true);\n};\n// <docs markdown=\"../readme.md#useScopedStyles\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useScopedStyles instead)\n/**\n * @see `useStyles`.\n *\n * @alpha\n */\n// </docs>\nexport const useScopedStyles$ = /*#__PURE__*/ implicit$FirstArg(useScopedStylesQrl);\nconst _useStyles = (styleQrl, scoped) => {\n    const { get, set, ctx, i } = useSequentialScope();\n    if (get === true) {\n        return;\n    }\n    set(true);\n    const renderCtx = ctx.$renderCtx$;\n    const styleId = styleKey(styleQrl, i);\n    const hostElement = ctx.$hostElement$;\n    if (scoped) {\n        directSetAttribute(hostElement, ComponentScopedStyles, styleId);\n    }\n    if (!hasStyle(renderCtx, styleId)) {\n        ctx.$waitOn$.push(styleQrl.resolve(hostElement).then((styleText) => {\n            if (!hasStyle(renderCtx, styleId)) {\n                appendStyle(renderCtx, hostElement, {\n                    type: 'style',\n                    styleId,\n                    content: scoped ? styleText.replace(/ÔøΩ/g, styleId) : styleText,\n                });\n            }\n        }));\n    }\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLXN0eWxlcy5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS91c2UvdXNlLXN0eWxlcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0seUJBQXlCLENBQUM7QUFFbkQsT0FBTyxFQUFFLFdBQVcsRUFBRSxRQUFRLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUN6RCxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUMxRCxPQUFPLEVBQUUscUJBQXFCLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUN4RCxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUN4RCxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSx5QkFBeUIsQ0FBQztBQUU1RCwyQ0FBMkM7QUFDM0MseUNBQXlDO0FBQ3pDLHdDQUF3QztBQUN4Qzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQW1CRztBQUNILFVBQVU7QUFDVixNQUFNLENBQUMsTUFBTSxZQUFZLEdBQUcsQ0FBQyxNQUFtQixFQUFRLEVBQUU7SUFDeEQsVUFBVSxDQUFDLE1BQU0sRUFBRSxLQUFLLENBQUMsQ0FBQztBQUM1QixDQUFDLENBQUM7QUFFRiwyQ0FBMkM7QUFDM0MseUNBQXlDO0FBQ3pDLHdDQUF3QztBQUN4Qzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQW1CRztBQUNILFVBQVU7QUFDVixNQUFNLENBQUMsTUFBTSxVQUFVLEdBQUcsYUFBYSxDQUFDLGlCQUFpQixDQUFDLFlBQVksQ0FBQyxDQUFDO0FBRXhFLGlEQUFpRDtBQUNqRCx5Q0FBeUM7QUFDekMsOENBQThDO0FBQzlDOzs7O0dBSUc7QUFDSCxVQUFVO0FBQ1YsTUFBTSxDQUFDLE1BQU0sa0JBQWtCLEdBQUcsQ0FBQyxNQUFtQixFQUFRLEVBQUU7SUFDOUQsVUFBVSxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsQ0FBQztBQUMzQixDQUFDLENBQUM7QUFFRixpREFBaUQ7QUFDakQseUNBQXlDO0FBQ3pDLDhDQUE4QztBQUM5Qzs7OztHQUlHO0FBQ0gsVUFBVTtBQUNWLE1BQU0sQ0FBQyxNQUFNLGdCQUFnQixHQUFHLGFBQWEsQ0FBQyxpQkFBaUIsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO0FBRXBGLE1BQU0sVUFBVSxHQUFHLENBQUMsUUFBcUIsRUFBRSxNQUFlLEVBQUUsRUFBRTtJQUM1RCxNQUFNLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEdBQUcsa0JBQWtCLEVBQVcsQ0FBQztJQUMzRCxJQUFJLEdBQUcsS0FBSyxJQUFJLEVBQUU7UUFDaEIsT0FBTztLQUNSO0lBQ0QsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ1YsTUFBTSxTQUFTLEdBQUcsR0FBRyxDQUFDLFdBQVcsQ0FBQztJQUNsQyxNQUFNLE9BQU8sR0FBRyxRQUFRLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3RDLE1BQU0sV0FBVyxHQUFHLEdBQUcsQ0FBQyxhQUFhLENBQUM7SUFDdEMsSUFBSSxNQUFNLEVBQUU7UUFDVixrQkFBa0IsQ0FBQyxXQUFXLEVBQUUscUJBQXFCLEVBQUUsT0FBTyxDQUFDLENBQUM7S0FDakU7SUFFRCxJQUFJLENBQUMsUUFBUSxDQUFDLFNBQVMsRUFBRSxPQUFPLENBQUMsRUFBRTtRQUNqQyxHQUFHLENBQUMsUUFBUSxDQUFDLElBQUksQ0FDZixRQUFRLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLFNBQVMsRUFBRSxFQUFFO1lBQy9DLElBQUksQ0FBQyxRQUFRLENBQUMsU0FBUyxFQUFFLE9BQU8sQ0FBQyxFQUFFO2dCQUNqQyxXQUFXLENBQUMsU0FBUyxFQUFFLFdBQVcsRUFBRTtvQkFDbEMsSUFBSSxFQUFFLE9BQU87b0JBQ2IsT0FBTztvQkFDUCxPQUFPLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUztpQkFDL0QsQ0FBQyxDQUFDO2FBQ0o7UUFDSCxDQUFDLENBQUMsQ0FDSCxDQUFDO0tBQ0g7QUFDSCxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzdHlsZUtleSB9IGZyb20gJy4uL2NvbXBvbmVudC9xcmwtc3R5bGVzJztcbmltcG9ydCB0eXBlIHsgUVJMIH0gZnJvbSAnLi4vaW1wb3J0L3FybC5wdWJsaWMnO1xuaW1wb3J0IHsgYXBwZW5kU3R5bGUsIGhhc1N0eWxlIH0gZnJvbSAnLi4vcmVuZGVyL2N1cnNvcic7XG5pbXBvcnQgeyBkaXJlY3RTZXRBdHRyaWJ1dGUgfSBmcm9tICcuLi9yZW5kZXIvZmFzdC1jYWxscyc7XG5pbXBvcnQgeyBDb21wb25lbnRTY29wZWRTdHlsZXMgfSBmcm9tICcuLi91dGlsL21hcmtlcnMnO1xuaW1wb3J0IHsgdXNlU2VxdWVudGlhbFNjb3BlIH0gZnJvbSAnLi91c2Utc3RvcmUucHVibGljJztcbmltcG9ydCB7IGltcGxpY2l0JEZpcnN0QXJnIH0gZnJvbSAnLi4vdXRpbC9pbXBsaWNpdF9kb2xsYXInO1xuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4uL3JlYWRtZS5tZCN1c2VTdHlsZXNcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjdXNlU3R5bGVzIGluc3RlYWQpXG4vKipcbiAqIEEgbGF6eS1sb2FkYWJsZSByZWZlcmVuY2UgdG8gYSBjb21wb25lbnQncyBzdHlsZXMuXG4gKlxuICogQ29tcG9uZW50IHN0eWxlcyBhbGxvdyBRd2lrIHRvIGxhenkgbG9hZCB0aGUgc3R5bGUgaW5mb3JtYXRpb24gZm9yIHRoZSBjb21wb25lbnQgb25seSB3aGVuXG4gKiBuZWVkZWQuIChBbmQgYXZvaWQgZG91YmxlIGxvYWRpbmcgaXQgaW4gY2FzZSBvZiBTU1IgaHlkcmF0aW9uLilcbiAqXG4gKiBgYGB0c3hcbiAqIGltcG9ydCBzdHlsZXMgZnJvbSAnLi9jb2RlLWJsb2NrLmNzcz9pbmxpbmUnO1xuICpcbiAqIGV4cG9ydCBjb25zdCBDbXBTdHlsZXMgPSBjb21wb25lbnQkKCgpID0+IHtcbiAqICAgdXNlU3R5bGVzJChzdHlsZXMpO1xuICpcbiAqICAgcmV0dXJuIDxIb3N0PlNvbWUgdGV4dDwvSG9zdD47XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBzZWUgYHVzZVNjb3BlZFN0eWxlc2AuXG4gKlxuICogQHB1YmxpY1xuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgY29uc3QgdXNlU3R5bGVzUXJsID0gKHN0eWxlczogUVJMPHN0cmluZz4pOiB2b2lkID0+IHtcbiAgX3VzZVN0eWxlcyhzdHlsZXMsIGZhbHNlKTtcbn07XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kI3VzZVN0eWxlc1wiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IC4uL3JlYWRtZS5tZCN1c2VTdHlsZXMgaW5zdGVhZClcbi8qKlxuICogQSBsYXp5LWxvYWRhYmxlIHJlZmVyZW5jZSB0byBhIGNvbXBvbmVudCdzIHN0eWxlcy5cbiAqXG4gKiBDb21wb25lbnQgc3R5bGVzIGFsbG93IFF3aWsgdG8gbGF6eSBsb2FkIHRoZSBzdHlsZSBpbmZvcm1hdGlvbiBmb3IgdGhlIGNvbXBvbmVudCBvbmx5IHdoZW5cbiAqIG5lZWRlZC4gKEFuZCBhdm9pZCBkb3VibGUgbG9hZGluZyBpdCBpbiBjYXNlIG9mIFNTUiBoeWRyYXRpb24uKVxuICpcbiAqIGBgYHRzeFxuICogaW1wb3J0IHN0eWxlcyBmcm9tICcuL2NvZGUtYmxvY2suY3NzP2lubGluZSc7XG4gKlxuICogZXhwb3J0IGNvbnN0IENtcFN0eWxlcyA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICogICB1c2VTdHlsZXMkKHN0eWxlcyk7XG4gKlxuICogICByZXR1cm4gPEhvc3Q+U29tZSB0ZXh0PC9Ib3N0PjtcbiAqIH0pO1xuICogYGBgXG4gKlxuICogQHNlZSBgdXNlU2NvcGVkU3R5bGVzYC5cbiAqXG4gKiBAcHVibGljXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBjb25zdCB1c2VTdHlsZXMkID0gLyojX19QVVJFX18qLyBpbXBsaWNpdCRGaXJzdEFyZyh1c2VTdHlsZXNRcmwpO1xuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4uL3JlYWRtZS5tZCN1c2VTY29wZWRTdHlsZXNcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjdXNlU2NvcGVkU3R5bGVzIGluc3RlYWQpXG4vKipcbiAqIEBzZWUgYHVzZVN0eWxlc2AuXG4gKlxuICogQGFscGhhXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBjb25zdCB1c2VTY29wZWRTdHlsZXNRcmwgPSAoc3R5bGVzOiBRUkw8c3RyaW5nPik6IHZvaWQgPT4ge1xuICBfdXNlU3R5bGVzKHN0eWxlcywgdHJ1ZSk7XG59O1xuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4uL3JlYWRtZS5tZCN1c2VTY29wZWRTdHlsZXNcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjdXNlU2NvcGVkU3R5bGVzIGluc3RlYWQpXG4vKipcbiAqIEBzZWUgYHVzZVN0eWxlc2AuXG4gKlxuICogQGFscGhhXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBjb25zdCB1c2VTY29wZWRTdHlsZXMkID0gLyojX19QVVJFX18qLyBpbXBsaWNpdCRGaXJzdEFyZyh1c2VTY29wZWRTdHlsZXNRcmwpO1xuXG5jb25zdCBfdXNlU3R5bGVzID0gKHN0eWxlUXJsOiBRUkw8c3RyaW5nPiwgc2NvcGVkOiBib29sZWFuKSA9PiB7XG4gIGNvbnN0IHsgZ2V0LCBzZXQsIGN0eCwgaSB9ID0gdXNlU2VxdWVudGlhbFNjb3BlPGJvb2xlYW4+KCk7XG4gIGlmIChnZXQgPT09IHRydWUpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgc2V0KHRydWUpO1xuICBjb25zdCByZW5kZXJDdHggPSBjdHguJHJlbmRlckN0eCQ7XG4gIGNvbnN0IHN0eWxlSWQgPSBzdHlsZUtleShzdHlsZVFybCwgaSk7XG4gIGNvbnN0IGhvc3RFbGVtZW50ID0gY3R4LiRob3N0RWxlbWVudCQ7XG4gIGlmIChzY29wZWQpIHtcbiAgICBkaXJlY3RTZXRBdHRyaWJ1dGUoaG9zdEVsZW1lbnQsIENvbXBvbmVudFNjb3BlZFN0eWxlcywgc3R5bGVJZCk7XG4gIH1cblxuICBpZiAoIWhhc1N0eWxlKHJlbmRlckN0eCwgc3R5bGVJZCkpIHtcbiAgICBjdHguJHdhaXRPbiQucHVzaChcbiAgICAgIHN0eWxlUXJsLnJlc29sdmUoaG9zdEVsZW1lbnQpLnRoZW4oKHN0eWxlVGV4dCkgPT4ge1xuICAgICAgICBpZiAoIWhhc1N0eWxlKHJlbmRlckN0eCwgc3R5bGVJZCkpIHtcbiAgICAgICAgICBhcHBlbmRTdHlsZShyZW5kZXJDdHgsIGhvc3RFbGVtZW50LCB7XG4gICAgICAgICAgICB0eXBlOiAnc3R5bGUnLFxuICAgICAgICAgICAgc3R5bGVJZCxcbiAgICAgICAgICAgIGNvbnRlbnQ6IHNjb3BlZCA/IHN0eWxlVGV4dC5yZXBsYWNlKC/vv70vZywgc3R5bGVJZCkgOiBzdHlsZVRleHQsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgKTtcbiAgfVxufTtcbiJdfQ=="],"names":["isElement","isNode"],"mappings":"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A;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;AACY,UAAC,UAAU,iBAAiB,iBAAiB,CAAC,YAAY,EAAE;IACxE;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACO,MAAM,aAAa,GAAG,CAAC,QAAQ,KAAK,KAAK,CAAC,UAAU,EAAE,QAAQ,CAAC,CAAC;IAgCvE;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;AACY,UAAC,KAAK,GAAG,CAAC,KAAK,EAAE,QAAQ,KAAK,MAAM,CAAC,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC,EAAE,QAAQ,EAAE;IAC1E;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;AACY,UAAC,aAAa,GAAG,CAAC,KAAK,EAAE,QAAQ,KAAK,MAAM,CAAC,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC,EAAE,QAAQ,EAAE;IACzF;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;AACY,UAAC,WAAW,GAAG,CAAC,KAAK,EAAE,QAAQ,KAAK,MAAM,CAAC,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC,EAAE,QAAQ,EAAE;IACvF,MAAM,MAAM,GAAG,CAAC,SAAS,EAAE,QAAQ,KAAK;IACxC,IAAI,MAAM,SAAS,GAAG,gBAAgB,EAAE,CAAC;IACzC,IAAI,MAAM,GAAG,GAAG,UAAU,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC;IACpD,IAAI,SAAS,CAAC,QAA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;IACA;IACA;IACA;IACA;AACY,UAAC,CAAC,GAAG,CAAC,UAAU,KAAK;IACjC,IAAI,OAAO,UAAU,CAAC,UAAU,CAAC,CAAC;IAClC;;IC7EA,MAAM,iBAAiB,GAAG,CAAC,MAAM,EAAE,MAAM,EAAE,MAAM,CAAC,CAAC;IACnD;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;AACY,UAAC,YAAY,GAAG,CAAC,WAAW,EAAE,OAAO,GAAG,EAAE,KAAK;IAC3D,IAAI,MAAM,OAAO,GAAG,OAAO,CAAC,OAAO,IAAI,KAAK,CAAC;IAC7C,IAAI,MAAM,OAAO,GAAG,iBAAiB,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;IACxD;IACA,IAAI,OAAO,SAAS,gBAAgB,CAAC,KAAK,EAAE,GAAG,EAAE;IACjD,QAAQ,MAAM,QAAQ,GAAG,OAAO,GAAG,SAAS,GAAG,WAAW,CAAC,OAAO,EAAE,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,EAAE,CAAC,CAAC;IAC9F,QAAQ,OAAO,GAAG,CAAC,OAAO,EAAE,EAAE,CAAC,YAAY,GAAG,WAAW,EAAE,GAAG,KAAK,EAAE,EAAE,QAAQ,CAAC,CAAC;IACjF,KAAK,CAAC;IACN,EAAE;IACF;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;AACY,UAAC,UAAU,GA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"}