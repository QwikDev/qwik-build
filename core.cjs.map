{"version":3,"file":"core.cjs","sources":["../../../dist-dev/tsc-out/packages/qwik/src/core/shared/utils/qdev.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/utils/log.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/error/assert.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/error/error.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/platform/platform.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/utils/element.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/utils/promises.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/utils/types.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/types.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/utils/markers.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-locale.js","../../../dist-dev/tsc-out/packages/qwik/src/server/prefetch-strategy.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/utils/flyweight.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/qrl/qrl.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/jsx/slot.public.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/jsx/utils.public.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/utils/async-generator.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/utils/event-names.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/utils/unitless_number.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/utils/hash_code.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/utils/styles.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/utils/scoped-styles.js","../../../dist-dev/tsc-out/packages/qwik/src/core/signal/store.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-sequential-scope.js","../../../dist-dev/tsc-out/packages/qwik/src/core/signal/signal-subscriber.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-resource.js","../../../dist-dev/tsc-out/packages/qwik/src/core/client/types.js","../../../dist-dev/tsc-out/packages/qwik/src/core/client/vnode-namespace.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-on.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/component-execution.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/utils/prop.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/utils/character-escaping.js","../../../dist-dev/tsc-out/packages/qwik/src/core/client/vnode-diff.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/qrl/implicit_dollar.js","../../../dist-dev/tsc-out/packages/qwik/src/core/signal/signal-api.js","../../../dist-dev/tsc-out/packages/qwik/src/core/signal/signal.public.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/scheduler.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-lexical-scope.public.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-task.js","../../../dist-dev/tsc-out/packages/qwik/src/core/signal/signal.js","../../../dist-dev/tsc-out/packages/qwik/src/core/ssr/ssr-render-component.js","../../../dist-dev/tsc-out/packages/qwik/src/core/ssr/ssr-render-jsx.js","../../../dist-dev/tsc-out/packages/qwik/src/core/version.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/shared-container.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/utils/constants.js","../../../dist-dev/tsc-out/packages/qwik/src/core/signal/signal-utils.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/qrl/inlined-fn.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared-types.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/jsx/jsx-runtime.js","../../../dist-dev/tsc-out/packages/qwik/src/core/debug.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/vnode-data-types.js","../../../dist-dev/tsc-out/packages/qwik/src/core/client/vnode.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-core.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-context.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/error/error-handling.js","../../../dist-dev/tsc-out/packages/qwik/src/core/client/process-vnode-data.js","../../../dist-dev/tsc-out/packages/qwik/src/core/client/dom-container.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/shared-serialization.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/utils/serialize-utils.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/qrl/qrl-class.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/qrl/qrl.public.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/component.public.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/qrl/qrl.public.dollar.js","../../../dist-dev/tsc-out/packages/qwik/src/core/client/dom-render.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-store.public.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/utils/unique-index-generator.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-id.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-env-data.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/utils/scoped-stylesheet.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-styles.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-signal.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-computed.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-visible-task.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-resource-dollar.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-task-dollar.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-visible-task-dollar.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-computed-dollar.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-error-boundary.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/prefetch-service-worker/prefetch.js"],"sourcesContent":["// same as isDev but separate so we can test\nexport const qDev = globalThis.qDev !== false;\nexport const qInspector = globalThis.qInspector === true;\nexport const qSerialize = globalThis.qSerialize !== false;\nexport const qDynamicPlatform = globalThis.qDynamicPlatform !== false;\nexport const qTest = globalThis.qTest === true;\nexport const qRuntimeQrl = globalThis.qRuntimeQrl === true;\nexport const seal = (obj) => {\n    if (qDev) {\n        Object.seal(obj);\n    }\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicWRldi5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9zaGFyZWQvdXRpbHMvcWRldi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSw0Q0FBNEM7QUFDNUMsTUFBTSxDQUFDLE1BQU0sSUFBSSxHQUFHLFVBQVUsQ0FBQyxJQUFJLEtBQUssS0FBSyxDQUFDO0FBQzlDLE1BQU0sQ0FBQyxNQUFNLFVBQVUsR0FBRyxVQUFVLENBQUMsVUFBVSxLQUFLLElBQUksQ0FBQztBQUN6RCxNQUFNLENBQUMsTUFBTSxVQUFVLEdBQUcsVUFBVSxDQUFDLFVBQVUsS0FBSyxLQUFLLENBQUM7QUFDMUQsTUFBTSxDQUFDLE1BQU0sZ0JBQWdCLEdBQUcsVUFBVSxDQUFDLGdCQUFnQixLQUFLLEtBQUssQ0FBQztBQUN0RSxNQUFNLENBQUMsTUFBTSxLQUFLLEdBQUcsVUFBVSxDQUFDLEtBQUssS0FBSyxJQUFJLENBQUM7QUFDL0MsTUFBTSxDQUFDLE1BQU0sV0FBVyxHQUFHLFVBQVUsQ0FBQyxXQUFXLEtBQUssSUFBSSxDQUFDO0FBRTNELE1BQU0sQ0FBQyxNQUFNLElBQUksR0FBRyxDQUFDLEdBQVEsRUFBRSxFQUFFO0lBQy9CLElBQUksSUFBSSxFQUFFLENBQUM7UUFDVCxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ25CLENBQUM7QUFDSCxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzYW1lIGFzIGlzRGV2IGJ1dCBzZXBhcmF0ZSBzbyB3ZSBjYW4gdGVzdFxuZXhwb3J0IGNvbnN0IHFEZXYgPSBnbG9iYWxUaGlzLnFEZXYgIT09IGZhbHNlO1xuZXhwb3J0IGNvbnN0IHFJbnNwZWN0b3IgPSBnbG9iYWxUaGlzLnFJbnNwZWN0b3IgPT09IHRydWU7XG5leHBvcnQgY29uc3QgcVNlcmlhbGl6ZSA9IGdsb2JhbFRoaXMucVNlcmlhbGl6ZSAhPT0gZmFsc2U7XG5leHBvcnQgY29uc3QgcUR5bmFtaWNQbGF0Zm9ybSA9IGdsb2JhbFRoaXMucUR5bmFtaWNQbGF0Zm9ybSAhPT0gZmFsc2U7XG5leHBvcnQgY29uc3QgcVRlc3QgPSBnbG9iYWxUaGlzLnFUZXN0ID09PSB0cnVlO1xuZXhwb3J0IGNvbnN0IHFSdW50aW1lUXJsID0gZ2xvYmFsVGhpcy5xUnVudGltZVFybCA9PT0gdHJ1ZTtcblxuZXhwb3J0IGNvbnN0IHNlYWwgPSAob2JqOiBhbnkpID0+IHtcbiAgaWYgKHFEZXYpIHtcbiAgICBPYmplY3Quc2VhbChvYmopO1xuICB9XG59O1xuXG5kZWNsYXJlIGNvbnN0IGdsb2JhbFRoaXM6IGFueTtcbiJdfQ==","import { qDev, qTest } from './qdev';\nconst STYLE = qDev\n    ? `background: #564CE0; color: white; padding: 2px 3px; border-radius: 2px; font-size: 0.8em;`\n    : '';\nexport const logError = (message, ...optionalParams) => {\n    return createAndLogError(false, message, ...optionalParams);\n};\nexport const throwErrorAndStop = (message, ...optionalParams) => {\n    const error = createAndLogError(false, message, ...optionalParams);\n    // eslint-disable-next-line no-debugger\n    debugger;\n    throw error;\n};\nexport const logErrorAndStop = (message, ...optionalParams) => {\n    const err = createAndLogError(true, message, ...optionalParams);\n    // eslint-disable-next-line no-debugger\n    debugger;\n    return err;\n};\nconst _printed = /*#__PURE__*/ new Set();\nexport const logOnceWarn = (message, ...optionalParams) => {\n    if (qDev) {\n        const key = 'warn' + String(message);\n        if (!_printed.has(key)) {\n            _printed.add(key);\n            logWarn(message, ...optionalParams);\n        }\n    }\n};\nexport const logWarn = (message, ...optionalParams) => {\n    if (qDev) {\n        console.warn('%cQWIK WARN', STYLE, message, ...optionalParams);\n    }\n};\nexport const logDebug = (message, ...optionalParams) => {\n    if (qDev) {\n        // eslint-disable-next-line no-console\n        console.debug('%cQWIK', STYLE, message, ...optionalParams);\n    }\n};\nconst createAndLogError = (asyncThrow, message, ...optionalParams) => {\n    const err = message instanceof Error ? message : new Error(message);\n    // display the error message first, then the optional params, and finally the stack trace\n    // the stack needs to be displayed last because the given params will be lost among large stack traces so it will\n    // provide a bad developer experience\n    console.error('%cQWIK ERROR', STYLE, err.message, ...optionalParams, err.stack);\n    asyncThrow &&\n        !qTest &&\n        setTimeout(() => {\n            // throwing error asynchronously to avoid breaking the current call stack.\n            // We throw so that the error is delivered to the global error handler for\n            // reporting it to a third-party tools such as Qwik Insights, Sentry or New Relic.\n            throw err;\n        }, 0);\n    return err;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibG9nLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3NoYXJlZC91dGlscy9sb2cudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsTUFBTSxRQUFRLENBQUM7QUFFckMsTUFBTSxLQUFLLEdBQUcsSUFBSTtJQUNoQixDQUFDLENBQUMsNEZBQTRGO0lBQzlGLENBQUMsQ0FBQyxFQUFFLENBQUM7QUFFUCxNQUFNLENBQUMsTUFBTSxRQUFRLEdBQUcsQ0FBQyxPQUFhLEVBQUUsR0FBRyxjQUFxQixFQUFFLEVBQUU7SUFDbEUsT0FBTyxpQkFBaUIsQ0FBQyxLQUFLLEVBQUUsT0FBTyxFQUFFLEdBQUcsY0FBYyxDQUFDLENBQUM7QUFDOUQsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0saUJBQWlCLEdBQUcsQ0FBQyxPQUFhLEVBQUUsR0FBRyxjQUFxQixFQUFTLEVBQUU7SUFDbEYsTUFBTSxLQUFLLEdBQUcsaUJBQWlCLENBQUMsS0FBSyxFQUFFLE9BQU8sRUFBRSxHQUFHLGNBQWMsQ0FBQyxDQUFDO0lBQ25FLHVDQUF1QztJQUN2QyxRQUFRLENBQUM7SUFDVCxNQUFNLEtBQUssQ0FBQztBQUNkLENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLGVBQWUsR0FBRyxDQUFDLE9BQWEsRUFBRSxHQUFHLGNBQXFCLEVBQUUsRUFBRTtJQUN6RSxNQUFNLEdBQUcsR0FBRyxpQkFBaUIsQ0FBQyxJQUFJLEVBQUUsT0FBTyxFQUFFLEdBQUcsY0FBYyxDQUFDLENBQUM7SUFDaEUsdUNBQXVDO0lBQ3ZDLFFBQVEsQ0FBQztJQUNULE9BQU8sR0FBRyxDQUFDO0FBQ2IsQ0FBQyxDQUFDO0FBRUYsTUFBTSxRQUFRLEdBQUcsYUFBYSxDQUFDLElBQUksR0FBRyxFQUFVLENBQUM7QUFFakQsTUFBTSxDQUFDLE1BQU0sV0FBVyxHQUFHLENBQUMsT0FBYSxFQUFFLEdBQUcsY0FBcUIsRUFBRSxFQUFFO0lBQ3JFLElBQUksSUFBSSxFQUFFLENBQUM7UUFDVCxNQUFNLEdBQUcsR0FBRyxNQUFNLEdBQUcsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ3JDLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUM7WUFDdkIsUUFBUSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUNsQixPQUFPLENBQUMsT0FBTyxFQUFFLEdBQUcsY0FBYyxDQUFDLENBQUM7UUFDdEMsQ0FBQztJQUNILENBQUM7QUFDSCxDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxPQUFPLEdBQUcsQ0FBQyxPQUFhLEVBQUUsR0FBRyxjQUFxQixFQUFFLEVBQUU7SUFDakUsSUFBSSxJQUFJLEVBQUUsQ0FBQztRQUNULE9BQU8sQ0FBQyxJQUFJLENBQUMsYUFBYSxFQUFFLEtBQUssRUFBRSxPQUFPLEVBQUUsR0FBRyxjQUFjLENBQUMsQ0FBQztJQUNqRSxDQUFDO0FBQ0gsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sUUFBUSxHQUFHLENBQUMsT0FBZ0IsRUFBRSxHQUFHLGNBQXFCLEVBQUUsRUFBRTtJQUNyRSxJQUFJLElBQUksRUFBRSxDQUFDO1FBQ1Qsc0NBQXNDO1FBQ3RDLE9BQU8sQ0FBQyxLQUFLLENBQUMsUUFBUSxFQUFFLEtBQUssRUFBRSxPQUFPLEVBQUUsR0FBRyxjQUFjLENBQUMsQ0FBQztJQUM3RCxDQUFDO0FBQ0gsQ0FBQyxDQUFDO0FBRUYsTUFBTSxpQkFBaUIsR0FBRyxDQUFDLFVBQW1CLEVBQUUsT0FBYSxFQUFFLEdBQUcsY0FBcUIsRUFBRSxFQUFFO0lBQ3pGLE1BQU0sR0FBRyxHQUFHLE9BQU8sWUFBWSxLQUFLLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUM7SUFFcEUseUZBQXlGO0lBQ3pGLGlIQUFpSDtJQUNqSCxxQ0FBcUM7SUFDckMsT0FBTyxDQUFDLEtBQUssQ0FBQyxjQUFjLEVBQUUsS0FBSyxFQUFFLEdBQUcsQ0FBQyxPQUFPLEVBQUUsR0FBRyxjQUFjLEVBQUUsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBRWhGLFVBQVU7UUFDUixDQUFDLEtBQUs7UUFDTixVQUFVLENBQUMsR0FBRyxFQUFFO1lBQ2QsMEVBQTBFO1lBQzFFLDBFQUEwRTtZQUMxRSxrRkFBa0Y7WUFDbEYsTUFBTSxHQUFHLENBQUM7UUFDWixDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDUixPQUFPLEdBQUcsQ0FBQztBQUNiLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHFEZXYsIHFUZXN0IH0gZnJvbSAnLi9xZGV2JztcblxuY29uc3QgU1RZTEUgPSBxRGV2XG4gID8gYGJhY2tncm91bmQ6ICM1NjRDRTA7IGNvbG9yOiB3aGl0ZTsgcGFkZGluZzogMnB4IDNweDsgYm9yZGVyLXJhZGl1czogMnB4OyBmb250LXNpemU6IDAuOGVtO2BcbiAgOiAnJztcblxuZXhwb3J0IGNvbnN0IGxvZ0Vycm9yID0gKG1lc3NhZ2U/OiBhbnksIC4uLm9wdGlvbmFsUGFyYW1zOiBhbnlbXSkgPT4ge1xuICByZXR1cm4gY3JlYXRlQW5kTG9nRXJyb3IoZmFsc2UsIG1lc3NhZ2UsIC4uLm9wdGlvbmFsUGFyYW1zKTtcbn07XG5cbmV4cG9ydCBjb25zdCB0aHJvd0Vycm9yQW5kU3RvcCA9IChtZXNzYWdlPzogYW55LCAuLi5vcHRpb25hbFBhcmFtczogYW55W10pOiBuZXZlciA9PiB7XG4gIGNvbnN0IGVycm9yID0gY3JlYXRlQW5kTG9nRXJyb3IoZmFsc2UsIG1lc3NhZ2UsIC4uLm9wdGlvbmFsUGFyYW1zKTtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWRlYnVnZ2VyXG4gIGRlYnVnZ2VyO1xuICB0aHJvdyBlcnJvcjtcbn07XG5cbmV4cG9ydCBjb25zdCBsb2dFcnJvckFuZFN0b3AgPSAobWVzc2FnZT86IGFueSwgLi4ub3B0aW9uYWxQYXJhbXM6IGFueVtdKSA9PiB7XG4gIGNvbnN0IGVyciA9IGNyZWF0ZUFuZExvZ0Vycm9yKHRydWUsIG1lc3NhZ2UsIC4uLm9wdGlvbmFsUGFyYW1zKTtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWRlYnVnZ2VyXG4gIGRlYnVnZ2VyO1xuICByZXR1cm4gZXJyO1xufTtcblxuY29uc3QgX3ByaW50ZWQgPSAvKiNfX1BVUkVfXyovIG5ldyBTZXQ8c3RyaW5nPigpO1xuXG5leHBvcnQgY29uc3QgbG9nT25jZVdhcm4gPSAobWVzc2FnZT86IGFueSwgLi4ub3B0aW9uYWxQYXJhbXM6IGFueVtdKSA9PiB7XG4gIGlmIChxRGV2KSB7XG4gICAgY29uc3Qga2V5ID0gJ3dhcm4nICsgU3RyaW5nKG1lc3NhZ2UpO1xuICAgIGlmICghX3ByaW50ZWQuaGFzKGtleSkpIHtcbiAgICAgIF9wcmludGVkLmFkZChrZXkpO1xuICAgICAgbG9nV2FybihtZXNzYWdlLCAuLi5vcHRpb25hbFBhcmFtcyk7XG4gICAgfVxuICB9XG59O1xuXG5leHBvcnQgY29uc3QgbG9nV2FybiA9IChtZXNzYWdlPzogYW55LCAuLi5vcHRpb25hbFBhcmFtczogYW55W10pID0+IHtcbiAgaWYgKHFEZXYpIHtcbiAgICBjb25zb2xlLndhcm4oJyVjUVdJSyBXQVJOJywgU1RZTEUsIG1lc3NhZ2UsIC4uLm9wdGlvbmFsUGFyYW1zKTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGxvZ0RlYnVnID0gKG1lc3NhZ2U/OiBzdHJpbmcsIC4uLm9wdGlvbmFsUGFyYW1zOiBhbnlbXSkgPT4ge1xuICBpZiAocURldikge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgY29uc29sZS5kZWJ1ZygnJWNRV0lLJywgU1RZTEUsIG1lc3NhZ2UsIC4uLm9wdGlvbmFsUGFyYW1zKTtcbiAgfVxufTtcblxuY29uc3QgY3JlYXRlQW5kTG9nRXJyb3IgPSAoYXN5bmNUaHJvdzogYm9vbGVhbiwgbWVzc2FnZT86IGFueSwgLi4ub3B0aW9uYWxQYXJhbXM6IGFueVtdKSA9PiB7XG4gIGNvbnN0IGVyciA9IG1lc3NhZ2UgaW5zdGFuY2VvZiBFcnJvciA/IG1lc3NhZ2UgOiBuZXcgRXJyb3IobWVzc2FnZSk7XG5cbiAgLy8gZGlzcGxheSB0aGUgZXJyb3IgbWVzc2FnZSBmaXJzdCwgdGhlbiB0aGUgb3B0aW9uYWwgcGFyYW1zLCBhbmQgZmluYWxseSB0aGUgc3RhY2sgdHJhY2VcbiAgLy8gdGhlIHN0YWNrIG5lZWRzIHRvIGJlIGRpc3BsYXllZCBsYXN0IGJlY2F1c2UgdGhlIGdpdmVuIHBhcmFtcyB3aWxsIGJlIGxvc3QgYW1vbmcgbGFyZ2Ugc3RhY2sgdHJhY2VzIHNvIGl0IHdpbGxcbiAgLy8gcHJvdmlkZSBhIGJhZCBkZXZlbG9wZXIgZXhwZXJpZW5jZVxuICBjb25zb2xlLmVycm9yKCclY1FXSUsgRVJST1InLCBTVFlMRSwgZXJyLm1lc3NhZ2UsIC4uLm9wdGlvbmFsUGFyYW1zLCBlcnIuc3RhY2spO1xuXG4gIGFzeW5jVGhyb3cgJiZcbiAgICAhcVRlc3QgJiZcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIC8vIHRocm93aW5nIGVycm9yIGFzeW5jaHJvbm91c2x5IHRvIGF2b2lkIGJyZWFraW5nIHRoZSBjdXJyZW50IGNhbGwgc3RhY2suXG4gICAgICAvLyBXZSB0aHJvdyBzbyB0aGF0IHRoZSBlcnJvciBpcyBkZWxpdmVyZWQgdG8gdGhlIGdsb2JhbCBlcnJvciBoYW5kbGVyIGZvclxuICAgICAgLy8gcmVwb3J0aW5nIGl0IHRvIGEgdGhpcmQtcGFydHkgdG9vbHMgc3VjaCBhcyBRd2lrIEluc2lnaHRzLCBTZW50cnkgb3IgTmV3IFJlbGljLlxuICAgICAgdGhyb3cgZXJyO1xuICAgIH0sIDApO1xuICByZXR1cm4gZXJyO1xufTtcbiJdfQ==","import { throwErrorAndStop } from '../utils/log';\nimport { qDev } from '../utils/qdev';\nconst ASSERT_DISCLAIMER = 'Internal assert, this is likely caused by a bug in Qwik: ';\nexport function assertDefined(value, text, ...parts) {\n    if (qDev) {\n        if (value != null) {\n            return;\n        }\n        throwErrorAndStop(ASSERT_DISCLAIMER + text, ...parts);\n    }\n}\nexport function assertEqual(value1, value2, text, ...parts) {\n    if (qDev) {\n        if (value1 === value2) {\n            return;\n        }\n        throwErrorAndStop(ASSERT_DISCLAIMER + text, ...parts);\n    }\n}\nexport function assertFail(text, ...parts) {\n    if (qDev) {\n        throwErrorAndStop(ASSERT_DISCLAIMER + text, ...parts);\n    }\n}\nexport function assertTrue(value1, text, ...parts) {\n    if (qDev) {\n        if (value1 === true) {\n            return;\n        }\n        throwErrorAndStop(ASSERT_DISCLAIMER + text, ...parts);\n    }\n}\nexport function assertFalse(value1, text, ...parts) {\n    if (qDev) {\n        if (value1 === false) {\n            return;\n        }\n        throwErrorAndStop(ASSERT_DISCLAIMER + text, ...parts);\n    }\n}\nexport function assertNumber(value1, text, ...parts) {\n    if (qDev) {\n        if (typeof value1 === 'number') {\n            return;\n        }\n        throwErrorAndStop(ASSERT_DISCLAIMER + text, ...parts);\n    }\n}\nexport function assertString(value1, text, ...parts) {\n    if (qDev) {\n        if (typeof value1 === 'string') {\n            return;\n        }\n        throwErrorAndStop(ASSERT_DISCLAIMER + text, ...parts);\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXNzZXJ0LmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3NoYXJlZC9lcnJvci9hc3NlcnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sY0FBYyxDQUFDO0FBQ2pELE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFckMsTUFBTSxpQkFBaUIsR0FBRywyREFBMkQsQ0FBQztBQUV0RixNQUFNLFVBQVUsYUFBYSxDQUMzQixLQUFRLEVBQ1IsSUFBWSxFQUNaLEdBQUcsS0FBWTtJQUVmLElBQUksSUFBSSxFQUFFLENBQUM7UUFDVCxJQUFJLEtBQUssSUFBSSxJQUFJLEVBQUUsQ0FBQztZQUNsQixPQUFPO1FBQ1QsQ0FBQztRQUNELGlCQUFpQixDQUFDLGlCQUFpQixHQUFHLElBQUksRUFBRSxHQUFHLEtBQUssQ0FBQyxDQUFDO0lBQ3hELENBQUM7QUFDSCxDQUFDO0FBRUQsTUFBTSxVQUFVLFdBQVcsQ0FDekIsTUFBVyxFQUNYLE1BQVcsRUFDWCxJQUFZLEVBQ1osR0FBRyxLQUFZO0lBRWYsSUFBSSxJQUFJLEVBQUUsQ0FBQztRQUNULElBQUksTUFBTSxLQUFLLE1BQU0sRUFBRSxDQUFDO1lBQ3RCLE9BQU87UUFDVCxDQUFDO1FBQ0QsaUJBQWlCLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxFQUFFLEdBQUcsS0FBSyxDQUFDLENBQUM7SUFDeEQsQ0FBQztBQUNILENBQUM7QUFHRCxNQUFNLFVBQVUsVUFBVSxDQUFDLElBQVksRUFBRSxHQUFHLEtBQVk7SUFDdEQsSUFBSSxJQUFJLEVBQUUsQ0FBQztRQUNULGlCQUFpQixDQUFDLGlCQUFpQixHQUFHLElBQUksRUFBRSxHQUFHLEtBQUssQ0FBQyxDQUFDO0lBQ3hELENBQUM7QUFDSCxDQUFDO0FBRUQsTUFBTSxVQUFVLFVBQVUsQ0FBQyxNQUFXLEVBQUUsSUFBWSxFQUFFLEdBQUcsS0FBWTtJQUNuRSxJQUFJLElBQUksRUFBRSxDQUFDO1FBQ1QsSUFBSSxNQUFNLEtBQUssSUFBSSxFQUFFLENBQUM7WUFDcEIsT0FBTztRQUNULENBQUM7UUFDRCxpQkFBaUIsQ0FBQyxpQkFBaUIsR0FBRyxJQUFJLEVBQUUsR0FBRyxLQUFLLENBQUMsQ0FBQztJQUN4RCxDQUFDO0FBQ0gsQ0FBQztBQUVELE1BQU0sVUFBVSxXQUFXLENBQUMsTUFBVyxFQUFFLElBQVksRUFBRSxHQUFHLEtBQVk7SUFDcEUsSUFBSSxJQUFJLEVBQUUsQ0FBQztRQUNULElBQUksTUFBTSxLQUFLLEtBQUssRUFBRSxDQUFDO1lBQ3JCLE9BQU87UUFDVCxDQUFDO1FBQ0QsaUJBQWlCLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxFQUFFLEdBQUcsS0FBSyxDQUFDLENBQUM7SUFDeEQsQ0FBQztBQUNILENBQUM7QUFFRCxNQUFNLFVBQVUsWUFBWSxDQUFDLE1BQVcsRUFBRSxJQUFZLEVBQUUsR0FBRyxLQUFZO0lBQ3JFLElBQUksSUFBSSxFQUFFLENBQUM7UUFDVCxJQUFJLE9BQU8sTUFBTSxLQUFLLFFBQVEsRUFBRSxDQUFDO1lBQy9CLE9BQU87UUFDVCxDQUFDO1FBQ0QsaUJBQWlCLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxFQUFFLEdBQUcsS0FBSyxDQUFDLENBQUM7SUFDeEQsQ0FBQztBQUNILENBQUM7QUFFRCxNQUFNLFVBQVUsWUFBWSxDQUFDLE1BQVcsRUFBRSxJQUFZLEVBQUUsR0FBRyxLQUFZO0lBQ3JFLElBQUksSUFBSSxFQUFFLENBQUM7UUFDVCxJQUFJLE9BQU8sTUFBTSxLQUFLLFFBQVEsRUFBRSxDQUFDO1lBQy9CLE9BQU87UUFDVCxDQUFDO1FBQ0QsaUJBQWlCLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxFQUFFLEdBQUcsS0FBSyxDQUFDLENBQUM7SUFDeEQsQ0FBQztBQUNILENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB0aHJvd0Vycm9yQW5kU3RvcCB9IGZyb20gJy4uL3V0aWxzL2xvZyc7XG5pbXBvcnQgeyBxRGV2IH0gZnJvbSAnLi4vdXRpbHMvcWRldic7XG5cbmNvbnN0IEFTU0VSVF9ESVNDTEFJTUVSID0gJ0ludGVybmFsIGFzc2VydCwgdGhpcyBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFF3aWs6ICc7XG5cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnREZWZpbmVkPFQ+KFxuICB2YWx1ZTogVCxcbiAgdGV4dDogc3RyaW5nLFxuICAuLi5wYXJ0czogYW55W11cbik6IGFzc2VydHMgdmFsdWUgaXMgTm9uTnVsbGFibGU8VD4ge1xuICBpZiAocURldikge1xuICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRocm93RXJyb3JBbmRTdG9wKEFTU0VSVF9ESVNDTEFJTUVSICsgdGV4dCwgLi4ucGFydHMpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRFcXVhbChcbiAgdmFsdWUxOiBhbnksXG4gIHZhbHVlMjogYW55LFxuICB0ZXh0OiBzdHJpbmcsXG4gIC4uLnBhcnRzOiBhbnlbXVxuKTogYXNzZXJ0cyB2YWx1ZTEgaXMgdHlwZW9mIHZhbHVlMiB7XG4gIGlmIChxRGV2KSB7XG4gICAgaWYgKHZhbHVlMSA9PT0gdmFsdWUyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRocm93RXJyb3JBbmRTdG9wKEFTU0VSVF9ESVNDTEFJTUVSICsgdGV4dCwgLi4ucGFydHMpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRGYWlsKHRleHQ6IHN0cmluZywgLi4ucGFydHM6IGFueVtdKTogbmV2ZXI7XG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0RmFpbCh0ZXh0OiBzdHJpbmcsIC4uLnBhcnRzOiBhbnlbXSkge1xuICBpZiAocURldikge1xuICAgIHRocm93RXJyb3JBbmRTdG9wKEFTU0VSVF9ESVNDTEFJTUVSICsgdGV4dCwgLi4ucGFydHMpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRUcnVlKHZhbHVlMTogYW55LCB0ZXh0OiBzdHJpbmcsIC4uLnBhcnRzOiBhbnlbXSk6IGFzc2VydHMgdmFsdWUxIGlzIHRydWUge1xuICBpZiAocURldikge1xuICAgIGlmICh2YWx1ZTEgPT09IHRydWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhyb3dFcnJvckFuZFN0b3AoQVNTRVJUX0RJU0NMQUlNRVIgKyB0ZXh0LCAuLi5wYXJ0cyk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydEZhbHNlKHZhbHVlMTogYW55LCB0ZXh0OiBzdHJpbmcsIC4uLnBhcnRzOiBhbnlbXSk6IGFzc2VydHMgdmFsdWUxIGlzIHRydWUge1xuICBpZiAocURldikge1xuICAgIGlmICh2YWx1ZTEgPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRocm93RXJyb3JBbmRTdG9wKEFTU0VSVF9ESVNDTEFJTUVSICsgdGV4dCwgLi4ucGFydHMpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnROdW1iZXIodmFsdWUxOiBhbnksIHRleHQ6IHN0cmluZywgLi4ucGFydHM6IGFueVtdKTogYXNzZXJ0cyB2YWx1ZTEgaXMgbnVtYmVyIHtcbiAgaWYgKHFEZXYpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlMSA9PT0gJ251bWJlcicpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhyb3dFcnJvckFuZFN0b3AoQVNTRVJUX0RJU0NMQUlNRVIgKyB0ZXh0LCAuLi5wYXJ0cyk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydFN0cmluZyh2YWx1ZTE6IGFueSwgdGV4dDogc3RyaW5nLCAuLi5wYXJ0czogYW55W10pOiBhc3NlcnRzIHZhbHVlMSBpcyBzdHJpbmcge1xuICBpZiAocURldikge1xuICAgIGlmICh0eXBlb2YgdmFsdWUxID09PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aHJvd0Vycm9yQW5kU3RvcChBU1NFUlRfRElTQ0xBSU1FUiArIHRleHQsIC4uLnBhcnRzKTtcbiAgfVxufVxuIl19","import { logErrorAndStop } from '../utils/log';\nimport { qDev } from '../utils/qdev';\nexport const codeToText = (code, ...parts) => {\n    if (qDev) {\n        // Keep one error, one line to make it easier to search for the error message.\n        const MAP = [\n            'Error while serializing class or style attributes', // 0\n            'Can not serialize a HTML Node that is not an Element', // 1\n            'Runtime but no instance found on element.', // 2\n            'Only primitive and object literals can be serialized', // 3\n            'Crash while rendering', // 4\n            'You can render over a existing q:container. Skipping render().', // 5\n            'Set property {{0}}', // 6\n            \"Only function's and 'string's are supported.\", // 7\n            \"Only objects can be wrapped in 'QObject'\", // 8\n            `Only objects literals can be wrapped in 'QObject'`, // 9\n            'QRL is not a function', // 10\n            'Dynamic import not found', // 11\n            'Unknown type argument', // 12\n            `Actual value for useContext({{0}}) can not be found, make sure some ancestor component has set a value using useContextProvider(). In the browser make sure that the context was used during SSR so its state was serialized.`, // 13\n            \"Invoking 'use*()' method outside of invocation context.\", // 14\n            'Cant access renderCtx for existing context', // 15\n            'Cant access document for existing context', // 16\n            'props are immutable', // 17\n            '<div> component can only be used at the root of a Qwik component$()', // 18\n            'Props are immutable by default.', // 19\n            `Calling a 'use*()' method outside 'component$(() => { HERE })' is not allowed. 'use*()' methods provide hooks to the 'component$' state and lifecycle, ie 'use' hooks can only be called synchronously within the 'component$' function or another 'use' method.\\nSee https://qwik.dev/docs/components/tasks/#use-method-rules`, // 20\n            'Container is already paused. Skipping', // 21\n            '', // 22 -- unused\n            'When rendering directly on top of Document, the root node must be a <html>', // 23\n            'A <html> node must have 2 children. The first one <head> and the second one a <body>', // 24\n            'Invalid JSXNode type \"{{0}}\". It must be either a function or a string. Found:', // 25\n            'Tracking value changes can only be done to useStore() objects and component props', // 26\n            'Missing Object ID for captured object', // 27\n            'The provided Context reference \"{{0}}\" is not a valid context created by createContextId()', // 28\n            '<html> is the root container, it can not be rendered inside a component', // 29\n            'QRLs can not be resolved because it does not have an attached container. This means that the QRL does not know where it belongs inside the DOM, so it cant dynamically import() from a relative path.', // 30\n            'QRLs can not be dynamically resolved, because it does not have a chunk path', // 31\n            'The JSX ref attribute must be a Signal', // 32\n        ];\n        let text = MAP[code] ?? '';\n        if (parts.length) {\n            text = text.replaceAll(/{{(\\d+)}}/g, (_, index) => {\n                let v = parts[index];\n                if (v && typeof v === 'object' && v.constructor === Object) {\n                    v = JSON.stringify(v).slice(0, 50);\n                }\n                return v;\n            });\n        }\n        return `Code(${code}): ${text}`;\n    }\n    else {\n        // cute little hack to give roughly the correct line number. Update the line number if it shifts.\n        return `Code(${code}) https://github.com/QwikDev/qwik/blob/main/packages/qwik/src/core/error/error.ts#L${8 + code}`;\n    }\n};\nexport const QError_stringifyClassOrStyle = 0;\nexport const QError_cannotSerializeNode = 1;\nexport const QError_runtimeQrlNoElement = 2;\nexport const QError_verifySerializable = 3;\nexport const QError_errorWhileRendering = 4;\nexport const QError_cannotRenderOverExistingContainer = 5;\nexport const QError_setProperty = 6;\nexport const QError_qrlOrError = 7;\nexport const QError_onlyObjectWrapped = 8;\nexport const QError_onlyLiteralWrapped = 9;\nexport const QError_qrlIsNotFunction = 10;\nexport const QError_dynamicImportFailed = 11;\nexport const QError_unknownTypeArgument = 12;\nexport const QError_notFoundContext = 13;\nexport const QError_useMethodOutsideContext = 14;\nexport const QError_missingRenderCtx = 15;\nexport const QError_missingDoc = 16;\nexport const QError_immutableProps = 17;\nexport const QError_hostCanOnlyBeAtRoot = 18;\nexport const QError_immutableJsxProps = 19;\nexport const QError_useInvokeContext = 20;\nexport const QError_containerAlreadyPaused = 21;\nexport const QError_unused_please_reuse = 22;\nexport const QError_rootNodeMustBeHTML = 23;\nexport const QError_strictHTMLChildren = 24;\nexport const QError_invalidJsxNodeType = 25;\nexport const QError_trackUseStore = 26;\nexport const QError_missingObjectId = 27;\nexport const QError_invalidContext = 28;\nexport const QError_canNotRenderHTML = 29;\nexport const QError_qrlMissingContainer = 30;\nexport const QError_qrlMissingChunk = 31;\nexport const QError_invalidRefValue = 32;\nexport const qError = (code, ...parts) => {\n    const text = codeToText(code, ...parts);\n    return logErrorAndStop(text, ...parts);\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXJyb3IuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvc2hhcmVkL2Vycm9yL2Vycm9yLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSxjQUFjLENBQUM7QUFDL0MsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUVyQyxNQUFNLENBQUMsTUFBTSxVQUFVLEdBQUcsQ0FBQyxJQUFZLEVBQUUsR0FBRyxLQUFZLEVBQVUsRUFBRTtJQUNsRSxJQUFJLElBQUksRUFBRSxDQUFDO1FBQ1QsOEVBQThFO1FBQzlFLE1BQU0sR0FBRyxHQUFHO1lBQ1YsbURBQW1ELEVBQUUsSUFBSTtZQUN6RCxzREFBc0QsRUFBRSxJQUFJO1lBQzVELDJDQUEyQyxFQUFFLElBQUk7WUFDakQsc0RBQXNELEVBQUUsSUFBSTtZQUM1RCx1QkFBdUIsRUFBRSxJQUFJO1lBQzdCLGdFQUFnRSxFQUFFLElBQUk7WUFDdEUsb0JBQW9CLEVBQUUsSUFBSTtZQUMxQiw4Q0FBOEMsRUFBRSxJQUFJO1lBQ3BELDBDQUEwQyxFQUFFLElBQUk7WUFDaEQsbURBQW1ELEVBQUUsSUFBSTtZQUN6RCx1QkFBdUIsRUFBRSxLQUFLO1lBQzlCLDBCQUEwQixFQUFFLEtBQUs7WUFDakMsdUJBQXVCLEVBQUUsS0FBSztZQUM5QiwrTkFBK04sRUFBRSxLQUFLO1lBQ3RPLHlEQUF5RCxFQUFFLEtBQUs7WUFDaEUsNENBQTRDLEVBQUUsS0FBSztZQUNuRCwyQ0FBMkMsRUFBRSxLQUFLO1lBQ2xELHFCQUFxQixFQUFFLEtBQUs7WUFDNUIscUVBQXFFLEVBQUUsS0FBSztZQUM1RSxpQ0FBaUMsRUFBRSxLQUFLO1lBQ3hDLGdVQUFnVSxFQUFFLEtBQUs7WUFDdlUsdUNBQXVDLEVBQUUsS0FBSztZQUM5QyxFQUFFLEVBQUUsZUFBZTtZQUNuQiw0RUFBNEUsRUFBRSxLQUFLO1lBQ25GLHNGQUFzRixF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LENBQUMsTUFBTSx5QkFBeUIsR0FBRyxFQUFFLENBQUM7QUFDNUMsTUFBTSxDQUFDLE1BQU0seUJBQXlCLEdBQUcsRUFBRSxDQUFDO0FBQzVDLE1BQU0sQ0FBQyxNQUFNLHlCQUF5QixHQUFHLEVBQUUsQ0FBQztBQUM1QyxNQUFNLENBQUMsTUFBTSxvQkFBb0IsR0FBRyxFQUFFLENBQUM7QUFDdkMsTUFBTSxDQUFDLE1BQU0sc0JBQXNCLEdBQUcsRUFBRSxDQUFDO0FBQ3pDLE1BQU0sQ0FBQyxNQUFNLHFCQUFxQixHQUFHLEVBQUUsQ0FBQztBQUN4QyxNQUFNLENBQUMsTUFBTSx1QkFBdUIsR0FBRyxFQUFFLENBQUM7QUFDMUMsTUFBTSxDQUFDLE1BQU0sMEJBQTBCLEdBQUcsRUFBRSxDQUFDO0FBQzdDLE1BQU0sQ0FBQyxNQUFNLHNCQUFzQixHQUFHLEVBQUUsQ0FBQztBQUN6QyxNQUFNLENBQUMsTUFBTSxzQkFBc0IsR0FBRyxFQUFFLENBQUM7QUFDekMsTUFBTSxDQUFDLE1BQU0sTUFBTSxHQUFHLENBQUMsSUFBWSxFQUFFLEdBQUcsS0FBWSxFQUFTLEVBQUU7SUFDN0QsTUFBTSxJQUFJLEdBQUcsVUFBVSxDQUFDLElBQUksRUFBRSxHQUFHLEtBQUssQ0FBQyxDQUFDO0lBQ3hDLE9BQU8sZUFBZSxDQUFDLElBQUksRUFBRSxHQUFHLEtBQUssQ0FBQyxDQUFDO0FBQ3pDLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGxvZ0Vycm9yQW5kU3RvcCB9IGZyb20gJy4uL3V0aWxzL2xvZyc7XG5pbXBvcnQgeyBxRGV2IH0gZnJvbSAnLi4vdXRpbHMvcWRldic7XG5cbmV4cG9ydCBjb25zdCBjb2RlVG9UZXh0ID0gKGNvZGU6IG51bWJlciwgLi4ucGFydHM6IGFueVtdKTogc3RyaW5nID0+IHtcbiAgaWYgKHFEZXYpIHtcbiAgICAvLyBLZWVwIG9uZSBlcnJvciwgb25lIGxpbmUgdG8gbWFrZSBpdCBlYXNpZXIgdG8gc2VhcmNoIGZvciB0aGUgZXJyb3IgbWVzc2FnZS5cbiAgICBjb25zdCBNQVAgPSBbXG4gICAgICAnRXJyb3Igd2hpbGUgc2VyaWFsaXppbmcgY2xhc3Mgb3Igc3R5bGUgYXR0cmlidXRlcycsIC8vIDBcbiAgICAgICdDYW4gbm90IHNlcmlhbGl6ZSBhIEhUTUwgTm9kZSB0aGF0IGlzIG5vdCBhbiBFbGVtZW50JywgLy8gMVxuICAgICAgJ1J1bnRpbWUgYnV0IG5vIGluc3RhbmNlIGZvdW5kIG9uIGVsZW1lbnQuJywgLy8gMlxuICAgICAgJ09ubHkgcHJpbWl0aXZlIGFuZCBvYmplY3QgbGl0ZXJhbHMgY2FuIGJlIHNlcmlhbGl6ZWQnLCAvLyAzXG4gICAgICAnQ3Jhc2ggd2hpbGUgcmVuZGVyaW5nJywgLy8gNFxuICAgICAgJ1lvdSBjYW4gcmVuZGVyIG92ZXIgYSBleGlzdGluZyBxOmNvbnRhaW5lci4gU2tpcHBpbmcgcmVuZGVyKCkuJywgLy8gNVxuICAgICAgJ1NldCBwcm9wZXJ0eSB7ezB9fScsIC8vIDZcbiAgICAgIFwiT25seSBmdW5jdGlvbidzIGFuZCAnc3RyaW5nJ3MgYXJlIHN1cHBvcnRlZC5cIiwgLy8gN1xuICAgICAgXCJPbmx5IG9iamVjdHMgY2FuIGJlIHdyYXBwZWQgaW4gJ1FPYmplY3QnXCIsIC8vIDhcbiAgICAgIGBPbmx5IG9iamVjdHMgbGl0ZXJhbHMgY2FuIGJlIHdyYXBwZWQgaW4gJ1FPYmplY3QnYCwgLy8gOVxuICAgICAgJ1FSTCBpcyBub3QgYSBmdW5jdGlvbicsIC8vIDEwXG4gICAgICAnRHluYW1pYyBpbXBvcnQgbm90IGZvdW5kJywgLy8gMTFcbiAgICAgICdVbmtub3duIHR5cGUgYXJndW1lbnQnLCAvLyAxMlxuICAgICAgYEFjdHVhbCB2YWx1ZSBmb3IgdXNlQ29udGV4dCh7ezB9fSkgY2FuIG5vdCBiZSBmb3VuZCwgbWFrZSBzdXJlIHNvbWUgYW5jZXN0b3IgY29tcG9uZW50IGhhcyBzZXQgYSB2YWx1ZSB1c2luZyB1c2VDb250ZXh0UHJvdmlkZXIoKS4gSW4gdGhlIGJyb3dzZXIgbWFrZSBzdXJlIHRoYXQgdGhlIGNvbnRleHQgd2FzIHVzZWQgZHVyaW5nIFNTUiBzbyBpdHMgc3RhdGUgd2FzIHNlcmlhbGl6ZWQuYCwgLy8gMTNcbiAgICAgIFwiSW52b2tpbmcgJ3VzZSooKScgbWV0aG9kIG91dHNpZGUgb2YgaW52b2NhdGlvbiBjb250ZXh0LlwiLCAvLyAxNFxuICAgICAgJ0NhbnQgYWNjZXNzIHJlbmRlckN0eCBmb3IgZXhpc3RpbmcgY29udGV4dCcsIC8vIDE1XG4gICAgICAnQ2FudCBhY2Nlc3MgZG9jdW1lbnQgZm9yIGV4aXN0aW5nIGNvbnRleHQnLCAvLyAxNlxuICAgICAgJ3Byb3BzIGFyZSBpbW11dGFibGUnLCAvLyAxN1xuICAgICAgJzxkaXY+IGNvbXBvbmVudCBjYW4gb25seSBiZSB1c2VkIGF0IHRoZSByb290IG9mIGEgUXdpayBjb21wb25lbnQkKCknLCAvLyAxOFxuICAgICAgJ1Byb3BzIGFyZSBpbW11dGFibGUgYnkgZGVmYXVsdC4nLCAvLyAxOVxuICAgICAgYENhbGxpbmcgYSAndXNlKigpJyBtZXRob2Qgb3V0c2lkZSAnY29tcG9uZW50JCgoKSA9PiB7IEhFUkUgfSknIGlzIG5vdCBhbGxvd2VkLiAndXNlKigpJyBtZXRob2RzIHByb3ZpZGUgaG9va3MgdG8gdGhlICdjb21wb25lbnQkJyBzdGF0ZSBhbmQgbGlmZWN5Y2xlLCBpZSAndXNlJyBob29rcyBjYW4gb25seSBiZSBjYWxsZWQgc3luY2hyb25vdXNseSB3aXRoaW4gdGhlICdjb21wb25lbnQkJyBmdW5jdGlvbiBvciBhbm90aGVyICd1c2UnIG1ldGhvZC5cXG5TZWUgaHR0cHM6Ly9xd2lrLmRldi9kb2NzL2NvbXBvbmVudHMvdGFza3MvI3VzZS1tZXRob2QtcnVsZXNgLCAvLyAyMFxuICAgICAgJ0NvbnRhaW5lciBpcyBhbHJlYWR5IHBhdXNlZC4gU2tpcHBpbmcnLCAvLyAyMVxuICAgICAgJycsIC8vIDIyIC0tIHVudXNlZFxuICAgICAgJ1doZW4gcmVuZGVyaW5nIGRpcmVjdGx5IG9uIHRvcCBvZiBEb2N1bWVudCwgdGhlIHJvb3Qgbm9kZSBtdXN0IGJlIGEgPGh0bWw+JywgLy8gMjNcbiAgICAgICdBIDxodG1sPiBub2RlIG11c3QgaGF2ZSAyIGNoaWxkcmVuLiBUaGUgZmlyc3Qgb25lIDxoZWFkPiBhbmQgdGhlIHNlY29uZCBvbmUgYSA8Ym9keT4nLCAvLyAyNFxuICAgICAgJ0ludmFsaWQgSlNYTm9kZSB0eXBlIFwie3swfX1cIi4gSXQgbXVzdCBiZSBlaXRoZXIgYSBmdW5jdGlvbiBvciBhIHN0cmluZy4gRm91bmQ6JywgLy8gMjVcbiAgICAgICdUcmFja2luZyB2YWx1ZSBjaGFuZ2VzIGNhbiBvbmx5IGJlIGRvbmUgdG8gdXNlU3RvcmUoKSBvYmplY3RzIGFuZCBjb21wb25lbnQgcHJvcHMnLCAvLyAyNlxuICAgICAgJ01pc3NpbmcgT2JqZWN0IElEIGZvciBjYXB0dXJlZCBvYmplY3QnLCAvLyAyN1xuICAgICAgJ1RoZSBwcm92aWRlZCBDb250ZXh0IHJlZmVyZW5jZSBcInt7MH19XCIgaXMgbm90IGEgdmFsaWQgY29udGV4dCBjcmVhdGVkIGJ5IGNyZWF0ZUNvbnRleHRJZCgpJywgLy8gMjhcbiAgICAgICc8aHRtbD4gaXMgdGhlIHJvb3QgY29udGFpbmVyLCBpdCBjYW4gbm90IGJlIHJlbmRlcmVkIGluc2lkZSBhIGNvbXBvbmVudCcsIC8vIDI5XG4gICAgICAnUVJMcyBjYW4gbm90IGJlIHJlc29sdmVkIGJlY2F1c2UgaXQgZG9lcyBub3QgaGF2ZSBhbiBhdHRhY2hlZCBjb250YWluZXIuIFRoaXMgbWVhbnMgdGhhdCB0aGUgUVJMIGRvZXMgbm90IGtub3cgd2hlcmUgaXQgYmVsb25ncyBpbnNpZGUgdGhlIERPTSwgc28gaXQgY2FudCBkeW5hbWljYWxseSBpbXBvcnQoKSBmcm9tIGEgcmVsYXRpdmUgcGF0aC4nLCAvLyAzMFxuICAgICAgJ1FSTHMgY2FuIG5vdCBiZSBkeW5hbWljYWxseSByZXNvbHZlZCwgYmVjYXVzZSBpdCBkb2VzIG5vdCBoYXZlIGEgY2h1bmsgcGF0aCcsIC8vIDMxXG4gICAgICAnVGhlIEpTWCByZWYgYXR0cmlidXRlIG11c3QgYmUgYSBTaWduYWwnLCAvLyAzMlxuICAgIF07XG4gICAgbGV0IHRleHQgPSBNQVBbY29kZV0gPz8gJyc7XG4gICAgaWYgKHBhcnRzLmxlbmd0aCkge1xuICAgICAgdGV4dCA9IHRleHQucmVwbGFjZUFsbCgve3soXFxkKyl9fS9nLCAoXywgaW5kZXgpID0+IHtcbiAgICAgICAgbGV0IHYgPSBwYXJ0c1tpbmRleF07XG4gICAgICAgIGlmICh2ICYmIHR5cGVvZiB2ID09PSAnb2JqZWN0JyAmJiB2LmNvbnN0cnVjdG9yID09PSBPYmplY3QpIHtcbiAgICAgICAgICB2ID0gSlNPTi5zdHJpbmdpZnkodikuc2xpY2UoMCwgNTApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2O1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBgQ29kZSgke2NvZGV9KTogJHt0ZXh0fWA7XG4gIH0gZWxzZSB7XG4gICAgLy8gY3V0ZSBsaXR0bGUgaGFjayB0byBnaXZlIHJvdWdobHkgdGhlIGNvcnJlY3QgbGluZSBudW1iZXIuIFVwZGF0ZSB0aGUgbGluZSBudW1iZXIgaWYgaXQgc2hpZnRzLlxuICAgIHJldHVybiBgQ29kZSgke2NvZGV9KSBodHRwczovL2dpdGh1Yi5jb20vUXdpa0Rldi9xd2lrL2Jsb2IvbWFpbi9wYWNrYWdlcy9xd2lrL3NyYy9jb3JlL2Vycm9yL2Vycm9yLnRzI0wkezggKyBjb2RlfWA7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBRRXJyb3Jfc3RyaW5naWZ5Q2xhc3NPclN0eWxlID0gMDtcbmV4cG9ydCBjb25zdCBRRXJyb3JfY2Fubm90U2VyaWFsaXplTm9kZSA9IDE7XG5leHBvcnQgY29uc3QgUUVycm9yX3J1bnRpbWVRcmxOb0VsZW1lbnQgPSAyO1xuZXhwb3J0IGNvbnN0IFFFcnJvcl92ZXJpZnlTZXJpYWxpemFibGUgPSAzO1xuZXhwb3J0IGNvbnN0IFFFcnJvcl9lcnJvcldoaWxlUmVuZGVyaW5nID0gNDtcbmV4cG9ydCBjb25zdCBRRXJyb3JfY2Fubm90UmVuZGVyT3ZlckV4aXN0aW5nQ29udGFpbmVyID0gNTtcbmV4cG9ydCBjb25zdCBRRXJyb3Jfc2V0UHJvcGVydHkgPSA2O1xuZXhwb3J0IGNvbnN0IFFFcnJvcl9xcmxPckVycm9yID0gNztcbmV4cG9ydCBjb25zdCBRRXJyb3Jfb25seU9iamVjdFdyYXBwZWQgPSA4O1xuZXhwb3J0IGNvbnN0IFFFcnJvcl9vbmx5TGl0ZXJhbFdyYXBwZWQgPSA5O1xuZXhwb3J0IGNvbnN0IFFFcnJvcl9xcmxJc05vdEZ1bmN0aW9uID0gMTA7XG5leHBvcnQgY29uc3QgUUVycm9yX2R5bmFtaWNJbXBvcnRGYWlsZWQgPSAxMTtcbmV4cG9ydCBjb25zdCBRRXJyb3JfdW5rbm93blR5cGVBcmd1bWVudCA9IDEyO1xuZXhwb3J0IGNvbnN0IFFFcnJvcl9ub3RGb3VuZENvbnRleHQgPSAxMztcbmV4cG9ydCBjb25zdCBRRXJyb3JfdXNlTWV0aG9kT3V0c2lkZUNvbnRleHQgPSAxNDtcbmV4cG9ydCBjb25zdCBRRXJyb3JfbWlzc2luZ1JlbmRlckN0eCA9IDE1O1xuZXhwb3J0IGNvbnN0IFFFcnJvcl9taXNzaW5nRG9jID0gMTY7XG5leHBvcnQgY29uc3QgUUVycm9yX2ltbXV0YWJsZVByb3BzID0gMTc7XG5leHBvcnQgY29uc3QgUUVycm9yX2hvc3RDYW5Pbmx5QmVBdFJvb3QgPSAxODtcbmV4cG9ydCBjb25zdCBRRXJyb3JfaW1tdXRhYmxlSnN4UHJvcHMgPSAxOTtcbmV4cG9ydCBjb25zdCBRRXJyb3JfdXNlSW52b2tlQ29udGV4dCA9IDIwO1xuZXhwb3J0IGNvbnN0IFFFcnJvcl9jb250YWluZXJBbHJlYWR5UGF1c2VkID0gMjE7XG5leHBvcnQgY29uc3QgUUVycm9yX3VudXNlZF9wbGVhc2VfcmV1c2UgPSAyMjtcbmV4cG9ydCBjb25zdCBRRXJyb3Jfcm9vdE5vZGVNdXN0QmVIVE1MID0gMjM7XG5leHBvcnQgY29uc3QgUUVycm9yX3N0cmljdEhUTUxDaGlsZHJlbiA9IDI0O1xuZXhwb3J0IGNvbnN0IFFFcnJvcl9pbnZhbGlkSnN4Tm9kZVR5cGUgPSAyNTtcbmV4cG9ydCBjb25zdCBRRXJyb3JfdHJhY2tVc2VTdG9yZSA9IDI2O1xuZXhwb3J0IGNvbnN0IFFFcnJvcl9taXNzaW5nT2JqZWN0SWQgPSAyNztcbmV4cG9ydCBjb25zdCBRRXJyb3JfaW52YWxpZENvbnRleHQgPSAyODtcbmV4cG9ydCBjb25zdCBRRXJyb3JfY2FuTm90UmVuZGVySFRNTCA9IDI5O1xuZXhwb3J0IGNvbnN0IFFFcnJvcl9xcmxNaXNzaW5nQ29udGFpbmVyID0gMzA7XG5leHBvcnQgY29uc3QgUUVycm9yX3FybE1pc3NpbmdDaHVuayA9IDMxO1xuZXhwb3J0IGNvbnN0IFFFcnJvcl9pbnZhbGlkUmVmVmFsdWUgPSAzMjtcbmV4cG9ydCBjb25zdCBxRXJyb3IgPSAoY29kZTogbnVtYmVyLCAuLi5wYXJ0czogYW55W10pOiBFcnJvciA9PiB7XG4gIGNvbnN0IHRleHQgPSBjb2RlVG9UZXh0KGNvZGUsIC4uLnBhcnRzKTtcbiAgcmV0dXJuIGxvZ0Vycm9yQW5kU3RvcCh0ZXh0LCAuLi5wYXJ0cyk7XG59O1xuIl19","import { isServer } from '@qwik.dev/core/build';\nimport { qError, QError_qrlMissingChunk, QError_qrlMissingContainer } from '../error/error';\nimport { getSymbolHash } from '../qrl/qrl-class';\nimport { qDynamicPlatform } from '../utils/qdev';\nexport const createPlatform = () => {\n    return {\n        isServer,\n        importSymbol(containerEl, url, symbolName) {\n            if (isServer) {\n                const hash = getSymbolHash(symbolName);\n                const regSym = globalThis.__qwik_reg_symbols?.get(hash);\n                if (regSym) {\n                    return regSym;\n                }\n            }\n            if (!url) {\n                throw qError(QError_qrlMissingChunk, symbolName);\n            }\n            if (!containerEl) {\n                throw qError(QError_qrlMissingContainer, url, symbolName);\n            }\n            const urlDoc = toUrl(containerEl.ownerDocument, containerEl, url).toString();\n            const urlCopy = new URL(urlDoc);\n            urlCopy.hash = '';\n            const importURL = urlCopy.href;\n            return import(/* @vite-ignore */ importURL).then((mod) => {\n                return mod[symbolName];\n            });\n        },\n        raf: (fn) => {\n            return new Promise((resolve) => {\n                requestAnimationFrame(() => {\n                    resolve(fn());\n                });\n            });\n        },\n        nextTick: (fn) => {\n            return new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(fn());\n                });\n            });\n        },\n        chunkForSymbol(symbolName, chunk) {\n            return [symbolName, chunk ?? '_'];\n        },\n    };\n};\n/**\n * Convert relative base URI and relative URL into a fully qualified URL.\n *\n * @param base -`QRL`s are relative, and therefore they need a base for resolution.\n *\n *   - `Element` use `base.ownerDocument.baseURI`\n *   - `Document` use `base.baseURI`\n *   - `string` use `base` as is\n *   - `QConfig` use `base.baseURI`\n *\n * @param url - Relative URL\n * @returns Fully qualified URL.\n */\nexport const toUrl = (doc, containerEl, url) => {\n    const baseURI = doc.baseURI;\n    const base = new URL(containerEl.getAttribute('q:base') ?? baseURI, baseURI);\n    return new URL(url, base);\n};\nlet _platform = /*#__PURE__ */ createPlatform();\n// <docs markdown=\"./readme.md#setPlatform\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ./readme.md#setPlatform instead)\n/**\n * Sets the `CorePlatform`.\n *\n * This is useful to override the platform in tests to change the behavior of,\n * `requestAnimationFrame`, and import resolution.\n *\n * @param doc - The document of the application for which the platform is needed.\n * @param platform - The platform to use.\n * @public\n */\n// </docs>\nexport const setPlatform = (plt) => (_platform = plt);\n// <docs markdown=\"./readme.md#getPlatform\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ./readme.md#getPlatform instead)\n/**\n * Retrieve the `CorePlatform`.\n *\n * The `CorePlatform` is also responsible for retrieving the Manifest, that contains mappings from\n * symbols to javascript import chunks. For this reason, `CorePlatform` can't be global, but is\n * specific to the application currently running. On server it is possible that many different\n * applications are running in a single server instance, and for this reason the `CorePlatform` is\n * associated with the application document.\n *\n * @param docOrNode - The document (or node) of the application for which the platform is needed.\n * @public\n */\n// </docs>\nexport const getPlatform = () => {\n    return _platform;\n};\nexport const isServerPlatform = () => {\n    if (qDynamicPlatform) {\n        return _platform.isServer;\n    }\n    return false;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGxhdGZvcm0uanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvc2hhcmVkL3BsYXRmb3JtL3BsYXRmb3JtLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUNoRCxPQUFPLEVBQUUsTUFBTSxFQUFFLHNCQUFzQixFQUFFLDBCQUEwQixFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDNUYsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBQ2pELE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUdqRCxNQUFNLENBQUMsTUFBTSxjQUFjLEdBQUcsR0FBaUIsRUFBRTtJQUMvQyxPQUFPO1FBQ0wsUUFBUTtRQUNSLFlBQVksQ0FBQyxXQUFXLEVBQUUsR0FBRyxFQUFFLFVBQVU7WUFDdkMsSUFBSSxRQUFRLEVBQUUsQ0FBQztnQkFDYixNQUFNLElBQUksR0FBRyxhQUFhLENBQUMsVUFBVSxDQUFDLENBQUM7Z0JBQ3ZDLE1BQU0sTUFBTSxHQUFJLFVBQWtCLENBQUMsa0JBQWtCLEVBQUUsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUNqRSxJQUFJLE1BQU0sRUFBRSxDQUFDO29CQUNYLE9BQU8sTUFBTSxDQUFDO2dCQUNoQixDQUFDO1lBQ0gsQ0FBQztZQUNELElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQztnQkFDVCxNQUFNLE1BQU0sQ0FBQyxzQkFBc0IsRUFBRSxVQUFVLENBQUMsQ0FBQztZQUNuRCxDQUFDO1lBQ0QsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO2dCQUNqQixNQUFNLE1BQU0sQ0FBQywwQkFBMEIsRUFBRSxHQUFHLEVBQUUsVUFBVSxDQUFDLENBQUM7WUFDNUQsQ0FBQztZQUNELE1BQU0sTUFBTSxHQUFHLEtBQUssQ0FBQyxXQUFXLENBQUMsYUFBYSxFQUFFLFdBQVcsRUFBRSxHQUFHLENBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQztZQUM3RSxNQUFNLE9BQU8sR0FBRyxJQUFJLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUNoQyxPQUFPLENBQUMsSUFBSSxHQUFHLEVBQUUsQ0FBQztZQUNsQixNQUFNLFNBQVMsR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDO1lBQy9CLE9BQU8sTUFBTSxDQUFDLGtCQUFrQixDQUFDLFNBQVMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsRUFBRSxFQUFFO2dCQUN2RCxPQUFPLEdBQUcsQ0FBQyxVQUFVLENBQUMsQ0FBQztZQUN6QixDQUFDLENBQUMsQ0FBQztRQUNMLENBQUM7UUFDRCxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRTtZQUNWLE9BQU8sSUFBSSxPQUFPLENBQUMsQ0FBQyxPQUFPLEVBQUUsRUFBRTtnQkFDN0IscUJBQXFCLENBQUMsR0FBRyxFQUFFO29CQUN6QixPQUFPLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztnQkFDaEIsQ0FBQyxDQUFDLENBQUM7WUFDTCxDQUFDLENBQUMsQ0FBQztRQUNMLENBQUM7UUFDRCxRQUFRLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRTtZQUNmLE9BQU8sSUFBSSxPQUFPLENBQUMsQ0FBQyxPQUFPLEVBQUUsRUFBRTtnQkFDN0IsVUFBVSxDQUFDLEdBQUcsRUFBRTtvQkFDZCxPQUFPLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztnQkFDaEIsQ0FBQyxDQUFDLENBQUM7WUFDTCxDQUFDLENBQUMsQ0FBQztRQUNMLENBQUM7UUFDRCxjQUFjLENBQUMsVUFBVSxFQUFFLEtBQUs7WUFDOUIsT0FBTyxDQUFDLFVBQVUsRUFBRSxLQUFLLElBQUksR0FBRyxDQUFDLENBQUM7UUFDcEMsQ0FBQztLQUNGLENBQUM7QUFDSixDQUFDLENBQUM7QUFFRjs7Ozs7Ozs7Ozs7O0dBWUc7QUFDSCxNQUFNLENBQUMsTUFBTSxLQUFLLEdBQUcsQ0FBQyxHQUFhLEVBQUUsV0FBb0IsRUFBRSxHQUFpQixFQUFPLEVBQUU7SUFDbkYsTUFBTSxPQUFPLEdBQUcsR0FBRyxDQUFDLE9BQU8sQ0FBQztJQUM1QixNQUFNLElBQUksR0FBRyxJQUFJLEdBQUcsQ0FBQyxXQUFXLENBQUMsWUFBWSxDQUFDLFFBQVEsQ0FBQyxJQUFJLE9BQU8sRUFBRSxPQUFPLENBQUMsQ0FBQztJQUM3RSxPQUFPLElBQUksR0FBRyxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsQ0FBQztBQUM1QixDQUFDLENBQUM7QUFFRixJQUFJLFNBQVMsR0FBRyxjQUFjLENBQUMsY0FBYyxFQUFFLENBQUM7QUFFaEQsNENBQTRDO0FBQzVDLHlDQUF5QztBQUN6Qyx5Q0FBeUM7QUFDekM7Ozs7Ozs7OztHQVNHO0FBQ0gsVUFBVTtBQUNWLE1BQU0sQ0FBQyxNQUFNLFdBQVcsR0FBRyxDQUFDLEdBQWlCLEVBQUUsRUFBRSxDQUFDLENBQUMsU0FBUyxHQUFHLEdBQUcsQ0FBQyxDQUFDO0FBRXBFLDRDQUE0QztBQUM1Qyx5Q0FBeUM7QUFDekMseUNBQXlDO0FBQ3pDOzs7Ozs7Ozs7OztHQVdHO0FBQ0gsVUFBVTtBQUNWLE1BQU0sQ0FBQyxNQUFNLFdBQVcsR0FBRyxHQUFpQixFQUFFO0lBQzVDLE9BQU8sU0FBUyxDQUFDO0FBQ25CLENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLGdCQUFnQixHQUFHLEdBQUcsRUFBRTtJQUNuQyxJQUFJLGdCQUFnQixFQUFFLENBQUM7UUFDckIsT0FBTyxTQUFTLENBQUMsUUFBUSxDQUFDO0lBQzVCLENBQUM7SUFDRCxPQUFPLEtBQUssQ0FBQztBQUNmLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzU2VydmVyIH0gZnJvbSAnQHF3aWsuZGV2L2NvcmUvYnVpbGQnO1xuaW1wb3J0IHsgcUVycm9yLCBRRXJyb3JfcXJsTWlzc2luZ0NodW5rLCBRRXJyb3JfcXJsTWlzc2luZ0NvbnRhaW5lciB9IGZyb20gJy4uL2Vycm9yL2Vycm9yJztcbmltcG9ydCB7IGdldFN5bWJvbEhhc2ggfSBmcm9tICcuLi9xcmwvcXJsLWNsYXNzJztcbmltcG9ydCB7IHFEeW5hbWljUGxhdGZvcm0gfSBmcm9tICcuLi91dGlscy9xZGV2JztcbmltcG9ydCB0eXBlIHsgQ29yZVBsYXRmb3JtIH0gZnJvbSAnLi90eXBlcyc7XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVQbGF0Zm9ybSA9ICgpOiBDb3JlUGxhdGZvcm0gPT4ge1xuICByZXR1cm4ge1xuICAgIGlzU2VydmVyLFxuICAgIGltcG9ydFN5bWJvbChjb250YWluZXJFbCwgdXJsLCBzeW1ib2xOYW1lKSB7XG4gICAgICBpZiAoaXNTZXJ2ZXIpIHtcbiAgICAgICAgY29uc3QgaGFzaCA9IGdldFN5bWJvbEhhc2goc3ltYm9sTmFtZSk7XG4gICAgICAgIGNvbnN0IHJlZ1N5bSA9IChnbG9iYWxUaGlzIGFzIGFueSkuX19xd2lrX3JlZ19zeW1ib2xzPy5nZXQoaGFzaCk7XG4gICAgICAgIGlmIChyZWdTeW0pIHtcbiAgICAgICAgICByZXR1cm4gcmVnU3ltO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoIXVybCkge1xuICAgICAgICB0aHJvdyBxRXJyb3IoUUVycm9yX3FybE1pc3NpbmdDaHVuaywgc3ltYm9sTmFtZSk7XG4gICAgICB9XG4gICAgICBpZiAoIWNvbnRhaW5lckVsKSB7XG4gICAgICAgIHRocm93IHFFcnJvcihRRXJyb3JfcXJsTWlzc2luZ0NvbnRhaW5lciwgdXJsLCBzeW1ib2xOYW1lKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHVybERvYyA9IHRvVXJsKGNvbnRhaW5lckVsLm93bmVyRG9jdW1lbnQsIGNvbnRhaW5lckVsLCB1cmwpLnRvU3RyaW5nKCk7XG4gICAgICBjb25zdCB1cmxDb3B5ID0gbmV3IFVSTCh1cmxEb2MpO1xuICAgICAgdXJsQ29weS5oYXNoID0gJyc7XG4gICAgICBjb25zdCBpbXBvcnRVUkwgPSB1cmxDb3B5LmhyZWY7XG4gICAgICByZXR1cm4gaW1wb3J0KC8qIEB2aXRlLWlnbm9yZSAqLyBpbXBvcnRVUkwpLnRoZW4oKG1vZCkgPT4ge1xuICAgICAgICByZXR1cm4gbW9kW3N5bWJvbE5hbWVdO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICByYWY6IChmbikgPT4ge1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShmbigpKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIG5leHRUaWNrOiAoZm4pID0+IHtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICByZXNvbHZlKGZuKCkpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgY2h1bmtGb3JTeW1ib2woc3ltYm9sTmFtZSwgY2h1bmspIHtcbiAgICAgIHJldHVybiBbc3ltYm9sTmFtZSwgY2h1bmsgPz8gJ18nXTtcbiAgICB9LFxuICB9O1xufTtcblxuLyoqXG4gKiBDb252ZXJ0IHJlbGF0aXZlIGJhc2UgVVJJIGFuZCByZWxhdGl2ZSBVUkwgaW50byBhIGZ1bGx5IHF1YWxpZmllZCBVUkwuXG4gKlxuICogQHBhcmFtIGJhc2UgLWBRUkxgcyBhcmUgcmVsYXRpdmUsIGFuZCB0aGVyZWZvcmUgdGhleSBuZWVkIGEgYmFzZSBmb3IgcmVzb2x1dGlvbi5cbiAqXG4gKiAgIC0gYEVsZW1lbnRgIHVzZSBgYmFzZS5vd25lckRvY3VtZW50LmJhc2VVUklgXG4gKiAgIC0gYERvY3VtZW50YCB1c2UgYGJhc2UuYmFzZVVSSWBcbiAqICAgLSBgc3RyaW5nYCB1c2UgYGJhc2VgIGFzIGlzXG4gKiAgIC0gYFFDb25maWdgIHVzZSBgYmFzZS5iYXNlVVJJYFxuICpcbiAqIEBwYXJhbSB1cmwgLSBSZWxhdGl2ZSBVUkxcbiAqIEByZXR1cm5zIEZ1bGx5IHF1YWxpZmllZCBVUkwuXG4gKi9cbmV4cG9ydCBjb25zdCB0b1VybCA9IChkb2M6IERvY3VtZW50LCBjb250YWluZXJFbDogRWxlbWVudCwgdXJsOiBzdHJpbmcgfCBVUkwpOiBVUkwgPT4ge1xuICBjb25zdCBiYXNlVVJJID0gZG9jLmJhc2VVUkk7XG4gIGNvbnN0IGJhc2UgPSBuZXcgVVJMKGNvbnRhaW5lckVsLmdldEF0dHJpYnV0ZSgncTpiYXNlJykgPz8gYmFzZVVSSSwgYmFzZVVSSSk7XG4gIHJldHVybiBuZXcgVVJMKHVybCwgYmFzZSk7XG59O1xuXG5sZXQgX3BsYXRmb3JtID0gLyojX19QVVJFX18gKi8gY3JlYXRlUGxhdGZvcm0oKTtcblxuLy8gPGRvY3MgbWFya2Rvd249XCIuL3JlYWRtZS5tZCNzZXRQbGF0Zm9ybVwiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IC4vcmVhZG1lLm1kI3NldFBsYXRmb3JtIGluc3RlYWQpXG4vKipcbiAqIFNldHMgdGhlIGBDb3JlUGxhdGZvcm1gLlxuICpcbiAqIFRoaXMgaXMgdXNlZnVsIHRvIG92ZXJyaWRlIHRoZSBwbGF0Zm9ybSBpbiB0ZXN0cyB0byBjaGFuZ2UgdGhlIGJlaGF2aW9yIG9mLFxuICogYHJlcXVlc3RBbmltYXRpb25GcmFtZWAsIGFuZCBpbXBvcnQgcmVzb2x1dGlvbi5cbiAqXG4gKiBAcGFyYW0gZG9jIC0gVGhlIGRvY3VtZW50IG9mIHRoZSBhcHBsaWNhdGlvbiBmb3Igd2hpY2ggdGhlIHBsYXRmb3JtIGlzIG5lZWRlZC5cbiAqIEBwYXJhbSBwbGF0Zm9ybSAtIFRoZSBwbGF0Zm9ybSB0byB1c2UuXG4gKiBAcHVibGljXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBjb25zdCBzZXRQbGF0Zm9ybSA9IChwbHQ6IENvcmVQbGF0Zm9ybSkgPT4gKF9wbGF0Zm9ybSA9IHBsdCk7XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi9yZWFkbWUubWQjZ2V0UGxhdGZvcm1cIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuL3JlYWRtZS5tZCNnZXRQbGF0Zm9ybSBpbnN0ZWFkKVxuLyoqXG4gKiBSZXRyaWV2ZSB0aGUgYENvcmVQbGF0Zm9ybWAuXG4gKlxuICogVGhlIGBDb3JlUGxhdGZvcm1gIGlzIGFsc28gcmVzcG9uc2libGUgZm9yIHJldHJpZXZpbmcgdGhlIE1hbmlmZXN0LCB0aGF0IGNvbnRhaW5zIG1hcHBpbmdzIGZyb21cbiAqIHN5bWJvbHMgdG8gamF2YXNjcmlwdCBpbXBvcnQgY2h1bmtzLiBGb3IgdGhpcyByZWFzb24sIGBDb3JlUGxhdGZvcm1gIGNhbid0IGJlIGdsb2JhbCwgYnV0IGlzXG4gKiBzcGVjaWZpYyB0byB0aGUgYXBwbGljYXRpb24gY3VycmVudGx5IHJ1bm5pbmcuIE9uIHNlcnZlciBpdCBpcyBwb3NzaWJsZSB0aGF0IG1hbnkgZGlmZmVyZW50XG4gKiBhcHBsaWNhdGlvbnMgYXJlIHJ1bm5pbmcgaW4gYSBzaW5nbGUgc2VydmVyIGluc3RhbmNlLCBhbmQgZm9yIHRoaXMgcmVhc29uIHRoZSBgQ29yZVBsYXRmb3JtYCBpc1xuICogYXNzb2NpYXRlZCB3aXRoIHRoZSBhcHBsaWNhdGlvbiBkb2N1bWVudC5cbiAqXG4gKiBAcGFyYW0gZG9jT3JOb2RlIC0gVGhlIGRvY3VtZW50IChvciBub2RlKSBvZiB0aGUgYXBwbGljYXRpb24gZm9yIHdoaWNoIHRoZSBwbGF0Zm9ybSBpcyBuZWVkZWQuXG4gKiBAcHVibGljXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBjb25zdCBnZXRQbGF0Zm9ybSA9ICgpOiBDb3JlUGxhdGZvcm0gPT4ge1xuICByZXR1cm4gX3BsYXRmb3JtO1xufTtcblxuZXhwb3J0IGNvbnN0IGlzU2VydmVyUGxhdGZvcm0gPSAoKSA9PiB7XG4gIGlmIChxRHluYW1pY1BsYXRmb3JtKSB7XG4gICAgcmV0dXJuIF9wbGF0Zm9ybS5pc1NlcnZlcjtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59O1xuIl19","export const isNode = (value) => {\n    return value && typeof value.nodeType === 'number';\n};\nexport const isDocument = (value) => {\n    return value.nodeType === 9;\n};\nexport const isElement = (value) => {\n    return value.nodeType === 1;\n};\nexport const isText = (value) => {\n    return value.nodeType === 3;\n};\nexport const isComment = (value) => {\n    return value.nodeType === 8;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZWxlbWVudC5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9zaGFyZWQvdXRpbHMvZWxlbWVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxNQUFNLENBQUMsTUFBTSxNQUFNLEdBQUcsQ0FBQyxLQUFVLEVBQWlCLEVBQUU7SUFDbEQsT0FBTyxLQUFLLElBQUksT0FBTyxLQUFLLENBQUMsUUFBUSxLQUFLLFFBQVEsQ0FBQztBQUNyRCxDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxVQUFVLEdBQUcsQ0FBQyxLQUFXLEVBQXFCLEVBQUU7SUFDM0QsT0FBUSxLQUFhLENBQUMsUUFBUSxLQUFLLENBQUMsQ0FBQztBQUN2QyxDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxTQUFTLEdBQUcsQ0FBQyxLQUFhLEVBQW9CLEVBQUU7SUFDM0QsT0FBUSxLQUFhLENBQUMsUUFBUSxLQUFLLENBQUMsQ0FBQztBQUN2QyxDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxNQUFNLEdBQUcsQ0FBQyxLQUFxQixFQUFpQixFQUFFO0lBQzdELE9BQVEsS0FBYSxDQUFDLFFBQVEsS0FBSyxDQUFDLENBQUM7QUFDdkMsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sU0FBUyxHQUFHLENBQUMsS0FBcUIsRUFBb0IsRUFBRTtJQUNuRSxPQUFRLEtBQWEsQ0FBQyxRQUFRLEtBQUssQ0FBQyxDQUFDO0FBQ3ZDLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBpc05vZGUgPSAodmFsdWU6IGFueSk6IHZhbHVlIGlzIE5vZGUgPT4ge1xuICByZXR1cm4gdmFsdWUgJiYgdHlwZW9mIHZhbHVlLm5vZGVUeXBlID09PSAnbnVtYmVyJztcbn07XG5cbmV4cG9ydCBjb25zdCBpc0RvY3VtZW50ID0gKHZhbHVlOiBOb2RlKTogdmFsdWUgaXMgRG9jdW1lbnQgPT4ge1xuICByZXR1cm4gKHZhbHVlIGFzIGFueSkubm9kZVR5cGUgPT09IDk7XG59O1xuXG5leHBvcnQgY29uc3QgaXNFbGVtZW50ID0gKHZhbHVlOiBvYmplY3QpOiB2YWx1ZSBpcyBFbGVtZW50ID0+IHtcbiAgcmV0dXJuICh2YWx1ZSBhcyBhbnkpLm5vZGVUeXBlID09PSAxO1xufTtcblxuZXhwb3J0IGNvbnN0IGlzVGV4dCA9ICh2YWx1ZTogTm9kZSB8IEVsZW1lbnQpOiB2YWx1ZSBpcyBUZXh0ID0+IHtcbiAgcmV0dXJuICh2YWx1ZSBhcyBhbnkpLm5vZGVUeXBlID09PSAzO1xufTtcblxuZXhwb3J0IGNvbnN0IGlzQ29tbWVudCA9ICh2YWx1ZTogTm9kZSB8IEVsZW1lbnQpOiB2YWx1ZSBpcyBDb21tZW50ID0+IHtcbiAgcmV0dXJuICh2YWx1ZSBhcyBhbnkpLm5vZGVUeXBlID09PSA4O1xufTtcbiJdfQ==","import { throwErrorAndStop } from './log';\nexport const isPromise = (value) => {\n    // not using \"value instanceof Promise\" to have zone.js support\n    return !!value && typeof value == 'object' && typeof value.then === 'function';\n};\nexport const safeCall = (call, thenFn, rejectFn) => {\n    try {\n        const result = call();\n        if (isPromise(result)) {\n            return result.then(thenFn, rejectFn);\n        }\n        else {\n            return thenFn(result);\n        }\n    }\n    catch (e) {\n        return rejectFn(e);\n    }\n};\nexport const maybeThen = (valueOrPromise, thenFn) => {\n    return isPromise(valueOrPromise)\n        ? valueOrPromise.then(thenFn, shouldNotError)\n        : thenFn(valueOrPromise);\n};\nexport const maybeThenPassError = (valueOrPromise, thenFn) => {\n    return isPromise(valueOrPromise)\n        ? valueOrPromise.then(thenFn)\n        : thenFn(valueOrPromise);\n};\nexport const shouldNotError = (reason) => {\n    throwErrorAndStop('QWIK ERROR:', reason);\n};\nexport const maybeThenMap = (array, thenMapFn, thenFn) => {\n    const length = array.length;\n    const mappedArray = [];\n    let idx = 0;\n    const drain = () => {\n        let result;\n        do {\n            const item = array[idx];\n            result = isPromise(item) ? item.then(thenMapFn) : thenMapFn(item);\n            if (isPromise(result)) {\n                return result.then((value) => {\n                    mappedArray[idx] = value;\n                    return drain();\n                });\n            }\n            else {\n                mappedArray[idx] = result;\n                idx++;\n            }\n        } while (idx < length);\n        return mappedArray;\n    };\n    return maybeThen(drain(), thenFn);\n};\nexport const promiseAll = (promises) => {\n    const hasPromise = promises.some(isPromise);\n    if (hasPromise) {\n        return Promise.all(promises);\n    }\n    return promises;\n};\nexport const promiseAllLazy = (promises) => {\n    if (promises.length > 0) {\n        return Promise.all(promises);\n    }\n    return promises;\n};\nexport const isNotNullable = (v) => {\n    return v != null;\n};\nexport const delay = (timeout) => {\n    return new Promise((resolve) => {\n        setTimeout(resolve, timeout);\n    });\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvbWlzZXMuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvc2hhcmVkL3V0aWxzL3Byb21pc2VzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLE9BQU8sQ0FBQztBQUsxQyxNQUFNLENBQUMsTUFBTSxTQUFTLEdBQUcsQ0FBQyxLQUFVLEVBQXlCLEVBQUU7SUFDN0QsK0RBQStEO0lBQy9ELE9BQU8sQ0FBQyxDQUFDLEtBQUssSUFBSSxPQUFPLEtBQUssSUFBSSxRQUFRLElBQUksT0FBTyxLQUFLLENBQUMsSUFBSSxLQUFLLFVBQVUsQ0FBQztBQUNqRixDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxRQUFRLEdBQUcsQ0FDdEIsSUFBNkIsRUFDN0IsTUFBc0QsRUFDdEQsUUFBb0QsRUFDN0IsRUFBRTtJQUN6QixJQUFJLENBQUM7UUFDSCxNQUFNLE1BQU0sR0FBRyxJQUFJLEVBQUUsQ0FBQztRQUN0QixJQUFJLFNBQVMsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDO1lBQ3RCLE9BQU8sTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFhLEVBQUUsUUFBUSxDQUFDLENBQUM7UUFDOUMsQ0FBQzthQUFNLENBQUM7WUFDTixPQUFPLE1BQU0sQ0FBQyxNQUFhLENBQUMsQ0FBQztRQUMvQixDQUFDO0lBQ0gsQ0FBQztJQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUM7UUFDWCxPQUFPLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNyQixDQUFDO0FBQ0gsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sU0FBUyxHQUFHLENBQ3ZCLGNBQWlDLEVBQ2pDLE1BQThDLEVBQzNCLEVBQUU7SUFDckIsT0FBTyxTQUFTLENBQUMsY0FBYyxDQUFDO1FBQzlCLENBQUMsQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLE1BQWEsRUFBRSxjQUFjLENBQUM7UUFDcEQsQ0FB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O1FBQzdCLFVBQVUsQ0FBQyxPQUFPLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDL0IsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB0aHJvd0Vycm9yQW5kU3RvcCB9IGZyb20gJy4vbG9nJztcbmltcG9ydCB0eXBlIHsgVmFsdWVPclByb21pc2UgfSBmcm9tICcuL3R5cGVzJztcblxuZXhwb3J0IHR5cGUgUHJvbWlzZVRyZWU8VD4gPSBUIHwgUHJvbWlzZTxUPiB8IFByb21pc2U8VFtdPiB8IEFycmF5PFByb21pc2VUcmVlPFQ+PjtcblxuZXhwb3J0IGNvbnN0IGlzUHJvbWlzZSA9ICh2YWx1ZTogYW55KTogdmFsdWUgaXMgUHJvbWlzZTxhbnk+ID0+IHtcbiAgLy8gbm90IHVzaW5nIFwidmFsdWUgaW5zdGFuY2VvZiBQcm9taXNlXCIgdG8gaGF2ZSB6b25lLmpzIHN1cHBvcnRcbiAgcmV0dXJuICEhdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnICYmIHR5cGVvZiB2YWx1ZS50aGVuID09PSAnZnVuY3Rpb24nO1xufTtcblxuZXhwb3J0IGNvbnN0IHNhZmVDYWxsID0gPFQsIEIsIEM+KFxuICBjYWxsOiAoKSA9PiBWYWx1ZU9yUHJvbWlzZTxUPixcbiAgdGhlbkZuOiB7IGYoYXJnOiBBd2FpdGVkPFQ+KTogVmFsdWVPclByb21pc2U8Qj4gfVsnZiddLFxuICByZWplY3RGbjogeyBmKHJlYXNvbjogYW55KTogVmFsdWVPclByb21pc2U8Qz4gfVsnZiddXG4pOiBWYWx1ZU9yUHJvbWlzZTxCIHwgQz4gPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHJlc3VsdCA9IGNhbGwoKTtcbiAgICBpZiAoaXNQcm9taXNlKHJlc3VsdCkpIHtcbiAgICAgIHJldHVybiByZXN1bHQudGhlbih0aGVuRm4gYXMgYW55LCByZWplY3RGbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGVuRm4ocmVzdWx0IGFzIGFueSk7XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIHJlamVjdEZuKGUpO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgbWF5YmVUaGVuID0gPFQsIEI+KFxuICB2YWx1ZU9yUHJvbWlzZTogVmFsdWVPclByb21pc2U8VD4sXG4gIHRoZW5GbjogKGFyZzogQXdhaXRlZDxUPikgPT4gVmFsdWVPclByb21pc2U8Qj5cbik6IFZhbHVlT3JQcm9taXNlPEI+ID0+IHtcbiAgcmV0dXJuIGlzUHJvbWlzZSh2YWx1ZU9yUHJvbWlzZSlcbiAgICA/IHZhbHVlT3JQcm9taXNlLnRoZW4odGhlbkZuIGFzIGFueSwgc2hvdWxkTm90RXJyb3IpXG4gICAgOiB0aGVuRm4odmFsdWVPclByb21pc2UgYXMgYW55KTtcbn07XG5cbmV4cG9ydCBjb25zdCBtYXliZVRoZW5QYXNzRXJyb3IgPSA8VCwgQj4oXG4gIHZhbHVlT3JQcm9taXNlOiBWYWx1ZU9yUHJvbWlzZTxUPixcbiAgdGhlbkZuOiAoYXJnOiBBd2FpdGVkPFQ+KSA9PiBWYWx1ZU9yUHJvbWlzZTxCPlxuKTogVmFsdWVPclByb21pc2U8Qj4gPT4ge1xuICByZXR1cm4gaXNQcm9taXNlKHZhbHVlT3JQcm9taXNlKVxuICAgID8gdmFsdWVPclByb21pc2UudGhlbih0aGVuRm4gYXMgYW55KVxuICAgIDogdGhlbkZuKHZhbHVlT3JQcm9taXNlIGFzIGFueSk7XG59O1xuXG5leHBvcnQgY29uc3Qgc2hvdWxkTm90RXJyb3IgPSAocmVhc29uOiBhbnkpOiBhbnkgPT4ge1xuICB0aHJvd0Vycm9yQW5kU3RvcCgnUVdJSyBFUlJPUjonLCByZWFzb24pO1xufTtcblxuZXhwb3J0IGNvbnN0IG1heWJlVGhlbk1hcCA9IDxULCBNQVBfUkVULCBSRVQ+KFxuICBhcnJheTogVmFsdWVPclByb21pc2U8VD5bXSxcbiAgdGhlbk1hcEZuOiAoaXRlbTogVCkgPT4gVmFsdWVPclByb21pc2U8TUFQX1JFVD4sXG4gIHRoZW5GbjogKGl0ZW1zOiBNQVBfUkVUW10pID0+IFZhbHVlT3JQcm9taXNlPFJFVD5cbik6IFZhbHVlT3JQcm9taXNlPFJFVD4gPT4ge1xuICBjb25zdCBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gIGNvbnN0IG1hcHBlZEFycmF5OiBNQVBfUkVUW10gPSBbXTtcbiAgbGV0IGlkeCA9IDA7XG4gIGNvbnN0IGRyYWluID0gKCk6IFZhbHVlT3JQcm9taXNlPE1BUF9SRVRbXT4gPT4ge1xuICAgIGxldCByZXN1bHQ6IFZhbHVlT3JQcm9taXNlPE1BUF9SRVQ+O1xuICAgIGRvIHtcbiAgICAgIGNvbnN0IGl0ZW0gPSBhcnJheVtpZHhdO1xuICAgICAgcmVzdWx0ID0gaXNQcm9taXNlKGl0ZW0pID8gaXRlbS50aGVuKHRoZW5NYXBGbikgOiB0aGVuTWFwRm4oaXRlbSk7XG4gICAgICBpZiAoaXNQcm9taXNlKHJlc3VsdCkpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdC50aGVuKCh2YWx1ZSkgPT4ge1xuICAgICAgICAgIG1hcHBlZEFycmF5W2lkeF0gPSB2YWx1ZTtcbiAgICAgICAgICByZXR1cm4gZHJhaW4oKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtYXBwZWRBcnJheVtpZHhdID0gcmVzdWx0O1xuICAgICAgICBpZHgrKztcbiAgICAgIH1cbiAgICB9IHdoaWxlIChpZHggPCBsZW5ndGgpO1xuICAgIHJldHVybiBtYXBwZWRBcnJheTtcbiAgfTtcbiAgcmV0dXJuIG1heWJlVGhlbihkcmFpbigpLCB0aGVuRm4pO1xufTtcblxuZXhwb3J0IGNvbnN0IHByb21pc2VBbGwgPSA8VCBleHRlbmRzIHJlYWRvbmx5IHVua25vd25bXSB8IFtdPihcbiAgcHJvbWlzZXM6IFRcbik6IFZhbHVlT3JQcm9taXNlPHsgLXJlYWRvbmx5IFtQIGluIGtleW9mIFRdOiBBd2FpdGVkPFRbUF0+IH0+ID0+IHtcbiAgY29uc3QgaGFzUHJvbWlzZSA9IHByb21pc2VzLnNvbWUoaXNQcm9taXNlKTtcbiAgaWYgKGhhc1Byb21pc2UpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xuICB9XG4gIHJldHVybiBwcm9taXNlcyBhcyBhbnk7XG59O1xuXG5leHBvcnQgY29uc3QgcHJvbWlzZUFsbExhenkgPSA8VCBleHRlbmRzIHJlYWRvbmx5IHVua25vd25bXSB8IFtdPihcbiAgcHJvbWlzZXM6IFRcbik6IFZhbHVlT3JQcm9taXNlPHZvaWQ+ID0+IHtcbiAgaWYgKHByb21pc2VzLmxlbmd0aCA+IDApIHtcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpIGFzIGFueTtcbiAgfVxuICByZXR1cm4gcHJvbWlzZXMgYXMgYW55O1xufTtcblxuZXhwb3J0IGNvbnN0IGlzTm90TnVsbGFibGUgPSA8VD4odjogVCk6IHYgaXMgTm9uTnVsbGFibGU8VD4gPT4ge1xuICByZXR1cm4gdiAhPSBudWxsO1xufTtcblxuZXhwb3J0IGNvbnN0IGRlbGF5ID0gKHRpbWVvdXQ6IG51bWJlcikgPT4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICBzZXRUaW1lb3V0KHJlc29sdmUsIHRpbWVvdXQpO1xuICB9KTtcbn07XG4iXX0=","/** @private */\nexport const isHtmlElement = (node) => {\n    return node ? node.nodeType === 1 : false;\n};\nexport const isSerializableObject = (v) => {\n    const proto = Object.getPrototypeOf(v);\n    return proto === Object.prototype || proto === Array.prototype || proto === null;\n};\nexport const isObject = (v) => {\n    return !!v && typeof v === 'object';\n};\nexport const isArray = (v) => {\n    return Array.isArray(v);\n};\nexport const isString = (v) => {\n    return typeof v === 'string';\n};\nexport const isFunction = (v) => {\n    return typeof v === 'function';\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHlwZXMuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvc2hhcmVkL3V0aWxzL3R5cGVzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLGVBQWU7QUFDZixNQUFNLENBQUMsTUFBTSxhQUFhLEdBQUcsQ0FBQyxJQUFhLEVBQW1CLEVBQUU7SUFDOUQsT0FBTyxJQUFJLENBQUMsQ0FBQyxDQUFFLElBQWEsQ0FBQyxRQUFRLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7QUFDdEQsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sb0JBQW9CLEdBQUcsQ0FBQyxDQUFVLEVBQWdDLEVBQUU7SUFDL0UsTUFBTSxLQUFLLEdBQUcsTUFBTSxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUN2QyxPQUFPLEtBQUssS0FBSyxNQUFNLENBQUMsU0FBUyxJQUFJLEtBQUssS0FBSyxLQUFLLENBQUMsU0FBUyxJQUFJLEtBQUssS0FBSyxJQUFJLENBQUM7QUFDbkYsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sUUFBUSxHQUFHLENBQUMsQ0FBVSxFQUFlLEVBQUU7SUFDbEQsT0FBTyxDQUFDLENBQUMsQ0FBQyxJQUFJLE9BQU8sQ0FBQyxLQUFLLFFBQVEsQ0FBQztBQUN0QyxDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxPQUFPLEdBQUcsQ0FBQyxDQUFVLEVBQWtCLEVBQUU7SUFDcEQsT0FBTyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQzFCLENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLFFBQVEsR0FBRyxDQUFDLENBQVUsRUFBZSxFQUFFO0lBQ2xELE9BQU8sT0FBTyxDQUFDLEtBQUssUUFBUSxDQUFDO0FBQy9CLENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLFVBQVUsR0FBRyxDQUFrQyxDQUFVLEVBQVUsRUFBRTtJQUNoRixPQUFPLE9BQU8sQ0FBQyxLQUFLLFVBQVUsQ0FBQztBQUNqQyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiogQHByaXZhdGUgKi9cbmV4cG9ydCBjb25zdCBpc0h0bWxFbGVtZW50ID0gKG5vZGU6IHVua25vd24pOiBub2RlIGlzIEVsZW1lbnQgPT4ge1xuICByZXR1cm4gbm9kZSA/IChub2RlIGFzIE5vZGUpLm5vZGVUeXBlID09PSAxIDogZmFsc2U7XG59O1xuXG5leHBvcnQgY29uc3QgaXNTZXJpYWxpemFibGVPYmplY3QgPSAodjogdW5rbm93bik6IHYgaXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPT4ge1xuICBjb25zdCBwcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZih2KTtcbiAgcmV0dXJuIHByb3RvID09PSBPYmplY3QucHJvdG90eXBlIHx8IHByb3RvID09PSBBcnJheS5wcm90b3R5cGUgfHwgcHJvdG8gPT09IG51bGw7XG59O1xuXG5leHBvcnQgY29uc3QgaXNPYmplY3QgPSAodjogdW5rbm93bik6IHYgaXMgb2JqZWN0ID0+IHtcbiAgcmV0dXJuICEhdiAmJiB0eXBlb2YgdiA9PT0gJ29iamVjdCc7XG59O1xuXG5leHBvcnQgY29uc3QgaXNBcnJheSA9ICh2OiB1bmtub3duKTogdiBpcyB1bmtub3duW10gPT4ge1xuICByZXR1cm4gQXJyYXkuaXNBcnJheSh2KTtcbn07XG5cbmV4cG9ydCBjb25zdCBpc1N0cmluZyA9ICh2OiB1bmtub3duKTogdiBpcyBzdHJpbmcgPT4ge1xuICByZXR1cm4gdHlwZW9mIHYgPT09ICdzdHJpbmcnO1xufTtcblxuZXhwb3J0IGNvbnN0IGlzRnVuY3Rpb24gPSA8VCBleHRlbmRzICguLi5hcmdzOiBhbnkpID0+IGFueT4odjogdW5rbm93bik6IHYgaXMgVCA9PiB7XG4gIHJldHVybiB0eXBlb2YgdiA9PT0gJ2Z1bmN0aW9uJztcbn07XG5cbi8qKlxuICogVHlwZSByZXByZXNlbnRpbmcgYSB2YWx1ZSB3aGljaCBpcyBlaXRoZXIgcmVzb2x2ZSBvciBhIHByb21pc2UuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdHlwZSBWYWx1ZU9yUHJvbWlzZTxUPiA9IFQgfCBQcm9taXNlPFQ+O1xuIl19","export const isContainer = (container) => {\n    return container && typeof container === 'object' && typeof container.setHostProp === 'function';\n};\n/**\n * A friendly name tag for a VirtualVNode.\n *\n * Theses are used to give a name to a VirtualVNode. This is useful for debugging and testing.\n *\n * The name is only added in development mode and is not included in production builds.\n */\nexport const DEBUG_TYPE = 'q:type';\nexport var VirtualType;\n(function (VirtualType) {\n    VirtualType[\"Virtual\"] = \"V\";\n    VirtualType[\"Fragment\"] = \"F\";\n    VirtualType[\"WrappedSignal\"] = \"S\";\n    VirtualType[\"Awaited\"] = \"A\";\n    VirtualType[\"Component\"] = \"C\";\n    VirtualType[\"InlineComponent\"] = \"I\";\n    VirtualType[\"Projection\"] = \"P\";\n})(VirtualType || (VirtualType = {}));\nconst START = '\\x1b[34m';\nconst END = '\\x1b[0m';\nexport const VirtualTypeName = {\n    [VirtualType.Virtual]: /* ********* */ START + 'Virtual' + END, //\n    [VirtualType.Fragment]: /* ******** */ START + 'Fragment' + END, //\n    [VirtualType.WrappedSignal]: /* *** */ START + 'Signal' + END, //\n    [VirtualType.Awaited]: /* ********* */ START + 'Awaited' + END, //\n    [VirtualType.Component]: /* ******* */ START + 'Component' + END, //\n    [VirtualType.InlineComponent]: /* * */ START + 'InlineComponent' + END, //\n    [VirtualType.Projection]: /* ****** */ START + 'Projection' + END, //\n};\nexport var QContainerValue;\n(function (QContainerValue) {\n    QContainerValue[\"PAUSED\"] = \"paused\";\n    QContainerValue[\"RESUMED\"] = \"resumed\";\n    // these values below are used in the qwik loader as a plain text for the q:container selector\n    // standard dangerouslySetInnerHTML\n    QContainerValue[\"HTML\"] = \"html\";\n    // textarea\n    QContainerValue[\"TEXT\"] = \"text\";\n})(QContainerValue || (QContainerValue = {}));\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHlwZXMuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvc2hhcmVkL3R5cGVzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQXNFQSxNQUFNLENBQUMsTUFBTSxXQUFXLEdBQUcsQ0FBQyxTQUFjLEVBQTBCLEVBQUU7SUFDcEUsT0FBTyxTQUFTLElBQUksT0FBTyxTQUFTLEtBQUssUUFBUSxJQUFJLE9BQU8sU0FBUyxDQUFDLFdBQVcsS0FBSyxVQUFVLENBQUM7QUFDbkcsQ0FBQyxDQUFDO0FBRUY7Ozs7OztHQU1HO0FBQ0gsTUFBTSxDQUFDLE1BQU0sVUFBVSxHQUFHLFFBQVEsQ0FBQztBQUVuQyxNQUFNLENBQU4sSUFBWSxXQVFYO0FBUkQsV0FBWSxXQUFXO0lBQ3JCLDRCQUFhLENBQUE7SUFDYiw2QkFBYyxDQUFBO0lBQ2Qsa0NBQW1CLENBQUE7SUFDbkIsNEJBQWEsQ0FBQTtJQUNiLDhCQUFlLENBQUE7SUFDZixvQ0FBcUIsQ0FBQTtJQUNyQiwrQkFBZ0IsQ0FBQTtBQUNsQixDQUFDLEVBUlcsV0FBVyxLQUFYLFdBQVcsUUFRdEI7QUFFRCxNQUFNLEtBQUssR0FBRyxVQUFVLENBQUM7QUFDekIsTUFBTSxHQUFHLEdBQUcsU0FBUyxDQUFDO0FBRXRCLE1BQU0sQ0FBQyxNQUFNLGVBQWUsR0FBMkI7SUFDckQsQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLEVBQUUsZUFBZSxDQUFDLEtBQUssR0FBRyxTQUFTLEdBQUcsR0FBRyxFQUFFLEVBQUU7SUFDbEUsQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDLEVBQUUsY0FBYyxDQUFDLEtBQUssR0FBRyxVQUFVLEdBQUcsR0FBRyxFQUFFLEVBQUU7SUFDbkUsQ0FBQyxXQUFXLENBQUMsYUFBYSxDQUFDLEVBQUUsU0FBUyxDQUFDLEtBQUssR0FBRyxRQUFRLEdBQUcsR0FBRyxFQUFFLEVBQUU7SUFDakUsQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLEVBQUUsZUFBZSxDQUFDLEtBQUssR0FBRyxTQUFTLEdBQUcsR0FBRyxFQUFFLEVBQUU7SUFDbEUsQ0FBQyxXQUFXLENBQUMsU0FBUyxDQUFDLEVBQUUsYUFBYSxDQUFDLEtBQUssR0FBRyxXQUFXLEdBQUcsR0FBRyxFQUFFLEVBQUU7SUFDcEUsQ0FBQyxXQUFXLENBQUMsZUFBZSxDQUFDLEVBQUUsT0FBTyxDQUFDLEtBQUssR0FBRyxpQkFBaUIsR0FBRyxHQUFHLEVBQUUsRUFBRTtJQUMxRSxDQUFDLFdBQVcsQ0FBQyxVQUFVLENBQUMsRUFBRSxZQUFZLENBQUMsS0FBSyxHQUFHLFlBQVksR0FBRyxHQUFHLEVBQUUsRUFBRTtDQUN0RSxDQUFDO0FBRUYsTUFBTSxDQUFOLElBQWtCLGVBUWpCO0FBUkQsV0FBa0IsZUFBZTtJQUMvQixvQ0FBaUIsQ0FBQTtJQUNqQixzQ0FBbUIsQ0FBQTtJQUNuQiw4RkFBOEY7SUFDOUYsbUNBQW1DO0lBQ25DLGdDQUFhLENBQUE7SUFDYixXQUFXO0lBQ1gsZ0NBQWEsQ0FBQTtBQUNmLENBQUMsRUFSaUIsZUFBZSxLQUFmLGVBQWUsUUFRaEMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IEpTWE91dHB1dCB9IGZyb20gJy4vanN4L3R5cGVzL2pzeC1ub2RlJztcbmltcG9ydCB0eXBlIHsgQ29udGV4dElkIH0gZnJvbSAnLi4vdXNlL3VzZS1jb250ZXh0JztcbmltcG9ydCB0eXBlIHsgVmFsdWVPclByb21pc2UgfSBmcm9tICcuL3V0aWxzL3R5cGVzJztcbmltcG9ydCB0eXBlIHsgVk5vZGUgfSBmcm9tICcuLi9jbGllbnQvdHlwZXMnO1xuaW1wb3J0IHR5cGUgeyBJU3NyTm9kZSwgU3RyZWFtV3JpdGVyLCBTeW1ib2xUb0NodW5rUmVzb2x2ZXIgfSBmcm9tICcuLi9zc3Ivc3NyLXR5cGVzJztcbmltcG9ydCB0eXBlIHsgU2NoZWR1bGVyIH0gZnJvbSAnLi9zY2hlZHVsZXInO1xuaW1wb3J0IHR5cGUgeyBTZXJpYWxpemF0aW9uQ29udGV4dCB9IGZyb20gJy4vc2hhcmVkLXNlcmlhbGl6YXRpb24nO1xuXG5leHBvcnQgaW50ZXJmYWNlIERlc2VyaWFsaXplQ29udGFpbmVyIHtcbiAgJGdldE9iamVjdEJ5SWQkOiAoaWQ6IG51bWJlciB8IHN0cmluZykgPT4gdW5rbm93bjtcbiAgZWxlbWVudDogSFRNTEVsZW1lbnQgfCBudWxsO1xuICBnZXRTeW5jRm46IChpZDogbnVtYmVyKSA9PiAoLi4uYXJnczogdW5rbm93bltdKSA9PiB1bmtub3duO1xuICAkc3RhdGUkPzogdW5rbm93bltdO1xuICAkc3RvcmVQcm94eU1hcCQ6IE9ialRvUHJveHlNYXA7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29udGFpbmVyIHtcbiAgcmVhZG9ubHkgJHZlcnNpb24kOiBzdHJpbmc7XG4gIHJlYWRvbmx5ICRzY2hlZHVsZXIkOiBTY2hlZHVsZXI7XG4gIHJlYWRvbmx5ICRzdG9yZVByb3h5TWFwJDogT2JqVG9Qcm94eU1hcDtcbiAgLy8vIEN1cnJlbnQgbGFuZ3VhZ2UgbG9jYWxlXG4gIHJlYWRvbmx5ICRsb2NhbGUkOiBzdHJpbmc7XG4gIC8vLyBSZXRyaWV2ZSBPYmplY3QgZnJvbSBwYXVzZWQgc2VyaWFsaXplZCBzdGF0ZS5cbiAgcmVhZG9ubHkgJGdldE9iamVjdEJ5SWQkOiAoaWQ6IG51bWJlciB8IHN0cmluZykgPT4gYW55O1xuICByZWFkb25seSAkc2VydmVyRGF0YSQ6IFJlY29yZDxzdHJpbmcsIGFueT47XG4gICRjdXJyZW50VW5pcXVlSWQkOiBudW1iZXI7XG5cbiAgLy8gVE9ETyhtaXNrbyk6IEkgdGhpbmsgYHByb2Nlc3NKc3hgIGNhbiBiZSBkZWxldGVkLlxuICBwcm9jZXNzSnN4KGhvc3Q6IEhvc3RFbGVtZW50LCBqc3g6IEpTWE91dHB1dCk6IFZhbHVlT3JQcm9taXNlPHZvaWQ+O1xuICBoYW5kbGVFcnJvcihlcnI6IGFueSwgJGhvc3QkOiBIb3N0RWxlbWVudCk6IHZvaWQ7XG4gIGdldFBhcmVudEhvc3QoaG9zdDogSG9zdEVsZW1lbnQpOiBIb3N0RWxlbWVudCB8IG51bGw7XG4gIHNldENvbnRleHQ8VD4oaG9zdDogSG9zdEVsZW1lbnQsIGNvbnRleHQ6IENvbnRleHRJZDxUPiwgdmFsdWU6IFQpOiB2b2lkO1xuICByZXNvbHZlQ29udGV4dDxUPihob3N0OiBIb3N0RWxlbWVudCwgY29udGV4dElkOiBDb250ZXh0SWQ8VD4pOiBUIHwgdW5kZWZpbmVkO1xuICBzZXRIb3N0UHJvcDxUPihob3N0OiBIb3N0RWxlbWVudCwgbmFtZTogc3RyaW5nLCB2YWx1ZTogVCk6IHZvaWQ7XG4gIGdldEhvc3RQcm9wPFQ+KGhvc3Q6IEhvc3RFbGVtZW50LCBuYW1lOiBzdHJpbmcpOiBUIHwgbnVsbDtcbiAgJGFwcGVuZFN0eWxlJChjb250ZW50OiBzdHJpbmcsIHN0eWxlSWQ6IHN0cmluZywgaG9zdDogSG9zdEVsZW1lbnQsIHNjb3BlZDogYm9vbGVhbik6IHZvaWQ7XG4gIC8qKlxuICAgKiBXaGVuIGNvbXBvbmVudCBpcyBhYm91dCB0byBiZSBleGVjdXRlZCwgaXQgbWF5IGFkZC9yZW1vdmUgY2hpbGRyZW4uIFRoaXMgY2FuIGNhdXNlIHByb2JsZW1zXG4gICAqIHdpdGggdGhlIHByb2plY3Rpb24gYmVjYXVzZSBkZWxldGluZyBjb250ZW50IHdpbGwgcHJldmVudCB0aGUgcHJvamVjdGlvbiByZWZlcmVuY2VzIGZyb21cbiAgICogbG9va2luZyB1cCB2bm9kZXMuIFRoZXJlZm9yZSBiZWZvcmUgd2UgZXhlY3V0ZSB0aGUgY29tcG9uZW50IHdlIG5lZWQgdG8gZW5zdXJlIHRoYXQgYWxsIG9mIGl0c1xuICAgKiByZWZlcmVuY2VzIHRvIHZub2RlIGFyZSByZXNvbHZlZC5cbiAgICpcbiAgICogQHBhcmFtIHJlbmRlckhvc3QgLSBIb3N0IGVsZW1lbnQgdG8gZW5zdXJlIHByb2plY3Rpb24gaXMgcmVzb2x2ZWQuXG4gICAqL1xuICBlbnN1cmVQcm9qZWN0aW9uUmVzb2x2ZWQoaG9zdDogSG9zdEVsZW1lbnQpOiB2b2lkO1xuICBzZXJpYWxpemF0aW9uQ3R4RmFjdG9yeShcbiAgICBOb2RlQ29uc3RydWN0b3I6IHtcbiAgICAgIG5ldyAoLi4ucmVzdDogYW55W10pOiB7IG5vZGVUeXBlOiBudW1iZXI7IGlkOiBzdHJpbmcgfTtcbiAgICB9IHwgbnVsbCxcbiAgICBzeW1ib2xUb0NodW5rUmVzb2x2ZXI6IFN5bWJvbFRvQ2h1bmtSZXNvbHZlcixcbiAgICB3cml0ZXI/OiBTdHJlYW1Xcml0ZXJcbiAgKTogU2VyaWFsaXphdGlvbkNvbnRleHQ7XG59XG5cbmV4cG9ydCB0eXBlIEhvc3RFbGVtZW50ID0gVk5vZGUgfCBJU3NyTm9kZTtcblxuZXhwb3J0IGludGVyZmFjZSBRRWxlbWVudCBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgcURpc3BhdGNoRXZlbnQ/OiAoZXZlbnQ6IEV2ZW50LCBzY29wZTogUXdpa0xvYWRlckV2ZW50U2NvcGUpID0+IGJvb2xlYW47XG59XG5cbmV4cG9ydCB0eXBlIHFXaW5kb3cgPSBXaW5kb3cgJiB7XG4gIHF3aWtldmVudHM6IHtcbiAgICBldmVudHM6IFNldDxzdHJpbmc+O1xuICAgIHJvb3RzOiBTZXQ8Tm9kZT47XG4gICAgcHVzaDogKC4uLmU6IChzdHJpbmcgfCAoRXZlbnRUYXJnZXQgJiBQYXJlbnROb2RlKSlbXSkgPT4gdm9pZDtcbiAgfTtcbn07XG5cbmV4cG9ydCB0eXBlIFF3aWtMb2FkZXJFdmVudFNjb3BlID0gJy1kb2N1bWVudCcgfCAnLXdpbmRvdycgfCAnJztcblxuZXhwb3J0IGNvbnN0IGlzQ29udGFpbmVyID0gKGNvbnRhaW5lcjogYW55KTogY29udGFpbmVyIGlzIENvbnRhaW5lciA9PiB7XG4gIHJldHVybiBjb250YWluZXIgJiYgdHlwZW9mIGNvbnRhaW5lciA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIGNvbnRhaW5lci5zZXRIb3N0UHJvcCA9PT0gJ2Z1bmN0aW9uJztcbn07XG5cbi8qKlxuICogQSBmcmllbmRseSBuYW1lIHRhZyBmb3IgYSBWaXJ0dWFsVk5vZGUuXG4gKlxuICogVGhlc2VzIGFyZSB1c2VkIHRvIGdpdmUgYSBuYW1lIHRvIGEgVmlydHVhbFZOb2RlLiBUaGlzIGlzIHVzZWZ1bCBmb3IgZGVidWdnaW5nIGFuZCB0ZXN0aW5nLlxuICpcbiAqIFRoZSBuYW1lIGlzIG9ubHkgYWRkZWQgaW4gZGV2ZWxvcG1lbnQgbW9kZSBhbmQgaXMgbm90IGluY2x1ZGVkIGluIHByb2R1Y3Rpb24gYnVpbGRzLlxuICovXG5leHBvcnQgY29uc3QgREVCVUdfVFlQRSA9ICdxOnR5cGUnO1xuXG5leHBvcnQgZW51bSBWaXJ0dWFsVHlwZSB7XG4gIFZpcnR1YWwgPSAnVicsXG4gIEZyYWdtZW50ID0gJ0YnLFxuICBXcmFwcGVkU2lnbmFsID0gJ1MnLFxuICBBd2FpdGVkID0gJ0EnLFxuICBDb21wb25lbnQgPSAnQycsXG4gIElubGluZUNvbXBvbmVudCA9ICdJJyxcbiAgUHJvamVjdGlvbiA9ICdQJyxcbn1cblxuY29uc3QgU1RBUlQgPSAnXFx4MWJbMzRtJztcbmNvbnN0IEVORCA9ICdcXHgxYlswbSc7XG5cbmV4cG9ydCBjb25zdCBWaXJ0dWFsVHlwZU5hbWU6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XG4gIFtWaXJ0dWFsVHlwZS5WaXJ0dWFsXTogLyogKioqKioqKioqICovIFNUQVJUICsgJ1ZpcnR1YWwnICsgRU5ELCAvL1xuICBbVmlydHVhbFR5cGUuRnJhZ21lbnRdOiAvKiAqKioqKioqKiAqLyBTVEFSVCArICdGcmFnbWVudCcgKyBFTkQsIC8vXG4gIFtWaXJ0dWFsVHlwZS5XcmFwcGVkU2lnbmFsXTogLyogKioqICovIFNUQVJUICsgJ1NpZ25hbCcgKyBFTkQsIC8vXG4gIFtWaXJ0dWFsVHlwZS5Bd2FpdGVkXTogLyogKioqKioqKioqICovIFNUQVJUICsgJ0F3YWl0ZWQnICsgRU5ELCAvL1xuICBbVmlydHVhbFR5cGUuQ29tcG9uZW50XTogLyogKioqKioqKiAqLyBTVEFSVCArICdDb21wb25lbnQnICsgRU5ELCAvL1xuICBbVmlydHVhbFR5cGUuSW5saW5lQ29tcG9uZW50XTogLyogKiAqLyBTVEFSVCArICdJbmxpbmVDb21wb25lbnQnICsgRU5ELCAvL1xuICBbVmlydHVhbFR5cGUuUHJvamVjdGlvbl06IC8qICoqKioqKiAqLyBTVEFSVCArICdQcm9qZWN0aW9uJyArIEVORCwgLy9cbn07XG5cbmV4cG9ydCBjb25zdCBlbnVtIFFDb250YWluZXJWYWx1ZSB7XG4gIFBBVVNFRCA9ICdwYXVzZWQnLFxuICBSRVNVTUVEID0gJ3Jlc3VtZWQnLFxuICAvLyB0aGVzZSB2YWx1ZXMgYmVsb3cgYXJlIHVzZWQgaW4gdGhlIHF3aWsgbG9hZGVyIGFzIGEgcGxhaW4gdGV4dCBmb3IgdGhlIHE6Y29udGFpbmVyIHNlbGVjdG9yXG4gIC8vIHN0YW5kYXJkIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MXG4gIEhUTUwgPSAnaHRtbCcsXG4gIC8vIHRleHRhcmVhXG4gIFRFWFQgPSAndGV4dCcsXG59XG5cbmV4cG9ydCB0eXBlIE9ialRvUHJveHlNYXAgPSBXZWFrTWFwPGFueSwgYW55PjtcblxuZXhwb3J0IGludGVyZmFjZSBRQ29udGFpbmVyRWxlbWVudCBleHRlbmRzIEVsZW1lbnQge1xuICBxRnVuY3M/OiBGdW5jdGlvbltdO1xuICBfcXdpa2pzb25fPzogYW55O1xufVxuIl19","import { QContainerValue } from '../types';\n/** State factory of the component. */\nexport const OnRenderProp = 'q:renderFn';\n/** Component style host prefix */\nexport const ComponentStylesPrefixHost = '';\n/** Component style content prefix */\nexport const ComponentStylesPrefixContent = '';\n/** Prefix used to identify on listeners. */\nexport const EventPrefix = 'on:';\n/** Attribute used to mark that an event listener is attached. */\nexport const EventAny = 'on:.';\n/** `<some-element q:slot=\"...\">` */\nexport const QSlot = 'q:slot';\nexport const QSlotParent = ':';\nexport const QSlotRef = 'q:sref';\nexport const QSlotS = 'q:s';\nexport const QStyle = 'q:style';\nexport const QStyleSelector = 'style[q\\\\:style]';\nexport const QStyleSSelector = 'style[q\\\\:sstyle]';\nexport const QStylesAllSelector = QStyleSelector + ',' + QStyleSSelector;\nexport const QScopedStyle = 'q:sstyle';\nexport const QCtxAttr = 'q:ctx';\nexport const QSubscribers = 'q:subs';\nexport const QManifestHash = 'q:manifest-hash';\nexport const QFuncsPrefix = 'qFuncs_';\nexport const getQFuncs = (document, hash) => {\n    return document[QFuncsPrefix + hash] || [];\n};\nexport const QRenderAttr = 'q:render';\nexport const QRuntimeAttr = 'q:runtime';\nexport const QVersionAttr = 'q:version';\nexport const QBaseAttr = 'q:base';\nexport const QLocaleAttr = 'q:locale';\nexport const QManifestHashAttr = 'q:manifest-hash';\nexport const QInstanceAttr = 'q:instance';\nexport const QContainerIsland = 'q:container-island';\nexport const QContainerIslandEnd = '/' + QContainerIsland;\nexport const QIgnore = 'q:ignore';\nexport const QIgnoreEnd = '/' + QIgnore;\nexport const QContainerAttr = 'q:container';\nexport const QContainerAttrEnd = '/' + QContainerAttr;\nexport const QShadowRoot = 'q:shadowroot';\nexport const QTemplate = 'q:template';\n// the same selector should be inside the qwik loader\n// and the same selector should be inside the qwik city spa-shim and spa-init\nexport const QContainerSelector = '[q\\\\:container]:not([q\\\\:container=' +\n    QContainerValue.HTML +\n    ']):not([q\\\\:container=' +\n    QContainerValue.TEXT +\n    '])';\nexport const HTML_NS = 'http://www.w3.org/1999/xhtml';\nexport const SVG_NS = 'http://www.w3.org/2000/svg';\nexport const MATH_NS = 'http://www.w3.org/1998/Math/MathML';\nexport const ResourceEvent = 'qResource';\nexport const ComputedEvent = 'qComputed';\nexport const RenderEvent = 'qRender';\nexport const TaskEvent = 'qTask';\n/** `<q:slot name=\"...\">` */\nexport const QSlotInertName = '\\u0000';\nexport const QDefaultSlot = '';\n/**\n * Attribute to mark that this VNode has a pointer to itself from the `qwik/json` state.\n *\n * As the VNode get materialized the vnode now becomes eligible for mutation. Once the vnode mutates\n * the `VNode` references from the `qwik/json` may become invalid. For this reason, these references\n * need to be eagerly resolved. `VNODE_REF` stores a pointer to \"this\" vnode. This allows the system\n * to eagerly resolve these pointes as the vnodes are materialized.\n */\nexport const ELEMENT_ID = 'q:id';\nexport const ELEMENT_KEY = 'q:key';\nexport const ELEMENT_PROPS = 'q:props';\nexport const ELEMENT_SEQ = 'q:seq';\nexport const ELEMENT_SEQ_IDX = 'q:seqIdx';\nexport const ELEMENT_SELF_ID = -1;\nexport const ELEMENT_ID_SELECTOR = '[q\\\\:id]';\nexport const ELEMENT_ID_PREFIX = '#';\nexport const INLINE_FN_PREFIX = '@';\n/** Non serializable markers - always begins with `:` character */\nexport const NON_SERIALIZABLE_MARKER_PREFIX = ':';\nexport const USE_ON_LOCAL = NON_SERIALIZABLE_MARKER_PREFIX + 'on';\nexport const USE_ON_LOCAL_SEQ_IDX = NON_SERIALIZABLE_MARKER_PREFIX + 'onIdx';\nexport const USE_ON_LOCAL_FLAGS = NON_SERIALIZABLE_MARKER_PREFIX + 'onFlags';\n// comment nodes\nexport const FLUSH_COMMENT = 'qkssr-f';\nexport const STREAM_BLOCK_START_COMMENT = 'qkssr-pu';\nexport const STREAM_BLOCK_END_COMMENT = 'qkssr-po';\nexport const Q_PROPS_SEPARATOR = ':';\nexport const dangerouslySetInnerHTML = 'dangerouslySetInnerHTML';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFya2Vycy5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9zaGFyZWQvdXRpbHMvbWFya2Vycy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sVUFBVSxDQUFDO0FBRTNDLHNDQUFzQztBQUN0QyxNQUFNLENBQUMsTUFBTSxZQUFZLEdBQUcsWUFBWSxDQUFDO0FBRXpDLGtDQUFrQztBQUNsQyxNQUFNLENBQUMsTUFBTSx5QkFBeUIsR0FBRyxJQUFJLENBQUM7QUFFOUMscUNBQXFDO0FBQ3JDLE1BQU0sQ0FBQyxNQUFNLDRCQUE0QixHQUFHLElBQUksQ0FBQztBQUVqRCw0Q0FBNEM7QUFDNUMsTUFBTSxDQUFDLE1BQU0sV0FBVyxHQUFHLEtBQUssQ0FBQztBQUVqQyxpRUFBaUU7QUFDakUsTUFBTSxDQUFDLE1BQU0sUUFBUSxHQUFHLE1BQU0sQ0FBQztBQUMvQixvQ0FBb0M7QUFDcEMsTUFBTSxDQUFDLE1BQU0sS0FBSyxHQUFHLFFBQVEsQ0FBQztBQUM5QixNQUFNLENBQUMsTUFBTSxXQUFXLEdBQUcsR0FBRyxDQUFDO0FBQy9CLE1BQU0sQ0FBQyxNQUFNLFFBQVEsR0FBRyxRQUFRLENBQUM7QUFDakMsTUFBTSxDQUFDLE1BQU0sTUFBTSxHQUFHLEtBQUssQ0FBQztBQUM1QixNQUFNLENBQUMsTUFBTSxNQUFNLEdBQUcsU0FBUyxDQUFDO0FBQ2hDLE1BQU0sQ0FBQyxNQUFNLGNBQWMsR0FBRyxrQkFBa0IsQ0FBQztBQUNqRCxNQUFNLENBQUMsTUFBTSxlQUFlLEdBQUcsbUJBQW1CLENBQUM7QUFDbkQsTUFBTSxDQUFDLE1BQU0sa0JBQWtCLEdBQUcsY0FBYyxHQUFHLEdBQUcsR0FBRyxlQUFlLENBQUM7QUFDekUsTUFBTSxDQUFDLE1BQU0sWUFBWSxHQUFHLFVBQVUsQ0FBQztBQUN2QyxNQUFNLENBQUMsTUFBTSxRQUFRLEdBQUcsT0FBTyxDQUFDO0FB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ckMsTUFBTSxDQUFDLE1BQU0sZ0JBQWdCLEdBQUcsR0FBRyxDQUFDO0FBRXBDLGtFQUFrRTtBQUNsRSxNQUFNLENBQUMsTUFBTSw4QkFBOEIsR0FBRyxHQUFHLENBQUM7QUFDbEQsTUFBTSxDQUFDLE1BQU0sWUFBWSxHQUFHLDhCQUE4QixHQUFHLElBQUksQ0FBQztBQUNsRSxNQUFNLENBQUMsTUFBTSxvQkFBb0IsR0FBRyw4QkFBOEIsR0FBRyxPQUFPLENBQUM7QUFDN0UsTUFBTSxDQUFDLE1BQU0sa0JBQWtCLEdBQUcsOEJBQThCLEdBQUcsU0FBUyxDQUFDO0FBRTdFLGdCQUFnQjtBQUNoQixNQUFNLENBQUMsTUFBTSxhQUFhLEdBQUcsU0FBUyxDQUFDO0FBQ3ZDLE1BQU0sQ0FBQyxNQUFNLDBCQUEwQixHQUFHLFVBQVUsQ0FBQztBQUNyRCxNQUFNLENBQUMsTUFBTSx3QkFBd0IsR0FBRyxVQUFVLENBQUM7QUFFbkQsTUFBTSxDQUFDLE1BQU0saUJBQWlCLEdBQUcsR0FBRyxDQUFDO0FBRXJDLE1BQU0sQ0FBQyxNQUFNLHVCQUF1QixHQUFHLHlCQUF5QixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUUNvbnRhaW5lclZhbHVlIH0gZnJvbSAnLi4vdHlwZXMnO1xuXG4vKiogU3RhdGUgZmFjdG9yeSBvZiB0aGUgY29tcG9uZW50LiAqL1xuZXhwb3J0IGNvbnN0IE9uUmVuZGVyUHJvcCA9ICdxOnJlbmRlckZuJztcblxuLyoqIENvbXBvbmVudCBzdHlsZSBob3N0IHByZWZpeCAqL1xuZXhwb3J0IGNvbnN0IENvbXBvbmVudFN0eWxlc1ByZWZpeEhvc3QgPSAn8J+Sjic7XG5cbi8qKiBDb21wb25lbnQgc3R5bGUgY29udGVudCBwcmVmaXggKi9cbmV4cG9ydCBjb25zdCBDb21wb25lbnRTdHlsZXNQcmVmaXhDb250ZW50ID0gJ+KtkO+4jyc7XG5cbi8qKiBQcmVmaXggdXNlZCB0byBpZGVudGlmeSBvbiBsaXN0ZW5lcnMuICovXG5leHBvcnQgY29uc3QgRXZlbnRQcmVmaXggPSAnb246JztcblxuLyoqIEF0dHJpYnV0ZSB1c2VkIHRvIG1hcmsgdGhhdCBhbiBldmVudCBsaXN0ZW5lciBpcyBhdHRhY2hlZC4gKi9cbmV4cG9ydCBjb25zdCBFdmVudEFueSA9ICdvbjouJztcbi8qKiBgPHNvbWUtZWxlbWVudCBxOnNsb3Q9XCIuLi5cIj5gICovXG5leHBvcnQgY29uc3QgUVNsb3QgPSAncTpzbG90JztcbmV4cG9ydCBjb25zdCBRU2xvdFBhcmVudCA9ICc6JztcbmV4cG9ydCBjb25zdCBRU2xvdFJlZiA9ICdxOnNyZWYnO1xuZXhwb3J0IGNvbnN0IFFTbG90UyA9ICdxOnMnO1xuZXhwb3J0IGNvbnN0IFFTdHlsZSA9ICdxOnN0eWxlJztcbmV4cG9ydCBjb25zdCBRU3R5bGVTZWxlY3RvciA9ICdzdHlsZVtxXFxcXDpzdHlsZV0nO1xuZXhwb3J0IGNvbnN0IFFTdHlsZVNTZWxlY3RvciA9ICdzdHlsZVtxXFxcXDpzc3R5bGVdJztcbmV4cG9ydCBjb25zdCBRU3R5bGVzQWxsU2VsZWN0b3IgPSBRU3R5bGVTZWxlY3RvciArICcsJyArIFFTdHlsZVNTZWxlY3RvcjtcbmV4cG9ydCBjb25zdCBRU2NvcGVkU3R5bGUgPSAncTpzc3R5bGUnO1xuZXhwb3J0IGNvbnN0IFFDdHhBdHRyID0gJ3E6Y3R4JztcbmV4cG9ydCBjb25zdCBRU3Vic2NyaWJlcnMgPSAncTpzdWJzJztcbmV4cG9ydCBjb25zdCBRTWFuaWZlc3RIYXNoID0gJ3E6bWFuaWZlc3QtaGFzaCc7XG5leHBvcnQgY29uc3QgUUZ1bmNzUHJlZml4ID0gJ3FGdW5jc18nO1xuXG5leHBvcnQgY29uc3QgZ2V0UUZ1bmNzID0gKFxuICBkb2N1bWVudDogRG9jdW1lbnQsXG4gIGhhc2g6IHN0cmluZ1xuKTogQXJyYXk8KC4uLmFyZ3M6IHVua25vd25bXSkgPT4gdW5rbm93bj4gPT4ge1xuICByZXR1cm4gKGRvY3VtZW50IGFzIGFueSlbUUZ1bmNzUHJlZml4ICsgaGFzaF0gfHwgW107XG59O1xuXG5leHBvcnQgY29uc3QgUVJlbmRlckF0dHIgPSAncTpyZW5kZXInO1xuZXhwb3J0IGNvbnN0IFFSdW50aW1lQXR0ciA9ICdxOnJ1bnRpbWUnO1xuZXhwb3J0IGNvbnN0IFFWZXJzaW9uQXR0ciA9ICdxOnZlcnNpb24nO1xuZXhwb3J0IGNvbnN0IFFCYXNlQXR0ciA9ICdxOmJhc2UnO1xuZXhwb3J0IGNvbnN0IFFMb2NhbGVBdHRyID0gJ3E6bG9jYWxlJztcbmV4cG9ydCBjb25zdCBRTWFuaWZlc3RIYXNoQXR0ciA9ICdxOm1hbmlmZXN0LWhhc2gnO1xuZXhwb3J0IGNvbnN0IFFJbnN0YW5jZUF0dHIgPSAncTppbnN0YW5jZSc7XG5leHBvcnQgY29uc3QgUUNvbnRhaW5lcklzbGFuZCA9ICdxOmNvbnRhaW5lci1pc2xhbmQnO1xuZXhwb3J0IGNvbnN0IFFDb250YWluZXJJc2xhbmRFbmQgPSAnLycgKyBRQ29udGFpbmVySXNsYW5kO1xuZXhwb3J0IGNvbnN0IFFJZ25vcmUgPSAncTppZ25vcmUnO1xuZXhwb3J0IGNvbnN0IFFJZ25vcmVFbmQgPSAnLycgKyBRSWdub3JlO1xuZXhwb3J0IGNvbnN0IFFDb250YWluZXJBdHRyID0gJ3E6Y29udGFpbmVyJztcbmV4cG9ydCBjb25zdCBRQ29udGFpbmVyQXR0ckVuZCA9ICcvJyArIFFDb250YWluZXJBdHRyO1xuZXhwb3J0IGNvbnN0IFFTaGFkb3dSb290ID0gJ3E6c2hhZG93cm9vdCc7XG5cbmV4cG9ydCBjb25zdCBRVGVtcGxhdGUgPSAncTp0ZW1wbGF0ZSc7XG5cbi8vIHRoZSBzYW1lIHNlbGVjdG9yIHNob3VsZCBiZSBpbnNpZGUgdGhlIHF3aWsgbG9hZGVyXG4vLyBhbmQgdGhlIHNhbWUgc2VsZWN0b3Igc2hvdWxkIGJlIGluc2lkZSB0aGUgcXdpayBjaXR5IHNwYS1zaGltIGFuZCBzcGEtaW5pdFxuZXhwb3J0IGNvbnN0IFFDb250YWluZXJTZWxlY3RvciA9XG4gICdbcVxcXFw6Y29udGFpbmVyXTpub3QoW3FcXFxcOmNvbnRhaW5lcj0nICtcbiAgUUNvbnRhaW5lclZhbHVlLkhUTUwgK1xuICAnXSk6bm90KFtxXFxcXDpjb250YWluZXI9JyArXG4gIFFDb250YWluZXJWYWx1ZS5URVhUICtcbiAgJ10pJztcblxuZXhwb3J0IGNvbnN0IEhUTUxfTlMgPSAnaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCc7XG5leHBvcnQgY29uc3QgU1ZHX05TID0gJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJztcbmV4cG9ydCBjb25zdCBNQVRIX05TID0gJ2h0dHA6Ly93d3cudzMub3JnLzE5OTgvTWF0aC9NYXRoTUwnO1xuXG5leHBvcnQgY29uc3QgUmVzb3VyY2VFdmVudCA9ICdxUmVzb3VyY2UnO1xuZXhwb3J0IGNvbnN0IENvbXB1dGVkRXZlbnQgPSAncUNvbXB1dGVkJztcbmV4cG9ydCBjb25zdCBSZW5kZXJFdmVudCA9ICdxUmVuZGVyJztcbmV4cG9ydCBjb25zdCBUYXNrRXZlbnQgPSAncVRhc2snO1xuXG4vKiogYDxxOnNsb3QgbmFtZT1cIi4uLlwiPmAgKi9cbmV4cG9ydCBjb25zdCBRU2xvdEluZXJ0TmFtZSA9ICdcXHUwMDAwJztcbmV4cG9ydCBjb25zdCBRRGVmYXVsdFNsb3QgPSAnJztcblxuLyoqXG4gKiBBdHRyaWJ1dGUgdG8gbWFyayB0aGF0IHRoaXMgVk5vZGUgaGFzIGEgcG9pbnRlciB0byBpdHNlbGYgZnJvbSB0aGUgYHF3aWsvanNvbmAgc3RhdGUuXG4gKlxuICogQXMgdGhlIFZOb2RlIGdldCBtYXRlcmlhbGl6ZWQgdGhlIHZub2RlIG5vdyBiZWNvbWVzIGVsaWdpYmxlIGZvciBtdXRhdGlvbi4gT25jZSB0aGUgdm5vZGUgbXV0YXRlc1xuICogdGhlIGBWTm9kZWAgcmVmZXJlbmNlcyBmcm9tIHRoZSBgcXdpay9qc29uYCBtYXkgYmVjb21lIGludmFsaWQuIEZvciB0aGlzIHJlYXNvbiwgdGhlc2UgcmVmZXJlbmNlc1xuICogbmVlZCB0byBiZSBlYWdlcmx5IHJlc29sdmVkLiBgVk5PREVfUkVGYCBzdG9yZXMgYSBwb2ludGVyIHRvIFwidGhpc1wiIHZub2RlLiBUaGlzIGFsbG93cyB0aGUgc3lzdGVtXG4gKiB0byBlYWdlcmx5IHJlc29sdmUgdGhlc2UgcG9pbnRlcyBhcyB0aGUgdm5vZGVzIGFyZSBtYXRlcmlhbGl6ZWQuXG4gKi9cbmV4cG9ydCBjb25zdCBFTEVNRU5UX0lEID0gJ3E6aWQnO1xuZXhwb3J0IGNvbnN0IEVMRU1FTlRfS0VZID0gJ3E6a2V5JztcbmV4cG9ydCBjb25zdCBFTEVNRU5UX1BST1BTID0gJ3E6cHJvcHMnO1xuZXhwb3J0IGNvbnN0IEVMRU1FTlRfU0VRID0gJ3E6c2VxJztcbmV4cG9ydCBjb25zdCBFTEVNRU5UX1NFUV9JRFggPSAncTpzZXFJZHgnO1xuZXhwb3J0IGNvbnN0IEVMRU1FTlRfU0VMRl9JRCA9IC0xO1xuZXhwb3J0IGNvbnN0IEVMRU1FTlRfSURfU0VMRUNUT1IgPSAnW3FcXFxcOmlkXSc7XG5leHBvcnQgY29uc3QgRUxFTUVOVF9JRF9QUkVGSVggPSAnIyc7XG5leHBvcnQgY29uc3QgSU5MSU5FX0ZOX1BSRUZJWCA9ICdAJztcblxuLyoqIE5vbiBzZXJpYWxpemFibGUgbWFya2VycyAtIGFsd2F5cyBiZWdpbnMgd2l0aCBgOmAgY2hhcmFjdGVyICovXG5leHBvcnQgY29uc3QgTk9OX1NFUklBTElaQUJMRV9NQVJLRVJfUFJFRklYID0gJzonO1xuZXhwb3J0IGNvbnN0IFVTRV9PTl9MT0NBTCA9IE5PTl9TRVJJQUxJWkFCTEVfTUFSS0VSX1BSRUZJWCArICdvbic7XG5leHBvcnQgY29uc3QgVVNFX09OX0xPQ0FMX1NFUV9JRFggPSBOT05fU0VSSUFMSVpBQkxFX01BUktFUl9QUkVGSVggKyAnb25JZHgnO1xuZXhwb3J0IGNvbnN0IFVTRV9PTl9MT0NBTF9GTEFHUyA9IE5PTl9TRVJJQUxJWkFCTEVfTUFSS0VSX1BSRUZJWCArICdvbkZsYWdzJztcblxuLy8gY29tbWVudCBub2Rlc1xuZXhwb3J0IGNvbnN0IEZMVVNIX0NPTU1FTlQgPSAncWtzc3ItZic7XG5leHBvcnQgY29uc3QgU1RSRUFNX0JMT0NLX1NUQVJUX0NPTU1FTlQgPSAncWtzc3ItcHUnO1xuZXhwb3J0IGNvbnN0IFNUUkVBTV9CTE9DS19FTkRfQ09NTUVOVCA9ICdxa3Nzci1wbyc7XG5cbmV4cG9ydCBjb25zdCBRX1BST1BTX1NFUEFSQVRPUiA9ICc6JztcblxuZXhwb3J0IGNvbnN0IGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MID0gJ2Rhbmdlcm91c2x5U2V0SW5uZXJIVE1MJztcbiJdfQ==","import { tryGetInvokeContext } from './use-core';\nlet _locale = undefined;\n/**\n * Retrieve the current locale.\n *\n * If no current locale and there is no `defaultLocale` the function throws an error.\n *\n * @returns The locale.\n * @internal\n */\nexport function getLocale(defaultLocale) {\n    if (_locale === undefined) {\n        const ctx = tryGetInvokeContext();\n        if (ctx && ctx.$locale$) {\n            return ctx.$locale$;\n        }\n        if (defaultLocale !== undefined) {\n            return defaultLocale;\n        }\n        throw new Error('Reading `locale` outside of context.');\n    }\n    return _locale;\n}\n/**\n * Override the `getLocale` with `lang` within the `fn` execution.\n *\n * @internal\n */\nexport function withLocale(locale, fn) {\n    const previousLang = _locale;\n    try {\n        _locale = locale;\n        return fn();\n    }\n    finally {\n        _locale = previousLang;\n    }\n}\n/**\n * Globally set a lang.\n *\n * This can be used only in browser. Server execution requires that each request could potentially\n * be a different lang, therefore setting a global lang would produce incorrect responses.\n *\n * @param lang\n */\nexport function setLocale(locale) {\n    _locale = locale;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLWxvY2FsZS5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS91c2UvdXNlLWxvY2FsZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsbUJBQW1CLEVBQUUsTUFBTSxZQUFZLENBQUM7QUFFakQsSUFBSSxPQUFPLEdBQXVCLFNBQVMsQ0FBQztBQUU1Qzs7Ozs7OztHQU9HO0FBQ0gsTUFBTSxVQUFVLFNBQVMsQ0FBQyxhQUFzQjtJQUM5QyxJQUFJLE9BQU8sS0FBSyxTQUFTLEVBQUUsQ0FBQztRQUMxQixNQUFNLEdBQUcsR0FBRyxtQkFBbUIsRUFBRSxDQUFDO1FBQ2xDLElBQUksR0FBRyxJQUFJLEdBQUcsQ0FBQyxRQUFRLEVBQUUsQ0FBQztZQUN4QixPQUFPLEdBQUcsQ0FBQyxRQUFRLENBQUM7UUFDdEIsQ0FBQztRQUNELElBQUksYUFBYSxLQUFLLFNBQVMsRUFBRSxDQUFDO1lBQ2hDLE9BQU8sYUFBYSxDQUFDO1FBQ3ZCLENBQUM7UUFDRCxNQUFNLElBQUksS0FBSyxDQUFDLHNDQUFzQyxDQUFDLENBQUM7SUFDMUQsQ0FBQztJQUNELE9BQU8sT0FBTyxDQUFDO0FBQ2pCLENBQUM7QUFFRDs7OztHQUlHO0FBQ0gsTUFBTSxVQUFVLFVBQVUsQ0FBSSxNQUFjLEVBQUUsRUFBVztJQUN2RCxNQUFNLFlBQVksR0FBRyxPQUFPLENBQUM7SUFDN0IsSUFBSSxDQUFDO1FBQ0gsT0FBTyxHQUFHLE1BQU0sQ0FBQztRQUNqQixPQUFPLEVBQUUsRUFBRSxDQUFDO0lBQ2QsQ0FBQztZQUFTLENBQUM7UUFDVCxPQUFPLEdBQUcsWUFBWSxDQUFDO0lBQ3pCLENBQUM7QUFDSCxDQUFDO0FBRUQ7Ozs7Ozs7R0FPRztBQUNILE1BQU0sVUFBVSxTQUFTLENBQUMsTUFBYztJQUN0QyxPQUFPLEdBQUcsTUFBTSxDQUFDO0FBQ25CLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB0cnlHZXRJbnZva2VDb250ZXh0IH0gZnJvbSAnLi91c2UtY29yZSc7XG5cbmxldCBfbG9jYWxlOiBzdHJpbmcgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG5cbi8qKlxuICogUmV0cmlldmUgdGhlIGN1cnJlbnQgbG9jYWxlLlxuICpcbiAqIElmIG5vIGN1cnJlbnQgbG9jYWxlIGFuZCB0aGVyZSBpcyBubyBgZGVmYXVsdExvY2FsZWAgdGhlIGZ1bmN0aW9uIHRocm93cyBhbiBlcnJvci5cbiAqXG4gKiBAcmV0dXJucyBUaGUgbG9jYWxlLlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRMb2NhbGUoZGVmYXVsdExvY2FsZT86IHN0cmluZyk6IHN0cmluZyB7XG4gIGlmIChfbG9jYWxlID09PSB1bmRlZmluZWQpIHtcbiAgICBjb25zdCBjdHggPSB0cnlHZXRJbnZva2VDb250ZXh0KCk7XG4gICAgaWYgKGN0eCAmJiBjdHguJGxvY2FsZSQpIHtcbiAgICAgIHJldHVybiBjdHguJGxvY2FsZSQ7XG4gICAgfVxuICAgIGlmIChkZWZhdWx0TG9jYWxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBkZWZhdWx0TG9jYWxlO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlYWRpbmcgYGxvY2FsZWAgb3V0c2lkZSBvZiBjb250ZXh0LicpO1xuICB9XG4gIHJldHVybiBfbG9jYWxlO1xufVxuXG4vKipcbiAqIE92ZXJyaWRlIHRoZSBgZ2V0TG9jYWxlYCB3aXRoIGBsYW5nYCB3aXRoaW4gdGhlIGBmbmAgZXhlY3V0aW9uLlxuICpcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgZnVuY3Rpb24gd2l0aExvY2FsZTxUPihsb2NhbGU6IHN0cmluZywgZm46ICgpID0+IFQpOiBUIHtcbiAgY29uc3QgcHJldmlvdXNMYW5nID0gX2xvY2FsZTtcbiAgdHJ5IHtcbiAgICBfbG9jYWxlID0gbG9jYWxlO1xuICAgIHJldHVybiBmbigpO1xuICB9IGZpbmFsbHkge1xuICAgIF9sb2NhbGUgPSBwcmV2aW91c0xhbmc7XG4gIH1cbn1cblxuLyoqXG4gKiBHbG9iYWxseSBzZXQgYSBsYW5nLlxuICpcbiAqIFRoaXMgY2FuIGJlIHVzZWQgb25seSBpbiBicm93c2VyLiBTZXJ2ZXIgZXhlY3V0aW9uIHJlcXVpcmVzIHRoYXQgZWFjaCByZXF1ZXN0IGNvdWxkIHBvdGVudGlhbGx5XG4gKiBiZSBhIGRpZmZlcmVudCBsYW5nLCB0aGVyZWZvcmUgc2V0dGluZyBhIGdsb2JhbCBsYW5nIHdvdWxkIHByb2R1Y2UgaW5jb3JyZWN0IHJlc3BvbnNlcy5cbiAqXG4gKiBAcGFyYW0gbGFuZ1xuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0TG9jYWxlKGxvY2FsZTogc3RyaW5nKTogdm9pZCB7XG4gIF9sb2NhbGUgPSBsb2NhbGU7XG59XG4iXX0=","import { getBuildBase } from './utils';\nimport { isDev } from '@qwik.dev/core/build';\nexport function getPrefetchResources(qrls, opts, resolvedManifest) {\n    if (!resolvedManifest) {\n        return [];\n    }\n    const prefetchStrategy = opts.prefetchStrategy;\n    const buildBase = getBuildBase(opts);\n    if (prefetchStrategy !== null) {\n        // do nothing if opts.prefetchStrategy is explicitly set to null\n        if (!prefetchStrategy ||\n            !prefetchStrategy.symbolsToPrefetch ||\n            prefetchStrategy.symbolsToPrefetch === 'auto') {\n            // DEFAULT 'events-document'\n            // if prefetchStrategy is undefined\n            // or prefetchStrategy.symbolsToPrefetch is undefined\n            // get event QRLs used in this document\n            return getAutoPrefetch(qrls, resolvedManifest, buildBase);\n        }\n        if (typeof prefetchStrategy.symbolsToPrefetch === 'function') {\n            // call user option symbolsToPrefetch()\n            try {\n                return prefetchStrategy.symbolsToPrefetch({ manifest: resolvedManifest.manifest });\n            }\n            catch (e) {\n                console.error('getPrefetchUrls, symbolsToPrefetch()', e);\n            }\n        }\n    }\n    // no urls to prefetch\n    return [];\n}\nfunction getAutoPrefetch(qrls, resolvedManifest, buildBase) {\n    const prefetchResources = [];\n    const { mapper, manifest } = resolvedManifest;\n    const urls = new Map();\n    if (mapper && manifest) {\n        for (const qrl of qrls) {\n            const qrlSymbolName = qrl.getHash();\n            const resolvedSymbol = mapper[qrlSymbolName];\n            if (resolvedSymbol) {\n                const bundleFileName = resolvedSymbol[1];\n                addBundle(manifest, urls, prefetchResources, buildBase, bundleFileName);\n            }\n        }\n    }\n    return prefetchResources;\n}\nfunction addBundle(manifest, urls, prefetchResources, buildBase, bundleFileName) {\n    const url = isDev ? bundleFileName : buildBase + bundleFileName;\n    let prefetchResource = urls.get(url);\n    if (!prefetchResource) {\n        prefetchResource = {\n            url,\n            imports: [],\n        };\n        urls.set(url, prefetchResource);\n        const bundle = manifest.bundles[bundleFileName];\n        if (bundle) {\n            if (Array.isArray(bundle.imports)) {\n                for (const importedFilename of bundle.imports) {\n                    addBundle(manifest, urls, prefetchResource.imports, buildBase, importedFilename);\n                }\n            }\n        }\n    }\n    prefetchResources.push(prefetchResource);\n}\nexport const isQrl = (value) => {\n    return typeof value === 'function' && typeof value.getSymbol === 'function';\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJlZmV0Y2gtc3RyYXRlZ3kuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL3NlcnZlci9wcmVmZXRjaC1zdHJhdGVneS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sU0FBUyxDQUFDO0FBQ3ZDLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQU83QyxNQUFNLFVBQVUsb0JBQW9CLENBQ2xDLElBQVcsRUFDWCxJQUEyQixFQUMzQixnQkFBOEM7SUFFOUMsSUFBSSxDQUFDLGdCQUFnQixFQUFFLENBQUM7UUFDdEIsT0FBTyxFQUFFLENBQUM7SUFDWixDQUFDO0lBQ0QsTUFBTSxnQkFBZ0IsR0FBRyxJQUFJLENBQUMsZ0JBQWdCLENBQUM7SUFDL0MsTUFBTSxTQUFTLEdBQUcsWUFBWSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBRXJDLElBQUksZ0JBQWdCLEtBQUssSUFBSSxFQUFFLENBQUM7UUFDOUIsZ0VBQWdFO1FBRWhFLElBQ0UsQ0FBQyxnQkFBZ0I7WUFDakIsQ0FBQyxnQkFBZ0IsQ0FBQyxpQkFBaUI7WUFDbkMsZ0JBQWdCLENBQUMsaUJBQWlCLEtBQUssTUFBTSxFQUM3QyxDQUFDO1lBQ0QsNEJBQTRCO1lBQzVCLG1DQUFtQztZQUNuQyxxREFBcUQ7WUFDckQsdUNBQXVDO1lBQ3ZDLE9BQU8sZUFBZSxDQUFDLElBQUksRUFBRSxnQkFBZ0IsRUFBRSxTQUFTLENBQUMsQ0FBQztRQUM1RCxDQUFDO1FBRUQsSUFBSSxPQUFPLGdCQUFnQixDQUFDLGlCQUFpQixLQUFLLFVBQVUsRUFBRSxDQUFDO1lBQzdELHVDQUF1QztZQUN2QyxJQUFJLENBQUM7Z0JBQ0gsT0FBTyxnQkFBZ0IsQ0FBQyxpQkFBaUIsQ0FBQyxFQUFFLFFBQVEsRUFBRSxnQkFBZ0IsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDO1lBQ3JGLENBQUM7WUFBQyxPQUFPLENBQUMsRUFBRSxDQUFDO2dCQUNYLE9BQU8sQ0FBQyxLQUFLLENBQUMsc0NBQXNDLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDM0QsQ0FBQztRQUNILENBQUM7SUFDSCxDQUFDO0lBQ0Qsc0JBQXNCO0lBQ3RCLE9BQU8sRUFBRSxDQUFDO0FBQ1osQ0FBQztBQUVELFNBQVMsZUFBZSxDQUFDLElBQVcsRUFBRSxnQkFBa0MsRUFBRSxTQUFpQjtJQUN6RixNQUFNLGlCQUFpQixHQUF1QixFQUFFLENBQUM7SUFDakQsTUFBTSxFQUFFLE1BQU0sRUFBRSxRQUFRLEVBQUUsR0FBRyxnQkFBZ0IsQ0FBQztJQUM5QyxNQUFNLElBQUksR0FBRyxJQUFJLEdBQUcsRUFBNEIsQ0FBQztJQUVqRCxJQUFJLE1BQU0sSUFBSSxRQUFRLEVBQUUsQ0FBQztRQUN2QixLQUFLLE1BQU0sR0FBRyxJQUFJLElBQUksRUFBRSxDQUFDO1lBQ3ZCLE1BQU0sYUFBYSxHQUFHLEdBQUcsQ0FBQyxPQUFPLEVBQUUsQ0FBQztZQUNwQyxNQUFNLGNBQWMsR0FBRyxNQUFNLENBQUMsYUFBYSxDQUFDLENBQUM7WUFDN0MsSUFBSSxjQUFjLEVBQUUsQ0FBQztnQkFDbkIsTUFBTSxjQUFjLEdBQUcsY0FBYyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUN6QyxTQUFTLENBQUMsUUFBUSxFQUFFLElBQUksRUFBRSxpQkFBaUIsRUFBRSxTQUFTLEVBQUUsY0FBYyxDQUFDLENBQUM7WUFDMUUsQ0FBQztRQUNILENBQUM7SUFDSCxDQUFDO0lBQ0QsT0FBTyxpQkFBaUIsQ0FBQztBQUMzQixDQUFDO0FBRUQsU0FBUyxTQUFTLENBQ2hCLFFBQXNCLEVBQ3RCLElBQW1DLEVBQ25DLGlCQUFxQyxFQUNyQyxTQUFpQixFQUNqQixjQUFzQjtJQUV0QixNQUFNLEdBQUcsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUMsU0FBUyxHQUFHLGNBQWMsQ0FBQztJQUNoRSxJQUFJLGdCQUFnQixHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDckMsSUFBSSxDQUFDLGdCQUFnQixFQUFFLENBQUM7UUFDdEIsZ0JBQWdCLEdBQUc7WUFDakIsR0FBRztZQUNILE9BQU8sRUFBRSxFQUFFO1NBQ1osQ0FBQztRQUNGLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLGdCQUFnQixDQUFDLENBQUM7UUFFaEMsTUFBTSxNQUFNLEdBQUcsUUFBUSxDQUFDLE9BQU8sQ0FBQyxjQUFjLENBQUMsQ0FBQztRQUNoRCxJQUFJLE1BQU0sRUFBRSxDQUFDO1lBQ1gsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDO2dCQUNsQyxLQUFLLE1BQU0sZ0JBQWdCLElBQUksTUFBTSxDQUFDLE9BQU8sRUFBRSxDQUFDO29CQUM5QyxTQUFTLENBQUMsUUFBUSxFQUFFLElBQUksRUFBRSxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsU0FBUyxFQUFFLGdCQUFnQixDQUFDLENBQUM7Z0JBQ25GLENBQUM7WUFDSCxDQUFDO1FBQ0gsQ0FBQztJQUNILENBQUM7SUFDRCxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztBQUMzQyxDQUFDO0FBRUQsTUFBTSxDQUFDLE1BQU0sS0FBSyxHQUFHLENBQUMsS0FBVSxFQUF3QixFQUFFO0lBQ3hELE9BQU8sT0FBTyxLQUFLLEtBQUssVUFBVSxJQUFJLE9BQU8sS0FBSyxDQUFDLFNBQVMsS0FBSyxVQUFVLENBQUM7QUFDOUUsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0QnVpbGRCYXNlIH0gZnJvbSAnLi91dGlscyc7XG5pbXBvcnQgeyBpc0RldiB9IGZyb20gJ0Bxd2lrLmRldi9jb3JlL2J1aWxkJztcbmltcG9ydCB0eXBlIHsgUHJlZmV0Y2hSZXNvdXJjZSwgUXdpa01hbmlmZXN0LCBSZW5kZXJUb1N0cmluZ09wdGlvbnMgfSBmcm9tICcuL3R5cGVzJztcblxuaW1wb3J0IHR5cGUgeyBRUkxJbnRlcm5hbCB9IGZyb20gJy4vcXdpay10eXBlcyc7XG5pbXBvcnQgdHlwZSB7IFJlc29sdmVkTWFuaWZlc3QgfSBmcm9tICdAcXdpay5kZXYvY29yZS9vcHRpbWl6ZXInO1xuaW1wb3J0IHR5cGUgeyBRUkwgfSBmcm9tICdAcXdpay5kZXYvY29yZSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQcmVmZXRjaFJlc291cmNlcyhcbiAgcXJsczogUVJMW10sXG4gIG9wdHM6IFJlbmRlclRvU3RyaW5nT3B0aW9ucyxcbiAgcmVzb2x2ZWRNYW5pZmVzdDogUmVzb2x2ZWRNYW5pZmVzdCB8IHVuZGVmaW5lZFxuKTogUHJlZmV0Y2hSZXNvdXJjZVtdIHtcbiAgaWYgKCFyZXNvbHZlZE1hbmlmZXN0KSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIGNvbnN0IHByZWZldGNoU3RyYXRlZ3kgPSBvcHRzLnByZWZldGNoU3RyYXRlZ3k7XG4gIGNvbnN0IGJ1aWxkQmFzZSA9IGdldEJ1aWxkQmFzZShvcHRzKTtcblxuICBpZiAocHJlZmV0Y2hTdHJhdGVneSAhPT0gbnVsbCkge1xuICAgIC8vIGRvIG5vdGhpbmcgaWYgb3B0cy5wcmVmZXRjaFN0cmF0ZWd5IGlzIGV4cGxpY2l0bHkgc2V0IHRvIG51bGxcblxuICAgIGlmIChcbiAgICAgICFwcmVmZXRjaFN0cmF0ZWd5IHx8XG4gICAgICAhcHJlZmV0Y2hTdHJhdGVneS5zeW1ib2xzVG9QcmVmZXRjaCB8fFxuICAgICAgcHJlZmV0Y2hTdHJhdGVneS5zeW1ib2xzVG9QcmVmZXRjaCA9PT0gJ2F1dG8nXG4gICAgKSB7XG4gICAgICAvLyBERUZBVUxUICdldmVudHMtZG9jdW1lbnQnXG4gICAgICAvLyBpZiBwcmVmZXRjaFN0cmF0ZWd5IGlzIHVuZGVmaW5lZFxuICAgICAgLy8gb3IgcHJlZmV0Y2hTdHJhdGVneS5zeW1ib2xzVG9QcmVmZXRjaCBpcyB1bmRlZmluZWRcbiAgICAgIC8vIGdldCBldmVudCBRUkxzIHVzZWQgaW4gdGhpcyBkb2N1bWVudFxuICAgICAgcmV0dXJuIGdldEF1dG9QcmVmZXRjaChxcmxzLCByZXNvbHZlZE1hbmlmZXN0LCBidWlsZEJhc2UpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgcHJlZmV0Y2hTdHJhdGVneS5zeW1ib2xzVG9QcmVmZXRjaCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgLy8gY2FsbCB1c2VyIG9wdGlvbiBzeW1ib2xzVG9QcmVmZXRjaCgpXG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gcHJlZmV0Y2hTdHJhdGVneS5zeW1ib2xzVG9QcmVmZXRjaCh7IG1hbmlmZXN0OiByZXNvbHZlZE1hbmlmZXN0Lm1hbmlmZXN0IH0pO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdnZXRQcmVmZXRjaFVybHMsIHN5bWJvbHNUb1ByZWZldGNoKCknLCBlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLy8gbm8gdXJscyB0byBwcmVmZXRjaFxuICByZXR1cm4gW107XG59XG5cbmZ1bmN0aW9uIGdldEF1dG9QcmVmZXRjaChxcmxzOiBRUkxbXSwgcmVzb2x2ZWRNYW5pZmVzdDogUmVzb2x2ZWRNYW5pZmVzdCwgYnVpbGRCYXNlOiBzdHJpbmcpIHtcbiAgY29uc3QgcHJlZmV0Y2hSZXNvdXJjZXM6IFByZWZldGNoUmVzb3VyY2VbXSA9IFtdO1xuICBjb25zdCB7IG1hcHBlciwgbWFuaWZlc3QgfSA9IHJlc29sdmVkTWFuaWZlc3Q7XG4gIGNvbnN0IHVybHMgPSBuZXcgTWFwPHN0cmluZywgUHJlZmV0Y2hSZXNvdXJjZT4oKTtcblxuICBpZiAobWFwcGVyICYmIG1hbmlmZXN0KSB7XG4gICAgZm9yIChjb25zdCBxcmwgb2YgcXJscykge1xuICAgICAgY29uc3QgcXJsU3ltYm9sTmFtZSA9IHFybC5nZXRIYXNoKCk7XG4gICAgICBjb25zdCByZXNvbHZlZFN5bWJvbCA9IG1hcHBlcltxcmxTeW1ib2xOYW1lXTtcbiAgICAgIGlmIChyZXNvbHZlZFN5bWJvbCkge1xuICAgICAgICBjb25zdCBidW5kbGVGaWxlTmFtZSA9IHJlc29sdmVkU3ltYm9sWzFdO1xuICAgICAgICBhZGRCdW5kbGUobWFuaWZlc3QsIHVybHMsIHByZWZldGNoUmVzb3VyY2VzLCBidWlsZEJhc2UsIGJ1bmRsZUZpbGVOYW1lKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHByZWZldGNoUmVzb3VyY2VzO1xufVxuXG5mdW5jdGlvbiBhZGRCdW5kbGUoXG4gIG1hbmlmZXN0OiBRd2lrTWFuaWZlc3QsXG4gIHVybHM6IE1hcDxzdHJpbmcsIFByZWZldGNoUmVzb3VyY2U+LFxuICBwcmVmZXRjaFJlc291cmNlczogUHJlZmV0Y2hSZXNvdXJjZVtdLFxuICBidWlsZEJhc2U6IHN0cmluZyxcbiAgYnVuZGxlRmlsZU5hbWU6IHN0cmluZ1xuKSB7XG4gIGNvbnN0IHVybCA9IGlzRGV2ID8gYnVuZGxlRmlsZU5hbWUgOiBidWlsZEJhc2UgKyBidW5kbGVGaWxlTmFtZTtcbiAgbGV0IHByZWZldGNoUmVzb3VyY2UgPSB1cmxzLmdldCh1cmwpO1xuICBpZiAoIXByZWZldGNoUmVzb3VyY2UpIHtcbiAgICBwcmVmZXRjaFJlc291cmNlID0ge1xuICAgICAgdXJsLFxuICAgICAgaW1wb3J0czogW10sXG4gICAgfTtcbiAgICB1cmxzLnNldCh1cmwsIHByZWZldGNoUmVzb3VyY2UpO1xuXG4gICAgY29uc3QgYnVuZGxlID0gbWFuaWZlc3QuYnVuZGxlc1tidW5kbGVGaWxlTmFtZV07XG4gICAgaWYgKGJ1bmRsZSkge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYnVuZGxlLmltcG9ydHMpKSB7XG4gICAgICAgIGZvciAoY29uc3QgaW1wb3J0ZWRGaWxlbmFtZSBvZiBidW5kbGUuaW1wb3J0cykge1xuICAgICAgICAgIGFkZEJ1bmRsZShtYW5pZmVzdCwgdXJscywgcHJlZmV0Y2hSZXNvdXJjZS5pbXBvcnRzLCBidWlsZEJhc2UsIGltcG9ydGVkRmlsZW5hbWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHByZWZldGNoUmVzb3VyY2VzLnB1c2gocHJlZmV0Y2hSZXNvdXJjZSk7XG59XG5cbmV4cG9ydCBjb25zdCBpc1FybCA9ICh2YWx1ZTogYW55KTogdmFsdWUgaXMgUVJMSW50ZXJuYWwgPT4ge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiB2YWx1ZS5nZXRTeW1ib2wgPT09ICdmdW5jdGlvbic7XG59O1xuIl19","/** @internal */\nexport const EMPTY_ARRAY = [];\nexport const EMPTY_OBJ = {};\nObject.freeze(EMPTY_ARRAY);\nObject.freeze(EMPTY_OBJ);\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmx5d2VpZ2h0LmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3NoYXJlZC91dGlscy9mbHl3ZWlnaHQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsZ0JBQWdCO0FBQ2hCLE1BQU0sQ0FBQyxNQUFNLFdBQVcsR0FBRyxFQUFXLENBQUM7QUFDdkMsTUFBTSxDQUFDLE1BQU0sU0FBUyxHQUFHLEVBQXlCLENBQUM7QUFFbkQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQztBQUMzQixNQUFNLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IEVNUFRZX0FSUkFZID0gW10gYXMgYW55W107XG5leHBvcnQgY29uc3QgRU1QVFlfT0JKID0ge30gYXMgUmVjb3JkPHN0cmluZywgYW55PjtcblxuT2JqZWN0LmZyZWV6ZShFTVBUWV9BUlJBWSk7XG5PYmplY3QuZnJlZXplKEVNUFRZX09CSik7XG4iXX0=","import { QError_dynamicImportFailed, QError_unknownTypeArgument, qError } from '../error/error';\nimport { EMPTY_ARRAY } from '../utils/flyweight';\nimport { qSerialize } from '../utils/qdev';\nimport { isFunction, isString } from '../utils/types';\nimport { createQRL, emitEvent, getSymbolHash } from './qrl-class';\n// https://regexr.com/68v72\nconst EXTRACT_IMPORT_PATH = /\\(\\s*(['\"])([^\\1]+)\\1\\s*\\)/;\n// https://regexr.com/690ds\nconst EXTRACT_SELF_IMPORT = /Promise\\s*\\.\\s*resolve/;\n// https://regexr.com/6a83h\nconst EXTRACT_FILE_NAME = /[\\\\/(]([\\w\\d.\\-_]+\\.(js|ts)x?):/;\nconst announcedQRL = /*#__PURE__*/ new Set();\n// <docs markdown=\"../readme.md#qrl\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#qrl instead)\n/**\n * Used by Qwik Optimizer to point to lazy-loaded resources.\n *\n * This function should be used by the Qwik Optimizer only. The function should not be directly\n * referred to in the source code of the application.\n *\n * @param chunkOrFn - Chunk name (or function which is stringified to extract chunk name)\n * @param symbol - Symbol to lazy load\n * @param lexicalScopeCapture - A set of lexically scoped variables to capture.\n * @public\n * @see `QRL`, `$(...)`\n */\n// </docs>\nexport const qrl = (chunkOrFn, symbol, lexicalScopeCapture = EMPTY_ARRAY, stackOffset = 0) => {\n    let chunk = null;\n    let symbolFn = null;\n    if (isFunction(chunkOrFn)) {\n        symbolFn = chunkOrFn;\n        if (qSerialize) {\n            let match;\n            const srcCode = String(chunkOrFn);\n            if ((match = srcCode.match(EXTRACT_IMPORT_PATH)) && match[2]) {\n                chunk = match[2];\n            }\n            else if ((match = srcCode.match(EXTRACT_SELF_IMPORT))) {\n                const ref = 'QWIK-SELF';\n                const frames = new Error(ref).stack.split('\\n');\n                const start = frames.findIndex((f) => f.includes(ref));\n                const frame = frames[start + 2 + stackOffset];\n                match = frame.match(EXTRACT_FILE_NAME);\n                if (!match) {\n                    chunk = 'main';\n                }\n                else {\n                    chunk = match[1];\n                }\n            }\n            else {\n                throw qError(QError_dynamicImportFailed, srcCode);\n            }\n        }\n    }\n    else if (isString(chunkOrFn)) {\n        chunk = chunkOrFn;\n    }\n    else {\n        throw qError(QError_unknownTypeArgument, chunkOrFn);\n    }\n    if (!announcedQRL.has(symbol)) {\n        // Emit event\n        announcedQRL.add(symbol);\n        emitEvent('qprefetch', {\n            symbols: [getSymbolHash(symbol)],\n            bundles: chunk && [chunk],\n        });\n    }\n    // Unwrap subscribers\n    return createQRL(chunk, symbol, null, symbolFn, null, lexicalScopeCapture, null);\n};\n/** @internal */\nexport const inlinedQrl = (symbol, symbolName, lexicalScopeCapture = EMPTY_ARRAY) => {\n    // Unwrap subscribers\n    return createQRL(null, symbolName, symbol, null, null, lexicalScopeCapture, null);\n};\n/** @internal */\nexport const _noopQrl = (symbolName, lexicalScopeCapture = EMPTY_ARRAY) => {\n    return createQRL(null, symbolName, null, null, null, lexicalScopeCapture, null);\n};\n/** @internal */\nexport const _noopQrlDEV = (symbolName, opts, lexicalScopeCapture = EMPTY_ARRAY) => {\n    const newQrl = _noopQrl(symbolName, lexicalScopeCapture);\n    newQrl.dev = opts;\n    return newQrl;\n};\n/** @internal */\nexport const qrlDEV = (chunkOrFn, symbol, opts, lexicalScopeCapture = EMPTY_ARRAY) => {\n    const newQrl = qrl(chunkOrFn, symbol, lexicalScopeCapture, 1);\n    newQrl.dev = opts;\n    return newQrl;\n};\n/** @internal */\nexport const inlinedQrlDEV = (symbol, symbolName, opts, lexicalScopeCapture = EMPTY_ARRAY) => {\n    const qrl = inlinedQrl(symbol, symbolName, lexicalScopeCapture);\n    qrl.dev = opts;\n    return qrl;\n};\n/** @internal */\nexport const _regSymbol = (symbol, hash) => {\n    if (typeof globalThis.__qwik_reg_symbols === 'undefined') {\n        globalThis.__qwik_reg_symbols = new Map();\n    }\n    globalThis.__qwik_reg_symbols.set(hash, symbol);\n    return symbol;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicXJsLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3NoYXJlZC9xcmwvcXJsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSwwQkFBMEIsRUFBRSwwQkFBMEIsRUFBRSxNQUFNLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUNoRyxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFDakQsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUMzQyxPQUFPLEVBQUUsVUFBVSxFQUFFLFFBQVEsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQ3RELE9BQU8sRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLGFBQWEsRUFBb0IsTUFBTSxhQUFhLENBQUM7QUFHcEYsMkJBQTJCO0FBQzNCLE1BQU0sbUJBQW1CLEdBQUcsNEJBQTRCLENBQUM7QUFFekQsMkJBQTJCO0FBQzNCLE1BQU0sbUJBQW1CLEdBQUcsd0JBQXdCLENBQUM7QUFFckQsMkJBQTJCO0FBQzNCLE1BQU0saUJBQWlCLEdBQUcsaUNBQWlDLENBQUM7QUFFNUQsTUFBTSxZQUFZLEdBQUcsYUFBYSxDQUFDLElBQUksR0FBRyxFQUFVLENBQUM7QUFTckQscUNBQXFDO0FBQ3JDLHlDQUF5QztBQUN6QyxrQ0FBa0M7QUFDbEM7Ozs7Ozs7Ozs7O0dBV0c7QUFDSCxVQUFVO0FBQ1YsTUFBTSxDQUFDLE1BQU0sR0FBRyxHQUFHLENBQ2pCLFNBQXdDLEVBQ3hDLE1BQWMsRUFDZCxzQkFBNkIsV0FBVyxFQUN4QyxXQUFXLEdBQUcsQ0FBQyxFQUNQLEVBQUU7SUFDVixJQUFJLEtBQUssR0FBa0IsSUFBSSxDQUFDO0lBQ2hDLElBQUksUUFBUSxHQUFnRCxJQUFJLENBQUM7SUFDakUsSUFBSSxVQUFVLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQztRQUMxQixRQUFRLEdBQUcsU0FBUyxDQUFDO1FBQ3JCLElBQUksVUFB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LEdBQUcsRUFBZSxDQUFDO0lBQ2xFLENBQUM7SUFDQSxVQUFrQixDQUFDLGtCQUFrQixDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsTUFBTSxDQUFDLENBQUM7SUFDekQsT0FBTyxNQUFNLENBQUM7QUFDaEIsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUUVycm9yX2R5bmFtaWNJbXBvcnRGYWlsZWQsIFFFcnJvcl91bmtub3duVHlwZUFyZ3VtZW50LCBxRXJyb3IgfSBmcm9tICcuLi9lcnJvci9lcnJvcic7XG5pbXBvcnQgeyBFTVBUWV9BUlJBWSB9IGZyb20gJy4uL3V0aWxzL2ZseXdlaWdodCc7XG5pbXBvcnQgeyBxU2VyaWFsaXplIH0gZnJvbSAnLi4vdXRpbHMvcWRldic7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uLCBpc1N0cmluZyB9IGZyb20gJy4uL3V0aWxzL3R5cGVzJztcbmltcG9ydCB7IGNyZWF0ZVFSTCwgZW1pdEV2ZW50LCBnZXRTeW1ib2xIYXNoLCB0eXBlIFFSTEludGVybmFsIH0gZnJvbSAnLi9xcmwtY2xhc3MnO1xuaW1wb3J0IHR5cGUgeyBRUkwgfSBmcm9tICcuL3FybC5wdWJsaWMnO1xuXG4vLyBodHRwczovL3JlZ2V4ci5jb20vNjh2NzJcbmNvbnN0IEVYVFJBQ1RfSU1QT1JUX1BBVEggPSAvXFwoXFxzKihbJ1wiXSkoW15cXDFdKylcXDFcXHMqXFwpLztcblxuLy8gaHR0cHM6Ly9yZWdleHIuY29tLzY5MGRzXG5jb25zdCBFWFRSQUNUX1NFTEZfSU1QT1JUID0gL1Byb21pc2VcXHMqXFwuXFxzKnJlc29sdmUvO1xuXG4vLyBodHRwczovL3JlZ2V4ci5jb20vNmE4M2hcbmNvbnN0IEVYVFJBQ1RfRklMRV9OQU1FID0gL1tcXFxcLyhdKFtcXHdcXGQuXFwtX10rXFwuKGpzfHRzKXg/KTovO1xuXG5jb25zdCBhbm5vdW5jZWRRUkwgPSAvKiNfX1BVUkVfXyovIG5ldyBTZXQ8c3RyaW5nPigpO1xuXG4vKiogQHB1YmxpYyAqL1xuZXhwb3J0IGludGVyZmFjZSBRUkxEZXYge1xuICBmaWxlOiBzdHJpbmc7XG4gIGxvOiBudW1iZXI7XG4gIGhpOiBudW1iZXI7XG59XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kI3FybFwiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IC4uL3JlYWRtZS5tZCNxcmwgaW5zdGVhZClcbi8qKlxuICogVXNlZCBieSBRd2lrIE9wdGltaXplciB0byBwb2ludCB0byBsYXp5LWxvYWRlZCByZXNvdXJjZXMuXG4gKlxuICogVGhpcyBmdW5jdGlvbiBzaG91bGQgYmUgdXNlZCBieSB0aGUgUXdpayBPcHRpbWl6ZXIgb25seS4gVGhlIGZ1bmN0aW9uIHNob3VsZCBub3QgYmUgZGlyZWN0bHlcbiAqIHJlZmVycmVkIHRvIGluIHRoZSBzb3VyY2UgY29kZSBvZiB0aGUgYXBwbGljYXRpb24uXG4gKlxuICogQHBhcmFtIGNodW5rT3JGbiAtIENodW5rIG5hbWUgKG9yIGZ1bmN0aW9uIHdoaWNoIGlzIHN0cmluZ2lmaWVkIHRvIGV4dHJhY3QgY2h1bmsgbmFtZSlcbiAqIEBwYXJhbSBzeW1ib2wgLSBTeW1ib2wgdG8gbGF6eSBsb2FkXG4gKiBAcGFyYW0gbGV4aWNhbFNjb3BlQ2FwdHVyZSAtIEEgc2V0IG9mIGxleGljYWxseSBzY29wZWQgdmFyaWFibGVzIHRvIGNhcHR1cmUuXG4gKiBAcHVibGljXG4gKiBAc2VlIGBRUkxgLCBgJCguLi4pYFxuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgY29uc3QgcXJsID0gPFQgPSBhbnk+KFxuICBjaHVua09yRm46IHN0cmluZyB8ICgoKSA9PiBQcm9taXNlPGFueT4pLFxuICBzeW1ib2w6IHN0cmluZyxcbiAgbGV4aWNhbFNjb3BlQ2FwdHVyZTogYW55W10gPSBFTVBUWV9BUlJBWSxcbiAgc3RhY2tPZmZzZXQgPSAwXG4pOiBRUkw8VD4gPT4ge1xuICBsZXQgY2h1bms6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICBsZXQgc3ltYm9sRm46IG51bGwgfCAoKCkgPT4gUHJvbWlzZTxSZWNvcmQ8c3RyaW5nLCBhbnk+PikgPSBudWxsO1xuICBpZiAoaXNGdW5jdGlvbihjaHVua09yRm4pKSB7XG4gICAgc3ltYm9sRm4gPSBjaHVua09yRm47XG4gICAgaWYgKHFTZXJpYWxpemUpIHtcbiAgICAgIGxldCBtYXRjaDogUmVnRXhwTWF0Y2hBcnJheSB8IG51bGw7XG4gICAgICBjb25zdCBzcmNDb2RlID0gU3RyaW5nKGNodW5rT3JGbik7XG4gICAgICBpZiAoKG1hdGNoID0gc3JjQ29kZS5tYXRjaChFWFRSQUNUX0lNUE9SVF9QQVRIKSkgJiYgbWF0Y2hbMl0pIHtcbiAgICAgICAgY2h1bmsgPSBtYXRjaFsyXTtcbiAgICAgIH0gZWxzZSBpZiAoKG1hdGNoID0gc3JjQ29kZS5tYXRjaChFWFRSQUNUX1NFTEZfSU1QT1JUKSkpIHtcbiAgICAgICAgY29uc3QgcmVmID0gJ1FXSUstU0VMRic7XG4gICAgICAgIGNvbnN0IGZyYW1lcyA9IG5ldyBFcnJvcihyZWYpLnN0YWNrIS5zcGxpdCgnXFxuJyk7XG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gZnJhbWVzLmZpbmRJbmRleCgoZikgPT4gZi5pbmNsdWRlcyhyZWYpKTtcbiAgICAgICAgY29uc3QgZnJhbWUgPSBmcmFtZXNbc3RhcnQgKyAyICsgc3RhY2tPZmZzZXRdO1xuICAgICAgICBtYXRjaCA9IGZyYW1lLm1hdGNoKEVYVFJBQ1RfRklMRV9OQU1FKTtcbiAgICAgICAgaWYgKCFtYXRjaCkge1xuICAgICAgICAgIGNodW5rID0gJ21haW4nO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNodW5rID0gbWF0Y2hbMV07XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IHFFcnJvcihRRXJyb3JfZHluYW1pY0ltcG9ydEZhaWxlZCwgc3JjQ29kZSk7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzU3RyaW5nKGNodW5rT3JGbikpIHtcbiAgICBjaHVuayA9IGNodW5rT3JGbjtcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBxRXJyb3IoUUVycm9yX3Vua25vd25UeXBlQXJndW1lbnQsIGNodW5rT3JGbik7XG4gIH1cblxuICBpZiAoIWFubm91bmNlZFFSTC5oYXMoc3ltYm9sKSkge1xuICAgIC8vIEVtaXQgZXZlbnRcbiAgICBhbm5vdW5jZWRRUkwuYWRkKHN5bWJvbCk7XG4gICAgZW1pdEV2ZW50KCdxcHJlZmV0Y2gnLCB7XG4gICAgICBzeW1ib2xzOiBbZ2V0U3ltYm9sSGFzaChzeW1ib2wpXSxcbiAgICAgIGJ1bmRsZXM6IGNodW5rICYmIFtjaHVua10sXG4gICAgfSk7XG4gIH1cblxuICAvLyBVbndyYXAgc3Vic2NyaWJlcnNcbiAgcmV0dXJuIGNyZWF0ZVFSTDxUPihjaHVuaywgc3ltYm9sLCBudWxsLCBzeW1ib2xGbiwgbnVsbCwgbGV4aWNhbFNjb3BlQ2FwdHVyZSwgbnVsbCk7XG59O1xuXG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgaW5saW5lZFFybCA9IDxUPihcbiAgc3ltYm9sOiBULFxuICBzeW1ib2xOYW1lOiBzdHJpbmcsXG4gIGxleGljYWxTY29wZUNhcHR1cmU6IGFueVtdID0gRU1QVFlfQVJSQVlcbik6IFFSTDxUPiA9PiB7XG4gIC8vIFVud3JhcCBzdWJzY3JpYmVyc1xuICByZXR1cm4gY3JlYXRlUVJMPFQ+KG51bGwsIHN5bWJvbE5hbWUsIHN5bWJvbCwgbnVsbCwgbnVsbCwgbGV4aWNhbFNjb3BlQ2FwdHVyZSwgbnVsbCk7XG59O1xuXG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgX25vb3BRcmwgPSA8VD4oXG4gIHN5bWJvbE5hbWU6IHN0cmluZyxcbiAgbGV4aWNhbFNjb3BlQ2FwdHVyZTogYW55W10gPSBFTVBUWV9BUlJBWVxuKTogUVJMPFQ+ID0+IHtcbiAgcmV0dXJuIGNyZWF0ZVFSTDxUPihudWxsLCBzeW1ib2xOYW1lLCBudWxsLCBudWxsLCBudWxsLCBsZXhpY2FsU2NvcGVDYXB0dXJlLCBudWxsKTtcbn07XG5cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBfbm9vcFFybERFViA9IDxUPihcbiAgc3ltYm9sTmFtZTogc3RyaW5nLFxuICBvcHRzOiBRUkxEZXYsXG4gIGxleGljYWxTY29wZUNhcHR1cmU6IGFueVtdID0gRU1QVFlfQVJSQVlcbik6IFFSTDxUPiA9PiB7XG4gIGNvbnN0IG5ld1FybCA9IF9ub29wUXJsKHN5bWJvbE5hbWUsIGxleGljYWxTY29wZUNhcHR1cmUpIGFzIFFSTEludGVybmFsPFQ+O1xuICBuZXdRcmwuZGV2ID0gb3B0cztcbiAgcmV0dXJuIG5ld1FybDtcbn07XG5cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBxcmxERVYgPSA8VCA9IGFueT4oXG4gIGNodW5rT3JGbjogc3RyaW5nIHwgKCgpID0+IFByb21pc2U8YW55PiksXG4gIHN5bWJvbDogc3RyaW5nLFxuICBvcHRzOiBRUkxEZXYsXG4gIGxleGljYWxTY29wZUNhcHR1cmU6IGFueVtdID0gRU1QVFlfQVJSQVlcbik6IFFSTDxUPiA9PiB7XG4gIGNvbnN0IG5ld1FybCA9IHFybChjaHVua09yRm4sIHN5bWJvbCwgbGV4aWNhbFNjb3BlQ2FwdHVyZSwgMSkgYXMgUVJMSW50ZXJuYWw8VD47XG4gIG5ld1FybC5kZXYgPSBvcHRzO1xuICByZXR1cm4gbmV3UXJsO1xufTtcblxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IGlubGluZWRRcmxERVYgPSA8VCA9IGFueT4oXG4gIHN5bWJvbDogVCxcbiAgc3ltYm9sTmFtZTogc3RyaW5nLFxuICBvcHRzOiBRUkxEZXYsXG4gIGxleGljYWxTY29wZUNhcHR1cmU6IGFueVtdID0gRU1QVFlfQVJSQVlcbik6IFFSTDxUPiA9PiB7XG4gIGNvbnN0IHFybCA9IGlubGluZWRRcmwoc3ltYm9sLCBzeW1ib2xOYW1lLCBsZXhpY2FsU2NvcGVDYXB0dXJlKSBhcyBRUkxJbnRlcm5hbDxUPjtcbiAgcXJsLmRldiA9IG9wdHM7XG4gIHJldHVybiBxcmw7XG59O1xuXG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgX3JlZ1N5bWJvbCA9IChzeW1ib2w6IGFueSwgaGFzaDogc3RyaW5nKSA9PiB7XG4gIGlmICh0eXBlb2YgKGdsb2JhbFRoaXMgYXMgYW55KS5fX3F3aWtfcmVnX3N5bWJvbHMgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgKGdsb2JhbFRoaXMgYXMgYW55KS5fX3F3aWtfcmVnX3N5bWJvbHMgPSBuZXcgTWFwPHN0cmluZywgYW55PigpO1xuICB9XG4gIChnbG9iYWxUaGlzIGFzIGFueSkuX19xd2lrX3JlZ19zeW1ib2xzLnNldChoYXNoLCBzeW1ib2wpO1xuICByZXR1cm4gc3ltYm9sO1xufTtcbiJdfQ==","import { QSlotS } from '../utils/markers';\nimport { Virtual, _jsxSorted } from './jsx-runtime';\n/**\n * Allows to project the children of the current component. <Slot/> can only be used within the\n * context of a component defined with `component$`.\n *\n * @public\n */\nexport const Slot = (props) => {\n    return _jsxSorted(Virtual, null, { [QSlotS]: '' }, props.children, 0, props.name ?? '');\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2xvdC5wdWJsaWMuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvc2hhcmVkL2pzeC9zbG90LnB1YmxpYy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsTUFBTSxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDMUMsT0FBTyxFQUFFLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFJcEQ7Ozs7O0dBS0c7QUFDSCxNQUFNLENBQUMsTUFBTSxJQUFJLEdBR1osQ0FBQyxLQUFLLEVBQUUsRUFBRTtJQUNiLE9BQU8sVUFBVSxDQUFDLE9BQU8sRUFBRSxJQUFJLEVBQUUsRUFBRSxDQUFDLE1BQU0sQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEtBQUssQ0FBQyxRQUFRLEVBQUUsQ0FBQyxFQUFFLEtBQUssQ0FBQyxJQUFJLElBQUksRUFBRSxDQUFDLENBQUM7QUFDMUYsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUVNsb3RTIH0gZnJvbSAnLi4vdXRpbHMvbWFya2Vycyc7XG5pbXBvcnQgeyBWaXJ0dWFsLCBfanN4U29ydGVkIH0gZnJvbSAnLi9qc3gtcnVudGltZSc7XG5pbXBvcnQgdHlwZSB7IEZ1bmN0aW9uQ29tcG9uZW50IH0gZnJvbSAnLi90eXBlcy9qc3gtbm9kZSc7XG5pbXBvcnQgdHlwZSB7IEpTWENoaWxkcmVuIH0gZnJvbSAnLi90eXBlcy9qc3gtcXdpay1hdHRyaWJ1dGVzJztcblxuLyoqXG4gKiBBbGxvd3MgdG8gcHJvamVjdCB0aGUgY2hpbGRyZW4gb2YgdGhlIGN1cnJlbnQgY29tcG9uZW50LiA8U2xvdC8+IGNhbiBvbmx5IGJlIHVzZWQgd2l0aGluIHRoZVxuICogY29udGV4dCBvZiBhIGNvbXBvbmVudCBkZWZpbmVkIHdpdGggYGNvbXBvbmVudCRgLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IFNsb3Q6IEZ1bmN0aW9uQ29tcG9uZW50PHtcbiAgbmFtZT86IHN0cmluZztcbiAgY2hpbGRyZW4/OiBKU1hDaGlsZHJlbjtcbn0+ID0gKHByb3BzKSA9PiB7XG4gIHJldHVybiBfanN4U29ydGVkKFZpcnR1YWwsIG51bGwsIHsgW1FTbG90U106ICcnIH0sIHByb3BzLmNoaWxkcmVuLCAwLCBwcm9wcy5uYW1lID8/ICcnKTtcbn07XG4iXX0=","import { STREAM_BLOCK_END_COMMENT, STREAM_BLOCK_START_COMMENT } from '../utils/markers';\nimport { jsx, RenderOnce } from './jsx-runtime';\n/** @public */\nexport const SkipRender = Symbol('skip render');\n/** @public */\nexport const SSRRaw = () => null;\n/** @public */\nexport const SSRComment = () => null;\n/** @public */\nexport const SSRStreamBlock = (props) => {\n    return [\n        jsx(SSRComment, { data: STREAM_BLOCK_START_COMMENT }),\n        props.children,\n        jsx(SSRComment, { data: STREAM_BLOCK_END_COMMENT }),\n    ];\n};\n/** @public */\nexport const SSRStream = (props, key) => jsx(RenderOnce, { children: jsx(InternalSSRStream, props) }, key);\nexport const InternalSSRStream = () => null;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXRpbHMucHVibGljLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3NoYXJlZC9qc3gvdXRpbHMucHVibGljLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSx3QkFBd0IsRUFBRSwwQkFBMEIsRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBRXhGLE9BQU8sRUFBRSxHQUFHLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBSWhELGNBQWM7QUFDZCxNQUFNLENBQUMsTUFBTSxVQUFVLEdBQVksTUFBTSxDQUFDLGFBQWEsQ0FBUSxDQUFDO0FBRWhFLGNBQWM7QUFDZCxNQUFNLENBQUMsTUFBTSxNQUFNLEdBQXdDLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQztBQUV0RSxjQUFjO0FBQ2QsTUFBTSxDQUFDLE1BQU0sVUFBVSxHQUF3QyxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUM7QUFFMUUsY0FBYztBQUNkLE1BQU0sQ0FBQyxNQUFNLGNBQWMsR0FBZ0QsQ0FBQyxLQUFLLEVBQUUsRUFBRTtJQUNuRixPQUFPO1FBQ0wsR0FBRyxDQUFDLFVBQVUsRUFBRSxFQUFFLElBQUksRUFBRSwwQkFBMEIsRUFBRSxDQUFDO1FBQ3JELEtBQUssQ0FBQyxRQUFRO1FBQ2QsR0FBRyxDQUFDLFVBQVUsRUFBRSxFQUFFLElBQUksRUFBRSx3QkFBd0IsRUFBRSxDQUFDO0tBQ3BELENBQUM7QUFDSixDQUFDLENBQUM7QUFhRixjQUFjO0FBQ2QsTUFBTSxDQUFDLE1BQU0sU0FBUyxHQUFzQyxDQUFDLEtBQUssRUFBRSxHQUFHLEVBQUUsRUFBRSxDQUN6RSxHQUFHLENBQUMsVUFBVSxFQUFFLEVBQUUsUUFBUSxFQUFFLEdBQUcsQ0FBQyxpQkFBaUIsRUFBRSxLQUFLLENBQUMsRUFBRSxFQUFFLEdBQUcsQ0FBQyxDQUFDO0FBT3BFLE1BQU0sQ0FBQyxNQUFNLGlCQUFpQixHQUFzQyxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTVFJFQU1fQkxPQ0tfRU5EX0NPTU1FTlQsIFNUUkVBTV9CTE9DS19TVEFSVF9DT01NRU5UIH0gZnJvbSAnLi4vdXRpbHMvbWFya2Vycyc7XG5pbXBvcnQgdHlwZSB7IFN0cmVhbVdyaXRlciB9IGZyb20gJy4uLy4uL3Nzci9zc3ItdHlwZXMnO1xuaW1wb3J0IHsganN4LCBSZW5kZXJPbmNlIH0gZnJvbSAnLi9qc3gtcnVudGltZSc7XG5pbXBvcnQgdHlwZSB7IEZ1bmN0aW9uQ29tcG9uZW50LCBKU1hOb2RlLCBKU1hPdXRwdXQgfSBmcm9tICcuL3R5cGVzL2pzeC1ub2RlJztcbmltcG9ydCB0eXBlIHsgSlNYQ2hpbGRyZW4gfSBmcm9tICcuL3R5cGVzL2pzeC1xd2lrLWF0dHJpYnV0ZXMnO1xuXG4vKiogQHB1YmxpYyAqL1xuZXhwb3J0IGNvbnN0IFNraXBSZW5kZXI6IEpTWE5vZGUgPSBTeW1ib2woJ3NraXAgcmVuZGVyJykgYXMgYW55O1xuXG4vKiogQHB1YmxpYyAqL1xuZXhwb3J0IGNvbnN0IFNTUlJhdzogRnVuY3Rpb25Db21wb25lbnQ8eyBkYXRhOiBzdHJpbmcgfT4gPSAoKSA9PiBudWxsO1xuXG4vKiogQHB1YmxpYyAqL1xuZXhwb3J0IGNvbnN0IFNTUkNvbW1lbnQ6IEZ1bmN0aW9uQ29tcG9uZW50PHsgZGF0YTogc3RyaW5nIH0+ID0gKCkgPT4gbnVsbDtcblxuLyoqIEBwdWJsaWMgKi9cbmV4cG9ydCBjb25zdCBTU1JTdHJlYW1CbG9jazogRnVuY3Rpb25Db21wb25lbnQ8eyBjaGlsZHJlbj86IEpTWE91dHB1dCB9PiA9IChwcm9wcykgPT4ge1xuICByZXR1cm4gW1xuICAgIGpzeChTU1JDb21tZW50LCB7IGRhdGE6IFNUUkVBTV9CTE9DS19TVEFSVF9DT01NRU5UIH0pLFxuICAgIHByb3BzLmNoaWxkcmVuLFxuICAgIGpzeChTU1JDb21tZW50LCB7IGRhdGE6IFNUUkVBTV9CTE9DS19FTkRfQ09NTUVOVCB9KSxcbiAgXTtcbn07XG5cbi8qKiBAcHVibGljICovXG5leHBvcnQgdHlwZSBTU1JTdHJlYW1Qcm9wcyA9IHtcbiAgY2hpbGRyZW46IFNTUlN0cmVhbUNoaWxkcmVuO1xufTtcblxuLyoqIEBwdWJsaWMgKi9cbmV4cG9ydCB0eXBlIFNTUlN0cmVhbUNoaWxkcmVuID1cbiAgfCBBc3luY0dlbmVyYXRvcjxKU1hDaGlsZHJlbiwgdm9pZCwgYW55PlxuICB8ICgoc3RyZWFtOiBTdHJlYW1Xcml0ZXIpID0+IFByb21pc2U8dm9pZD4pXG4gIHwgKCgpID0+IEFzeW5jR2VuZXJhdG9yPEpTWENoaWxkcmVuLCB2b2lkLCBhbnk+KTtcblxuLyoqIEBwdWJsaWMgKi9cbmV4cG9ydCBjb25zdCBTU1JTdHJlYW06IEZ1bmN0aW9uQ29tcG9uZW50PFNTUlN0cmVhbVByb3BzPiA9IChwcm9wcywga2V5KSA9PlxuICBqc3goUmVuZGVyT25jZSwgeyBjaGlsZHJlbjoganN4KEludGVybmFsU1NSU3RyZWFtLCBwcm9wcykgfSwga2V5KTtcblxuLyoqIEBwdWJsaWMgKi9cbmV4cG9ydCB0eXBlIFNTUkhpbnRQcm9wcyA9IHtcbiAgZHluYW1pYz86IGJvb2xlYW47XG59O1xuXG5leHBvcnQgY29uc3QgSW50ZXJuYWxTU1JTdHJlYW06IEZ1bmN0aW9uQ29tcG9uZW50PFNTUlN0cmVhbVByb3BzPiA9ICgpID0+IG51bGw7XG4iXX0=","export function isAsyncGenerator(value) {\n    return !!value[Symbol.asyncIterator];\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXN5bmMtZ2VuZXJhdG9yLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3NoYXJlZC91dGlscy9hc3luYy1nZW5lcmF0b3IudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTSxVQUFVLGdCQUFnQixDQUFDLEtBQWE7SUFDNUMsT0FBTyxDQUFDLENBQUUsS0FBd0IsQ0FBQyxNQUFNLENBQUMsYUFBYSxDQUFDLENBQUM7QUFDM0QsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBpc0FzeW5jR2VuZXJhdG9yKHZhbHVlOiBvYmplY3QpOiB2YWx1ZSBpcyBBc3luY0dlbmVyYXRvciB7XG4gIHJldHVybiAhISh2YWx1ZSBhcyBBc3luY0dlbmVyYXRvcilbU3ltYm9sLmFzeW5jSXRlcmF0b3JdO1xufVxuIl19","/**\n * Think of `-` as an escape character which makes the next character uppercase. `--` is just `-`.\n *\n * Rules for JSX property event names starting with `on`:\n *\n * - Are case insensitive: `onClick$` is same `onclick$`\n * - A `--` is `-`: `dbl--click` => `dbl-click`\n * - Become case sensitive if prefixed by `-`: `-Click` is `Click`\n * - A `-` (not at the beginning) makes next character uppercase: `dbl-click` => `dblClick`\n */\nexport const isJsxPropertyAnEventName = (name) => {\n    return ((name.startsWith('on') || name.startsWith('window:on') || name.startsWith('document:on')) &&\n        name.endsWith('$'));\n};\nexport const isHtmlAttributeAnEventName = (name) => {\n    return name.startsWith('on:') || name.startsWith('on-window:') || name.startsWith('on-document:');\n};\nexport const getEventNameFromJsxProp = (name) => {\n    if (name.endsWith('$')) {\n        let idx = -1;\n        if (name.startsWith('on')) {\n            idx = 2;\n        }\n        else if (name.startsWith('window:on')) {\n            idx = 9;\n        }\n        else if (name.startsWith('document:on')) {\n            idx = 11;\n        }\n        if (idx != -1) {\n            const isCaseSensitive = isDashAt(name, idx) && !isDashAt(name, idx + 1);\n            if (isCaseSensitive) {\n                idx++;\n            }\n            let lastIdx = idx;\n            let eventName = '';\n            while (true) {\n                idx = name.indexOf('-', lastIdx);\n                const chunk = name.substring(lastIdx, idx === -1 ? name.length - 1 /* don't include `$` */ : idx);\n                eventName += isCaseSensitive ? chunk : chunk.toLowerCase();\n                if (idx == -1) {\n                    return eventName;\n                }\n                if (isDashAt(name, idx + 1)) {\n                    eventName += '-';\n                    idx++;\n                }\n                else {\n                    eventName += name.charAt(idx + 1).toUpperCase();\n                    idx++;\n                }\n                lastIdx = idx + 1;\n            }\n        }\n    }\n    return null;\n};\nexport const getEventNameScopeFromJsxProp = (name) => {\n    const index = name.indexOf(':');\n    return index !== -1 ? name.substring(0, index) : '';\n};\nexport const getEventNameFromHtmlAttr = (name) => {\n    let idx = -1;\n    if (name.startsWith('on:')) {\n        idx = 3; // 'on:'.length\n    }\n    else if (name.startsWith('on-window:')) {\n        idx = 10; // 'on-window:'.length\n    }\n    else if (name.startsWith('on-document:')) {\n        idx = 12; // 'on-document:'.length\n    }\n    if (idx != -1) {\n        let lastIdx = idx;\n        let eventName = '';\n        while (true) {\n            idx = name.indexOf('-', lastIdx);\n            const chunk = name.substring(lastIdx, idx === -1 ? name.length : idx);\n            eventName += chunk;\n            if (idx == -1) {\n                return eventName;\n            }\n            eventName += name.charAt(idx + 1).toUpperCase();\n            idx++;\n            lastIdx = idx + 1;\n        }\n    }\n    return null;\n};\nconst isDashAt = (name, idx) => name.charCodeAt(idx) === 45; /* - */\nexport const convertEventNameFromHtmlAttrToJsxProp = (name) => {\n    let prefix = null;\n    if (name.startsWith('on:')) {\n        prefix = 'on';\n    }\n    else if (name.startsWith('on-window:')) {\n        prefix = 'window:on';\n    }\n    else if (name.startsWith('on-document:')) {\n        prefix = 'document:on';\n    }\n    if (prefix !== null) {\n        const eventName = getEventNameFromHtmlAttr(name);\n        let kebabCase = fromCamelToKebabCase(eventName);\n        if (isDashAt(kebabCase, 0) && !isDashAt(kebabCase, 1)) {\n            // special case for events which start with a `-`\n            // if we would just append it would be interpreted as a case sensitive event\n            kebabCase = '-' + kebabCase.charAt(1).toUpperCase() + kebabCase.substring(2);\n        }\n        return prefix + kebabCase + '$';\n    }\n    return null;\n};\nexport const convertEventNameFromJsxPropToHtmlAttr = (name) => {\n    if (name.endsWith('$')) {\n        let prefix = null;\n        // let idx = -1;\n        if (name.startsWith('on')) {\n            prefix = 'on:';\n            // idx = 2; // 'on'.length\n        }\n        else if (name.startsWith('window:on')) {\n            prefix = 'on-window:';\n            // idx = 9; // 'window:on'.length\n        }\n        else if (name.startsWith('document:on')) {\n            prefix = 'on-document:';\n            // idx = 11; // 'document:on'.length\n        }\n        if (prefix !== null) {\n            const eventName = getEventNameFromJsxProp(name);\n            return prefix + fromCamelToKebabCase(eventName);\n        }\n    }\n    return null;\n};\nexport const fromCamelToKebabCase = (text) => {\n    return text.replace(/([A-Z-])/g, '-$1').toLowerCase();\n};\nexport function isPreventDefault(key) {\n    return key.startsWith('preventdefault:');\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXZlbnQtbmFtZXMuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvc2hhcmVkL3V0aWxzL2V2ZW50LW5hbWVzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7R0FTRztBQUVILE1BQU0sQ0FBQyxNQUFNLHdCQUF3QixHQUFHLENBQUMsSUFBWSxFQUFXLEVBQUU7SUFDaEUsT0FBTyxDQUNMLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLFdBQVcsQ0FBQyxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsYUFBYSxDQUFDLENBQUM7UUFDekYsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FDbkIsQ0FBQztBQUNKLENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLDBCQUEwQixHQUFHLENBQUMsSUFBWSxFQUFXLEVBQUU7SUFDbEUsT0FBTyxJQUFJLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsWUFBWSxDQUFDLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxjQUFjLENBQUMsQ0FBQztBQUNwRyxDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSx1QkFBdUIsR0FBRyxDQUFDLElBQVksRUFBaUIsRUFBRTtJQUNyRSxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNiLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDO1lBQzFCLEdBQUcsR0FBRyxDQUFDLENBQUM7UUFDVixDQUFDO2FBQU0sSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLFdBQVcsQ0FBQyxFQUFFLENBQUM7WUFDeEMsR0FBRyxHQUFHLENBQUMsQ0FBQztRQUNWLENBQUM7YUFB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VSxDQUFDLGFBQWEsQ0FBQyxFQUFFLENBQUM7WUFDMUMsTUFBTSxHQUFHLGNBQWMsQ0FBQztZQUN4QixvQ0FBb0M7UUFDdEMsQ0FBQztRQUNELElBQUksTUFBTSxLQUFLLElBQUksRUFBRSxDQUFDO1lBQ3BCLE1BQU0sU0FBUyxHQUFHLHVCQUF1QixDQUFDLElBQUksQ0FBRSxDQUFDO1lBQ2pELE9BQU8sTUFBTSxHQUFHLG9CQUFvQixDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ2xELENBQUM7SUFDSCxDQUFDO0lBQ0QsT0FBTyxJQUFJLENBQUM7QUFDZCxDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxvQkFBb0IsR0FBRyxDQUFDLElBQVksRUFBVSxFQUFFO0lBQzNELE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxXQUFXLEVBQUUsS0FBSyxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUM7QUFDeEQsQ0FBQyxDQUFDO0FBRUYsTUFBTSxVQUFVLGdCQUFnQixDQUFDLEdBQVc7SUFDMUMsT0FBTyxHQUFHLENBQUMsVUFBVSxDQUFDLGlCQUFpQixDQUFDLENBQUM7QUFDM0MsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGhpbmsgb2YgYC1gIGFzIGFuIGVzY2FwZSBjaGFyYWN0ZXIgd2hpY2ggbWFrZXMgdGhlIG5leHQgY2hhcmFjdGVyIHVwcGVyY2FzZS4gYC0tYCBpcyBqdXN0IGAtYC5cbiAqXG4gKiBSdWxlcyBmb3IgSlNYIHByb3BlcnR5IGV2ZW50IG5hbWVzIHN0YXJ0aW5nIHdpdGggYG9uYDpcbiAqXG4gKiAtIEFyZSBjYXNlIGluc2Vuc2l0aXZlOiBgb25DbGljayRgIGlzIHNhbWUgYG9uY2xpY2skYFxuICogLSBBIGAtLWAgaXMgYC1gOiBgZGJsLS1jbGlja2AgPT4gYGRibC1jbGlja2BcbiAqIC0gQmVjb21lIGNhc2Ugc2Vuc2l0aXZlIGlmIHByZWZpeGVkIGJ5IGAtYDogYC1DbGlja2AgaXMgYENsaWNrYFxuICogLSBBIGAtYCAobm90IGF0IHRoZSBiZWdpbm5pbmcpIG1ha2VzIG5leHQgY2hhcmFjdGVyIHVwcGVyY2FzZTogYGRibC1jbGlja2AgPT4gYGRibENsaWNrYFxuICovXG5cbmV4cG9ydCBjb25zdCBpc0pzeFByb3BlcnR5QW5FdmVudE5hbWUgPSAobmFtZTogc3RyaW5nKTogYm9vbGVhbiA9PiB7XG4gIHJldHVybiAoXG4gICAgKG5hbWUuc3RhcnRzV2l0aCgnb24nKSB8fCBuYW1lLnN0YXJ0c1dpdGgoJ3dpbmRvdzpvbicpIHx8IG5hbWUuc3RhcnRzV2l0aCgnZG9jdW1lbnQ6b24nKSkgJiZcbiAgICBuYW1lLmVuZHNXaXRoKCckJylcbiAgKTtcbn07XG5cbmV4cG9ydCBjb25zdCBpc0h0bWxBdHRyaWJ1dGVBbkV2ZW50TmFtZSA9IChuYW1lOiBzdHJpbmcpOiBib29sZWFuID0+IHtcbiAgcmV0dXJuIG5hbWUuc3RhcnRzV2l0aCgnb246JykgfHwgbmFtZS5zdGFydHNXaXRoKCdvbi13aW5kb3c6JykgfHwgbmFtZS5zdGFydHNXaXRoKCdvbi1kb2N1bWVudDonKTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRFdmVudE5hbWVGcm9tSnN4UHJvcCA9IChuYW1lOiBzdHJpbmcpOiBzdHJpbmcgfCBudWxsID0+IHtcbiAgaWYgKG5hbWUuZW5kc1dpdGgoJyQnKSkge1xuICAgIGxldCBpZHggPSAtMTtcbiAgICBpZiAobmFtZS5zdGFydHNXaXRoKCdvbicpKSB7XG4gICAgICBpZHggPSAyO1xuICAgIH0gZWxzZSBpZiAobmFtZS5zdGFydHNXaXRoKCd3aW5kb3c6b24nKSkge1xuICAgICAgaWR4ID0gOTtcbiAgICB9IGVsc2UgaWYgKG5hbWUuc3RhcnRzV2l0aCgnZG9jdW1lbnQ6b24nKSkge1xuICAgICAgaWR4ID0gMTE7XG4gICAgfVxuICAgIGlmIChpZHggIT0gLTEpIHtcbiAgICAgIGNvbnN0IGlzQ2FzZVNlbnNpdGl2ZSA9IGlzRGFzaEF0KG5hbWUsIGlkeCkgJiYgIWlzRGFzaEF0KG5hbWUsIGlkeCArIDEpO1xuICAgICAgaWYgKGlzQ2FzZVNlbnNpdGl2ZSkge1xuICAgICAgICBpZHgrKztcbiAgICAgIH1cbiAgICAgIGxldCBsYXN0SWR4ID0gaWR4O1xuICAgICAgbGV0IGV2ZW50TmFtZSA9ICcnO1xuICAgICAgd2hpbGUgKHRydWUgYXMgYm9vbGVhbikge1xuICAgICAgICBpZHggPSBuYW1lLmluZGV4T2YoJy0nLCBsYXN0SWR4KTtcbiAgICAgICAgY29uc3QgY2h1bmsgPSBuYW1lLnN1YnN0cmluZyhcbiAgICAgICAgICBsYXN0SWR4LFxuICAgICAgICAgIGlkeCA9PT0gLTEgPyBuYW1lLmxlbmd0aCAtIDEgLyogZG9uJ3QgaW5jbHVkZSBgJGAgKi8gOiBpZHhcbiAgICAgICAgKTtcbiAgICAgICAgZXZlbnROYW1lICs9IGlzQ2FzZVNlbnNpdGl2ZSA/IGNodW5rIDogY2h1bmsudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgaWYgKGlkeCA9PSAtMSkge1xuICAgICAgICAgIHJldHVybiBldmVudE5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzRGFzaEF0KG5hbWUsIGlkeCArIDEpKSB7XG4gICAgICAgICAgZXZlbnROYW1lICs9ICctJztcbiAgICAgICAgICBpZHgrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBldmVudE5hbWUgKz0gbmFtZS5jaGFyQXQoaWR4ICsgMSkudG9VcHBlckNhc2UoKTtcbiAgICAgICAgICBpZHgrKztcbiAgICAgICAgfVxuICAgICAgICBsYXN0SWR4ID0gaWR4ICsgMTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0RXZlbnROYW1lU2NvcGVGcm9tSnN4UHJvcCA9IChuYW1lOiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuICBjb25zdCBpbmRleCA9IG5hbWUuaW5kZXhPZignOicpO1xuICByZXR1cm4gaW5kZXggIT09IC0xID8gbmFtZS5zdWJzdHJpbmcoMCwgaW5kZXgpIDogJyc7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0RXZlbnROYW1lRnJvbUh0bWxBdHRyID0gKG5hbWU6IHN0cmluZyk6IHN0cmluZyB8IG51bGwgPT4ge1xuICBsZXQgaWR4ID0gLTE7XG4gIGlmIChuYW1lLnN0YXJ0c1dpdGgoJ29uOicpKSB7XG4gICAgaWR4ID0gMzsgLy8gJ29uOicubGVuZ3RoXG4gIH0gZWxzZSBpZiAobmFtZS5zdGFydHNXaXRoKCdvbi13aW5kb3c6JykpIHtcbiAgICBpZHggPSAxMDsgLy8gJ29uLXdpbmRvdzonLmxlbmd0aFxuICB9IGVsc2UgaWYgKG5hbWUuc3RhcnRzV2l0aCgnb24tZG9jdW1lbnQ6JykpIHtcbiAgICBpZHggPSAxMjsgLy8gJ29uLWRvY3VtZW50OicubGVuZ3RoXG4gIH1cbiAgaWYgKGlkeCAhPSAtMSkge1xuICAgIGxldCBsYXN0SWR4ID0gaWR4O1xuICAgIGxldCBldmVudE5hbWUgPSAnJztcbiAgICB3aGlsZSAodHJ1ZSBhcyBib29sZWFuKSB7XG4gICAgICBpZHggPSBuYW1lLmluZGV4T2YoJy0nLCBsYXN0SWR4KTtcbiAgICAgIGNvbnN0IGNodW5rID0gbmFtZS5zdWJzdHJpbmcobGFzdElkeCwgaWR4ID09PSAtMSA/IG5hbWUubGVuZ3RoIDogaWR4KTtcbiAgICAgIGV2ZW50TmFtZSArPSBjaHVuaztcbiAgICAgIGlmIChpZHggPT0gLTEpIHtcbiAgICAgICAgcmV0dXJuIGV2ZW50TmFtZTtcbiAgICAgIH1cbiAgICAgIGV2ZW50TmFtZSArPSBuYW1lLmNoYXJBdChpZHggKyAxKS50b1VwcGVyQ2FzZSgpO1xuICAgICAgaWR4Kys7XG4gICAgICBsYXN0SWR4ID0gaWR4ICsgMTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59O1xuXG5jb25zdCBpc0Rhc2hBdCA9IChuYW1lOiBzdHJpbmcsIGlkeDogbnVtYmVyKTogYm9vbGVhbiA9PiBuYW1lLmNoYXJDb2RlQXQoaWR4KSA9PT0gNDU7IC8qIC0gKi9cblxuZXhwb3J0IGNvbnN0IGNvbnZlcnRFdmVudE5hbWVGcm9tSHRtbEF0dHJUb0pzeFByb3AgPSAobmFtZTogc3RyaW5nKTogc3RyaW5nIHwgbnVsbCA9PiB7XG4gIGxldCBwcmVmaXg6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICBpZiAobmFtZS5zdGFydHNXaXRoKCdvbjonKSkge1xuICAgIHByZWZpeCA9ICdvbic7XG4gIH0gZWxzZSBpZiAobmFtZS5zdGFydHNXaXRoKCdvbi13aW5kb3c6JykpIHtcbiAgICBwcmVmaXggPSAnd2luZG93Om9uJztcbiAgfSBlbHNlIGlmIChuYW1lLnN0YXJ0c1dpdGgoJ29uLWRvY3VtZW50OicpKSB7XG4gICAgcHJlZml4ID0gJ2RvY3VtZW50Om9uJztcbiAgfVxuICBpZiAocHJlZml4ICE9PSBudWxsKSB7XG4gICAgY29uc3QgZXZlbnROYW1lID0gZ2V0RXZlbnROYW1lRnJvbUh0bWxBdHRyKG5hbWUpITtcbiAgICBsZXQga2ViYWJDYXNlID0gZnJvbUNhbWVsVG9LZWJhYkNhc2UoZXZlbnROYW1lKTtcbiAgICBpZiAoaXNEYXNoQXQoa2ViYWJDYXNlLCAwKSAmJiAhaXNEYXNoQXQoa2ViYWJDYXNlLCAxKSkge1xuICAgICAgLy8gc3BlY2lhbCBjYXNlIGZvciBldmVudHMgd2hpY2ggc3RhcnQgd2l0aCBhIGAtYFxuICAgICAgLy8gaWYgd2Ugd291bGQganVzdCBhcHBlbmQgaXQgd291bGQgYmUgaW50ZXJwcmV0ZWQgYXMgYSBjYXNlIHNlbnNpdGl2ZSBldmVudFxuICAgICAga2ViYWJDYXNlID0gJy0nICsga2ViYWJDYXNlLmNoYXJBdCgxKS50b1VwcGVyQ2FzZSgpICsga2ViYWJDYXNlLnN1YnN0cmluZygyKTtcbiAgICB9XG4gICAgcmV0dXJuIHByZWZpeCArIGtlYmFiQ2FzZSArICckJztcbiAgfVxuICByZXR1cm4gbnVsbDtcbn07XG5cbmV4cG9ydCBjb25zdCBjb252ZXJ0RXZlbnROYW1lRnJvbUpzeFByb3BUb0h0bWxBdHRyID0gKG5hbWU6IHN0cmluZyk6IHN0cmluZyB8IG51bGwgPT4ge1xuICBpZiAobmFtZS5lbmRzV2l0aCgnJCcpKSB7XG4gICAgbGV0IHByZWZpeDogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gICAgLy8gbGV0IGlkeCA9IC0xO1xuICAgIGlmIChuYW1lLnN0YXJ0c1dpdGgoJ29uJykpIHtcbiAgICAgIHByZWZpeCA9ICdvbjonO1xuICAgICAgLy8gaWR4ID0gMjsgLy8gJ29uJy5sZW5ndGhcbiAgICB9IGVsc2UgaWYgKG5hbWUuc3RhcnRzV2l0aCgnd2luZG93Om9uJykpIHtcbiAgICAgIHByZWZpeCA9ICdvbi13aW5kb3c6JztcbiAgICAgIC8vIGlkeCA9IDk7IC8vICd3aW5kb3c6b24nLmxlbmd0aFxuICAgIH0gZWxzZSBpZiAobmFtZS5zdGFydHNXaXRoKCdkb2N1bWVudDpvbicpKSB7XG4gICAgICBwcmVmaXggPSAnb24tZG9jdW1lbnQ6JztcbiAgICAgIC8vIGlkeCA9IDExOyAvLyAnZG9jdW1lbnQ6b24nLmxlbmd0aFxuICAgIH1cbiAgICBpZiAocHJlZml4ICE9PSBudWxsKSB7XG4gICAgICBjb25zdCBldmVudE5hbWUgPSBnZXRFdmVudE5hbWVGcm9tSnN4UHJvcChuYW1lKSE7XG4gICAgICByZXR1cm4gcHJlZml4ICsgZnJvbUNhbWVsVG9LZWJhYkNhc2UoZXZlbnROYW1lKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59O1xuXG5leHBvcnQgY29uc3QgZnJvbUNhbWVsVG9LZWJhYkNhc2UgPSAodGV4dDogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgcmV0dXJuIHRleHQucmVwbGFjZSgvKFtBLVotXSkvZywgJy0kMScpLnRvTG93ZXJDYXNlKCk7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gaXNQcmV2ZW50RGVmYXVsdChrZXk6IHN0cmluZyk6IGJvb2xlYW4ge1xuICByZXR1cm4ga2V5LnN0YXJ0c1dpdGgoJ3ByZXZlbnRkZWZhdWx0OicpO1xufVxuIl19","/** CSS properties which accept numbers but are not in units of \"px\". */\nconst unitlessNumbers = new Set([\n    'animationIterationCount',\n    'aspectRatio',\n    'borderImageOutset',\n    'borderImageSlice',\n    'borderImageWidth',\n    'boxFlex',\n    'boxFlexGroup',\n    'boxOrdinalGroup',\n    'columnCount',\n    'columns',\n    'flex',\n    'flexGrow',\n    'flexShrink',\n    'gridArea',\n    'gridRow',\n    'gridRowEnd',\n    'gridRowStart',\n    'gridColumn',\n    'gridColumnEnd',\n    'gridColumnStart',\n    'fontWeight',\n    'lineClamp',\n    'lineHeight',\n    'opacity',\n    'order',\n    'orphans',\n    'scale',\n    'tabSize',\n    'widows',\n    'zIndex',\n    'zoom',\n    'MozAnimationIterationCount', // Known Prefixed Properties\n    'MozBoxFlex', // TODO: Remove these since they shouldn't be used in modern code\n    'msFlex',\n    'msFlexPositive',\n    'WebkitAnimationIterationCount',\n    'WebkitBoxFlex',\n    'WebkitBoxOrdinalGroup',\n    'WebkitColumnCount',\n    'WebkitColumns',\n    'WebkitFlex',\n    'WebkitFlexGrow',\n    'WebkitFlexShrink',\n    'WebkitLineClamp',\n]);\nexport const isUnitlessNumber = (name) => {\n    return unitlessNumbers.has(name);\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidW5pdGxlc3NfbnVtYmVyLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3NoYXJlZC91dGlscy91bml0bGVzc19udW1iZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsd0VBQXdFO0FBQ3hFLE1BQU0sZUFBZSxHQUFHLElBQUksR0FBRyxDQUFDO0lBQzlCLHlCQUF5QjtJQUN6QixhQUFhO0lBQ2IsbUJBQW1CO0lBQ25CLGtCQUFrQjtJQUNsQixrQkFBa0I7SUFDbEIsU0FBUztJQUNULGNBQWM7SUFDZCxpQkFBaUI7SUFDakIsYUFBYTtJQUNiLFNBQVM7SUFDVCxNQUFNO0lBQ04sVUFBVTtJQUNWLFlBQVk7SUFDWixVQUFVO0lBQ1YsU0FBUztJQUNULFlBQVk7SUFDWixjQUFjO0lBQ2QsWUFBWTtJQUNaLGVBQWU7SUFDZixpQkFBaUI7SUFDakIsWUFBWTtJQUNaLFdBQVc7SUFDWCxZQUFZO0lBQ1osU0FBUztJQUNULE9BQU87SUFDUCxTQUFTO0lBQ1QsT0FBTztJQUNQLFNBQVM7SUFDVCxRQUFRO0lBQ1IsUUFBUTtJQUNSLE1BQU07SUFDTiw0QkFBNEIsRUFBRSw0QkFBNEI7SUFDMUQsWUFBWSxFQUFFLGlFQUFpRTtJQUMvRSxRQUFRO0lBQ1IsZ0JBQWdCO0lBQ2hCLCtCQUErQjtJQUMvQixlQUFlO0lBQ2YsdUJBQXVCO0lBQ3ZCLG1CQUFtQjtJQUNuQixlQUFlO0lBQ2YsWUFBWTtJQUNaLGdCQUFnQjtJQUNoQixrQkFBa0I7SUFDbEIsaUJBQWlCO0NBQ2xCLENBQUMsQ0FBQztBQUVILE1BQU0sQ0FBQyxNQUFNLGdCQUFnQixHQUFHLENBQUMsSUFBWSxFQUFXLEVBQUU7SUFDeEQsT0FBTyxlQUFlLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQ25DLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKiBDU1MgcHJvcGVydGllcyB3aGljaCBhY2NlcHQgbnVtYmVycyBidXQgYXJlIG5vdCBpbiB1bml0cyBvZiBcInB4XCIuICovXG5jb25zdCB1bml0bGVzc051bWJlcnMgPSBuZXcgU2V0KFtcbiAgJ2FuaW1hdGlvbkl0ZXJhdGlvbkNvdW50JyxcbiAgJ2FzcGVjdFJhdGlvJyxcbiAgJ2JvcmRlckltYWdlT3V0c2V0JyxcbiAgJ2JvcmRlckltYWdlU2xpY2UnLFxuICAnYm9yZGVySW1hZ2VXaWR0aCcsXG4gICdib3hGbGV4JyxcbiAgJ2JveEZsZXhHcm91cCcsXG4gICdib3hPcmRpbmFsR3JvdXAnLFxuICAnY29sdW1uQ291bnQnLFxuICAnY29sdW1ucycsXG4gICdmbGV4JyxcbiAgJ2ZsZXhHcm93JyxcbiAgJ2ZsZXhTaHJpbmsnLFxuICAnZ3JpZEFyZWEnLFxuICAnZ3JpZFJvdycsXG4gICdncmlkUm93RW5kJyxcbiAgJ2dyaWRSb3dTdGFydCcsXG4gICdncmlkQ29sdW1uJyxcbiAgJ2dyaWRDb2x1bW5FbmQnLFxuICAnZ3JpZENvbHVtblN0YXJ0JyxcbiAgJ2ZvbnRXZWlnaHQnLFxuICAnbGluZUNsYW1wJyxcbiAgJ2xpbmVIZWlnaHQnLFxuICAnb3BhY2l0eScsXG4gICdvcmRlcicsXG4gICdvcnBoYW5zJyxcbiAgJ3NjYWxlJyxcbiAgJ3RhYlNpemUnLFxuICAnd2lkb3dzJyxcbiAgJ3pJbmRleCcsXG4gICd6b29tJyxcbiAgJ01vekFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50JywgLy8gS25vd24gUHJlZml4ZWQgUHJvcGVydGllc1xuICAnTW96Qm94RmxleCcsIC8vIFRPRE86IFJlbW92ZSB0aGVzZSBzaW5jZSB0aGV5IHNob3VsZG4ndCBiZSB1c2VkIGluIG1vZGVybiBjb2RlXG4gICdtc0ZsZXgnLFxuICAnbXNGbGV4UG9zaXRpdmUnLFxuICAnV2Via2l0QW5pbWF0aW9uSXRlcmF0aW9uQ291bnQnLFxuICAnV2Via2l0Qm94RmxleCcsXG4gICdXZWJraXRCb3hPcmRpbmFsR3JvdXAnLFxuICAnV2Via2l0Q29sdW1uQ291bnQnLFxuICAnV2Via2l0Q29sdW1ucycsXG4gICdXZWJraXRGbGV4JyxcbiAgJ1dlYmtpdEZsZXhHcm93JyxcbiAgJ1dlYmtpdEZsZXhTaHJpbmsnLFxuICAnV2Via2l0TGluZUNsYW1wJyxcbl0pO1xuXG5leHBvcnQgY29uc3QgaXNVbml0bGVzc051bWJlciA9IChuYW1lOiBzdHJpbmcpOiBib29sZWFuID0+IHtcbiAgcmV0dXJuIHVuaXRsZXNzTnVtYmVycy5oYXMobmFtZSk7XG59O1xuIl19","export const hashCode = (text, hash = 0) => {\n    for (let i = 0; i < text.length; i++) {\n        const chr = text.charCodeAt(i);\n        hash = (hash << 5) - hash + chr;\n        hash |= 0; // Convert to 32bit integer\n    }\n    return Number(Math.abs(hash)).toString(36);\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGFzaF9jb2RlLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3NoYXJlZC91dGlscy9oYXNoX2NvZGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTSxDQUFDLE1BQU0sUUFBUSxHQUFHLENBQUMsSUFBWSxFQUFFLE9BQWUsQ0FBQyxFQUFFLEVBQUU7SUFDekQsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQztRQUNyQyxNQUFNLEdBQUcsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQy9CLElBQUksR0FBRyxDQUFDLElBQUksSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLEdBQUcsR0FBRyxDQUFDO1FBQ2hDLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQywyQkFBMkI7SUFDeEMsQ0FBQztJQUNELE9BQU8sTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLENBQUM7QUFDN0MsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGhhc2hDb2RlID0gKHRleHQ6IHN0cmluZywgaGFzaDogbnVtYmVyID0gMCkgPT4ge1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHRleHQubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBjaHIgPSB0ZXh0LmNoYXJDb2RlQXQoaSk7XG4gICAgaGFzaCA9IChoYXNoIDw8IDUpIC0gaGFzaCArIGNocjtcbiAgICBoYXNoIHw9IDA7IC8vIENvbnZlcnQgdG8gMzJiaXQgaW50ZWdlclxuICB9XG4gIHJldHVybiBOdW1iZXIoTWF0aC5hYnMoaGFzaCkpLnRvU3RyaW5nKDM2KTtcbn07XG4iXX0=","import { QError_stringifyClassOrStyle, qError } from '../error/error';\nimport { isPreventDefault } from './event-names';\nimport { isClassAttr } from './scoped-styles';\nimport { isArray, isString } from './types';\nimport { isUnitlessNumber } from './unitless_number';\nimport { assertQrl } from '../qrl/qrl-class';\nimport { hashCode } from './hash_code';\nimport { ComponentStylesPrefixContent } from './markers';\nexport const serializeClass = (obj) => {\n    if (!obj) {\n        return '';\n    }\n    if (isString(obj)) {\n        return obj.trim();\n    }\n    const classes = [];\n    if (isArray(obj)) {\n        for (const o of obj) {\n            const classList = serializeClass(o);\n            if (classList) {\n                classes.push(classList);\n            }\n        }\n    }\n    else {\n        for (const [key, value] of Object.entries(obj)) {\n            if (value) {\n                classes.push(key.trim());\n            }\n        }\n    }\n    return classes.join(' ');\n};\n// Unlike fromCamelToKebabCase, this leaves `-` so that `background-color` stays `background-color`\nconst fromCamelToKebabCaseWithDash = (text) => {\n    return text.replace(/([A-Z])/g, '-$1').toLowerCase();\n};\nexport const stringifyStyle = (obj) => {\n    if (obj == null) {\n        return '';\n    }\n    if (typeof obj == 'object') {\n        if (isArray(obj)) {\n            throw qError(QError_stringifyClassOrStyle, obj, 'style');\n        }\n        else {\n            const chunks = [];\n            for (const key in obj) {\n                if (Object.prototype.hasOwnProperty.call(obj, key)) {\n                    const value = obj[key];\n                    if (value != null && typeof value !== 'function') {\n                        if (key.startsWith('--')) {\n                            chunks.push(key + ':' + value);\n                        }\n                        else {\n                            chunks.push(fromCamelToKebabCaseWithDash(key) + ':' + setValueForStyle(key, value));\n                        }\n                    }\n                }\n            }\n            return chunks.join(';');\n        }\n    }\n    return String(obj);\n};\nexport const serializeBooleanOrNumberAttribute = (value) => {\n    return value != null ? String(value) : null;\n};\nexport function serializeAttribute(key, value, styleScopedId) {\n    if (isClassAttr(key)) {\n        const serializedClass = serializeClass(value);\n        value = styleScopedId\n            ? styleScopedId + (serializedClass.length ? ' ' + serializedClass : serializedClass)\n            : serializedClass;\n    }\n    else if (key === 'style') {\n        value = stringifyStyle(value);\n    }\n    else if (isEnumeratedBooleanAttribute(key) || typeof value === 'number') {\n        // aria attrs, tabindex etc.\n        value = serializeBooleanOrNumberAttribute(value);\n    }\n    else if (value === false || value == null) {\n        value = null;\n    }\n    else if (value === true && isPreventDefault(key)) {\n        value = '';\n    }\n    return value;\n}\nfunction isEnumeratedBooleanAttribute(key) {\n    return isAriaAttribute(key) || ['spellcheck', 'draggable', 'contenteditable'].includes(key);\n}\nexport const setValueForStyle = (styleName, value) => {\n    if (typeof value === 'number' && value !== 0 && !isUnitlessNumber(styleName)) {\n        return value + 'px';\n    }\n    return value;\n};\nexport function isAriaAttribute(prop) {\n    return prop.startsWith('aria-');\n}\nexport const styleKey = (qStyles, index) => {\n    assertQrl(qStyles);\n    return `${hashCode(qStyles.$hash$)}-${index}`;\n};\nexport const styleContent = (styleId) => {\n    return ComponentStylesPrefixContent + styleId;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3R5bGVzLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3NoYXJlZC91dGlscy9zdHlsZXMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsT0FBTyxFQUFFLDRCQUE0QixFQUFFLE1BQU0sRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQ3RFLE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUNqRCxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDOUMsT0FBTyxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxTQUFTLENBQUM7QUFDNUMsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFDckQsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBRTdDLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFDdkMsT0FBTyxFQUFFLDRCQUE0QixFQUFFLE1BQU0sV0FBVyxDQUFDO0FBRXpELE1BQU0sQ0FBQyxNQUFNLGNBQWMsR0FBRyxDQUFDLEdBQWMsRUFBVSxFQUFFO0lBQ3ZELElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQztRQUNULE9BQU8sRUFBRSxDQUFDO0lBQ1osQ0FBQztJQUNELElBQUksUUFBUSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUM7UUFDbEIsT0FBTyxHQUFHLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDcEIsQ0FBQztJQUVELE1BQU0sT0FBTyxHQUFhLEVBQUUsQ0FBQztJQUU3QixJQUFJLE9BQU8sQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDO1FBQ2pCLEtBQUssTUFBTSxDQUFDLElBQUksR0FBRyxFQUFFLENBQUM7WUFDcEIsTUFBTSxTQUFTLEdBQUcsY0FBYyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3BDLElBQUksU0FBUyxFQUFFLENBQUM7Z0JBQ2QsT0FBTyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztZQUMxQixDQUFDO1FBQ0gsQ0FBQztJQUNILENBQUM7U0FBTSxDQUFDO1FBQ04sS0FBSyxNQUFNLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxJQUFJLE1BQU0sQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQztZQUMvQyxJQUFJLEtBQUssRUFBRSxDQUFDO2dCQUNWLE9BQU8sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUM7WUFDM0IsQ0FBQztRQUNILENBQUM7SUFDSCxDQUFDO0lBRUQsT0FBTyxPQUFPLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQzNCLENBQUMsQ0FBQztBQUVGLG1HQUFtRztBQUNuRyxNQUFNLDRCQUE0QixHQUFHLENBQUMsSUFBWSxFQUFVLEVBQUU7SUFDNUQsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLFVBQVUsRUFBRSxLQUFLLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztBQUN2RCxDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxjQUFjLEdBQUcsQ0FBQyxHQUFRLEVBQVUsRUFBRTtJQUNqRCxJQUFJLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQztRQUNoQixPQUFPLEVBQUUsQ0FBQztJQUNaLENBQUM7SUFDRCxJQUFJLE9BQU8sR0FBRyxJQUFJLFFBQVEsRUFBRSxDQUFDO1FBQzNCLElBQUksT0FBTyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUM7WUFDakIsTUFBTSxNQUFNLENBQUMsNEJBQTRCLEVBQUUsR0FBRyxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQzNELENBQUM7YUFBTSxDQUFDO1lBQ04sTUFBTSxNQUFNLEdBQWEsRUFBRSxDQUFDO1lBQzVCLEtBQUssTUFBTSxHQUFHLElBQUksR0FBRyxFQUFFLENBQUM7Z0JBQ3RCLElBQUksTUFBTSxDQUFDLFNBQVMsQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsRUFBRSxDQUFDO29CQUNuRCxNQUFNLEtBQUssR0FBRyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7b0JBQ3ZCLElBQUksS0FBSyxJQUFJLElBQUksSUFBSSxPQUFPLEtBQUssS0FBSyxVQUFVLEVBQUUsQ0FBQzt3QkFDakQsSUFBSSxHQUFHLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUM7NEJBQ3pCLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxHQUFHLEdBQUcsR0FBRyxLQUFLLENBQUMsQ0FBQzt3QkFDakMsQ0FBQzs2QkFBTSxDQUFDOzRCQUNOLE1BQU0sQ0FBQyxJQUFJLENBQUMsNEJBQTRCLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxHQUFHLGdCQUFnQixDQUFDLEdBQUcsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDO3dCQUN0RixDQUFDO29CQUNILENBQUM7Z0JBQ0gsQ0FBQztZQUNILENBQUM7WUFDRCxPQUFPLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDMUIsQ0FBQztJQUNILENBQUM7SUFDRCxPQUFPLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUNyQixDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxpQ0FBaUMsR0FBRyxDQUFDLEtBQVUsRUFBRSxFQUFFO0lBQzlELE9BQU8sS0FBSyxJQUFJLElBQUksQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7QUFDOUMsQ0FBQyxDQUFDO0FBRUYsTUFBTSxVQUFVLGtCQUFrQixDQUFDLEdBQVcsRUFBRSxLQUFVLEVBQUUsYUFBNkI7SUFDdkYsSUFBSSxXQUFXLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQztRQUNyQixNQUFNLGVBQWUsR0FBRyxjQUFjLENBQUMsS0FBa0IsQ0FBQyxDQUFDO1FBQzNELEtBQUssR0FBRyxhQUFhO1lBQ25CLENBQUMsQ0FBQyxhQUFhLEdBQUcsQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsZUFBZSxDQUFDLENBQUMsQ0FBQyxlQUFlLENBQUM7WUFDcEYsQ0FBQyxDQUFDLGVBQWUsQ0FBQztJQUN0QixDQUFDO1NBQU0sSUFBSSxHQUFHLEtBQUssT0FBTyxFQUFFLENBQUM7UUFDM0IsS0FBSyxHQUFHLGNBQWMsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUNoQyxDQUFDO1NBQU0sSUFBSSw0QkFBNEIsQ0FBQyxHQUFHLENBQUMsSUFBSSxPQUFPLEtBQUssS0FBSyxRQUFRLEVBQUUsQ0FBQztRQUMxRSw0QkFBNEI7UUFDNUIsS0FBSyxHQUFHLGlDQUFpQyxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ25ELENBQUM7U0FBTSxJQUFJLEtBQUssS0FBSyxLQUFLLElBQUksS0FBSyxJQUFJLElBQUksRUFBRSxDQUFDO1FBQzVDLEtBQUssR0FBRyxJQUFJLENBQUM7SUFDZixDQUFDO1NBQU0sSUFBSSxLQUFLLEtBQUssSUFBSSxJQUFJLGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUM7UUFDbkQsS0FBSyxHQUFHLEVBQUUsQ0FBQztJQUNiLENBQUM7SUFDRCxPQUFPLEtBQUssQ0FBQztBQUNmLENBQUM7QUFFRCxTQUFTLDRCQUE0QixDQUFDLEdBQVc7SUFDL0MsT0FBTyxlQUFlLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUUsV0FBVyxFQUFFLGlCQUFpQixDQUFDLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQzlGLENBQUM7QUFFRCxNQUFNLENBQUMsTUFBTSxnQkFBZ0IsR0FBRyxDQUFDLFNBQWlCLEVBQUUsS0FBVSxFQUFFLEVBQUU7SUFDaEUsSUFBSSxPQUFPLEtBQUssS0FBSyxRQUFRLElBQUksS0FBSyxLQUFLLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUM7UUFDN0UsT0FBTyxLQUFLLEdBQUcsSUFBSSxDQUFDO0lBQ3RCLENBQUM7SUFDRCxPQUFPLEtBQUssQ0FBQztBQUNmLENBQUMsQ0FBQztBQUVGLE1BQU0sVUFBVSxlQUFlLENBQUMsSUFBWTtJQUMxQyxPQUFPLElBQUksQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLENBQUM7QUFDbEMsQ0FBQztBQUVELE1BQU0sQ0FBQyxNQUFNLFFBQVEsR0FBRyxDQUFDLE9BQW9CLEVBQUUsS0FBYSxFQUFVLEVBQUU7SUFDdEUsU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ25CLE9BQU8sR0FBRyxRQUFRLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLEtBQUssRUFBRSxDQUFDO0FBQ2hELENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLFlBQVksR0FBRyxDQUFDLE9BQWUsRUFBVSxFQUFFO0lBQ3RELE9BQU8sNEJBQTRCLEdBQUcsT0FBTyxDQUFDO0FBQ2hELENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgQ2xhc3NMaXN0IH0gZnJvbSAnLi4vanN4L3R5cGVzL2pzeC1xd2lrLWF0dHJpYnV0ZXMnO1xuaW1wb3J0IHsgUUVycm9yX3N0cmluZ2lmeUNsYXNzT3JTdHlsZSwgcUVycm9yIH0gZnJvbSAnLi4vZXJyb3IvZXJyb3InO1xuaW1wb3J0IHsgaXNQcmV2ZW50RGVmYXVsdCB9IGZyb20gJy4vZXZlbnQtbmFtZXMnO1xuaW1wb3J0IHsgaXNDbGFzc0F0dHIgfSBmcm9tICcuL3Njb3BlZC1zdHlsZXMnO1xuaW1wb3J0IHsgaXNBcnJheSwgaXNTdHJpbmcgfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IGlzVW5pdGxlc3NOdW1iZXIgfSBmcm9tICcuL3VuaXRsZXNzX251bWJlcic7XG5pbXBvcnQgeyBhc3NlcnRRcmwgfSBmcm9tICcuLi9xcmwvcXJsLWNsYXNzJztcbmltcG9ydCB0eXBlIHsgUVJMIH0gZnJvbSAnLi4vcXJsL3FybC5wdWJsaWMnO1xuaW1wb3J0IHsgaGFzaENvZGUgfSBmcm9tICcuL2hhc2hfY29kZSc7XG5pbXBvcnQgeyBDb21wb25lbnRTdHlsZXNQcmVmaXhDb250ZW50IH0gZnJvbSAnLi9tYXJrZXJzJztcblxuZXhwb3J0IGNvbnN0IHNlcmlhbGl6ZUNsYXNzID0gKG9iajogQ2xhc3NMaXN0KTogc3RyaW5nID0+IHtcbiAgaWYgKCFvYmopIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cbiAgaWYgKGlzU3RyaW5nKG9iaikpIHtcbiAgICByZXR1cm4gb2JqLnRyaW0oKTtcbiAgfVxuXG4gIGNvbnN0IGNsYXNzZXM6IHN0cmluZ1tdID0gW107XG5cbiAgaWYgKGlzQXJyYXkob2JqKSkge1xuICAgIGZvciAoY29uc3QgbyBvZiBvYmopIHtcbiAgICAgIGNvbnN0IGNsYXNzTGlzdCA9IHNlcmlhbGl6ZUNsYXNzKG8pO1xuICAgICAgaWYgKGNsYXNzTGlzdCkge1xuICAgICAgICBjbGFzc2VzLnB1c2goY2xhc3NMaXN0KTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMob2JqKSkge1xuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIGNsYXNzZXMucHVzaChrZXkudHJpbSgpKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gY2xhc3Nlcy5qb2luKCcgJyk7XG59O1xuXG4vLyBVbmxpa2UgZnJvbUNhbWVsVG9LZWJhYkNhc2UsIHRoaXMgbGVhdmVzIGAtYCBzbyB0aGF0IGBiYWNrZ3JvdW5kLWNvbG9yYCBzdGF5cyBgYmFja2dyb3VuZC1jb2xvcmBcbmNvbnN0IGZyb21DYW1lbFRvS2ViYWJDYXNlV2l0aERhc2ggPSAodGV4dDogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgcmV0dXJuIHRleHQucmVwbGFjZSgvKFtBLVpdKS9nLCAnLSQxJykudG9Mb3dlckNhc2UoKTtcbn07XG5cbmV4cG9ydCBjb25zdCBzdHJpbmdpZnlTdHlsZSA9IChvYmo6IGFueSk6IHN0cmluZyA9PiB7XG4gIGlmIChvYmogPT0gbnVsbCkge1xuICAgIHJldHVybiAnJztcbiAgfVxuICBpZiAodHlwZW9mIG9iaiA9PSAnb2JqZWN0Jykge1xuICAgIGlmIChpc0FycmF5KG9iaikpIHtcbiAgICAgIHRocm93IHFFcnJvcihRRXJyb3Jfc3RyaW5naWZ5Q2xhc3NPclN0eWxlLCBvYmosICdzdHlsZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBjaHVua3M6IHN0cmluZ1tdID0gW107XG4gICAgICBmb3IgKGNvbnN0IGtleSBpbiBvYmopIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHtcbiAgICAgICAgICBjb25zdCB2YWx1ZSA9IG9ialtrZXldO1xuICAgICAgICAgIGlmICh2YWx1ZSAhPSBudWxsICYmIHR5cGVvZiB2YWx1ZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgaWYgKGtleS5zdGFydHNXaXRoKCctLScpKSB7XG4gICAgICAgICAgICAgIGNodW5rcy5wdXNoKGtleSArICc6JyArIHZhbHVlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNodW5rcy5wdXNoKGZyb21DYW1lbFRvS2ViYWJDYXNlV2l0aERhc2goa2V5KSArICc6JyArIHNldFZhbHVlRm9yU3R5bGUoa2V5LCB2YWx1ZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGNodW5rcy5qb2luKCc7Jyk7XG4gICAgfVxuICB9XG4gIHJldHVybiBTdHJpbmcob2JqKTtcbn07XG5cbmV4cG9ydCBjb25zdCBzZXJpYWxpemVCb29sZWFuT3JOdW1iZXJBdHRyaWJ1dGUgPSAodmFsdWU6IGFueSkgPT4ge1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCA/IFN0cmluZyh2YWx1ZSkgOiBudWxsO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIHNlcmlhbGl6ZUF0dHJpYnV0ZShrZXk6IHN0cmluZywgdmFsdWU6IGFueSwgc3R5bGVTY29wZWRJZD86IHN0cmluZyB8IG51bGwpOiBzdHJpbmcge1xuICBpZiAoaXNDbGFzc0F0dHIoa2V5KSkge1xuICAgIGNvbnN0IHNlcmlhbGl6ZWRDbGFzcyA9IHNlcmlhbGl6ZUNsYXNzKHZhbHVlIGFzIENsYXNzTGlzdCk7XG4gICAgdmFsdWUgPSBzdHlsZVNjb3BlZElkXG4gICAgICA/IHN0eWxlU2NvcGVkSWQgKyAoc2VyaWFsaXplZENsYXNzLmxlbmd0aCA/ICcgJyArIHNlcmlhbGl6ZWRDbGFzcyA6IHNlcmlhbGl6ZWRDbGFzcylcbiAgICAgIDogc2VyaWFsaXplZENsYXNzO1xuICB9IGVsc2UgaWYgKGtleSA9PT0gJ3N0eWxlJykge1xuICAgIHZhbHVlID0gc3RyaW5naWZ5U3R5bGUodmFsdWUpO1xuICB9IGVsc2UgaWYgKGlzRW51bWVyYXRlZEJvb2xlYW5BdHRyaWJ1dGUoa2V5KSB8fCB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgLy8gYXJpYSBhdHRycywgdGFiaW5kZXggZXRjLlxuICAgIHZhbHVlID0gc2VyaWFsaXplQm9vbGVhbk9yTnVtYmVyQXR0cmlidXRlKHZhbHVlKTtcbiAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gZmFsc2UgfHwgdmFsdWUgPT0gbnVsbCkge1xuICAgIHZhbHVlID0gbnVsbDtcbiAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gdHJ1ZSAmJiBpc1ByZXZlbnREZWZhdWx0KGtleSkpIHtcbiAgICB2YWx1ZSA9ICcnO1xuICB9XG4gIHJldHVybiB2YWx1ZTtcbn1cblxuZnVuY3Rpb24gaXNFbnVtZXJhdGVkQm9vbGVhbkF0dHJpYnV0ZShrZXk6IHN0cmluZykge1xuICByZXR1cm4gaXNBcmlhQXR0cmlidXRlKGtleSkgfHwgWydzcGVsbGNoZWNrJywgJ2RyYWdnYWJsZScsICdjb250ZW50ZWRpdGFibGUnXS5pbmNsdWRlcyhrZXkpO1xufVxuXG5leHBvcnQgY29uc3Qgc2V0VmFsdWVGb3JTdHlsZSA9IChzdHlsZU5hbWU6IHN0cmluZywgdmFsdWU6IGFueSkgPT4ge1xuICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyAmJiB2YWx1ZSAhPT0gMCAmJiAhaXNVbml0bGVzc051bWJlcihzdHlsZU5hbWUpKSB7XG4gICAgcmV0dXJuIHZhbHVlICsgJ3B4JztcbiAgfVxuICByZXR1cm4gdmFsdWU7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gaXNBcmlhQXR0cmlidXRlKHByb3A6IHN0cmluZyk6IGJvb2xlYW4ge1xuICByZXR1cm4gcHJvcC5zdGFydHNXaXRoKCdhcmlhLScpO1xufVxuXG5leHBvcnQgY29uc3Qgc3R5bGVLZXkgPSAocVN0eWxlczogUVJMPHN0cmluZz4sIGluZGV4OiBudW1iZXIpOiBzdHJpbmcgPT4ge1xuICBhc3NlcnRRcmwocVN0eWxlcyk7XG4gIHJldHVybiBgJHtoYXNoQ29kZShxU3R5bGVzLiRoYXNoJCl9LSR7aW5kZXh9YDtcbn07XG5cbmV4cG9ydCBjb25zdCBzdHlsZUNvbnRlbnQgPSAoc3R5bGVJZDogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgcmV0dXJuIENvbXBvbmVudFN0eWxlc1ByZWZpeENvbnRlbnQgKyBzdHlsZUlkO1xufTtcbiJdfQ==","import { styleContent } from './styles';\nexport function hasClassAttr(props) {\n    for (const key in props) {\n        if (Object.prototype.hasOwnProperty.call(props, key) && isClassAttr(key)) {\n            return true;\n        }\n    }\n    return false;\n}\nexport function isClassAttr(key) {\n    return key === 'class' || key === 'className';\n}\nexport function getScopedStyleIdsAsPrefix(scopedStyleIds) {\n    return Array.from(scopedStyleIds)\n        .map((styleId) => styleContent(styleId))\n        .join(' ');\n}\nexport function convertScopedStyleIdsToArray(scopedStyleIds) {\n    return scopedStyleIds?.split(' ') ?? null;\n}\nexport function convertStyleIdsToString(scopedStyleIds) {\n    return Array.from(scopedStyleIds).join(' ');\n}\nexport const addComponentStylePrefix = (styleId) => {\n    if (styleId) {\n        let idx = 0;\n        do {\n            styleId = styleId.substring(0, idx) + styleContent(styleId.substring(idx));\n        } while ((idx = styleId.indexOf(' ', idx) + 1) !== 0);\n    }\n    return styleId || null;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2NvcGVkLXN0eWxlcy5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9zaGFyZWQvdXRpbHMvc2NvcGVkLXN0eWxlcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sVUFBVSxDQUFDO0FBRXhDLE1BQU0sVUFBVSxZQUFZLENBQUMsS0FBWTtJQUN2QyxLQUFLLE1BQU0sR0FBRyxJQUFJLEtBQUssRUFBRSxDQUFDO1FBQ3hCLElBQUksTUFBTSxDQUFDLFNBQVMsQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxHQUFHLENBQUMsSUFBSSxXQUFXLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQztZQUN6RSxPQUFPLElBQUksQ0FBQztRQUNkLENBQUM7SUFDSCxDQUFDO0lBQ0QsT0FBTyxLQUFLLENBQUM7QUFDZixDQUFDO0FBRUQsTUFBTSxVQUFVLFdBQVcsQ0FBQyxHQUFXO0lBQ3JDLE9BQU8sR0FBRyxLQUFLLE9BQU8sSUFBSSxHQUFHLEtBQUssV0FBVyxDQUFDO0FBQ2hELENBQUM7QUFFRCxNQUFNLFVBQVUseUJBQXlCLENBQUMsY0FBMkI7SUFDbkUsT0FBTyxLQUFLLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQztTQUM5QixHQUFHLENBQUMsQ0FBQyxPQUFPLEVBQUUsRUFBRSxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsQ0FBQztTQUN2QyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDZixDQUFDO0FBRUQsTUFBTSxVQUFVLDRCQUE0QixDQUFDLGNBQThCO0lBQ3pFLE9BQU8sY0FBYyxFQUFFLEtBQUssQ0FBQyxHQUFHLENBQUMsSUFBSSxJQUFJLENBQUM7QUFDNUMsQ0FBQztBQUVELE1BQU0sVUFBVSx1QkFBdUIsQ0FBQyxjQUEyQjtJQUNqRSxPQUFPLEtBQUssQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQzlDLENBQUM7QUFFRCxNQUFNLENBQUMsTUFBTSx1QkFBdUIsR0FBRyxDQUFDLE9BQXVCLEVBQWlCLEVBQUU7SUFDaEYsSUFBSSxPQUFPLEVBQUUsQ0FBQztRQUNaLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQztRQUNaLEdBQUcsQ0FBQztZQUNGLE9BQU8sR0FBRyxPQUFPLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsR0FBRyxZQUFZLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQzdFLENBQUMsUUFBUSxDQUFDLEdBQUcsR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsS0FBSyxDQUFDLEVBQUU7SUFDeEQsQ0FBQztJQUNELE9BQU8sT0FBTyxJQUFJLElBQUksQ0FBQztBQUN6QixDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IFByb3BzIH0gZnJvbSAnLi4vanN4L2pzeC1ydW50aW1lJztcbmltcG9ydCB7IHN0eWxlQ29udGVudCB9IGZyb20gJy4vc3R5bGVzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGhhc0NsYXNzQXR0cihwcm9wczogUHJvcHMpOiBib29sZWFuIHtcbiAgZm9yIChjb25zdCBrZXkgaW4gcHJvcHMpIHtcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHByb3BzLCBrZXkpICYmIGlzQ2xhc3NBdHRyKGtleSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0NsYXNzQXR0cihrZXk6IHN0cmluZyk6IGJvb2xlYW4ge1xuICByZXR1cm4ga2V5ID09PSAnY2xhc3MnIHx8IGtleSA9PT0gJ2NsYXNzTmFtZSc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTY29wZWRTdHlsZUlkc0FzUHJlZml4KHNjb3BlZFN0eWxlSWRzOiBTZXQ8c3RyaW5nPik6IHN0cmluZyB7XG4gIHJldHVybiBBcnJheS5mcm9tKHNjb3BlZFN0eWxlSWRzKVxuICAgIC5tYXAoKHN0eWxlSWQpID0+IHN0eWxlQ29udGVudChzdHlsZUlkKSlcbiAgICAuam9pbignICcpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29udmVydFNjb3BlZFN0eWxlSWRzVG9BcnJheShzY29wZWRTdHlsZUlkcz86IHN0cmluZyB8IG51bGwpOiBBcnJheTxzdHJpbmc+IHwgbnVsbCB7XG4gIHJldHVybiBzY29wZWRTdHlsZUlkcz8uc3BsaXQoJyAnKSA/PyBudWxsO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29udmVydFN0eWxlSWRzVG9TdHJpbmcoc2NvcGVkU3R5bGVJZHM6IFNldDxzdHJpbmc+KTogc3RyaW5nIHtcbiAgcmV0dXJuIEFycmF5LmZyb20oc2NvcGVkU3R5bGVJZHMpLmpvaW4oJyAnKTtcbn1cblxuZXhwb3J0IGNvbnN0IGFkZENvbXBvbmVudFN0eWxlUHJlZml4ID0gKHN0eWxlSWQ/OiBzdHJpbmcgfCBudWxsKTogc3RyaW5nIHwgbnVsbCA9PiB7XG4gIGlmIChzdHlsZUlkKSB7XG4gICAgbGV0IGlkeCA9IDA7XG4gICAgZG8ge1xuICAgICAgc3R5bGVJZCA9IHN0eWxlSWQuc3Vic3RyaW5nKDAsIGlkeCkgKyBzdHlsZUNvbnRlbnQoc3R5bGVJZC5zdWJzdHJpbmcoaWR4KSk7XG4gICAgfSB3aGlsZSAoKGlkeCA9IHN0eWxlSWQuaW5kZXhPZignICcsIGlkeCkgKyAxKSAhPT0gMCk7XG4gIH1cbiAgcmV0dXJuIHN0eWxlSWQgfHwgbnVsbDtcbn07XG4iXX0=","import { pad, qwikDebugToString } from '../debug';\nimport { assertTrue } from '../shared/error/assert';\nimport { tryGetInvokeContext } from '../use/use-core';\nimport { isSerializableObject } from '../shared/utils/types';\nimport { unwrapDeserializerProxy } from '../shared/shared-serialization';\nimport { ensureContains, ensureContainsEffect, triggerEffects, } from './signal';\nconst DEBUG = false;\n// eslint-disable-next-line no-console\nconst log = (...args) => console.log('STORE', ...args.map(qwikDebugToString));\nconst STORE_TARGET = Symbol('store.target');\nconst STORE_HANDLER = Symbol('store.handler');\nexport const STORE_ARRAY_PROP = Symbol('store.array');\nexport var StoreFlags;\n(function (StoreFlags) {\n    StoreFlags[StoreFlags[\"NONE\"] = 0] = \"NONE\";\n    StoreFlags[StoreFlags[\"RECURSIVE\"] = 1] = \"RECURSIVE\";\n    StoreFlags[StoreFlags[\"IMMUTABLE\"] = 2] = \"IMMUTABLE\";\n})(StoreFlags || (StoreFlags = {}));\nexport const getStoreHandler = (value) => {\n    return value[STORE_HANDLER];\n};\nexport const getStoreTarget = (value) => {\n    return value?.[STORE_TARGET] || null;\n};\nexport const unwrapStore = (value) => {\n    return getStoreTarget(value) || value;\n};\nexport const isStore = (value) => {\n    return STORE_TARGET in value;\n};\nexport function createStore(container, obj, flags) {\n    return new Proxy(obj, new StoreHandler(flags, container || null));\n}\nexport const getOrCreateStore = (obj, flags, container) => {\n    if (isSerializableObject(obj) && container) {\n        let store = container.$storeProxyMap$.get(obj);\n        if (!store) {\n            store = createStore(container, obj, flags);\n            container.$storeProxyMap$.set(obj, store);\n        }\n        return store;\n    }\n    return obj;\n};\nexport class StoreHandler {\n    constructor($flags$, $container$) {\n        this.$flags$ = $flags$;\n        this.$container$ = $container$;\n        this.$effects$ = null;\n    }\n    toString() {\n        return '[Store]';\n    }\n    get(target, prop) {\n        if (typeof prop === 'symbol') {\n            if (prop === STORE_TARGET) {\n                return target;\n            }\n            if (prop === STORE_HANDLER) {\n                return this;\n            }\n            return target[prop];\n        }\n        const ctx = tryGetInvokeContext();\n        const value = target[prop];\n        if (ctx) {\n            if (this.$container$ === null) {\n                if (!ctx.$container$) {\n                    return value;\n                }\n                // Grab the container now we have access to it\n                this.$container$ = ctx.$container$;\n            }\n            else {\n                assertTrue(!ctx.$container$ || ctx.$container$ === this.$container$, 'Do not use signals across containers');\n            }\n            const effectSubscriber = ctx.$effectSubscriber$;\n            if (effectSubscriber) {\n                addEffect(target, Array.isArray(target) ? STORE_ARRAY_PROP : prop, this, effectSubscriber);\n            }\n        }\n        if (prop === 'toString' && value === Object.prototype.toString) {\n            return this.toString;\n        }\n        const flags = this.$flags$;\n        if (flags & StoreFlags.RECURSIVE &&\n            typeof value === 'object' &&\n            value !== null &&\n            !Object.isFrozen(value) &&\n            !isStore(value) &&\n            !Object.isFrozen(target)) {\n            return getOrCreateStore(value, this.$flags$, this.$container$);\n        }\n        return value;\n    }\n    /** In the case of oldValue and value are the same, the effects are not triggered. */\n    set(target, prop, value) {\n        target = unwrapDeserializerProxy(target);\n        if (typeof prop === 'symbol') {\n            target[prop] = value;\n            return true;\n        }\n        const newValue = this.$flags$ & StoreFlags.RECURSIVE ? unwrapStore(value) : value;\n        if (prop in target) {\n            const oldValue = target[prop];\n            if (newValue !== oldValue) {\n                DEBUG && log('Store.set', oldValue, '->', newValue, pad('\\n' + this.toString(), '  '));\n                setNewValueAndTriggerEffects(prop, newValue, target, this);\n            }\n        }\n        else {\n            DEBUG && log('Store.set', 'create property', newValue, pad('\\n' + this.toString(), '  '));\n            setNewValueAndTriggerEffects(prop, newValue, target, this);\n        }\n        return true;\n    }\n    deleteProperty(target, prop) {\n        if (typeof prop != 'string' || !delete target[prop]) {\n            return false;\n        }\n        triggerEffects(this.$container$, this, getEffects(target, prop, this.$effects$));\n        return true;\n    }\n    has(target, prop) {\n        if (prop === STORE_TARGET) {\n            return true;\n        }\n        return Object.prototype.hasOwnProperty.call(target, prop);\n    }\n    ownKeys(target) {\n        const ctx = tryGetInvokeContext();\n        const effectSubscriber = ctx?.$effectSubscriber$;\n        if (effectSubscriber) {\n            addEffect(target, STORE_ARRAY_PROP, this, effectSubscriber);\n        }\n        return Reflect.ownKeys(target);\n    }\n    getOwnPropertyDescriptor(target, prop) {\n        if (Array.isArray(target) || typeof prop === 'symbol') {\n            return Object.getOwnPropertyDescriptor(target, prop);\n        }\n        return {\n            enumerable: true,\n            configurable: true,\n        };\n    }\n}\nfunction addEffect(target, prop, store, effectSubscriber) {\n    const effectsMap = (store.$effects$ || (store.$effects$ = {}));\n    const effects = (Object.prototype.hasOwnProperty.call(effectsMap, prop) && effectsMap[prop]) ||\n        (effectsMap[prop] = []);\n    // Let's make sure that we have a reference to this effect.\n    // Adding reference is essentially adding a subscription, so if the signal\n    // changes we know who to notify.\n    ensureContainsEffect(effects, effectSubscriber);\n    // But when effect is scheduled in needs to be able to know which signals\n    // to unsubscribe from. So we need to store the reference from the effect back\n    // to this signal.\n    ensureContains(effectSubscriber, target);\n    DEBUG && log('sub', pad('\\n' + store.$effects$.toString(), '  '));\n}\nfunction setNewValueAndTriggerEffects(prop, value, target, currentStore) {\n    target[prop] = value;\n    triggerEffects(currentStore.$container$, currentStore, getEffects(target, prop, currentStore.$effects$));\n}\nfunction getEffects(target, prop, storeEffects) {\n    let effectsToTrigger = storeEffects\n        ? Array.isArray(target)\n            ? Object.values(storeEffects).flatMap((effects) => effects)\n            : storeEffects[prop]\n        : null;\n    const storeArrayValue = storeEffects?.[STORE_ARRAY_PROP];\n    if (storeArrayValue) {\n        effectsToTrigger || (effectsToTrigger = []);\n        effectsToTrigger.push(...storeArrayValue);\n    }\n    return effectsToTrigger;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RvcmUuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvc2lnbmFsL3N0b3JlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxHQUFHLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSxVQUFVLENBQUM7QUFDbEQsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLHdCQUF3QixDQUFDO0FBQ3BELE9BQU8sRUFBRSxtQkFBbUIsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQ3RELE9BQU8sRUFBRSxvQkFBb0IsRUFBRSxNQUFNLHVCQUF1QixDQUFDO0FBQzdELE9BQU8sRUFBRSx1QkFBdUIsRUFBRSxNQUFNLGdDQUFnQyxDQUFDO0FBRXpFLE9BQU8sRUFDTCxjQUFjLEVBQ2Qsb0JBQW9CLEVBQ3BCLGNBQWMsR0FFZixNQUFNLFVBQVUsQ0FBQztBQUVsQixNQUFNLEtBQUssR0FBRyxLQUFLLENBQUM7QUFFcEIsc0NBQXNDO0FBQ3RDLE1BQU0sR0FBRyxHQUFHLENBQUMsR0FBRyxJQUFXLEVBQUUsRUFBRSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsT0FBTyxFQUFFLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLENBQUM7QUFFckYsTUFBTSxZQUFZLEdBQUcsTUFBTSxDQUFDLGNBQWMsQ0FBQyxDQUFDO0FBQzVDLE1BQU0sYUFBYSxHQUFHLE1BQU0sQ0FBQyxlQUFlLENBQUMsQ0FBQztBQUM5QyxNQUFNLENBQUMsTUFBTSxnQkFBZ0IsR0FBRyxNQUFNLENBQUMsYUFBYSxDQUFDLENBQUM7QUFJdEQsTUFBTSxDQUFOLElBQWtCLFVBSWpCO0FBSkQsV0FBa0IsVUFBVTtJQUMxQiwyQ0FBUSxDQUFBO0lBQ1IscURBQWEsQ0FBQTtJQUNiLHFEQUFhLENBQUE7QUFDZixDQUFDLEVBSmlCLFVBQVUsS0FBVixVQUFVLFFBSTNCO0FBRUQsTUFBTSxDQUFDLE1BQU0sZUFBZSxHQUFH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QyxZQUFZLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxPQUFPLEVBQUUsRUFBRSxDQUFDLE9BQU8sQ0FBQztZQUMzRCxDQUFDLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQztRQUN0QixDQUFDLENBQUMsSUFBSSxDQUFDO0lBQ1QsTUFBTSxlQUFlLEdBQUcsWUFBWSxFQUFFLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztJQUN6RCxJQUFJLGVBQWUsRUFBRSxDQUFDO1FBQ3BCLGdCQUFnQixLQUFoQixnQkFBZ0IsR0FBSyxFQUFFLEVBQUM7UUFDeEIsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLEdBQUcsZUFBZSxDQUFDLENBQUM7SUFDNUMsQ0FBQztJQUNELE9BQU8sZ0JBQWdCLENBQUM7QUFDMUIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHBhZCwgcXdpa0RlYnVnVG9TdHJpbmcgfSBmcm9tICcuLi9kZWJ1Zyc7XG5pbXBvcnQgeyBhc3NlcnRUcnVlIH0gZnJvbSAnLi4vc2hhcmVkL2Vycm9yL2Fzc2VydCc7XG5pbXBvcnQgeyB0cnlHZXRJbnZva2VDb250ZXh0IH0gZnJvbSAnLi4vdXNlL3VzZS1jb3JlJztcbmltcG9ydCB7IGlzU2VyaWFsaXphYmxlT2JqZWN0IH0gZnJvbSAnLi4vc2hhcmVkL3V0aWxzL3R5cGVzJztcbmltcG9ydCB7IHVud3JhcERlc2VyaWFsaXplclByb3h5IH0gZnJvbSAnLi4vc2hhcmVkL3NoYXJlZC1zZXJpYWxpemF0aW9uJztcbmltcG9ydCB0eXBlIHsgQ29udGFpbmVyIH0gZnJvbSAnLi4vc2hhcmVkL3R5cGVzJztcbmltcG9ydCB7XG4gIGVuc3VyZUNvbnRhaW5zLFxuICBlbnN1cmVDb250YWluc0VmZmVjdCxcbiAgdHJpZ2dlckVmZmVjdHMsXG4gIHR5cGUgRWZmZWN0U3Vic2NyaXB0aW9ucyxcbn0gZnJvbSAnLi9zaWduYWwnO1xuXG5jb25zdCBERUJVRyA9IGZhbHNlO1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuY29uc3QgbG9nID0gKC4uLmFyZ3M6IGFueVtdKSA9PiBjb25zb2xlLmxvZygnU1RPUkUnLCAuLi5hcmdzLm1hcChxd2lrRGVidWdUb1N0cmluZykpO1xuXG5jb25zdCBTVE9SRV9UQVJHRVQgPSBTeW1ib2woJ3N0b3JlLnRhcmdldCcpO1xuY29uc3QgU1RPUkVfSEFORExFUiA9IFN5bWJvbCgnc3RvcmUuaGFuZGxlcicpO1xuZXhwb3J0IGNvbnN0IFNUT1JFX0FSUkFZX1BST1AgPSBTeW1ib2woJ3N0b3JlLmFycmF5Jyk7XG5cbmV4cG9ydCB0eXBlIFRhcmdldFR5cGUgPSBSZWNvcmQ8c3RyaW5nIHwgc3ltYm9sLCBhbnk+O1xuXG5leHBvcnQgY29uc3QgZW51bSBTdG9yZUZsYWdzIHtcbiAgTk9ORSA9IDAsXG4gIFJFQ1VSU0lWRSA9IDEsXG4gIElNTVVUQUJMRSA9IDIsXG59XG5cbmV4cG9ydCBjb25zdCBnZXRTdG9yZUhhbmRsZXIgPSAodmFsdWU6IFRhcmdldFR5cGUpOiBTdG9yZUhhbmRsZXIgfCBudWxsID0+IHtcbiAgcmV0dXJuIHZhbHVlW1NUT1JFX0hBTkRMRVJdIGFzIFN0b3JlSGFuZGxlciB8IG51bGw7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0U3RvcmVUYXJnZXQgPSA8VCBleHRlbmRzIFRhcmdldFR5cGU+KHZhbHVlOiBUKTogVCB8IG51bGwgPT4ge1xuICByZXR1cm4gdmFsdWU/LltTVE9SRV9UQVJHRVRdIHx8IG51bGw7XG59O1xuXG5leHBvcnQgY29uc3QgdW53cmFwU3RvcmUgPSA8VD4odmFsdWU6IFQpOiBUID0+IHtcbiAgcmV0dXJuIGdldFN0b3JlVGFyZ2V0PGFueT4odmFsdWUpIHx8IHZhbHVlO1xufTtcblxuZXhwb3J0IGNvbnN0IGlzU3RvcmUgPSAodmFsdWU6IFRhcmdldFR5cGUpOiBib29sZWFuID0+IHtcbiAgcmV0dXJuIFNUT1JFX1RBUkdFVCBpbiB2YWx1ZTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTdG9yZTxUIGV4dGVuZHMgb2JqZWN0PihcbiAgY29udGFpbmVyOiBDb250YWluZXIgfCBudWxsIHwgdW5kZWZpbmVkLFxuICBvYmo6IFQsXG4gIGZsYWdzOiBTdG9yZUZsYWdzXG4pOiBUIHtcbiAgcmV0dXJuIG5ldyBQcm94eShvYmosIG5ldyBTdG9yZUhhbmRsZXIoZmxhZ3MsIGNvbnRhaW5lciB8fCBudWxsKSkgYXMgVDtcbn1cblxuZXhwb3J0IGNvbnN0IGdldE9yQ3JlYXRlU3RvcmUgPSA8VCBleHRlbmRzIG9iamVjdD4oXG4gIG9iajogVCxcbiAgZmxhZ3M6IFN0b3JlRmxhZ3MsXG4gIGNvbnRhaW5lcjogQ29udGFpbmVyIHwgbnVsbFxuKTogVCA9PiB7XG4gIGlmIChpc1NlcmlhbGl6YWJsZU9iamVjdChvYmopICYmIGNvbnRhaW5lcikge1xuICAgIGxldCBzdG9yZTogVCB8IHVuZGVmaW5lZCA9IGNvbnRhaW5lci4kc3RvcmVQcm94eU1hcCQuZ2V0KG9iaik7XG4gICAgaWYgKCFzdG9yZSkge1xuICAgICAgc3RvcmUgPSBjcmVhdGVTdG9yZShjb250YWluZXIsIG9iaiwgZmxhZ3MpO1xuICAgICAgY29udGFpbmVyLiRzdG9yZVByb3h5TWFwJC5zZXQob2JqLCBzdG9yZSk7XG4gICAgfVxuICAgIHJldHVybiBzdG9yZTtcbiAgfVxuICByZXR1cm4gb2JqO1xufTtcblxuZXhwb3J0IGNsYXNzIFN0b3JlSGFuZGxlciBpbXBsZW1lbnRzIFByb3h5SGFuZGxlcjxUYXJnZXRUeXBlPiB7XG4gICRlZmZlY3RzJDogbnVsbCB8IFJlY29yZDxzdHJpbmcgfCBzeW1ib2wsIEVmZmVjdFN1YnNjcmlwdGlvbnNbXT4gPSBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyAkZmxhZ3MkOiBTdG9yZUZsYWdzLFxuICAgIHB1YmxpYyAkY29udGFpbmVyJDogQ29udGFpbmVyIHwgbnVsbFxuICApIHt9XG5cbiAgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gJ1tTdG9yZV0nO1xuICB9XG5cbiAgZ2V0KHRhcmdldDogVGFyZ2V0VHlwZSwgcHJvcDogc3RyaW5nIHwgc3ltYm9sKSB7XG4gICAgaWYgKHR5cGVvZiBwcm9wID09PSAnc3ltYm9sJykge1xuICAgICAgaWYgKHByb3AgPT09IFNUT1JFX1RBUkdFVCkge1xuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgICAgfVxuICAgICAgaWYgKHByb3AgPT09IFNUT1JFX0hBTkRMRVIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGFyZ2V0W3Byb3BdO1xuICAgIH1cbiAgICBjb25zdCBjdHggPSB0cnlHZXRJbnZva2VDb250ZXh0KCk7XG4gICAgY29uc3QgdmFsdWUgPSB0YXJnZXRbcHJvcF07XG4gICAgaWYgKGN0eCkge1xuICAgICAgaWYgKHRoaXMuJGNvbnRhaW5lciQgPT09IG51bGwpIHtcbiAgICAgICAgaWYgKCFjdHguJGNvbnRhaW5lciQpIHtcbiAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gR3JhYiB0aGUgY29udGFpbmVyIG5vdyB3ZSBoYXZlIGFjY2VzcyB0byBpdFxuICAgICAgICB0aGlzLiRjb250YWluZXIkID0gY3R4LiRjb250YWluZXIkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXNzZXJ0VHJ1ZShcbiAgICAgICAgICAhY3R4LiRjb250YWluZXIkIHx8IGN0eC4kY29udGFpbmVyJCA9PT0gdGhpcy4kY29udGFpbmVyJCxcbiAgICAgICAgICAnRG8gbm90IHVzZSBzaWduYWxzIGFjcm9zcyBjb250YWluZXJzJ1xuICAgICAgICApO1xuICAgICAgfVxuICAgICAgY29uc3QgZWZmZWN0U3Vic2NyaWJlciA9IGN0eC4kZWZmZWN0U3Vic2NyaWJlciQ7XG4gICAgICBpZiAoZWZmZWN0U3Vic2NyaWJlcikge1xuICAgICAgICBhZGRFZmZlY3QodGFyZ2V0LCBBcnJheS5pc0FycmF5KHRhcmdldCkgPyBTVE9SRV9BUlJBWV9QUk9QIDogcHJvcCwgdGhpcywgZWZmZWN0U3Vic2NyaWJlcik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHByb3AgPT09ICd0b1N0cmluZycgJiYgdmFsdWUgPT09IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcpIHtcbiAgICAgIHJldHVybiB0aGlzLnRvU3RyaW5nO1xuICAgIH1cblxuICAgIGNvbnN0IGZsYWdzID0gdGhpcy4kZmxhZ3MkO1xuICAgIGlmIChcbiAgICAgIGZsYWdzICYgU3RvcmVGbGFncy5SRUNVUlNJVkUgJiZcbiAgICAgIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiZcbiAgICAgIHZhbHVlICE9PSBudWxsICYmXG4gICAgICAhT2JqZWN0LmlzRnJvemVuKHZhbHVlKSAmJlxuICAgICAgIWlzU3RvcmUodmFsdWUpICYmXG4gICAgICAhT2JqZWN0LmlzRnJvemVuKHRhcmdldClcbiAgICApIHtcbiAgICAgIHJldHVybiBnZXRPckNyZWF0ZVN0b3JlKHZhbHVlLCB0aGlzLiRmbGFncyQsIHRoaXMuJGNvbnRhaW5lciQpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cblxuICAvKiogSW4gdGhlIGNhc2Ugb2Ygb2xkVmFsdWUgYW5kIHZhbHVlIGFyZSB0aGUgc2FtZSwgdGhlIGVmZmVjdHMgYXJlIG5vdCB0cmlnZ2VyZWQuICovXG4gIHNldCh0YXJnZXQ6IFRhcmdldFR5cGUsIHByb3A6IHN0cmluZyB8IHN5bWJvbCwgdmFsdWU6IGFueSk6IGJvb2xlYW4ge1xuICAgIHRhcmdldCA9IHVud3JhcERlc2VyaWFsaXplclByb3h5KHRhcmdldCkgYXMgVGFyZ2V0VHlwZTtcbiAgICBpZiAodHlwZW9mIHByb3AgPT09ICdzeW1ib2wnKSB7XG4gICAgICB0YXJnZXRbcHJvcF0gPSB2YWx1ZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBjb25zdCBuZXdWYWx1ZSA9IHRoaXMuJGZsYWdzJCAmIFN0b3JlRmxhZ3MuUkVDVVJTSVZFID8gdW53cmFwU3RvcmUodmFsdWUpIDogdmFsdWU7XG4gICAgaWYgKHByb3AgaW4gdGFyZ2V0KSB7XG4gICAgICBjb25zdCBvbGRWYWx1ZSA9IHRhcmdldFtwcm9wXTtcblxuICAgICAgaWYgKG5ld1ZhbHVlICE9PSBvbGRWYWx1ZSkge1xuICAgICAgICBERUJVRyAmJiBsb2coJ1N0b3JlLnNldCcsIG9sZFZhbHVlLCAnLT4nLCBuZXdWYWx1ZSwgcGFkKCdcXG4nICsgdGhpcy50b1N0cmluZygpLCAnICAnKSk7XG4gICAgICAgIHNldE5ld1ZhbHVlQW5kVHJpZ2dlckVmZmVjdHMocHJvcCwgbmV3VmFsdWUsIHRhcmdldCwgdGhpcyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIERFQlVHICYmIGxvZygnU3RvcmUuc2V0JywgJ2NyZWF0ZSBwcm9wZXJ0eScsIG5ld1ZhbHVlLCBwYWQoJ1xcbicgKyB0aGlzLnRvU3RyaW5nKCksICcgICcpKTtcbiAgICAgIHNldE5ld1ZhbHVlQW5kVHJpZ2dlckVmZmVjdHMocHJvcCwgbmV3VmFsdWUsIHRhcmdldCwgdGhpcyk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgZGVsZXRlUHJvcGVydHkodGFyZ2V0OiBUYXJnZXRUeXBlLCBwcm9wOiBzdHJpbmcgfCBzeW1ib2wpOiBib29sZWFuIHtcbiAgICBpZiAodHlwZW9mIHByb3AgIT0gJ3N0cmluZycgfHwgIWRlbGV0ZSB0YXJnZXRbcHJvcF0pIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdHJpZ2dlckVmZmVjdHModGhpcy4kY29udGFpbmVyJCwgdGhpcywgZ2V0RWZmZWN0cyh0YXJnZXQsIHByb3AsIHRoaXMuJGVmZmVjdHMkKSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBoYXModGFyZ2V0OiBUYXJnZXRUeXBlLCBwcm9wOiBzdHJpbmcgfCBzeW1ib2wpIHtcbiAgICBpZiAocHJvcCA9PT0gU1RPUkVfVEFSR0VUKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0YXJnZXQsIHByb3ApO1xuICB9XG5cbiAgb3duS2V5cyh0YXJnZXQ6IFRhcmdldFR5cGUpOiBBcnJheUxpa2U8c3RyaW5nIHwgc3ltYm9sPiB7XG4gICAgY29uc3QgY3R4ID0gdHJ5R2V0SW52b2tlQ29udGV4dCgpO1xuICAgIGNvbnN0IGVmZmVjdFN1YnNjcmliZXIgPSBjdHg/LiRlZmZlY3RTdWJzY3JpYmVyJDtcbiAgICBpZiAoZWZmZWN0U3Vic2NyaWJlcikge1xuICAgICAgYWRkRWZmZWN0KHRhcmdldCwgU1RPUkVfQVJSQVlfUFJPUCwgdGhpcywgZWZmZWN0U3Vic2NyaWJlcik7XG4gICAgfVxuICAgIHJldHVybiBSZWZsZWN0Lm93bktleXModGFyZ2V0KTtcbiAgfVxuXG4gIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihcbiAgICB0YXJnZXQ6IFRhcmdldFR5cGUsXG4gICAgcHJvcDogc3RyaW5nIHwgc3ltYm9sXG4gICk6IFByb3BlcnR5RGVzY3JpcHRvciB8IHVuZGVmaW5lZCB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodGFyZ2V0KSB8fCB0eXBlb2YgcHJvcCA9PT0gJ3N5bWJvbCcpIHtcbiAgICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwgcHJvcCk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIH07XG4gIH1cbn1cblxuZnVuY3Rpb24gYWRkRWZmZWN0PFQgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nIHwgc3ltYm9sLCBhbnk+PihcbiAgdGFyZ2V0OiBULFxuICBwcm9wOiBzdHJpbmcgfCBzeW1ib2wsXG4gIHN0b3JlOiBTdG9yZUhhbmRsZXIsXG4gIGVmZmVjdFN1YnNjcmliZXI6IEVmZmVjdFN1YnNjcmlwdGlvbnNcbikge1xuICBjb25zdCBlZmZlY3RzTWFwID0gKHN0b3JlLiRlZmZlY3RzJCB8fD0ge30pO1xuICBjb25zdCBlZmZlY3RzID1cbiAgICAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGVmZmVjdHNNYXAsIHByb3ApICYmIGVmZmVjdHNNYXBbcHJvcF0pIHx8XG4gICAgKGVmZmVjdHNNYXBbcHJvcF0gPSBbXSk7XG4gIC8vIExldCdzIG1ha2Ugc3VyZSB0aGF0IHdlIGhhdmUgYSByZWZlcmVuY2UgdG8gdGhpcyBlZmZlY3QuXG4gIC8vIEFkZGluZyByZWZlcmVuY2UgaXMgZXNzZW50aWFsbHkgYWRkaW5nIGEgc3Vic2NyaXB0aW9uLCBzbyBpZiB0aGUgc2lnbmFsXG4gIC8vIGNoYW5nZXMgd2Uga25vdyB3aG8gdG8gbm90aWZ5LlxuICBlbnN1cmVDb250YWluc0VmZmVjdChlZmZlY3RzLCBlZmZlY3RTdWJzY3JpYmVyKTtcbiAgLy8gQnV0IHdoZW4gZWZmZWN0IGlzIHNjaGVkdWxlZCBpbiBuZWVkcyB0byBiZSBhYmxlIHRvIGtub3cgd2hpY2ggc2lnbmFsc1xuICAvLyB0byB1bnN1YnNjcmliZSBmcm9tLiBTbyB3ZSBuZWVkIHRvIHN0b3JlIHRoZSByZWZlcmVuY2UgZnJvbSB0aGUgZWZmZWN0IGJhY2tcbiAgLy8gdG8gdGhpcyBzaWduYWwuXG4gIGVuc3VyZUNvbnRhaW5zKGVmZmVjdFN1YnNjcmliZXIsIHRhcmdldCk7XG5cbiAgREVCVUcgJiYgbG9nKCdzdWInLCBwYWQoJ1xcbicgKyBzdG9yZS4kZWZmZWN0cyQudG9TdHJpbmcoKSwgJyAgJykpO1xufVxuXG5mdW5jdGlvbiBzZXROZXdWYWx1ZUFuZFRyaWdnZXJFZmZlY3RzPFQgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nIHwgc3ltYm9sLCBhbnk+PihcbiAgcHJvcDogc3RyaW5nIHwgc3ltYm9sLFxuICB2YWx1ZTogYW55LFxuICB0YXJnZXQ6IFQsXG4gIGN1cnJlbnRTdG9yZTogU3RvcmVIYW5kbGVyXG4pOiB2b2lkIHtcbiAgKHRhcmdldCBhcyBhbnkpW3Byb3BdID0gdmFsdWU7XG4gIHRyaWdnZXJFZmZlY3RzKFxuICAgIGN1cnJlbnRTdG9yZS4kY29udGFpbmVyJCxcbiAgICBjdXJyZW50U3RvcmUsXG4gICAgZ2V0RWZmZWN0cyh0YXJnZXQsIHByb3AsIGN1cnJlbnRTdG9yZS4kZWZmZWN0cyQpXG4gICk7XG59XG5cbmZ1bmN0aW9uIGdldEVmZmVjdHM8VCBleHRlbmRzIFJlY29yZDxzdHJpbmcgfCBzeW1ib2wsIGFueT4+KFxuICB0YXJnZXQ6IFQsXG4gIHByb3A6IHN0cmluZyB8IHN5bWJvbCxcbiAgc3RvcmVFZmZlY3RzOiBSZWNvcmQ8c3RyaW5nIHwgc3ltYm9sLCBFZmZlY3RTdWJzY3JpcHRpb25zW10+IHwgbnVsbFxuKSB7XG4gIGxldCBlZmZlY3RzVG9UcmlnZ2VyID0gc3RvcmVFZmZlY3RzXG4gICAgPyBBcnJheS5pc0FycmF5KHRhcmdldClcbiAgICAgID8gT2JqZWN0LnZhbHVlcyhzdG9yZUVmZmVjdHMpLmZsYXRNYXAoKGVmZmVjdHMpID0+IGVmZmVjdHMpXG4gICAgICA6IHN0b3JlRWZmZWN0c1twcm9wXVxuICAgIDogbnVsbDtcbiAgY29uc3Qgc3RvcmVBcnJheVZhbHVlID0gc3RvcmVFZmZlY3RzPy5bU1RPUkVfQVJSQVlfUFJPUF07XG4gIGlmIChzdG9yZUFycmF5VmFsdWUpIHtcbiAgICBlZmZlY3RzVG9UcmlnZ2VyIHx8PSBbXTtcbiAgICBlZmZlY3RzVG9UcmlnZ2VyLnB1c2goLi4uc3RvcmVBcnJheVZhbHVlKTtcbiAgfVxuICByZXR1cm4gZWZmZWN0c1RvVHJpZ2dlcjtcbn1cbiJdfQ==","import { verifySerializable } from '../shared/utils/serialize-utils';\nimport { ELEMENT_SEQ, ELEMENT_SEQ_IDX } from '../shared/utils/markers';\nimport { qDev, qSerialize } from '../shared/utils/qdev';\nimport { useInvokeContext } from './use-core';\n/**\n * @internal\n * The storage provider for hooks. Each invocation increases index i. Data is stored in an array.\n */\nexport const useSequentialScope = () => {\n    const iCtx = useInvokeContext();\n    const hostElement = iCtx.$hostElement$;\n    const host = hostElement;\n    let seq = iCtx.$container$.getHostProp(host, ELEMENT_SEQ);\n    if (seq === null) {\n        seq = [];\n        iCtx.$container$.setHostProp(host, ELEMENT_SEQ, seq);\n    }\n    let seqIdx = iCtx.$container$.getHostProp(host, ELEMENT_SEQ_IDX);\n    if (seqIdx === null) {\n        seqIdx = 0;\n    }\n    iCtx.$container$.setHostProp(host, ELEMENT_SEQ_IDX, seqIdx + 1);\n    while (seq.length <= seqIdx) {\n        seq.push(undefined);\n    }\n    const set = (value) => {\n        if (qDev && qSerialize) {\n            verifySerializable(value);\n        }\n        return (seq[seqIdx] = value);\n    };\n    return {\n        val: seq[seqIdx],\n        set,\n        i: seqIdx,\n        iCtx,\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLXNlcXVlbnRpYWwtc2NvcGUuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvdXNlL3VzZS1zZXF1ZW50aWFsLXNjb3BlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLGlDQUFpQyxDQUFDO0FBQ3JFLE9BQU8sRUFBRSxXQUFXLEVBQUUsZUFBZSxFQUFFLE1BQU0seUJBQXlCLENBQUM7QUFDdkUsT0FBTyxFQUFFLElBQUksRUFBRSxVQUFVLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUV4RCxPQUFPLEVBQUUsZ0JBQWdCLEVBQTRCLE1BQU0sWUFBWSxDQUFDO0FBWXhFOzs7R0FHRztBQUNILE1BQU0sQ0FBQyxNQUFNLGtCQUFrQixHQUFHLEdBQTBCLEVBQUU7SUFDNUQsTUFBTSxJQUFJLEdBQUcsZ0JBQWdCLEVBQUUsQ0FBQztJQUNoQyxNQUFNLFdBQVcsR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDO0lBQ3ZDLE1BQU0sSUFBSSxHQUFnQixXQUFrQixDQUFDO0lBQzdDLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsV0FBVyxDQUFRLElBQUksRUFBRSxXQUFXLENBQUMsQ0FBQztJQUNqRSxJQUFJLEdBQUcsS0FBSyxJQUFJLEVBQUUsQ0FBQztRQUNqQixHQUFHLEdBQUcsRUFBRSxDQUFDO1FBQ1QsSUFBSSxDQUFDLFdBQVcsQ0FBQyxXQUFXLENBQUMsSUFBSSxFQUFFLFdBQVcsRUFBRSxHQUFHLENBQUMsQ0FBQztJQUN2RCxDQUFDO0lBQ0QsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxXQUFXLENBQVMsSUFBSSxFQUFFLGVBQWUsQ0FBQyxDQUFDO0lBQ3pFLElBQUksTUFBTSxLQUFLLElBQUksRUFBRSxDQUFDO1FBQ3BCLE1BQU0sR0FBRyxDQUFDLENBQUM7SUFDYixDQUFDO0lBQ0QsSUFBSSxDQUFDLFdBQVcsQ0FBQyxXQUFXLENBQUMsSUFBSSxFQUFFLGVBQWUsRUFBRSxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDaEUsT0FBTyxHQUFHLENBQUMsTUFBTSxJQUFJLE1BQU0sRUFBRSxDQUFDO1FBQzVCLEdBQUcsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDdEIsQ0FBQztJQUNELE1BQU0sR0FBRyxHQUFHLENBQUMsS0FBUSxFQUFFLEVBQUU7UUFDdkIsSUFBSSxJQUFJLElBQUksVUFBVSxFQUFFLENBQUM7WUFDdkIsa0JBQWtCLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDNUIsQ0FBQztRQUNELE9BQU8sQ0FBQyxHQUFJLENBQUMsTUFBTyxDQUFDLEdBQUcsS0FBSyxDQUFDLENBQUM7SUFDakMsQ0FBQyxDQUFDO0lBRUYsT0FBTztRQUNMLEdBQUcsRUFBRSxHQUFHLENBQUMsTUFBTSxDQUFDO1FBQ2hCLEdBQUc7UUFDSCxDQUFDLEVBQUUsTUFBTTtRQUNULElBQUk7S0FDTCxDQUFDO0FBQ0osQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdmVyaWZ5U2VyaWFsaXphYmxlIH0gZnJvbSAnLi4vc2hhcmVkL3V0aWxzL3NlcmlhbGl6ZS11dGlscyc7XG5pbXBvcnQgeyBFTEVNRU5UX1NFUSwgRUxFTUVOVF9TRVFfSURYIH0gZnJvbSAnLi4vc2hhcmVkL3V0aWxzL21hcmtlcnMnO1xuaW1wb3J0IHsgcURldiwgcVNlcmlhbGl6ZSB9IGZyb20gJy4uL3NoYXJlZC91dGlscy9xZGV2JztcbmltcG9ydCB0eXBlIHsgSG9zdEVsZW1lbnQgfSBmcm9tICcuLi9zaGFyZWQvdHlwZXMnO1xuaW1wb3J0IHsgdXNlSW52b2tlQ29udGV4dCwgdHlwZSBSZW5kZXJJbnZva2VDb250ZXh0IH0gZnJvbSAnLi91c2UtY29yZSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2VxdWVudGlhbFNjb3BlPFQ+IHtcbiAgLyoqIFRoZSBjdXJyZW50bHkgc3RvcmVkIGRhdGEgZm9yIHRoZSBob29rIHRoYXQgY2FsbHMgdGhpcyAqL1xuICByZWFkb25seSB2YWw6IFQgfCB1bmRlZmluZWQ7XG4gIC8qKiBTdG9yZSBuZXcgZGF0YSBmb3IgdGhlIGhvb2sgdGhhdCBjYWxscyB0aGlzICovXG4gIHJlYWRvbmx5IHNldDogKHY6IFQpID0+IFQ7XG4gIC8qKiBJbmRleCBvZiB0aGUgaG9vayAqL1xuICByZWFkb25seSBpOiBudW1iZXI7XG4gIHJlYWRvbmx5IGlDdHg6IFJlbmRlckludm9rZUNvbnRleHQ7XG59XG5cbi8qKlxuICogQGludGVybmFsXG4gKiBUaGUgc3RvcmFnZSBwcm92aWRlciBmb3IgaG9va3MuIEVhY2ggaW52b2NhdGlvbiBpbmNyZWFzZXMgaW5kZXggaS4gRGF0YSBpcyBzdG9yZWQgaW4gYW4gYXJyYXkuXG4gKi9cbmV4cG9ydCBjb25zdCB1c2VTZXF1ZW50aWFsU2NvcGUgPSA8VD4oKTogU2VxdWVudGlhbFNjb3BlPFQ+ID0+IHtcbiAgY29uc3QgaUN0eCA9IHVzZUludm9rZUNvbnRleHQoKTtcbiAgY29uc3QgaG9zdEVsZW1lbnQgPSBpQ3R4LiRob3N0RWxlbWVudCQ7XG4gIGNvbnN0IGhvc3Q6IEhvc3RFbGVtZW50ID0gaG9zdEVsZW1lbnQgYXMgYW55O1xuICBsZXQgc2VxID0gaUN0eC4kY29udGFpbmVyJC5nZXRIb3N0UHJvcDxhbnlbXT4oaG9zdCwgRUxFTUVOVF9TRVEpO1xuICBpZiAoc2VxID09PSBudWxsKSB7XG4gICAgc2VxID0gW107XG4gICAgaUN0eC4kY29udGFpbmVyJC5zZXRIb3N0UHJvcChob3N0LCBFTEVNRU5UX1NFUSwgc2VxKTtcbiAgfVxuICBsZXQgc2VxSWR4ID0gaUN0eC4kY29udGFpbmVyJC5nZXRIb3N0UHJvcDxudW1iZXI+KGhvc3QsIEVMRU1FTlRfU0VRX0lEWCk7XG4gIGlmIChzZXFJZHggPT09IG51bGwpIHtcbiAgICBzZXFJZHggPSAwO1xuICB9XG4gIGlDdHguJGNvbnRhaW5lciQuc2V0SG9zdFByb3AoaG9zdCwgRUxFTUVOVF9TRVFfSURYLCBzZXFJZHggKyAxKTtcbiAgd2hpbGUgKHNlcS5sZW5ndGggPD0gc2VxSWR4KSB7XG4gICAgc2VxLnB1c2godW5kZWZpbmVkKTtcbiAgfVxuICBjb25zdCBzZXQgPSAodmFsdWU6IFQpID0+IHtcbiAgICBpZiAocURldiAmJiBxU2VyaWFsaXplKSB7XG4gICAgICB2ZXJpZnlTZXJpYWxpemFibGUodmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gKHNlcSFbc2VxSWR4IV0gPSB2YWx1ZSk7XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICB2YWw6IHNlcVtzZXFJZHhdLFxuICAgIHNldCxcbiAgICBpOiBzZXFJZHgsXG4gICAgaUN0eCxcbiAgfTtcbn07XG4iXX0=","import { QSubscribers } from '../shared/utils/markers';\nimport { vnode_getProp } from '../client/vnode';\nimport { EffectSubscriptionsProp, WrappedSignal, isSignal } from './signal';\nexport class Subscriber {\n    constructor() {\n        this.$effectDependencies$ = null;\n    }\n}\nexport function isSubscriber(value) {\n    return value instanceof Subscriber || value instanceof WrappedSignal;\n}\nexport function clearVNodeEffectDependencies(value) {\n    const effects = vnode_getProp(value, QSubscribers, null);\n    if (!effects) {\n        return;\n    }\n    for (let i = effects.length - 1; i >= 0; i--) {\n        const subscriber = effects[i];\n        const subscriptionRemoved = clearEffects(subscriber, value);\n        if (subscriptionRemoved) {\n            effects.splice(i, 1);\n        }\n    }\n}\nexport function clearSubscriberEffectDependencies(value) {\n    if (value.$effectDependencies$) {\n        for (let i = value.$effectDependencies$.length - 1; i >= 0; i--) {\n            const subscriber = value.$effectDependencies$[i];\n            const subscriptionRemoved = clearEffects(subscriber, value);\n            if (subscriptionRemoved) {\n                value.$effectDependencies$.splice(i, 1);\n            }\n        }\n    }\n}\nfunction clearEffects(subscriber, value) {\n    if (!isSignal(subscriber)) {\n        return false;\n    }\n    const effectSubscriptions = subscriber.$effects$;\n    if (!effectSubscriptions) {\n        return false;\n    }\n    let subscriptionRemoved = false;\n    for (let i = effectSubscriptions.length - 1; i >= 0; i--) {\n        const effect = effectSubscriptions[i];\n        if (effect[EffectSubscriptionsProp.EFFECT] === value) {\n            effectSubscriptions.splice(i, 1);\n            subscriptionRemoved = true;\n        }\n    }\n    return subscriptionRemoved;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2lnbmFsLXN1YnNjcmliZXIuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvc2lnbmFsL3NpZ25hbC1zdWJzY3JpYmVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSx5QkFBeUIsQ0FBQztBQUV2RCxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDaEQsT0FBTyxFQUFFLHVCQUF1QixFQUFFLGFBQWEsRUFBRSxRQUFRLEVBQUUsTUFBTSxVQUFVLENBQUM7QUFFNUUsTUFBTSxPQUFnQixVQUFVO0lBQWhDO1FBQ0UseUJBQW9CLEdBQXdCLElBQUksQ0FBQztJQUNuRCxDQUFDO0NBQUE7QUFFRCxNQUFNLFVBQVUsWUFBWSxDQUFDLEtBQWM7SUFDekMsT0FBTyxLQUFLLFlBQVksVUFBVSxJQUFJLEtBQUssWUFBWSxhQUFhLENBQUM7QUFDdkUsQ0FBQztBQUVELE1BQU0sVUFBVSw0QkFBNEIsQ0FBQyxLQUFZO0lBQ3ZELE1BQU0sT0FBTyxHQUFHLGFBQWEsQ0FBZSxLQUFLLEVBQUUsWUFBWSxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ3ZFLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUNiLE9BQU87SUFDVCxDQUFDO0lBQ0QsS0FBSyxJQUFJLENBQUMsR0FBRyxPQUFPLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUM7UUFDN0MsTUFBTSxVQUFVLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzlCLE1BQU0sbUJBQW1CLEdBQUcsWUFBWSxDQUFDLFVBQVUsRUFBRSxLQUFLLENBQUMsQ0FBQztRQUM1RCxJQUFJLG1CQUFtQixFQUFFLENBQUM7WUFDeEIsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDdkIsQ0FBQztJQUNILENBQUM7QUFDSCxDQUFDO0FBRUQsTUFBTSxVQUFVLGlDQUFpQyxDQUFDLEtBQWlCO0lBQ2pFLElBQUksS0FBSyxDQUFDLG9CQUFvQixFQUFFLENBQUM7UUFDL0IsS0FBSyxJQUFJLENBQUMsR0FBRyxLQUFLLENBQUMsb0JBQW9CLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUM7WUFDaEUsTUFBTSxVQUFVLEdBQUcsS0FBSyxDQUFDLG9CQUFvQixDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2pELE1BQU0sbUJBQW1CLEdBQUcsWUFBWSxDQUFDLFVBQVUsRUFBRSxLQUFLLENBQUMsQ0FBQztZQUM1RCxJQUFJLG1CQUFtQixFQUFFLENBQUM7Z0JBQ3hCLEtBQUssQ0FBQyxvQkFBb0IsQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQzFDLENBQUM7UUFDSCxDQUFDO0lBQ0gsQ0FBQztBQUNILENBQUM7QUFFRCxTQUFTLFlBQVksQ0FBQyxVQUFzQixFQUFFLEtBQXlCO0lBQ3JFLElBQUksQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDLEVBQUUsQ0FBQztRQUMxQixPQUFPLEtBQUssQ0FBQztJQUNmLENBQUM7SUFDRCxNQUFNLG1CQUFtQixHQUFJLFVBQXFDLENBQUMsU0FBUyxDQUFDO0lBQzdFLElBQUksQ0FBQyxtQkFBbUIsRUFBRSxDQUFDO1FBQ3pCLE9BQU8sS0FBSyxDQUFDO0lBQ2YsQ0FBQztJQUNELElBQUksbUJBQW1CLEdBQUcsS0FBSyxDQUFDO0lBQ2hDLEtBQUssSUFBSSxDQUFDLEdBQUcsbUJBQW1CLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUM7UUFDekQsTUFBTSxNQUFNLEdBQUcsbUJBQW1CLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDdEMsSUFBSSxNQUFNLENBQUMsdUJBQXVCLENBQUMsTUFBTSxDQUFDLEtBQUssS0FBSyxFQUFFLENBQUM7WUFDckQsbUJBQW1CLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUNqQyxtQkFBbUIsR0FBRyxJQUFJLENBQUM7UUFDN0IsQ0FBQztJQUNILENBQUM7SUFDRCxPQUFPLG1CQUFtQixDQUFDO0FBQzdCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBRU3Vic2NyaWJlcnMgfSBmcm9tICcuLi9zaGFyZWQvdXRpbHMvbWFya2Vycyc7XG5pbXBvcnQgdHlwZSB7IFZOb2RlIH0gZnJvbSAnLi4vY2xpZW50L3R5cGVzJztcbmltcG9ydCB7IHZub2RlX2dldFByb3AgfSBmcm9tICcuLi9jbGllbnQvdm5vZGUnO1xuaW1wb3J0IHsgRWZmZWN0U3Vic2NyaXB0aW9uc1Byb3AsIFdyYXBwZWRTaWduYWwsIGlzU2lnbmFsIH0gZnJvbSAnLi9zaWduYWwnO1xuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgU3Vic2NyaWJlciB7XG4gICRlZmZlY3REZXBlbmRlbmNpZXMkOiBTdWJzY3JpYmVyW10gfCBudWxsID0gbnVsbDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzU3Vic2NyaWJlcih2YWx1ZTogdW5rbm93bik6IHZhbHVlIGlzIFN1YnNjcmliZXIge1xuICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBTdWJzY3JpYmVyIHx8IHZhbHVlIGluc3RhbmNlb2YgV3JhcHBlZFNpZ25hbDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyVk5vZGVFZmZlY3REZXBlbmRlbmNpZXModmFsdWU6IFZOb2RlKTogdm9pZCB7XG4gIGNvbnN0IGVmZmVjdHMgPSB2bm9kZV9nZXRQcm9wPFN1YnNjcmliZXJbXT4odmFsdWUsIFFTdWJzY3JpYmVycywgbnVsbCk7XG4gIGlmICghZWZmZWN0cykge1xuICAgIHJldHVybjtcbiAgfVxuICBmb3IgKGxldCBpID0gZWZmZWN0cy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIGNvbnN0IHN1YnNjcmliZXIgPSBlZmZlY3RzW2ldO1xuICAgIGNvbnN0IHN1YnNjcmlwdGlvblJlbW92ZWQgPSBjbGVhckVmZmVjdHMoc3Vic2NyaWJlciwgdmFsdWUpO1xuICAgIGlmIChzdWJzY3JpcHRpb25SZW1vdmVkKSB7XG4gICAgICBlZmZlY3RzLnNwbGljZShpLCAxKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyU3Vic2NyaWJlckVmZmVjdERlcGVuZGVuY2llcyh2YWx1ZTogU3Vic2NyaWJlcik6IHZvaWQge1xuICBpZiAodmFsdWUuJGVmZmVjdERlcGVuZGVuY2llcyQpIHtcbiAgICBmb3IgKGxldCBpID0gdmFsdWUuJGVmZmVjdERlcGVuZGVuY2llcyQubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIGNvbnN0IHN1YnNjcmliZXIgPSB2YWx1ZS4kZWZmZWN0RGVwZW5kZW5jaWVzJFtpXTtcbiAgICAgIGNvbnN0IHN1YnNjcmlwdGlvblJlbW92ZWQgPSBjbGVhckVmZmVjdHMoc3Vic2NyaWJlciwgdmFsdWUpO1xuICAgICAgaWYgKHN1YnNjcmlwdGlvblJlbW92ZWQpIHtcbiAgICAgICAgdmFsdWUuJGVmZmVjdERlcGVuZGVuY2llcyQuc3BsaWNlKGksIDEpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBjbGVhckVmZmVjdHMoc3Vic2NyaWJlcjogU3Vic2NyaWJlciwgdmFsdWU6IFN1YnNjcmliZXIgfCBWTm9kZSk6IGJvb2xlYW4ge1xuICBpZiAoIWlzU2lnbmFsKHN1YnNjcmliZXIpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGNvbnN0IGVmZmVjdFN1YnNjcmlwdGlvbnMgPSAoc3Vic2NyaWJlciBhcyBXcmFwcGVkU2lnbmFsPHVua25vd24+KS4kZWZmZWN0cyQ7XG4gIGlmICghZWZmZWN0U3Vic2NyaXB0aW9ucykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBsZXQgc3Vic2NyaXB0aW9uUmVtb3ZlZCA9IGZhbHNlO1xuICBmb3IgKGxldCBpID0gZWZmZWN0U3Vic2NyaXB0aW9ucy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIGNvbnN0IGVmZmVjdCA9IGVmZmVjdFN1YnNjcmlwdGlvbnNbaV07XG4gICAgaWYgKGVmZmVjdFtFZmZlY3RTdWJzY3JpcHRpb25zUHJvcC5FRkZFQ1RdID09PSB2YWx1ZSkge1xuICAgICAgZWZmZWN0U3Vic2NyaXB0aW9ucy5zcGxpY2UoaSwgMSk7XG4gICAgICBzdWJzY3JpcHRpb25SZW1vdmVkID0gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHN1YnNjcmlwdGlvblJlbW92ZWQ7XG59XG4iXX0=","import { isServerPlatform } from '../shared/platform/platform';\nimport { assertQrl } from '../shared/qrl/qrl-class';\nimport {} from '../shared/qrl/qrl.public';\nimport { Fragment, _jsxSorted } from '../shared/jsx/jsx-runtime';\nimport { invoke, newInvokeContext, untrack, useBindInvokeContext } from './use-core';\nimport { Task, TaskFlags, cleanupTask } from './use-task';\nimport { delay, isPromise, safeCall } from '../shared/utils/promises';\nimport { isFunction, isObject } from '../shared/utils/types';\nimport { StoreFlags, createStore, getStoreTarget, unwrapStore } from '../signal/store';\nimport { useSequentialScope } from './use-sequential-scope';\nimport { EffectProperty, isSignal } from '../signal/signal';\nimport { clearSubscriberEffectDependencies } from '../signal/signal-subscriber';\nimport { ResourceEvent } from '../shared/utils/markers';\nimport { assertDefined } from '../shared/error/assert';\nimport { noSerialize } from '../shared/utils/serialize-utils';\nconst DEBUG = false;\nfunction debugLog(...arg) {\n    // eslint-disable-next-line no-console\n    console.log(arg.join(', '));\n}\n// <docs markdown=\"../readme.md#useResource\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useResource instead)\n/**\n * This method works like an async memoized function that runs whenever some tracked value changes\n * and returns some data.\n *\n * `useResource` however returns immediate a `ResourceReturn` object that contains the data and a\n * state that indicates if the data is available or not.\n *\n * The status can be one of the following:\n *\n * - `pending` - the data is not yet available.\n * - `resolved` - the data is available.\n * - `rejected` - the data is not available due to an error or timeout.\n *\n * Avoid using a `try/catch` statement in `useResource$`. If you catch the error instead of passing\n * it, the resource status will never be `rejected`.\n *\n * ### Example\n *\n * Example showing how `useResource` to perform a fetch to request the weather, whenever the input\n * city name changes.\n *\n * ```tsx\n * const Cmp = component$(() => {\n *   const cityS = useSignal('');\n *\n *   const weatherResource = useResource$(async ({ track, cleanup }) => {\n *     const cityName = track(cityS);\n *     const abortController = new AbortController();\n *     cleanup(() => abortController.abort('cleanup'));\n *     const res = await fetch(`http://weatherdata.com?city=${cityName}`, {\n *       signal: abortController.signal,\n *     });\n *     const data = await res.json();\n *     return data as { temp: number };\n *   });\n *\n *   return (\n *     <div>\n *       <input name=\"city\" bind:value={cityS} />\n *       <Resource\n *         value={weatherResource}\n *         onResolved={(weather) => {\n *           return <div>Temperature: {weather.temp}</div>;\n *         }}\n *       />\n *     </div>\n *   );\n * });\n * ```\n *\n * @public\n * @see Resource\n * @see ResourceReturn\n */\n// </docs>\nexport const useResourceQrl = (qrl, opts) => {\n    const { val, set, i, iCtx } = useSequentialScope();\n    if (val != null) {\n        return val;\n    }\n    assertQrl(qrl);\n    const container = iCtx.$container$;\n    const resource = createResourceReturn(container, opts);\n    const el = iCtx.$hostElement$;\n    const task = new Task(TaskFlags.DIRTY | TaskFlags.RESOURCE, i, el, qrl, resource, null);\n    runResource(task, container, iCtx.$hostElement$);\n    set(resource);\n    return resource;\n};\n// <docs markdown=\"../readme.md#useResource\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useResource instead)\n/**\n * This method works like an async memoized function that runs whenever some tracked value changes\n * and returns some data.\n *\n * `useResource` however returns immediate a `ResourceReturn` object that contains the data and a\n * state that indicates if the data is available or not.\n *\n * The status can be one of the following:\n *\n * - 'pending' - the data is not yet available.\n * - 'resolved' - the data is available.\n * - 'rejected' - the data is not available due to an error or timeout.\n *\n * ### Example\n *\n * Example showing how `useResource` to perform a fetch to request the weather, whenever the input\n * city name changes.\n *\n * ```tsx\n * const Cmp = component$(() => {\n *   const cityS = useSignal('');\n *\n *   const weatherResource = useResource$(async ({ track, cleanup }) => {\n *     const cityName = track(cityS);\n *     const abortController = new AbortController();\n *     cleanup(() => abortController.abort('cleanup'));\n *     const res = await fetch(`http://weatherdata.com?city=${cityName}`, {\n *       signal: abortController.signal,\n *     });\n *     const data = await res.json();\n *     return data as { temp: number };\n *   });\n *\n *   return (\n *     <div>\n *       <input name=\"city\" bind:value={cityS} />\n *       <Resource\n *         value={weatherResource}\n *         onResolved={(weather) => {\n *           return <div>Temperature: {weather.temp}</div>;\n *         }}\n *       />\n *     </div>\n *   );\n * });\n * ```\n *\n * @public\n * @see Resource\n * @see ResourceReturn\n */\n// </docs>\nexport const Resource = (props) => {\n    // Resource path\n    return _jsxSorted(Fragment, null, null, getResourceValueAsPromise(props), 0, null);\n};\nfunction getResourceValueAsPromise(props) {\n    const resource = props.value;\n    if (isResourceReturn(resource)) {\n        const isBrowser = !isServerPlatform();\n        if (isBrowser) {\n            // create a subscription for the resource._state changes\n            const state = resource._state;\n            DEBUG && debugLog(`RESOURCE_CMP.${state}`, 'VALUE: ' + untrack(() => resource._resolved));\n            if (state === 'pending' && props.onPending) {\n                return Promise.resolve(props.onPending());\n            }\n            else if (state === 'rejected' && props.onRejected) {\n                return Promise.resolve(resource._error).then(props.onRejected);\n            }\n            else {\n                // resolved, pending without onPending prop or rejected with onRejected prop\n                return Promise.resolve(untrack(() => resource._resolved)).then(props.onResolved);\n            }\n        }\n        return resource.value.then(useBindInvokeContext(props.onResolved), useBindInvokeContext(props.onRejected));\n    }\n    else if (isPromise(resource)) {\n        return resource.then(useBindInvokeContext(props.onResolved), useBindInvokeContext(props.onRejected));\n    }\n    else if (isSignal(resource)) {\n        return Promise.resolve(resource.value).then(useBindInvokeContext(props.onResolved), useBindInvokeContext(props.onRejected));\n    }\n    else {\n        return Promise.resolve(resource).then(useBindInvokeContext(props.onResolved), useBindInvokeContext(props.onRejected));\n    }\n}\nexport const _createResourceReturn = (opts) => {\n    const resource = {\n        __brand: 'resource',\n        value: undefined,\n        loading: isServerPlatform() ? false : true,\n        _resolved: undefined,\n        _error: undefined,\n        _state: 'pending',\n        _timeout: opts?.timeout ?? -1,\n        _cache: 0,\n    };\n    return resource;\n};\nexport const createResourceReturn = (container, opts, initialPromise) => {\n    const result = _createResourceReturn(opts);\n    result.value = initialPromise;\n    return createStore(container, result, StoreFlags.RECURSIVE);\n};\nexport const getInternalResource = (resource) => {\n    return getStoreTarget(resource);\n};\nexport const isResourceReturn = (obj) => {\n    return isObject(obj) && (getStoreTarget(obj) || obj).__brand === 'resource';\n};\nexport const runResource = (task, container, host) => {\n    task.$flags$ &= ~TaskFlags.DIRTY;\n    cleanupTask(task);\n    const iCtx = newInvokeContext(container.$locale$, host, undefined, ResourceEvent);\n    iCtx.$container$ = container;\n    const taskFn = task.$qrl$.getFn(iCtx, () => clearSubscriberEffectDependencies(task));\n    const resource = task.$state$;\n    assertDefined(resource, 'useResource: when running a resource, \"task.resource\" must be a defined.', task);\n    const track = (obj, prop) => {\n        const ctx = newInvokeContext();\n        ctx.$effectSubscriber$ = [task, EffectProperty.COMPONENT];\n        ctx.$container$ = container;\n        return invoke(ctx, () => {\n            if (isFunction(obj)) {\n                return obj();\n            }\n            if (prop) {\n                return obj[prop];\n            }\n            else if (isSignal(obj)) {\n                return obj.value;\n            }\n            else {\n                return obj;\n            }\n        });\n    };\n    const handleError = (reason) => container.handleError(reason, host);\n    const cleanups = [];\n    task.$destroy$ = noSerialize(() => {\n        cleanups.forEach((fn) => {\n            try {\n                fn();\n            }\n            catch (err) {\n                handleError(err);\n            }\n        });\n        done = true;\n    });\n    const resourceTarget = unwrapStore(resource);\n    const opts = {\n        track,\n        cleanup(fn) {\n            if (typeof fn === 'function') {\n                cleanups.push(fn);\n            }\n        },\n        cache(policy) {\n            let milliseconds = 0;\n            if (policy === 'immutable') {\n                milliseconds = Infinity;\n            }\n            else {\n                milliseconds = policy;\n            }\n            resource._cache = milliseconds;\n        },\n        previous: resourceTarget._resolved,\n    };\n    let resolve;\n    let reject;\n    let done = false;\n    const setState = (resolved, value) => {\n        if (!done) {\n            done = true;\n            if (resolved) {\n                done = true;\n                resource.loading = false;\n                resource._state = 'resolved';\n                resource._resolved = value;\n                resource._error = undefined;\n                resolve(value);\n            }\n            else {\n                done = true;\n                resource.loading = false;\n                resource._state = 'rejected';\n                resource._error = value;\n                reject(value);\n            }\n            return true;\n        }\n        return false;\n    };\n    /**\n     * Add cleanup to resolve the resource if we are trying to run the same resource again while the\n     * previous one is not resolved yet. The next `runResource` run will call this cleanup\n     */\n    cleanups.push(() => {\n        if (untrack(() => resource.loading) === true) {\n            const value = untrack(() => resource._resolved);\n            setState(true, value);\n        }\n    });\n    // Execute mutation inside empty invocation\n    invoke(iCtx, () => {\n        // console.log('RESOURCE.pending: ');\n        resource._state = 'pending';\n        resource.loading = !isServerPlatform();\n        const promise = (resource.value = new Promise((r, re) => {\n            resolve = r;\n            reject = re;\n        }));\n        promise.catch(ignoreErrorToPreventNodeFromCrashing);\n    });\n    const promise = safeCall(() => Promise.resolve(taskFn(opts)), (value) => {\n        setState(true, value);\n    }, (err) => {\n        if (isPromise(err)) {\n            return err.then(() => runResource(task, container, host));\n        }\n        else {\n            setState(false, err);\n        }\n    });\n    const timeout = resourceTarget._timeout;\n    if (timeout > 0) {\n        return Promise.race([\n            promise,\n            delay(timeout).then(() => {\n                if (setState(false, new Error('timeout'))) {\n                    cleanupTask(task);\n                }\n            }),\n        ]);\n    }\n    return promise;\n};\nconst ignoreErrorToPreventNodeFromCrashing = (err) => {\n    // ignore error to prevent node from crashing\n    // node will crash in promise is rejected and no one is listening to the rejection.\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLXJlc291cmNlLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3VzZS91c2UtcmVzb3VyY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sNkJBQTZCLENBQUM7QUFDL0QsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBQ3BELE9BQU8sRUFBWSxNQUFNLDBCQUEwQixDQUFDO0FBQ3BELE9BQU8sRUFBRSxRQUFRLEVBQUUsVUFBVSxFQUFFLE1BQU0sMkJBQTJCLENBQUM7QUFDakUsT0FBTyxFQUFFLE1BQU0sRUFBRSxnQkFBZ0IsRUFBRSxPQUFPLEVBQUUsb0JBQW9CLEVBQUUsTUFBTSxZQUFZLENBQUM7QUFDckYsT0FBTyxFQUFFLElBQUksRUFBRSxTQUFTLEVBQUUsV0FBVyxFQUFxQyxNQUFNLFlBQVksQ0FBQztBQUk3RixPQUFPLEVBQUUsS0FBSyxFQUFFLFNBQVMsRUFBRSxRQUFRLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQztBQUN0RSxPQUFPLEVBQUUsVUFBVSxFQUFFLFFBQVEsRUFBRSxNQUFNLHVCQUF1QixDQUFDO0FBQzdELE9BQU8sRUFBRSxVQUFVLEVBQUUsV0FBVyxFQUFFLGNBQWMsRUFBRSxXQUFXLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUN2RixPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQUM1RCxPQUFPLEVBQUUsY0FBYyxFQUFFLFFBQVEsRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBRTVELE9BQU8sRUFBRSxpQ0FBaUMsRUFBRSxNQUFNLDZCQUE2QixDQUFDO0FBQ2hGLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSx5QkFBeUIsQ0FBQztBQUN4RCxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sd0JBQXdCLENBQUM7QUFDdkQsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLGlDQUFp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Y0FBYyxDQUFDLFFBQVEsQ0FBQztJQUN4QyxJQUFJLE9BQU8sR0FBRyxDQUFDLEVBQUUsQ0FBQztRQUNoQixPQUFPLE9BQU8sQ0FBQyxJQUFJLENBQUM7WUFDbEIsT0FBTztZQUNQLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFO2dCQUN2QixJQUFJLFFBQVEsQ0FBQyxLQUFLLEVBQUUsSUFBSSxLQUFLLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxDQUFDO29CQUMxQyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQ3BCLENBQUM7WUFDSCxDQUFDLENBQUM7U0FDSCxDQUFDLENBQUM7SUFDTCxDQUFDO0lBQ0QsT0FBTyxPQUFPLENBQUM7QUFDakIsQ0FBQyxDQUFDO0FBRUYsTUFBTSxvQ0FBb0MsR0FBRyxDQUFDLEdBQVksRUFBRSxFQUFFO0lBQzVELDZDQUE2QztJQUM3QyxtRkFBbUY7QUFDckYsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNTZXJ2ZXJQbGF0Zm9ybSB9IGZyb20gJy4uL3NoYXJlZC9wbGF0Zm9ybS9wbGF0Zm9ybSc7XG5pbXBvcnQgeyBhc3NlcnRRcmwgfSBmcm9tICcuLi9zaGFyZWQvcXJsL3FybC1jbGFzcyc7XG5pbXBvcnQgeyB0eXBlIFFSTCB9IGZyb20gJy4uL3NoYXJlZC9xcmwvcXJsLnB1YmxpYyc7XG5pbXBvcnQgeyBGcmFnbWVudCwgX2pzeFNvcnRlZCB9IGZyb20gJy4uL3NoYXJlZC9qc3gvanN4LXJ1bnRpbWUnO1xuaW1wb3J0IHsgaW52b2tlLCBuZXdJbnZva2VDb250ZXh0LCB1bnRyYWNrLCB1c2VCaW5kSW52b2tlQ29udGV4dCB9IGZyb20gJy4vdXNlLWNvcmUnO1xuaW1wb3J0IHsgVGFzaywgVGFza0ZsYWdzLCBjbGVhbnVwVGFzaywgdHlwZSBEZXNjcmlwdG9yQmFzZSwgdHlwZSBUcmFja2VyIH0gZnJvbSAnLi91c2UtdGFzayc7XG5cbmltcG9ydCB0eXBlIHsgQ29udGFpbmVyLCBIb3N0RWxlbWVudCwgVmFsdWVPclByb21pc2UgfSBmcm9tICcuLi8uLi9zZXJ2ZXIvcXdpay10eXBlcyc7XG5pbXBvcnQgdHlwZSB7IEpTWE91dHB1dCB9IGZyb20gJy4uL3NoYXJlZC9qc3gvdHlwZXMvanN4LW5vZGUnO1xuaW1wb3J0IHsgZGVsYXksIGlzUHJvbWlzZSwgc2FmZUNhbGwgfSBmcm9tICcuLi9zaGFyZWQvdXRpbHMvcHJvbWlzZXMnO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiwgaXNPYmplY3QgfSBmcm9tICcuLi9zaGFyZWQvdXRpbHMvdHlwZXMnO1xuaW1wb3J0IHsgU3RvcmVGbGFncywgY3JlYXRlU3RvcmUsIGdldFN0b3JlVGFyZ2V0LCB1bndyYXBTdG9yZSB9IGZyb20gJy4uL3NpZ25hbC9zdG9yZSc7XG5pbXBvcnQgeyB1c2VTZXF1ZW50aWFsU2NvcGUgfSBmcm9tICcuL3VzZS1zZXF1ZW50aWFsLXNjb3BlJztcbmltcG9ydCB7IEVmZmVjdFByb3BlcnR5LCBpc1NpZ25hbCB9IGZyb20gJy4uL3NpZ25hbC9zaWduYWwnO1xuaW1wb3J0IHR5cGUgeyBTaWduYWwgfSBmcm9tICcuLi9zaWduYWwvc2lnbmFsLnB1YmxpYyc7XG5pbXBvcnQgeyBjbGVhclN1YnNjcmliZXJFZmZlY3REZXBlbmRlbmNpZXMgfSBmcm9tICcuLi9zaWduYWwvc2lnbmFsLXN1YnNjcmliZXInO1xuaW1wb3J0IHsgUmVzb3VyY2VFdmVudCB9IGZyb20gJy4uL3NoYXJlZC91dGlscy9tYXJrZXJzJztcbmltcG9ydCB7IGFzc2VydERlZmluZWQgfSBmcm9tICcuLi9zaGFyZWQvZXJyb3IvYXNzZXJ0JztcbmltcG9ydCB7IG5vU2VyaWFsaXplIH0gZnJvbSAnLi4vc2hhcmVkL3V0aWxzL3NlcmlhbGl6ZS11dGlscyc7XG5cbmNvbnN0IERFQlVHOiBib29sZWFuID0gZmFsc2U7XG5cbmZ1bmN0aW9uIGRlYnVnTG9nKC4uLmFyZzogYW55KSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gIGNvbnNvbGUubG9nKGFyZy5qb2luKCcsICcpKTtcbn1cblxuLyoqIEBwdWJsaWMgKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVzb3VyY2VDdHg8VD4ge1xuICByZWFkb25seSB0cmFjazogVHJhY2tlcjtcbiAgY2xlYW51cChjYWxsYmFjazogKCkgPT4gdm9pZCk6IHZvaWQ7XG4gIGNhY2hlKHBvbGljeU9yTWlsbGlzZWNvbmRzOiBudW1iZXIgfCAnaW1tdXRhYmxlJyk6IHZvaWQ7XG4gIHJlYWRvbmx5IHByZXZpb3VzOiBUIHwgdW5kZWZpbmVkO1xufVxuXG4vKiogQHB1YmxpYyAqL1xuZXhwb3J0IHR5cGUgUmVzb3VyY2VGbjxUPiA9IChjdHg6IFJlc291cmNlQ3R4PHVua25vd24+KSA9PiBWYWx1ZU9yUHJvbWlzZTxUPjtcblxuLyoqIEBwdWJsaWMgKi9cbmV4cG9ydCB0eXBlIFJlc291cmNlUmV0dXJuPFQ+ID0gUmVzb3VyY2VQZW5kaW5nPFQ+IHwgUmVzb3VyY2VSZXNvbHZlZDxUPiB8IFJlc291cmNlUmVqZWN0ZWQ8VD47XG5cbi8qKiBAcHVibGljICovXG5leHBvcnQgaW50ZXJmYWNlIFJlc291cmNlUGVuZGluZzxUPiB7XG4gIHJlYWRvbmx5IHZhbHVlOiBQcm9taXNlPFQ+O1xuICByZWFkb25seSBsb2FkaW5nOiBib29sZWFuO1xufVxuXG4vKiogQHB1YmxpYyAqL1xuZXhwb3J0IGludGVyZmFjZSBSZXNvdXJjZVJlc29sdmVkPFQ+IHtcbiAgcmVhZG9ubHkgdmFsdWU6IFByb21pc2U8VD47XG4gIHJlYWRvbmx5IGxvYWRpbmc6IGJvb2xlYW47XG59XG5cbi8qKiBAcHVibGljICovXG5leHBvcnQgaW50ZXJmYWNlIFJlc291cmNlUmVqZWN0ZWQ8VD4ge1xuICByZWFkb25seSB2YWx1ZTogUHJvbWlzZTxUPjtcbiAgcmVhZG9ubHkgbG9hZGluZzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBSZXNvdXJjZVJldHVybkludGVybmFsPFQ+IHtcbiAgX19icmFuZDogJ3Jlc291cmNlJztcbiAgX3N0YXRlOiAncGVuZGluZycgfCAncmVzb2x2ZWQnIHwgJ3JlamVjdGVkJztcbiAgX3Jlc29sdmVkOiBUIHwgdW5kZWZpbmVkO1xuICBfZXJyb3I6IEVycm9yIHwgdW5kZWZpbmVkO1xuICBfY2FjaGU6IG51bWJlcjtcbiAgX3RpbWVvdXQ6IG51bWJlcjtcbiAgdmFsdWU6IFByb21pc2U8VD47XG4gIGxvYWRpbmc6IGJvb2xlYW47XG59XG5cbi8qKlxuICogT3B0aW9ucyB0byBwYXNzIHRvIGB1c2VSZXNvdXJjZSQoKWBcbiAqXG4gKiBAcHVibGljXG4gKiBAc2VlIHVzZVJlc291cmNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVzb3VyY2VPcHRpb25zIHtcbiAgLyoqXG4gICAqIFRpbWVvdXQgaW4gbWlsbGlzZWNvbmRzLiBJZiB0aGUgcmVzb3VyY2UgdGFrZXMgbW9yZSB0aGFuIHRoZSBzcGVjaWZpZWQgbWlsbGlzZWNvbmQsIGl0IHdpbGxcbiAgICogdGltZW91dC4gUmVzdWx0aW5nIG9uIGEgcmVqZWN0ZWQgcmVzb3VyY2UuXG4gICAqL1xuICB0aW1lb3V0PzogbnVtYmVyO1xufVxuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4uL3JlYWRtZS5tZCN1c2VSZXNvdXJjZVwiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IC4uL3JlYWRtZS5tZCN1c2VSZXNvdXJjZSBpbnN0ZWFkKVxuLyoqXG4gKiBUaGlzIG1ldGhvZCB3b3JrcyBsaWtlIGFuIGFzeW5jIG1lbW9pemVkIGZ1bmN0aW9uIHRoYXQgcnVucyB3aGVuZXZlciBzb21lIHRyYWNrZWQgdmFsdWUgY2hhbmdlc1xuICogYW5kIHJldHVybnMgc29tZSBkYXRhLlxuICpcbiAqIGB1c2VSZXNvdXJjZWAgaG93ZXZlciByZXR1cm5zIGltbWVkaWF0ZSBhIGBSZXNvdXJjZVJldHVybmAgb2JqZWN0IHRoYXQgY29udGFpbnMgdGhlIGRhdGEgYW5kIGFcbiAqIHN0YXRlIHRoYXQgaW5kaWNhdGVzIGlmIHRoZSBkYXRhIGlzIGF2YWlsYWJsZSBvciBub3QuXG4gKlxuICogVGhlIHN0YXR1cyBjYW4gYmUgb25lIG9mIHRoZSBmb2xsb3dpbmc6XG4gKlxuICogLSBgcGVuZGluZ2AgLSB0aGUgZGF0YSBpcyBub3QgeWV0IGF2YWlsYWJsZS5cbiAqIC0gYHJlc29sdmVkYCAtIHRoZSBkYXRhIGlzIGF2YWlsYWJsZS5cbiAqIC0gYHJlamVjdGVkYCAtIHRoZSBkYXRhIGlzIG5vdCBhdmFpbGFibGUgZHVlIHRvIGFuIGVycm9yIG9yIHRpbWVvdXQuXG4gKlxuICogQXZvaWQgdXNpbmcgYSBgdHJ5L2NhdGNoYCBzdGF0ZW1lbnQgaW4gYHVzZVJlc291cmNlJGAuIElmIHlvdSBjYXRjaCB0aGUgZXJyb3IgaW5zdGVhZCBvZiBwYXNzaW5nXG4gKiBpdCwgdGhlIHJlc291cmNlIHN0YXR1cyB3aWxsIG5ldmVyIGJlIGByZWplY3RlZGAuXG4gKlxuICogIyMjIEV4YW1wbGVcbiAqXG4gKiBFeGFtcGxlIHNob3dpbmcgaG93IGB1c2VSZXNvdXJjZWAgdG8gcGVyZm9ybSBhIGZldGNoIHRvIHJlcXVlc3QgdGhlIHdlYXRoZXIsIHdoZW5ldmVyIHRoZSBpbnB1dFxuICogY2l0eSBuYW1lIGNoYW5nZXMuXG4gKlxuICogYGBgdHN4XG4gKiBjb25zdCBDbXAgPSBjb21wb25lbnQkKCgpID0+IHtcbiAqICAgY29uc3QgY2l0eVMgPSB1c2VTaWduYWwoJycpO1xuICpcbiAqICAgY29uc3Qgd2VhdGhlclJlc291cmNlID0gdXNlUmVzb3VyY2UkKGFzeW5jICh7IHRyYWNrLCBjbGVhbnVwIH0pID0+IHtcbiAqICAgICBjb25zdCBjaXR5TmFtZSA9IHRyYWNrKGNpdHlTKTtcbiAqICAgICBjb25zdCBhYm9ydENvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gKiAgICAgY2xlYW51cCgoKSA9PiBhYm9ydENvbnRyb2xsZXIuYWJvcnQoJ2NsZWFudXAnKSk7XG4gKiAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYGh0dHA6Ly93ZWF0aGVyZGF0YS5jb20/Y2l0eT0ke2NpdHlOYW1lfWAsIHtcbiAqICAgICAgIHNpZ25hbDogYWJvcnRDb250cm9sbGVyLnNpZ25hbCxcbiAqICAgICB9KTtcbiAqICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKTtcbiAqICAgICByZXR1cm4gZGF0YSBhcyB7IHRlbXA6IG51bWJlciB9O1xuICogICB9KTtcbiAqXG4gKiAgIHJldHVybiAoXG4gKiAgICAgPGRpdj5cbiAqICAgICAgIDxpbnB1dCBuYW1lPVwiY2l0eVwiIGJpbmQ6dmFsdWU9e2NpdHlTfSAvPlxuICogICAgICAgPFJlc291cmNlXG4gKiAgICAgICAgIHZhbHVlPXt3ZWF0aGVyUmVzb3VyY2V9XG4gKiAgICAgICAgIG9uUmVzb2x2ZWQ9eyh3ZWF0aGVyKSA9PiB7XG4gKiAgICAgICAgICAgcmV0dXJuIDxkaXY+VGVtcGVyYXR1cmU6IHt3ZWF0aGVyLnRlbXB9PC9kaXY+O1xuICogICAgICAgICB9fVxuICogICAgICAgLz5cbiAqICAgICA8L2Rpdj5cbiAqICAgKTtcbiAqIH0pO1xuICogYGBgXG4gKlxuICogQHB1YmxpY1xuICogQHNlZSBSZXNvdXJjZVxuICogQHNlZSBSZXNvdXJjZVJldHVyblxuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgY29uc3QgdXNlUmVzb3VyY2VRcmwgPSA8VD4oXG4gIHFybDogUVJMPFJlc291cmNlRm48VD4+LFxuICBvcHRzPzogUmVzb3VyY2VPcHRpb25zXG4pOiBSZXNvdXJjZVJldHVybjxUPiA9PiB7XG4gIGNvbnN0IHsgdmFsLCBzZXQsIGksIGlDdHggfSA9IHVzZVNlcXVlbnRpYWxTY29wZTxSZXNvdXJjZVJldHVybjxUPj4oKTtcbiAgaWYgKHZhbCAhPSBudWxsKSB7XG4gICAgcmV0dXJuIHZhbDtcbiAgfVxuICBhc3NlcnRRcmwocXJsKTtcblxuICBjb25zdCBjb250YWluZXIgPSBpQ3R4LiRjb250YWluZXIkO1xuICBjb25zdCByZXNvdXJjZSA9IGNyZWF0ZVJlc291cmNlUmV0dXJuPFQ+KGNvbnRhaW5lciwgb3B0cyk7XG4gIGNvbnN0IGVsID0gaUN0eC4kaG9zdEVsZW1lbnQkO1xuICBjb25zdCB0YXNrID0gbmV3IFRhc2soXG4gICAgVGFza0ZsYWdzLkRJUlRZIHwgVGFza0ZsYWdzLlJFU09VUkNFLFxuICAgIGksXG4gICAgZWwsXG4gICAgcXJsLFxuICAgIHJlc291cmNlLFxuICAgIG51bGxcbiAgKSBhcyBSZXNvdXJjZURlc2NyaXB0b3I8YW55PjtcbiAgcnVuUmVzb3VyY2UodGFzaywgY29udGFpbmVyLCBpQ3R4LiRob3N0RWxlbWVudCQpO1xuICBzZXQocmVzb3VyY2UpO1xuXG4gIHJldHVybiByZXNvdXJjZTtcbn07XG5cbi8qKiBAcHVibGljICovXG5leHBvcnQgaW50ZXJmYWNlIFJlc291cmNlUHJvcHM8VD4ge1xuICByZWFkb25seSB2YWx1ZTogUmVzb3VyY2VSZXR1cm48VD4gfCBTaWduYWw8UHJvbWlzZTxUPiB8IFQ+IHwgUHJvbWlzZTxUPjtcbiAgb25SZXNvbHZlZDogKHZhbHVlOiBUKSA9PiBKU1hPdXRwdXQ7XG4gIG9uUGVuZGluZz86ICgpID0+IEpTWE91dHB1dDtcbiAgb25SZWplY3RlZD86IChyZWFzb246IEVycm9yKSA9PiBKU1hPdXRwdXQ7XG59XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kI3VzZVJlc291cmNlXCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi4vcmVhZG1lLm1kI3VzZVJlc291cmNlIGluc3RlYWQpXG4vKipcbiAqIFRoaXMgbWV0aG9kIHdvcmtzIGxpa2UgYW4gYXN5bmMgbWVtb2l6ZWQgZnVuY3Rpb24gdGhhdCBydW5zIHdoZW5ldmVyIHNvbWUgdHJhY2tlZCB2YWx1ZSBjaGFuZ2VzXG4gKiBhbmQgcmV0dXJucyBzb21lIGRhdGEuXG4gKlxuICogYHVzZVJlc291cmNlYCBob3dldmVyIHJldHVybnMgaW1tZWRpYXRlIGEgYFJlc291cmNlUmV0dXJuYCBvYmplY3QgdGhhdCBjb250YWlucyB0aGUgZGF0YSBhbmQgYVxuICogc3RhdGUgdGhhdCBpbmRpY2F0ZXMgaWYgdGhlIGRhdGEgaXMgYXZhaWxhYmxlIG9yIG5vdC5cbiAqXG4gKiBUaGUgc3RhdHVzIGNhbiBiZSBvbmUgb2YgdGhlIGZvbGxvd2luZzpcbiAqXG4gKiAtICdwZW5kaW5nJyAtIHRoZSBkYXRhIGlzIG5vdCB5ZXQgYXZhaWxhYmxlLlxuICogLSAncmVzb2x2ZWQnIC0gdGhlIGRhdGEgaXMgYXZhaWxhYmxlLlxuICogLSAncmVqZWN0ZWQnIC0gdGhlIGRhdGEgaXMgbm90IGF2YWlsYWJsZSBkdWUgdG8gYW4gZXJyb3Igb3IgdGltZW91dC5cbiAqXG4gKiAjIyMgRXhhbXBsZVxuICpcbiAqIEV4YW1wbGUgc2hvd2luZyBob3cgYHVzZVJlc291cmNlYCB0byBwZXJmb3JtIGEgZmV0Y2ggdG8gcmVxdWVzdCB0aGUgd2VhdGhlciwgd2hlbmV2ZXIgdGhlIGlucHV0XG4gKiBjaXR5IG5hbWUgY2hhbmdlcy5cbiAqXG4gKiBgYGB0c3hcbiAqIGNvbnN0IENtcCA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICogICBjb25zdCBjaXR5UyA9IHVzZVNpZ25hbCgnJyk7XG4gKlxuICogICBjb25zdCB3ZWF0aGVyUmVzb3VyY2UgPSB1c2VSZXNvdXJjZSQoYXN5bmMgKHsgdHJhY2ssIGNsZWFudXAgfSkgPT4ge1xuICogICAgIGNvbnN0IGNpdHlOYW1lID0gdHJhY2soY2l0eVMpO1xuICogICAgIGNvbnN0IGFib3J0Q29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAqICAgICBjbGVhbnVwKCgpID0+IGFib3J0Q29udHJvbGxlci5hYm9ydCgnY2xlYW51cCcpKTtcbiAqICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgaHR0cDovL3dlYXRoZXJkYXRhLmNvbT9jaXR5PSR7Y2l0eU5hbWV9YCwge1xuICogICAgICAgc2lnbmFsOiBhYm9ydENvbnRyb2xsZXIuc2lnbmFsLFxuICogICAgIH0pO1xuICogICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpO1xuICogICAgIHJldHVybiBkYXRhIGFzIHsgdGVtcDogbnVtYmVyIH07XG4gKiAgIH0pO1xuICpcbiAqICAgcmV0dXJuIChcbiAqICAgICA8ZGl2PlxuICogICAgICAgPGlucHV0IG5hbWU9XCJjaXR5XCIgYmluZDp2YWx1ZT17Y2l0eVN9IC8+XG4gKiAgICAgICA8UmVzb3VyY2VcbiAqICAgICAgICAgdmFsdWU9e3dlYXRoZXJSZXNvdXJjZX1cbiAqICAgICAgICAgb25SZXNvbHZlZD17KHdlYXRoZXIpID0+IHtcbiAqICAgICAgICAgICByZXR1cm4gPGRpdj5UZW1wZXJhdHVyZToge3dlYXRoZXIudGVtcH08L2Rpdj47XG4gKiAgICAgICAgIH19XG4gKiAgICAgICAvPlxuICogICAgIDwvZGl2PlxuICogICApO1xuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBAcHVibGljXG4gKiBAc2VlIFJlc291cmNlXG4gKiBAc2VlIFJlc291cmNlUmV0dXJuXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBjb25zdCBSZXNvdXJjZSA9IDxUPihwcm9wczogUmVzb3VyY2VQcm9wczxUPik6IEpTWE91dHB1dCA9PiB7XG4gIC8vIFJlc291cmNlIHBhdGhcbiAgcmV0dXJuIF9qc3hTb3J0ZWQoRnJhZ21lbnQsIG51bGwsIG51bGwsIGdldFJlc291cmNlVmFsdWVBc1Byb21pc2UocHJvcHMpLCAwLCBudWxsKTtcbn07XG5cbmZ1bmN0aW9uIGdldFJlc291cmNlVmFsdWVBc1Byb21pc2U8VD4ocHJvcHM6IFJlc291cmNlUHJvcHM8VD4pOiBQcm9taXNlPEpTWE91dHB1dD4gfCBKU1hPdXRwdXQge1xuICBjb25zdCByZXNvdXJjZSA9IHByb3BzLnZhbHVlIGFzIFJlc291cmNlUmV0dXJuSW50ZXJuYWw8VD4gfCBQcm9taXNlPFQ+IHwgU2lnbmFsPFQ+O1xuICBpZiAoaXNSZXNvdXJjZVJldHVybihyZXNvdXJjZSkpIHtcbiAgICBjb25zdCBpc0Jyb3dzZXIgPSAhaXNTZXJ2ZXJQbGF0Zm9ybSgpO1xuICAgIGlmIChpc0Jyb3dzZXIpIHtcbiAgICAgIC8vIGNyZWF0ZSBhIHN1YnNjcmlwdGlvbiBmb3IgdGhlIHJlc291cmNlLl9zdGF0ZSBjaGFuZ2VzXG4gICAgICBjb25zdCBzdGF0ZSA9IHJlc291cmNlLl9zdGF0ZTtcbiAgICAgIERFQlVHICYmIGRlYnVnTG9nKGBSRVNPVVJDRV9DTVAuJHtzdGF0ZX1gLCAnVkFMVUU6ICcgKyB1bnRyYWNrKCgpID0+IHJlc291cmNlLl9yZXNvbHZlZCkpO1xuXG4gICAgICBpZiAoc3RhdGUgPT09ICdwZW5kaW5nJyAmJiBwcm9wcy5vblBlbmRpbmcpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShwcm9wcy5vblBlbmRpbmcoKSk7XG4gICAgICB9IGVsc2UgaWYgKHN0YXRlID09PSAncmVqZWN0ZWQnICYmIHByb3BzLm9uUmVqZWN0ZWQpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZXNvdXJjZS5fZXJyb3IhKS50aGVuKHByb3BzLm9uUmVqZWN0ZWQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gcmVzb2x2ZWQsIHBlbmRpbmcgd2l0aG91dCBvblBlbmRpbmcgcHJvcCBvciByZWplY3RlZCB3aXRoIG9uUmVqZWN0ZWQgcHJvcFxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHVudHJhY2soKCkgPT4gcmVzb3VyY2UuX3Jlc29sdmVkKSBhcyBUKS50aGVuKHByb3BzLm9uUmVzb2x2ZWQpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzb3VyY2UudmFsdWUudGhlbihcbiAgICAgIHVzZUJpbmRJbnZva2VDb250ZXh0KHByb3BzLm9uUmVzb2x2ZWQpLFxuICAgICAgdXNlQmluZEludm9rZUNvbnRleHQocHJvcHMub25SZWplY3RlZClcbiAgICApO1xuICB9IGVsc2UgaWYgKGlzUHJvbWlzZShyZXNvdXJjZSkpIHtcbiAgICByZXR1cm4gcmVzb3VyY2UudGhlbihcbiAgICAgIHVzZUJpbmRJbnZva2VDb250ZXh0KHByb3BzLm9uUmVzb2x2ZWQpLFxuICAgICAgdXNlQmluZEludm9rZUNvbnRleHQocHJvcHMub25SZWplY3RlZClcbiAgICApO1xuICB9IGVsc2UgaWYgKGlzU2lnbmFsKHJlc291cmNlKSkge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVzb3VyY2UudmFsdWUpLnRoZW4oXG4gICAgICB1c2VCaW5kSW52b2tlQ29udGV4dChwcm9wcy5vblJlc29sdmVkKSxcbiAgICAgIHVzZUJpbmRJbnZva2VDb250ZXh0KHByb3BzLm9uUmVqZWN0ZWQpXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlc291cmNlIGFzIFQpLnRoZW4oXG4gICAgICB1c2VCaW5kSW52b2tlQ29udGV4dChwcm9wcy5vblJlc29sdmVkKSxcbiAgICAgIHVzZUJpbmRJbnZva2VDb250ZXh0KHByb3BzLm9uUmVqZWN0ZWQpXG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgX2NyZWF0ZVJlc291cmNlUmV0dXJuID0gPFQ+KG9wdHM/OiBSZXNvdXJjZU9wdGlvbnMpOiBSZXNvdXJjZVJldHVybkludGVybmFsPFQ+ID0+IHtcbiAgY29uc3QgcmVzb3VyY2U6IFJlc291cmNlUmV0dXJuSW50ZXJuYWw8VD4gPSB7XG4gICAgX19icmFuZDogJ3Jlc291cmNlJyxcbiAgICB2YWx1ZTogdW5kZWZpbmVkIGFzIG5ldmVyLFxuICAgIGxvYWRpbmc6IGlzU2VydmVyUGxhdGZvcm0oKSA/IGZhbHNlIDogdHJ1ZSxcbiAgICBfcmVzb2x2ZWQ6IHVuZGVmaW5lZCBhcyBuZXZlcixcbiAgICBfZXJyb3I6IHVuZGVmaW5lZCBhcyBuZXZlcixcbiAgICBfc3RhdGU6ICdwZW5kaW5nJyxcbiAgICBfdGltZW91dDogb3B0cz8udGltZW91dCA/PyAtMSxcbiAgICBfY2FjaGU6IDAsXG4gIH07XG4gIHJldHVybiByZXNvdXJjZTtcbn07XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVSZXNvdXJjZVJldHVybiA9IDxUPihcbiAgY29udGFpbmVyOiBDb250YWluZXIsXG4gIG9wdHM/OiBSZXNvdXJjZU9wdGlvbnMsXG4gIGluaXRpYWxQcm9taXNlPzogUHJvbWlzZTxUPlxuKTogUmVzb3VyY2VSZXR1cm5JbnRlcm5hbDxUPiA9PiB7XG4gIGNvbnN0IHJlc3VsdCA9IF9jcmVhdGVSZXNvdXJjZVJldHVybjxUPihvcHRzKTtcbiAgcmVzdWx0LnZhbHVlID0gaW5pdGlhbFByb21pc2UgYXMgUHJvbWlzZTxUPjtcblxuICByZXR1cm4gY3JlYXRlU3RvcmUoY29udGFpbmVyLCByZXN1bHQsIFN0b3JlRmxhZ3MuUkVDVVJTSVZFKTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRJbnRlcm5hbFJlc291cmNlID0gPFQ+KHJlc291cmNlOiBSZXNvdXJjZVJldHVybjxUPik6IFJlc291cmNlUmV0dXJuSW50ZXJuYWw8VD4gPT4ge1xuICByZXR1cm4gZ2V0U3RvcmVUYXJnZXQocmVzb3VyY2UpIGFzIGFueTtcbn07XG5cbmV4cG9ydCBjb25zdCBpc1Jlc291cmNlUmV0dXJuID0gKG9iajogYW55KTogb2JqIGlzIFJlc291cmNlUmV0dXJuPHVua25vd24+ID0+IHtcbiAgcmV0dXJuIGlzT2JqZWN0KG9iaikgJiYgKGdldFN0b3JlVGFyZ2V0KG9iaiBhcyBhbnkpIHx8IG9iaikuX19icmFuZCA9PT0gJ3Jlc291cmNlJztcbn07XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVzb3VyY2VEZXNjcmlwdG9yPFQ+XG4gIGV4dGVuZHMgRGVzY3JpcHRvckJhc2U8UmVzb3VyY2VGbjxUPiwgUmVzb3VyY2VSZXR1cm5JbnRlcm5hbDxUPj4ge31cblxuZXhwb3J0IGNvbnN0IHJ1blJlc291cmNlID0gPFQ+KFxuICB0YXNrOiBSZXNvdXJjZURlc2NyaXB0b3I8VD4sXG4gIGNvbnRhaW5lcjogQ29udGFpbmVyLFxuICBob3N0OiBIb3N0RWxlbWVudFxuKTogVmFsdWVPclByb21pc2U8dm9pZD4gPT4ge1xuICB0YXNrLiRmbGFncyQgJj0gflRhc2tGbGFncy5ESVJUWTtcbiAgY2xlYW51cFRhc2sodGFzayk7XG5cbiAgY29uc3QgaUN0eCA9IG5ld0ludm9rZUNvbnRleHQoY29udGFpbmVyLiRsb2NhbGUkLCBob3N0LCB1bmRlZmluZWQsIFJlc291cmNlRXZlbnQpO1xuICBpQ3R4LiRjb250YWluZXIkID0gY29udGFpbmVyO1xuXG4gIGNvbnN0IHRhc2tGbiA9IHRhc2suJHFybCQuZ2V0Rm4oaUN0eCwgKCkgPT4gY2xlYXJTdWJzY3JpYmVyRWZmZWN0RGVwZW5kZW5jaWVzKHRhc2spKTtcblxuICBjb25zdCByZXNvdXJjZSA9IHRhc2suJHN0YXRlJDtcbiAgYXNzZXJ0RGVmaW5lZChcbiAgICByZXNvdXJjZSxcbiAgICAndXNlUmVzb3VyY2U6IHdoZW4gcnVubmluZyBhIHJlc291cmNlLCBcInRhc2sucmVzb3VyY2VcIiBtdXN0IGJlIGEgZGVmaW5lZC4nLFxuICAgIHRhc2tcbiAgKTtcblxuICBjb25zdCB0cmFjazogVHJhY2tlciA9IChvYmo6ICgoKSA9PiB1bmtub3duKSB8IG9iamVjdCB8IFNpZ25hbDx1bmtub3duPiwgcHJvcD86IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IGN0eCA9IG5ld0ludm9rZUNvbnRleHQoKTtcbiAgICBjdHguJGVmZmVjdFN1YnNjcmliZXIkID0gW3Rhc2ssIEVmZmVjdFByb3BlcnR5LkNPTVBPTkVOVF07XG4gICAgY3R4LiRjb250YWluZXIkID0gY29udGFpbmVyO1xuICAgIHJldHVybiBpbnZva2UoY3R4LCAoKSA9PiB7XG4gICAgICBpZiAoaXNGdW5jdGlvbihvYmopKSB7XG4gICAgICAgIHJldHVybiBvYmooKTtcbiAgICAgIH1cbiAgICAgIGlmIChwcm9wKSB7XG4gICAgICAgIHJldHVybiAob2JqIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+KVtwcm9wXTtcbiAgICAgIH0gZWxzZSBpZiAoaXNTaWduYWwob2JqKSkge1xuICAgICAgICByZXR1cm4gb2JqLnZhbHVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVFcnJvciA9IChyZWFzb246IHVua25vd24pID0+IGNvbnRhaW5lci5oYW5kbGVFcnJvcihyZWFzb24sIGhvc3QpO1xuXG4gIGNvbnN0IGNsZWFudXBzOiAoKCkgPT4gdm9pZClbXSA9IFtdO1xuICB0YXNrLiRkZXN0cm95JCA9IG5vU2VyaWFsaXplKCgpID0+IHtcbiAgICBjbGVhbnVwcy5mb3JFYWNoKChmbikgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgZm4oKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBoYW5kbGVFcnJvcihlcnIpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGRvbmUgPSB0cnVlO1xuICB9KTtcblxuICBjb25zdCByZXNvdXJjZVRhcmdldCA9IHVud3JhcFN0b3JlKHJlc291cmNlKTtcbiAgY29uc3Qgb3B0czogUmVzb3VyY2VDdHg8VD4gPSB7XG4gICAgdHJhY2ssXG4gICAgY2xlYW51cChmbikge1xuICAgICAgaWYgKHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBjbGVhbnVwcy5wdXNoKGZuKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGNhY2hlKHBvbGljeSkge1xuICAgICAgbGV0IG1pbGxpc2Vjb25kcyA9IDA7XG4gICAgICBpZiAocG9saWN5ID09PSAnaW1tdXRhYmxlJykge1xuICAgICAgICBtaWxsaXNlY29uZHMgPSBJbmZpbml0eTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1pbGxpc2Vjb25kcyA9IHBvbGljeTtcbiAgICAgIH1cbiAgICAgIHJlc291cmNlLl9jYWNoZSA9IG1pbGxpc2Vjb25kcztcbiAgICB9LFxuICAgIHByZXZpb3VzOiByZXNvdXJjZVRhcmdldC5fcmVzb2x2ZWQsXG4gIH07XG5cbiAgbGV0IHJlc29sdmU6ICh2OiBUKSA9PiB2b2lkO1xuICBsZXQgcmVqZWN0OiAodjogdW5rbm93bikgPT4gdm9pZDtcbiAgbGV0IGRvbmUgPSBmYWxzZTtcblxuICBjb25zdCBzZXRTdGF0ZSA9IChyZXNvbHZlZDogYm9vbGVhbiwgdmFsdWU6IFQgfCBFcnJvcikgPT4ge1xuICAgIGlmICghZG9uZSkge1xuICAgICAgZG9uZSA9IHRydWU7XG4gICAgICBpZiAocmVzb2x2ZWQpIHtcbiAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICAgIHJlc291cmNlLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgcmVzb3VyY2UuX3N0YXRlID0gJ3Jlc29sdmVkJztcbiAgICAgICAgcmVzb3VyY2UuX3Jlc29sdmVkID0gdmFsdWUgYXMgVDtcbiAgICAgICAgcmVzb3VyY2UuX2Vycm9yID0gdW5kZWZpbmVkO1xuICAgICAgICByZXNvbHZlKHZhbHVlIGFzIFQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICAgIHJlc291cmNlLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgcmVzb3VyY2UuX3N0YXRlID0gJ3JlamVjdGVkJztcbiAgICAgICAgcmVzb3VyY2UuX2Vycm9yID0gdmFsdWUgYXMgRXJyb3I7XG4gICAgICAgIHJlamVjdCh2YWx1ZSBhcyBFcnJvcik7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBBZGQgY2xlYW51cCB0byByZXNvbHZlIHRoZSByZXNvdXJjZSBpZiB3ZSBhcmUgdHJ5aW5nIHRvIHJ1biB0aGUgc2FtZSByZXNvdXJjZSBhZ2FpbiB3aGlsZSB0aGVcbiAgICogcHJldmlvdXMgb25lIGlzIG5vdCByZXNvbHZlZCB5ZXQuIFRoZSBuZXh0IGBydW5SZXNvdXJjZWAgcnVuIHdpbGwgY2FsbCB0aGlzIGNsZWFudXBcbiAgICovXG4gIGNsZWFudXBzLnB1c2goKCkgPT4ge1xuICAgIGlmICh1bnRyYWNrKCgpID0+IHJlc291cmNlLmxvYWRpbmcpID09PSB0cnVlKSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IHVudHJhY2soKCkgPT4gcmVzb3VyY2UuX3Jlc29sdmVkKSBhcyBUO1xuICAgICAgc2V0U3RhdGUodHJ1ZSwgdmFsdWUpO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gRXhlY3V0ZSBtdXRhdGlvbiBpbnNpZGUgZW1wdHkgaW52b2NhdGlvblxuICBpbnZva2UoaUN0eCwgKCkgPT4ge1xuICAgIC8vIGNvbnNvbGUubG9nKCdSRVNPVVJDRS5wZW5kaW5nOiAnKTtcbiAgICByZXNvdXJjZS5fc3RhdGUgPSAncGVuZGluZyc7XG4gICAgcmVzb3VyY2UubG9hZGluZyA9ICFpc1NlcnZlclBsYXRmb3JtKCk7XG4gICAgY29uc3QgcHJvbWlzZSA9IChyZXNvdXJjZS52YWx1ZSA9IG5ldyBQcm9taXNlKChyLCByZSkgPT4ge1xuICAgICAgcmVzb2x2ZSA9IHI7XG4gICAgICByZWplY3QgPSByZTtcbiAgICB9KSk7XG4gICAgcHJvbWlzZS5jYXRjaChpZ25vcmVFcnJvclRvUHJldmVudE5vZGVGcm9tQ3Jhc2hpbmcpO1xuICB9KTtcblxuICBjb25zdCBwcm9taXNlOiBWYWx1ZU9yUHJvbWlzZTx2b2lkPiA9IHNhZmVDYWxsKFxuICAgICgpID0+IFByb21pc2UucmVzb2x2ZSh0YXNrRm4ob3B0cykpLFxuICAgICh2YWx1ZSkgPT4ge1xuICAgICAgc2V0U3RhdGUodHJ1ZSwgdmFsdWUpO1xuICAgIH0sXG4gICAgKGVycikgPT4ge1xuICAgICAgaWYgKGlzUHJvbWlzZShlcnIpKSB7XG4gICAgICAgIHJldHVybiBlcnIudGhlbigoKSA9PiBydW5SZXNvdXJjZSh0YXNrLCBjb250YWluZXIsIGhvc3QpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldFN0YXRlKGZhbHNlLCBlcnIpO1xuICAgICAgfVxuICAgIH1cbiAgKTtcblxuICBjb25zdCB0aW1lb3V0ID0gcmVzb3VyY2VUYXJnZXQuX3RpbWVvdXQ7XG4gIGlmICh0aW1lb3V0ID4gMCkge1xuICAgIHJldHVybiBQcm9taXNlLnJhY2UoW1xuICAgICAgcHJvbWlzZSxcbiAgICAgIGRlbGF5KHRpbWVvdXQpLnRoZW4oKCkgPT4ge1xuICAgICAgICBpZiAoc2V0U3RhdGUoZmFsc2UsIG5ldyBFcnJvcigndGltZW91dCcpKSkge1xuICAgICAgICAgIGNsZWFudXBUYXNrKHRhc2spO1xuICAgICAgICB9XG4gICAgICB9KSxcbiAgICBdKTtcbiAgfVxuICByZXR1cm4gcHJvbWlzZTtcbn07XG5cbmNvbnN0IGlnbm9yZUVycm9yVG9QcmV2ZW50Tm9kZUZyb21DcmFzaGluZyA9IChlcnI6IHVua25vd24pID0+IHtcbiAgLy8gaWdub3JlIGVycm9yIHRvIHByZXZlbnQgbm9kZSBmcm9tIGNyYXNoaW5nXG4gIC8vIG5vZGUgd2lsbCBjcmFzaCBpbiBwcm9taXNlIGlzIHJlamVjdGVkIGFuZCBubyBvbmUgaXMgbGlzdGVuaW5nIHRvIHRoZSByZWplY3Rpb24uXG59O1xuIl19","/** @file Public types for the client deserialization */\n/**\n * Flags for VNode.\n *\n * # Materialize vs Inflation\n *\n * - Materialized: The node has all of its children. Specifically `firstChild`/`lastChild` are NOT\n *   `undefined`. Materialization creates lazy instantiation of the children. NOTE: Only\n *   ElementVNode need to be materialized.\n * - Inflation:\n *\n *   - If Text: It means that it is safe to write to the node. When Text nodes are first Deserialized\n *       multiple text nodes can share the same DOM node. On write the sibling text nodes need to be\n *       converted into separate text nodes.\n *   - If Element: It means that the element tag attributes have not yet been read from the DOM.\n *\n * Inflation and materialization are not the same, they are two independent things.\n *\n * @internal\n */\nexport var VNodeFlags;\n(function (VNodeFlags) {\n    VNodeFlags[VNodeFlags[\"Element\"] = 1] = \"Element\";\n    VNodeFlags[VNodeFlags[\"Virtual\"] = 2] = \"Virtual\";\n    VNodeFlags[VNodeFlags[\"ELEMENT_OR_VIRTUAL_MASK\"] = 3] = \"ELEMENT_OR_VIRTUAL_MASK\";\n    VNodeFlags[VNodeFlags[\"ELEMENT_OR_TEXT_MASK\"] = 5] = \"ELEMENT_OR_TEXT_MASK\";\n    VNodeFlags[VNodeFlags[\"TYPE_MASK\"] = 7] = \"TYPE_MASK\";\n    VNodeFlags[VNodeFlags[\"INFLATED_TYPE_MASK\"] = 15] = \"INFLATED_TYPE_MASK\";\n    VNodeFlags[VNodeFlags[\"Text\"] = 4] = \"Text\";\n    /// Extra flag which marks if a node needs to be inflated.\n    VNodeFlags[VNodeFlags[\"Inflated\"] = 8] = \"Inflated\";\n    /// Marks if the `ensureProjectionResolved` has been called on the node.\n    VNodeFlags[VNodeFlags[\"Resolved\"] = 16] = \"Resolved\";\n    /// Marks if the vnode is deleted.\n    VNodeFlags[VNodeFlags[\"Deleted\"] = 32] = \"Deleted\";\n    /// Flags for Namespace\n    VNodeFlags[VNodeFlags[\"NAMESPACE_MASK\"] = 192] = \"NAMESPACE_MASK\";\n    VNodeFlags[VNodeFlags[\"NEGATED_NAMESPACE_MASK\"] = -193] = \"NEGATED_NAMESPACE_MASK\";\n    VNodeFlags[VNodeFlags[\"NS_html\"] = 0] = \"NS_html\";\n    VNodeFlags[VNodeFlags[\"NS_svg\"] = 64] = \"NS_svg\";\n    VNodeFlags[VNodeFlags[\"NS_math\"] = 128] = \"NS_math\";\n})(VNodeFlags || (VNodeFlags = {}));\nexport var VNodeFlagsIndex;\n(function (VNodeFlagsIndex) {\n    VNodeFlagsIndex[VNodeFlagsIndex[\"mask\"] = -256] = \"mask\";\n    VNodeFlagsIndex[VNodeFlagsIndex[\"negated_mask\"] = 255] = \"negated_mask\";\n    VNodeFlagsIndex[VNodeFlagsIndex[\"shift\"] = 8] = \"shift\";\n})(VNodeFlagsIndex || (VNodeFlagsIndex = {}));\nexport var VNodeProps;\n(function (VNodeProps) {\n    VNodeProps[VNodeProps[\"flags\"] = 0] = \"flags\";\n    VNodeProps[VNodeProps[\"parent\"] = 1] = \"parent\";\n    VNodeProps[VNodeProps[\"previousSibling\"] = 2] = \"previousSibling\";\n    VNodeProps[VNodeProps[\"nextSibling\"] = 3] = \"nextSibling\";\n})(VNodeProps || (VNodeProps = {}));\nexport var ElementVNodeProps;\n(function (ElementVNodeProps) {\n    ElementVNodeProps[ElementVNodeProps[\"firstChild\"] = 4] = \"firstChild\";\n    ElementVNodeProps[ElementVNodeProps[\"lastChild\"] = 5] = \"lastChild\";\n    ElementVNodeProps[ElementVNodeProps[\"element\"] = 6] = \"element\";\n    ElementVNodeProps[ElementVNodeProps[\"elementName\"] = 7] = \"elementName\";\n    ElementVNodeProps[ElementVNodeProps[\"PROPS_OFFSET\"] = 8] = \"PROPS_OFFSET\";\n})(ElementVNodeProps || (ElementVNodeProps = {}));\nexport var TextVNodeProps;\n(function (TextVNodeProps) {\n    TextVNodeProps[TextVNodeProps[\"node\"] = 4] = \"node\";\n    TextVNodeProps[TextVNodeProps[\"text\"] = 5] = \"text\";\n})(TextVNodeProps || (TextVNodeProps = {}));\nexport var VirtualVNodeProps;\n(function (VirtualVNodeProps) {\n    VirtualVNodeProps[VirtualVNodeProps[\"firstChild\"] = 4] = \"firstChild\";\n    VirtualVNodeProps[VirtualVNodeProps[\"lastChild\"] = 5] = \"lastChild\";\n    VirtualVNodeProps[VirtualVNodeProps[\"PROPS_OFFSET\"] = 6] = \"PROPS_OFFSET\";\n})(VirtualVNodeProps || (VirtualVNodeProps = {}));\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHlwZXMuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvY2xpZW50L3R5cGVzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLHdEQUF3RDtBQTJEeEQ7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQWtCRztBQUNILE1BQU0sQ0FBTixJQUFrQixVQW9CakI7QUFwQkQsV0FBa0IsVUFBVTtJQUMxQixpREFBOEMsQ0FBQTtJQUM5QyxpREFBOEMsQ0FBQTtJQUM5QyxpRkFBOEMsQ0FBQTtJQUM5QywyRUFBOEMsQ0FBQTtJQUM5QyxxREFBOEMsQ0FBQTtJQUM5Qyx3RUFBOEMsQ0FBQTtJQUM5QywyQ0FBOEMsQ0FBQTtJQUM5QywwREFBMEQ7SUFDMUQsbURBQThDLENBQUE7SUFDOUMsd0VBQXdFO0lBQ3hFLG9EQUE4QyxDQUFBO0lBQzlDLGtDQUFrQztJQUNsQyxrREFBOEMsQ0FBQTtJQUM5Qyx1QkFBdUI7SUFDdkIsaUVBQThDLENBQUE7SUFDOUMsa0ZBQThDLENBQUE7SUFDOUMsaURBQThDLENBQUE7SUFDOUMsZ0RBQThDLENBQUE7SUFDOUMsbURBQThDLENBQUE7QUFDaEQsQ0FBQyxFQXBCaUIsVUFBVSxLQUFWLFVBQVUsUUFvQjNCO0FBRUQsTUFBTSxDQUFOLElBQWtCLGVBSWpCO0FBSkQsV0FBa0IsZUFBZTtJQUMvQix3REFBdUMsQ0FBQTtJQUN2Qyx1RUFBdUMsQ0FBQTtJQUN2Qyx1REFBNkIsQ0FBQTtBQUMvQixDQUFDLEVBSmlCLGVBQWUsS0FBZixlQUFlLFFBSWhDO0FBRUQsTUFBTSxDQUFOLElBQWtCLFVBS2pCO0FBTEQsV0FBa0IsVUFBVTtJQUMxQiw2Q0FBUyxDQUFBO0lBQ1QsK0NBQVUsQ0FBQTtJQUNWLGlFQUFtQixDQUFBO0lBQ25CLHlEQUFlLENBQUE7QUFDakIsQ0FBQyxFQUxpQixVQUFVLEtBQVYsVUFBVSxRQUszQjtBQUVELE1BQU0sQ0FBTixJQUFrQixpQkFNakI7QUFORCxXQUFrQixpQkFBaUI7SUFDakMscUVBQWMsQ0FBQTtJQUNkLG1FQUFhLENBQUE7SUFDYiwrREFBVyxDQUFBO0lBQ1gsdUVBQWUsQ0FBQTtJQUNmLHlFQUFnQixDQUFBO0FBQ2xCLENBQUMsRUFOaUIsaUJBQWlCLEtBQWpCLGlCQUFpQixRQU1sQztBQWtCRCxNQUFNLENBQU4sSUFBa0IsY0FHakI7QUFIRCxXQUFrQixjQUFjO0lBQzlCLG1EQUFRLENBQUE7SUFDUixtREFBUSxDQUFBO0FBQ1YsQ0FBQyxFQUhpQixjQUFjLEtBQWQsY0FBYyxRQUcvQjtBQWNELE1BQU0sQ0FBTixJQUFrQixpQkFJakI7QUFKRCxXQUFrQixpQkFBaUI7SUFDakMscUVBQXlDLENBQUE7SUFDekMsbUVBQXVDLENBQUE7SUFDdkMseUVBQWdCLENBQUE7QUFDbEIsQ0FBQyxFQUppQixpQkFBaUIsS0FBakIsaUJBQWlCLFFBSWxDIiwic291cmNlc0NvbnRlbnQiOlsiLyoqIEBmaWxlIFB1YmxpYyB0eXBlcyBmb3IgdGhlIGNsaWVudCBkZXNlcmlhbGl6YXRpb24gKi9cblxuaW1wb3J0IHR5cGUgeyBRUkwgfSBmcm9tICcuLi9zaGFyZWQvcXJsL3FybC5wdWJsaWMnO1xuaW1wb3J0IHR5cGUgeyBDb250YWluZXIgfSBmcm9tICcuLi9zaGFyZWQvdHlwZXMnO1xuaW1wb3J0IHR5cGUgeyBWTm9kZUpvdXJuYWwgfSBmcm9tICcuL3Zub2RlJztcblxuZXhwb3J0IHR5cGUgQ2xpZW50QXR0cktleSA9IHN0cmluZztcbmV4cG9ydCB0eXBlIENsaWVudEF0dHJWYWx1ZSA9IHN0cmluZyB8IG51bGw7XG5leHBvcnQgdHlwZSBDbGllbnRBdHRycyA9IEFycmF5PENsaWVudEF0dHJLZXkgfCBDbGllbnRBdHRyVmFsdWU+O1xuXG4vKiogQGludGVybmFsICovXG5leHBvcnQgaW50ZXJmYWNlIENsaWVudENvbnRhaW5lciBleHRlbmRzIENvbnRhaW5lciB7XG4gIGRvY3VtZW50OiBRRG9jdW1lbnQ7XG4gIGVsZW1lbnQ6IENvbnRhaW5lckVsZW1lbnQ7XG4gIHFDb250YWluZXI6IHN0cmluZztcbiAgcUJhc2U6IHN0cmluZztcbiAgJGxvY2FsZSQ6IHN0cmluZztcbiAgcU1hbmlmZXN0SGFzaDogc3RyaW5nO1xuICByb290Vk5vZGU6IEVsZW1lbnRWTm9kZTtcbiAgJGpvdXJuYWwkOiBWTm9kZUpvdXJuYWw7XG4gIHJlbmRlckRvbmU6IFByb21pc2U8dm9pZD4gfCBudWxsO1xuICBwYXJzZVFSTDxUID0gdW5rbm93bj4ocXJsOiBzdHJpbmcpOiBRUkw8VD47XG4gICRzZXRSYXdTdGF0ZSQoaWQ6IG51bWJlciwgdlBhcmVudDogRWxlbWVudFZOb2RlIHwgVmlydHVhbFZOb2RlKTogdm9pZDtcbn1cblxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGludGVyZmFjZSBDb250YWluZXJFbGVtZW50IGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICBxQ29udGFpbmVyPzogQ2xpZW50Q29udGFpbmVyO1xuICAvKipcbiAgICogTWFwIG9mIGVsZW1lbnQgSUQgdG8gRWxlbWVudC4gSWYgVk5vZGVEYXRhIGhhcyBhIHJlZmVyZW5jZSB0byBhbiBlbGVtZW50LCB0aGVuIGl0IGlzIGFkZGVkIHRvXG4gICAqIHRoaXMgbWFwIGZvciBsYXRlciByZXRyaWV2YWwuXG4gICAqXG4gICAqIE9uY2UgcmV0cmlldmVkIHRoZSBlbGVtZW50IGlzIHJlcGxhY2VkIHdpdGggaXRzIFZOb2RlLlxuICAgKlxuICAgKiBOT1RFOiBUaGlzIG1hcCBsZWFrcyBtZW1vcnkhIE9uY2UgdGhlIGFwcGxpY2F0aW9uIGlzIHJlc3VtZWQgd2UgZG9uJ3Qga25vdyB3aGljaCBlbGVtZW50IElEc1xuICAgKiBhcmUgc3RpbGwgaW4gdGhlIGRlc2VyaWFsaXplZCBzdGF0ZS4gd2Ugd2lsbCBwcm9iYWJseSBuZWVkIGEgR0MgY3ljbGUuIFNvbWUgcHJvY2VzcyBydW5uaW5nIGluXG4gICAqIHRoZSBpZGxlIHRpbWUgd2hpY2ggcHJvY2Vzc2VzIGZldyBlbGVtZW50cyBhdCBhIHRpbWUgdG8gc2VlIGlmIHRoZXkgYXJlIHN0aWxsIHJlZmVyZW5jZWQgYW5kXG4gICAqIHJlbW92ZXMgdGhlbSBmcm9tIHRoZSBtYXAgaWYgdGhleSBhcmUgbm90LlxuICAgKi9cbiAgcVZOb2RlUmVmcz86IE1hcDxudW1iZXIsIEVsZW1lbnQgfCBFbGVtZW50Vk5vZGU+O1xuXG4gIC8qKiBTdHJpbmcgZnJvbSBgPHNjcmlwdCB0eXBlPVwicXdpay92bm9kZVwiPmAgdGFnLiAqL1xuICBxVm5vZGVEYXRhPzogc3RyaW5nO1xufVxuXG4vKiogQGludGVybmFsICovXG5leHBvcnQgaW50ZXJmYWNlIFFEb2N1bWVudCBleHRlbmRzIERvY3VtZW50IHtcbiAgLypcbiAgICogTWFwIG9mIEVsZW1lbnQgdG8gVk5vZGVEYXRhLlxuICAgKlxuICAgKiBUaGlzIG1hcCBpcyB1c2VkIHRvIHJlYnVpbGQgdmlydHVhbCBub2RlcyBmcm9tIHRoZSBIVE1MLiBNaXNzaW5nIGV4dHJhIHRleHQgbm9kZXMsIGFuZCBGcmFnbWVudHMuXG4gICAqL1xuICBxVk5vZGVEYXRhOiBXZWFrTWFwPEVsZW1lbnQsIHN0cmluZz47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUU5vZGUgZXh0ZW5kcyBOb2RlIHtcbiAgcVZOb2RlPzogVk5vZGU7XG59XG5cbi8qKlxuICogRmxhZ3MgZm9yIFZOb2RlLlxuICpcbiAqICMgTWF0ZXJpYWxpemUgdnMgSW5mbGF0aW9uXG4gKlxuICogLSBNYXRlcmlhbGl6ZWQ6IFRoZSBub2RlIGhhcyBhbGwgb2YgaXRzIGNoaWxkcmVuLiBTcGVjaWZpY2FsbHkgYGZpcnN0Q2hpbGRgL2BsYXN0Q2hpbGRgIGFyZSBOT1RcbiAqICAgYHVuZGVmaW5lZGAuIE1hdGVyaWFsaXphdGlvbiBjcmVhdGVzIGxhenkgaW5zdGFudGlhdGlvbiBvZiB0aGUgY2hpbGRyZW4uIE5PVEU6IE9ubHlcbiAqICAgRWxlbWVudFZOb2RlIG5lZWQgdG8gYmUgbWF0ZXJpYWxpemVkLlxuICogLSBJbmZsYXRpb246XG4gKlxuICogICAtIElmIFRleHQ6IEl0IG1lYW5zIHRoYXQgaXQgaXMgc2FmZSB0byB3cml0ZSB0byB0aGUgbm9kZS4gV2hlbiBUZXh0IG5vZGVzIGFyZSBmaXJzdCBEZXNlcmlhbGl6ZWRcbiAqICAgICAgIG11bHRpcGxlIHRleHQgbm9kZXMgY2FuIHNoYXJlIHRoZSBzYW1lIERPTSBub2RlLiBPbiB3cml0ZSB0aGUgc2libGluZyB0ZXh0IG5vZGVzIG5lZWQgdG8gYmVcbiAqICAgICAgIGNvbnZlcnRlZCBpbnRvIHNlcGFyYXRlIHRleHQgbm9kZXMuXG4gKiAgIC0gSWYgRWxlbWVudDogSXQgbWVhbnMgdGhhdCB0aGUgZWxlbWVudCB0YWcgYXR0cmlidXRlcyBoYXZlIG5vdCB5ZXQgYmVlbiByZWFkIGZyb20gdGhlIERPTS5cbiAqXG4gKiBJbmZsYXRpb24gYW5kIG1hdGVyaWFsaXphdGlvbiBhcmUgbm90IHRoZSBzYW1lLCB0aGV5IGFyZSB0d28gaW5kZXBlbmRlbnQgdGhpbmdzLlxuICpcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgZW51bSBWTm9kZUZsYWdzIHtcbiAgRWxlbWVudCAvKiAqKioqKioqKioqKioqKioqKiogKi8gPSAwYjAwXzAwMDAwMSxcbiAgVmlydHVhbCAvKiAqKioqKioqKioqKioqKioqKiogKi8gPSAwYjAwXzAwMDAxMCxcbiAgRUxFTUVOVF9PUl9WSVJUVUFMX01BU0sgLyogKiogKi8gPSAwYjAwXzAwMDAxMSxcbiAgRUxFTUVOVF9PUl9URVhUX01BU0sgLyogKioqKiogKi8gPSAwYjAwXzAwMDEwMSxcbiAgVFlQRV9NQVNLIC8qICoqKioqKioqKioqKioqKiogKi8gPSAwYjAwXzAwMDExMSxcbiAgSU5GTEFURURfVFlQRV9NQVNLIC8qICoqKioqKiogKi8gPSAwYjAwXzAwMTExMSxcbiAgVGV4dCAvKiAqKioqKioqKioqKioqKioqKioqKiogKi8gPSAwYjAwXzAwMDEwMCxcbiAgLy8vIEV4dHJhIGZsYWcgd2hpY2ggbWFya3MgaWYgYSBub2RlIG5lZWRzIHRvIGJlIGluZmxhdGVkLlxuICBJbmZsYXRlZCAvKiAqKioqKioqKioqKioqKioqKiAqLyA9IDBiMDBfMDAxMDAwLFxuICAvLy8gTWFya3MgaWYgdGhlIGBlbnN1cmVQcm9qZWN0aW9uUmVzb2x2ZWRgIGhhcyBiZWVuIGNhbGxlZCBvbiB0aGUgbm9kZS5cbiAgUmVzb2x2ZWQgLyogKioqKioqKioqKioqKioqKiogKi8gPSAwYjAwXzAxMDAwMCxcbiAgLy8vIE1hcmtzIGlmIHRoZSB2bm9kZSBpcyBkZWxldGVkLlxuICBEZWxldGVkIC8qICoqKioqKioqKioqKioqKioqKiAqLyA9IDBiMDBfMTAwMDAwLFxuICAvLy8gRmxhZ3MgZm9yIE5hbWVzcGFjZVxuICBOQU1FU1BBQ0VfTUFTSyAvKiAqKioqKioqKioqKiAqLyA9IDBiMTFfMDAwMDAwLFxuICBORUdBVEVEX05BTUVTUEFDRV9NQVNLIC8qICoqICovID0gfjBiMTFfMDAwMDAwLFxuICBOU19odG1sIC8qICoqKioqKioqKioqKioqKioqKiAqLyA9IDBiMDBfMDAwMDAwLCAvLyBodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXG4gIE5TX3N2ZyAvKiAqKioqKioqKioqKioqKioqKioqICovID0gMGIwMV8wMDAwMDAsIC8vIGh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXG4gIE5TX21hdGggLyogKioqKioqKioqKioqKioqKioqICovID0gMGIxMF8wMDAwMDAsIC8vIGh0dHA6Ly93d3cudzMub3JnLzE5OTgvTWF0aC9NYXRoTUxcbn1cblxuZXhwb3J0IGNvbnN0IGVudW0gVk5vZGVGbGFnc0luZGV4IHtcbiAgbWFzayAvKiAqKioqKioqKioqKioqICovID0gfjBiMTFfMTExMTExLFxuICBuZWdhdGVkX21hc2sgLyogKioqKioqICovID0gMGIxMV8xMTExMTEsXG4gIHNoaWZ0IC8qICoqKioqKioqKioqKiogKi8gPSA4LFxufVxuXG5leHBvcnQgY29uc3QgZW51bSBWTm9kZVByb3BzIHtcbiAgZmxhZ3MgPSAwLFxuICBwYXJlbnQgPSAxLFxuICBwcmV2aW91c1NpYmxpbmcgPSAyLFxuICBuZXh0U2libGluZyA9IDMsXG59XG5cbmV4cG9ydCBjb25zdCBlbnVtIEVsZW1lbnRWTm9kZVByb3BzIHtcbiAgZmlyc3RDaGlsZCA9IDQsXG4gIGxhc3RDaGlsZCA9IDUsXG4gIGVsZW1lbnQgPSA2LFxuICBlbGVtZW50TmFtZSA9IDcsXG4gIFBST1BTX09GRlNFVCA9IDgsXG59XG5cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCB0eXBlIEVsZW1lbnRWTm9kZSA9IFtcbiAgLy8vIENPTU1PTjogVk5vZGVQcm9wc1xuICBWTm9kZUZsYWdzLkVsZW1lbnQsIC8vLy8vLy8vLy8vLy8vIDAgLSBGbGFnc1xuICBWTm9kZSB8IG51bGwsIC8vLy8vLy8vLy8vLy8vLyAxIC0gUGFyZW50XG4gIFZOb2RlIHwgbnVsbCwgLy8vLy8vLy8vLy8vLy8vIDIgLSBQcmV2aW91cyBzaWJsaW5nXG4gIFZOb2RlIHwgbnVsbCwgLy8vLy8vLy8vLy8vLy8vIDMgLSBOZXh0IHNpYmxpbmdcbiAgLy8vIFNQRUNJRklDOiBFbGVtZW50Vk5vZGVQcm9wc1xuICBWTm9kZSB8IG51bGwgfCB1bmRlZmluZWQsIC8vLyA0IC0gRmlyc3QgY2hpbGQgLSB1bmRlZmluZWQgaWYgY2hpbGRyZW4gbmVlZCB0byBiZSBtYXRlcmlhbGl6ZVxuICBWTm9kZSB8IG51bGwgfCB1bmRlZmluZWQsIC8vLyA1IC0gTGFzdCBjaGlsZCAtIHVuZGVmaW5lZCBpZiBjaGlsZHJlbiBuZWVkIHRvIGJlIG1hdGVyaWFsaXplXG4gIEVsZW1lbnQsIC8vLy8vLy8vLy8vLy8vLy8vLy8vIDYgLSBFbGVtZW50XG4gIHN0cmluZyB8IHVuZGVmaW5lZCwgLy8vLy8vLy8vIDcgLSB0YWdcbiAgLy8vIFByb3BzXG4gIC4uLihzdHJpbmcgfCBudWxsKVtdLCAvLy8vLy8vIDggLSBhdHRyc1xuXSAmIHsgX19icmFuZF9fOiAnRWxlbWVudFZOb2RlJyB9O1xuXG5leHBvcnQgY29uc3QgZW51bSBUZXh0Vk5vZGVQcm9wcyB7XG4gIG5vZGUgPSA0LFxuICB0ZXh0ID0gNSxcbn1cblxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IHR5cGUgVGV4dFZOb2RlID0gW1xuICAvLy8gQ09NTU9OOiBWTm9kZVByb3BzXG4gIFZOb2RlRmxhZ3MuVGV4dCB8IFZOb2RlRmxhZ3MuSW5mbGF0ZWQsIC8vIDAgLSBGbGFnc1xuICBWTm9kZSB8IG51bGwsIC8vLy8vLy8vLy8vLy8vLy8vIDEgLSBQYXJlbnRcbiAgVk5vZGUgfCBudWxsLCAvLy8vLy8vLy8vLy8vLy8vLyAyIC0gUHJldmlvdXMgc2libGluZ1xuICBWTm9kZSB8IG51bGwsIC8vLy8vLy8vLy8vLy8vLy8vIDMgLSBOZXh0IHNpYmxpbmdcbiAgLy8vIFNQRUNJRklDOiBUZXh0Vk5vZGVQcm9wc1xuICBUZXh0IHwgbnVsbCB8IHVuZGVmaW5lZCwgLy8vLy8vIDQgLSBUZXh0Tm9kZSBvciBTaGFyZWRUZXh0Tm9kZSBpZiBGbGFncy5TaGFyZWRUZXh0XG4gIHN0cmluZywgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8gNSAtIHRleHQgY29udGVudFxuXSAmIHsgX19icmFuZF9fOiAnVGV4dFZOb2RlJyB9O1xuXG5leHBvcnQgY29uc3QgZW51bSBWaXJ0dWFsVk5vZGVQcm9wcyB7XG4gIGZpcnN0Q2hpbGQgPSBFbGVtZW50Vk5vZGVQcm9wcy5maXJzdENoaWxkLFxuICBsYXN0Q2hpbGQgPSBFbGVtZW50Vk5vZGVQcm9wcy5sYXN0Q2hpbGQsXG4gIFBST1BTX09GRlNFVCA9IDYsXG59XG5cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCB0eXBlIFZpcnR1YWxWTm9kZSA9IFtcbiAgLy8vIENPTU1PTjogVk5vZGVQcm9wc1xuICBWTm9kZUZsYWdzLlZpcnR1YWwsIC8vLy8vLy8vLy8vLy8gMCAtIEZsYWdzXG4gIFZOb2RlIHwgbnVsbCwgLy8vLy8vLy8vLy8vLy8vIDEgLSBQYXJlbnRcbiAgVk5vZGUgfCBudWxsLCAvLy8vLy8vLy8vLy8vLy8gMiAtIFByZXZpb3VzIHNpYmxpbmdcbiAgVk5vZGUgfCBudWxsLCAvLy8vLy8vLy8vLy8vLy8gMyAtIE5leHQgc2libGluZ1xuICAvLy8gU1BFQ0lGSUM6IFZpcnR1YWxWTm9kZVByb3BzXG4gIFZOb2RlIHwgbnVsbCwgLy8vLy8vLy8vLy8vLy8vIDQgLSBGaXJzdCBjaGlsZFxuICBWTm9kZSB8IG51bGwsIC8vLy8vLy8vLy8vLy8vLyA1IC0gTGFzdCBjaGlsZFxuICAvLy8gUHJvcHNcbiAgLi4uKHN0cmluZyB8IG51bGwpW10sIC8vLy8vLy8gNiAtIGF0dHJzXG5dICYgeyBfX2JyYW5kX186ICdGcmFnbWVudE5vZGUnICYgJ0hvc3RFbGVtZW50JyB9O1xuXG4vKiogQGludGVybmFsICovXG5leHBvcnQgdHlwZSBWTm9kZSA9IEVsZW1lbnRWTm9kZSB8IFRleHRWTm9kZSB8IFZpcnR1YWxWTm9kZTtcblxuLyoqIEBwdWJsaWMgKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVuZGVyT3B0aW9ucyB7XG4gIHNlcnZlckRhdGE/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xufVxuXG4vKiogQHB1YmxpYyAqL1xuZXhwb3J0IGludGVyZmFjZSBSZW5kZXJSZXN1bHQge1xuICBjbGVhbnVwKCk6IHZvaWQ7XG59XG4iXX0=","import { HTML_NS, MATH_NS, Q_PROPS_SEPARATOR, SVG_NS } from '../shared/utils/markers';\nimport { getDomContainerFromQContainerElement } from './dom-container';\nimport { ElementVNodeProps, TextVNodeProps, VNodeFlags, VNodeProps, } from './types';\nimport { ensureElementVNode, shouldIgnoreChildren, vnode_getDOMChildNodes, vnode_getDomParentVNode, vnode_getElementName, vnode_getFirstChild, vnode_getNextSibling, vnode_getParent, vnode_isElementVNode, vnode_isTextVNode, } from './vnode';\nexport const isForeignObjectElement = (elementName) => elementName.toLowerCase() === 'foreignobject';\nexport const isSvgElement = (elementName) => elementName === 'svg' || isForeignObjectElement(elementName);\nexport const isMathElement = (elementName) => elementName === 'math';\nexport const vnode_isDefaultNamespace = (vnode) => {\n    const flags = vnode[VNodeProps.flags];\n    return (flags & VNodeFlags.NAMESPACE_MASK) === 0;\n};\nexport const vnode_getElementNamespaceFlags = (elementName) => {\n    if (isSvgElement(elementName)) {\n        return VNodeFlags.NS_svg;\n    }\n    else if (isMathElement(elementName)) {\n        return VNodeFlags.NS_math;\n    }\n    else {\n        return VNodeFlags.NS_html;\n    }\n};\nexport function vnode_getDomChildrenWithCorrectNamespacesToInsert(journal, domParentVNode, newChild) {\n    const { elementNamespace, elementNamespaceFlag } = getNewElementNamespaceData(domParentVNode, newChild);\n    let domChildren = [];\n    if (elementNamespace === HTML_NS) {\n        // parent is in the default namespace, so just get the dom children. This is the fast path.\n        domChildren = vnode_getDOMChildNodes(journal, newChild);\n    }\n    else {\n        // parent is in a different namespace, so we need to clone the children with the correct namespace.\n        // The namespace cannot be changed on nodes, so we need to clone these nodes\n        const children = vnode_getDOMChildNodes(journal, newChild, true);\n        for (let i = 0; i < children.length; i++) {\n            const childVNode = children[i];\n            if (vnode_isTextVNode(childVNode)) {\n                // text nodes are always in the default namespace\n                domChildren.push(childVNode[TextVNodeProps.node]);\n                continue;\n            }\n            if ((childVNode[VNodeProps.flags] & VNodeFlags.NAMESPACE_MASK) ===\n                (domParentVNode[VNodeProps.flags] & VNodeFlags.NAMESPACE_MASK)) {\n                // if the child and parent have the same namespace, we don't need to clone the element\n                domChildren.push(childVNode[ElementVNodeProps.element]);\n                continue;\n            }\n            // clone the element with the correct namespace\n            const newChildElement = vnode_cloneElementWithNamespace(childVNode, domParentVNode, elementNamespace, elementNamespaceFlag);\n            if (newChildElement) {\n                domChildren.push(newChildElement);\n            }\n        }\n    }\n    return domChildren;\n}\n/** This function clones an element with a different namespace, but without the children. */\nfunction cloneElementWithNamespace(element, elementName, namespace) {\n    const newElement = element.ownerDocument.createElementNS(namespace, elementName);\n    const attributes = element.attributes;\n    for (const attribute of attributes) {\n        const name = attribute.name;\n        const value = attribute.value;\n        if (!name || name === Q_PROPS_SEPARATOR) {\n            continue;\n        }\n        newElement.setAttribute(name, value);\n    }\n    return newElement;\n}\n/**\n * This function clones an ElementVNode with a different namespace, including the children. This\n * traverse the tree using depth-first search and clones the elements using\n * `cloneElementWithNamespace`.\n */\nfunction vnode_cloneElementWithNamespace(elementVNode, parentVNode, namespace, namespaceFlag) {\n    ensureElementVNode(elementVNode);\n    let vCursor = elementVNode;\n    let vParent = null;\n    let rootElement = null;\n    let parentElement = null;\n    while (vCursor) {\n        let childElement = null;\n        let newChildElement = null;\n        if (vnode_isElementVNode(vCursor)) {\n            // Clone the element\n            childElement = vCursor[ElementVNodeProps.element];\n            const childElementTag = vnode_getElementName(vCursor);\n            // We need to check if the parent is a foreignObject element\n            // and get a new namespace data.\n            const vCursorParent = vnode_getParent(vCursor);\n            // For the first vNode parentNode is not parent from vNode tree, but parent from DOM tree\n            // this is because vNode is not moved yet.\n            // rootElement is null only for the first vNode\n            const vCursorDomParent = rootElement == null ? parentVNode : vCursorParent && vnode_getDomParentVNode(vCursorParent);\n            if (vCursorDomParent) {\n                const namespaceData = getNewElementNamespaceData(vCursorDomParent, vnode_getElementName(vCursor));\n                namespace = namespaceData.elementNamespace;\n                namespaceFlag = namespaceData.elementNamespaceFlag;\n            }\n            newChildElement = cloneElementWithNamespace(childElement, childElementTag, namespace);\n            childElement.remove();\n            if (rootElement == null) {\n                rootElement = newChildElement;\n            }\n            if (parentElement) {\n                parentElement.appendChild(newChildElement);\n            }\n            // Descend into children\n            // We need first get the first child, if any\n            const vFirstChild = vnode_getFirstChild(vCursor);\n            // Then we can overwrite the cursor with newly created element.\n            // This is because we need to materialize the children before we assign new element\n            vCursor[ElementVNodeProps.element] = newChildElement;\n            // Set correct namespace flag\n            vCursor[VNodeProps.flags] &= VNodeFlags.NEGATED_NAMESPACE_MASK;\n            vCursor[VNodeProps.flags] |= namespaceFlag;\n            if (vFirstChild) {\n                vCursor = vFirstChild;\n                parentElement = newChildElement;\n                continue;\n            }\n            else if (shouldIgnoreChildren(childElement)) {\n                // If we should ignore children of the element this means that the element is a container\n                // We need to get the first child of the container\n                const container = getDomContainerFromQContainerElement(childElement);\n                if (container) {\n                    const innerContainerFirstVNode = vnode_getFirstChild(container.rootVNode);\n                    if (innerContainerFirstVNode) {\n                        vCursor = innerContainerFirstVNode;\n                        parentElement = newChildElement;\n                        continue;\n                    }\n                }\n            }\n        }\n        if (vCursor === elementVNode) {\n            // we are where we started, this means that vNode has no children, so we are done.\n            return rootElement;\n        }\n        // Out of children, go to next sibling\n        const vNextSibling = vnode_getNextSibling(vCursor);\n        if (vNextSibling) {\n            vCursor = vNextSibling;\n            continue;\n        }\n        // Out of siblings, go to parent\n        vParent = vnode_getParent(vCursor);\n        while (vParent) {\n            if (vParent === elementVNode) {\n                // We are back where we started, we are done.\n                return rootElement;\n            }\n            const vNextParentSibling = vnode_getNextSibling(vParent);\n            if (vNextParentSibling) {\n                vCursor = vNextParentSibling;\n                return rootElement;\n            }\n            vParent = vnode_getParent(vParent);\n        }\n        if (vParent == null) {\n            // We are done.\n            return rootElement;\n        }\n    }\n    return rootElement;\n}\nfunction isSvg(tagOrVNode) {\n    return typeof tagOrVNode === 'string'\n        ? isSvgElement(tagOrVNode)\n        : (tagOrVNode[VNodeProps.flags] & VNodeFlags.NS_svg) !== 0;\n}\nfunction isMath(tagOrVNode) {\n    return typeof tagOrVNode === 'string'\n        ? isMathElement(tagOrVNode)\n        : (tagOrVNode[VNodeProps.flags] & VNodeFlags.NS_math) !== 0;\n}\nexport function getNewElementNamespaceData(domParentVNode, tagOrVNode) {\n    const parentIsDefaultNamespace = domParentVNode\n        ? !!vnode_getElementName(domParentVNode) && vnode_isDefaultNamespace(domParentVNode)\n        : true;\n    const parentIsForeignObject = !parentIsDefaultNamespace\n        ? isForeignObjectElement(vnode_getElementName(domParentVNode))\n        : false;\n    let elementNamespace = HTML_NS;\n    let elementNamespaceFlag = VNodeFlags.NS_html;\n    const isElementVNodeOrString = typeof tagOrVNode === 'string' || vnode_isElementVNode(tagOrVNode);\n    if (isElementVNodeOrString && isSvg(tagOrVNode)) {\n        elementNamespace = SVG_NS;\n        elementNamespaceFlag = VNodeFlags.NS_svg;\n    }\n    else if (isElementVNodeOrString && isMath(tagOrVNode)) {\n        elementNamespace = MATH_NS;\n        elementNamespaceFlag = VNodeFlags.NS_math;\n    }\n    else if (domParentVNode && !parentIsForeignObject && !parentIsDefaultNamespace) {\n        const isParentSvg = (domParentVNode[VNodeProps.flags] & VNodeFlags.NS_svg) !== 0;\n        const isParentMath = (domParentVNode[VNodeProps.flags] & VNodeFlags.NS_math) !== 0;\n        elementNamespace = isParentSvg ? SVG_NS : isParentMath ? MATH_NS : HTML_NS;\n        elementNamespaceFlag = domParentVNode[VNodeProps.flags] & VNodeFlags.NAMESPACE_MASK;\n    }\n    return {\n        elementNamespace,\n        elementNamespaceFlag,\n    };\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidm5vZGUtbmFtZXNwYWNlLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL2NsaWVudC92bm9kZS1uYW1lc3BhY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSxFQUFFLE1BQU0seUJBQXlCLENBQUM7QUFDdEYsT0FBTyxFQUFFLG9DQUFvQyxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDdkUsT0FBTyxFQUNMLGlCQUFpQixFQUNqQixjQUFjLEVBQ2QsVUFBVSxFQUNWLFVBQVUsR0FHWCxNQUFNLFNBQVMsQ0FBQztBQUNqQixPQUFPLEVBQ0wsa0JBQWtCLEVBQ2xCLG9CQUFvQixFQUNwQixzQkFBc0IsRUFDdEIsdUJBQXVCLEVBQ3ZCLG9CQUFvQixFQUNwQixtQkFBbUIsRUFDbkIsb0JBQW9CLEVBQ3BCLGVBQWUsRUFDZixvQkFBb0IsRUFDcEIsaUJBQWlCLEdBRWxCLE1BQU0sU0FBUyxDQUFDO0FBRWpCLE1BQU0sQ0FBQyxNQUFNLHNCQUFzQixHQUFHLENBQUMsV0FBbUIsRUFBRSxFQUFFLENBQzVELFdBQVcsQ0FBQyxXQUFXLEVBQUUsS0FBSyxlQUFlLENBQUM7QUFFaEQsTUFBTSxDQUFDLE1BQU0sWUFBWSxHQUFHLENBQUMsV0FBbUIsRUFBRSxFQUFFLENBQ2xELFdBQVcsS0FBSyxLQUFLLElBQUksc0JBQXNCLENBQUMsV0FBVyxDQUFDLENBQUM7QUFFL0QsTUFBTSxDQUFDLE1BQU0sYUFBYSxHQUFHLENBQUMsV0FBbUIsRUFBRSxFQUFFLENBQUMsV0FBVyxLQUFLLE1BQU0sQ0FBQztBQUU3RSxNQUFNLENBQUMsTUFBTSx3QkFBd0IsR0FBRyxDQUFDLEtBQW1CLEVBQVcsRUFBRTtJQUN2RSxNQUFNLEtBQUssR0FBRyxLQUFLLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3RDLE9BQU8sQ0FBQyxLQUFLLEdBQUcsVUFBVSxDQUFDLGNBQWMsQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUNuRCxDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSw4QkFBOEIsR0FBRyxDQUFDLFdBQW1CLEVBQUUsRUFBRTtJQUNwRSxJQUFJLFlBQVksQ0FBQyxXQUFXLENBQUMsRUFBRSxDQUFDO1FBQzlCLE9BQU8sVUFBVSxDQUFDLE1BQU0sQ0FBQztJQUMzQixDQUFDO1NBQU0sSUFBSSxhQUFhLENBQUMsV0FBVyxDQUFDLEVBQUUsQ0FBQztRQUN0QyxPQUFPLFVBQVUsQ0FBQyxPQUFPLENBQUM7SUFDNUIsQ0FBQztTQUFNLENBQUM7UUFDTixPQUFPLFVBQVUsQ0FBQyxPQUFPLENBQUM7SUFDNUIsQ0FBQztBQUNILENBQUMsQ0FBQztBQUVGLE1BQU0sVUFBVSxpREFBaUQsQ0FDL0QsT0FBcUIsRUFDckIsY0FBNEIsRUFDNUIsUUFBZTtJQUVmLE1BQU0sRUFBRSxnQkFBZ0IsRUFBRSxvQkFBb0IsRUFBRSxHQUFHLDBCQUEwQixDQUMzRSxjQUFjLEVBQ2QsUUFBUSxDQUNULENBQUM7SUFFRixJQUFJLFdBQVcsR0FBdUIsRUFBRSxDQUFDO0lBQ3pDLElBQUksZ0JBQWdCLEtBQUssT0FBTyxFQUFFLENBQUM7UUFDakMsMkZBQTJGO1FBQzNGLFdBQVcsR0FBRyxzQkFBc0IsQ0FBQyxPQUFPLEVBQUUsUUFBUSxDQUFDLENBQUM7SUFDMUQsQ0FBQztTQUFNLENBQUM7UUFDTixtR0FBbUc7UUFDbkcsNEVBQTRFO1FBQzVFLE1BQU0sUUFBUSxHQUFHLHNCQUFzQixDQUFDLE9BQU8sRUFBRSxRQUFRLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFFakUsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQztZQUN6QyxNQUFNLFVBQVUsR0FBRyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDL0IsSUFBSSxpQkFBaUIsQ0FBQyxVQUFVLENBQUMsRUFBRSxDQUFDO2dCQUNsQyxpREFBaUQ7Z0JBQ2pELFdBQVcsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQVMsQ0FBQyxDQUFDO2dCQUMxRCxTQUFTO1lBQ1gsQ0FBQztZQUNELElBQ0UsQ0FBQyxVQUFVLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxHQUFHLFVBQVUsQ0FBQyxjQUFjLENBQUM7Z0JBQzFELENBQUMsY0FBYyxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsR0FBRyxVQUFVLENBQUMsY0FBYyxDQUFDLEVBQzlELENBQUM7Z0JBQ0Qsc0ZBQXNGO2dCQUN0RixXQUFXLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxpQkFBaUIsQ0FBQyxPQUFPLENBQVksQ0FBQyxDQUFDO2dCQUNuRSxTQUFTO1lBQ1gsQ0FBQztZQUVELCtDQUErQztZQUMvQyxNQUFNLGVBQWUsR0FBRywrQkFBK0IsQ0FDckQsVUFBVSxFQUNWLGNBQWMsRUFDZCxnQkFBZ0IsRUFDaEIsb0JBQW9CLENBQ3JCLENBQUM7WUFFRixJQUFJLGVBQWUsRUFBRSxDQUFDO2dCQUNwQixXQUFXLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDO1lBQ3BDLENBQUM7UUFDSCxDQUFDO0lBQ0gsQ0FBQztJQUNELE9BQU8sV0FBVyxDQUFDO0FBQ3JCLENBQUM7QUFFRCw0RkFBNEY7QUFDNUYsU0FBUyx5QkFBeUIsQ0FDaEMsT0FBZ0IsRUFDaEIsV0FBbUIsRUFDbkIsU0FBaUI7SUFFakIsTUFBTSxVQUFVLEdBQUcsT0FBTyxDQUFDLGFBQWEsQ0FBQyxlQUFlLENBQUMsU0FBUyxFQUFFLFdBQVcsQ0FBQyxDQUFDO0lBQ2pGLE1BQU0sVUFBVSxHQUFHLE9BQU8sQ0FBQyxVQUFVLENBQUM7SUFDdEMsS0FBSyxNQUFNLFNBQVMsSUFBSSxVQUFVLEVBQUUsQ0FBQztRQUNuQyxNQUFNLElBQUksR0FBRyxTQUFTLENBQUMsSUFBSSxDQUFDO1FBQzVCLE1BQU0sS0FBSyxHQUFHLFNBQVMsQ0FBQyxLQUFLLENBQUM7UUFDOUIsSUFBSSxDQUFDLElBQUksSUFBSSxJQUFJLEtBQUssaUJBQWlCLEVBQUUsQ0FBQztZQUN4QyxTQUFTO1FBQ1gsQ0FBQztRQUNELFVBQVUsQ0FBQyxZQUFZLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQ3ZDLENBQUM7SUFDRCxPQUFPLFVBQVUsQ0FBQztBQUNwQixDQUFDO0FBRUQ7Ozs7R0FJRztBQUNILFNBQVMsK0JBQStCLENBQ3RDLFlBQTBCLEVBQzFCLFdBQXlCLEVBQ3pCLFNBQWlCLEVBQ2pCLGFBQXlCO0lBRXpCLGtCQUFrQixDQUFDLFlBQVksQ0FBQyxDQUFDO0lBQ2pDLElBQUksT0FBTyxHQUFpQixZQUFZLENBQUM7SUFDekMsSUFBSSxPQUFPLEdBQWlCLElBQUksQ0FBQztJQUNqQyxJQUFJLFdBQVcsR0FBbUIsSUFBSSxDQUFDO0lBQ3ZDLElBQUksYUFBYSxHQUFtQixJQUFJLENBQUM7SUFDekMsT0FBTyxPQUFPLEVBQUUsQ0FBQztRQUNmLElBQUksWUFBWSxHQUFtQixJQUFJLENBQUM7UUFDeEMsSUFBSSxlQUFlLEdBQW1CLElBQUksQ0FBQztRQUMzQyxJQUFJLG9CQUFvQixDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUM7WUFDbEMsb0JBQW9CO1lBQ3BCLFlBQVksR0FBRyxPQUFPLENBQUMsaUJBQWlCLENBQUMsT0FBTyxDQUFZLENBQUM7WUFDN0QsTUFBTSxlQUFlLEdBQUcsb0JBQW9CLENBQUMsT0FBTyxDQUFDLENBQUM7WUFFdEQsNERBQTREO1lBQzVELGdDQUFnQztZQUNoQyxNQUFNLGFBQWEsR0FBRyxlQUFlLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDL0MseUZBQXlGO1lBQ3pGLDBDQUEwQztZQUMxQywrQ0FBK0M7WUFDL0MsTUFBTSxnQkFBZ0IsR0FDcEIsV0FBVyxJQUFJLElBQUksQ0FBQyxDQUFDLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxhQUFhLElBQUksdUJBQXVCLENBQUMsYUFBYSxDQUFDLENBQUM7WUFDOUYsSUFBSSxnQkFBZ0IsRUFBRSxDQUFDO2dCQUNyQixNQUFNLGFBQWEsR0FBRywwQkFBMEIsQ0FDOUMsZ0JBQWdCLEVBQ2hCLG9CQUFvQixDQUFDLE9BQU8sQ0FBQyxDQUM5QixDQUFDO2dCQUNGLFNBQVMsR0FBRyxhQUFhLENBQUMsZ0JBQWdCLENBQUM7Z0JBQzNDLGFBQWEsR0FBRyxhQUFhLENBQUMsb0JBQW9CLENBQUM7WUFDckQsQ0FBQztZQUVELGVBQWUsR0FBRyx5QkFBeUIsQ0FBQyxZQUFZLEVBQUUsZUFBZSxFQUFFLFNBQVMsQ0FBQyxDQUFDO1lBRXRGLFlBQVksQ0FBQyxNQUFNLEVBQUUsQ0FBQztZQUV0QixJQUFJLFdBQVcsSUFBSSxJQUFJLEVBQUUsQ0FBQztnQkFDeEIsV0FBVyxHQUFHLGVBQWUsQ0FBQztZQUNoQyxDQUFDO1lBQ0QsSUFBSSxhQUFhLEVBQUUsQ0FBQztnQkFDbEIsYUFBYSxDQUFDLFdBQVcsQ0FBQyxlQUFlLENBQUMsQ0FBQztZQUM3QyxDQUFDO1lBRUQsd0JBQXdCO1lBQ3hCLDRDQUE0QztZQUM1QyxNQUFNLFdBQVcsR0FBRyxtQkFBbUIsQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUNqRCwrREFBK0Q7WUFDL0QsbUZBQW1GO1lBQ25GLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQyxPQUFPLENBQUMsR0FBRyxlQUFlLENBQUM7WUFDckQsNkJBQTZCO1lBQzdCLE9BQU8sQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLElBQUksVUFBVSxDQUFDLHNCQUFzQixDQUFDO1lBQy9ELE9BQU8sQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLElBQUksYUFBYSxDQUFDO1lBQzNDLElBQUksV0FBVyxFQUFFLENBQUM7Z0JBQ2hCLE9BQU8sR0FBRyxXQUFXLENBQUM7Z0JBQ3RCLGFBQWEsR0FBRyxlQUFlLENBQUM7Z0JBQ2hDLFNBQVM7WUFDWCxDQUFDO2lCQUFNLElBQUksb0JBQW9CLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQztnQkFDOUMseUZBQXlGO2dCQUN6RixrREFBa0Q7Z0JBQ2xELE1BQU0sU0FBUyxHQUFHLG9DQUFvQyxDQUFDLFlBQVksQ0FBQyxDQUFDO2dCQUVyRSxJQUFJLFNBQVMsRUFBRSxDQUFDO29CQUNkLE1BQU0sd0JBQXdCLEdBQUcsbUJBQW1CLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDO29CQUMxRSxJQUFJLHdCQUF3QixFQUFFLENBQUM7d0JBQzdCLE9BQU8sR0FBRyx3QkFBd0IsQ0FBQzt3QkFDbkMsYUFBYSxHQUFHLGVBQWUsQ0FBQzt3QkFDaEMsU0FBUztvQkFDWCxDQUFDO2dCQUNILENBQUM7WUFDSCxDQUFDO1FBQ0gsQ0FBQztRQUNELElBQUksT0FBTyxLQUFLLFlBQVksRUFBRSxDQUFDO1lBQzdCLGtGQUFrRjtZQUNsRixPQUFPLFdBQVcsQ0FBQztRQUNyQixDQUFDO1FBQ0Qsc0NBQXNDO1FBQ3RDLE1BQU0sWUFBWSxHQUFHLG9CQUFvQixDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ25ELElBQUksWUFBWSxFQUFFLENBQUM7WUFDakIsT0FBTyxHQUFHLFlBQVksQ0FBQztZQUN2QixTQUFTO1FBQ1gsQ0FBQztRQUNELGdDQUFnQztRQUNoQyxPQUFPLEdBQUcsZUFBZSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ25DLE9BQU8sT0FBTyxFQUFFLENBQUM7WUFDZixJQUFJLE9BQU8sS0FBSyxZQUFZLEVBQUUsQ0FBQztnQkFDN0IsNkNBQTZDO2dCQUM3QyxPQUFPLFdBQVcsQ0FBQztZQUNyQixDQUFDO1lBQ0QsTUFBTSxrQkFBa0IsR0FBRyxvQkFBb0IsQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUN6RCxJQUFJLGtCQUFrQixFQUFFLENBQUM7Z0JBQ3ZCLE9BQU8sR0FBRyxrQkFBa0IsQ0FBQztnQkFDN0IsT0FBTyxXQUFXLENBQUM7WUFDckIsQ0FBQztZQUNELE9BQU8sR0FBRyxlQUFlLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDckMsQ0FBQztRQUNELElBQUksT0FBTyxJQUFJLElBQUksRUFBRSxDQUFDO1lBQ3BCLGVBQWU7WUFDZixPQUFPLFdBQVcsQ0FBQztRQUNyQixDQUFDO0lBQ0gsQ0FBQztJQUNELE9BQU8sV0FBVyxDQUFDO0FBQ3JCLENBQUM7QUFFRCxTQUFTLEtBQUssQ0FBQyxVQUFpQztJQUM5QyxPQUFPLE9BQU8sVUFBVSxLQUFLLFFBQVE7UUFDbkMsQ0FBQyxDQUFDLFlBQVksQ0FBQyxVQUFVLENBQUM7UUFDMUIsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsR0FBRyxVQUFVLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQy9ELENBQUM7QUFFRCxTQUFTLE1BQU0sQ0FBQyxVQUFpQztJQUMvQyxPQUFPLE9BQU8sVUFBVSxLQUFLLFFBQVE7UUFDbkMsQ0FBQyxDQUFDLGFBQWEsQ0FBQyxVQUFVLENBQUM7UUFDM0IsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsR0FBRyxVQUFVLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQ2hFLENBQUM7QUFXRCxNQUFNLFVBQVUsMEJBQTBCLENBQ3hDLGNBQW1DLEVBQ25DLFVBQTBCO0lBRTFCLE1BQU0sd0JBQXdCLEdBQUcsY0FBYztRQUM3QyxDQUFDLENBQUMsQ0FBQyxDQUFDLG9CQUFvQixDQUFDLGNBQWMsQ0FBQyxJQUFJLHdCQUF3QixDQUFDLGNBQWMsQ0FBQztRQUNwRixDQUFDLENBQUMsSUFBSSxDQUFDO0lBQ1QsTUFBTSxxQkFBcUIsR0FBRyxDQUFDLHdCQUF3QjtRQUNyRCxDQUFDLENBQUMsc0JBQXNCLENBQUMsb0JBQW9CLENBQUMsY0FBZSxDQUFDLENBQUM7UUFDL0QsQ0FBQyxDQUFDLEtBQUssQ0FBQztJQUVWLElBQUksZ0JBQWdCLEdBQUcsT0FBTyxDQUFDO0lBQy9CLElBQUksb0JBQW9CLEdBQUcsVUFBVSxDQUFDLE9BQU8sQ0FBQztJQUU5QyxNQUFNLHNCQUFzQixHQUFHLE9BQU8sVUFBVSxLQUFLLFFBQVEsSUFBSSxvQkFBb0IsQ0FBQyxVQUFVLENBQUMsQ0FBQztJQUVsRyxJQUFJLHNCQUFzQixJQUFJLEtBQUssQ0FBQyxVQUFVLENBQUMsRUFBRSxDQUFDO1FBQ2hELGdCQUFnQixHQUFHLE1BQU0sQ0FBQztRQUMxQixvQkFBb0IsR0FBRyxVQUFVLENBQUMsTUFBTSxDQUFDO0lBQzNDLENBQUM7U0FBTSxJQUFJLHNCQUFzQixJQUFJLE1BQU0sQ0FBQyxVQUFVLENBQUMsRUFBRSxDQUFDO1FBQ3hELGdCQUFnQixHQUFHLE9BQU8sQ0FBQztRQUMzQixvQkFBb0IsR0FBRyxVQUFVLENBQUMsT0FBTyxDQUFDO0lBQzVDLENBQUM7U0FBTSxJQUFJLGNBQWMsSUFBSSxDQUFDLHFCQUFxQixJQUFJLENBQUMsd0JBQXdCLEVBQUUsQ0FBQztRQUNqRixNQUFNLFdBQVcsR0FBRyxDQUFDLGNBQWMsQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLEdBQUcsVUFBVSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNqRixNQUFNLFlBQVksR0FBRyxDQUFDLGNBQWMsQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLEdBQUcsVUFBVSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUVuRixnQkFBZ0IsR0FBRyxXQUFXLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQztRQUMzRSxvQkFBb0IsR0FBRyxjQUFjLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxHQUFHLFVBQVUsQ0FBQyxjQUFjLENBQUM7SUFDdEYsQ0FBQztJQUVELE9BQU87UUFDTCxnQkFBZ0I7UUFDaEIsb0JBQW9CO0tBQ3JCLENBQUM7QUFDSixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSFRNTF9OUywgTUFUSF9OUywgUV9QUk9QU19TRVBBUkFUT1IsIFNWR19OUyB9IGZyb20gJy4uL3NoYXJlZC91dGlscy9tYXJrZXJzJztcbmltcG9ydCB7IGdldERvbUNvbnRhaW5lckZyb21RQ29udGFpbmVyRWxlbWVudCB9IGZyb20gJy4vZG9tLWNvbnRhaW5lcic7XG5pbXBvcnQge1xuICBFbGVtZW50Vk5vZGVQcm9wcyxcbiAgVGV4dFZOb2RlUHJvcHMsXG4gIFZOb2RlRmxhZ3MsXG4gIFZOb2RlUHJvcHMsXG4gIHR5cGUgRWxlbWVudFZOb2RlLFxuICB0eXBlIFZOb2RlLFxufSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7XG4gIGVuc3VyZUVsZW1lbnRWTm9kZSxcbiAgc2hvdWxkSWdub3JlQ2hpbGRyZW4sXG4gIHZub2RlX2dldERPTUNoaWxkTm9kZXMsXG4gIHZub2RlX2dldERvbVBhcmVudFZOb2RlLFxuICB2bm9kZV9nZXRFbGVtZW50TmFtZSxcbiAgdm5vZGVfZ2V0Rmlyc3RDaGlsZCxcbiAgdm5vZGVfZ2V0TmV4dFNpYmxpbmcsXG4gIHZub2RlX2dldFBhcmVudCxcbiAgdm5vZGVfaXNFbGVtZW50Vk5vZGUsXG4gIHZub2RlX2lzVGV4dFZOb2RlLFxuICB0eXBlIFZOb2RlSm91cm5hbCxcbn0gZnJvbSAnLi92bm9kZSc7XG5cbmV4cG9ydCBjb25zdCBpc0ZvcmVpZ25PYmplY3RFbGVtZW50ID0gKGVsZW1lbnROYW1lOiBzdHJpbmcpID0+XG4gIGVsZW1lbnROYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdmb3JlaWdub2JqZWN0JztcblxuZXhwb3J0IGNvbnN0IGlzU3ZnRWxlbWVudCA9IChlbGVtZW50TmFtZTogc3RyaW5nKSA9PlxuICBlbGVtZW50TmFtZSA9PT0gJ3N2ZycgfHwgaXNGb3JlaWduT2JqZWN0RWxlbWVudChlbGVtZW50TmFtZSk7XG5cbmV4cG9ydCBjb25zdCBpc01hdGhFbGVtZW50ID0gKGVsZW1lbnROYW1lOiBzdHJpbmcpID0+IGVsZW1lbnROYW1lID09PSAnbWF0aCc7XG5cbmV4cG9ydCBjb25zdCB2bm9kZV9pc0RlZmF1bHROYW1lc3BhY2UgPSAodm5vZGU6IEVsZW1lbnRWTm9kZSk6IGJvb2xlYW4gPT4ge1xuICBjb25zdCBmbGFncyA9IHZub2RlW1ZOb2RlUHJvcHMuZmxhZ3NdO1xuICByZXR1cm4gKGZsYWdzICYgVk5vZGVGbGFncy5OQU1FU1BBQ0VfTUFTSykgPT09IDA7XG59O1xuXG5leHBvcnQgY29uc3Qgdm5vZGVfZ2V0RWxlbWVudE5hbWVzcGFjZUZsYWdzID0gKGVsZW1lbnROYW1lOiBzdHJpbmcpID0+IHtcbiAgaWYgKGlzU3ZnRWxlbWVudChlbGVtZW50TmFtZSkpIHtcbiAgICByZXR1cm4gVk5vZGVGbGFncy5OU19zdmc7XG4gIH0gZWxzZSBpZiAoaXNNYXRoRWxlbWVudChlbGVtZW50TmFtZSkpIHtcbiAgICByZXR1cm4gVk5vZGVGbGFncy5OU19tYXRoO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBWTm9kZUZsYWdzLk5TX2h0bWw7XG4gIH1cbn07XG5cbmV4cG9ydCBmdW5jdGlvbiB2bm9kZV9nZXREb21DaGlsZHJlbldpdGhDb3JyZWN0TmFtZXNwYWNlc1RvSW5zZXJ0KFxuICBqb3VybmFsOiBWTm9kZUpvdXJuYWwsXG4gIGRvbVBhcmVudFZOb2RlOiBFbGVtZW50Vk5vZGUsXG4gIG5ld0NoaWxkOiBWTm9kZVxuKSB7XG4gIGNvbnN0IHsgZWxlbWVudE5hbWVzcGFjZSwgZWxlbWVudE5hbWVzcGFjZUZsYWcgfSA9IGdldE5ld0VsZW1lbnROYW1lc3BhY2VEYXRhKFxuICAgIGRvbVBhcmVudFZOb2RlLFxuICAgIG5ld0NoaWxkXG4gICk7XG5cbiAgbGV0IGRvbUNoaWxkcmVuOiAoRWxlbWVudCB8IFRleHQpW10gPSBbXTtcbiAgaWYgKGVsZW1lbnROYW1lc3BhY2UgPT09IEhUTUxfTlMpIHtcbiAgICAvLyBwYXJlbnQgaXMgaW4gdGhlIGRlZmF1bHQgbmFtZXNwYWNlLCBzbyBqdXN0IGdldCB0aGUgZG9tIGNoaWxkcmVuLiBUaGlzIGlzIHRoZSBmYXN0IHBhdGguXG4gICAgZG9tQ2hpbGRyZW4gPSB2bm9kZV9nZXRET01DaGlsZE5vZGVzKGpvdXJuYWwsIG5ld0NoaWxkKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBwYXJlbnQgaXMgaW4gYSBkaWZmZXJlbnQgbmFtZXNwYWNlLCBzbyB3ZSBuZWVkIHRvIGNsb25lIHRoZSBjaGlsZHJlbiB3aXRoIHRoZSBjb3JyZWN0IG5hbWVzcGFjZS5cbiAgICAvLyBUaGUgbmFtZXNwYWNlIGNhbm5vdCBiZSBjaGFuZ2VkIG9uIG5vZGVzLCBzbyB3ZSBuZWVkIHRvIGNsb25lIHRoZXNlIG5vZGVzXG4gICAgY29uc3QgY2hpbGRyZW4gPSB2bm9kZV9nZXRET01DaGlsZE5vZGVzKGpvdXJuYWwsIG5ld0NoaWxkLCB0cnVlKTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGNoaWxkVk5vZGUgPSBjaGlsZHJlbltpXTtcbiAgICAgIGlmICh2bm9kZV9pc1RleHRWTm9kZShjaGlsZFZOb2RlKSkge1xuICAgICAgICAvLyB0ZXh0IG5vZGVzIGFyZSBhbHdheXMgaW4gdGhlIGRlZmF1bHQgbmFtZXNwYWNlXG4gICAgICAgIGRvbUNoaWxkcmVuLnB1c2goY2hpbGRWTm9kZVtUZXh0Vk5vZGVQcm9wcy5ub2RlXSBhcyBUZXh0KTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAoXG4gICAgICAgIChjaGlsZFZOb2RlW1ZOb2RlUHJvcHMuZmxhZ3NdICYgVk5vZGVGbGFncy5OQU1FU1BBQ0VfTUFTSykgPT09XG4gICAgICAgIChkb21QYXJlbnRWTm9kZVtWTm9kZVByb3BzLmZsYWdzXSAmIFZOb2RlRmxhZ3MuTkFNRVNQQUNFX01BU0spXG4gICAgICApIHtcbiAgICAgICAgLy8gaWYgdGhlIGNoaWxkIGFuZCBwYXJlbnQgaGF2ZSB0aGUgc2FtZSBuYW1lc3BhY2UsIHdlIGRvbid0IG5lZWQgdG8gY2xvbmUgdGhlIGVsZW1lbnRcbiAgICAgICAgZG9tQ2hpbGRyZW4ucHVzaChjaGlsZFZOb2RlW0VsZW1lbnRWTm9kZVByb3BzLmVsZW1lbnRdIGFzIEVsZW1lbnQpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgLy8gY2xvbmUgdGhlIGVsZW1lbnQgd2l0aCB0aGUgY29ycmVjdCBuYW1lc3BhY2VcbiAgICAgIGNvbnN0IG5ld0NoaWxkRWxlbWVudCA9IHZub2RlX2Nsb25lRWxlbWVudFdpdGhOYW1lc3BhY2UoXG4gICAgICAgIGNoaWxkVk5vZGUsXG4gICAgICAgIGRvbVBhcmVudFZOb2RlLFxuICAgICAgICBlbGVtZW50TmFtZXNwYWNlLFxuICAgICAgICBlbGVtZW50TmFtZXNwYWNlRmxhZ1xuICAgICAgKTtcblxuICAgICAgaWYgKG5ld0NoaWxkRWxlbWVudCkge1xuICAgICAgICBkb21DaGlsZHJlbi5wdXNoKG5ld0NoaWxkRWxlbWVudCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBkb21DaGlsZHJlbjtcbn1cblxuLyoqIFRoaXMgZnVuY3Rpb24gY2xvbmVzIGFuIGVsZW1lbnQgd2l0aCBhIGRpZmZlcmVudCBuYW1lc3BhY2UsIGJ1dCB3aXRob3V0IHRoZSBjaGlsZHJlbi4gKi9cbmZ1bmN0aW9uIGNsb25lRWxlbWVudFdpdGhOYW1lc3BhY2UoXG4gIGVsZW1lbnQ6IEVsZW1lbnQsXG4gIGVsZW1lbnROYW1lOiBzdHJpbmcsXG4gIG5hbWVzcGFjZTogc3RyaW5nXG4pOiBFbGVtZW50IHtcbiAgY29uc3QgbmV3RWxlbWVudCA9IGVsZW1lbnQub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobmFtZXNwYWNlLCBlbGVtZW50TmFtZSk7XG4gIGNvbnN0IGF0dHJpYnV0ZXMgPSBlbGVtZW50LmF0dHJpYnV0ZXM7XG4gIGZvciAoY29uc3QgYXR0cmlidXRlIG9mIGF0dHJpYnV0ZXMpIHtcbiAgICBjb25zdCBuYW1lID0gYXR0cmlidXRlLm5hbWU7XG4gICAgY29uc3QgdmFsdWUgPSBhdHRyaWJ1dGUudmFsdWU7XG4gICAgaWYgKCFuYW1lIHx8IG5hbWUgPT09IFFfUFJPUFNfU0VQQVJBVE9SKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgbmV3RWxlbWVudC5zZXRBdHRyaWJ1dGUobmFtZSwgdmFsdWUpO1xuICB9XG4gIHJldHVybiBuZXdFbGVtZW50O1xufVxuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gY2xvbmVzIGFuIEVsZW1lbnRWTm9kZSB3aXRoIGEgZGlmZmVyZW50IG5hbWVzcGFjZSwgaW5jbHVkaW5nIHRoZSBjaGlsZHJlbi4gVGhpc1xuICogdHJhdmVyc2UgdGhlIHRyZWUgdXNpbmcgZGVwdGgtZmlyc3Qgc2VhcmNoIGFuZCBjbG9uZXMgdGhlIGVsZW1lbnRzIHVzaW5nXG4gKiBgY2xvbmVFbGVtZW50V2l0aE5hbWVzcGFjZWAuXG4gKi9cbmZ1bmN0aW9uIHZub2RlX2Nsb25lRWxlbWVudFdpdGhOYW1lc3BhY2UoXG4gIGVsZW1lbnRWTm9kZTogRWxlbWVudFZOb2RlLFxuICBwYXJlbnRWTm9kZTogRWxlbWVudFZOb2RlLFxuICBuYW1lc3BhY2U6IHN0cmluZyxcbiAgbmFtZXNwYWNlRmxhZzogVk5vZGVGbGFnc1xuKSB7XG4gIGVuc3VyZUVsZW1lbnRWTm9kZShlbGVtZW50Vk5vZGUpO1xuICBsZXQgdkN1cnNvcjogVk5vZGUgfCBudWxsID0gZWxlbWVudFZOb2RlO1xuICBsZXQgdlBhcmVudDogVk5vZGUgfCBudWxsID0gbnVsbDtcbiAgbGV0IHJvb3RFbGVtZW50OiBFbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIGxldCBwYXJlbnRFbGVtZW50OiBFbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIHdoaWxlICh2Q3Vyc29yKSB7XG4gICAgbGV0IGNoaWxkRWxlbWVudDogRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICAgIGxldCBuZXdDaGlsZEVsZW1lbnQ6IEVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgICBpZiAodm5vZGVfaXNFbGVtZW50Vk5vZGUodkN1cnNvcikpIHtcbiAgICAgIC8vIENsb25lIHRoZSBlbGVtZW50XG4gICAgICBjaGlsZEVsZW1lbnQgPSB2Q3Vyc29yW0VsZW1lbnRWTm9kZVByb3BzLmVsZW1lbnRdIGFzIEVsZW1lbnQ7XG4gICAgICBjb25zdCBjaGlsZEVsZW1lbnRUYWcgPSB2bm9kZV9nZXRFbGVtZW50TmFtZSh2Q3Vyc29yKTtcblxuICAgICAgLy8gV2UgbmVlZCB0byBjaGVjayBpZiB0aGUgcGFyZW50IGlzIGEgZm9yZWlnbk9iamVjdCBlbGVtZW50XG4gICAgICAvLyBhbmQgZ2V0IGEgbmV3IG5hbWVzcGFjZSBkYXRhLlxuICAgICAgY29uc3QgdkN1cnNvclBhcmVudCA9IHZub2RlX2dldFBhcmVudCh2Q3Vyc29yKTtcbiAgICAgIC8vIEZvciB0aGUgZmlyc3Qgdk5vZGUgcGFyZW50Tm9kZSBpcyBub3QgcGFyZW50IGZyb20gdk5vZGUgdHJlZSwgYnV0IHBhcmVudCBmcm9tIERPTSB0cmVlXG4gICAgICAvLyB0aGlzIGlzIGJlY2F1c2Ugdk5vZGUgaXMgbm90IG1vdmVkIHlldC5cbiAgICAgIC8vIHJvb3RFbGVtZW50IGlzIG51bGwgb25seSBmb3IgdGhlIGZpcnN0IHZOb2RlXG4gICAgICBjb25zdCB2Q3Vyc29yRG9tUGFyZW50ID1cbiAgICAgICAgcm9vdEVsZW1lbnQgPT0gbnVsbCA/IHBhcmVudFZOb2RlIDogdkN1cnNvclBhcmVudCAmJiB2bm9kZV9nZXREb21QYXJlbnRWTm9kZSh2Q3Vyc29yUGFyZW50KTtcbiAgICAgIGlmICh2Q3Vyc29yRG9tUGFyZW50KSB7XG4gICAgICAgIGNvbnN0IG5hbWVzcGFjZURhdGEgPSBnZXROZXdFbGVtZW50TmFtZXNwYWNlRGF0YShcbiAgICAgICAgICB2Q3Vyc29yRG9tUGFyZW50LFxuICAgICAgICAgIHZub2RlX2dldEVsZW1lbnROYW1lKHZDdXJzb3IpXG4gICAgICAgICk7XG4gICAgICAgIG5hbWVzcGFjZSA9IG5hbWVzcGFjZURhdGEuZWxlbWVudE5hbWVzcGFjZTtcbiAgICAgICAgbmFtZXNwYWNlRmxhZyA9IG5hbWVzcGFjZURhdGEuZWxlbWVudE5hbWVzcGFjZUZsYWc7XG4gICAgICB9XG5cbiAgICAgIG5ld0NoaWxkRWxlbWVudCA9IGNsb25lRWxlbWVudFdpdGhOYW1lc3BhY2UoY2hpbGRFbGVtZW50LCBjaGlsZEVsZW1lbnRUYWcsIG5hbWVzcGFjZSk7XG5cbiAgICAgIGNoaWxkRWxlbWVudC5yZW1vdmUoKTtcblxuICAgICAgaWYgKHJvb3RFbGVtZW50ID09IG51bGwpIHtcbiAgICAgICAgcm9vdEVsZW1lbnQgPSBuZXdDaGlsZEVsZW1lbnQ7XG4gICAgICB9XG4gICAgICBpZiAocGFyZW50RWxlbWVudCkge1xuICAgICAgICBwYXJlbnRFbGVtZW50LmFwcGVuZENoaWxkKG5ld0NoaWxkRWxlbWVudCk7XG4gICAgICB9XG5cbiAgICAgIC8vIERlc2NlbmQgaW50byBjaGlsZHJlblxuICAgICAgLy8gV2UgbmVlZCBmaXJzdCBnZXQgdGhlIGZpcnN0IGNoaWxkLCBpZiBhbnlcbiAgICAgIGNvbnN0IHZGaXJzdENoaWxkID0gdm5vZGVfZ2V0Rmlyc3RDaGlsZCh2Q3Vyc29yKTtcbiAgICAgIC8vIFRoZW4gd2UgY2FuIG92ZXJ3cml0ZSB0aGUgY3Vyc29yIHdpdGggbmV3bHkgY3JlYXRlZCBlbGVtZW50LlxuICAgICAgLy8gVGhpcyBpcyBiZWNhdXNlIHdlIG5lZWQgdG8gbWF0ZXJpYWxpemUgdGhlIGNoaWxkcmVuIGJlZm9yZSB3ZSBhc3NpZ24gbmV3IGVsZW1lbnRcbiAgICAgIHZDdXJzb3JbRWxlbWVudFZOb2RlUHJvcHMuZWxlbWVudF0gPSBuZXdDaGlsZEVsZW1lbnQ7XG4gICAgICAvLyBTZXQgY29ycmVjdCBuYW1lc3BhY2UgZmxhZ1xuICAgICAgdkN1cnNvcltWTm9kZVByb3BzLmZsYWdzXSAmPSBWTm9kZUZsYWdzLk5FR0FURURfTkFNRVNQQUNFX01BU0s7XG4gICAgICB2Q3Vyc29yW1ZOb2RlUHJvcHMuZmxhZ3NdIHw9IG5hbWVzcGFjZUZsYWc7XG4gICAgICBpZiAodkZpcnN0Q2hpbGQpIHtcbiAgICAgICAgdkN1cnNvciA9IHZGaXJzdENoaWxkO1xuICAgICAgICBwYXJlbnRFbGVtZW50ID0gbmV3Q2hpbGRFbGVtZW50O1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH0gZWxzZSBpZiAoc2hvdWxkSWdub3JlQ2hpbGRyZW4oY2hpbGRFbGVtZW50KSkge1xuICAgICAgICAvLyBJZiB3ZSBzaG91bGQgaWdub3JlIGNoaWxkcmVuIG9mIHRoZSBlbGVtZW50IHRoaXMgbWVhbnMgdGhhdCB0aGUgZWxlbWVudCBpcyBhIGNvbnRhaW5lclxuICAgICAgICAvLyBXZSBuZWVkIHRvIGdldCB0aGUgZmlyc3QgY2hpbGQgb2YgdGhlIGNvbnRhaW5lclxuICAgICAgICBjb25zdCBjb250YWluZXIgPSBnZXREb21Db250YWluZXJGcm9tUUNvbnRhaW5lckVsZW1lbnQoY2hpbGRFbGVtZW50KTtcblxuICAgICAgICBpZiAoY29udGFpbmVyKSB7XG4gICAgICAgICAgY29uc3QgaW5uZXJDb250YWluZXJGaXJzdFZOb2RlID0gdm5vZGVfZ2V0Rmlyc3RDaGlsZChjb250YWluZXIucm9vdFZOb2RlKTtcbiAgICAgICAgICBpZiAoaW5uZXJDb250YWluZXJGaXJzdFZOb2RlKSB7XG4gICAgICAgICAgICB2Q3Vyc29yID0gaW5uZXJDb250YWluZXJGaXJzdFZOb2RlO1xuICAgICAgICAgICAgcGFyZW50RWxlbWVudCA9IG5ld0NoaWxkRWxlbWVudDtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAodkN1cnNvciA9PT0gZWxlbWVudFZOb2RlKSB7XG4gICAgICAvLyB3ZSBhcmUgd2hlcmUgd2Ugc3RhcnRlZCwgdGhpcyBtZWFucyB0aGF0IHZOb2RlIGhhcyBubyBjaGlsZHJlbiwgc28gd2UgYXJlIGRvbmUuXG4gICAgICByZXR1cm4gcm9vdEVsZW1lbnQ7XG4gICAgfVxuICAgIC8vIE91dCBvZiBjaGlsZHJlbiwgZ28gdG8gbmV4dCBzaWJsaW5nXG4gICAgY29uc3Qgdk5leHRTaWJsaW5nID0gdm5vZGVfZ2V0TmV4dFNpYmxpbmcodkN1cnNvcik7XG4gICAgaWYgKHZOZXh0U2libGluZykge1xuICAgICAgdkN1cnNvciA9IHZOZXh0U2libGluZztcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICAvLyBPdXQgb2Ygc2libGluZ3MsIGdvIHRvIHBhcmVudFxuICAgIHZQYXJlbnQgPSB2bm9kZV9nZXRQYXJlbnQodkN1cnNvcik7XG4gICAgd2hpbGUgKHZQYXJlbnQpIHtcbiAgICAgIGlmICh2UGFyZW50ID09PSBlbGVtZW50Vk5vZGUpIHtcbiAgICAgICAgLy8gV2UgYXJlIGJhY2sgd2hlcmUgd2Ugc3RhcnRlZCwgd2UgYXJlIGRvbmUuXG4gICAgICAgIHJldHVybiByb290RWxlbWVudDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHZOZXh0UGFyZW50U2libGluZyA9IHZub2RlX2dldE5leHRTaWJsaW5nKHZQYXJlbnQpO1xuICAgICAgaWYgKHZOZXh0UGFyZW50U2libGluZykge1xuICAgICAgICB2Q3Vyc29yID0gdk5leHRQYXJlbnRTaWJsaW5nO1xuICAgICAgICByZXR1cm4gcm9vdEVsZW1lbnQ7XG4gICAgICB9XG4gICAgICB2UGFyZW50ID0gdm5vZGVfZ2V0UGFyZW50KHZQYXJlbnQpO1xuICAgIH1cbiAgICBpZiAodlBhcmVudCA9PSBudWxsKSB7XG4gICAgICAvLyBXZSBhcmUgZG9uZS5cbiAgICAgIHJldHVybiByb290RWxlbWVudDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJvb3RFbGVtZW50O1xufVxuXG5mdW5jdGlvbiBpc1N2Zyh0YWdPclZOb2RlOiBzdHJpbmcgfCBFbGVtZW50Vk5vZGUpOiBib29sZWFuIHtcbiAgcmV0dXJuIHR5cGVvZiB0YWdPclZOb2RlID09PSAnc3RyaW5nJ1xuICAgID8gaXNTdmdFbGVtZW50KHRhZ09yVk5vZGUpXG4gICAgOiAodGFnT3JWTm9kZVtWTm9kZVByb3BzLmZsYWdzXSAmIFZOb2RlRmxhZ3MuTlNfc3ZnKSAhPT0gMDtcbn1cblxuZnVuY3Rpb24gaXNNYXRoKHRhZ09yVk5vZGU6IHN0cmluZyB8IEVsZW1lbnRWTm9kZSk6IGJvb2xlYW4ge1xuICByZXR1cm4gdHlwZW9mIHRhZ09yVk5vZGUgPT09ICdzdHJpbmcnXG4gICAgPyBpc01hdGhFbGVtZW50KHRhZ09yVk5vZGUpXG4gICAgOiAodGFnT3JWTm9kZVtWTm9kZVByb3BzLmZsYWdzXSAmIFZOb2RlRmxhZ3MuTlNfbWF0aCkgIT09IDA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXROZXdFbGVtZW50TmFtZXNwYWNlRGF0YShcbiAgZG9tUGFyZW50Vk5vZGU6IEVsZW1lbnRWTm9kZSB8IG51bGwsXG4gIGVsZW1lbnROYW1lOiBzdHJpbmdcbik6IE5ld0VsZW1lbnROYW1lc3BhY2VEYXRhO1xuZXhwb3J0IGZ1bmN0aW9uIGdldE5ld0VsZW1lbnROYW1lc3BhY2VEYXRhKFxuICBkb21QYXJlbnRWTm9kZTogRWxlbWVudFZOb2RlIHwgbnVsbCxcbiAgdm5vZGU6IFZOb2RlXG4pOiBOZXdFbGVtZW50TmFtZXNwYWNlRGF0YTtcblxuZXhwb3J0IGZ1bmN0aW9uIGdldE5ld0VsZW1lbnROYW1lc3BhY2VEYXRhKFxuICBkb21QYXJlbnRWTm9kZTogRWxlbWVudFZOb2RlIHwgbnVsbCxcbiAgdGFnT3JWTm9kZTogc3RyaW5nIHwgVk5vZGVcbik6IE5ld0VsZW1lbnROYW1lc3BhY2VEYXRhIHtcbiAgY29uc3QgcGFyZW50SXNEZWZhdWx0TmFtZXNwYWNlID0gZG9tUGFyZW50Vk5vZGVcbiAgICA/ICEhdm5vZGVfZ2V0RWxlbWVudE5hbWUoZG9tUGFyZW50Vk5vZGUpICYmIHZub2RlX2lzRGVmYXVsdE5hbWVzcGFjZShkb21QYXJlbnRWTm9kZSlcbiAgICA6IHRydWU7XG4gIGNvbnN0IHBhcmVudElzRm9yZWlnbk9iamVjdCA9ICFwYXJlbnRJc0RlZmF1bHROYW1lc3BhY2VcbiAgICA/IGlzRm9yZWlnbk9iamVjdEVsZW1lbnQodm5vZGVfZ2V0RWxlbWVudE5hbWUoZG9tUGFyZW50Vk5vZGUhKSlcbiAgICA6IGZhbHNlO1xuXG4gIGxldCBlbGVtZW50TmFtZXNwYWNlID0gSFRNTF9OUztcbiAgbGV0IGVsZW1lbnROYW1lc3BhY2VGbGFnID0gVk5vZGVGbGFncy5OU19odG1sO1xuXG4gIGNvbnN0IGlzRWxlbWVudFZOb2RlT3JTdHJpbmcgPSB0eXBlb2YgdGFnT3JWTm9kZSA9PT0gJ3N0cmluZycgfHwgdm5vZGVfaXNFbGVtZW50Vk5vZGUodGFnT3JWTm9kZSk7XG5cbiAgaWYgKGlzRWxlbWVudFZOb2RlT3JTdHJpbmcgJiYgaXNTdmcodGFnT3JWTm9kZSkpIHtcbiAgICBlbGVtZW50TmFtZXNwYWNlID0gU1ZHX05TO1xuICAgIGVsZW1lbnROYW1lc3BhY2VGbGFnID0gVk5vZGVGbGFncy5OU19zdmc7XG4gIH0gZWxzZSBpZiAoaXNFbGVtZW50Vk5vZGVPclN0cmluZyAmJiBpc01hdGgodGFnT3JWTm9kZSkpIHtcbiAgICBlbGVtZW50TmFtZXNwYWNlID0gTUFUSF9OUztcbiAgICBlbGVtZW50TmFtZXNwYWNlRmxhZyA9IFZOb2RlRmxhZ3MuTlNfbWF0aDtcbiAgfSBlbHNlIGlmIChkb21QYXJlbnRWTm9kZSAmJiAhcGFyZW50SXNGb3JlaWduT2JqZWN0ICYmICFwYXJlbnRJc0RlZmF1bHROYW1lc3BhY2UpIHtcbiAgICBjb25zdCBpc1BhcmVudFN2ZyA9IChkb21QYXJlbnRWTm9kZVtWTm9kZVByb3BzLmZsYWdzXSAmIFZOb2RlRmxhZ3MuTlNfc3ZnKSAhPT0gMDtcbiAgICBjb25zdCBpc1BhcmVudE1hdGggPSAoZG9tUGFyZW50Vk5vZGVbVk5vZGVQcm9wcy5mbGFnc10gJiBWTm9kZUZsYWdzLk5TX21hdGgpICE9PSAwO1xuXG4gICAgZWxlbWVudE5hbWVzcGFjZSA9IGlzUGFyZW50U3ZnID8gU1ZHX05TIDogaXNQYXJlbnRNYXRoID8gTUFUSF9OUyA6IEhUTUxfTlM7XG4gICAgZWxlbWVudE5hbWVzcGFjZUZsYWcgPSBkb21QYXJlbnRWTm9kZVtWTm9kZVByb3BzLmZsYWdzXSAmIFZOb2RlRmxhZ3MuTkFNRVNQQUNFX01BU0s7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGVsZW1lbnROYW1lc3BhY2UsXG4gICAgZWxlbWVudE5hbWVzcGFjZUZsYWcsXG4gIH07XG59XG5cbmludGVyZmFjZSBOZXdFbGVtZW50TmFtZXNwYWNlRGF0YSB7XG4gIGVsZW1lbnROYW1lc3BhY2U6IHN0cmluZztcbiAgZWxlbWVudE5hbWVzcGFjZUZsYWc6IG51bWJlcjtcbn1cbiJdfQ==","import { useInvokeContext } from './use-core';\nimport {} from '../shared/jsx/types/jsx-qwik-events';\nimport { USE_ON_LOCAL, USE_ON_LOCAL_FLAGS, USE_ON_LOCAL_SEQ_IDX } from '../shared/utils/markers';\n// <docs markdown=\"../readme.md#useOn\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useOn instead)\n/**\n * Register a listener on the current component's host element.\n *\n * Used to programmatically add event listeners. Useful from custom `use*` methods, which do not\n * have access to the JSX. Otherwise, it's adding a JSX listener in the `<div>` is a better idea.\n *\n * @public\n * @see `useOn`, `useOnWindow`, `useOnDocument`.\n */\n// </docs>\nexport const useOn = (event, eventQrl) => {\n    _useOn(createEventName(event, undefined), eventQrl);\n};\n// <docs markdown=\"../readme.md#useOnDocument\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useOnDocument instead)\n/**\n * Register a listener on `document`.\n *\n * Used to programmatically add event listeners. Useful from custom `use*` methods, which do not\n * have access to the JSX.\n *\n * @public\n * @see `useOn`, `useOnWindow`, `useOnDocument`.\n *\n * ```tsx\n * function useScroll() {\n *   useOnDocument(\n *     'scroll',\n *     $((event) => {\n *       console.log('body scrolled', event);\n *     })\n *   );\n * }\n *\n * const Cmp = component$(() => {\n *   useScroll();\n *   return <div>Profit!</div>;\n * });\n * ```\n */\n// </docs>\nexport const useOnDocument = (event, eventQrl) => {\n    _useOn(createEventName(event, 'document'), eventQrl);\n};\n// <docs markdown=\"../readme.md#useOnWindow\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useOnWindow instead)\n/**\n * Register a listener on `window`.\n *\n * Used to programmatically add event listeners. Useful from custom `use*` methods, which do not\n * have access to the JSX.\n *\n * @public\n * @see `useOn`, `useOnWindow`, `useOnDocument`.\n *\n * ```tsx\n * function useAnalytics() {\n *   useOnWindow(\n *     'popstate',\n *     $((event) => {\n *       console.log('navigation happened', event);\n *       // report to analytics\n *     })\n *   );\n * }\n *\n * const Cmp = component$(() => {\n *   useAnalytics();\n *   return <div>Profit!</div>;\n * });\n * ```\n */\n// </docs>\nexport const useOnWindow = (event, eventQrl) => {\n    _useOn(createEventName(event, 'window'), eventQrl);\n};\nconst createEventName = (event, eventType) => {\n    const prefix = eventType !== undefined ? eventType + ':' : '';\n    const map = (name) => prefix + 'on' + name.charAt(0).toUpperCase() + name.substring(1) + '$';\n    const res = Array.isArray(event) ? event.map(map) : map(event);\n    return res;\n};\nconst _useOn = (eventName, eventQrl) => {\n    const { isAdded, addEvent } = useOnEventsSequentialScope();\n    if (isAdded) {\n        return;\n    }\n    if (eventQrl) {\n        Array.isArray(eventName)\n            ? eventName.forEach((event) => addEvent(event, eventQrl))\n            : addEvent(eventName, eventQrl);\n    }\n};\n/**\n * This hook is like the `useSequentialScope` but it is specifically for `useOn`. This is needed\n * because we want to execute the `useOn` hooks only once and store the event listeners on the host\n * element. From Qwik V2 the component is rerunning when the promise is thrown, so we need to make\n * sure that the event listeners are not added multiple times.\n *\n * - The event listeners are stored in the `USE_ON_LOCAL` property.\n * - The `USE_ON_LOCAL_SEQ_IDX` is used to keep track of the index of the hook that calls this.\n * - The `USE_ON_LOCAL_FLAGS` is used to keep track of whether the event listener has been added or\n *   not.\n */\nconst useOnEventsSequentialScope = () => {\n    const iCtx = useInvokeContext();\n    const hostElement = iCtx.$hostElement$;\n    const host = hostElement;\n    let onMap = iCtx.$container$.getHostProp(host, USE_ON_LOCAL);\n    if (onMap === null) {\n        onMap = {};\n        iCtx.$container$.setHostProp(host, USE_ON_LOCAL, onMap);\n    }\n    let seqIdx = iCtx.$container$.getHostProp(host, USE_ON_LOCAL_SEQ_IDX);\n    if (seqIdx === null) {\n        seqIdx = 0;\n    }\n    iCtx.$container$.setHostProp(host, USE_ON_LOCAL_SEQ_IDX, seqIdx + 1);\n    let addedFlags = iCtx.$container$.getHostProp(host, USE_ON_LOCAL_FLAGS);\n    if (addedFlags === null) {\n        addedFlags = [];\n        iCtx.$container$.setHostProp(host, USE_ON_LOCAL_FLAGS, addedFlags);\n    }\n    while (addedFlags.length <= seqIdx) {\n        addedFlags.push(false);\n    }\n    const addEvent = (eventName, eventQrl) => {\n        addedFlags[seqIdx] = true;\n        let events = onMap[eventName];\n        if (!events) {\n            onMap[eventName] = events = [];\n        }\n        events.push(eventQrl);\n    };\n    return {\n        isAdded: addedFlags[seqIdx],\n        addEvent,\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLW9uLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3VzZS91c2Utb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sWUFBWSxDQUFDO0FBQzlDLE9BQU8sRUFBd0IsTUFBTSxxQ0FBcUMsQ0FBQztBQU8zRSxPQUFPLEVBQUUsWUFBWSxFQUFFLGtCQUFrQixFQUFFLG9CQUFvQixFQUFFLE1BQU0seUJBQXlCLENBQUM7QUFNakcsdUNBQXVDO0FBQ3ZDLHlDQUF5QztBQUN6QyxvQ0FBb0M7QUFDcEM7Ozs7Ozs7O0dBUUc7QUFDSCxVQUFVO0FBQ1YsTUFBTSxDQUFDLE1BQU0sS0FBSyxHQUFHLENBQTRCLEtBQWMsRUFBRSxRQUFxQixFQUFFLEVBQUU7SUFDeEYsTUFBTSxDQUFDLGVBQWUsQ0FBQyxLQUFLLEVBQUUsU0FBUyxDQUFDLEVBQUUsUUFBUSxDQUFDLENBQUM7QUFDdEQsQ0FBQyxDQUFDO0FBRUYsK0NBQStDO0FBQy9DLHlDQUF5QztBQUN6Qyw0Q0FBNEM7QUFDNUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQXdCRztBQUNILFVBQVU7QUFDVixNQUFNLENBQUMsTUFBTSxhQUFhLEdBQUcsQ0FBNEIsS0FBYyxFQUFFLFFBQXFCLEVBQUUsRUFBRTtJQUNoRyxNQUFNLENBQUMsZUFBZSxDQUFDLEtBQUssRUFBRSxVQUFVLENBQUMsRUFBRSxRQUFRLENBQUMsQ0FBQztBQUN2RCxDQUFDLENBQUM7QUFFRiw2Q0FBNkM7QUFDN0MseUNBQXlDO0FBQ3pDLDBDQUEwQztBQUMxQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQXlCRztBQUNILFVBQVU7QUFDVixNQUFNLENBQUMsTUFBTSxXQUFXLEdBQUcsQ0FBNEIsS0FBYyxFQUFFLFFBQXFCLEVBQUUsRUFBRTtJQUM5RixNQUFNLENBQUMsZUFBZSxDQUFDLEtBQUssRUFBRSxRQUFRLENBQUMsRUFB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QUFJLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDekIsQ0FBQztJQUNELE1BQU0sUUFBUSxHQUFHLENBQUMsU0FBaUIsRUFBRSxRQUFtQyxFQUFFLEVBQUU7UUFDMUUsVUFBVSxDQUFDLE1BQU0sQ0FBQyxHQUFHLElBQUksQ0FBQztRQUMxQixJQUFJLE1BQU0sR0FBRyxLQUFNLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDL0IsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO1lBQ1osS0FBTSxDQUFDLFNBQVMsQ0FBQyxHQUFHLE1BQU0sR0FBRyxFQUFFLENBQUM7UUFDbEMsQ0FBQztRQUNELE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDeEIsQ0FBQyxDQUFDO0lBRUYsT0FBTztRQUNMLE9BQU8sRUFBRSxVQUFVLENBQUMsTUFBTSxDQUFDO1FBQzNCLFFBQVE7S0FDVCxDQUFDO0FBQ0osQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBRUkwgfSBmcm9tICcuLi9zaGFyZWQvcXJsL3FybC5wdWJsaWMnO1xuaW1wb3J0IHsgdXNlSW52b2tlQ29udGV4dCB9IGZyb20gJy4vdXNlLWNvcmUnO1xuaW1wb3J0IHsgdHlwZSBLbm93bkV2ZW50TmFtZXMgfSBmcm9tICcuLi9zaGFyZWQvanN4L3R5cGVzL2pzeC1xd2lrLWV2ZW50cyc7XG5pbXBvcnQgdHlwZSB7XG4gIEV2ZW50SGFuZGxlcixcbiAgRXZlbnRGcm9tTmFtZSxcbiAgQWxsRXZlbnRLZXlzLFxufSBmcm9tICcuLi9zaGFyZWQvanN4L3R5cGVzL2pzeC1xd2lrLWF0dHJpYnV0ZXMnO1xuaW1wb3J0IHR5cGUgeyBIb3N0RWxlbWVudCB9IGZyb20gJy4uL3NoYXJlZC90eXBlcyc7XG5pbXBvcnQgeyBVU0VfT05fTE9DQUwsIFVTRV9PTl9MT0NBTF9GTEFHUywgVVNFX09OX0xPQ0FMX1NFUV9JRFggfSBmcm9tICcuLi9zaGFyZWQvdXRpbHMvbWFya2Vycyc7XG5cbmV4cG9ydCB0eXBlIEV2ZW50UVJMPFQgZXh0ZW5kcyBzdHJpbmcgPSBBbGxFdmVudEtleXM+ID1cbiAgfCBRUkw8RXZlbnRIYW5kbGVyPEV2ZW50RnJvbU5hbWU8VD4sIEVsZW1lbnQ+PlxuICB8IHVuZGVmaW5lZDtcblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi9yZWFkbWUubWQjdXNlT25cIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjdXNlT24gaW5zdGVhZClcbi8qKlxuICogUmVnaXN0ZXIgYSBsaXN0ZW5lciBvbiB0aGUgY3VycmVudCBjb21wb25lbnQncyBob3N0IGVsZW1lbnQuXG4gKlxuICogVXNlZCB0byBwcm9ncmFtbWF0aWNhbGx5IGFkZCBldmVudCBsaXN0ZW5lcnMuIFVzZWZ1bCBmcm9tIGN1c3RvbSBgdXNlKmAgbWV0aG9kcywgd2hpY2ggZG8gbm90XG4gKiBoYXZlIGFjY2VzcyB0byB0aGUgSlNYLiBPdGhlcndpc2UsIGl0J3MgYWRkaW5nIGEgSlNYIGxpc3RlbmVyIGluIHRoZSBgPGRpdj5gIGlzIGEgYmV0dGVyIGlkZWEuXG4gKlxuICogQHB1YmxpY1xuICogQHNlZSBgdXNlT25gLCBgdXNlT25XaW5kb3dgLCBgdXNlT25Eb2N1bWVudGAuXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBjb25zdCB1c2VPbiA9IDxUIGV4dGVuZHMgS25vd25FdmVudE5hbWVzPihldmVudDogVCB8IFRbXSwgZXZlbnRRcmw6IEV2ZW50UVJMPFQ+KSA9PiB7XG4gIF91c2VPbihjcmVhdGVFdmVudE5hbWUoZXZlbnQsIHVuZGVmaW5lZCksIGV2ZW50UXJsKTtcbn07XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kI3VzZU9uRG9jdW1lbnRcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjdXNlT25Eb2N1bWVudCBpbnN0ZWFkKVxuLyoqXG4gKiBSZWdpc3RlciBhIGxpc3RlbmVyIG9uIGBkb2N1bWVudGAuXG4gKlxuICogVXNlZCB0byBwcm9ncmFtbWF0aWNhbGx5IGFkZCBldmVudCBsaXN0ZW5lcnMuIFVzZWZ1bCBmcm9tIGN1c3RvbSBgdXNlKmAgbWV0aG9kcywgd2hpY2ggZG8gbm90XG4gKiBoYXZlIGFjY2VzcyB0byB0aGUgSlNYLlxuICpcbiAqIEBwdWJsaWNcbiAqIEBzZWUgYHVzZU9uYCwgYHVzZU9uV2luZG93YCwgYHVzZU9uRG9jdW1lbnRgLlxuICpcbiAqIGBgYHRzeFxuICogZnVuY3Rpb24gdXNlU2Nyb2xsKCkge1xuICogICB1c2VPbkRvY3VtZW50KFxuICogICAgICdzY3JvbGwnLFxuICogICAgICQoKGV2ZW50KSA9PiB7XG4gKiAgICAgICBjb25zb2xlLmxvZygnYm9keSBzY3JvbGxlZCcsIGV2ZW50KTtcbiAqICAgICB9KVxuICogICApO1xuICogfVxuICpcbiAqIGNvbnN0IENtcCA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICogICB1c2VTY3JvbGwoKTtcbiAqICAgcmV0dXJuIDxkaXY+UHJvZml0ITwvZGl2PjtcbiAqIH0pO1xuICogYGBgXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBjb25zdCB1c2VPbkRvY3VtZW50ID0gPFQgZXh0ZW5kcyBLbm93bkV2ZW50TmFtZXM+KGV2ZW50OiBUIHwgVFtdLCBldmVudFFybDogRXZlbnRRUkw8VD4pID0+IHtcbiAgX3VzZU9uKGNyZWF0ZUV2ZW50TmFtZShldmVudCwgJ2RvY3VtZW50JyksIGV2ZW50UXJsKTtcbn07XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kI3VzZU9uV2luZG93XCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi4vcmVhZG1lLm1kI3VzZU9uV2luZG93IGluc3RlYWQpXG4vKipcbiAqIFJlZ2lzdGVyIGEgbGlzdGVuZXIgb24gYHdpbmRvd2AuXG4gKlxuICogVXNlZCB0byBwcm9ncmFtbWF0aWNhbGx5IGFkZCBldmVudCBsaXN0ZW5lcnMuIFVzZWZ1bCBmcm9tIGN1c3RvbSBgdXNlKmAgbWV0aG9kcywgd2hpY2ggZG8gbm90XG4gKiBoYXZlIGFjY2VzcyB0byB0aGUgSlNYLlxuICpcbiAqIEBwdWJsaWNcbiAqIEBzZWUgYHVzZU9uYCwgYHVzZU9uV2luZG93YCwgYHVzZU9uRG9jdW1lbnRgLlxuICpcbiAqIGBgYHRzeFxuICogZnVuY3Rpb24gdXNlQW5hbHl0aWNzKCkge1xuICogICB1c2VPbldpbmRvdyhcbiAqICAgICAncG9wc3RhdGUnLFxuICogICAgICQoKGV2ZW50KSA9PiB7XG4gKiAgICAgICBjb25zb2xlLmxvZygnbmF2aWdhdGlvbiBoYXBwZW5lZCcsIGV2ZW50KTtcbiAqICAgICAgIC8vIHJlcG9ydCB0byBhbmFseXRpY3NcbiAqICAgICB9KVxuICogICApO1xuICogfVxuICpcbiAqIGNvbnN0IENtcCA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICogICB1c2VBbmFseXRpY3MoKTtcbiAqICAgcmV0dXJuIDxkaXY+UHJvZml0ITwvZGl2PjtcbiAqIH0pO1xuICogYGBgXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBjb25zdCB1c2VPbldpbmRvdyA9IDxUIGV4dGVuZHMgS25vd25FdmVudE5hbWVzPihldmVudDogVCB8IFRbXSwgZXZlbnRRcmw6IEV2ZW50UVJMPFQ+KSA9PiB7XG4gIF91c2VPbihjcmVhdGVFdmVudE5hbWUoZXZlbnQsICd3aW5kb3cnKSwgZXZlbnRRcmwpO1xufTtcblxuY29uc3QgY3JlYXRlRXZlbnROYW1lID0gKFxuICBldmVudDogS25vd25FdmVudE5hbWVzIHwgS25vd25FdmVudE5hbWVzW10sXG4gIGV2ZW50VHlwZTogJ3dpbmRvdycgfCAnZG9jdW1lbnQnIHwgdW5kZWZpbmVkXG4pID0+IHtcbiAgY29uc3QgcHJlZml4ID0gZXZlbnRUeXBlICE9PSB1bmRlZmluZWQgPyBldmVudFR5cGUgKyAnOicgOiAnJztcbiAgY29uc3QgbWFwID0gKG5hbWU6IHN0cmluZykgPT5cbiAgICBwcmVmaXggKyAnb24nICsgbmFtZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIG5hbWUuc3Vic3RyaW5nKDEpICsgJyQnO1xuICBjb25zdCByZXMgPSBBcnJheS5pc0FycmF5KGV2ZW50KSA/IGV2ZW50Lm1hcChtYXApIDogbWFwKGV2ZW50KTtcbiAgcmV0dXJuIHJlcztcbn07XG5cbmNvbnN0IF91c2VPbiA9IChldmVudE5hbWU6IHN0cmluZyB8IHN0cmluZ1tdLCBldmVudFFybDogRXZlbnRRUkwpID0+IHtcbiAgY29uc3QgeyBpc0FkZGVkLCBhZGRFdmVudCB9ID0gdXNlT25FdmVudHNTZXF1ZW50aWFsU2NvcGUoKTtcbiAgaWYgKGlzQWRkZWQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKGV2ZW50UXJsKSB7XG4gICAgQXJyYXkuaXNBcnJheShldmVudE5hbWUpXG4gICAgICA/IGV2ZW50TmFtZS5mb3JFYWNoKChldmVudCkgPT4gYWRkRXZlbnQoZXZlbnQsIGV2ZW50UXJsKSlcbiAgICAgIDogYWRkRXZlbnQoZXZlbnROYW1lLCBldmVudFFybCk7XG4gIH1cbn07XG5cbi8qKlxuICogVGhpcyBob29rIGlzIGxpa2UgdGhlIGB1c2VTZXF1ZW50aWFsU2NvcGVgIGJ1dCBpdCBpcyBzcGVjaWZpY2FsbHkgZm9yIGB1c2VPbmAuIFRoaXMgaXMgbmVlZGVkXG4gKiBiZWNhdXNlIHdlIHdhbnQgdG8gZXhlY3V0ZSB0aGUgYHVzZU9uYCBob29rcyBvbmx5IG9uY2UgYW5kIHN0b3JlIHRoZSBldmVudCBsaXN0ZW5lcnMgb24gdGhlIGhvc3RcbiAqIGVsZW1lbnQuIEZyb20gUXdpayBWMiB0aGUgY29tcG9uZW50IGlzIHJlcnVubmluZyB3aGVuIHRoZSBwcm9taXNlIGlzIHRocm93biwgc28gd2UgbmVlZCB0byBtYWtlXG4gKiBzdXJlIHRoYXQgdGhlIGV2ZW50IGxpc3RlbmVycyBhcmUgbm90IGFkZGVkIG11bHRpcGxlIHRpbWVzLlxuICpcbiAqIC0gVGhlIGV2ZW50IGxpc3RlbmVycyBhcmUgc3RvcmVkIGluIHRoZSBgVVNFX09OX0xPQ0FMYCBwcm9wZXJ0eS5cbiAqIC0gVGhlIGBVU0VfT05fTE9DQUxfU0VRX0lEWGAgaXMgdXNlZCB0byBrZWVwIHRyYWNrIG9mIHRoZSBpbmRleCBvZiB0aGUgaG9vayB0aGF0IGNhbGxzIHRoaXMuXG4gKiAtIFRoZSBgVVNFX09OX0xPQ0FMX0ZMQUdTYCBpcyB1c2VkIHRvIGtlZXAgdHJhY2sgb2Ygd2hldGhlciB0aGUgZXZlbnQgbGlzdGVuZXIgaGFzIGJlZW4gYWRkZWQgb3JcbiAqICAgbm90LlxuICovXG5jb25zdCB1c2VPbkV2ZW50c1NlcXVlbnRpYWxTY29wZSA9ICgpID0+IHtcbiAgY29uc3QgaUN0eCA9IHVzZUludm9rZUNvbnRleHQoKTtcbiAgY29uc3QgaG9zdEVsZW1lbnQgPSBpQ3R4LiRob3N0RWxlbWVudCQ7XG4gIGNvbnN0IGhvc3Q6IEhvc3RFbGVtZW50ID0gaG9zdEVsZW1lbnQgYXMgYW55O1xuICBsZXQgb25NYXAgPSBpQ3R4LiRjb250YWluZXIkLmdldEhvc3RQcm9wPFVzZU9uTWFwPihob3N0LCBVU0VfT05fTE9DQUwpO1xuICBpZiAob25NYXAgPT09IG51bGwpIHtcbiAgICBvbk1hcCA9IHt9O1xuICAgIGlDdHguJGNvbnRhaW5lciQuc2V0SG9zdFByb3AoaG9zdCwgVVNFX09OX0xPQ0FMLCBvbk1hcCk7XG4gIH1cbiAgbGV0IHNlcUlkeCA9IGlDdHguJGNvbnRhaW5lciQuZ2V0SG9zdFByb3A8bnVtYmVyPihob3N0LCBVU0VfT05fTE9DQUxfU0VRX0lEWCk7XG4gIGlmIChzZXFJZHggPT09IG51bGwpIHtcbiAgICBzZXFJZHggPSAwO1xuICB9XG4gIGlDdHguJGNvbnRhaW5lciQuc2V0SG9zdFByb3AoaG9zdCwgVVNFX09OX0xPQ0FMX1NFUV9JRFgsIHNlcUlkeCArIDEpO1xuICBsZXQgYWRkZWRGbGFncyA9IGlDdHguJGNvbnRhaW5lciQuZ2V0SG9zdFByb3A8Ym9vbGVhbltdPihob3N0LCBVU0VfT05fTE9DQUxfRkxBR1MpO1xuICBpZiAoYWRkZWRGbGFncyA9PT0gbnVsbCkge1xuICAgIGFkZGVkRmxhZ3MgPSBbXTtcbiAgICBpQ3R4LiRjb250YWluZXIkLnNldEhvc3RQcm9wKGhvc3QsIFVTRV9PTl9MT0NBTF9GTEFHUywgYWRkZWRGbGFncyk7XG4gIH1cbiAgd2hpbGUgKGFkZGVkRmxhZ3MubGVuZ3RoIDw9IHNlcUlkeCkge1xuICAgIGFkZGVkRmxhZ3MucHVzaChmYWxzZSk7XG4gIH1cbiAgY29uc3QgYWRkRXZlbnQgPSAoZXZlbnROYW1lOiBzdHJpbmcsIGV2ZW50UXJsOiBFdmVudFFSTDxLbm93bkV2ZW50TmFtZXM+KSA9PiB7XG4gICAgYWRkZWRGbGFnc1tzZXFJZHhdID0gdHJ1ZTtcbiAgICBsZXQgZXZlbnRzID0gb25NYXAhW2V2ZW50TmFtZV07XG4gICAgaWYgKCFldmVudHMpIHtcbiAgICAgIG9uTWFwIVtldmVudE5hbWVdID0gZXZlbnRzID0gW107XG4gICAgfVxuICAgIGV2ZW50cy5wdXNoKGV2ZW50UXJsKTtcbiAgfTtcblxuICByZXR1cm4ge1xuICAgIGlzQWRkZWQ6IGFkZGVkRmxhZ3Nbc2VxSWR4XSxcbiAgICBhZGRFdmVudCxcbiAgfTtcbn07XG5cbmV4cG9ydCB0eXBlIFVzZU9uTWFwID0gUmVjb3JkPHN0cmluZywgRXZlbnRRUkw8S25vd25FdmVudE5hbWVzPltdPjtcbiJdfQ==","import { isDev } from '@qwik.dev/core/build';\nimport { isQwikComponent } from './component.public';\nimport { assertDefined } from './error/assert';\nimport { isQrl } from './qrl/qrl-class';\nimport { JSXNodeImpl, isJSXNode } from './jsx/jsx-runtime';\nimport { invokeApply, newInvokeContext, untrack } from '../use/use-core';\nimport {} from '../use/use-on';\nimport { EMPTY_OBJ } from './utils/flyweight';\nimport { ELEMENT_PROPS, ELEMENT_SEQ_IDX, OnRenderProp, RenderEvent, USE_ON_LOCAL, USE_ON_LOCAL_SEQ_IDX, } from './utils/markers';\nimport { isPromise, maybeThen, safeCall } from './utils/promises';\nimport { logWarn } from './utils/log';\nimport { EffectProperty, isSignal } from '../signal/signal';\nimport { vnode_isVNode } from '../client/vnode';\nimport { clearVNodeEffectDependencies } from '../signal/signal-subscriber';\n/**\n * Use `executeComponent` to execute a component.\n *\n * Component execution can be complex because of:\n *\n * - It can by async\n * - It can contain many tasks which need to be awaited\n * - Each task can run multiple times if they track signals which change.\n * - The JSX may be re-generated multiple times of a task needs to be rerun due to signal change.\n * - It needs to keep track of hook state.\n *\n * For `component$`: `renderHost` === `subscriptionHost` For inlined-components: the\n * `subscriptionHost` is a parent `component$` which needs to re-execute.\n *\n * @param container\n * @param renderHost - VNode into which the component is rendered into.\n * @param subscriptionHost - VNode which will be re-executed if the component needs to re-render.\n * @param componentQRL\n * @param props\n * @returns\n */\nexport const executeComponent = (container, renderHost, subscriptionHost, componentQRL, props) => {\n    const iCtx = newInvokeContext(container.$locale$, subscriptionHost, undefined, RenderEvent);\n    iCtx.$effectSubscriber$ = [subscriptionHost, EffectProperty.COMPONENT];\n    iCtx.$container$ = container;\n    let componentFn;\n    container.ensureProjectionResolved(renderHost);\n    if (componentQRL === null) {\n        componentQRL = componentQRL || container.getHostProp(renderHost, OnRenderProp);\n        assertDefined(componentQRL, 'No Component found at this location');\n    }\n    if (isQrl(componentQRL)) {\n        props = props || container.getHostProp(renderHost, ELEMENT_PROPS) || EMPTY_OBJ;\n        if (props && props.children) {\n            delete props.children;\n        }\n        componentFn = componentQRL.getFn(iCtx);\n    }\n    else if (isQwikComponent(componentQRL)) {\n        const qComponentFn = componentQRL;\n        componentFn = () => invokeApply(iCtx, qComponentFn, [props || EMPTY_OBJ, null, 0]);\n    }\n    else {\n        const inlineComponent = componentQRL;\n        componentFn = () => invokeApply(iCtx, inlineComponent, [props || EMPTY_OBJ]);\n    }\n    const executeComponentWithPromiseExceptionRetry = () => safeCall(() => {\n        container.setHostProp(renderHost, ELEMENT_SEQ_IDX, null);\n        container.setHostProp(renderHost, USE_ON_LOCAL_SEQ_IDX, null);\n        container.setHostProp(renderHost, ELEMENT_PROPS, props);\n        if (vnode_isVNode(renderHost)) {\n            clearVNodeEffectDependencies(renderHost);\n        }\n        return componentFn(props);\n    }, (jsx) => {\n        const useOnEvents = container.getHostProp(renderHost, USE_ON_LOCAL);\n        if (useOnEvents) {\n            return maybeThen(addUseOnEvents(jsx, useOnEvents), () => jsx);\n        }\n        return jsx;\n    }, (err) => {\n        if (isPromise(err)) {\n            return err.then(executeComponentWithPromiseExceptionRetry);\n        }\n        else {\n            throw err;\n        }\n    });\n    return executeComponentWithPromiseExceptionRetry();\n};\n/**\n * Stores the JSX output of the last execution of the component.\n *\n * Component can execute multiple times because:\n *\n * - Component can have multiple tasks\n * - Tasks can track signals\n * - Task A can change signal which causes Task B to rerun.\n *\n * So when executing a component we only care about its last JSX Output.\n */\nfunction addUseOnEvents(jsx, useOnEvents) {\n    const jsxElement = findFirstStringJSX(jsx);\n    return maybeThen(jsxElement, (jsxElement) => {\n        let isInvisibleComponent = false;\n        if (!jsxElement) {\n            /**\n             * We did not find any jsx node with a string tag. This means that we should append:\n             *\n             * ```html\n             * <script type=\"placeholder\" hidden on-document:qinit=\"...\"></script>\n             * ```\n             *\n             * This is needed because use on events should have a node to attach them to.\n             */\n            isInvisibleComponent = true;\n        }\n        for (const key in useOnEvents) {\n            if (Object.prototype.hasOwnProperty.call(useOnEvents, key)) {\n                if (isInvisibleComponent) {\n                    if (key === 'onQvisible$') {\n                        jsxElement = addScriptNodeForInvisibleComponents(jsx);\n                        if (jsxElement) {\n                            addUseOnEvent(jsxElement, 'document:onQinit$', useOnEvents[key]);\n                        }\n                    }\n                    else if (key.startsWith('document:') || key.startsWith('window:')) {\n                        jsxElement = addScriptNodeForInvisibleComponents(jsx);\n                        if (jsxElement) {\n                            addUseOnEvent(jsxElement, key, useOnEvents[key]);\n                        }\n                    }\n                    else if (isDev) {\n                        logWarn('You are trying to add an event \"' +\n                            key +\n                            '\" using `useOn` hook, ' +\n                            'but a node to which you can add an event is not found. ' +\n                            'Please make sure that the component has a valid element node. ');\n                    }\n                }\n                else if (jsxElement) {\n                    addUseOnEvent(jsxElement, key, useOnEvents[key]);\n                }\n            }\n        }\n        return jsxElement;\n    });\n}\nfunction addUseOnEvent(jsxElement, key, value) {\n    let props = jsxElement.props;\n    if (props === EMPTY_OBJ) {\n        props = jsxElement.props = {};\n    }\n    let propValue = props[key];\n    if (propValue === undefined) {\n        propValue = [];\n    }\n    else if (!Array.isArray(propValue)) {\n        propValue = [propValue];\n    }\n    propValue.push(...value);\n    props[key] = propValue;\n}\nfunction findFirstStringJSX(jsx) {\n    const queue = [jsx];\n    while (queue.length) {\n        const jsx = queue.shift();\n        if (isJSXNode(jsx)) {\n            if (typeof jsx.type === 'string') {\n                return jsx;\n            }\n            queue.push(jsx.children);\n        }\n        else if (Array.isArray(jsx)) {\n            queue.push(...jsx);\n        }\n        else if (isPromise(jsx)) {\n            return maybeThen(jsx, (jsx) => findFirstStringJSX(jsx));\n        }\n        else if (isSignal(jsx)) {\n            return findFirstStringJSX(untrack(() => jsx.value));\n        }\n    }\n    return null;\n}\nfunction addScriptNodeForInvisibleComponents(jsx) {\n    if (isJSXNode(jsx)) {\n        const jsxElement = new JSXNodeImpl('script', {}, {\n            type: 'placeholder',\n            hidden: '',\n        }, null, 3);\n        if (jsx.children == null) {\n            jsx.children = jsxElement;\n        }\n        else if (Array.isArray(jsx.children)) {\n            jsx.children.push(jsxElement);\n        }\n        else {\n            jsx.children = [jsx.children, jsxElement];\n        }\n        return jsxElement;\n    }\n    else if (Array.isArray(jsx) && jsx.length) {\n        // get first element\n        return addScriptNodeForInvisibleComponents(jsx[0]);\n    }\n    return null;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tcG9uZW50LWV4ZWN1dGlvbi5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9zaGFyZWQvY29tcG9uZW50LWV4ZWN1dGlvbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFDN0MsT0FBTyxFQUFFLGVBQWUsRUFBbUIsTUFBTSxvQkFBb0IsQ0FBQztBQUN0RSxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDL0MsT0FBTyxFQUFFLEtBQUssRUFBb0IsTUFBTSxpQkFBaUIsQ0FBQztBQUMxRCxPQUFPLEVBQUUsV0FBVyxFQUFFLFNBQVMsRUFBYyxNQUFNLG1CQUFtQixDQUFDO0FBR3ZFLE9BQU8sRUFBRSxXQUFXLEVBQUUsZ0JBQWdCLEVBQUUsT0FBTyxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDekUsT0FBTyxFQUFnQyxNQUFNLGVBQWUsQ0FBQztBQUM3RCxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFDOUMsT0FBTyxFQUNMLGFBQWEsRUFDYixlQUFlLEVBQ2YsWUFBWSxFQUNaLFdBQVcsRUFDWCxZQUFZLEVBQ1osb0JBQW9CLEdBQ3JCLE1BQU0saUJBQWlCLENBQUM7QUFDekIsT0FBTyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsUUFBUSxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFHbEUsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUN0QyxPQUFPLEVBQUUsY0FBYyxFQUFFLFFBQVEsRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBQzVELE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUNoRCxPQUFPLEVBQUUsNEJBQTRCLEVBQUUsTUFBTSw2QkFBNkIsQ0FBQztBQUUzRTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7R0FvQkc7QUFDSCxNQUFNLENBQUMsTUFBTSxnQkFBZ0IsR0FBRyxDQUM5QixTQUFvQixFQUNwQixVQUF1QixFQUN2QixnQkFBNkIsRUFDN0IsWUFBMkUsRUFDM0UsS0FBbUIsRUFDUSxFQUFFO0lBQzdCLE1BQU0sSUFBSSxHQUFHLGdCQUFnQixDQUFDLFNBQVMsQ0FBQyxRQUFRLEVBQUUsZ0JBQWdCLEVBQUUsU0FBUyxFQUFFLFdBQVcsQ0FBQyxDQUFDO0lBQzVGLElBQUksQ0FBQyxrQkFBa0IsR0FBRyxDQUFDLGdCQUFnQixFQUFFLGNBQWMsQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUN2RSxJQUFJLENBQUMsV0FBVyxHQUFHLFNBQVMsQ0FBQztJQUM3QixJQUFJLFdBQTBELENBQUM7SUFDL0QsU0FBUyxDQUFDLHdCQUF3QixDQUFDLFVBQVUsQ0FBQyxDQUFDO0lBQy9DLElBQUksWUFBWSxLQUFLLElBQUksRUFBRSxDQUFDO1FBQzFCLFlBQVksR0FBRyxZQUFZLElBQUksU0FBUyxDQUFDLFdBQVcsQ0FBQyxVQUFVLEVBQUUsWUFBWSxDQUFFLENBQUM7UUFDaEYsYUFBYSxDQUFDLFlBQVksRUFBRSxxQ0FBcUMsQ0FBQyxDQUFDO0lBQ3JFLENBQUM7SUFDRCxJQUFJLEtBQUssQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDO1FBQ3hCLEtBQUssR0FBRyxLQUFLLElBQUksU0FBUyxDQUFDLFdBQVcsQ0FBQyxVQUFVLEVBQUUsYUFBYSxDQUFDLElBQUksU0FBUyxDQUFDO1FBQy9FLElBQUksS0FBSyxJQUFJLEtBQUssQ0FBQyxRQUFRLEVBQUUsQ0FBQztZQUM1QixPQUFPLEtBQUssQ0FBQyxRQUFRLENBQUM7UUFDeEIsQ0FBQztRQUNELFdBQVcsR0FBRyxZQUFZLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3pDLENBQUM7U0FBTSxJQUFJLGVBQWUsQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDO1FBQ3pDLE1BQU0sWUFBWSxHQUFHLFlBSVQsQ0FBQztRQUNiLFdBQVcsR0FBRyxHQUFHLEVBQUUsQ0FBQyxXQUFXLENBQUMsSUFBSSxFQUFFLFlBQVksRUFBRSxDQUFDLEtBQUssSUFBSSxTQUFTLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDckYsQ0FBQztTQUFNLENBQUM7UUFDTixNQUFNLGVBQWUsR0FBRyxZQUEyQyxDQUFDO1FBQ3BFLFdBQVcsR0FBRyxHQUFHLEVBQUUsQ0FBQyxXQUFXLENBQUMsSUFBSSxFQUFFLGVBQWUsRUFBRSxDQUFDLEtBQUssSUFBSSxTQUFTLENBQUMsQ0FBQyxDQUFDO0lBQy9FLENBQUM7SUFFRCxNQUFNLHlDQUF5QyxHQUFHLEdBQThCLEVBQUUsQ0FDaEYsUUFBUSxDQUNOLEdBQUcsRUFBRTtRQUNILFNBQVMsQ0FBQyxXQUFXLENBQUMsVUFBVSxFQUFFLGVBQWUsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUN6RCxTQUFTLENBQUMsV0FBVyxDQUFDLFVBQVUsRUFBRSxvQkFBb0IsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUM5RCxTQUFTLENBQUMsV0FBVyxDQUFDLFVBQVUsRUFBRSxhQUFhLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFFeEQsSUFBSSxhQUFhLENBQUMsVUFBVSxDQUFDLEVBQUUsQ0FBQztZQUM5Qiw0QkFBNEIsQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUMzQyxDQUFDO1FBRUQsT0FBTyxXQUFXLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDNUIsQ0FBQyxFQUNELENBQUMsR0FBRyxFQUFFLEVBQUU7UUFDTixNQUFNLFdBQVcsR0FBRyxTQUFTLENBQUMsV0FBVyxDQUFXLFVBQVUsRUFBRSxZQUFZLENBQUMsQ0FBQztRQUM5RSxJQUFJLFdBQVcsRUFBRSxDQUFDO1lBQ2hCLE9BQU8sU0FBUyxDQUFDLGNBQWMsQ0FBQyxHQUFHLEVBQUUsV0FBVyxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDaEUsQ0FBQztRQUNELE9BQU8sR0FBRyxDQUFDO0lBQ2IsQ0FBQyxFQUNELENBQUMsR0FBRyxFQUFFLEVBQUU7UUFDTixJQUFJLFNBQVMsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDO1lBQ25CLE9BQU8sR0FBRyxDQUFDLElBQUksQ0FBQyx5Q0FBeUMsQ0FBdUIsQ0FBQztRQUNuRixDQUFDO2FBQU0sQ0FBQztZQUNOLE1BQU0sR0FBRyxDQUFDO1FBQ1osQ0FBQztJQUNILENBQUMsQ0FDRixDQUFDO0lBQ0osT0FBTyx5Q0FBeUMsRUFBRSxDQUFDO0FBQ3JELENBQUMsQ0FBQztBQUVGOzs7Ozs7Ozs7O0dBVUc7QUFFSCxTQUFTLGNBQWMsQ0FDckIsR0FBYyxFQUNkLFdBQXFCO0lBRXJCLE1BQU0sVUFBVSxHQUFHLGtCQUFrQixDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQzNDLE9BQU8sU0FBUyxDQUFDLFVBQVUsRUFBRSxDQUFDLFVBQVUsRUFBRSxFQUFFO1FBQzFDLElBQUksb0JBQW9CLEdBQUcsS0FBSyxDQUFDO1FBQ2pDLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQztZQUNoQjs7Ozs7Ozs7ZUFRRztZQUNILG9CQUFvQixHQUFHLElBQUksQ0FBQztRQUM5QixDQUFDO1FBQ0QsS0FBSyxNQUFNLEdBQUcsSUFBSSxXQUFXLEVBQUUsQ0FBQztZQUM5QixJQUFJLE1BQU0sQ0FBQyxTQUFTLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsR0FBRyxDQUFDLEVBQUUsQ0FBQztnQkFDM0QsSUFBSSxvQkFBb0IsRUFBRSxDQUFDO29CQUN6QixJQUFJLEdBQUcsS0FBSyxhQUFhLEVBQUUsQ0FBQzt3QkFDMUIsVUFBVSxHQUFHLG1DQUFtQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO3dCQUN0RCxJQUFJLFVBQVUsRUFBRSxDQUFDOzRCQUNmLGFBQWEsQ0FBQyxVQUFVLEVBQUUsbUJBQW1CLEVBQUUsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7d0JBQ25FLENBQUM7b0JBQ0gsQ0FBQzt5QkFBTSxJQUFJLEdBQUcsQ0FBQyxVQUFVLENBQUMsV0FBVyxDQUFDLElBQUksR0FBRyxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDO3dCQUNwRSxVQUFVLEdBQUcsbUNBQW1DLENBQUMsR0FBRyxDQUFDLENBQUM7d0JBQ3RELElBQUksVUFBVSxFQUFFLENBQUM7NEJBQ2YsYUFBYSxDQUFDLFVBQVUsRUFBRSxHQUFHLEVBQUUsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7d0JBQ25ELENBQUM7b0JBQ0gsQ0FBQzt5QkFBTSxJQUFJLEtBQUssRUFBRSxDQUFDO3dCQUNqQixPQUFPLENBQ0wsa0NBQWtDOzRCQUNoQyxHQUFHOzRCQUNILHdCQUF3Qjs0QkFDeEIseURBQXlEOzRCQUN6RCxnRUFBZ0UsQ0FDbkUsQ0FBQztvQkFDSixDQUFDO2dCQUNILENBQUM7cUJBQU0sSUFBSSxVQUFVLEVBQUUsQ0FBQztvQkFDdEIsYUFBYSxDQUFDLFVBQVUsRUFBRSxHQUFHLEVBQUUsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7Z0JBQ25ELENBQUM7WUFDSCxDQUFDO1FBQ0gsQ0FBQztRQUNELE9BQU8sVUFBVSxDQUFDO0lBQ3BCLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQztBQUVELFNBQVMsYUFBYSxDQUFDLFVBQW1CLEVBQUUsR0FBVyxFQUFFLEtBQWtDO0lBQ3pGLElBQUksS0FBSyxHQUFHLFVBQVUsQ0FBQyxLQUFLLENBQUM7SUFDN0IsSUFBSSxLQUFLLEtBQUssU0FBUyxFQUFFLENBQUM7UUFDeEIsS0FBSyxHQUFHLFVBQVUsQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUFDO0lBQ2hDLENBQUM7SUFDRCxJQUFJLFNBQVMsR0FBRyxLQUFLLENBQUMsR0FBRyxDQUFxRCxDQUFDO0lBQy9FLElBQUksU0FBUyxLQUFLLFNBQVMsRUFBRSxDQUFDO1FBQzVCLFNBQVMsR0FBRyxFQUFFLENBQUM7SUFDakIsQ0FBQztTQUFNLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUM7UUFDckMsU0FBUyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDMUIsQ0FBQztJQUNELFNBQVMsQ0FBQyxJQUFJLENBQUMsR0FBRyxLQUFLLENBQUMsQ0FBQztJQUN6QixLQUFLLENBQUMsR0FBRyxDQUFDLEdBQUcsU0FBUyxDQUFDO0FBQ3pCLENBQUM7QUFFRCxTQUFTLGtCQUFrQixDQUFDLEdBQWM7SUFDeEMsTUFBTSxLQUFLLEdBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUMzQixPQUFPLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUNwQixNQUFNLEdBQUcsR0FBRyxLQUFLLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDMUIsSUFBSSxTQUFTLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQztZQUNuQixJQUFJLE9BQU8sR0FBRyxDQUFDLElBQUksS0FBSyxRQUFRLEVBQUUsQ0FBQztnQkFDakMsT0FBTyxHQUFzQixDQUFDO1lBQ2hDLENBQUM7WUFDRCxLQUFLLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUMzQixDQUFDO2FBQU0sSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUM7WUFDOUIsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDO1FBQ3JCLENBQUM7YUFBTSxJQUFJLFNBQVMsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDO1lBQzFCLE9BQU8sU0FBUyxDQUFvQyxHQUFHLEVBQUUsQ0FBQyxHQUFHLEVBQUUsRUFBRSxDQUFDLGtCQUFrQixDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDN0YsQ0FBQzthQUFNLElBQUksUUFBUSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUM7WUFDekIsT0FBTyxrQkFBa0IsQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxDQUFDLEtBQWtCLENBQUMsQ0FBQyxDQUFDO1FBQ25FLENBQUM7SUFDSCxDQUFDO0lBQ0QsT0FBTyxJQUFJLENBQUM7QUFDZCxDQUFDO0FBRUQsU0FBUyxtQ0FBbUMsQ0FBQyxHQUFjO0lBQ3pELElBQUksU0FBUyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUM7UUFDbkIsTUFBTSxVQUFVLEdBQUcsSUFBSSxXQUFXLENBQ2hDLFFBQVEsRUFDUixFQUFFLEVBQ0Y7WUFDRSxJQUFJLEVBQUUsYUFBYTtZQUNuQixNQUFNLEVBQUUsRUFBRTtTQUNYLEVBQ0QsSUFBSSxFQUNKLENBQUMsQ0FDRixDQUFDO1FBRUYsSUFBSSxHQUFHLENBQUMsUUFBUSxJQUFJLElBQUksRUFBRSxDQUFDO1lBQ3pCLEdBQUcsQ0FBQyxRQUFRLEdBQUcsVUFBVSxDQUFDO1FBQzVCLENBQUM7YUFBTSxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUM7WUFDdkMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDaEMsQ0FBQzthQUFNLENBQUM7WUFDTixHQUFHLENBQUMsUUFBUSxHQUFHLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBRSxVQUFVLENBQUMsQ0FBQztRQUM1QyxDQUFDO1FBQ0QsT0FBTyxVQUFVLENBQUM7SUFDcEIsQ0FBQztTQUFNLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUM7UUFDNUMsb0JBQW9CO1FBQ3BCLE9BQU8sbUNBQW1DLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDckQsQ0FBQztJQUVELE9BQU8sSUFBSSxDQUFDO0FBQ2QsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzRGV2IH0gZnJvbSAnQHF3aWsuZGV2L2NvcmUvYnVpbGQnO1xuaW1wb3J0IHsgaXNRd2lrQ29tcG9uZW50LCB0eXBlIE9uUmVuZGVyRm4gfSBmcm9tICcuL2NvbXBvbmVudC5wdWJsaWMnO1xuaW1wb3J0IHsgYXNzZXJ0RGVmaW5lZCB9IGZyb20gJy4vZXJyb3IvYXNzZXJ0JztcbmltcG9ydCB7IGlzUXJsLCB0eXBlIFFSTEludGVybmFsIH0gZnJvbSAnLi9xcmwvcXJsLWNsYXNzJztcbmltcG9ydCB7IEpTWE5vZGVJbXBsLCBpc0pTWE5vZGUsIHR5cGUgUHJvcHMgfSBmcm9tICcuL2pzeC9qc3gtcnVudGltZSc7XG5pbXBvcnQgdHlwZSB7IEpTWE5vZGUsIEpTWE91dHB1dCB9IGZyb20gJy4vanN4L3R5cGVzL2pzeC1ub2RlJztcbmltcG9ydCB0eXBlIHsgS25vd25FdmVudE5hbWVzIH0gZnJvbSAnLi9qc3gvdHlwZXMvanN4LXF3aWstZXZlbnRzJztcbmltcG9ydCB7IGludm9rZUFwcGx5LCBuZXdJbnZva2VDb250ZXh0LCB1bnRyYWNrIH0gZnJvbSAnLi4vdXNlL3VzZS1jb3JlJztcbmltcG9ydCB7IHR5cGUgRXZlbnRRUkwsIHR5cGUgVXNlT25NYXAgfSBmcm9tICcuLi91c2UvdXNlLW9uJztcbmltcG9ydCB7IEVNUFRZX09CSiB9IGZyb20gJy4vdXRpbHMvZmx5d2VpZ2h0JztcbmltcG9ydCB7XG4gIEVMRU1FTlRfUFJPUFMsXG4gIEVMRU1FTlRfU0VRX0lEWCxcbiAgT25SZW5kZXJQcm9wLFxuICBSZW5kZXJFdmVudCxcbiAgVVNFX09OX0xPQ0FMLFxuICBVU0VfT05fTE9DQUxfU0VRX0lEWCxcbn0gZnJvbSAnLi91dGlscy9tYXJrZXJzJztcbmltcG9ydCB7IGlzUHJvbWlzZSwgbWF5YmVUaGVuLCBzYWZlQ2FsbCB9IGZyb20gJy4vdXRpbHMvcHJvbWlzZXMnO1xuaW1wb3J0IHR5cGUgeyBWYWx1ZU9yUHJvbWlzZSB9IGZyb20gJy4vdXRpbHMvdHlwZXMnO1xuaW1wb3J0IHR5cGUgeyBDb250YWluZXIsIEhvc3RFbGVtZW50IH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBsb2dXYXJuIH0gZnJvbSAnLi91dGlscy9sb2cnO1xuaW1wb3J0IHsgRWZmZWN0UHJvcGVydHksIGlzU2lnbmFsIH0gZnJvbSAnLi4vc2lnbmFsL3NpZ25hbCc7XG5pbXBvcnQgeyB2bm9kZV9pc1ZOb2RlIH0gZnJvbSAnLi4vY2xpZW50L3Zub2RlJztcbmltcG9ydCB7IGNsZWFyVk5vZGVFZmZlY3REZXBlbmRlbmNpZXMgfSBmcm9tICcuLi9zaWduYWwvc2lnbmFsLXN1YnNjcmliZXInO1xuXG4vKipcbiAqIFVzZSBgZXhlY3V0ZUNvbXBvbmVudGAgdG8gZXhlY3V0ZSBhIGNvbXBvbmVudC5cbiAqXG4gKiBDb21wb25lbnQgZXhlY3V0aW9uIGNhbiBiZSBjb21wbGV4IGJlY2F1c2Ugb2Y6XG4gKlxuICogLSBJdCBjYW4gYnkgYXN5bmNcbiAqIC0gSXQgY2FuIGNvbnRhaW4gbWFueSB0YXNrcyB3aGljaCBuZWVkIHRvIGJlIGF3YWl0ZWRcbiAqIC0gRWFjaCB0YXNrIGNhbiBydW4gbXVsdGlwbGUgdGltZXMgaWYgdGhleSB0cmFjayBzaWduYWxzIHdoaWNoIGNoYW5nZS5cbiAqIC0gVGhlIEpTWCBtYXkgYmUgcmUtZ2VuZXJhdGVkIG11bHRpcGxlIHRpbWVzIG9mIGEgdGFzayBuZWVkcyB0byBiZSByZXJ1biBkdWUgdG8gc2lnbmFsIGNoYW5nZS5cbiAqIC0gSXQgbmVlZHMgdG8ga2VlcCB0cmFjayBvZiBob29rIHN0YXRlLlxuICpcbiAqIEZvciBgY29tcG9uZW50JGA6IGByZW5kZXJIb3N0YCA9PT0gYHN1YnNjcmlwdGlvbkhvc3RgIEZvciBpbmxpbmVkLWNvbXBvbmVudHM6IHRoZVxuICogYHN1YnNjcmlwdGlvbkhvc3RgIGlzIGEgcGFyZW50IGBjb21wb25lbnQkYCB3aGljaCBuZWVkcyB0byByZS1leGVjdXRlLlxuICpcbiAqIEBwYXJhbSBjb250YWluZXJcbiAqIEBwYXJhbSByZW5kZXJIb3N0IC0gVk5vZGUgaW50byB3aGljaCB0aGUgY29tcG9uZW50IGlzIHJlbmRlcmVkIGludG8uXG4gKiBAcGFyYW0gc3Vic2NyaXB0aW9uSG9zdCAtIFZOb2RlIHdoaWNoIHdpbGwgYmUgcmUtZXhlY3V0ZWQgaWYgdGhlIGNvbXBvbmVudCBuZWVkcyB0byByZS1yZW5kZXIuXG4gKiBAcGFyYW0gY29tcG9uZW50UVJMXG4gKiBAcGFyYW0gcHJvcHNcbiAqIEByZXR1cm5zXG4gKi9cbmV4cG9ydCBjb25zdCBleGVjdXRlQ29tcG9uZW50ID0gKFxuICBjb250YWluZXI6IENvbnRhaW5lcixcbiAgcmVuZGVySG9zdDogSG9zdEVsZW1lbnQsXG4gIHN1YnNjcmlwdGlvbkhvc3Q6IEhvc3RFbGVtZW50LFxuICBjb21wb25lbnRRUkw6IE9uUmVuZGVyRm48dW5rbm93bj4gfCBRUkxJbnRlcm5hbDxPblJlbmRlckZuPHVua25vd24+PiB8IG51bGwsXG4gIHByb3BzOiBQcm9wcyB8IG51bGxcbik6IFZhbHVlT3JQcm9taXNlPEpTWE91dHB1dD4gPT4ge1xuICBjb25zdCBpQ3R4ID0gbmV3SW52b2tlQ29udGV4dChjb250YWluZXIuJGxvY2FsZSQsIHN1YnNjcmlwdGlvbkhvc3QsIHVuZGVmaW5lZCwgUmVuZGVyRXZlbnQpO1xuICBpQ3R4LiRlZmZlY3RTdWJzY3JpYmVyJCA9IFtzdWJzY3JpcHRpb25Ib3N0LCBFZmZlY3RQcm9wZXJ0eS5DT01QT05FTlRdO1xuICBpQ3R4LiRjb250YWluZXIkID0gY29udGFpbmVyO1xuICBsZXQgY29tcG9uZW50Rm46IChwcm9wczogdW5rbm93bikgPT4gVmFsdWVPclByb21pc2U8SlNYT3V0cHV0PjtcbiAgY29udGFpbmVyLmVuc3VyZVByb2plY3Rpb25SZXNvbHZlZChyZW5kZXJIb3N0KTtcbiAgaWYgKGNvbXBvbmVudFFSTCA9PT0gbnVsbCkge1xuICAgIGNvbXBvbmVudFFSTCA9IGNvbXBvbmVudFFSTCB8fCBjb250YWluZXIuZ2V0SG9zdFByb3AocmVuZGVySG9zdCwgT25SZW5kZXJQcm9wKSE7XG4gICAgYXNzZXJ0RGVmaW5lZChjb21wb25lbnRRUkwsICdObyBDb21wb25lbnQgZm91bmQgYXQgdGhpcyBsb2NhdGlvbicpO1xuICB9XG4gIGlmIChpc1FybChjb21wb25lbnRRUkwpKSB7XG4gICAgcHJvcHMgPSBwcm9wcyB8fCBjb250YWluZXIuZ2V0SG9zdFByb3AocmVuZGVySG9zdCwgRUxFTUVOVF9QUk9QUykgfHwgRU1QVFlfT0JKO1xuICAgIGlmIChwcm9wcyAmJiBwcm9wcy5jaGlsZHJlbikge1xuICAgICAgZGVsZXRlIHByb3BzLmNoaWxkcmVuO1xuICAgIH1cbiAgICBjb21wb25lbnRGbiA9IGNvbXBvbmVudFFSTC5nZXRGbihpQ3R4KTtcbiAgfSBlbHNlIGlmIChpc1F3aWtDb21wb25lbnQoY29tcG9uZW50UVJMKSkge1xuICAgIGNvbnN0IHFDb21wb25lbnRGbiA9IGNvbXBvbmVudFFSTCBhcyAoXG4gICAgICBwcm9wczogUHJvcHMsXG4gICAgICBrZXk6IHN0cmluZyB8IG51bGwsXG4gICAgICBmbGFnczogbnVtYmVyXG4gICAgKSA9PiBKU1hOb2RlO1xuICAgIGNvbXBvbmVudEZuID0gKCkgPT4gaW52b2tlQXBwbHkoaUN0eCwgcUNvbXBvbmVudEZuLCBbcHJvcHMgfHwgRU1QVFlfT0JKLCBudWxsLCAwXSk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgaW5saW5lQ29tcG9uZW50ID0gY29tcG9uZW50UVJMIGFzIChwcm9wczogUHJvcHMpID0+IEpTWE91dHB1dDtcbiAgICBjb21wb25lbnRGbiA9ICgpID0+IGludm9rZUFwcGx5KGlDdHgsIGlubGluZUNvbXBvbmVudCwgW3Byb3BzIHx8IEVNUFRZX09CSl0pO1xuICB9XG5cbiAgY29uc3QgZXhlY3V0ZUNvbXBvbmVudFdpdGhQcm9taXNlRXhjZXB0aW9uUmV0cnkgPSAoKTogVmFsdWVPclByb21pc2U8SlNYT3V0cHV0PiA9PlxuICAgIHNhZmVDYWxsPEpTWE91dHB1dCwgSlNYT3V0cHV0LCBKU1hPdXRwdXQ+KFxuICAgICAgKCkgPT4ge1xuICAgICAgICBjb250YWluZXIuc2V0SG9zdFByb3AocmVuZGVySG9zdCwgRUxFTUVOVF9TRVFfSURYLCBudWxsKTtcbiAgICAgICAgY29udGFpbmVyLnNldEhvc3RQcm9wKHJlbmRlckhvc3QsIFVTRV9PTl9MT0NBTF9TRVFfSURYLCBudWxsKTtcbiAgICAgICAgY29udGFpbmVyLnNldEhvc3RQcm9wKHJlbmRlckhvc3QsIEVMRU1FTlRfUFJPUFMsIHByb3BzKTtcblxuICAgICAgICBpZiAodm5vZGVfaXNWTm9kZShyZW5kZXJIb3N0KSkge1xuICAgICAgICAgIGNsZWFyVk5vZGVFZmZlY3REZXBlbmRlbmNpZXMocmVuZGVySG9zdCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY29tcG9uZW50Rm4ocHJvcHMpO1xuICAgICAgfSxcbiAgICAgIChqc3gpID0+IHtcbiAgICAgICAgY29uc3QgdXNlT25FdmVudHMgPSBjb250YWluZXIuZ2V0SG9zdFByb3A8VXNlT25NYXA+KHJlbmRlckhvc3QsIFVTRV9PTl9MT0NBTCk7XG4gICAgICAgIGlmICh1c2VPbkV2ZW50cykge1xuICAgICAgICAgIHJldHVybiBtYXliZVRoZW4oYWRkVXNlT25FdmVudHMoanN4LCB1c2VPbkV2ZW50cyksICgpID0+IGpzeCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGpzeDtcbiAgICAgIH0sXG4gICAgICAoZXJyKSA9PiB7XG4gICAgICAgIGlmIChpc1Byb21pc2UoZXJyKSkge1xuICAgICAgICAgIHJldHVybiBlcnIudGhlbihleGVjdXRlQ29tcG9uZW50V2l0aFByb21pc2VFeGNlcHRpb25SZXRyeSkgYXMgUHJvbWlzZTxKU1hPdXRwdXQ+O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICk7XG4gIHJldHVybiBleGVjdXRlQ29tcG9uZW50V2l0aFByb21pc2VFeGNlcHRpb25SZXRyeSgpO1xufTtcblxuLyoqXG4gKiBTdG9yZXMgdGhlIEpTWCBvdXRwdXQgb2YgdGhlIGxhc3QgZXhlY3V0aW9uIG9mIHRoZSBjb21wb25lbnQuXG4gKlxuICogQ29tcG9uZW50IGNhbiBleGVjdXRlIG11bHRpcGxlIHRpbWVzIGJlY2F1c2U6XG4gKlxuICogLSBDb21wb25lbnQgY2FuIGhhdmUgbXVsdGlwbGUgdGFza3NcbiAqIC0gVGFza3MgY2FuIHRyYWNrIHNpZ25hbHNcbiAqIC0gVGFzayBBIGNhbiBjaGFuZ2Ugc2lnbmFsIHdoaWNoIGNhdXNlcyBUYXNrIEIgdG8gcmVydW4uXG4gKlxuICogU28gd2hlbiBleGVjdXRpbmcgYSBjb21wb25lbnQgd2Ugb25seSBjYXJlIGFib3V0IGl0cyBsYXN0IEpTWCBPdXRwdXQuXG4gKi9cblxuZnVuY3Rpb24gYWRkVXNlT25FdmVudHMoXG4gIGpzeDogSlNYT3V0cHV0LFxuICB1c2VPbkV2ZW50czogVXNlT25NYXBcbik6IFZhbHVlT3JQcm9taXNlPEpTWE5vZGU8c3RyaW5nPiB8IG51bGw+IHtcbiAgY29uc3QganN4RWxlbWVudCA9IGZpbmRGaXJzdFN0cmluZ0pTWChqc3gpO1xuICByZXR1cm4gbWF5YmVUaGVuKGpzeEVsZW1lbnQsIChqc3hFbGVtZW50KSA9PiB7XG4gICAgbGV0IGlzSW52aXNpYmxlQ29tcG9uZW50ID0gZmFsc2U7XG4gICAgaWYgKCFqc3hFbGVtZW50KSB7XG4gICAgICAvKipcbiAgICAgICAqIFdlIGRpZCBub3QgZmluZCBhbnkganN4IG5vZGUgd2l0aCBhIHN0cmluZyB0YWcuIFRoaXMgbWVhbnMgdGhhdCB3ZSBzaG91bGQgYXBwZW5kOlxuICAgICAgICpcbiAgICAgICAqIGBgYGh0bWxcbiAgICAgICAqIDxzY3JpcHQgdHlwZT1cInBsYWNlaG9sZGVyXCIgaGlkZGVuIG9uLWRvY3VtZW50OnFpbml0PVwiLi4uXCI+PC9zY3JpcHQ+XG4gICAgICAgKiBgYGBcbiAgICAgICAqXG4gICAgICAgKiBUaGlzIGlzIG5lZWRlZCBiZWNhdXNlIHVzZSBvbiBldmVudHMgc2hvdWxkIGhhdmUgYSBub2RlIHRvIGF0dGFjaCB0aGVtIHRvLlxuICAgICAgICovXG4gICAgICBpc0ludmlzaWJsZUNvbXBvbmVudCA9IHRydWU7XG4gICAgfVxuICAgIGZvciAoY29uc3Qga2V5IGluIHVzZU9uRXZlbnRzKSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHVzZU9uRXZlbnRzLCBrZXkpKSB7XG4gICAgICAgIGlmIChpc0ludmlzaWJsZUNvbXBvbmVudCkge1xuICAgICAgICAgIGlmIChrZXkgPT09ICdvblF2aXNpYmxlJCcpIHtcbiAgICAgICAgICAgIGpzeEVsZW1lbnQgPSBhZGRTY3JpcHROb2RlRm9ySW52aXNpYmxlQ29tcG9uZW50cyhqc3gpO1xuICAgICAgICAgICAgaWYgKGpzeEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgYWRkVXNlT25FdmVudChqc3hFbGVtZW50LCAnZG9jdW1lbnQ6b25RaW5pdCQnLCB1c2VPbkV2ZW50c1trZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKGtleS5zdGFydHNXaXRoKCdkb2N1bWVudDonKSB8fCBrZXkuc3RhcnRzV2l0aCgnd2luZG93OicpKSB7XG4gICAgICAgICAgICBqc3hFbGVtZW50ID0gYWRkU2NyaXB0Tm9kZUZvckludmlzaWJsZUNvbXBvbmVudHMoanN4KTtcbiAgICAgICAgICAgIGlmIChqc3hFbGVtZW50KSB7XG4gICAgICAgICAgICAgIGFkZFVzZU9uRXZlbnQoanN4RWxlbWVudCwga2V5LCB1c2VPbkV2ZW50c1trZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKGlzRGV2KSB7XG4gICAgICAgICAgICBsb2dXYXJuKFxuICAgICAgICAgICAgICAnWW91IGFyZSB0cnlpbmcgdG8gYWRkIGFuIGV2ZW50IFwiJyArXG4gICAgICAgICAgICAgICAga2V5ICtcbiAgICAgICAgICAgICAgICAnXCIgdXNpbmcgYHVzZU9uYCBob29rLCAnICtcbiAgICAgICAgICAgICAgICAnYnV0IGEgbm9kZSB0byB3aGljaCB5b3UgY2FuIGFkZCBhbiBldmVudCBpcyBub3QgZm91bmQuICcgK1xuICAgICAgICAgICAgICAgICdQbGVhc2UgbWFrZSBzdXJlIHRoYXQgdGhlIGNvbXBvbmVudCBoYXMgYSB2YWxpZCBlbGVtZW50IG5vZGUuICdcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGpzeEVsZW1lbnQpIHtcbiAgICAgICAgICBhZGRVc2VPbkV2ZW50KGpzeEVsZW1lbnQsIGtleSwgdXNlT25FdmVudHNba2V5XSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGpzeEVsZW1lbnQ7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBhZGRVc2VPbkV2ZW50KGpzeEVsZW1lbnQ6IEpTWE5vZGUsIGtleTogc3RyaW5nLCB2YWx1ZTogRXZlbnRRUkw8S25vd25FdmVudE5hbWVzPltdKSB7XG4gIGxldCBwcm9wcyA9IGpzeEVsZW1lbnQucHJvcHM7XG4gIGlmIChwcm9wcyA9PT0gRU1QVFlfT0JKKSB7XG4gICAgcHJvcHMgPSBqc3hFbGVtZW50LnByb3BzID0ge307XG4gIH1cbiAgbGV0IHByb3BWYWx1ZSA9IHByb3BzW2tleV0gYXMgVXNlT25NYXBbJ2FueSddIHwgVXNlT25NYXBbJ2FueSddWzBdIHwgdW5kZWZpbmVkO1xuICBpZiAocHJvcFZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICBwcm9wVmFsdWUgPSBbXTtcbiAgfSBlbHNlIGlmICghQXJyYXkuaXNBcnJheShwcm9wVmFsdWUpKSB7XG4gICAgcHJvcFZhbHVlID0gW3Byb3BWYWx1ZV07XG4gIH1cbiAgcHJvcFZhbHVlLnB1c2goLi4udmFsdWUpO1xuICBwcm9wc1trZXldID0gcHJvcFZhbHVlO1xufVxuXG5mdW5jdGlvbiBmaW5kRmlyc3RTdHJpbmdKU1goanN4OiBKU1hPdXRwdXQpOiBWYWx1ZU9yUHJvbWlzZTxKU1hOb2RlPHN0cmluZz4gfCBudWxsPiB7XG4gIGNvbnN0IHF1ZXVlOiBhbnlbXSA9IFtqc3hdO1xuICB3aGlsZSAocXVldWUubGVuZ3RoKSB7XG4gICAgY29uc3QganN4ID0gcXVldWUuc2hpZnQoKTtcbiAgICBpZiAoaXNKU1hOb2RlKGpzeCkpIHtcbiAgICAgIGlmICh0eXBlb2YganN4LnR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiBqc3ggYXMgSlNYTm9kZTxzdHJpbmc+O1xuICAgICAgfVxuICAgICAgcXVldWUucHVzaChqc3guY2hpbGRyZW4pO1xuICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShqc3gpKSB7XG4gICAgICBxdWV1ZS5wdXNoKC4uLmpzeCk7XG4gICAgfSBlbHNlIGlmIChpc1Byb21pc2UoanN4KSkge1xuICAgICAgcmV0dXJuIG1heWJlVGhlbjxKU1hPdXRwdXQsIEpTWE5vZGU8c3RyaW5nPiB8IG51bGw+KGpzeCwgKGpzeCkgPT4gZmluZEZpcnN0U3RyaW5nSlNYKGpzeCkpO1xuICAgIH0gZWxzZSBpZiAoaXNTaWduYWwoanN4KSkge1xuICAgICAgcmV0dXJuIGZpbmRGaXJzdFN0cmluZ0pTWCh1bnRyYWNrKCgpID0+IGpzeC52YWx1ZSBhcyBKU1hPdXRwdXQpKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIGFkZFNjcmlwdE5vZGVGb3JJbnZpc2libGVDb21wb25lbnRzKGpzeDogSlNYT3V0cHV0KTogSlNYTm9kZTxzdHJpbmc+IHwgbnVsbCB7XG4gIGlmIChpc0pTWE5vZGUoanN4KSkge1xuICAgIGNvbnN0IGpzeEVsZW1lbnQgPSBuZXcgSlNYTm9kZUltcGwoXG4gICAgICAnc2NyaXB0JyxcbiAgICAgIHt9LFxuICAgICAge1xuICAgICAgICB0eXBlOiAncGxhY2Vob2xkZXInLFxuICAgICAgICBoaWRkZW46ICcnLFxuICAgICAgfSxcbiAgICAgIG51bGwsXG4gICAgICAzXG4gICAgKTtcblxuICAgIGlmIChqc3guY2hpbGRyZW4gPT0gbnVsbCkge1xuICAgICAganN4LmNoaWxkcmVuID0ganN4RWxlbWVudDtcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoanN4LmNoaWxkcmVuKSkge1xuICAgICAganN4LmNoaWxkcmVuLnB1c2goanN4RWxlbWVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGpzeC5jaGlsZHJlbiA9IFtqc3guY2hpbGRyZW4sIGpzeEVsZW1lbnRdO1xuICAgIH1cbiAgICByZXR1cm4ganN4RWxlbWVudDtcbiAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGpzeCkgJiYganN4Lmxlbmd0aCkge1xuICAgIC8vIGdldCBmaXJzdCBlbGVtZW50XG4gICAgcmV0dXJuIGFkZFNjcmlwdE5vZGVGb3JJbnZpc2libGVDb21wb25lbnRzKGpzeFswXSk7XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cbiJdfQ==","import { NON_SERIALIZABLE_MARKER_PREFIX, QSlotParent } from './markers';\nexport function isSlotProp(prop) {\n    return !prop.startsWith('q:') && !prop.startsWith(NON_SERIALIZABLE_MARKER_PREFIX);\n}\nexport function isParentSlotProp(prop) {\n    return prop.startsWith(QSlotParent);\n}\n/** @internal */\nexport const _restProps = (props, omit, target = {}) => {\n    for (const key in props) {\n        if (!omit.includes(key)) {\n            target[key] = props[key];\n        }\n    }\n    return target;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvcC5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9zaGFyZWQvdXRpbHMvcHJvcC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsOEJBQThCLEVBQUUsV0FBVyxFQUFFLE1BQU0sV0FBVyxDQUFDO0FBRXhFLE1BQU0sVUFBVSxVQUFVLENBQUMsSUFBWTtJQUNyQyxPQUFPLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsOEJBQThCLENBQUMsQ0FBQztBQUNwRixDQUFDO0FBRUQsTUFBTSxVQUFVLGdCQUFnQixDQUFDLElBQVk7SUFDM0MsT0FBTyxJQUFJLENBQUMsVUFBVSxDQUFDLFdBQVcsQ0FBQyxDQUFDO0FBQ3RDLENBQUM7QUFFRCxnQkFBZ0I7QUFDaEIsTUFBTSxDQUFDLE1BQU0sVUFBVSxHQUFHLENBQUMsS0FBMEIsRUFBRSxJQUFjLEVBQUUsTUFBTSxHQUFHLEVBQUUsRUFBRSxFQUFFO0lBQ3BGLEtBQUssTUFBTSxHQUFHLElBQUksS0FBSyxFQUFFLENBQUM7UUFDeEIsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQztZQUN2QixNQUFjLENBQUMsR0FBRyxDQUFDLEdBQUcsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3BDLENBQUM7SUFDSCxDQUFDO0lBQ0QsT0FBTyxNQUFNLENBQUM7QUFDaEIsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTk9OX1NFUklBTElaQUJMRV9NQVJLRVJfUFJFRklYLCBRU2xvdFBhcmVudCB9IGZyb20gJy4vbWFya2Vycyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1Nsb3RQcm9wKHByb3A6IHN0cmluZyk6IGJvb2xlYW4ge1xuICByZXR1cm4gIXByb3Auc3RhcnRzV2l0aCgncTonKSAmJiAhcHJvcC5zdGFydHNXaXRoKE5PTl9TRVJJQUxJWkFCTEVfTUFSS0VSX1BSRUZJWCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1BhcmVudFNsb3RQcm9wKHByb3A6IHN0cmluZyk6IGJvb2xlYW4ge1xuICByZXR1cm4gcHJvcC5zdGFydHNXaXRoKFFTbG90UGFyZW50KTtcbn1cblxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IF9yZXN0UHJvcHMgPSAocHJvcHM6IFJlY29yZDxzdHJpbmcsIGFueT4sIG9taXQ6IHN0cmluZ1tdLCB0YXJnZXQgPSB7fSkgPT4ge1xuICBmb3IgKGNvbnN0IGtleSBpbiBwcm9wcykge1xuICAgIGlmICghb21pdC5pbmNsdWRlcyhrZXkpKSB7XG4gICAgICAodGFyZ2V0IGFzIGFueSlba2V5XSA9IHByb3BzW2tleV07XG4gICAgfVxuICB9XG4gIHJldHVybiB0YXJnZXQ7XG59O1xuIl19","export function escapeHTML(html) {\n    let escapedHTML = '';\n    const length = html.length;\n    let idx = 0;\n    let lastIdx = idx;\n    for (; idx < length; idx++) {\n        // We get the charCode NOT string. String would allocate memory.\n        const ch = html.charCodeAt(idx);\n        // Every time we concat a string we allocate memory. We want to minimize that.\n        if (ch === 60 /* < */) {\n            escapedHTML += html.substring(lastIdx, idx) + '&lt;';\n        }\n        else if (ch === 62 /* > */) {\n            escapedHTML += html.substring(lastIdx, idx) + '&gt;';\n        }\n        else if (ch === 38 /* & */) {\n            escapedHTML += html.substring(lastIdx, idx) + '&amp;';\n        }\n        else if (ch === 34 /* \" */) {\n            escapedHTML += html.substring(lastIdx, idx) + '&quot;';\n        }\n        else if (ch === 39 /* ' */) {\n            escapedHTML += html.substring(lastIdx, idx) + '&#39;';\n        }\n        else {\n            continue;\n        }\n        lastIdx = idx + 1;\n    }\n    if (lastIdx === 0) {\n        // This is most common case, just return previous string no memory allocation.\n        return html;\n    }\n    else {\n        // Add the tail of replacement.\n        return escapedHTML + html.substring(lastIdx);\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2hhcmFjdGVyLWVzY2FwaW5nLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3NoYXJlZC91dGlscy9jaGFyYWN0ZXItZXNjYXBpbmcudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTSxVQUFVLFVBQVUsQ0FBQyxJQUFZO0lBQ3JDLElBQUksV0FBVyxHQUFHLEVBQUUsQ0FBQztJQUNyQixNQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO0lBQzNCLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQztJQUNaLElBQUksT0FBTyxHQUFHLEdBQUcsQ0FBQztJQUNsQixPQUFPLEdBQUcsR0FBRyxNQUFNLEVBQUUsR0FBRyxFQUFFLEVBQUUsQ0FBQztRQUMzQixnRUFBZ0U7UUFDaEUsTUFBTSxFQUFFLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNoQyw4RUFBOEU7UUFDOUUsSUFBSSxFQUFFLEtBQUssRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDO1lBQ3RCLFdBQVcsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLE9BQU8sRUFBRSxHQUFHLENBQUMsR0FBRyxNQUFNLENBQUM7UUFDdkQsQ0FBQzthQUFNLElBQUksRUFBRSxLQUFLLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQztZQUM3QixXQUFXLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxPQUFPLEVBQUUsR0FBRyxDQUFDLEdBQUcsTUFBTSxDQUFDO1FBQ3ZELENBQUM7YUFBTSxJQUFJLEVBQUUsS0FBSyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUM7WUFDN0IsV0FBVyxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxFQUFFLEdBQUcsQ0FBQyxHQUFHLE9BQU8sQ0FBQztRQUN4RCxDQUFDO2FBQU0sSUFBSSxFQUFFLEtBQUssRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDO1lBQzdCLFdBQVcsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLE9BQU8sRUFBRSxHQUFHLENBQUMsR0FBRyxRQUFRLENBQUM7UUFDekQsQ0FBQzthQUFNLElBQUksRUFBRSxLQUFLLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQztZQUM3QixXQUFXLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxPQUFPLEVBQUUsR0FBRyxDQUFDLEdBQUcsT0FBTyxDQUFDO1FBQ3hELENBQUM7YUFBTSxDQUFDO1lBQ04sU0FBUztRQUNYLENBQUM7UUFDRCxPQUFPLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQztJQUNwQixDQUFDO0lBQ0QsSUFBSSxPQUFPLEtBQUssQ0FBQyxFQUFFLENBQUM7UUFDbEIsOEVBQThFO1FBQzlFLE9BQU8sSUFBSSxDQUFDO0lBQ2QsQ0FBQztTQUFNLENBQUM7UUFDTiwrQkFBK0I7UUFDL0IsT0FBTyxXQUFXLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUMvQyxDQUFDO0FBQ0gsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBlc2NhcGVIVE1MKGh0bWw6IHN0cmluZyk6IHN0cmluZyB7XG4gIGxldCBlc2NhcGVkSFRNTCA9ICcnO1xuICBjb25zdCBsZW5ndGggPSBodG1sLmxlbmd0aDtcbiAgbGV0IGlkeCA9IDA7XG4gIGxldCBsYXN0SWR4ID0gaWR4O1xuICBmb3IgKDsgaWR4IDwgbGVuZ3RoOyBpZHgrKykge1xuICAgIC8vIFdlIGdldCB0aGUgY2hhckNvZGUgTk9UIHN0cmluZy4gU3RyaW5nIHdvdWxkIGFsbG9jYXRlIG1lbW9yeS5cbiAgICBjb25zdCBjaCA9IGh0bWwuY2hhckNvZGVBdChpZHgpO1xuICAgIC8vIEV2ZXJ5IHRpbWUgd2UgY29uY2F0IGEgc3RyaW5nIHdlIGFsbG9jYXRlIG1lbW9yeS4gV2Ugd2FudCB0byBtaW5pbWl6ZSB0aGF0LlxuICAgIGlmIChjaCA9PT0gNjAgLyogPCAqLykge1xuICAgICAgZXNjYXBlZEhUTUwgKz0gaHRtbC5zdWJzdHJpbmcobGFzdElkeCwgaWR4KSArICcmbHQ7JztcbiAgICB9IGVsc2UgaWYgKGNoID09PSA2MiAvKiA+ICovKSB7XG4gICAgICBlc2NhcGVkSFRNTCArPSBodG1sLnN1YnN0cmluZyhsYXN0SWR4LCBpZHgpICsgJyZndDsnO1xuICAgIH0gZWxzZSBpZiAoY2ggPT09IDM4IC8qICYgKi8pIHtcbiAgICAgIGVzY2FwZWRIVE1MICs9IGh0bWwuc3Vic3RyaW5nKGxhc3RJZHgsIGlkeCkgKyAnJmFtcDsnO1xuICAgIH0gZWxzZSBpZiAoY2ggPT09IDM0IC8qIFwiICovKSB7XG4gICAgICBlc2NhcGVkSFRNTCArPSBodG1sLnN1YnN0cmluZyhsYXN0SWR4LCBpZHgpICsgJyZxdW90Oyc7XG4gICAgfSBlbHNlIGlmIChjaCA9PT0gMzkgLyogJyAqLykge1xuICAgICAgZXNjYXBlZEhUTUwgKz0gaHRtbC5zdWJzdHJpbmcobGFzdElkeCwgaWR4KSArICcmIzM5Oyc7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBsYXN0SWR4ID0gaWR4ICsgMTtcbiAgfVxuICBpZiAobGFzdElkeCA9PT0gMCkge1xuICAgIC8vIFRoaXMgaXMgbW9zdCBjb21tb24gY2FzZSwganVzdCByZXR1cm4gcHJldmlvdXMgc3RyaW5nIG5vIG1lbW9yeSBhbGxvY2F0aW9uLlxuICAgIHJldHVybiBodG1sO1xuICB9IGVsc2Uge1xuICAgIC8vIEFkZCB0aGUgdGFpbCBvZiByZXBsYWNlbWVudC5cbiAgICByZXR1cm4gZXNjYXBlZEhUTUwgKyBodG1sLnN1YnN0cmluZyhsYXN0SWR4KTtcbiAgfVxufVxuIl19","import { isDev } from '@qwik.dev/core/build';\nimport { SERIALIZABLE_STATE } from '../shared/component.public';\nimport { assertDefined, assertFalse, assertTrue } from '../shared/error/assert';\nimport { Fragment, JSXNodeImpl, directGetPropsProxyProp, isJSXNode, } from '../shared/jsx/jsx-runtime';\nimport { Slot } from '../shared/jsx/slot.public';\nimport { SSRComment, SSRRaw, SkipRender } from '../shared/jsx/utils.public';\nimport { trackSignal, untrack } from '../use/use-core';\nimport { TaskFlags, cleanupTask, isTask } from '../use/use-task';\nimport { EMPTY_OBJ } from '../shared/utils/flyweight';\nimport { ELEMENT_KEY, ELEMENT_PROPS, ELEMENT_SEQ, OnRenderProp, QContainerAttr, QDefaultSlot, QSlot, QSlotParent, QStyle, QTemplate, dangerouslySetInnerHTML, } from '../shared/utils/markers';\nimport { isPromise } from '../shared/utils/promises';\nimport {} from '../shared/utils/types';\nimport { convertEventNameFromJsxPropToHtmlAttr, getEventNameFromJsxProp, getEventNameScopeFromJsxProp, isHtmlAttributeAnEventName, isJsxPropertyAnEventName, } from '../shared/utils/event-names';\nimport { ChoreType } from '../shared/scheduler';\nimport { hasClassAttr } from '../shared/utils/scoped-styles';\nimport { DEBUG_TYPE, QContainerValue, VirtualType } from '../shared/types';\nimport { ElementVNodeProps, VNodeFlags, VNodeProps, VirtualVNodeProps, } from './types';\nimport { mapApp_findIndx, mapArray_set, vnode_ensureElementInflated, vnode_getAttr, vnode_getDomParentVNode, vnode_getElementName, vnode_getFirstChild, vnode_getNextSibling, vnode_getNode, vnode_getParent, vnode_getProjectionParentComponent, vnode_getProp, vnode_getPropStartIndex, vnode_getText, vnode_getType, vnode_insertBefore, vnode_isElementVNode, vnode_isTextVNode, vnode_isVNode, vnode_isVirtualVNode, vnode_locate, vnode_newElement, vnode_newText, vnode_newVirtual, vnode_remove, vnode_setAttr, vnode_setProp, vnode_setText, vnode_truncate, vnode_walkVNode, } from './vnode';\nimport { getNewElementNamespaceData } from './vnode-namespace';\nimport { WrappedSignal, EffectProperty, isSignal, EffectData } from '../signal/signal';\nimport { executeComponent } from '../shared/component-execution';\nimport { isParentSlotProp, isSlotProp } from '../shared/utils/prop';\nimport { escapeHTML } from '../shared/utils/character-escaping';\nimport { clearSubscriberEffectDependencies, clearVNodeEffectDependencies, } from '../signal/signal-subscriber';\nimport { throwErrorAndStop } from '../shared/utils/log';\nimport { serializeAttribute } from '../shared/utils/styles';\nexport const vnode_diff = (container, jsxNode, vStartNode, scopedStyleIdPrefix) => {\n    let journal = container.$journal$;\n    /**\n     * Stack is used to keep track of the state of the traversal.\n     *\n     * We push current state into the stack before descending into the child, and we pop the state\n     * when we are done with the child.\n     */\n    const stack = [];\n    const asyncQueue = [];\n    ////////////////////////////////\n    //// Traverse state variables\n    ////////////////////////////////\n    let vParent = null;\n    /// Current node we compare against. (Think of it as a cursor.)\n    /// (Node can be null, if we are at the end of the list.)\n    let vCurrent = null;\n    /// When we insert new node we start it here so that we can descend into it.\n    /// NOTE: it can't be stored in `vCurrent` because `vNewCurrent` is in journal\n    /// and is not connected to the tree.\n    let vNewNode = null; // TODO: delete, because journal is on vNode, the above comment no longer applies\n    /// When elements have keys they can be consumed out of order and therefore we can't use nextSibling.\n    /// In such a case this array will contain the elements after the current location.\n    /// The array even indices will contains keys and odd indices the vNode.\n    let vSiblings = null; // See: `SiblingsArray`\n    let vSiblingsIdx = -1;\n    /// Current set of JSX children.\n    let jsxChildren = null;\n    // Current JSX child.\n    let jsxValue = null;\n    let jsxIdx = 0;\n    let jsxCount = 0;\n    // When we descend into children, we need to skip advance() because we just descended.\n    let shouldAdvance = true;\n    /**\n     * When we are rendering inside a projection we don't want to process child components. Child\n     * components will be processed only if the projection is re-projected with a `<Slot>`.\n     *\n     * Example: <Parent> <div> <Child/> </div> </Parent>\n     *\n     * In the above example, the `Child` component will not be processed because it is inside a\n     * projection. Only if the `<Parent>` projects its content with `<Slot>` will the `Child`\n     * component be processed.\n     */\n    // let inContentProjection = false;\n    ////////////////////////////////\n    diff(jsxNode, vStartNode);\n    return drainAsyncQueue();\n    //////////////////////////////////////////////\n    //////////////////////////////////////////////\n    //////////////////////////////////////////////\n    function diff(jsxNode, vStartNode) {\n        assertFalse(vnode_isVNode(jsxNode), 'JSXNode should not be a VNode');\n        assertTrue(vnode_isVNode(vStartNode), 'vStartNode should be a VNode');\n        vParent = vStartNode;\n        vNewNode = null;\n        vCurrent = vnode_getFirstChild(vStartNode);\n        stackPush(jsxNode, true);\n        while (stack.length) {\n            while (jsxIdx < jsxCount) {\n                assertFalse(vParent === vCurrent, \"Parent and current can't be the same\");\n                if (typeof jsxValue === 'string') {\n                    expectText(jsxValue);\n                }\n                else if (typeof jsxValue === 'number') {\n                    expectText(String(jsxValue));\n                }\n                else if (jsxValue && typeof jsxValue === 'object') {\n                    if (Array.isArray(jsxValue)) {\n                        descend(jsxValue, false);\n                    }\n                    else if (isSignal(jsxValue)) {\n                        if (vCurrent) {\n                            clearVNodeEffectDependencies(vCurrent);\n                        }\n                        expectVirtual(VirtualType.WrappedSignal, null);\n                        descend(trackSignal(() => jsxValue.value, (vNewNode || vCurrent), EffectProperty.VNODE, container), true);\n                    }\n                    else if (isPromise(jsxValue)) {\n                        expectVirtual(VirtualType.Awaited, null);\n                        asyncQueue.push(jsxValue, vNewNode || vCurrent);\n                    }\n                    else if (isJSXNode(jsxValue)) {\n                        const type = jsxValue.type;\n                        if (typeof type === 'string') {\n                            expectNoMoreTextNodes();\n                            expectElement(jsxValue, type);\n                            descend(jsxValue.children, true);\n                        }\n                        else if (typeof type === 'function') {\n                            if (type === Fragment) {\n                                expectNoMoreTextNodes();\n                                expectVirtual(VirtualType.Fragment, jsxValue.key);\n                                descend(jsxValue.children, true);\n                            }\n                            else if (type === Slot) {\n                                expectNoMoreTextNodes();\n                                if (!expectSlot()) {\n                                    // nothing to project, so try to render the Slot default content.\n                                    descend(jsxValue.children, true);\n                                }\n                            }\n                            else if (type === Projection) {\n                                expectProjection();\n                                descend(jsxValue.children, true);\n                            }\n                            else if (type === SSRComment) {\n                                expectNoMore();\n                            }\n                            else if (type === SSRRaw) {\n                                expectNoMore();\n                            }\n                            else {\n                                // Must be a component\n                                expectNoMoreTextNodes();\n                                expectComponent(type);\n                            }\n                        }\n                    }\n                }\n                else if (jsxValue === SkipRender) {\n                    // do nothing, we are skipping this node\n                    journal = [];\n                }\n                else {\n                    expectText('');\n                }\n                advance();\n            }\n            expectNoMore();\n            ascend();\n        }\n    }\n    function advance() {\n        if (!shouldAdvance) {\n            shouldAdvance = true;\n            return;\n        }\n        jsxIdx++;\n        if (jsxIdx < jsxCount) {\n            jsxValue = jsxChildren[jsxIdx];\n        }\n        else if (stack[stack.length - 1] === false) {\n            // this was special `descendVNode === false` so pop and try again\n            return ascend();\n        }\n        if (vNewNode !== null) {\n            // We have a new Node.\n            // This means that the `vCurrent` was deemed not useful and we inserted in front of it.\n            // This means that the next node we should look at is the `vCurrent` so just clear the\n            // vNewNode  and try again.\n            vNewNode = null;\n        }\n        else {\n            advanceToNextSibling();\n        }\n    }\n    /**\n     * Advance the `vCurrent` to the next sibling.\n     *\n     * Normally this is just `vCurrent = vnode_getNextSibling(vCurrent)`. However, this gets\n     * complicated if `retrieveChildWithKey` was called, because then we are consuming nodes out of\n     * order and can't rely on `vnode_getNextSibling` and instead we need to go by `vSiblings`.\n     */\n    function peekNextSibling() {\n        if (vSiblings !== null) {\n            // We came across a key, and we moved nodes around. This means we can no longer use\n            // `vnode_getNextSibling` to look at next node and instead we have to go by `vSiblings`.\n            const idx = vSiblingsIdx + SiblingsArray.NextVNode;\n            return idx < vSiblings.length ? vSiblings[idx] : null;\n        }\n        else {\n            // If we don't have a `vNewNode`, than that means we just reconciled the current node.\n            // So advance it.\n            return vCurrent ? vnode_getNextSibling(vCurrent) : null;\n        }\n    }\n    /**\n     * Advance the `vCurrent` to the next sibling.\n     *\n     * Normally this is just `vCurrent = vnode_getNextSibling(vCurrent)`. However, this gets\n     * complicated if `retrieveChildWithKey` was called, because then we are consuming nodes out of\n     * order and can't rely on `vnode_getNextSibling` and instead we need to go by `vSiblings`.\n     */\n    function advanceToNextSibling() {\n        vCurrent = peekNextSibling();\n        if (vSiblings !== null) {\n            vSiblingsIdx += SiblingsArray.Size; // advance;\n        }\n    }\n    /**\n     * @param children\n     * @param descendVNode - If true we are descending into vNode; This is set to false if we come\n     *   across an array in jsx, and we need to descend into the array without actually descending\n     *   into the vNode.\n     *\n     *   Example:\n     *\n     *   ```\n     *   <>\n     *   before\n     *   {[1,2].map((i) => <span>{i}</span>)}\n     *   after\n     *   </>\n     * ```\n     *\n     *   In the above example all nodes are on same level so we don't `descendVNode` even thought there\n     *   is an array produced by the `map` function.\n     */\n    function descend(children, descendVNode) {\n        if (children == null) {\n            expectNoChildren();\n            return;\n        }\n        stackPush(children, descendVNode);\n        if (descendVNode) {\n            assertDefined(vCurrent || vNewNode, 'Expecting vCurrent to be defined.');\n            vSiblings = null;\n            vSiblingsIdx = -1;\n            vParent = vNewNode || vCurrent;\n            vCurrent = vnode_getFirstChild(vParent);\n            vNewNode = null;\n        }\n        shouldAdvance = false;\n    }\n    function ascend() {\n        const descendVNode = stack.pop(); // boolean: descendVNode\n        if (descendVNode) {\n            vSiblingsIdx = stack.pop();\n            vSiblings = stack.pop();\n            vNewNode = stack.pop();\n            vCurrent = stack.pop();\n            vParent = stack.pop();\n        }\n        jsxValue = stack.pop();\n        jsxCount = stack.pop();\n        jsxIdx = stack.pop();\n        jsxChildren = stack.pop();\n        advance();\n    }\n    function stackPush(children, descendVNode) {\n        stack.push(jsxChildren, jsxIdx, jsxCount, jsxValue);\n        if (descendVNode) {\n            stack.push(vParent, vCurrent, vNewNode, vSiblings, vSiblingsIdx);\n        }\n        stack.push(descendVNode);\n        if (Array.isArray(children)) {\n            jsxIdx = 0;\n            jsxCount = children.length;\n            jsxChildren = children;\n            jsxValue = jsxCount > 0 ? children[0] : null;\n        }\n        else if (children === undefined) {\n            // no children\n            jsxIdx = 0;\n            jsxValue = null;\n            jsxChildren = null;\n            jsxCount = 0;\n        }\n        else {\n            jsxIdx = 0;\n            jsxValue = children;\n            jsxChildren = null;\n            jsxCount = 1;\n        }\n    }\n    function getInsertBefore() {\n        if (vNewNode) {\n            return vCurrent;\n        }\n        else if (vSiblings !== null) {\n            const nextIdx = vSiblingsIdx + SiblingsArray.NextVNode;\n            return nextIdx < vSiblings.length ? vSiblings[nextIdx] : null;\n        }\n        else {\n            return peekNextSibling();\n        }\n    }\n    /////////////////////////////////////////////////////////////////////////////\n    /////////////////////////////////////////////////////////////////////////////\n    /////////////////////////////////////////////////////////////////////////////\n    function descendContentToProject(children, host) {\n        if (!Array.isArray(children)) {\n            children = [children];\n        }\n        if (children.length) {\n            const createProjectionJSXNode = (slotName) => {\n                return new JSXNodeImpl(Projection, EMPTY_OBJ, null, [], 0, slotName);\n            };\n            const projections = [];\n            if (host) {\n                // we need to create empty projections for all the slots to remove unused slots content\n                for (let i = vnode_getPropStartIndex(host); i < host.length; i = i + 2) {\n                    const prop = host[i];\n                    if (isSlotProp(prop)) {\n                        const slotName = prop;\n                        projections.push(slotName);\n                        projections.push(createProjectionJSXNode(slotName));\n                    }\n                }\n            }\n            /// STEP 1: Bucketize the children based on the projection name.\n            for (let i = 0; i < children.length; i++) {\n                const child = children[i];\n                const slotName = String((isJSXNode(child) && directGetPropsProxyProp(child, QSlot)) || QDefaultSlot);\n                const idx = mapApp_findIndx(projections, slotName, 0);\n                let jsxBucket;\n                if (idx >= 0) {\n                    jsxBucket = projections[idx + 1];\n                }\n                else {\n                    projections.splice(~idx, 0, slotName, (jsxBucket = createProjectionJSXNode(slotName)));\n                }\n                const removeProjection = child === false;\n                if (!removeProjection) {\n                    jsxBucket.children.push(child);\n                }\n            }\n            /// STEP 2: remove the names\n            for (let i = projections.length - 2; i >= 0; i = i - 2) {\n                projections.splice(i, 1);\n            }\n            descend(projections, true);\n        }\n    }\n    function expectProjection() {\n        const slotName = jsxValue.key;\n        // console.log('expectProjection', JSON.stringify(slotName));\n        vCurrent = vnode_getProp(vParent, // The parent is the component and it should have our portal.\n        slotName, (id) => vnode_locate(container.rootVNode, id));\n        if (vCurrent == null) {\n            vNewNode = vnode_newVirtual();\n            // you may be tempted to add the projection into the current parent, but\n            // that is wrong. We don't yet know if the projection will be projected, so\n            // we should leave it unattached.\n            // vNewNode[VNodeProps.parent] = vParent;\n            isDev && vnode_setProp(vNewNode, DEBUG_TYPE, VirtualType.Projection);\n            isDev && vnode_setProp(vNewNode, 'q:code', 'expectProjection');\n            vnode_setProp(vNewNode, QSlot, slotName);\n            vnode_setProp(vNewNode, QSlotParent, vParent);\n            vnode_setProp(vParent, slotName, vNewNode);\n        }\n    }\n    function expectSlot() {\n        const vHost = vnode_getProjectionParentComponent(vParent, container.rootVNode);\n        const slotNameKey = getSlotNameKey(vHost);\n        // console.log('expectSlot', JSON.stringify(slotNameKey));\n        const vProjectedNode = vHost\n            ? vnode_getProp(vHost, slotNameKey, \n            // for slots this id is vnode ref id\n            null // Projections should have been resolved through container.ensureProjectionResolved\n            //(id) => vnode_locate(container.rootVNode, id)\n            )\n            : null;\n        // console.log('   ', String(vHost), String(vProjectedNode));\n        if (vProjectedNode == null) {\n            // Nothing to project, so render content of the slot.\n            vnode_insertBefore(journal, vParent, (vNewNode = vnode_newVirtual()), vCurrent && getInsertBefore());\n            vnode_setProp(vNewNode, QSlot, slotNameKey);\n            vHost && vnode_setProp(vHost, slotNameKey, vNewNode);\n            isDev && vnode_setProp(vNewNode, DEBUG_TYPE, VirtualType.Projection);\n            isDev && vnode_setProp(vNewNode, 'q:code', 'expectSlot' + count++);\n            return false;\n        }\n        else if (vProjectedNode === vCurrent) {\n            // All is good.\n            // console.log('  NOOP', String(vCurrent));\n        }\n        else {\n            // move from q:template to the target node\n            vnode_insertBefore(journal, vParent, (vNewNode = vProjectedNode), vCurrent && getInsertBefore());\n            vnode_setProp(vNewNode, QSlot, slotNameKey);\n            vHost && vnode_setProp(vHost, slotNameKey, vNewNode);\n            isDev && vnode_setProp(vNewNode, DEBUG_TYPE, VirtualType.Projection);\n            isDev && vnode_setProp(vNewNode, 'q:code', 'expectSlot' + count++);\n        }\n        return true;\n    }\n    function getSlotNameKey(vHost) {\n        const constProps = jsxValue.constProps;\n        if (constProps && typeof constProps == 'object' && 'name' in constProps) {\n            const constValue = constProps.name;\n            if (vHost && constValue instanceof WrappedSignal) {\n                return trackSignal(() => constValue.value, vHost, EffectProperty.COMPONENT, container);\n            }\n        }\n        return directGetPropsProxyProp(jsxValue, 'name') || QDefaultSlot;\n    }\n    function drainAsyncQueue() {\n        while (asyncQueue.length) {\n            const jsxNode = asyncQueue.shift();\n            const vHostNode = asyncQueue.shift();\n            if (isPromise(jsxNode)) {\n                return jsxNode.then((jsxNode) => {\n                    diff(jsxNode, vHostNode);\n                    return drainAsyncQueue();\n                });\n            }\n            else {\n                diff(jsxNode, vHostNode);\n            }\n        }\n    }\n    function expectNoChildren() {\n        const vFirstChild = vCurrent && vnode_getFirstChild(vCurrent);\n        if (vFirstChild !== null) {\n            let vChild = vFirstChild;\n            while (vChild) {\n                cleanup(container, vChild);\n                vChild = vnode_getNextSibling(vChild);\n            }\n            vnode_truncate(journal, vCurrent, vFirstChild);\n        }\n    }\n    /** Expect no more nodes - Any nodes which are still at cursor, need to be removed. */\n    function expectNoMore() {\n        assertFalse(vParent === vCurrent, \"Parent and current can't be the same\");\n        if (vCurrent !== null) {\n            while (vCurrent) {\n                const toRemove = vCurrent;\n                advanceToNextSibling();\n                cleanup(container, toRemove);\n                if (vParent === vnode_getParent(toRemove)) {\n                    // If we are diffing projection than the parent is not the parent of the node.\n                    // If that is the case we don't want to remove the node from the parent.\n                    vnode_remove(journal, vParent, toRemove, true);\n                }\n            }\n        }\n    }\n    function expectNoMoreTextNodes() {\n        while (vCurrent !== null && vnode_isTextVNode(vCurrent)) {\n            cleanup(container, vCurrent);\n            const toRemove = vCurrent;\n            advanceToNextSibling();\n            vnode_remove(journal, vParent, toRemove, true);\n        }\n    }\n    /**\n     * Returns whether `qDispatchEvent` needs patching. This is true when one of the `jsx` argument's\n     * const props has the name of an event.\n     *\n     * @returns {boolean}\n     */\n    function createNewElement(jsx, elementName) {\n        const element = createElementWithNamespace(elementName);\n        const { constProps } = jsx;\n        let needsQDispatchEventPatch = false;\n        if (constProps) {\n            // Const props are, well, constant, they will never change!\n            // For this reason we can cheat and write them directly into the DOM.\n            // We never tell the vNode about them saving us time and memory.\n            for (const key in constProps) {\n                let value = constProps[key];\n                if (isJsxPropertyAnEventName(key)) {\n                    // So for event handlers we must add them to the vNode so that qwikloader can look them up\n                    // But we need to mark them so that they don't get pulled into the diff.\n                    const eventName = getEventNameFromJsxProp(key);\n                    const scope = getEventNameScopeFromJsxProp(key);\n                    vnode_setProp(vNewNode, HANDLER_PREFIX + ':' + scope + ':' + eventName, value);\n                    if (eventName) {\n                        registerQwikLoaderEvent(eventName);\n                    }\n                    needsQDispatchEventPatch = true;\n                    continue;\n                }\n                if (key === 'ref') {\n                    if (isSignal(value)) {\n                        value.value = element;\n                        continue;\n                    }\n                    else if (typeof value === 'function') {\n                        value(element);\n                        continue;\n                    }\n                }\n                if (isSignal(value)) {\n                    const signalData = new EffectData({\n                        $scopedStyleIdPrefix$: scopedStyleIdPrefix,\n                        $isConst$: true,\n                    });\n                    value = trackSignal(() => value.value, vNewNode, key, container, signalData);\n                }\n                if (key === dangerouslySetInnerHTML) {\n                    element.innerHTML = value;\n                    element.setAttribute(QContainerAttr, QContainerValue.HTML);\n                    continue;\n                }\n                if (elementName === 'textarea' && key === 'value') {\n                    if (typeof value !== 'string') {\n                        if (isDev) {\n                            throwErrorAndStop('The value of the textarea must be a string');\n                        }\n                        continue;\n                    }\n                    element.value = escapeHTML(value);\n                    continue;\n                }\n                value = serializeAttribute(key, value, scopedStyleIdPrefix);\n                if (value != null) {\n                    element.setAttribute(key, String(value));\n                }\n            }\n        }\n        const key = jsx.key;\n        if (key) {\n            element.setAttribute(ELEMENT_KEY, key);\n            vnode_setProp(vNewNode, ELEMENT_KEY, key);\n        }\n        // append class attribute if styleScopedId exists and there is no class attribute\n        const classAttributeExists = hasClassAttr(jsx.varProps) || (jsx.constProps && hasClassAttr(jsx.constProps));\n        if (!classAttributeExists && scopedStyleIdPrefix) {\n            element.setAttribute('class', scopedStyleIdPrefix);\n        }\n        vnode_insertBefore(journal, vParent, vNewNode, vCurrent);\n        return needsQDispatchEventPatch;\n    }\n    function createElementWithNamespace(elementName) {\n        const domParentVNode = vnode_getDomParentVNode(vParent);\n        const { elementNamespace, elementNamespaceFlag } = getNewElementNamespaceData(domParentVNode, elementName);\n        const element = container.document.createElementNS(elementNamespace, elementName);\n        vNewNode = vnode_newElement(element, elementName);\n        vNewNode[VNodeProps.flags] |= elementNamespaceFlag;\n        return element;\n    }\n    function expectElement(jsx, elementName) {\n        const isSameElementName = vCurrent && vnode_isElementVNode(vCurrent) && elementName === vnode_getElementName(vCurrent);\n        const jsxKey = jsx.key;\n        let needsQDispatchEventPatch = false;\n        if (!isSameElementName || jsxKey !== getKey(vCurrent)) {\n            // So we have a key and it does not match the current node.\n            // We need to do a forward search to find it.\n            // The complication is that once we start taking nodes out of order we can't use `vnode_getNextSibling`\n            vNewNode = retrieveChildWithKey(elementName, jsxKey);\n            if (vNewNode === null) {\n                // No existing node with key exists, just create a new one.\n                needsQDispatchEventPatch = createNewElement(jsx, elementName);\n            }\n            else {\n                // Existing keyed node\n                vnode_insertBefore(journal, vParent, vNewNode, vCurrent);\n            }\n        }\n        // reconcile attributes\n        const jsxAttrs = [];\n        const props = jsx.varProps;\n        for (const key in props) {\n            let value = props[key];\n            value = serializeAttribute(key, value, scopedStyleIdPrefix);\n            if (value != null) {\n                mapArray_set(jsxAttrs, key, value, 0);\n            }\n        }\n        if (jsxKey !== null) {\n            mapArray_set(jsxAttrs, ELEMENT_KEY, jsxKey, 0);\n        }\n        const vNode = (vNewNode || vCurrent);\n        needsQDispatchEventPatch = setBulkProps(vNode, jsxAttrs) || needsQDispatchEventPatch;\n        if (needsQDispatchEventPatch) {\n            // Event handler needs to be patched onto the element.\n            const element = vnode_getNode(vNode);\n            if (!element.qDispatchEvent) {\n                element.qDispatchEvent = (event, scope) => {\n                    const eventName = event.type;\n                    const eventProp = ':' + scope.substring(1) + ':' + eventName;\n                    const qrls = [\n                        vnode_getProp(vNode, eventProp, null),\n                        vnode_getProp(vNode, HANDLER_PREFIX + eventProp, null),\n                    ];\n                    let returnValue = false;\n                    qrls.flat(2).forEach((qrl) => {\n                        if (qrl) {\n                            const value = qrl(event, element);\n                            returnValue = returnValue || value === true;\n                        }\n                    });\n                    return returnValue;\n                };\n            }\n        }\n    }\n    /** @param tag Returns true if `qDispatchEvent` needs patching */\n    function setBulkProps(vnode, srcAttrs) {\n        vnode_ensureElementInflated(vnode);\n        const dstAttrs = vnode;\n        let srcIdx = 0;\n        const srcLength = srcAttrs.length;\n        let dstIdx = ElementVNodeProps.PROPS_OFFSET;\n        let dstLength = dstAttrs.length;\n        let srcKey = srcIdx < srcLength ? srcAttrs[srcIdx++] : null;\n        let dstKey = dstIdx < dstLength ? dstAttrs[dstIdx++] : null;\n        let patchEventDispatch = false;\n        const record = (key, value) => {\n            if (key.startsWith(':')) {\n                vnode_setProp(vnode, key, value);\n                return;\n            }\n            if (key === 'ref') {\n                const element = vnode_getNode(vnode);\n                if (isSignal(value)) {\n                    value.value = element;\n                    return;\n                }\n                else if (typeof value === 'function') {\n                    value(element);\n                    return;\n                }\n            }\n            if (isSignal(value)) {\n                value = untrack(() => value.value);\n            }\n            vnode_setAttr(journal, vnode, key, value);\n            if (value === null) {\n                // if we set `null` than attribute was removed and we need to shorten the dstLength\n                dstLength = dstAttrs.length;\n            }\n        };\n        const recordJsxEvent = (key, value) => {\n            const eventName = getEventNameFromJsxProp(key);\n            if (eventName) {\n                const scope = getEventNameScopeFromJsxProp(key);\n                record(':' + scope + ':' + eventName, value);\n            }\n            // add an event attr with empty value for qwikloader element selector.\n            // We don't need value here. For ssr this value is a QRL,\n            // but for CSR value should be just empty\n            const htmlEvent = convertEventNameFromJsxPropToHtmlAttr(key);\n            if (htmlEvent) {\n                record(htmlEvent, '');\n            }\n            // register an event for qwik loader\n            if (eventName) {\n                registerQwikLoaderEvent(eventName);\n            }\n        };\n        while (srcKey !== null || dstKey !== null) {\n            if (dstKey?.startsWith(HANDLER_PREFIX) || dstKey == ELEMENT_KEY) {\n                // These are a special keys which we use to mark the event handlers as immutable or\n                // element key we need to ignore them.\n                dstIdx++; // skip the destination value, we don't care about it.\n                dstKey = dstIdx < dstLength ? dstAttrs[dstIdx++] : null;\n            }\n            else if (srcKey == null) {\n                // Source has more keys, so we need to remove them from destination\n                if (dstKey && isHtmlAttributeAnEventName(dstKey)) {\n                    patchEventDispatch = true;\n                    dstIdx++;\n                }\n                else {\n                    record(dstKey, null);\n                    dstIdx--;\n                }\n                dstKey = dstIdx < dstLength ? dstAttrs[dstIdx++] : null;\n            }\n            else if (dstKey == null) {\n                // Destination has more keys, so we need to insert them from source.\n                const isEvent = isJsxPropertyAnEventName(srcKey);\n                if (isEvent) {\n                    // Special handling for events\n                    patchEventDispatch = true;\n                    recordJsxEvent(srcKey, srcAttrs[srcIdx]);\n                }\n                else {\n                    record(srcKey, srcAttrs[srcIdx]);\n                }\n                srcIdx++;\n                srcKey = srcIdx < srcLength ? srcAttrs[srcIdx++] : null;\n            }\n            else if (srcKey == dstKey) {\n                const srcValue = srcAttrs[srcIdx++];\n                const dstValue = dstAttrs[dstIdx++];\n                if (srcValue !== dstValue) {\n                    record(dstKey, srcValue);\n                }\n                srcKey = srcIdx < srcLength ? srcAttrs[srcIdx++] : null;\n                dstKey = dstIdx < dstLength ? dstAttrs[dstIdx++] : null;\n            }\n            else if (srcKey < dstKey) {\n                // Destination is missing the key, so we need to insert it.\n                if (isJsxPropertyAnEventName(srcKey)) {\n                    // Special handling for events\n                    patchEventDispatch = true;\n                    recordJsxEvent(srcKey, srcAttrs[srcIdx]);\n                }\n                else {\n                    record(srcKey, srcAttrs[srcIdx]);\n                }\n                srcIdx++;\n                // advance srcValue\n                srcKey = srcIdx < srcLength ? srcAttrs[srcIdx++] : null;\n                // we need to increment dstIdx too, because we added destination key and value to the VNode\n                // and dstAttrs is a reference to the VNode\n                dstIdx++;\n                dstKey = dstIdx < dstLength ? dstAttrs[dstIdx++] : null;\n            }\n            else {\n                // Source is missing the key, so we need to remove it from destination.\n                if (isHtmlAttributeAnEventName(dstKey)) {\n                    patchEventDispatch = true;\n                    dstIdx++;\n                }\n                else {\n                    record(dstKey, null);\n                    dstIdx--;\n                }\n                dstKey = dstIdx < dstLength ? dstAttrs[dstIdx++] : null;\n            }\n        }\n        return patchEventDispatch;\n    }\n    function registerQwikLoaderEvent(eventName) {\n        const window = container.document.defaultView;\n        if (window) {\n            (window.qwikevents || (window.qwikevents = [])).push(eventName);\n        }\n    }\n    /**\n     * Retrieve the child with the given key.\n     *\n     * By retrieving the child with the given key we are effectively removing it from the list of\n     * future elements. This means that we can't just use `vnode_getNextSibling` to find the next\n     * instead we have to keep track of the elements we have already seen.\n     *\n     * We call this materializing the elements.\n     *\n     * `vSiblingsIdx`:\n     *\n     * - -1: Not materialized\n     * - Positive number - the index of the next element in the `vSiblings` array.\n     *\n     * By retrieving the child with the given key we are effectively removing it from the list (hence\n     * we need to splice the `vSiblings` array).\n     *\n     * @param key\n     * @returns Array where: (see: `SiblingsArray`)\n     *\n     *   - Idx%3 == 0 nodeName\n     *   - Idx%3 == 1 key\n     *   - Idx%3 == 2 vNode\n     */\n    function retrieveChildWithKey(nodeName, key) {\n        let vNodeWithKey = null;\n        if (vSiblingsIdx === -1) {\n            // it is not materialized; so materialize it.\n            vSiblings = [];\n            vSiblingsIdx = 0;\n            let vNode = vCurrent;\n            while (vNode) {\n                const name = vnode_isElementVNode(vNode) ? vnode_getElementName(vNode) : null;\n                const vKey = getKey(vNode) || getComponentHash(vNode, container.$getObjectById$);\n                if (vNodeWithKey === null && vKey == key && name == nodeName) {\n                    vNodeWithKey = vNode;\n                }\n                else {\n                    // we only add the elements which we did not find yet.\n                    vSiblings.push(name, vKey, vNode);\n                }\n                vNode = vnode_getNextSibling(vNode);\n            }\n        }\n        else {\n            for (let idx = vSiblingsIdx; idx < vSiblings.length; idx += SiblingsArray.Size) {\n                const name = vSiblings[idx + SiblingsArray.Name];\n                const vKey = vSiblings[idx + SiblingsArray.Key];\n                if (vKey === key && name === nodeName) {\n                    vNodeWithKey = vSiblings[idx + SiblingsArray.VNode];\n                    // remove the node from the siblings array\n                    vSiblings?.splice(idx, SiblingsArray.Size);\n                    break;\n                }\n            }\n        }\n        return vNodeWithKey;\n    }\n    function expectVirtual(type, jsxKey) {\n        if (vCurrent &&\n            vnode_isVirtualVNode(vCurrent) &&\n            vnode_getProp(vCurrent, ELEMENT_KEY, null) === jsxKey) {\n            // All is good.\n            return;\n        }\n        else if (jsxKey !== null) {\n            // We have a key find it\n            vNewNode = retrieveChildWithKey(null, jsxKey);\n            if (vNewNode != null) {\n                // We found it, move it up.\n                vnode_insertBefore(journal, vParent, (vNewNode = vnode_newVirtual()), vCurrent && getInsertBefore());\n                return;\n            }\n        }\n        // Did not find it, insert a new one.\n        vnode_insertBefore(journal, vParent, (vNewNode = vnode_newVirtual()), vCurrent && getInsertBefore());\n        vnode_setProp(vNewNode, ELEMENT_KEY, jsxKey);\n        isDev && vnode_setProp((vNewNode || vCurrent), DEBUG_TYPE, type);\n    }\n    function expectComponent(component) {\n        const componentMeta = component[SERIALIZABLE_STATE];\n        let host = (vNewNode || vCurrent);\n        if (componentMeta) {\n            const jsxProps = jsxValue.props;\n            // QComponent\n            let shouldRender = false;\n            const [componentQRL] = componentMeta;\n            const componentHash = componentQRL.$hash$;\n            const vNodeComponentHash = getComponentHash(host, container.$getObjectById$);\n            const lookupKey = jsxValue.key || componentHash;\n            const vNodeLookupKey = getKey(host) || vNodeComponentHash;\n            const lookupKeysAreEqual = lookupKey === vNodeLookupKey;\n            const hashesAreEqual = componentHash === vNodeComponentHash;\n            if (!lookupKeysAreEqual) {\n                // See if we already have this component later on.\n                vNewNode = retrieveChildWithKey(null, lookupKey);\n                if (vNewNode) {\n                    // We found the component, move it up.\n                    vnode_insertBefore(journal, vParent, vNewNode, vCurrent);\n                }\n                else {\n                    // We did not find the component, create it.\n                    insertNewComponent(host, componentQRL, jsxProps);\n                }\n                host = vNewNode;\n                shouldRender = true;\n            }\n            else if (!hashesAreEqual) {\n                insertNewComponent(host, componentQRL, jsxProps);\n                if (vNewNode) {\n                    if (host) {\n                        // TODO(varixo): not sure why we need to copy flags here.\n                        vNewNode[VNodeProps.flags] = host[VNodeProps.flags];\n                    }\n                    host = vNewNode;\n                    shouldRender = true;\n                }\n            }\n            if (host) {\n                const vNodeProps = vnode_getProp(host, ELEMENT_PROPS, container.$getObjectById$);\n                shouldRender = shouldRender || propsDiffer(jsxProps, vNodeProps);\n                if (shouldRender) {\n                    /**\n                     * Mark host as not deleted. The host could have been marked as deleted if it there was a\n                     * cleanup run. Now we found it and want to reuse it, so we need to mark it as not\n                     * deleted.\n                     */\n                    host[VNodeProps.flags] &= ~VNodeFlags.Deleted;\n                    container.$scheduler$(ChoreType.COMPONENT, host, componentQRL, jsxProps);\n                }\n            }\n            jsxValue.children != null && descendContentToProject(jsxValue.children, host);\n        }\n        else {\n            const lookupKey = jsxValue.key;\n            const vNodeLookupKey = getKey(host);\n            const lookupKeysAreEqual = lookupKey === vNodeLookupKey;\n            if (!lookupKeysAreEqual) {\n                // See if we already have this inline component later on.\n                vNewNode = retrieveChildWithKey(null, lookupKey);\n                if (vNewNode) {\n                    // We found the inline component, move it up.\n                    vnode_insertBefore(journal, vParent, vNewNode, vCurrent);\n                }\n                else {\n                    // We did not find the inline component, create it.\n                    insertNewInlineComponent();\n                }\n                host = vNewNode;\n            }\n            if (host) {\n                let componentHost = host;\n                // Find the closest component host which has `OnRender` prop. This is need for subscriptions context.\n                while (componentHost &&\n                    (vnode_isVirtualVNode(componentHost)\n                        ? vnode_getProp(componentHost, OnRenderProp, null) === null\n                        : true)) {\n                    componentHost = vnode_getParent(componentHost);\n                }\n                const jsxOutput = executeComponent(container, host, (componentHost || container.rootVNode), component, jsxValue.props);\n                asyncQueue.push(jsxOutput, host);\n            }\n        }\n    }\n    function insertNewComponent(host, componentQRL, jsxProps) {\n        if (host) {\n            clearVNodeEffectDependencies(host);\n        }\n        vnode_insertBefore(journal, vParent, (vNewNode = vnode_newVirtual()), vCurrent && getInsertBefore());\n        isDev && vnode_setProp(vNewNode, DEBUG_TYPE, VirtualType.Component);\n        container.setHostProp(vNewNode, OnRenderProp, componentQRL);\n        container.setHostProp(vNewNode, ELEMENT_PROPS, jsxProps);\n        container.setHostProp(vNewNode, ELEMENT_KEY, jsxValue.key);\n    }\n    function insertNewInlineComponent() {\n        vnode_insertBefore(journal, vParent, (vNewNode = vnode_newVirtual()), vCurrent && getInsertBefore());\n        isDev && vnode_setProp(vNewNode, DEBUG_TYPE, VirtualType.InlineComponent);\n        vnode_setProp(vNewNode, ELEMENT_PROPS, jsxValue.props);\n        if (jsxValue.key) {\n            vnode_setProp(vNewNode, ELEMENT_KEY, jsxValue.key);\n        }\n    }\n    function expectText(text) {\n        if (vCurrent !== null) {\n            const type = vnode_getType(vCurrent);\n            if (type === 3 /* Text */) {\n                if (text !== vnode_getText(vCurrent)) {\n                    vnode_setText(journal, vCurrent, text);\n                    return;\n                }\n                return;\n            }\n        }\n        vnode_insertBefore(journal, vParent, (vNewNode = vnode_newText(container.document.createTextNode(text), text)), vCurrent);\n    }\n};\nexport const isQStyleVNode = (vNode) => {\n    return (vnode_isElementVNode(vNode) &&\n        vnode_getElementName(vNode) === 'style' &&\n        vnode_getAttr(vNode, QStyle) !== null);\n};\n/**\n * Retrieve the key from the VNode.\n *\n * @param vNode - VNode to retrieve the key from\n * @returns Key\n */\nfunction getKey(vNode) {\n    if (vNode == null) {\n        return null;\n    }\n    return vnode_getProp(vNode, ELEMENT_KEY, null);\n}\n/**\n * Retrieve the component hash from the VNode.\n *\n * @param vNode - VNode to retrieve the key from\n * @param getObject - Function to retrieve the object by id for QComponent QRL\n * @returns Hash\n */\nfunction getComponentHash(vNode, getObject) {\n    if (vNode == null) {\n        return null;\n    }\n    const qrl = vnode_getProp(vNode, OnRenderProp, getObject);\n    return qrl ? qrl.$hash$ : null;\n}\n/**\n * Marker class for JSX projection.\n *\n * Assume you have component like so\n *\n * ```\n * <SomeComponent>\n *   some-text\n *   <span q:slot=\"name\">some more text</span>\n *   more-text\n * </SomeComponent>\n * ```\n *\n * Before the `<SomeCompetent/>` is processed its children are transformed into:\n *\n * ```\n *   <Projection q:slot=\"\">\n *     some-text\n *     more-text\n *   </Projection>\n *   <Projection q:slot=\"name\">\n *     <span q:slot=\"name\">some more text</span>\n *   </Projection>\n * ```\n */\nfunction Projection() { }\nfunction propsDiffer(src, dst) {\n    if (!src || !dst) {\n        return true;\n    }\n    let srcKeys = removeChildrenKey(Object.keys(src));\n    let dstKeys = removeChildrenKey(Object.keys(dst));\n    if (srcKeys.length !== dstKeys.length) {\n        return true;\n    }\n    srcKeys = srcKeys.sort();\n    dstKeys = dstKeys.sort();\n    for (let idx = 0; idx < srcKeys.length; idx++) {\n        const srcKey = srcKeys[idx];\n        const dstKey = dstKeys[idx];\n        if (srcKey !== dstKey || src[srcKey] !== dst[dstKey]) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction removeChildrenKey(keys) {\n    const childrenIdx = keys.indexOf('children');\n    if (childrenIdx !== -1) {\n        keys.splice(childrenIdx, 1);\n    }\n    return keys;\n}\n/**\n * If vnode is removed, it is necessary to release all subscriptions associated with it.\n *\n * This function will traverse the vnode tree in depth-first order and release all subscriptions.\n *\n * The function takes into account:\n *\n * - Projection nodes by not recursing into them.\n * - Component nodes by recursing into the component content nodes (which may be projected).\n */\nexport function cleanup(container, vNode) {\n    let vCursor = vNode;\n    // Depth first traversal\n    if (vnode_isTextVNode(vNode)) {\n        // Text nodes don't have subscriptions or children;\n        return;\n    }\n    let vParent = null;\n    do {\n        const type = vCursor[VNodeProps.flags];\n        if (type & VNodeFlags.ELEMENT_OR_VIRTUAL_MASK) {\n            // Only elements and virtual nodes need to be traversed for children\n            if (type & VNodeFlags.Virtual) {\n                // Only virtual nodes have subscriptions\n                clearVNodeEffectDependencies(vCursor);\n                markVNodeAsDeleted(vCursor);\n                const seq = container.getHostProp(vCursor, ELEMENT_SEQ);\n                if (seq) {\n                    for (let i = 0; i < seq.length; i++) {\n                        const obj = seq[i];\n                        if (isTask(obj)) {\n                            const task = obj;\n                            clearSubscriberEffectDependencies(task);\n                            if (task.$flags$ & TaskFlags.VISIBLE_TASK) {\n                                container.$scheduler$(ChoreType.CLEANUP_VISIBLE, task);\n                            }\n                            else {\n                                cleanupTask(task);\n                            }\n                        }\n                    }\n                }\n            }\n            const isComponent = type & VNodeFlags.Virtual &&\n                vnode_getProp(vCursor, OnRenderProp, null) !== null;\n            if (isComponent) {\n                // SPECIAL CASE: If we are a component, we need to descend into the projected content and release the content.\n                const attrs = vCursor;\n                for (let i = VirtualVNodeProps.PROPS_OFFSET; i < attrs.length; i = i + 2) {\n                    const key = attrs[i];\n                    if (!isParentSlotProp(key) && isSlotProp(key)) {\n                        const value = attrs[i + 1];\n                        if (value) {\n                            attrs[i + 1] = null; // prevent infinite loop\n                            const projection = typeof value === 'string'\n                                ? vnode_locate(container.rootVNode, value)\n                                : value;\n                            let projectionChild = vnode_getFirstChild(projection);\n                            while (projectionChild) {\n                                cleanup(container, projectionChild);\n                                projectionChild = vnode_getNextSibling(projectionChild);\n                            }\n                            cleanupStaleUnclaimedProjection(container.$journal$, projection);\n                        }\n                    }\n                }\n            }\n            const isProjection = type & VNodeFlags.Virtual && vnode_getProp(vCursor, QSlot, null) !== null;\n            // Descend into children\n            if (!isProjection) {\n                // Only if it is not a projection\n                const vFirstChild = vnode_getFirstChild(vCursor);\n                if (vFirstChild) {\n                    vCursor = vFirstChild;\n                    continue;\n                }\n            }\n            else if (vCursor === vNode) {\n                /**\n                 * If it is a projection and we are at the root, then we should only walk the children to\n                 * materialize the projection content. This is because we could have references in the vnode\n                 * refs map which need to be materialized before cleanup.\n                 */\n                const vFirstChild = vnode_getFirstChild(vCursor);\n                if (vFirstChild) {\n                    vnode_walkVNode(vFirstChild);\n                    return;\n                }\n            }\n        }\n        // Out of children\n        if (vCursor === vNode) {\n            // we are where we started, this means that vNode has no children, so we are done.\n            return;\n        }\n        // Out of children, go to next sibling\n        const vNextSibling = vnode_getNextSibling(vCursor);\n        if (vNextSibling) {\n            vCursor = vNextSibling;\n            continue;\n        }\n        // Out of siblings, go to parent\n        vParent = vnode_getParent(vCursor);\n        while (vParent) {\n            if (vParent === vNode) {\n                // We are back where we started, we are done.\n                return;\n            }\n            const vNextParentSibling = vnode_getNextSibling(vParent);\n            if (vNextParentSibling) {\n                vCursor = vNextParentSibling;\n                break;\n            }\n            vParent = vnode_getParent(vParent);\n        }\n        if (vParent == null) {\n            // We are done.\n            return;\n        }\n    } while (true);\n}\nfunction cleanupStaleUnclaimedProjection(journal, projection) {\n    // we are removing a node where the projection would go after slot render.\n    // This is not needed, so we need to cleanup still unclaimed projection\n    const projectionParent = vnode_getParent(projection);\n    if (projectionParent) {\n        const projectionParentType = projectionParent[VNodeProps.flags];\n        if (projectionParentType & VNodeFlags.Element &&\n            vnode_getElementName(projectionParent) === QTemplate) {\n            // if parent is the q:template element then projection is still unclaimed - remove it\n            vnode_remove(journal, projectionParent, projection, true);\n        }\n    }\n}\nfunction markVNodeAsDeleted(vCursor) {\n    /**\n     * Marks vCursor as deleted. We need to do this to prevent chores from running after the vnode is\n     * removed. (for example signal subscriptions)\n     */\n    vCursor[VNodeProps.flags] |= VNodeFlags.Deleted;\n}\n/**\n * This marks the property as immutable. It is needed for the QRLs so that QwikLoader can get a hold\n * of them. This character must be `:` so that the `vnode_getAttr` can ignore them.\n */\nconst HANDLER_PREFIX = ':';\nlet count = 0;\nvar SiblingsArray;\n(function (SiblingsArray) {\n    SiblingsArray[SiblingsArray[\"Name\"] = 0] = \"Name\";\n    SiblingsArray[SiblingsArray[\"Key\"] = 1] = \"Key\";\n    SiblingsArray[SiblingsArray[\"VNode\"] = 2] = \"VNode\";\n    SiblingsArray[SiblingsArray[\"Size\"] = 3] = \"Size\";\n    SiblingsArray[SiblingsArray[\"NextVNode\"] = 5] = \"NextVNode\";\n})(SiblingsArray || (SiblingsArray = {}));\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidm5vZGUtZGlmZi5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9jbGllbnQvdm5vZGUtZGlmZi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFDN0MsT0FBTyxFQUFFLGtCQUFrQixFQUFtQixNQUFNLDRCQUE0QixDQUFDO0FBQ2pGLE9BQU8sRUFBRSxhQUFhLEVBQUUsV0FBVyxFQUFFLFVBQVUsRUFBRSxNQUFNLHdCQUF3QixDQUFDO0FBR2hGLE9BQU8sRUFDTCxRQUFRLEVBQ1IsV0FBVyxFQUNYLHVCQUF1QixFQUN2QixTQUFTLEdBRVYsTUFBTSwyQkFBMkIsQ0FBQztBQUNuQyxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sMkJBQTJCLENBQUM7QUFHakQsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLEVBQUUsVUFBVSxFQUFFLE1BQU0sNEJBQTRCLENBQUM7QUFDNUUsT0FBTyxFQUFFLFdBQVcsRUFBRSxPQUFPLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUN2RCxPQUFPLEVBQUUsU0FBUyxFQUFFLFdBQVcsRUFBRSxNQUFNLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUNqRSxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sMkJBQTJCLENBQUM7QUFDdEQsT0FBTyxFQUNMLFdBQVcsRUFDWCxhQUFhLEVBQ2IsV0FBVyxFQUNYLFlBQVksRUFDWixjQUFjLEVBQ2QsWUFBWSxFQUNaLEtBQUssRUFDTCxXQUFXLEVBQ1gsTUFBTSxFQUNOLFNBQVMsRUFDVCx1QkFBdUIsR0FDeEIsTUFBTSx5QkFBeUIsQ0FBQztBQUNqQyxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sMEJBQTBCLENBQUM7QUFDckQsT0FBTyxFQUF1QixNQUFNLHVCQUF1QixDQUFDO0FBQzVELE9BQU8sRUFDTCxxQ0FBcUMsRUFDckMsdUJBQXVCLEVBQ3ZCLDRCQUE0QixF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QUFVLENBQUMsQ0FBQztJQUNyRCxJQUFJLGdCQUFnQixFQUFFLENBQUM7UUFDckIsTUFBTSxvQkFBb0IsR0FBRyxnQkFBZ0IsQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDaEUsSUFDRSxvQkFBb0IsR0FBRyxVQUFVLENBQUMsT0FBTztZQUN6QyxvQkFBb0IsQ0FBQyxnQkFBZ0MsQ0FBQyxLQUFLLFNBQVMsRUFDcEUsQ0FBQztZQUNELHFGQUFxRjtZQUNyRixZQUFZLENBQUMsT0FBTyxFQUFFLGdCQUFnQixFQUFFLFVBQVUsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUM1RCxDQUFDO0lBQ0gsQ0FBQztBQUNILENBQUM7QUFFRCxTQUFTLGtCQUFrQixDQUFDLE9BQWM7SUFDeEM7OztPQUdHO0lBRUgsT0FBTyxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsSUFBSSxVQUFVLENBQUMsT0FBTyxDQUFDO0FBQ2xELENBQUM7QUFFRDs7O0dBR0c7QUFDSCxNQUFNLGNBQWMsR0FBRyxHQUFHLENBQUM7QUFDM0IsSUFBSSxLQUFLLEdBQUcsQ0FBQyxDQUFDO0FBQ2QsSUFBVyxhQU1WO0FBTkQsV0FBVyxhQUFhO0lBQ3RCLGlEQUFRLENBQUE7SUFDUiwrQ0FBTyxDQUFBO0lBQ1AsbURBQVMsQ0FBQTtJQUNULGlEQUFRLENBQUE7SUFDUiwyREFBd0IsQ0FBQTtBQUMxQixDQUFDLEVBTlUsYUFBYSxLQUFiLGFBQWEsUUFNdkIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc0RldiB9IGZyb20gJ0Bxd2lrLmRldi9jb3JlL2J1aWxkJztcbmltcG9ydCB7IFNFUklBTElaQUJMRV9TVEFURSwgdHlwZSBPblJlbmRlckZuIH0gZnJvbSAnLi4vc2hhcmVkL2NvbXBvbmVudC5wdWJsaWMnO1xuaW1wb3J0IHsgYXNzZXJ0RGVmaW5lZCwgYXNzZXJ0RmFsc2UsIGFzc2VydFRydWUgfSBmcm9tICcuLi9zaGFyZWQvZXJyb3IvYXNzZXJ0JztcbmltcG9ydCB0eXBlIHsgUVJMSW50ZXJuYWwgfSBmcm9tICcuLi9zaGFyZWQvcXJsL3FybC1jbGFzcyc7XG5pbXBvcnQgdHlwZSB7IFFSTCB9IGZyb20gJy4uL3NoYXJlZC9xcmwvcXJsLnB1YmxpYyc7XG5pbXBvcnQge1xuICBGcmFnbWVudCxcbiAgSlNYTm9kZUltcGwsXG4gIGRpcmVjdEdldFByb3BzUHJveHlQcm9wLFxuICBpc0pTWE5vZGUsXG4gIHR5cGUgUHJvcHMsXG59IGZyb20gJy4uL3NoYXJlZC9qc3gvanN4LXJ1bnRpbWUnO1xuaW1wb3J0IHsgU2xvdCB9IGZyb20gJy4uL3NoYXJlZC9qc3gvc2xvdC5wdWJsaWMnO1xuaW1wb3J0IHR5cGUgeyBKU1hOb2RlLCBKU1hPdXRwdXQgfSBmcm9tICcuLi9zaGFyZWQvanN4L3R5cGVzL2pzeC1ub2RlJztcbmltcG9ydCB0eXBlIHsgSlNYQ2hpbGRyZW4gfSBmcm9tICcuLi9zaGFyZWQvanN4L3R5cGVzL2pzeC1xd2lrLWF0dHJpYnV0ZXMnO1xuaW1wb3J0IHsgU1NSQ29tbWVudCwgU1NSUmF3LCBTa2lwUmVuZGVyIH0gZnJvbSAnLi4vc2hhcmVkL2pzeC91dGlscy5wdWJsaWMnO1xuaW1wb3J0IHsgdHJhY2tTaWduYWwsIHVudHJhY2sgfSBmcm9tICcuLi91c2UvdXNlLWNvcmUnO1xuaW1wb3J0IHsgVGFza0ZsYWdzLCBjbGVhbnVwVGFzaywgaXNUYXNrIH0gZnJvbSAnLi4vdXNlL3VzZS10YXNrJztcbmltcG9ydCB7IEVNUFRZX09CSiB9IGZyb20gJy4uL3NoYXJlZC91dGlscy9mbHl3ZWlnaHQnO1xuaW1wb3J0IHtcbiAgRUxFTUVOVF9LRVksXG4gIEVMRU1FTlRfUFJPUFMsXG4gIEVMRU1FTlRfU0VRLFxuICBPblJlbmRlclByb3AsXG4gIFFDb250YWluZXJBdHRyLFxuICBRRGVmYXVsdFNsb3QsXG4gIFFTbG90LFxuICBRU2xvdFBhcmVudCxcbiAgUVN0eWxlLFxuICBRVGVtcGxhdGUsXG4gIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MLFxufSBmcm9tICcuLi9zaGFyZWQvdXRpbHMvbWFya2Vycyc7XG5pbXBvcnQgeyBpc1Byb21pc2UgfSBmcm9tICcuLi9zaGFyZWQvdXRpbHMvcHJvbWlzZXMnO1xuaW1wb3J0IHsgdHlwZSBWYWx1ZU9yUHJvbWlzZSB9IGZyb20gJy4uL3NoYXJlZC91dGlscy90eXBlcyc7XG5pbXBvcnQge1xuICBjb252ZXJ0RXZlbnROYW1lRnJvbUpzeFByb3BUb0h0bWxBdHRyLFxuICBnZXRFdmVudE5hbWVGcm9tSnN4UHJvcCxcbiAgZ2V0RXZlbnROYW1lU2NvcGVGcm9tSnN4UHJvcCxcbiAgaXNIdG1sQXR0cmlidXRlQW5FdmVudE5hbWUsXG4gIGlzSnN4UHJvcGVydHlBbkV2ZW50TmFtZSxcbn0gZnJvbSAnLi4vc2hhcmVkL3V0aWxzL2V2ZW50LW5hbWVzJztcbmltcG9ydCB7IENob3JlVHlwZSwgdHlwZSBOb2RlUHJvcERhdGEgfSBmcm9tICcuLi9zaGFyZWQvc2NoZWR1bGVyJztcbmltcG9ydCB7IGhhc0NsYXNzQXR0ciB9IGZyb20gJy4uL3NoYXJlZC91dGlscy9zY29wZWQtc3R5bGVzJztcbmltcG9ydCB0eXBlIHsgSG9zdEVsZW1lbnQsIFFFbGVtZW50LCBRd2lrTG9hZGVyRXZlbnRTY29wZSwgcVdpbmRvdyB9IGZyb20gJy4uL3NoYXJlZC90eXBlcyc7XG5pbXBvcnQgeyBERUJVR19UWVBFLCBRQ29udGFpbmVyVmFsdWUsIFZpcnR1YWxUeXBlIH0gZnJvbSAnLi4vc2hhcmVkL3R5cGVzJztcbmltcG9ydCB0eXBlIHsgRG9tQ29udGFpbmVyIH0gZnJvbSAnLi9kb20tY29udGFpbmVyJztcbmltcG9ydCB7XG4gIEVsZW1lbnRWTm9kZVByb3BzLFxuICBWTm9kZUZsYWdzLFxuICBWTm9kZVByb3BzLFxuICBWaXJ0dWFsVk5vZGVQcm9wcyxcbiAgdHlwZSBDbGllbnRBdHRyS2V5LFxuICB0eXBlIENsaWVudEF0dHJzLFxuICB0eXBlIENsaWVudENvbnRhaW5lcixcbiAgdHlwZSBFbGVtZW50Vk5vZGUsXG4gIHR5cGUgVGV4dFZOb2RlLFxuICB0eXBlIFZOb2RlLFxuICB0eXBlIFZpcnR1YWxWTm9kZSxcbn0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQge1xuICBtYXBBcHBfZmluZEluZHgsXG4gIG1hcEFycmF5X3NldCxcbiAgdm5vZGVfZW5zdXJlRWxlbWVudEluZmxhdGVkLFxuICB2bm9kZV9nZXRBdHRyLFxuICB2bm9kZV9nZXREb21QYXJlbnRWTm9kZSxcbiAgdm5vZGVfZ2V0RWxlbWVudE5hbWUsXG4gIHZub2RlX2dldEZpcnN0Q2hpbGQsXG4gIHZub2RlX2dldE5leHRTaWJsaW5nLFxuICB2bm9kZV9nZXROb2RlLFxuICB2bm9kZV9nZXRQYXJlbnQsXG4gIHZub2RlX2dldFByb2plY3Rpb25QYXJlbnRDb21wb25lbnQsXG4gIHZub2RlX2dldFByb3AsXG4gIHZub2RlX2dldFByb3BTdGFydEluZGV4LFxuICB2bm9kZV9nZXRUZXh0LFxuICB2bm9kZV9nZXRUeXBlLFxuICB2bm9kZV9pbnNlcnRCZWZvcmUsXG4gIHZub2RlX2lzRWxlbWVudFZOb2RlLFxuICB2bm9kZV9pc1RleHRWTm9kZSxcbiAgdm5vZGVfaXNWTm9kZSxcbiAgdm5vZGVfaXNWaXJ0dWFsVk5vZGUsXG4gIHZub2RlX2xvY2F0ZSxcbiAgdm5vZGVfbmV3RWxlbWVudCxcbiAgdm5vZGVfbmV3VGV4dCxcbiAgdm5vZGVfbmV3VmlydHVhbCxcbiAgdm5vZGVfcmVtb3ZlLFxuICB2bm9kZV9zZXRBdHRyLFxuICB2bm9kZV9zZXRQcm9wLFxuICB2bm9kZV9zZXRUZXh0LFxuICB2bm9kZV90cnVuY2F0ZSxcbiAgdm5vZGVfd2Fsa1ZOb2RlLFxuICB0eXBlIFZOb2RlSm91cm5hbCxcbn0gZnJvbSAnLi92bm9kZSc7XG5pbXBvcnQgeyBnZXROZXdFbGVtZW50TmFtZXNwYWNlRGF0YSB9IGZyb20gJy4vdm5vZGUtbmFtZXNwYWNlJztcbmltcG9ydCB7IFdyYXBwZWRTaWduYWwsIEVmZmVjdFByb3BlcnR5LCBpc1NpZ25hbCwgRWZmZWN0RGF0YSB9IGZyb20gJy4uL3NpZ25hbC9zaWduYWwnO1xuaW1wb3J0IHR5cGUgeyBTaWduYWwgfSBmcm9tICcuLi9zaWduYWwvc2lnbmFsLnB1YmxpYyc7XG5pbXBvcnQgeyBleGVjdXRlQ29tcG9uZW50IH0gZnJvbSAnLi4vc2hhcmVkL2NvbXBvbmVudC1leGVjdXRpb24nO1xuaW1wb3J0IHsgaXNQYXJlbnRTbG90UHJvcCwgaXNTbG90UHJvcCB9IGZyb20gJy4uL3NoYXJlZC91dGlscy9wcm9wJztcbmltcG9ydCB7IGVzY2FwZUhUTUwgfSBmcm9tICcuLi9zaGFyZWQvdXRpbHMvY2hhcmFjdGVyLWVzY2FwaW5nJztcbmltcG9ydCB7XG4gIGNsZWFyU3Vic2NyaWJlckVmZmVjdERlcGVuZGVuY2llcyxcbiAgY2xlYXJWTm9kZUVmZmVjdERlcGVuZGVuY2llcyxcbn0gZnJvbSAnLi4vc2lnbmFsL3NpZ25hbC1zdWJzY3JpYmVyJztcbmltcG9ydCB7IHRocm93RXJyb3JBbmRTdG9wIH0gZnJvbSAnLi4vc2hhcmVkL3V0aWxzL2xvZyc7XG5pbXBvcnQgeyBzZXJpYWxpemVBdHRyaWJ1dGUgfSBmcm9tICcuLi9zaGFyZWQvdXRpbHMvc3R5bGVzJztcblxuZXhwb3J0IHR5cGUgQ29tcG9uZW50UXVldWUgPSBBcnJheTxWTm9kZT47XG5cbmV4cG9ydCBjb25zdCB2bm9kZV9kaWZmID0gKFxuICBjb250YWluZXI6IENsaWVudENvbnRhaW5lcixcbiAganN4Tm9kZTogSlNYT3V0cHV0LFxuICB2U3RhcnROb2RlOiBWTm9kZSxcbiAgc2NvcGVkU3R5bGVJZFByZWZpeDogc3RyaW5nIHwgbnVsbFxuKSA9PiB7XG4gIGxldCBqb3VybmFsID0gKGNvbnRhaW5lciBhcyBEb21Db250YWluZXIpLiRqb3VybmFsJDtcblxuICAvKipcbiAgICogU3RhY2sgaXMgdXNlZCB0byBrZWVwIHRyYWNrIG9mIHRoZSBzdGF0ZSBvZiB0aGUgdHJhdmVyc2FsLlxuICAgKlxuICAgKiBXZSBwdXNoIGN1cnJlbnQgc3RhdGUgaW50byB0aGUgc3RhY2sgYmVmb3JlIGRlc2NlbmRpbmcgaW50byB0aGUgY2hpbGQsIGFuZCB3ZSBwb3AgdGhlIHN0YXRlXG4gICAqIHdoZW4gd2UgYXJlIGRvbmUgd2l0aCB0aGUgY2hpbGQuXG4gICAqL1xuICBjb25zdCBzdGFjazogYW55W10gPSBbXTtcblxuICBjb25zdCBhc3luY1F1ZXVlOiBBcnJheTxWTm9kZSB8IFZhbHVlT3JQcm9taXNlPEpTWE91dHB1dD4+ID0gW107XG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8vLyBUcmF2ZXJzZSBzdGF0ZSB2YXJpYWJsZXNcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgbGV0IHZQYXJlbnQ6IFZOb2RlID0gbnVsbCE7XG5cbiAgLy8vIEN1cnJlbnQgbm9kZSB3ZSBjb21wYXJlIGFnYWluc3QuIChUaGluayBvZiBpdCBhcyBhIGN1cnNvci4pXG4gIC8vLyAoTm9kZSBjYW4gYmUgbnVsbCwgaWYgd2UgYXJlIGF0IHRoZSBlbmQgb2YgdGhlIGxpc3QuKVxuICBsZXQgdkN1cnJlbnQ6IFZOb2RlIHwgbnVsbCA9IG51bGw7XG5cbiAgLy8vIFdoZW4gd2UgaW5zZXJ0IG5ldyBub2RlIHdlIHN0YXJ0IGl0IGhlcmUgc28gdGhhdCB3ZSBjYW4gZGVzY2VuZCBpbnRvIGl0LlxuICAvLy8gTk9URTogaXQgY2FuJ3QgYmUgc3RvcmVkIGluIGB2Q3VycmVudGAgYmVjYXVzZSBgdk5ld0N1cnJlbnRgIGlzIGluIGpvdXJuYWxcbiAgLy8vIGFuZCBpcyBub3QgY29ubmVjdGVkIHRvIHRoZSB0cmVlLlxuICBsZXQgdk5ld05vZGU6IFZOb2RlIHwgbnVsbCA9IG51bGw7IC8vIFRPRE86IGRlbGV0ZSwgYmVjYXVzZSBqb3VybmFsIGlzIG9uIHZOb2RlLCB0aGUgYWJvdmUgY29tbWVudCBubyBsb25nZXIgYXBwbGllc1xuXG4gIC8vLyBXaGVuIGVsZW1lbnRzIGhhdmUga2V5cyB0aGV5IGNhbiBiZSBjb25zdW1lZCBvdXQgb2Ygb3JkZXIgYW5kIHRoZXJlZm9yZSB3ZSBjYW4ndCB1c2UgbmV4dFNpYmxpbmcuXG4gIC8vLyBJbiBzdWNoIGEgY2FzZSB0aGlzIGFycmF5IHdpbGwgY29udGFpbiB0aGUgZWxlbWVudHMgYWZ0ZXIgdGhlIGN1cnJlbnQgbG9jYXRpb24uXG4gIC8vLyBUaGUgYXJyYXkgZXZlbiBpbmRpY2VzIHdpbGwgY29udGFpbnMga2V5cyBhbmQgb2RkIGluZGljZXMgdGhlIHZOb2RlLlxuICBsZXQgdlNpYmxpbmdzOiBBcnJheTxzdHJpbmcgfCBudWxsIHwgVk5vZGU+IHwgbnVsbCA9IG51bGw7IC8vIFNlZTogYFNpYmxpbmdzQXJyYXlgXG4gIGxldCB2U2libGluZ3NJZHggPSAtMTtcblxuICAvLy8gQ3VycmVudCBzZXQgb2YgSlNYIGNoaWxkcmVuLlxuICBsZXQganN4Q2hpbGRyZW46IGFueVtdID0gbnVsbCE7XG4gIC8vIEN1cnJlbnQgSlNYIGNoaWxkLlxuICBsZXQganN4VmFsdWU6IGFueSA9IG51bGw7XG4gIGxldCBqc3hJZHggPSAwO1xuICBsZXQganN4Q291bnQgPSAwO1xuXG4gIC8vIFdoZW4gd2UgZGVzY2VuZCBpbnRvIGNoaWxkcmVuLCB3ZSBuZWVkIHRvIHNraXAgYWR2YW5jZSgpIGJlY2F1c2Ugd2UganVzdCBkZXNjZW5kZWQuXG4gIGxldCBzaG91bGRBZHZhbmNlID0gdHJ1ZTtcblxuICAvKipcbiAgICogV2hlbiB3ZSBhcmUgcmVuZGVyaW5nIGluc2lkZSBhIHByb2plY3Rpb24gd2UgZG9uJ3Qgd2FudCB0byBwcm9jZXNzIGNoaWxkIGNvbXBvbmVudHMuIENoaWxkXG4gICAqIGNvbXBvbmVudHMgd2lsbCBiZSBwcm9jZXNzZWQgb25seSBpZiB0aGUgcHJvamVjdGlvbiBpcyByZS1wcm9qZWN0ZWQgd2l0aCBhIGA8U2xvdD5gLlxuICAgKlxuICAgKiBFeGFtcGxlOiA8UGFyZW50PiA8ZGl2PiA8Q2hpbGQvPiA8L2Rpdj4gPC9QYXJlbnQ+XG4gICAqXG4gICAqIEluIHRoZSBhYm92ZSBleGFtcGxlLCB0aGUgYENoaWxkYCBjb21wb25lbnQgd2lsbCBub3QgYmUgcHJvY2Vzc2VkIGJlY2F1c2UgaXQgaXMgaW5zaWRlIGFcbiAgICogcHJvamVjdGlvbi4gT25seSBpZiB0aGUgYDxQYXJlbnQ+YCBwcm9qZWN0cyBpdHMgY29udGVudCB3aXRoIGA8U2xvdD5gIHdpbGwgdGhlIGBDaGlsZGBcbiAgICogY29tcG9uZW50IGJlIHByb2Nlc3NlZC5cbiAgICovXG4gIC8vIGxldCBpbkNvbnRlbnRQcm9qZWN0aW9uID0gZmFsc2U7XG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgZGlmZihqc3hOb2RlLCB2U3RhcnROb2RlKTtcbiAgcmV0dXJuIGRyYWluQXN5bmNRdWV1ZSgpO1xuXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgZnVuY3Rpb24gZGlmZihqc3hOb2RlOiBKU1hPdXRwdXQsIHZTdGFydE5vZGU6IFZOb2RlKSB7XG4gICAgYXNzZXJ0RmFsc2Uodm5vZGVfaXNWTm9kZShqc3hOb2RlKSwgJ0pTWE5vZGUgc2hvdWxkIG5vdCBiZSBhIFZOb2RlJyk7XG4gICAgYXNzZXJ0VHJ1ZSh2bm9kZV9pc1ZOb2RlKHZTdGFydE5vZGUpLCAndlN0YXJ0Tm9kZSBzaG91bGQgYmUgYSBWTm9kZScpO1xuICAgIHZQYXJlbnQgPSB2U3RhcnROb2RlO1xuICAgIHZOZXdOb2RlID0gbnVsbDtcbiAgICB2Q3VycmVudCA9IHZub2RlX2dldEZpcnN0Q2hpbGQodlN0YXJ0Tm9kZSk7XG4gICAgc3RhY2tQdXNoKGpzeE5vZGUsIHRydWUpO1xuICAgIHdoaWxlIChzdGFjay5sZW5ndGgpIHtcbiAgICAgIHdoaWxlIChqc3hJZHggPCBqc3hDb3VudCkge1xuICAgICAgICBhc3NlcnRGYWxzZSh2UGFyZW50ID09PSB2Q3VycmVudCwgXCJQYXJlbnQgYW5kIGN1cnJlbnQgY2FuJ3QgYmUgdGhlIHNhbWVcIik7XG4gICAgICAgIGlmICh0eXBlb2YganN4VmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgZXhwZWN0VGV4dChqc3hWYWx1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGpzeFZhbHVlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIGV4cGVjdFRleHQoU3RyaW5nKGpzeFZhbHVlKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoanN4VmFsdWUgJiYgdHlwZW9mIGpzeFZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGpzeFZhbHVlKSkge1xuICAgICAgICAgICAgZGVzY2VuZChqc3hWYWx1ZSwgZmFsc2UpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoaXNTaWduYWwoanN4VmFsdWUpKSB7XG4gICAgICAgICAgICBpZiAodkN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgY2xlYXJWTm9kZUVmZmVjdERlcGVuZGVuY2llcyh2Q3VycmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBleHBlY3RWaXJ0dWFsKFZpcnR1YWxUeXBlLldyYXBwZWRTaWduYWwsIG51bGwpO1xuICAgICAgICAgICAgZGVzY2VuZChcbiAgICAgICAgICAgICAgdHJhY2tTaWduYWwoXG4gICAgICAgICAgICAgICAgKCkgPT4ganN4VmFsdWUudmFsdWUsXG4gICAgICAgICAgICAgICAgKHZOZXdOb2RlIHx8IHZDdXJyZW50KSEsXG4gICAgICAgICAgICAgICAgRWZmZWN0UHJvcGVydHkuVk5PREUsXG4gICAgICAgICAgICAgICAgY29udGFpbmVyXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIHRydWVcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSBlbHNlIGlmIChpc1Byb21pc2UoanN4VmFsdWUpKSB7XG4gICAgICAgICAgICBleHBlY3RWaXJ0dWFsKFZpcnR1YWxUeXBlLkF3YWl0ZWQsIG51bGwpO1xuICAgICAgICAgICAgYXN5bmNRdWV1ZS5wdXNoKGpzeFZhbHVlLCB2TmV3Tm9kZSB8fCB2Q3VycmVudCk7XG4gICAgICAgICAgfSBlbHNlIGlmIChpc0pTWE5vZGUoanN4VmFsdWUpKSB7XG4gICAgICAgICAgICBjb25zdCB0eXBlID0ganN4VmFsdWUudHlwZTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdHlwZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgZXhwZWN0Tm9Nb3JlVGV4dE5vZGVzKCk7XG4gICAgICAgICAgICAgIGV4cGVjdEVsZW1lbnQoanN4VmFsdWUsIHR5cGUpO1xuICAgICAgICAgICAgICBkZXNjZW5kKGpzeFZhbHVlLmNoaWxkcmVuLCB0cnVlKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgaWYgKHR5cGUgPT09IEZyYWdtZW50KSB7XG4gICAgICAgICAgICAgICAgZXhwZWN0Tm9Nb3JlVGV4dE5vZGVzKCk7XG4gICAgICAgICAgICAgICAgZXhwZWN0VmlydHVhbChWaXJ0dWFsVHlwZS5GcmFnbWVudCwganN4VmFsdWUua2V5KTtcbiAgICAgICAgICAgICAgICBkZXNjZW5kKGpzeFZhbHVlLmNoaWxkcmVuLCB0cnVlKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSBTbG90KSB7XG4gICAgICAgICAgICAgICAgZXhwZWN0Tm9Nb3JlVGV4dE5vZGVzKCk7XG4gICAgICAgICAgICAgICAgaWYgKCFleHBlY3RTbG90KCkpIHtcbiAgICAgICAgICAgICAgICAgIC8vIG5vdGhpbmcgdG8gcHJvamVjdCwgc28gdHJ5IHRvIHJlbmRlciB0aGUgU2xvdCBkZWZhdWx0IGNvbnRlbnQuXG4gICAgICAgICAgICAgICAgICBkZXNjZW5kKGpzeFZhbHVlLmNoaWxkcmVuLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gUHJvamVjdGlvbikge1xuICAgICAgICAgICAgICAgIGV4cGVjdFByb2plY3Rpb24oKTtcbiAgICAgICAgICAgICAgICBkZXNjZW5kKGpzeFZhbHVlLmNoaWxkcmVuLCB0cnVlKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSBTU1JDb21tZW50KSB7XG4gICAgICAgICAgICAgICAgZXhwZWN0Tm9Nb3JlKCk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gU1NSUmF3KSB7XG4gICAgICAgICAgICAgICAgZXhwZWN0Tm9Nb3JlKCk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gTXVzdCBiZSBhIGNvbXBvbmVudFxuICAgICAgICAgICAgICAgIGV4cGVjdE5vTW9yZVRleHROb2RlcygpO1xuICAgICAgICAgICAgICAgIGV4cGVjdENvbXBvbmVudCh0eXBlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChqc3hWYWx1ZSA9PT0gU2tpcFJlbmRlcikge1xuICAgICAgICAgIC8vIGRvIG5vdGhpbmcsIHdlIGFyZSBza2lwcGluZyB0aGlzIG5vZGVcbiAgICAgICAgICBqb3VybmFsID0gW107XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZXhwZWN0VGV4dCgnJyk7XG4gICAgICAgIH1cbiAgICAgICAgYWR2YW5jZSgpO1xuICAgICAgfVxuICAgICAgZXhwZWN0Tm9Nb3JlKCk7XG4gICAgICBhc2NlbmQoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBhZHZhbmNlKCkge1xuICAgIGlmICghc2hvdWxkQWR2YW5jZSkge1xuICAgICAgc2hvdWxkQWR2YW5jZSA9IHRydWU7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGpzeElkeCsrO1xuICAgIGlmIChqc3hJZHggPCBqc3hDb3VudCkge1xuICAgICAganN4VmFsdWUgPSBqc3hDaGlsZHJlbltqc3hJZHhdO1xuICAgIH0gZWxzZSBpZiAoc3RhY2tbc3RhY2subGVuZ3RoIC0gMV0gPT09IGZhbHNlKSB7XG4gICAgICAvLyB0aGlzIHdhcyBzcGVjaWFsIGBkZXNjZW5kVk5vZGUgPT09IGZhbHNlYCBzbyBwb3AgYW5kIHRyeSBhZ2FpblxuICAgICAgcmV0dXJuIGFzY2VuZCgpO1xuICAgIH1cbiAgICBpZiAodk5ld05vZGUgIT09IG51bGwpIHtcbiAgICAgIC8vIFdlIGhhdmUgYSBuZXcgTm9kZS5cbiAgICAgIC8vIFRoaXMgbWVhbnMgdGhhdCB0aGUgYHZDdXJyZW50YCB3YXMgZGVlbWVkIG5vdCB1c2VmdWwgYW5kIHdlIGluc2VydGVkIGluIGZyb250IG9mIGl0LlxuICAgICAgLy8gVGhpcyBtZWFucyB0aGF0IHRoZSBuZXh0IG5vZGUgd2Ugc2hvdWxkIGxvb2sgYXQgaXMgdGhlIGB2Q3VycmVudGAgc28ganVzdCBjbGVhciB0aGVcbiAgICAgIC8vIHZOZXdOb2RlICBhbmQgdHJ5IGFnYWluLlxuICAgICAgdk5ld05vZGUgPSBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICBhZHZhbmNlVG9OZXh0U2libGluZygpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBZHZhbmNlIHRoZSBgdkN1cnJlbnRgIHRvIHRoZSBuZXh0IHNpYmxpbmcuXG4gICAqXG4gICAqIE5vcm1hbGx5IHRoaXMgaXMganVzdCBgdkN1cnJlbnQgPSB2bm9kZV9nZXROZXh0U2libGluZyh2Q3VycmVudClgLiBIb3dldmVyLCB0aGlzIGdldHNcbiAgICogY29tcGxpY2F0ZWQgaWYgYHJldHJpZXZlQ2hpbGRXaXRoS2V5YCB3YXMgY2FsbGVkLCBiZWNhdXNlIHRoZW4gd2UgYXJlIGNvbnN1bWluZyBub2RlcyBvdXQgb2ZcbiAgICogb3JkZXIgYW5kIGNhbid0IHJlbHkgb24gYHZub2RlX2dldE5leHRTaWJsaW5nYCBhbmQgaW5zdGVhZCB3ZSBuZWVkIHRvIGdvIGJ5IGB2U2libGluZ3NgLlxuICAgKi9cbiAgZnVuY3Rpb24gcGVla05leHRTaWJsaW5nKCkge1xuICAgIGlmICh2U2libGluZ3MgIT09IG51bGwpIHtcbiAgICAgIC8vIFdlIGNhbWUgYWNyb3NzIGEga2V5LCBhbmQgd2UgbW92ZWQgbm9kZXMgYXJvdW5kLiBUaGlzIG1lYW5zIHdlIGNhbiBubyBsb25nZXIgdXNlXG4gICAgICAvLyBgdm5vZGVfZ2V0TmV4dFNpYmxpbmdgIHRvIGxvb2sgYXQgbmV4dCBub2RlIGFuZCBpbnN0ZWFkIHdlIGhhdmUgdG8gZ28gYnkgYHZTaWJsaW5nc2AuXG4gICAgICBjb25zdCBpZHggPSB2U2libGluZ3NJZHggKyBTaWJsaW5nc0FycmF5Lk5leHRWTm9kZTtcbiAgICAgIHJldHVybiBpZHggPCB2U2libGluZ3MubGVuZ3RoID8gKHZTaWJsaW5nc1tpZHhdIGFzIGFueSkgOiBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBJZiB3ZSBkb24ndCBoYXZlIGEgYHZOZXdOb2RlYCwgdGhhbiB0aGF0IG1lYW5zIHdlIGp1c3QgcmVjb25jaWxlZCB0aGUgY3VycmVudCBub2RlLlxuICAgICAgLy8gU28gYWR2YW5jZSBpdC5cbiAgICAgIHJldHVybiB2Q3VycmVudCA/IHZub2RlX2dldE5leHRTaWJsaW5nKHZDdXJyZW50KSA6IG51bGw7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFkdmFuY2UgdGhlIGB2Q3VycmVudGAgdG8gdGhlIG5leHQgc2libGluZy5cbiAgICpcbiAgICogTm9ybWFsbHkgdGhpcyBpcyBqdXN0IGB2Q3VycmVudCA9IHZub2RlX2dldE5leHRTaWJsaW5nKHZDdXJyZW50KWAuIEhvd2V2ZXIsIHRoaXMgZ2V0c1xuICAgKiBjb21wbGljYXRlZCBpZiBgcmV0cmlldmVDaGlsZFdpdGhLZXlgIHdhcyBjYWxsZWQsIGJlY2F1c2UgdGhlbiB3ZSBhcmUgY29uc3VtaW5nIG5vZGVzIG91dCBvZlxuICAgKiBvcmRlciBhbmQgY2FuJ3QgcmVseSBvbiBgdm5vZGVfZ2V0TmV4dFNpYmxpbmdgIGFuZCBpbnN0ZWFkIHdlIG5lZWQgdG8gZ28gYnkgYHZTaWJsaW5nc2AuXG4gICAqL1xuICBmdW5jdGlvbiBhZHZhbmNlVG9OZXh0U2libGluZygpIHtcbiAgICB2Q3VycmVudCA9IHBlZWtOZXh0U2libGluZygpO1xuICAgIGlmICh2U2libGluZ3MgIT09IG51bGwpIHtcbiAgICAgIHZTaWJsaW5nc0lkeCArPSBTaWJsaW5nc0FycmF5LlNpemU7IC8vIGFkdmFuY2U7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSBjaGlsZHJlblxuICAgKiBAcGFyYW0gZGVzY2VuZFZOb2RlIC0gSWYgdHJ1ZSB3ZSBhcmUgZGVzY2VuZGluZyBpbnRvIHZOb2RlOyBUaGlzIGlzIHNldCB0byBmYWxzZSBpZiB3ZSBjb21lXG4gICAqICAgYWNyb3NzIGFuIGFycmF5IGluIGpzeCwgYW5kIHdlIG5lZWQgdG8gZGVzY2VuZCBpbnRvIHRoZSBhcnJheSB3aXRob3V0IGFjdHVhbGx5IGRlc2NlbmRpbmdcbiAgICogICBpbnRvIHRoZSB2Tm9kZS5cbiAgICpcbiAgICogICBFeGFtcGxlOlxuICAgKlxuICAgKiAgIGBgYFxuICAgKiAgIDw+XG4gICAqICAgYmVmb3JlXG4gICAqICAge1sxLDJdLm1hcCgoaSkgPT4gPHNwYW4+e2l9PC9zcGFuPil9XG4gICAqICAgYWZ0ZXJcbiAgICogICA8Lz5cbiAgICogYGBgXG4gICAqXG4gICAqICAgSW4gdGhlIGFib3ZlIGV4YW1wbGUgYWxsIG5vZGVzIGFyZSBvbiBzYW1lIGxldmVsIHNvIHdlIGRvbid0IGBkZXNjZW5kVk5vZGVgIGV2ZW4gdGhvdWdodCB0aGVyZVxuICAgKiAgIGlzIGFuIGFycmF5IHByb2R1Y2VkIGJ5IHRoZSBgbWFwYCBmdW5jdGlvbi5cbiAgICovXG4gIGZ1bmN0aW9uIGRlc2NlbmQoY2hpbGRyZW46IGFueSwgZGVzY2VuZFZOb2RlOiBib29sZWFuKSB7XG4gICAgaWYgKGNoaWxkcmVuID09IG51bGwpIHtcbiAgICAgIGV4cGVjdE5vQ2hpbGRyZW4oKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc3RhY2tQdXNoKGNoaWxkcmVuLCBkZXNjZW5kVk5vZGUpO1xuICAgIGlmIChkZXNjZW5kVk5vZGUpIHtcbiAgICAgIGFzc2VydERlZmluZWQodkN1cnJlbnQgfHwgdk5ld05vZGUsICdFeHBlY3RpbmcgdkN1cnJlbnQgdG8gYmUgZGVmaW5lZC4nKTtcbiAgICAgIHZTaWJsaW5ncyA9IG51bGw7XG4gICAgICB2U2libGluZ3NJZHggPSAtMTtcbiAgICAgIHZQYXJlbnQgPSB2TmV3Tm9kZSB8fCB2Q3VycmVudCE7XG4gICAgICB2Q3VycmVudCA9IHZub2RlX2dldEZpcnN0Q2hpbGQodlBhcmVudCk7XG4gICAgICB2TmV3Tm9kZSA9IG51bGw7XG4gICAgfVxuICAgIHNob3VsZEFkdmFuY2UgPSBmYWxzZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFzY2VuZCgpIHtcbiAgICBjb25zdCBkZXNjZW5kVk5vZGUgPSBzdGFjay5wb3AoKTsgLy8gYm9vbGVhbjogZGVzY2VuZFZOb2RlXG4gICAgaWYgKGRlc2NlbmRWTm9kZSkge1xuICAgICAgdlNpYmxpbmdzSWR4ID0gc3RhY2sucG9wKCk7XG4gICAgICB2U2libGluZ3MgPSBzdGFjay5wb3AoKTtcbiAgICAgIHZOZXdOb2RlID0gc3RhY2sucG9wKCk7XG4gICAgICB2Q3VycmVudCA9IHN0YWNrLnBvcCgpO1xuICAgICAgdlBhcmVudCA9IHN0YWNrLnBvcCgpO1xuICAgIH1cbiAgICBqc3hWYWx1ZSA9IHN0YWNrLnBvcCgpO1xuICAgIGpzeENvdW50ID0gc3RhY2sucG9wKCk7XG4gICAganN4SWR4ID0gc3RhY2sucG9wKCk7XG4gICAganN4Q2hpbGRyZW4gPSBzdGFjay5wb3AoKTtcbiAgICBhZHZhbmNlKCk7XG4gIH1cblxuICBmdW5jdGlvbiBzdGFja1B1c2goY2hpbGRyZW46IGFueSwgZGVzY2VuZFZOb2RlOiBib29sZWFuKSB7XG4gICAgc3RhY2sucHVzaChqc3hDaGlsZHJlbiwganN4SWR4LCBqc3hDb3VudCwganN4VmFsdWUpO1xuICAgIGlmIChkZXNjZW5kVk5vZGUpIHtcbiAgICAgIHN0YWNrLnB1c2godlBhcmVudCwgdkN1cnJlbnQsIHZOZXdOb2RlLCB2U2libGluZ3MsIHZTaWJsaW5nc0lkeCk7XG4gICAgfVxuICAgIHN0YWNrLnB1c2goZGVzY2VuZFZOb2RlKTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShjaGlsZHJlbikpIHtcbiAgICAgIGpzeElkeCA9IDA7XG4gICAgICBqc3hDb3VudCA9IGNoaWxkcmVuLmxlbmd0aDtcbiAgICAgIGpzeENoaWxkcmVuID0gY2hpbGRyZW47XG4gICAgICBqc3hWYWx1ZSA9IGpzeENvdW50ID4gMCA/IGNoaWxkcmVuWzBdIDogbnVsbDtcbiAgICB9IGVsc2UgaWYgKGNoaWxkcmVuID09PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIG5vIGNoaWxkcmVuXG4gICAgICBqc3hJZHggPSAwO1xuICAgICAganN4VmFsdWUgPSBudWxsO1xuICAgICAganN4Q2hpbGRyZW4gPSBudWxsITtcbiAgICAgIGpzeENvdW50ID0gMDtcbiAgICB9IGVsc2Uge1xuICAgICAganN4SWR4ID0gMDtcbiAgICAgIGpzeFZhbHVlID0gY2hpbGRyZW47XG4gICAgICBqc3hDaGlsZHJlbiA9IG51bGwhO1xuICAgICAganN4Q291bnQgPSAxO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEluc2VydEJlZm9yZSgpIHtcbiAgICBpZiAodk5ld05vZGUpIHtcbiAgICAgIHJldHVybiB2Q3VycmVudDtcbiAgICB9IGVsc2UgaWYgKHZTaWJsaW5ncyAhPT0gbnVsbCkge1xuICAgICAgY29uc3QgbmV4dElkeCA9IHZTaWJsaW5nc0lkeCArIFNpYmxpbmdzQXJyYXkuTmV4dFZOb2RlO1xuICAgICAgcmV0dXJuIG5leHRJZHggPCB2U2libGluZ3MubGVuZ3RoID8gKHZTaWJsaW5nc1tuZXh0SWR4XSBhcyBWTm9kZSkgOiBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gcGVla05leHRTaWJsaW5nKCk7XG4gICAgfVxuICB9XG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICBmdW5jdGlvbiBkZXNjZW5kQ29udGVudFRvUHJvamVjdChjaGlsZHJlbjogSlNYQ2hpbGRyZW4sIGhvc3Q6IFZpcnR1YWxWTm9kZSB8IG51bGwpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoY2hpbGRyZW4pKSB7XG4gICAgICBjaGlsZHJlbiA9IFtjaGlsZHJlbl07XG4gICAgfVxuICAgIGlmIChjaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IGNyZWF0ZVByb2plY3Rpb25KU1hOb2RlID0gKHNsb3ROYW1lOiBzdHJpbmcpID0+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBKU1hOb2RlSW1wbChQcm9qZWN0aW9uLCBFTVBUWV9PQkosIG51bGwsIFtdLCAwLCBzbG90TmFtZSk7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBwcm9qZWN0aW9uczogQXJyYXk8c3RyaW5nIHwgSlNYTm9kZT4gPSBbXTtcbiAgICAgIGlmIChob3N0KSB7XG4gICAgICAgIC8vIHdlIG5lZWQgdG8gY3JlYXRlIGVtcHR5IHByb2plY3Rpb25zIGZvciBhbGwgdGhlIHNsb3RzIHRvIHJlbW92ZSB1bnVzZWQgc2xvdHMgY29udGVudFxuICAgICAgICBmb3IgKGxldCBpID0gdm5vZGVfZ2V0UHJvcFN0YXJ0SW5kZXgoaG9zdCk7IGkgPCBob3N0Lmxlbmd0aDsgaSA9IGkgKyAyKSB7XG4gICAgICAgICAgY29uc3QgcHJvcCA9IGhvc3RbaV0gYXMgc3RyaW5nO1xuICAgICAgICAgIGlmIChpc1Nsb3RQcm9wKHByb3ApKSB7XG4gICAgICAgICAgICBjb25zdCBzbG90TmFtZSA9IHByb3A7XG4gICAgICAgICAgICBwcm9qZWN0aW9ucy5wdXNoKHNsb3ROYW1lKTtcbiAgICAgICAgICAgIHByb2plY3Rpb25zLnB1c2goY3JlYXRlUHJvamVjdGlvbkpTWE5vZGUoc2xvdE5hbWUpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8vIFNURVAgMTogQnVja2V0aXplIHRoZSBjaGlsZHJlbiBiYXNlZCBvbiB0aGUgcHJvamVjdGlvbiBuYW1lLlxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuICAgICAgICBjb25zdCBzbG90TmFtZSA9IFN0cmluZyhcbiAgICAgICAgICAoaXNKU1hOb2RlKGNoaWxkKSAmJiBkaXJlY3RHZXRQcm9wc1Byb3h5UHJvcChjaGlsZCwgUVNsb3QpKSB8fCBRRGVmYXVsdFNsb3RcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgaWR4ID0gbWFwQXBwX2ZpbmRJbmR4KHByb2plY3Rpb25zLCBzbG90TmFtZSwgMCk7XG4gICAgICAgIGxldCBqc3hCdWNrZXQ6IEpTWE5vZGVJbXBsPHR5cGVvZiBQcm9qZWN0aW9uPjtcbiAgICAgICAgaWYgKGlkeCA+PSAwKSB7XG4gICAgICAgICAganN4QnVja2V0ID0gcHJvamVjdGlvbnNbaWR4ICsgMV0gYXMgYW55O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHByb2plY3Rpb25zLnNwbGljZSh+aWR4LCAwLCBzbG90TmFtZSwgKGpzeEJ1Y2tldCA9IGNyZWF0ZVByb2plY3Rpb25KU1hOb2RlKHNsb3ROYW1lKSkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlbW92ZVByb2plY3Rpb24gPSBjaGlsZCA9PT0gZmFsc2U7XG4gICAgICAgIGlmICghcmVtb3ZlUHJvamVjdGlvbikge1xuICAgICAgICAgIChqc3hCdWNrZXQuY2hpbGRyZW4gYXMgSlNYQ2hpbGRyZW5bXSkucHVzaChjaGlsZCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vLyBTVEVQIDI6IHJlbW92ZSB0aGUgbmFtZXNcbiAgICAgIGZvciAobGV0IGkgPSBwcm9qZWN0aW9ucy5sZW5ndGggLSAyOyBpID49IDA7IGkgPSBpIC0gMikge1xuICAgICAgICBwcm9qZWN0aW9ucy5zcGxpY2UoaSwgMSk7XG4gICAgICB9XG4gICAgICBkZXNjZW5kKHByb2plY3Rpb25zLCB0cnVlKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBleHBlY3RQcm9qZWN0aW9uKCkge1xuICAgIGNvbnN0IHNsb3ROYW1lID0ganN4VmFsdWUua2V5IGFzIHN0cmluZztcbiAgICAvLyBjb25zb2xlLmxvZygnZXhwZWN0UHJvamVjdGlvbicsIEpTT04uc3RyaW5naWZ5KHNsb3ROYW1lKSk7XG4gICAgdkN1cnJlbnQgPSB2bm9kZV9nZXRQcm9wPFZpcnR1YWxWTm9kZSB8IG51bGw+KFxuICAgICAgdlBhcmVudCwgLy8gVGhlIHBhcmVudCBpcyB0aGUgY29tcG9uZW50IGFuZCBpdCBzaG91bGQgaGF2ZSBvdXIgcG9ydGFsLlxuICAgICAgc2xvdE5hbWUsXG4gICAgICAoaWQpID0+IHZub2RlX2xvY2F0ZShjb250YWluZXIucm9vdFZOb2RlLCBpZClcbiAgICApO1xuICAgIGlmICh2Q3VycmVudCA9PSBudWxsKSB7XG4gICAgICB2TmV3Tm9kZSA9IHZub2RlX25ld1ZpcnR1YWwoKTtcbiAgICAgIC8vIHlvdSBtYXkgYmUgdGVtcHRlZCB0byBhZGQgdGhlIHByb2plY3Rpb24gaW50byB0aGUgY3VycmVudCBwYXJlbnQsIGJ1dFxuICAgICAgLy8gdGhhdCBpcyB3cm9uZy4gV2UgZG9uJ3QgeWV0IGtub3cgaWYgdGhlIHByb2plY3Rpb24gd2lsbCBiZSBwcm9qZWN0ZWQsIHNvXG4gICAgICAvLyB3ZSBzaG91bGQgbGVhdmUgaXQgdW5hdHRhY2hlZC5cbiAgICAgIC8vIHZOZXdOb2RlW1ZOb2RlUHJvcHMucGFyZW50XSA9IHZQYXJlbnQ7XG4gICAgICBpc0RldiAmJiB2bm9kZV9zZXRQcm9wKHZOZXdOb2RlLCBERUJVR19UWVBFLCBWaXJ0dWFsVHlwZS5Qcm9qZWN0aW9uKTtcbiAgICAgIGlzRGV2ICYmIHZub2RlX3NldFByb3Aodk5ld05vZGUsICdxOmNvZGUnLCAnZXhwZWN0UHJvamVjdGlvbicpO1xuICAgICAgdm5vZGVfc2V0UHJvcCh2TmV3Tm9kZSBhcyBWaXJ0dWFsVk5vZGUsIFFTbG90LCBzbG90TmFtZSk7XG4gICAgICB2bm9kZV9zZXRQcm9wKHZOZXdOb2RlIGFzIFZpcnR1YWxWTm9kZSwgUVNsb3RQYXJlbnQsIHZQYXJlbnQpO1xuICAgICAgdm5vZGVfc2V0UHJvcCh2UGFyZW50IGFzIFZpcnR1YWxWTm9kZSwgc2xvdE5hbWUsIHZOZXdOb2RlKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBleHBlY3RTbG90KCkge1xuICAgIGNvbnN0IHZIb3N0ID0gdm5vZGVfZ2V0UHJvamVjdGlvblBhcmVudENvbXBvbmVudCh2UGFyZW50LCBjb250YWluZXIucm9vdFZOb2RlKTtcblxuICAgIGNvbnN0IHNsb3ROYW1lS2V5ID0gZ2V0U2xvdE5hbWVLZXkodkhvc3QpO1xuICAgIC8vIGNvbnNvbGUubG9nKCdleHBlY3RTbG90JywgSlNPTi5zdHJpbmdpZnkoc2xvdE5hbWVLZXkpKTtcblxuICAgIGNvbnN0IHZQcm9qZWN0ZWROb2RlID0gdkhvc3RcbiAgICAgID8gdm5vZGVfZ2V0UHJvcDxWaXJ0dWFsVk5vZGUgfCBudWxsPihcbiAgICAgICAgICB2SG9zdCxcbiAgICAgICAgICBzbG90TmFtZUtleSxcbiAgICAgICAgICAvLyBmb3Igc2xvdHMgdGhpcyBpZCBpcyB2bm9kZSByZWYgaWRcbiAgICAgICAgICBudWxsIC8vIFByb2plY3Rpb25zIHNob3VsZCBoYXZlIGJlZW4gcmVzb2x2ZWQgdGhyb3VnaCBjb250YWluZXIuZW5zdXJlUHJvamVjdGlvblJlc29sdmVkXG4gICAgICAgICAgLy8oaWQpID0+IHZub2RlX2xvY2F0ZShjb250YWluZXIucm9vdFZOb2RlLCBpZClcbiAgICAgICAgKVxuICAgICAgOiBudWxsO1xuICAgIC8vIGNvbnNvbGUubG9nKCcgICAnLCBTdHJpbmcodkhvc3QpLCBTdHJpbmcodlByb2plY3RlZE5vZGUpKTtcbiAgICBpZiAodlByb2plY3RlZE5vZGUgPT0gbnVsbCkge1xuICAgICAgLy8gTm90aGluZyB0byBwcm9qZWN0LCBzbyByZW5kZXIgY29udGVudCBvZiB0aGUgc2xvdC5cbiAgICAgIHZub2RlX2luc2VydEJlZm9yZShcbiAgICAgICAgam91cm5hbCxcbiAgICAgICAgdlBhcmVudCBhcyBFbGVtZW50Vk5vZGUgfCBWaXJ0dWFsVk5vZGUsXG4gICAgICAgICh2TmV3Tm9kZSA9IHZub2RlX25ld1ZpcnR1YWwoKSksXG4gICAgICAgIHZDdXJyZW50ICYmIGdldEluc2VydEJlZm9yZSgpXG4gICAgICApO1xuICAgICAgdm5vZGVfc2V0UHJvcCh2TmV3Tm9kZSwgUVNsb3QsIHNsb3ROYW1lS2V5KTtcbiAgICAgIHZIb3N0ICYmIHZub2RlX3NldFByb3Aodkhvc3QsIHNsb3ROYW1lS2V5LCB2TmV3Tm9kZSk7XG4gICAgICBpc0RldiAmJiB2bm9kZV9zZXRQcm9wKHZOZXdOb2RlLCBERUJVR19UWVBFLCBWaXJ0dWFsVHlwZS5Qcm9qZWN0aW9uKTtcbiAgICAgIGlzRGV2ICYmIHZub2RlX3NldFByb3Aodk5ld05vZGUsICdxOmNvZGUnLCAnZXhwZWN0U2xvdCcgKyBjb3VudCsrKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGVsc2UgaWYgKHZQcm9qZWN0ZWROb2RlID09PSB2Q3VycmVudCkge1xuICAgICAgLy8gQWxsIGlzIGdvb2QuXG4gICAgICAvLyBjb25zb2xlLmxvZygnICBOT09QJywgU3RyaW5nKHZDdXJyZW50KSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIG1vdmUgZnJvbSBxOnRlbXBsYXRlIHRvIHRoZSB0YXJnZXQgbm9kZVxuICAgICAgdm5vZGVfaW5zZXJ0QmVmb3JlKFxuICAgICAgICBqb3VybmFsLFxuICAgICAgICB2UGFyZW50IGFzIEVsZW1lbnRWTm9kZSB8IFZpcnR1YWxWTm9kZSxcbiAgICAgICAgKHZOZXdOb2RlID0gdlByb2plY3RlZE5vZGUpLFxuICAgICAgICB2Q3VycmVudCAmJiBnZXRJbnNlcnRCZWZvcmUoKVxuICAgICAgKTtcbiAgICAgIHZub2RlX3NldFByb3Aodk5ld05vZGUsIFFTbG90LCBzbG90TmFtZUtleSk7XG4gICAgICB2SG9zdCAmJiB2bm9kZV9zZXRQcm9wKHZIb3N0LCBzbG90TmFtZUtleSwgdk5ld05vZGUpO1xuICAgICAgaXNEZXYgJiYgdm5vZGVfc2V0UHJvcCh2TmV3Tm9kZSwgREVCVUdfVFlQRSwgVmlydHVhbFR5cGUuUHJvamVjdGlvbik7XG4gICAgICBpc0RldiAmJiB2bm9kZV9zZXRQcm9wKHZOZXdOb2RlLCAncTpjb2RlJywgJ2V4cGVjdFNsb3QnICsgY291bnQrKyk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0U2xvdE5hbWVLZXkodkhvc3Q6IFZOb2RlIHwgbnVsbCkge1xuICAgIGNvbnN0IGNvbnN0UHJvcHMgPSBqc3hWYWx1ZS5jb25zdFByb3BzO1xuICAgIGlmIChjb25zdFByb3BzICYmIHR5cGVvZiBjb25zdFByb3BzID09ICdvYmplY3QnICYmICduYW1lJyBpbiBjb25zdFByb3BzKSB7XG4gICAgICBjb25zdCBjb25zdFZhbHVlID0gY29uc3RQcm9wcy5uYW1lO1xuICAgICAgaWYgKHZIb3N0ICYmIGNvbnN0VmFsdWUgaW5zdGFuY2VvZiBXcmFwcGVkU2lnbmFsKSB7XG4gICAgICAgIHJldHVybiB0cmFja1NpZ25hbCgoKSA9PiBjb25zdFZhbHVlLnZhbHVlLCB2SG9zdCwgRWZmZWN0UHJvcGVydHkuQ09NUE9ORU5ULCBjb250YWluZXIpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZGlyZWN0R2V0UHJvcHNQcm94eVByb3AoanN4VmFsdWUsICduYW1lJykgfHwgUURlZmF1bHRTbG90O1xuICB9XG5cbiAgZnVuY3Rpb24gZHJhaW5Bc3luY1F1ZXVlKCk6IFZhbHVlT3JQcm9taXNlPHZvaWQ+IHtcbiAgICB3aGlsZSAoYXN5bmNRdWV1ZS5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IGpzeE5vZGUgPSBhc3luY1F1ZXVlLnNoaWZ0KCkgYXMgVmFsdWVPclByb21pc2U8SlNYTm9kZT47XG4gICAgICBjb25zdCB2SG9zdE5vZGUgPSBhc3luY1F1ZXVlLnNoaWZ0KCkgYXMgVk5vZGU7XG4gICAgICBpZiAoaXNQcm9taXNlKGpzeE5vZGUpKSB7XG4gICAgICAgIHJldHVybiBqc3hOb2RlLnRoZW4oKGpzeE5vZGUpID0+IHtcbiAgICAgICAgICBkaWZmKGpzeE5vZGUsIHZIb3N0Tm9kZSk7XG4gICAgICAgICAgcmV0dXJuIGRyYWluQXN5bmNRdWV1ZSgpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRpZmYoanN4Tm9kZSwgdkhvc3ROb2RlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBleHBlY3ROb0NoaWxkcmVuKCkge1xuICAgIGNvbnN0IHZGaXJzdENoaWxkID0gdkN1cnJlbnQgJiYgdm5vZGVfZ2V0Rmlyc3RDaGlsZCh2Q3VycmVudCk7XG4gICAgaWYgKHZGaXJzdENoaWxkICE9PSBudWxsKSB7XG4gICAgICBsZXQgdkNoaWxkOiBWTm9kZSB8IG51bGwgPSB2Rmlyc3RDaGlsZDtcbiAgICAgIHdoaWxlICh2Q2hpbGQpIHtcbiAgICAgICAgY2xlYW51cChjb250YWluZXIsIHZDaGlsZCk7XG4gICAgICAgIHZDaGlsZCA9IHZub2RlX2dldE5leHRTaWJsaW5nKHZDaGlsZCk7XG4gICAgICB9XG4gICAgICB2bm9kZV90cnVuY2F0ZShqb3VybmFsLCB2Q3VycmVudCBhcyBFbGVtZW50Vk5vZGUgfCBWaXJ0dWFsVk5vZGUsIHZGaXJzdENoaWxkKTtcbiAgICB9XG4gIH1cblxuICAvKiogRXhwZWN0IG5vIG1vcmUgbm9kZXMgLSBBbnkgbm9kZXMgd2hpY2ggYXJlIHN0aWxsIGF0IGN1cnNvciwgbmVlZCB0byBiZSByZW1vdmVkLiAqL1xuICBmdW5jdGlvbiBleHBlY3ROb01vcmUoKSB7XG4gICAgYXNzZXJ0RmFsc2UodlBhcmVudCA9PT0gdkN1cnJlbnQsIFwiUGFyZW50IGFuZCBjdXJyZW50IGNhbid0IGJlIHRoZSBzYW1lXCIpO1xuICAgIGlmICh2Q3VycmVudCAhPT0gbnVsbCkge1xuICAgICAgd2hpbGUgKHZDdXJyZW50KSB7XG4gICAgICAgIGNvbnN0IHRvUmVtb3ZlID0gdkN1cnJlbnQ7XG4gICAgICAgIGFkdmFuY2VUb05leHRTaWJsaW5nKCk7XG4gICAgICAgIGNsZWFudXAoY29udGFpbmVyLCB0b1JlbW92ZSk7XG4gICAgICAgIGlmICh2UGFyZW50ID09PSB2bm9kZV9nZXRQYXJlbnQodG9SZW1vdmUpKSB7XG4gICAgICAgICAgLy8gSWYgd2UgYXJlIGRpZmZpbmcgcHJvamVjdGlvbiB0aGFuIHRoZSBwYXJlbnQgaXMgbm90IHRoZSBwYXJlbnQgb2YgdGhlIG5vZGUuXG4gICAgICAgICAgLy8gSWYgdGhhdCBpcyB0aGUgY2FzZSB3ZSBkb24ndCB3YW50IHRvIHJlbW92ZSB0aGUgbm9kZSBmcm9tIHRoZSBwYXJlbnQuXG4gICAgICAgICAgdm5vZGVfcmVtb3ZlKGpvdXJuYWwsIHZQYXJlbnQgYXMgRWxlbWVudFZOb2RlIHwgVmlydHVhbFZOb2RlLCB0b1JlbW92ZSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBleHBlY3ROb01vcmVUZXh0Tm9kZXMoKSB7XG4gICAgd2hpbGUgKHZDdXJyZW50ICE9PSBudWxsICYmIHZub2RlX2lzVGV4dFZOb2RlKHZDdXJyZW50KSkge1xuICAgICAgY2xlYW51cChjb250YWluZXIsIHZDdXJyZW50KTtcbiAgICAgIGNvbnN0IHRvUmVtb3ZlID0gdkN1cnJlbnQ7XG4gICAgICBhZHZhbmNlVG9OZXh0U2libGluZygpO1xuICAgICAgdm5vZGVfcmVtb3ZlKGpvdXJuYWwsIHZQYXJlbnQsIHRvUmVtb3ZlLCB0cnVlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB3aGV0aGVyIGBxRGlzcGF0Y2hFdmVudGAgbmVlZHMgcGF0Y2hpbmcuIFRoaXMgaXMgdHJ1ZSB3aGVuIG9uZSBvZiB0aGUgYGpzeGAgYXJndW1lbnQnc1xuICAgKiBjb25zdCBwcm9wcyBoYXMgdGhlIG5hbWUgb2YgYW4gZXZlbnQuXG4gICAqXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgZnVuY3Rpb24gY3JlYXRlTmV3RWxlbWVudChqc3g6IEpTWE5vZGUsIGVsZW1lbnROYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICBjb25zdCBlbGVtZW50ID0gY3JlYXRlRWxlbWVudFdpdGhOYW1lc3BhY2UoZWxlbWVudE5hbWUpO1xuXG4gICAgY29uc3QgeyBjb25zdFByb3BzIH0gPSBqc3g7XG4gICAgbGV0IG5lZWRzUURpc3BhdGNoRXZlbnRQYXRjaCA9IGZhbHNlO1xuICAgIGlmIChjb25zdFByb3BzKSB7XG4gICAgICAvLyBDb25zdCBwcm9wcyBhcmUsIHdlbGwsIGNvbnN0YW50LCB0aGV5IHdpbGwgbmV2ZXIgY2hhbmdlIVxuICAgICAgLy8gRm9yIHRoaXMgcmVhc29uIHdlIGNhbiBjaGVhdCBhbmQgd3JpdGUgdGhlbSBkaXJlY3RseSBpbnRvIHRoZSBET00uXG4gICAgICAvLyBXZSBuZXZlciB0ZWxsIHRoZSB2Tm9kZSBhYm91dCB0aGVtIHNhdmluZyB1cyB0aW1lIGFuZCBtZW1vcnkuXG4gICAgICBmb3IgKGNvbnN0IGtleSBpbiBjb25zdFByb3BzKSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IGNvbnN0UHJvcHNba2V5XTtcbiAgICAgICAgaWYgKGlzSnN4UHJvcGVydHlBbkV2ZW50TmFtZShrZXkpKSB7XG4gICAgICAgICAgLy8gU28gZm9yIGV2ZW50IGhhbmRsZXJzIHdlIG11c3QgYWRkIHRoZW0gdG8gdGhlIHZOb2RlIHNvIHRoYXQgcXdpa2xvYWRlciBjYW4gbG9vayB0aGVtIHVwXG4gICAgICAgICAgLy8gQnV0IHdlIG5lZWQgdG8gbWFyayB0aGVtIHNvIHRoYXQgdGhleSBkb24ndCBnZXQgcHVsbGVkIGludG8gdGhlIGRpZmYuXG4gICAgICAgICAgY29uc3QgZXZlbnROYW1lID0gZ2V0RXZlbnROYW1lRnJvbUpzeFByb3Aoa2V5KTtcbiAgICAgICAgICBjb25zdCBzY29wZSA9IGdldEV2ZW50TmFtZVNjb3BlRnJvbUpzeFByb3Aoa2V5KTtcbiAgICAgICAgICB2bm9kZV9zZXRQcm9wKFxuICAgICAgICAgICAgdk5ld05vZGUgYXMgRWxlbWVudFZOb2RlLFxuICAgICAgICAgICAgSEFORExFUl9QUkVGSVggKyAnOicgKyBzY29wZSArICc6JyArIGV2ZW50TmFtZSxcbiAgICAgICAgICAgIHZhbHVlXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAoZXZlbnROYW1lKSB7XG4gICAgICAgICAgICByZWdpc3RlclF3aWtMb2FkZXJFdmVudChldmVudE5hbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBuZWVkc1FEaXNwYXRjaEV2ZW50UGF0Y2ggPSB0cnVlO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGtleSA9PT0gJ3JlZicpIHtcbiAgICAgICAgICBpZiAoaXNTaWduYWwodmFsdWUpKSB7XG4gICAgICAgICAgICB2YWx1ZS52YWx1ZSA9IGVsZW1lbnQ7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdmFsdWUoZWxlbWVudCk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNTaWduYWwodmFsdWUpKSB7XG4gICAgICAgICAgY29uc3Qgc2lnbmFsRGF0YSA9IG5ldyBFZmZlY3REYXRhPE5vZGVQcm9wRGF0YT4oe1xuICAgICAgICAgICAgJHNjb3BlZFN0eWxlSWRQcmVmaXgkOiBzY29wZWRTdHlsZUlkUHJlZml4LFxuICAgICAgICAgICAgJGlzQ29uc3QkOiB0cnVlLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHZhbHVlID0gdHJhY2tTaWduYWwoXG4gICAgICAgICAgICAoKSA9PiAodmFsdWUgYXMgU2lnbmFsPHVua25vd24+KS52YWx1ZSxcbiAgICAgICAgICAgIHZOZXdOb2RlIGFzIEVsZW1lbnRWTm9kZSxcbiAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICAgIHNpZ25hbERhdGFcbiAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGtleSA9PT0gZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwpIHtcbiAgICAgICAgICBlbGVtZW50LmlubmVySFRNTCA9IHZhbHVlIGFzIHN0cmluZztcbiAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShRQ29udGFpbmVyQXR0ciwgUUNvbnRhaW5lclZhbHVlLkhUTUwpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGVsZW1lbnROYW1lID09PSAndGV4dGFyZWEnICYmIGtleSA9PT0gJ3ZhbHVlJykge1xuICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBpZiAoaXNEZXYpIHtcbiAgICAgICAgICAgICAgdGhyb3dFcnJvckFuZFN0b3AoJ1RoZSB2YWx1ZSBvZiB0aGUgdGV4dGFyZWEgbXVzdCBiZSBhIHN0cmluZycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIChlbGVtZW50IGFzIEhUTUxUZXh0QXJlYUVsZW1lbnQpLnZhbHVlID0gZXNjYXBlSFRNTCh2YWx1ZSBhcyBzdHJpbmcpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFsdWUgPSBzZXJpYWxpemVBdHRyaWJ1dGUoa2V5LCB2YWx1ZSwgc2NvcGVkU3R5bGVJZFByZWZpeCk7XG4gICAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoa2V5LCBTdHJpbmcodmFsdWUpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBrZXkgPSBqc3gua2V5O1xuICAgIGlmIChrZXkpIHtcbiAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKEVMRU1FTlRfS0VZLCBrZXkpO1xuICAgICAgdm5vZGVfc2V0UHJvcCh2TmV3Tm9kZSBhcyBFbGVtZW50Vk5vZGUsIEVMRU1FTlRfS0VZLCBrZXkpO1xuICAgIH1cblxuICAgIC8vIGFwcGVuZCBjbGFzcyBhdHRyaWJ1dGUgaWYgc3R5bGVTY29wZWRJZCBleGlzdHMgYW5kIHRoZXJlIGlzIG5vIGNsYXNzIGF0dHJpYnV0ZVxuICAgIGNvbnN0IGNsYXNzQXR0cmlidXRlRXhpc3RzID1cbiAgICAgIGhhc0NsYXNzQXR0cihqc3gudmFyUHJvcHMpIHx8IChqc3guY29uc3RQcm9wcyAmJiBoYXNDbGFzc0F0dHIoanN4LmNvbnN0UHJvcHMpKTtcbiAgICBpZiAoIWNsYXNzQXR0cmlidXRlRXhpc3RzICYmIHNjb3BlZFN0eWxlSWRQcmVmaXgpIHtcbiAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdjbGFzcycsIHNjb3BlZFN0eWxlSWRQcmVmaXgpO1xuICAgIH1cblxuICAgIHZub2RlX2luc2VydEJlZm9yZShqb3VybmFsLCB2UGFyZW50IGFzIEVsZW1lbnRWTm9kZSwgdk5ld05vZGUgYXMgRWxlbWVudFZOb2RlLCB2Q3VycmVudCk7XG5cbiAgICByZXR1cm4gbmVlZHNRRGlzcGF0Y2hFdmVudFBhdGNoO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlRWxlbWVudFdpdGhOYW1lc3BhY2UoZWxlbWVudE5hbWU6IHN0cmluZyk6IEVsZW1lbnQge1xuICAgIGNvbnN0IGRvbVBhcmVudFZOb2RlID0gdm5vZGVfZ2V0RG9tUGFyZW50Vk5vZGUodlBhcmVudCk7XG4gICAgY29uc3QgeyBlbGVtZW50TmFtZXNwYWNlLCBlbGVtZW50TmFtZXNwYWNlRmxhZyB9ID0gZ2V0TmV3RWxlbWVudE5hbWVzcGFjZURhdGEoXG4gICAgICBkb21QYXJlbnRWTm9kZSxcbiAgICAgIGVsZW1lbnROYW1lXG4gICAgKTtcblxuICAgIGNvbnN0IGVsZW1lbnQgPSBjb250YWluZXIuZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGVsZW1lbnROYW1lc3BhY2UsIGVsZW1lbnROYW1lKTtcbiAgICB2TmV3Tm9kZSA9IHZub2RlX25ld0VsZW1lbnQoZWxlbWVudCwgZWxlbWVudE5hbWUpO1xuICAgIHZOZXdOb2RlW1ZOb2RlUHJvcHMuZmxhZ3NdIHw9IGVsZW1lbnROYW1lc3BhY2VGbGFnO1xuICAgIHJldHVybiBlbGVtZW50O1xuICB9XG5cbiAgZnVuY3Rpb24gZXhwZWN0RWxlbWVudChqc3g6IEpTWE5vZGUsIGVsZW1lbnROYW1lOiBzdHJpbmcpIHtcbiAgICBjb25zdCBpc1NhbWVFbGVtZW50TmFtZSA9XG4gICAgICB2Q3VycmVudCAmJiB2bm9kZV9pc0VsZW1lbnRWTm9kZSh2Q3VycmVudCkgJiYgZWxlbWVudE5hbWUgPT09IHZub2RlX2dldEVsZW1lbnROYW1lKHZDdXJyZW50KTtcbiAgICBjb25zdCBqc3hLZXk6IHN0cmluZyB8IG51bGwgPSBqc3gua2V5O1xuICAgIGxldCBuZWVkc1FEaXNwYXRjaEV2ZW50UGF0Y2ggPSBmYWxzZTtcbiAgICBpZiAoIWlzU2FtZUVsZW1lbnROYW1lIHx8IGpzeEtleSAhPT0gZ2V0S2V5KHZDdXJyZW50KSkge1xuICAgICAgLy8gU28gd2UgaGF2ZSBhIGtleSBhbmQgaXQgZG9lcyBub3QgbWF0Y2ggdGhlIGN1cnJlbnQgbm9kZS5cbiAgICAgIC8vIFdlIG5lZWQgdG8gZG8gYSBmb3J3YXJkIHNlYXJjaCB0byBmaW5kIGl0LlxuICAgICAgLy8gVGhlIGNvbXBsaWNhdGlvbiBpcyB0aGF0IG9uY2Ugd2Ugc3RhcnQgdGFraW5nIG5vZGVzIG91dCBvZiBvcmRlciB3ZSBjYW4ndCB1c2UgYHZub2RlX2dldE5leHRTaWJsaW5nYFxuICAgICAgdk5ld05vZGUgPSByZXRyaWV2ZUNoaWxkV2l0aEtleShlbGVtZW50TmFtZSwganN4S2V5KTtcbiAgICAgIGlmICh2TmV3Tm9kZSA9PT0gbnVsbCkge1xuICAgICAgICAvLyBObyBleGlzdGluZyBub2RlIHdpdGgga2V5IGV4aXN0cywganVzdCBjcmVhdGUgYSBuZXcgb25lLlxuICAgICAgICBuZWVkc1FEaXNwYXRjaEV2ZW50UGF0Y2ggPSBjcmVhdGVOZXdFbGVtZW50KGpzeCwgZWxlbWVudE5hbWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRXhpc3Rpbmcga2V5ZWQgbm9kZVxuICAgICAgICB2bm9kZV9pbnNlcnRCZWZvcmUoam91cm5hbCwgdlBhcmVudCBhcyBFbGVtZW50Vk5vZGUsIHZOZXdOb2RlLCB2Q3VycmVudCk7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIHJlY29uY2lsZSBhdHRyaWJ1dGVzXG5cbiAgICBjb25zdCBqc3hBdHRycyA9IFtdIGFzIENsaWVudEF0dHJzO1xuICAgIGNvbnN0IHByb3BzID0ganN4LnZhclByb3BzO1xuICAgIGZvciAoY29uc3Qga2V5IGluIHByb3BzKSB7XG4gICAgICBsZXQgdmFsdWUgPSBwcm9wc1trZXldO1xuICAgICAgdmFsdWUgPSBzZXJpYWxpemVBdHRyaWJ1dGUoa2V5LCB2YWx1ZSwgc2NvcGVkU3R5bGVJZFByZWZpeCk7XG4gICAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgICBtYXBBcnJheV9zZXQoanN4QXR0cnMsIGtleSwgdmFsdWUsIDApO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoanN4S2V5ICE9PSBudWxsKSB7XG4gICAgICBtYXBBcnJheV9zZXQoanN4QXR0cnMsIEVMRU1FTlRfS0VZLCBqc3hLZXksIDApO1xuICAgIH1cbiAgICBjb25zdCB2Tm9kZSA9ICh2TmV3Tm9kZSB8fCB2Q3VycmVudCkgYXMgRWxlbWVudFZOb2RlO1xuICAgIG5lZWRzUURpc3BhdGNoRXZlbnRQYXRjaCA9IHNldEJ1bGtQcm9wcyh2Tm9kZSwganN4QXR0cnMpIHx8IG5lZWRzUURpc3BhdGNoRXZlbnRQYXRjaDtcbiAgICBpZiAobmVlZHNRRGlzcGF0Y2hFdmVudFBhdGNoKSB7XG4gICAgICAvLyBFdmVudCBoYW5kbGVyIG5lZWRzIHRvIGJlIHBhdGNoZWQgb250byB0aGUgZWxlbWVudC5cbiAgICAgIGNvbnN0IGVsZW1lbnQgPSB2bm9kZV9nZXROb2RlKHZOb2RlKSBhcyBRRWxlbWVudDtcbiAgICAgIGlmICghZWxlbWVudC5xRGlzcGF0Y2hFdmVudCkge1xuICAgICAgICBlbGVtZW50LnFEaXNwYXRjaEV2ZW50ID0gKGV2ZW50OiBFdmVudCwgc2NvcGU6IFF3aWtMb2FkZXJFdmVudFNjb3BlKSA9PiB7XG4gICAgICAgICAgY29uc3QgZXZlbnROYW1lID0gZXZlbnQudHlwZTtcbiAgICAgICAgICBjb25zdCBldmVudFByb3AgPSAnOicgKyBzY29wZS5zdWJzdHJpbmcoMSkgKyAnOicgKyBldmVudE5hbWU7XG4gICAgICAgICAgY29uc3QgcXJscyA9IFtcbiAgICAgICAgICAgIHZub2RlX2dldFByb3A8UVJMPih2Tm9kZSwgZXZlbnRQcm9wLCBudWxsKSxcbiAgICAgICAgICAgIHZub2RlX2dldFByb3A8UVJMPih2Tm9kZSwgSEFORExFUl9QUkVGSVggKyBldmVudFByb3AsIG51bGwpLFxuICAgICAgICAgIF07XG4gICAgICAgICAgbGV0IHJldHVyblZhbHVlID0gZmFsc2U7XG4gICAgICAgICAgcXJscy5mbGF0KDIpLmZvckVhY2goKHFybCkgPT4ge1xuICAgICAgICAgICAgaWYgKHFybCkge1xuICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHFybChldmVudCwgZWxlbWVudCkgYXMgYW55O1xuICAgICAgICAgICAgICByZXR1cm5WYWx1ZSA9IHJldHVyblZhbHVlIHx8IHZhbHVlID09PSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiByZXR1cm5WYWx1ZTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKiogQHBhcmFtIHRhZyBSZXR1cm5zIHRydWUgaWYgYHFEaXNwYXRjaEV2ZW50YCBuZWVkcyBwYXRjaGluZyAqL1xuICBmdW5jdGlvbiBzZXRCdWxrUHJvcHModm5vZGU6IEVsZW1lbnRWTm9kZSwgc3JjQXR0cnM6IENsaWVudEF0dHJzKTogYm9vbGVhbiB7XG4gICAgdm5vZGVfZW5zdXJlRWxlbWVudEluZmxhdGVkKHZub2RlKTtcbiAgICBjb25zdCBkc3RBdHRycyA9IHZub2RlIGFzIENsaWVudEF0dHJzO1xuICAgIGxldCBzcmNJZHggPSAwO1xuICAgIGNvbnN0IHNyY0xlbmd0aCA9IHNyY0F0dHJzLmxlbmd0aDtcbiAgICBsZXQgZHN0SWR4ID0gRWxlbWVudFZOb2RlUHJvcHMuUFJPUFNfT0ZGU0VUO1xuICAgIGxldCBkc3RMZW5ndGggPSBkc3RBdHRycy5sZW5ndGg7XG4gICAgbGV0IHNyY0tleTogQ2xpZW50QXR0cktleSB8IG51bGwgPSBzcmNJZHggPCBzcmNMZW5ndGggPyBzcmNBdHRyc1tzcmNJZHgrK10gOiBudWxsO1xuICAgIGxldCBkc3RLZXk6IENsaWVudEF0dHJLZXkgfCBudWxsID0gZHN0SWR4IDwgZHN0TGVuZ3RoID8gZHN0QXR0cnNbZHN0SWR4KytdIDogbnVsbDtcbiAgICBsZXQgcGF0Y2hFdmVudERpc3BhdGNoID0gZmFsc2U7XG5cbiAgICBjb25zdCByZWNvcmQgPSAoa2V5OiBzdHJpbmcsIHZhbHVlOiBhbnkpID0+IHtcbiAgICAgIGlmIChrZXkuc3RhcnRzV2l0aCgnOicpKSB7XG4gICAgICAgIHZub2RlX3NldFByb3Aodm5vZGUsIGtleSwgdmFsdWUpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChrZXkgPT09ICdyZWYnKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSB2bm9kZV9nZXROb2RlKHZub2RlKSBhcyBFbGVtZW50O1xuICAgICAgICBpZiAoaXNTaWduYWwodmFsdWUpKSB7XG4gICAgICAgICAgdmFsdWUudmFsdWUgPSBlbGVtZW50O1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB2YWx1ZShlbGVtZW50KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGlzU2lnbmFsKHZhbHVlKSkge1xuICAgICAgICB2YWx1ZSA9IHVudHJhY2soKCkgPT4gdmFsdWUudmFsdWUpO1xuICAgICAgfVxuXG4gICAgICB2bm9kZV9zZXRBdHRyKGpvdXJuYWwsIHZub2RlLCBrZXksIHZhbHVlKTtcbiAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICAvLyBpZiB3ZSBzZXQgYG51bGxgIHRoYW4gYXR0cmlidXRlIHdhcyByZW1vdmVkIGFuZCB3ZSBuZWVkIHRvIHNob3J0ZW4gdGhlIGRzdExlbmd0aFxuICAgICAgICBkc3RMZW5ndGggPSBkc3RBdHRycy5sZW5ndGg7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHJlY29yZEpzeEV2ZW50ID0gKGtleTogc3RyaW5nLCB2YWx1ZTogYW55KSA9PiB7XG4gICAgICBjb25zdCBldmVudE5hbWUgPSBnZXRFdmVudE5hbWVGcm9tSnN4UHJvcChrZXkpO1xuICAgICAgaWYgKGV2ZW50TmFtZSkge1xuICAgICAgICBjb25zdCBzY29wZSA9IGdldEV2ZW50TmFtZVNjb3BlRnJvbUpzeFByb3Aoa2V5KTtcbiAgICAgICAgcmVjb3JkKCc6JyArIHNjb3BlICsgJzonICsgZXZlbnROYW1lLCB2YWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIC8vIGFkZCBhbiBldmVudCBhdHRyIHdpdGggZW1wdHkgdmFsdWUgZm9yIHF3aWtsb2FkZXIgZWxlbWVudCBzZWxlY3Rvci5cbiAgICAgIC8vIFdlIGRvbid0IG5lZWQgdmFsdWUgaGVyZS4gRm9yIHNzciB0aGlzIHZhbHVlIGlzIGEgUVJMLFxuICAgICAgLy8gYnV0IGZvciBDU1IgdmFsdWUgc2hvdWxkIGJlIGp1c3QgZW1wdHlcbiAgICAgIGNvbnN0IGh0bWxFdmVudCA9IGNvbnZlcnRFdmVudE5hbWVGcm9tSnN4UHJvcFRvSHRtbEF0dHIoa2V5KTtcbiAgICAgIGlmIChodG1sRXZlbnQpIHtcbiAgICAgICAgcmVjb3JkKGh0bWxFdmVudCwgJycpO1xuICAgICAgfVxuXG4gICAgICAvLyByZWdpc3RlciBhbiBldmVudCBmb3IgcXdpayBsb2FkZXJcbiAgICAgIGlmIChldmVudE5hbWUpIHtcbiAgICAgICAgcmVnaXN0ZXJRd2lrTG9hZGVyRXZlbnQoZXZlbnROYW1lKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgd2hpbGUgKHNyY0tleSAhPT0gbnVsbCB8fCBkc3RLZXkgIT09IG51bGwpIHtcbiAgICAgIGlmIChkc3RLZXk/LnN0YXJ0c1dpdGgoSEFORExFUl9QUkVGSVgpIHx8IGRzdEtleSA9PSBFTEVNRU5UX0tFWSkge1xuICAgICAgICAvLyBUaGVzZSBhcmUgYSBzcGVjaWFsIGtleXMgd2hpY2ggd2UgdXNlIHRvIG1hcmsgdGhlIGV2ZW50IGhhbmRsZXJzIGFzIGltbXV0YWJsZSBvclxuICAgICAgICAvLyBlbGVtZW50IGtleSB3ZSBuZWVkIHRvIGlnbm9yZSB0aGVtLlxuICAgICAgICBkc3RJZHgrKzsgLy8gc2tpcCB0aGUgZGVzdGluYXRpb24gdmFsdWUsIHdlIGRvbid0IGNhcmUgYWJvdXQgaXQuXG4gICAgICAgIGRzdEtleSA9IGRzdElkeCA8IGRzdExlbmd0aCA/IGRzdEF0dHJzW2RzdElkeCsrXSA6IG51bGw7XG4gICAgICB9IGVsc2UgaWYgKHNyY0tleSA9PSBudWxsKSB7XG4gICAgICAgIC8vIFNvdXJjZSBoYXMgbW9yZSBrZXlzLCBzbyB3ZSBuZWVkIHRvIHJlbW92ZSB0aGVtIGZyb20gZGVzdGluYXRpb25cbiAgICAgICAgaWYgKGRzdEtleSAmJiBpc0h0bWxBdHRyaWJ1dGVBbkV2ZW50TmFtZShkc3RLZXkpKSB7XG4gICAgICAgICAgcGF0Y2hFdmVudERpc3BhdGNoID0gdHJ1ZTtcbiAgICAgICAgICBkc3RJZHgrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZWNvcmQoZHN0S2V5ISwgbnVsbCk7XG4gICAgICAgICAgZHN0SWR4LS07XG4gICAgICAgIH1cbiAgICAgICAgZHN0S2V5ID0gZHN0SWR4IDwgZHN0TGVuZ3RoID8gZHN0QXR0cnNbZHN0SWR4KytdIDogbnVsbDtcbiAgICAgIH0gZWxzZSBpZiAoZHN0S2V5ID09IG51bGwpIHtcbiAgICAgICAgLy8gRGVzdGluYXRpb24gaGFzIG1vcmUga2V5cywgc28gd2UgbmVlZCB0byBpbnNlcnQgdGhlbSBmcm9tIHNvdXJjZS5cbiAgICAgICAgY29uc3QgaXNFdmVudCA9IGlzSnN4UHJvcGVydHlBbkV2ZW50TmFtZShzcmNLZXkpO1xuICAgICAgICBpZiAoaXNFdmVudCkge1xuICAgICAgICAgIC8vIFNwZWNpYWwgaGFuZGxpbmcgZm9yIGV2ZW50c1xuICAgICAgICAgIHBhdGNoRXZlbnREaXNwYXRjaCA9IHRydWU7XG4gICAgICAgICAgcmVjb3JkSnN4RXZlbnQoc3JjS2V5LCBzcmNBdHRyc1tzcmNJZHhdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZWNvcmQoc3JjS2V5ISwgc3JjQXR0cnNbc3JjSWR4XSk7XG4gICAgICAgIH1cbiAgICAgICAgc3JjSWR4Kys7XG4gICAgICAgIHNyY0tleSA9IHNyY0lkeCA8IHNyY0xlbmd0aCA/IHNyY0F0dHJzW3NyY0lkeCsrXSA6IG51bGw7XG4gICAgICB9IGVsc2UgaWYgKHNyY0tleSA9PSBkc3RLZXkpIHtcbiAgICAgICAgY29uc3Qgc3JjVmFsdWUgPSBzcmNBdHRyc1tzcmNJZHgrK107XG4gICAgICAgIGNvbnN0IGRzdFZhbHVlID0gZHN0QXR0cnNbZHN0SWR4KytdO1xuICAgICAgICBpZiAoc3JjVmFsdWUgIT09IGRzdFZhbHVlKSB7XG4gICAgICAgICAgcmVjb3JkKGRzdEtleSwgc3JjVmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHNyY0tleSA9IHNyY0lkeCA8IHNyY0xlbmd0aCA/IHNyY0F0dHJzW3NyY0lkeCsrXSA6IG51bGw7XG4gICAgICAgIGRzdEtleSA9IGRzdElkeCA8IGRzdExlbmd0aCA/IGRzdEF0dHJzW2RzdElkeCsrXSA6IG51bGw7XG4gICAgICB9IGVsc2UgaWYgKHNyY0tleSA8IGRzdEtleSkge1xuICAgICAgICAvLyBEZXN0aW5hdGlvbiBpcyBtaXNzaW5nIHRoZSBrZXksIHNvIHdlIG5lZWQgdG8gaW5zZXJ0IGl0LlxuICAgICAgICBpZiAoaXNKc3hQcm9wZXJ0eUFuRXZlbnROYW1lKHNyY0tleSkpIHtcbiAgICAgICAgICAvLyBTcGVjaWFsIGhhbmRsaW5nIGZvciBldmVudHNcbiAgICAgICAgICBwYXRjaEV2ZW50RGlzcGF0Y2ggPSB0cnVlO1xuICAgICAgICAgIHJlY29yZEpzeEV2ZW50KHNyY0tleSwgc3JjQXR0cnNbc3JjSWR4XSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVjb3JkKHNyY0tleSwgc3JjQXR0cnNbc3JjSWR4XSk7XG4gICAgICAgIH1cblxuICAgICAgICBzcmNJZHgrKztcbiAgICAgICAgLy8gYWR2YW5jZSBzcmNWYWx1ZVxuICAgICAgICBzcmNLZXkgPSBzcmNJZHggPCBzcmNMZW5ndGggPyBzcmNBdHRyc1tzcmNJZHgrK10gOiBudWxsO1xuICAgICAgICAvLyB3ZSBuZWVkIHRvIGluY3JlbWVudCBkc3RJZHggdG9vLCBiZWNhdXNlIHdlIGFkZGVkIGRlc3RpbmF0aW9uIGtleSBhbmQgdmFsdWUgdG8gdGhlIFZOb2RlXG4gICAgICAgIC8vIGFuZCBkc3RBdHRycyBpcyBhIHJlZmVyZW5jZSB0byB0aGUgVk5vZGVcbiAgICAgICAgZHN0SWR4Kys7XG4gICAgICAgIGRzdEtleSA9IGRzdElkeCA8IGRzdExlbmd0aCA/IGRzdEF0dHJzW2RzdElkeCsrXSA6IG51bGw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBTb3VyY2UgaXMgbWlzc2luZyB0aGUga2V5LCBzbyB3ZSBuZWVkIHRvIHJlbW92ZSBpdCBmcm9tIGRlc3RpbmF0aW9uLlxuICAgICAgICBpZiAoaXNIdG1sQXR0cmlidXRlQW5FdmVudE5hbWUoZHN0S2V5KSkge1xuICAgICAgICAgIHBhdGNoRXZlbnREaXNwYXRjaCA9IHRydWU7XG4gICAgICAgICAgZHN0SWR4Kys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVjb3JkKGRzdEtleSEsIG51bGwpO1xuICAgICAgICAgIGRzdElkeC0tO1xuICAgICAgICB9XG4gICAgICAgIGRzdEtleSA9IGRzdElkeCA8IGRzdExlbmd0aCA/IGRzdEF0dHJzW2RzdElkeCsrXSA6IG51bGw7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwYXRjaEV2ZW50RGlzcGF0Y2g7XG4gIH1cblxuICBmdW5jdGlvbiByZWdpc3RlclF3aWtMb2FkZXJFdmVudChldmVudE5hbWU6IHN0cmluZykge1xuICAgIGNvbnN0IHdpbmRvdyA9IGNvbnRhaW5lci5kb2N1bWVudC5kZWZhdWx0VmlldyBhcyBxV2luZG93IHwgbnVsbDtcbiAgICBpZiAod2luZG93KSB7XG4gICAgICAod2luZG93LnF3aWtldmVudHMgfHw9IFtdIGFzIGFueSkucHVzaChldmVudE5hbWUpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZSB0aGUgY2hpbGQgd2l0aCB0aGUgZ2l2ZW4ga2V5LlxuICAgKlxuICAgKiBCeSByZXRyaWV2aW5nIHRoZSBjaGlsZCB3aXRoIHRoZSBnaXZlbiBrZXkgd2UgYXJlIGVmZmVjdGl2ZWx5IHJlbW92aW5nIGl0IGZyb20gdGhlIGxpc3Qgb2ZcbiAgICogZnV0dXJlIGVsZW1lbnRzLiBUaGlzIG1lYW5zIHRoYXQgd2UgY2FuJ3QganVzdCB1c2UgYHZub2RlX2dldE5leHRTaWJsaW5nYCB0byBmaW5kIHRoZSBuZXh0XG4gICAqIGluc3RlYWQgd2UgaGF2ZSB0byBrZWVwIHRyYWNrIG9mIHRoZSBlbGVtZW50cyB3ZSBoYXZlIGFscmVhZHkgc2Vlbi5cbiAgICpcbiAgICogV2UgY2FsbCB0aGlzIG1hdGVyaWFsaXppbmcgdGhlIGVsZW1lbnRzLlxuICAgKlxuICAgKiBgdlNpYmxpbmdzSWR4YDpcbiAgICpcbiAgICogLSAtMTogTm90IG1hdGVyaWFsaXplZFxuICAgKiAtIFBvc2l0aXZlIG51bWJlciAtIHRoZSBpbmRleCBvZiB0aGUgbmV4dCBlbGVtZW50IGluIHRoZSBgdlNpYmxpbmdzYCBhcnJheS5cbiAgICpcbiAgICogQnkgcmV0cmlldmluZyB0aGUgY2hpbGQgd2l0aCB0aGUgZ2l2ZW4ga2V5IHdlIGFyZSBlZmZlY3RpdmVseSByZW1vdmluZyBpdCBmcm9tIHRoZSBsaXN0IChoZW5jZVxuICAgKiB3ZSBuZWVkIHRvIHNwbGljZSB0aGUgYHZTaWJsaW5nc2AgYXJyYXkpLlxuICAgKlxuICAgKiBAcGFyYW0ga2V5XG4gICAqIEByZXR1cm5zIEFycmF5IHdoZXJlOiAoc2VlOiBgU2libGluZ3NBcnJheWApXG4gICAqXG4gICAqICAgLSBJZHglMyA9PSAwIG5vZGVOYW1lXG4gICAqICAgLSBJZHglMyA9PSAxIGtleVxuICAgKiAgIC0gSWR4JTMgPT0gMiB2Tm9kZVxuICAgKi9cbiAgZnVuY3Rpb24gcmV0cmlldmVDaGlsZFdpdGhLZXkoXG4gICAgbm9kZU5hbWU6IHN0cmluZyB8IG51bGwsXG4gICAga2V5OiBzdHJpbmcgfCBudWxsXG4gICk6IEVsZW1lbnRWTm9kZSB8IFZpcnR1YWxWTm9kZSB8IG51bGwge1xuICAgIGxldCB2Tm9kZVdpdGhLZXk6IEVsZW1lbnRWTm9kZSB8IFZpcnR1YWxWTm9kZSB8IG51bGwgPSBudWxsO1xuICAgIGlmICh2U2libGluZ3NJZHggPT09IC0xKSB7XG4gICAgICAvLyBpdCBpcyBub3QgbWF0ZXJpYWxpemVkOyBzbyBtYXRlcmlhbGl6ZSBpdC5cbiAgICAgIHZTaWJsaW5ncyA9IFtdO1xuICAgICAgdlNpYmxpbmdzSWR4ID0gMDtcbiAgICAgIGxldCB2Tm9kZSA9IHZDdXJyZW50O1xuICAgICAgd2hpbGUgKHZOb2RlKSB7XG4gICAgICAgIGNvbnN0IG5hbWUgPSB2bm9kZV9pc0VsZW1lbnRWTm9kZSh2Tm9kZSkgPyB2bm9kZV9nZXRFbGVtZW50TmFtZSh2Tm9kZSkgOiBudWxsO1xuICAgICAgICBjb25zdCB2S2V5ID0gZ2V0S2V5KHZOb2RlKSB8fCBnZXRDb21wb25lbnRIYXNoKHZOb2RlLCBjb250YWluZXIuJGdldE9iamVjdEJ5SWQkKTtcbiAgICAgICAgaWYgKHZOb2RlV2l0aEtleSA9PT0gbnVsbCAmJiB2S2V5ID09IGtleSAmJiBuYW1lID09IG5vZGVOYW1lKSB7XG4gICAgICAgICAgdk5vZGVXaXRoS2V5ID0gdk5vZGUgYXMgRWxlbWVudFZOb2RlIHwgVmlydHVhbFZOb2RlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIHdlIG9ubHkgYWRkIHRoZSBlbGVtZW50cyB3aGljaCB3ZSBkaWQgbm90IGZpbmQgeWV0LlxuICAgICAgICAgIHZTaWJsaW5ncy5wdXNoKG5hbWUsIHZLZXksIHZOb2RlKTtcbiAgICAgICAgfVxuICAgICAgICB2Tm9kZSA9IHZub2RlX2dldE5leHRTaWJsaW5nKHZOb2RlKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZm9yIChsZXQgaWR4ID0gdlNpYmxpbmdzSWR4OyBpZHggPCB2U2libGluZ3MhLmxlbmd0aDsgaWR4ICs9IFNpYmxpbmdzQXJyYXkuU2l6ZSkge1xuICAgICAgICBjb25zdCBuYW1lID0gdlNpYmxpbmdzIVtpZHggKyBTaWJsaW5nc0FycmF5Lk5hbWVdO1xuICAgICAgICBjb25zdCB2S2V5ID0gdlNpYmxpbmdzIVtpZHggKyBTaWJsaW5nc0FycmF5LktleV07XG4gICAgICAgIGlmICh2S2V5ID09PSBrZXkgJiYgbmFtZSA9PT0gbm9kZU5hbWUpIHtcbiAgICAgICAgICB2Tm9kZVdpdGhLZXkgPSB2U2libGluZ3MhW2lkeCArIFNpYmxpbmdzQXJyYXkuVk5vZGVdIGFzIGFueTtcbiAgICAgICAgICAvLyByZW1vdmUgdGhlIG5vZGUgZnJvbSB0aGUgc2libGluZ3MgYXJyYXlcbiAgICAgICAgICB2U2libGluZ3M/LnNwbGljZShpZHgsIFNpYmxpbmdzQXJyYXkuU2l6ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHZOb2RlV2l0aEtleTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGV4cGVjdFZpcnR1YWwodHlwZTogVmlydHVhbFR5cGUsIGpzeEtleTogc3RyaW5nIHwgbnVsbCkge1xuICAgIGlmIChcbiAgICAgIHZDdXJyZW50ICYmXG4gICAgICB2bm9kZV9pc1ZpcnR1YWxWTm9kZSh2Q3VycmVudCkgJiZcbiAgICAgIHZub2RlX2dldFByb3AodkN1cnJlbnQsIEVMRU1FTlRfS0VZLCBudWxsKSA9PT0ganN4S2V5XG4gICAgKSB7XG4gICAgICAvLyBBbGwgaXMgZ29vZC5cbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2UgaWYgKGpzeEtleSAhPT0gbnVsbCkge1xuICAgICAgLy8gV2UgaGF2ZSBhIGtleSBmaW5kIGl0XG4gICAgICB2TmV3Tm9kZSA9IHJldHJpZXZlQ2hpbGRXaXRoS2V5KG51bGwsIGpzeEtleSk7XG4gICAgICBpZiAodk5ld05vZGUgIT0gbnVsbCkge1xuICAgICAgICAvLyBXZSBmb3VuZCBpdCwgbW92ZSBpdCB1cC5cbiAgICAgICAgdm5vZGVfaW5zZXJ0QmVmb3JlKFxuICAgICAgICAgIGpvdXJuYWwsXG4gICAgICAgICAgdlBhcmVudCBhcyBWaXJ0dWFsVk5vZGUsXG4gICAgICAgICAgKHZOZXdOb2RlID0gdm5vZGVfbmV3VmlydHVhbCgpKSxcbiAgICAgICAgICB2Q3VycmVudCAmJiBnZXRJbnNlcnRCZWZvcmUoKVxuICAgICAgICApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIC8vIERpZCBub3QgZmluZCBpdCwgaW5zZXJ0IGEgbmV3IG9uZS5cbiAgICB2bm9kZV9pbnNlcnRCZWZvcmUoXG4gICAgICBqb3VybmFsLFxuICAgICAgdlBhcmVudCBhcyBWaXJ0dWFsVk5vZGUsXG4gICAgICAodk5ld05vZGUgPSB2bm9kZV9uZXdWaXJ0dWFsKCkpLFxuICAgICAgdkN1cnJlbnQgJiYgZ2V0SW5zZXJ0QmVmb3JlKClcbiAgICApO1xuICAgIHZub2RlX3NldFByb3Aodk5ld05vZGUgYXMgVmlydHVhbFZOb2RlLCBFTEVNRU5UX0tFWSwganN4S2V5KTtcbiAgICBpc0RldiAmJiB2bm9kZV9zZXRQcm9wKCh2TmV3Tm9kZSB8fCB2Q3VycmVudCkgYXMgVmlydHVhbFZOb2RlLCBERUJVR19UWVBFLCB0eXBlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGV4cGVjdENvbXBvbmVudChjb21wb25lbnQ6IEZ1bmN0aW9uKSB7XG4gICAgY29uc3QgY29tcG9uZW50TWV0YSA9IChjb21wb25lbnQgYXMgYW55KVtTRVJJQUxJWkFCTEVfU1RBVEVdIGFzIFtRUkxJbnRlcm5hbDxPblJlbmRlckZuPGFueT4+XTtcbiAgICBsZXQgaG9zdCA9ICh2TmV3Tm9kZSB8fCB2Q3VycmVudCkgYXMgVmlydHVhbFZOb2RlIHwgbnVsbDtcbiAgICBpZiAoY29tcG9uZW50TWV0YSkge1xuICAgICAgY29uc3QganN4UHJvcHMgPSBqc3hWYWx1ZS5wcm9wcztcbiAgICAgIC8vIFFDb21wb25lbnRcbiAgICAgIGxldCBzaG91bGRSZW5kZXIgPSBmYWxzZTtcbiAgICAgIGNvbnN0IFtjb21wb25lbnRRUkxdID0gY29tcG9uZW50TWV0YTtcblxuICAgICAgY29uc3QgY29tcG9uZW50SGFzaCA9IGNvbXBvbmVudFFSTC4kaGFzaCQ7XG4gICAgICBjb25zdCB2Tm9kZUNvbXBvbmVudEhhc2ggPSBnZXRDb21wb25lbnRIYXNoKGhvc3QsIGNvbnRhaW5lci4kZ2V0T2JqZWN0QnlJZCQpO1xuXG4gICAgICBjb25zdCBsb29rdXBLZXkgPSBqc3hWYWx1ZS5rZXkgfHwgY29tcG9uZW50SGFzaDtcbiAgICAgIGNvbnN0IHZOb2RlTG9va3VwS2V5ID0gZ2V0S2V5KGhvc3QpIHx8IHZOb2RlQ29tcG9uZW50SGFzaDtcblxuICAgICAgY29uc3QgbG9va3VwS2V5c0FyZUVxdWFsID0gbG9va3VwS2V5ID09PSB2Tm9kZUxvb2t1cEtleTtcbiAgICAgIGNvbnN0IGhhc2hlc0FyZUVxdWFsID0gY29tcG9uZW50SGFzaCA9PT0gdk5vZGVDb21wb25lbnRIYXNoO1xuXG4gICAgICBpZiAoIWxvb2t1cEtleXNBcmVFcXVhbCkge1xuICAgICAgICAvLyBTZWUgaWYgd2UgYWxyZWFkeSBoYXZlIHRoaXMgY29tcG9uZW50IGxhdGVyIG9uLlxuICAgICAgICB2TmV3Tm9kZSA9IHJldHJpZXZlQ2hpbGRXaXRoS2V5KG51bGwsIGxvb2t1cEtleSk7XG4gICAgICAgIGlmICh2TmV3Tm9kZSkge1xuICAgICAgICAgIC8vIFdlIGZvdW5kIHRoZSBjb21wb25lbnQsIG1vdmUgaXQgdXAuXG4gICAgICAgICAgdm5vZGVfaW5zZXJ0QmVmb3JlKGpvdXJuYWwsIHZQYXJlbnQgYXMgVmlydHVhbFZOb2RlLCB2TmV3Tm9kZSwgdkN1cnJlbnQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIFdlIGRpZCBub3QgZmluZCB0aGUgY29tcG9uZW50LCBjcmVhdGUgaXQuXG4gICAgICAgICAgaW5zZXJ0TmV3Q29tcG9uZW50KGhvc3QsIGNvbXBvbmVudFFSTCwganN4UHJvcHMpO1xuICAgICAgICB9XG4gICAgICAgIGhvc3QgPSB2TmV3Tm9kZSBhcyBWaXJ0dWFsVk5vZGU7XG4gICAgICAgIHNob3VsZFJlbmRlciA9IHRydWU7XG4gICAgICB9IGVsc2UgaWYgKCFoYXNoZXNBcmVFcXVhbCkge1xuICAgICAgICBpbnNlcnROZXdDb21wb25lbnQoaG9zdCwgY29tcG9uZW50UVJMLCBqc3hQcm9wcyk7XG4gICAgICAgIGlmICh2TmV3Tm9kZSkge1xuICAgICAgICAgIGlmIChob3N0KSB7XG4gICAgICAgICAgICAvLyBUT0RPKHZhcml4byk6IG5vdCBzdXJlIHdoeSB3ZSBuZWVkIHRvIGNvcHkgZmxhZ3MgaGVyZS5cbiAgICAgICAgICAgIHZOZXdOb2RlW1ZOb2RlUHJvcHMuZmxhZ3NdID0gaG9zdFtWTm9kZVByb3BzLmZsYWdzXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaG9zdCA9IHZOZXdOb2RlIGFzIFZpcnR1YWxWTm9kZTtcbiAgICAgICAgICBzaG91bGRSZW5kZXIgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChob3N0KSB7XG4gICAgICAgIGNvbnN0IHZOb2RlUHJvcHMgPSB2bm9kZV9nZXRQcm9wPGFueT4oaG9zdCwgRUxFTUVOVF9QUk9QUywgY29udGFpbmVyLiRnZXRPYmplY3RCeUlkJCk7XG4gICAgICAgIHNob3VsZFJlbmRlciA9IHNob3VsZFJlbmRlciB8fCBwcm9wc0RpZmZlcihqc3hQcm9wcywgdk5vZGVQcm9wcyk7XG4gICAgICAgIGlmIChzaG91bGRSZW5kZXIpIHtcbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBNYXJrIGhvc3QgYXMgbm90IGRlbGV0ZWQuIFRoZSBob3N0IGNvdWxkIGhhdmUgYmVlbiBtYXJrZWQgYXMgZGVsZXRlZCBpZiBpdCB0aGVyZSB3YXMgYVxuICAgICAgICAgICAqIGNsZWFudXAgcnVuLiBOb3cgd2UgZm91bmQgaXQgYW5kIHdhbnQgdG8gcmV1c2UgaXQsIHNvIHdlIG5lZWQgdG8gbWFyayBpdCBhcyBub3RcbiAgICAgICAgICAgKiBkZWxldGVkLlxuICAgICAgICAgICAqL1xuICAgICAgICAgIGhvc3RbVk5vZGVQcm9wcy5mbGFnc10gJj0gflZOb2RlRmxhZ3MuRGVsZXRlZDtcbiAgICAgICAgICBjb250YWluZXIuJHNjaGVkdWxlciQoQ2hvcmVUeXBlLkNPTVBPTkVOVCwgaG9zdCwgY29tcG9uZW50UVJMLCBqc3hQcm9wcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGpzeFZhbHVlLmNoaWxkcmVuICE9IG51bGwgJiYgZGVzY2VuZENvbnRlbnRUb1Byb2plY3QoanN4VmFsdWUuY2hpbGRyZW4sIGhvc3QpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBsb29rdXBLZXkgPSBqc3hWYWx1ZS5rZXk7XG4gICAgICBjb25zdCB2Tm9kZUxvb2t1cEtleSA9IGdldEtleShob3N0KTtcbiAgICAgIGNvbnN0IGxvb2t1cEtleXNBcmVFcXVhbCA9IGxvb2t1cEtleSA9PT0gdk5vZGVMb29rdXBLZXk7XG5cbiAgICAgIGlmICghbG9va3VwS2V5c0FyZUVxdWFsKSB7XG4gICAgICAgIC8vIFNlZSBpZiB3ZSBhbHJlYWR5IGhhdmUgdGhpcyBpbmxpbmUgY29tcG9uZW50IGxhdGVyIG9uLlxuICAgICAgICB2TmV3Tm9kZSA9IHJldHJpZXZlQ2hpbGRXaXRoS2V5KG51bGwsIGxvb2t1cEtleSk7XG4gICAgICAgIGlmICh2TmV3Tm9kZSkge1xuICAgICAgICAgIC8vIFdlIGZvdW5kIHRoZSBpbmxpbmUgY29tcG9uZW50LCBtb3ZlIGl0IHVwLlxuICAgICAgICAgIHZub2RlX2luc2VydEJlZm9yZShqb3VybmFsLCB2UGFyZW50IGFzIFZpcnR1YWxWTm9kZSwgdk5ld05vZGUsIHZDdXJyZW50KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBXZSBkaWQgbm90IGZpbmQgdGhlIGlubGluZSBjb21wb25lbnQsIGNyZWF0ZSBpdC5cbiAgICAgICAgICBpbnNlcnROZXdJbmxpbmVDb21wb25lbnQoKTtcbiAgICAgICAgfVxuICAgICAgICBob3N0ID0gdk5ld05vZGUgYXMgVmlydHVhbFZOb2RlO1xuICAgICAgfVxuXG4gICAgICBpZiAoaG9zdCkge1xuICAgICAgICBsZXQgY29tcG9uZW50SG9zdDogVk5vZGUgfCBudWxsID0gaG9zdDtcbiAgICAgICAgLy8gRmluZCB0aGUgY2xvc2VzdCBjb21wb25lbnQgaG9zdCB3aGljaCBoYXMgYE9uUmVuZGVyYCBwcm9wLiBUaGlzIGlzIG5lZWQgZm9yIHN1YnNjcmlwdGlvbnMgY29udGV4dC5cbiAgICAgICAgd2hpbGUgKFxuICAgICAgICAgIGNvbXBvbmVudEhvc3QgJiZcbiAgICAgICAgICAodm5vZGVfaXNWaXJ0dWFsVk5vZGUoY29tcG9uZW50SG9zdClcbiAgICAgICAgICAgID8gdm5vZGVfZ2V0UHJvcChjb21wb25lbnRIb3N0LCBPblJlbmRlclByb3AsIG51bGwpID09PSBudWxsXG4gICAgICAgICAgICA6IHRydWUpXG4gICAgICAgICkge1xuICAgICAgICAgIGNvbXBvbmVudEhvc3QgPSB2bm9kZV9nZXRQYXJlbnQoY29tcG9uZW50SG9zdCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBqc3hPdXRwdXQgPSBleGVjdXRlQ29tcG9uZW50KFxuICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICBob3N0LFxuICAgICAgICAgIChjb21wb25lbnRIb3N0IHx8IGNvbnRhaW5lci5yb290Vk5vZGUpIGFzIEhvc3RFbGVtZW50LFxuICAgICAgICAgIGNvbXBvbmVudCBhcyBPblJlbmRlckZuPHVua25vd24+LFxuICAgICAgICAgIGpzeFZhbHVlLnByb3BzXG4gICAgICAgICk7XG5cbiAgICAgICAgYXN5bmNRdWV1ZS5wdXNoKGpzeE91dHB1dCwgaG9zdCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaW5zZXJ0TmV3Q29tcG9uZW50KFxuICAgIGhvc3Q6IFZOb2RlIHwgbnVsbCxcbiAgICBjb21wb25lbnRRUkw6IFFSTEludGVybmFsPE9uUmVuZGVyRm48YW55Pj4sXG4gICAganN4UHJvcHM6IFByb3BzXG4gICkge1xuICAgIGlmIChob3N0KSB7XG4gICAgICBjbGVhclZOb2RlRWZmZWN0RGVwZW5kZW5jaWVzKGhvc3QpO1xuICAgIH1cbiAgICB2bm9kZV9pbnNlcnRCZWZvcmUoXG4gICAgICBqb3VybmFsLFxuICAgICAgdlBhcmVudCBhcyBWaXJ0dWFsVk5vZGUsXG4gICAgICAodk5ld05vZGUgPSB2bm9kZV9uZXdWaXJ0dWFsKCkpLFxuICAgICAgdkN1cnJlbnQgJiYgZ2V0SW5zZXJ0QmVmb3JlKClcbiAgICApO1xuICAgIGlzRGV2ICYmIHZub2RlX3NldFByb3Aodk5ld05vZGUsIERFQlVHX1RZUEUsIFZpcnR1YWxUeXBlLkNvbXBvbmVudCk7XG4gICAgY29udGFpbmVyLnNldEhvc3RQcm9wKHZOZXdOb2RlLCBPblJlbmRlclByb3AsIGNvbXBvbmVudFFSTCk7XG4gICAgY29udGFpbmVyLnNldEhvc3RQcm9wKHZOZXdOb2RlLCBFTEVNRU5UX1BST1BTLCBqc3hQcm9wcyk7XG4gICAgY29udGFpbmVyLnNldEhvc3RQcm9wKHZOZXdOb2RlLCBFTEVNRU5UX0tFWSwganN4VmFsdWUua2V5KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGluc2VydE5ld0lubGluZUNvbXBvbmVudCgpIHtcbiAgICB2bm9kZV9pbnNlcnRCZWZvcmUoXG4gICAgICBqb3VybmFsLFxuICAgICAgdlBhcmVudCBhcyBWaXJ0dWFsVk5vZGUsXG4gICAgICAodk5ld05vZGUgPSB2bm9kZV9uZXdWaXJ0dWFsKCkpLFxuICAgICAgdkN1cnJlbnQgJiYgZ2V0SW5zZXJ0QmVmb3JlKClcbiAgICApO1xuICAgIGlzRGV2ICYmIHZub2RlX3NldFByb3Aodk5ld05vZGUsIERFQlVHX1RZUEUsIFZpcnR1YWxUeXBlLklubGluZUNvbXBvbmVudCk7XG4gICAgdm5vZGVfc2V0UHJvcCh2TmV3Tm9kZSwgRUxFTUVOVF9QUk9QUywganN4VmFsdWUucHJvcHMpO1xuICAgIGlmIChqc3hWYWx1ZS5rZXkpIHtcbiAgICAgIHZub2RlX3NldFByb3Aodk5ld05vZGUsIEVMRU1FTlRfS0VZLCBqc3hWYWx1ZS5rZXkpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGV4cGVjdFRleHQodGV4dDogc3RyaW5nKSB7XG4gICAgaWYgKHZDdXJyZW50ICE9PSBudWxsKSB7XG4gICAgICBjb25zdCB0eXBlID0gdm5vZGVfZ2V0VHlwZSh2Q3VycmVudCk7XG4gICAgICBpZiAodHlwZSA9PT0gMyAvKiBUZXh0ICovKSB7XG4gICAgICAgIGlmICh0ZXh0ICE9PSB2bm9kZV9nZXRUZXh0KHZDdXJyZW50IGFzIFRleHRWTm9kZSkpIHtcbiAgICAgICAgICB2bm9kZV9zZXRUZXh0KGpvdXJuYWwsIHZDdXJyZW50IGFzIFRleHRWTm9kZSwgdGV4dCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgdm5vZGVfaW5zZXJ0QmVmb3JlKFxuICAgICAgam91cm5hbCxcbiAgICAgIHZQYXJlbnQgYXMgVmlydHVhbFZOb2RlLFxuICAgICAgKHZOZXdOb2RlID0gdm5vZGVfbmV3VGV4dChjb250YWluZXIuZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGV4dCksIHRleHQpKSxcbiAgICAgIHZDdXJyZW50XG4gICAgKTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGlzUVN0eWxlVk5vZGUgPSAodk5vZGU6IFZOb2RlKTogYm9vbGVhbiA9PiB7XG4gIHJldHVybiAoXG4gICAgdm5vZGVfaXNFbGVtZW50Vk5vZGUodk5vZGUpICYmXG4gICAgdm5vZGVfZ2V0RWxlbWVudE5hbWUodk5vZGUpID09PSAnc3R5bGUnICYmXG4gICAgdm5vZGVfZ2V0QXR0cih2Tm9kZSwgUVN0eWxlKSAhPT0gbnVsbFxuICApO1xufTtcblxuLyoqXG4gKiBSZXRyaWV2ZSB0aGUga2V5IGZyb20gdGhlIFZOb2RlLlxuICpcbiAqIEBwYXJhbSB2Tm9kZSAtIFZOb2RlIHRvIHJldHJpZXZlIHRoZSBrZXkgZnJvbVxuICogQHJldHVybnMgS2V5XG4gKi9cbmZ1bmN0aW9uIGdldEtleSh2Tm9kZTogVk5vZGUgfCBudWxsKTogc3RyaW5nIHwgbnVsbCB7XG4gIGlmICh2Tm9kZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIHZub2RlX2dldFByb3A8c3RyaW5nPih2Tm9kZSwgRUxFTUVOVF9LRVksIG51bGwpO1xufVxuXG4vKipcbiAqIFJldHJpZXZlIHRoZSBjb21wb25lbnQgaGFzaCBmcm9tIHRoZSBWTm9kZS5cbiAqXG4gKiBAcGFyYW0gdk5vZGUgLSBWTm9kZSB0byByZXRyaWV2ZSB0aGUga2V5IGZyb21cbiAqIEBwYXJhbSBnZXRPYmplY3QgLSBGdW5jdGlvbiB0byByZXRyaWV2ZSB0aGUgb2JqZWN0IGJ5IGlkIGZvciBRQ29tcG9uZW50IFFSTFxuICogQHJldHVybnMgSGFzaFxuICovXG5mdW5jdGlvbiBnZXRDb21wb25lbnRIYXNoKHZOb2RlOiBWTm9kZSB8IG51bGwsIGdldE9iamVjdDogKGlkOiBzdHJpbmcpID0+IGFueSk6IHN0cmluZyB8IG51bGwge1xuICBpZiAodk5vZGUgPT0gbnVsbCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGNvbnN0IHFybCA9IHZub2RlX2dldFByb3A8UVJMSW50ZXJuYWw+KHZOb2RlLCBPblJlbmRlclByb3AsIGdldE9iamVjdCk7XG4gIHJldHVybiBxcmwgPyBxcmwuJGhhc2gkIDogbnVsbDtcbn1cblxuLyoqXG4gKiBNYXJrZXIgY2xhc3MgZm9yIEpTWCBwcm9qZWN0aW9uLlxuICpcbiAqIEFzc3VtZSB5b3UgaGF2ZSBjb21wb25lbnQgbGlrZSBzb1xuICpcbiAqIGBgYFxuICogPFNvbWVDb21wb25lbnQ+XG4gKiAgIHNvbWUtdGV4dFxuICogICA8c3BhbiBxOnNsb3Q9XCJuYW1lXCI+c29tZSBtb3JlIHRleHQ8L3NwYW4+XG4gKiAgIG1vcmUtdGV4dFxuICogPC9Tb21lQ29tcG9uZW50PlxuICogYGBgXG4gKlxuICogQmVmb3JlIHRoZSBgPFNvbWVDb21wZXRlbnQvPmAgaXMgcHJvY2Vzc2VkIGl0cyBjaGlsZHJlbiBhcmUgdHJhbnNmb3JtZWQgaW50bzpcbiAqXG4gKiBgYGBcbiAqICAgPFByb2plY3Rpb24gcTpzbG90PVwiXCI+XG4gKiAgICAgc29tZS10ZXh0XG4gKiAgICAgbW9yZS10ZXh0XG4gKiAgIDwvUHJvamVjdGlvbj5cbiAqICAgPFByb2plY3Rpb24gcTpzbG90PVwibmFtZVwiPlxuICogICAgIDxzcGFuIHE6c2xvdD1cIm5hbWVcIj5zb21lIG1vcmUgdGV4dDwvc3Bhbj5cbiAqICAgPC9Qcm9qZWN0aW9uPlxuICogYGBgXG4gKi9cbmZ1bmN0aW9uIFByb2plY3Rpb24oKSB7fVxuXG5mdW5jdGlvbiBwcm9wc0RpZmZlcihzcmM6IFJlY29yZDxzdHJpbmcsIGFueT4sIGRzdDogUmVjb3JkPHN0cmluZywgYW55Pik6IGJvb2xlYW4ge1xuICBpZiAoIXNyYyB8fCAhZHN0KSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgbGV0IHNyY0tleXMgPSByZW1vdmVDaGlsZHJlbktleShPYmplY3Qua2V5cyhzcmMpKTtcbiAgbGV0IGRzdEtleXMgPSByZW1vdmVDaGlsZHJlbktleShPYmplY3Qua2V5cyhkc3QpKTtcbiAgaWYgKHNyY0tleXMubGVuZ3RoICE9PSBkc3RLZXlzLmxlbmd0aCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHNyY0tleXMgPSBzcmNLZXlzLnNvcnQoKTtcbiAgZHN0S2V5cyA9IGRzdEtleXMuc29ydCgpO1xuICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBzcmNLZXlzLmxlbmd0aDsgaWR4KyspIHtcbiAgICBjb25zdCBzcmNLZXkgPSBzcmNLZXlzW2lkeF07XG4gICAgY29uc3QgZHN0S2V5ID0gZHN0S2V5c1tpZHhdO1xuICAgIGlmIChzcmNLZXkgIT09IGRzdEtleSB8fCBzcmNbc3JjS2V5XSAhPT0gZHN0W2RzdEtleV0pIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZUNoaWxkcmVuS2V5KGtleXM6IHN0cmluZ1tdKTogc3RyaW5nW10ge1xuICBjb25zdCBjaGlsZHJlbklkeCA9IGtleXMuaW5kZXhPZignY2hpbGRyZW4nKTtcbiAgaWYgKGNoaWxkcmVuSWR4ICE9PSAtMSkge1xuICAgIGtleXMuc3BsaWNlKGNoaWxkcmVuSWR4LCAxKTtcbiAgfVxuICByZXR1cm4ga2V5cztcbn1cblxuLyoqXG4gKiBJZiB2bm9kZSBpcyByZW1vdmVkLCBpdCBpcyBuZWNlc3NhcnkgdG8gcmVsZWFzZSBhbGwgc3Vic2NyaXB0aW9ucyBhc3NvY2lhdGVkIHdpdGggaXQuXG4gKlxuICogVGhpcyBmdW5jdGlvbiB3aWxsIHRyYXZlcnNlIHRoZSB2bm9kZSB0cmVlIGluIGRlcHRoLWZpcnN0IG9yZGVyIGFuZCByZWxlYXNlIGFsbCBzdWJzY3JpcHRpb25zLlxuICpcbiAqIFRoZSBmdW5jdGlvbiB0YWtlcyBpbnRvIGFjY291bnQ6XG4gKlxuICogLSBQcm9qZWN0aW9uIG5vZGVzIGJ5IG5vdCByZWN1cnNpbmcgaW50byB0aGVtLlxuICogLSBDb21wb25lbnQgbm9kZXMgYnkgcmVjdXJzaW5nIGludG8gdGhlIGNvbXBvbmVudCBjb250ZW50IG5vZGVzICh3aGljaCBtYXkgYmUgcHJvamVjdGVkKS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsZWFudXAoY29udGFpbmVyOiBDbGllbnRDb250YWluZXIsIHZOb2RlOiBWTm9kZSkge1xuICBsZXQgdkN1cnNvcjogVk5vZGUgfCBudWxsID0gdk5vZGU7XG4gIC8vIERlcHRoIGZpcnN0IHRyYXZlcnNhbFxuICBpZiAodm5vZGVfaXNUZXh0Vk5vZGUodk5vZGUpKSB7XG4gICAgLy8gVGV4dCBub2RlcyBkb24ndCBoYXZlIHN1YnNjcmlwdGlvbnMgb3IgY2hpbGRyZW47XG4gICAgcmV0dXJuO1xuICB9XG4gIGxldCB2UGFyZW50OiBWTm9kZSB8IG51bGwgPSBudWxsO1xuICBkbyB7XG4gICAgY29uc3QgdHlwZSA9IHZDdXJzb3JbVk5vZGVQcm9wcy5mbGFnc107XG4gICAgaWYgKHR5cGUgJiBWTm9kZUZsYWdzLkVMRU1FTlRfT1JfVklSVFVBTF9NQVNLKSB7XG4gICAgICAvLyBPbmx5IGVsZW1lbnRzIGFuZCB2aXJ0dWFsIG5vZGVzIG5lZWQgdG8gYmUgdHJhdmVyc2VkIGZvciBjaGlsZHJlblxuICAgICAgaWYgKHR5cGUgJiBWTm9kZUZsYWdzLlZpcnR1YWwpIHtcbiAgICAgICAgLy8gT25seSB2aXJ0dWFsIG5vZGVzIGhhdmUgc3Vic2NyaXB0aW9uc1xuICAgICAgICBjbGVhclZOb2RlRWZmZWN0RGVwZW5kZW5jaWVzKHZDdXJzb3IpO1xuICAgICAgICBtYXJrVk5vZGVBc0RlbGV0ZWQodkN1cnNvcik7XG4gICAgICAgIGNvbnN0IHNlcSA9IGNvbnRhaW5lci5nZXRIb3N0UHJvcDxBcnJheTxhbnk+Pih2Q3Vyc29yIGFzIFZpcnR1YWxWTm9kZSwgRUxFTUVOVF9TRVEpO1xuICAgICAgICBpZiAoc2VxKSB7XG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZXEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IG9iaiA9IHNlcVtpXTtcbiAgICAgICAgICAgIGlmIChpc1Rhc2sob2JqKSkge1xuICAgICAgICAgICAgICBjb25zdCB0YXNrID0gb2JqO1xuICAgICAgICAgICAgICBjbGVhclN1YnNjcmliZXJFZmZlY3REZXBlbmRlbmNpZXModGFzayk7XG4gICAgICAgICAgICAgIGlmICh0YXNrLiRmbGFncyQgJiBUYXNrRmxhZ3MuVklTSUJMRV9UQVNLKSB7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyLiRzY2hlZHVsZXIkKENob3JlVHlwZS5DTEVBTlVQX1ZJU0lCTEUsIHRhc2spO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNsZWFudXBUYXNrKHRhc2spO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGlzQ29tcG9uZW50ID1cbiAgICAgICAgdHlwZSAmIFZOb2RlRmxhZ3MuVmlydHVhbCAmJlxuICAgICAgICB2bm9kZV9nZXRQcm9wKHZDdXJzb3IgYXMgVmlydHVhbFZOb2RlLCBPblJlbmRlclByb3AsIG51bGwpICE9PSBudWxsO1xuICAgICAgaWYgKGlzQ29tcG9uZW50KSB7XG4gICAgICAgIC8vIFNQRUNJQUwgQ0FTRTogSWYgd2UgYXJlIGEgY29tcG9uZW50LCB3ZSBuZWVkIHRvIGRlc2NlbmQgaW50byB0aGUgcHJvamVjdGVkIGNvbnRlbnQgYW5kIHJlbGVhc2UgdGhlIGNvbnRlbnQuXG4gICAgICAgIGNvbnN0IGF0dHJzID0gdkN1cnNvcjtcbiAgICAgICAgZm9yIChsZXQgaSA9IFZpcnR1YWxWTm9kZVByb3BzLlBST1BTX09GRlNFVDsgaSA8IGF0dHJzLmxlbmd0aDsgaSA9IGkgKyAyKSB7XG4gICAgICAgICAgY29uc3Qga2V5ID0gYXR0cnNbaV0gYXMgc3RyaW5nO1xuICAgICAgICAgIGlmICghaXNQYXJlbnRTbG90UHJvcChrZXkpICYmIGlzU2xvdFByb3Aoa2V5KSkge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBhdHRyc1tpICsgMV07XG4gICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgYXR0cnNbaSArIDFdID0gbnVsbDsgLy8gcHJldmVudCBpbmZpbml0ZSBsb29wXG4gICAgICAgICAgICAgIGNvbnN0IHByb2plY3Rpb24gPVxuICAgICAgICAgICAgICAgIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZydcbiAgICAgICAgICAgICAgICAgID8gdm5vZGVfbG9jYXRlKGNvbnRhaW5lci5yb290Vk5vZGUsIHZhbHVlKVxuICAgICAgICAgICAgICAgICAgOiAodmFsdWUgYXMgdW5rbm93biBhcyBWTm9kZSk7XG4gICAgICAgICAgICAgIGxldCBwcm9qZWN0aW9uQ2hpbGQgPSB2bm9kZV9nZXRGaXJzdENoaWxkKHByb2plY3Rpb24pO1xuICAgICAgICAgICAgICB3aGlsZSAocHJvamVjdGlvbkNoaWxkKSB7XG4gICAgICAgICAgICAgICAgY2xlYW51cChjb250YWluZXIsIHByb2plY3Rpb25DaGlsZCk7XG4gICAgICAgICAgICAgICAgcHJvamVjdGlvbkNoaWxkID0gdm5vZGVfZ2V0TmV4dFNpYmxpbmcocHJvamVjdGlvbkNoaWxkKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGNsZWFudXBTdGFsZVVuY2xhaW1lZFByb2plY3Rpb24oY29udGFpbmVyLiRqb3VybmFsJCwgcHJvamVjdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGlzUHJvamVjdGlvbiA9XG4gICAgICAgIHR5cGUgJiBWTm9kZUZsYWdzLlZpcnR1YWwgJiYgdm5vZGVfZ2V0UHJvcCh2Q3Vyc29yIGFzIFZpcnR1YWxWTm9kZSwgUVNsb3QsIG51bGwpICE9PSBudWxsO1xuICAgICAgLy8gRGVzY2VuZCBpbnRvIGNoaWxkcmVuXG4gICAgICBpZiAoIWlzUHJvamVjdGlvbikge1xuICAgICAgICAvLyBPbmx5IGlmIGl0IGlzIG5vdCBhIHByb2plY3Rpb25cbiAgICAgICAgY29uc3QgdkZpcnN0Q2hpbGQgPSB2bm9kZV9nZXRGaXJzdENoaWxkKHZDdXJzb3IpO1xuICAgICAgICBpZiAodkZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICB2Q3Vyc29yID0gdkZpcnN0Q2hpbGQ7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodkN1cnNvciA9PT0gdk5vZGUpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIGl0IGlzIGEgcHJvamVjdGlvbiBhbmQgd2UgYXJlIGF0IHRoZSByb290LCB0aGVuIHdlIHNob3VsZCBvbmx5IHdhbGsgdGhlIGNoaWxkcmVuIHRvXG4gICAgICAgICAqIG1hdGVyaWFsaXplIHRoZSBwcm9qZWN0aW9uIGNvbnRlbnQuIFRoaXMgaXMgYmVjYXVzZSB3ZSBjb3VsZCBoYXZlIHJlZmVyZW5jZXMgaW4gdGhlIHZub2RlXG4gICAgICAgICAqIHJlZnMgbWFwIHdoaWNoIG5lZWQgdG8gYmUgbWF0ZXJpYWxpemVkIGJlZm9yZSBjbGVhbnVwLlxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3QgdkZpcnN0Q2hpbGQgPSB2bm9kZV9nZXRGaXJzdENoaWxkKHZDdXJzb3IpO1xuICAgICAgICBpZiAodkZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICB2bm9kZV93YWxrVk5vZGUodkZpcnN0Q2hpbGQpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICAvLyBPdXQgb2YgY2hpbGRyZW5cbiAgICBpZiAodkN1cnNvciA9PT0gdk5vZGUpIHtcbiAgICAgIC8vIHdlIGFyZSB3aGVyZSB3ZSBzdGFydGVkLCB0aGlzIG1lYW5zIHRoYXQgdk5vZGUgaGFzIG5vIGNoaWxkcmVuLCBzbyB3ZSBhcmUgZG9uZS5cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gT3V0IG9mIGNoaWxkcmVuLCBnbyB0byBuZXh0IHNpYmxpbmdcbiAgICBjb25zdCB2TmV4dFNpYmxpbmcgPSB2bm9kZV9nZXROZXh0U2libGluZyh2Q3Vyc29yKTtcbiAgICBpZiAodk5leHRTaWJsaW5nKSB7XG4gICAgICB2Q3Vyc29yID0gdk5leHRTaWJsaW5nO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gT3V0IG9mIHNpYmxpbmdzLCBnbyB0byBwYXJlbnRcbiAgICB2UGFyZW50ID0gdm5vZGVfZ2V0UGFyZW50KHZDdXJzb3IpO1xuICAgIHdoaWxlICh2UGFyZW50KSB7XG4gICAgICBpZiAodlBhcmVudCA9PT0gdk5vZGUpIHtcbiAgICAgICAgLy8gV2UgYXJlIGJhY2sgd2hlcmUgd2Ugc3RhcnRlZCwgd2UgYXJlIGRvbmUuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHZOZXh0UGFyZW50U2libGluZyA9IHZub2RlX2dldE5leHRTaWJsaW5nKHZQYXJlbnQpO1xuICAgICAgaWYgKHZOZXh0UGFyZW50U2libGluZykge1xuICAgICAgICB2Q3Vyc29yID0gdk5leHRQYXJlbnRTaWJsaW5nO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHZQYXJlbnQgPSB2bm9kZV9nZXRQYXJlbnQodlBhcmVudCk7XG4gICAgfVxuICAgIGlmICh2UGFyZW50ID09IG51bGwpIHtcbiAgICAgIC8vIFdlIGFyZSBkb25lLlxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfSB3aGlsZSAodHJ1ZSBhcyBib29sZWFuKTtcbn1cblxuZnVuY3Rpb24gY2xlYW51cFN0YWxlVW5jbGFpbWVkUHJvamVjdGlvbihqb3VybmFsOiBWTm9kZUpvdXJuYWwsIHByb2plY3Rpb246IFZOb2RlKSB7XG4gIC8vIHdlIGFyZSByZW1vdmluZyBhIG5vZGUgd2hlcmUgdGhlIHByb2plY3Rpb24gd291bGQgZ28gYWZ0ZXIgc2xvdCByZW5kZXIuXG4gIC8vIFRoaXMgaXMgbm90IG5lZWRlZCwgc28gd2UgbmVlZCB0byBjbGVhbnVwIHN0aWxsIHVuY2xhaW1lZCBwcm9qZWN0aW9uXG4gIGNvbnN0IHByb2plY3Rpb25QYXJlbnQgPSB2bm9kZV9nZXRQYXJlbnQocHJvamVjdGlvbik7XG4gIGlmIChwcm9qZWN0aW9uUGFyZW50KSB7XG4gICAgY29uc3QgcHJvamVjdGlvblBhcmVudFR5cGUgPSBwcm9qZWN0aW9uUGFyZW50W1ZOb2RlUHJvcHMuZmxhZ3NdO1xuICAgIGlmIChcbiAgICAgIHByb2plY3Rpb25QYXJlbnRUeXBlICYgVk5vZGVGbGFncy5FbGVtZW50ICYmXG4gICAgICB2bm9kZV9nZXRFbGVtZW50TmFtZShwcm9qZWN0aW9uUGFyZW50IGFzIEVsZW1lbnRWTm9kZSkgPT09IFFUZW1wbGF0ZVxuICAgICkge1xuICAgICAgLy8gaWYgcGFyZW50IGlzIHRoZSBxOnRlbXBsYXRlIGVsZW1lbnQgdGhlbiBwcm9qZWN0aW9uIGlzIHN0aWxsIHVuY2xhaW1lZCAtIHJlbW92ZSBpdFxuICAgICAgdm5vZGVfcmVtb3ZlKGpvdXJuYWwsIHByb2plY3Rpb25QYXJlbnQsIHByb2plY3Rpb24sIHRydWUpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBtYXJrVk5vZGVBc0RlbGV0ZWQodkN1cnNvcjogVk5vZGUpIHtcbiAgLyoqXG4gICAqIE1hcmtzIHZDdXJzb3IgYXMgZGVsZXRlZC4gV2UgbmVlZCB0byBkbyB0aGlzIHRvIHByZXZlbnQgY2hvcmVzIGZyb20gcnVubmluZyBhZnRlciB0aGUgdm5vZGUgaXNcbiAgICogcmVtb3ZlZC4gKGZvciBleGFtcGxlIHNpZ25hbCBzdWJzY3JpcHRpb25zKVxuICAgKi9cblxuICB2Q3Vyc29yW1ZOb2RlUHJvcHMuZmxhZ3NdIHw9IFZOb2RlRmxhZ3MuRGVsZXRlZDtcbn1cblxuLyoqXG4gKiBUaGlzIG1hcmtzIHRoZSBwcm9wZXJ0eSBhcyBpbW11dGFibGUuIEl0IGlzIG5lZWRlZCBmb3IgdGhlIFFSTHMgc28gdGhhdCBRd2lrTG9hZGVyIGNhbiBnZXQgYSBob2xkXG4gKiBvZiB0aGVtLiBUaGlzIGNoYXJhY3RlciBtdXN0IGJlIGA6YCBzbyB0aGF0IHRoZSBgdm5vZGVfZ2V0QXR0cmAgY2FuIGlnbm9yZSB0aGVtLlxuICovXG5jb25zdCBIQU5ETEVSX1BSRUZJWCA9ICc6JztcbmxldCBjb3VudCA9IDA7XG5jb25zdCBlbnVtIFNpYmxpbmdzQXJyYXkge1xuICBOYW1lID0gMCxcbiAgS2V5ID0gMSxcbiAgVk5vZGUgPSAyLFxuICBTaXplID0gMyxcbiAgTmV4dFZOb2RlID0gU2l6ZSArIFZOb2RlLFxufVxuIl19","import { dollar } from './qrl.public';\n// <docs markdown=\"../readme.md#implicit$FirstArg\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#implicit$FirstArg instead)\n/**\n * Create a `____$(...)` convenience method from `___(...)`.\n *\n * It is very common for functions to take a lazy-loadable resource as a first argument. For this\n * reason, the Qwik Optimizer automatically extracts the first argument from any function which ends\n * in `$`.\n *\n * This means that `foo$(arg0)` and `foo($(arg0))` are equivalent with respect to Qwik Optimizer.\n * The former is just a shorthand for the latter.\n *\n * For example, these function calls are equivalent:\n *\n * - `component$(() => {...})` is same as `component($(() => {...}))`\n *\n * ```tsx\n * export function myApi(callback: QRL<() => void>): void {\n *   // ...\n * }\n *\n * export const myApi$ = implicit$FirstArg(myApi);\n * // type of myApi$: (callback: () => void): void\n *\n * // can be used as:\n * myApi$(() => console.log('callback'));\n *\n * // will be transpiled to:\n * // FILE: <current file>\n * myApi(qrl('./chunk-abc.js', 'callback'));\n *\n * // FILE: chunk-abc.js\n * export const callback = () => console.log('callback');\n * ```\n *\n * @param fn - A function that should have its first argument automatically `$`.\n * @public\n */\n// </docs>\nexport const implicit$FirstArg = (fn) => {\n    return function (first, ...rest) {\n        return fn.call(null, dollar(first), ...rest);\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW1wbGljaXRfZG9sbGFyLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3NoYXJlZC9xcmwvaW1wbGljaXRfZG9sbGFyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxNQUFNLEVBQVksTUFBTSxjQUFjLENBQUM7QUFFaEQsbURBQW1EO0FBQ25ELHlDQUF5QztBQUN6QyxnREFBZ0Q7QUFDaEQ7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0dBbUNHO0FBQ0gsVUFBVTtBQUNWLE1BQU0sQ0FBQyxNQUFNLGlCQUFpQixHQUFHLENBQy9CLEVBQTJDLEVBQ0wsRUFBRTtJQUN4QyxPQUFPLFVBQVUsS0FBWSxFQUFFLEdBQUcsSUFBVTtRQUMxQyxPQUFPLEVBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLE1BQU0sQ0FBQyxLQUFLLENBQUMsRUFBRSxHQUFHLElBQUksQ0FBQyxDQUFDO0lBQy9DLENBQUMsQ0FBQztBQUNKLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGRvbGxhciwgdHlwZSBRUkwgfSBmcm9tICcuL3FybC5wdWJsaWMnO1xuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4uL3JlYWRtZS5tZCNpbXBsaWNpdCRGaXJzdEFyZ1wiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IC4uL3JlYWRtZS5tZCNpbXBsaWNpdCRGaXJzdEFyZyBpbnN0ZWFkKVxuLyoqXG4gKiBDcmVhdGUgYSBgX19fXyQoLi4uKWAgY29udmVuaWVuY2UgbWV0aG9kIGZyb20gYF9fXyguLi4pYC5cbiAqXG4gKiBJdCBpcyB2ZXJ5IGNvbW1vbiBmb3IgZnVuY3Rpb25zIHRvIHRha2UgYSBsYXp5LWxvYWRhYmxlIHJlc291cmNlIGFzIGEgZmlyc3QgYXJndW1lbnQuIEZvciB0aGlzXG4gKiByZWFzb24sIHRoZSBRd2lrIE9wdGltaXplciBhdXRvbWF0aWNhbGx5IGV4dHJhY3RzIHRoZSBmaXJzdCBhcmd1bWVudCBmcm9tIGFueSBmdW5jdGlvbiB3aGljaCBlbmRzXG4gKiBpbiBgJGAuXG4gKlxuICogVGhpcyBtZWFucyB0aGF0IGBmb28kKGFyZzApYCBhbmQgYGZvbygkKGFyZzApKWAgYXJlIGVxdWl2YWxlbnQgd2l0aCByZXNwZWN0IHRvIFF3aWsgT3B0aW1pemVyLlxuICogVGhlIGZvcm1lciBpcyBqdXN0IGEgc2hvcnRoYW5kIGZvciB0aGUgbGF0dGVyLlxuICpcbiAqIEZvciBleGFtcGxlLCB0aGVzZSBmdW5jdGlvbiBjYWxscyBhcmUgZXF1aXZhbGVudDpcbiAqXG4gKiAtIGBjb21wb25lbnQkKCgpID0+IHsuLi59KWAgaXMgc2FtZSBhcyBgY29tcG9uZW50KCQoKCkgPT4gey4uLn0pKWBcbiAqXG4gKiBgYGB0c3hcbiAqIGV4cG9ydCBmdW5jdGlvbiBteUFwaShjYWxsYmFjazogUVJMPCgpID0+IHZvaWQ+KTogdm9pZCB7XG4gKiAgIC8vIC4uLlxuICogfVxuICpcbiAqIGV4cG9ydCBjb25zdCBteUFwaSQgPSBpbXBsaWNpdCRGaXJzdEFyZyhteUFwaSk7XG4gKiAvLyB0eXBlIG9mIG15QXBpJDogKGNhbGxiYWNrOiAoKSA9PiB2b2lkKTogdm9pZFxuICpcbiAqIC8vIGNhbiBiZSB1c2VkIGFzOlxuICogbXlBcGkkKCgpID0+IGNvbnNvbGUubG9nKCdjYWxsYmFjaycpKTtcbiAqXG4gKiAvLyB3aWxsIGJlIHRyYW5zcGlsZWQgdG86XG4gKiAvLyBGSUxFOiA8Y3VycmVudCBmaWxlPlxuICogbXlBcGkocXJsKCcuL2NodW5rLWFiYy5qcycsICdjYWxsYmFjaycpKTtcbiAqXG4gKiAvLyBGSUxFOiBjaHVuay1hYmMuanNcbiAqIGV4cG9ydCBjb25zdCBjYWxsYmFjayA9ICgpID0+IGNvbnNvbGUubG9nKCdjYWxsYmFjaycpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIGZuIC0gQSBmdW5jdGlvbiB0aGF0IHNob3VsZCBoYXZlIGl0cyBmaXJzdCBhcmd1bWVudCBhdXRvbWF0aWNhbGx5IGAkYC5cbiAqIEBwdWJsaWNcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGNvbnN0IGltcGxpY2l0JEZpcnN0QXJnID0gPEZJUlNULCBSRVNUIGV4dGVuZHMgYW55W10sIFJFVD4oXG4gIGZuOiAocXJsOiBRUkw8RklSU1Q+LCAuLi5yZXN0OiBSRVNUKSA9PiBSRVRcbik6ICgocXJsOiBGSVJTVCwgLi4ucmVzdDogUkVTVCkgPT4gUkVUKSA9PiB7XG4gIHJldHVybiBmdW5jdGlvbiAoZmlyc3Q6IEZJUlNULCAuLi5yZXN0OiBSRVNUKTogUkVUIHtcbiAgICByZXR1cm4gZm4uY2FsbChudWxsLCBkb2xsYXIoZmlyc3QpLCAuLi5yZXN0KTtcbiAgfTtcbn07XG4iXX0=","import { ComputedSignal, Signal, throwIfQRLNotResolved } from './signal';\nexport const createSignal = (value) => {\n    return new Signal(null, value);\n};\nexport const createComputedSignal = (qrl) => {\n    throwIfQRLNotResolved(qrl);\n    return new ComputedSignal(null, qrl);\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2lnbmFsLWFwaS5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9zaWduYWwvc2lnbmFsLWFwaS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQSxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0sRUFBRSxxQkFBcUIsRUFBRSxNQUFNLFVBQVUsQ0FBQztBQUV6RSxNQUFNLENBQUMsTUFBTSxZQUFZLEdBQUcsQ0FBSSxLQUFTLEVBQUUsRUFBRTtJQUMzQyxPQUFPLElBQUksTUFBTSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQztBQUNqQyxDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxvQkFBb0IsR0FBRyxDQUFJLEdBQWlCLEVBQUUsRUFBRTtJQUMzRCxxQkFBcUIsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUMzQixPQUFPLElBQUksY0FBYyxDQUFDLElBQUksRUFBRSxHQUEyQixDQUFDLENBQUM7QUFDL0QsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBRUkxJbnRlcm5hbCB9IGZyb20gJy4uL3NoYXJlZC9xcmwvcXJsLWNsYXNzJztcbmltcG9ydCB0eXBlIHsgUVJMIH0gZnJvbSAnLi4vc2hhcmVkL3FybC9xcmwucHVibGljJztcbmltcG9ydCB7IENvbXB1dGVkU2lnbmFsLCBTaWduYWwsIHRocm93SWZRUkxOb3RSZXNvbHZlZCB9IGZyb20gJy4vc2lnbmFsJztcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZVNpZ25hbCA9IDxUPih2YWx1ZT86IFQpID0+IHtcbiAgcmV0dXJuIG5ldyBTaWduYWwobnVsbCwgdmFsdWUpO1xufTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZUNvbXB1dGVkU2lnbmFsID0gPFQ+KHFybDogUVJMPCgpID0+IFQ+KSA9PiB7XG4gIHRocm93SWZRUkxOb3RSZXNvbHZlZChxcmwpO1xuICByZXR1cm4gbmV3IENvbXB1dGVkU2lnbmFsKG51bGwsIHFybCBhcyBRUkxJbnRlcm5hbDwoKSA9PiBUPik7XG59O1xuIl19","import { implicit$FirstArg } from '../shared/qrl/implicit_dollar';\nimport { createSignal as _createSignal, createComputedSignal as _createComputedSignal, } from './signal-api';\nexport { isSignal } from './signal';\n/**\n * Creates a Signal with the given value. If no value is given, the signal is created with\n * `undefined`.\n *\n * @public\n */\nexport const createSignal = _createSignal;\n/** @public */\nexport const createComputedQrl = _createComputedSignal;\n/**\n * Create a computed signal which is calculated from the given QRL. A computed signal is a signal\n * which is calculated from other signals. When the signals change, the computed signal is\n * recalculated.\n *\n * The QRL must be a function which returns the value of the signal. The function must not have side\n * effects, and it mus be synchronous.\n *\n * If you need the function to be async, use `useSignal` and `useTask$` instead.\n *\n * @public\n */\nexport const createComputed$ = /*#__PURE__*/ implicit$FirstArg(createComputedQrl);\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2lnbmFsLnB1YmxpYy5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9zaWduYWwvc2lnbmFsLnB1YmxpYy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSwrQkFBK0IsQ0FBQztBQUVsRSxPQUFPLEVBQ0wsWUFBWSxJQUFJLGFBQWEsRUFDN0Isb0JBQW9CLElBQUkscUJBQXFCLEdBQzlDLE1BQU0sY0FBYyxDQUFDO0FBRXRCLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxVQUFVLENBQUM7QUFzQ3BDOzs7OztHQUtHO0FBQ0gsTUFBTSxDQUFDLE1BQU0sWUFBWSxHQUdyQixhQUFhLENBQUM7QUFFbEIsY0FBYztBQUNkLE1BQU0sQ0FBQyxNQUFNLGlCQUFpQixHQUU0QixxQkFBNEIsQ0FBQztBQUV2Rjs7Ozs7Ozs7Ozs7R0FXRztBQUNILE1BQU0sQ0FBQyxNQUFNLGVBQWUsR0FBRyxhQUFhLENBQUMsaUJBQWlCLENBQUMsaUJBQWlCLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGltcGxpY2l0JEZpcnN0QXJnIH0gZnJvbSAnLi4vc2hhcmVkL3FybC9pbXBsaWNpdF9kb2xsYXInO1xuaW1wb3J0IHR5cGUgeyBRUkwgfSBmcm9tICcuLi9zaGFyZWQvcXJsL3FybC5wdWJsaWMnO1xuaW1wb3J0IHtcbiAgY3JlYXRlU2lnbmFsIGFzIF9jcmVhdGVTaWduYWwsXG4gIGNyZWF0ZUNvbXB1dGVkU2lnbmFsIGFzIF9jcmVhdGVDb21wdXRlZFNpZ25hbCxcbn0gZnJvbSAnLi9zaWduYWwtYXBpJztcblxuZXhwb3J0IHsgaXNTaWduYWwgfSBmcm9tICcuL3NpZ25hbCc7XG5cbi8qKiBAcHVibGljICovXG5leHBvcnQgaW50ZXJmYWNlIFJlYWRvbmx5U2lnbmFsPFQgPSB1bmtub3duPiB7XG4gIHJlYWRvbmx5IHZhbHVlOiBUO1xufVxuXG4vKipcbiAqIEEgc2lnbmFsIGlzIGEgcmVhY3RpdmUgdmFsdWUgd2hpY2ggY2FuIGJlIHJlYWQgYW5kIHdyaXR0ZW4uIFdoZW4gdGhlIHNpZ25hbCBpcyB3cml0dGVuLCBhbGwgdGFza3NcbiAqIHdoaWNoIGFyZSB0cmFja2luZyB0aGUgc2lnbmFsIHdpbGwgYmUgcmUtcnVuIGFuZCBhbGwgY29tcG9uZW50cyB0aGF0IHJlYWQgdGhlIHNpZ25hbCB3aWxsIGJlXG4gKiByZS1yZW5kZXJlZC5cbiAqXG4gKiBGdXJ0aGVybW9yZSwgd2hlbiBhIHNpZ25hbCB2YWx1ZSBpcyBwYXNzZWQgYXMgYSBwcm9wIHRvIGEgY29tcG9uZW50LCB0aGUgb3B0aW1pemVyIHdpbGxcbiAqIGF1dG9tYXRpY2FsbHkgZm9yd2FyZCB0aGUgc2lnbmFsLiBUaGlzIG1lYW5zIHRoYXQgYHJldHVybiA8ZGl2IHRpdGxlPXtzaWduYWwudmFsdWV9PmhpPC9kaXY+YFxuICogd2lsbCB1cGRhdGUgdGhlIGB0aXRsZWAgYXR0cmlidXRlIHdoZW4gdGhlIHNpZ25hbCBjaGFuZ2VzIHdpdGhvdXQgaGF2aW5nIHRvIHJlLXJlbmRlciB0aGVcbiAqIGNvbXBvbmVudC5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU2lnbmFsPFQgPSBhbnk+IGV4dGVuZHMgUmVhZG9ubHlTaWduYWw8VD4ge1xuICB2YWx1ZTogVDtcbn1cblxuLyoqXG4gKiBBIGNvbXB1dGVkIHNpZ25hbCBpcyBhIHNpZ25hbCB3aGljaCBpcyBjYWxjdWxhdGVkIGZyb20gb3RoZXIgc2lnbmFscy4gV2hlbiB0aGUgc2lnbmFscyBjaGFuZ2UsXG4gKiB0aGUgY29tcHV0ZWQgc2lnbmFsIGlzIHJlY2FsY3VsYXRlZCwgYW5kIGlmIHRoZSByZXN1bHQgY2hhbmdlZCwgYWxsIHRhc2tzIHdoaWNoIGFyZSB0cmFja2luZyB0aGVcbiAqIHNpZ25hbCB3aWxsIGJlIHJlLXJ1biBhbmQgYWxsIGNvbXBvbmVudHMgdGhhdCByZWFkIHRoZSBzaWduYWwgd2lsbCBiZSByZS1yZW5kZXJlZC5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ29tcHV0ZWRTaWduYWw8VD4gZXh0ZW5kcyBSZWFkb25seVNpZ25hbDxUPiB7XG4gIC8qKlxuICAgKiBVc2UgdGhpcyB0byBmb3JjZSByZWNhbGN1bGF0aW9uIGFuZCBydW5uaW5nIHN1YnNjcmliZXJzLCBmb3IgZXhhbXBsZSB3aGVuIHRoZSBjYWxjdWxhdGVkIHZhbHVlXG4gICAqIG11dGF0ZXMgYnV0IHJlbWFpbnMgdGhlIHNhbWUgb2JqZWN0LiBVc2VmdWwgZm9yIHRoaXJkLXBhcnR5IGxpYnJhcmllcy5cbiAgICovXG4gIGZvcmNlKCk6IHZvaWQ7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIFNpZ25hbCB3aXRoIHRoZSBnaXZlbiB2YWx1ZS4gSWYgbm8gdmFsdWUgaXMgZ2l2ZW4sIHRoZSBzaWduYWwgaXMgY3JlYXRlZCB3aXRoXG4gKiBgdW5kZWZpbmVkYC5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBjcmVhdGVTaWduYWw6IHtcbiAgPFQ+KCk6IFNpZ25hbDxUIHwgdW5kZWZpbmVkPjtcbiAgPFQ+KHZhbHVlOiBUKTogU2lnbmFsPFQ+O1xufSA9IF9jcmVhdGVTaWduYWw7XG5cbi8qKiBAcHVibGljICovXG5leHBvcnQgY29uc3QgY3JlYXRlQ29tcHV0ZWRRcmw6IDxUPihcbiAgcXJsOiBRUkw8KCkgPT4gVD5cbikgPT4gVCBleHRlbmRzIFByb21pc2U8YW55PiA/IG5ldmVyIDogQ29tcHV0ZWRTaWduYWw8VD4gPSBfY3JlYXRlQ29tcHV0ZWRTaWduYWwgYXMgYW55O1xuXG4vKipcbiAqIENyZWF0ZSBhIGNvbXB1dGVkIHNpZ25hbCB3aGljaCBpcyBjYWxjdWxhdGVkIGZyb20gdGhlIGdpdmVuIFFSTC4gQSBjb21wdXRlZCBzaWduYWwgaXMgYSBzaWduYWxcbiAqIHdoaWNoIGlzIGNhbGN1bGF0ZWQgZnJvbSBvdGhlciBzaWduYWxzLiBXaGVuIHRoZSBzaWduYWxzIGNoYW5nZSwgdGhlIGNvbXB1dGVkIHNpZ25hbCBpc1xuICogcmVjYWxjdWxhdGVkLlxuICpcbiAqIFRoZSBRUkwgbXVzdCBiZSBhIGZ1bmN0aW9uIHdoaWNoIHJldHVybnMgdGhlIHZhbHVlIG9mIHRoZSBzaWduYWwuIFRoZSBmdW5jdGlvbiBtdXN0IG5vdCBoYXZlIHNpZGVcbiAqIGVmZmVjdHMsIGFuZCBpdCBtdXMgYmUgc3luY2hyb25vdXMuXG4gKlxuICogSWYgeW91IG5lZWQgdGhlIGZ1bmN0aW9uIHRvIGJlIGFzeW5jLCB1c2UgYHVzZVNpZ25hbGAgYW5kIGB1c2VUYXNrJGAgaW5zdGVhZC5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBjcmVhdGVDb21wdXRlZCQgPSAvKiNfX1BVUkVfXyovIGltcGxpY2l0JEZpcnN0QXJnKGNyZWF0ZUNvbXB1dGVkUXJsKTtcbiJdfQ==","/**\n * Scheduler is responsible for running application code in predictable order.\n *\n * ## What is a Chore?\n *\n * A Chore is a unit of work that needs to be done. It can be:\n *\n * - Task / Resource\n * - Visible Task\n * - Component\n * - Computed\n * - Node Diff\n *\n * ## Order of execution\n *\n * - Parent component chores should run before child component chores.\n * - Visible Tasks should run after journal flush (visible tasks often read DOM layout.)\n *\n * ## Example\n *\n * ```typescript\n * const Child = component$(() => {\n *   useTask$(() => {\n *     console.log('Child task');\n *   });\n *   useVisibleTask$(() => {\n *     console.log('Child visible-task');\n *   });\n *   console.log('Child render');\n *   return <div>Child</div>;\n * });\n *\n * const Parent = component$(() => {\n *   const count = useSignal(0);\n *   useTask$(() => {\n *     console.log('Parent task', count.value);\n *   });\n *   useVisibleTask$(() => {\n *     console.log('Parent visible-task', count.value);\n *     count.value++;\n *   });\n *   console.log('Parent render', count.value);\n *   return <Child/>;\n * });\n * ```\n *\n * ## In the above example, the order of execution is:\n *\n * 1. Parent task 0\n * 2. Parent render 0\n * 3. Child task 0\n * 4. Child render 0\n * 5. Journal flush\n * 6. Parent visible-task 0\n * 7. Parent render 1\n * 8. Journal flush\n * 9. Child visible-task\n *\n * If at any point a new chore is scheduled it will insert itself into the correct order.\n *\n * ## Implementation\n *\n * Chores are kept in a sorted array. When a new chore is scheduled it is inserted into the correct\n * location. Processing of the chores always starts from the beginning of the array. This ensures\n * that parent chores are processed before child chores.\n *\n * ## Sorting\n *\n * Chores are sorted in three levels:\n *\n * - Macro: beforeJournalFlush, journalFlush, afterJournalFlush\n * - Component: depth first order of components\n * - Micro: order of chores within a component.\n *\n * Example of sorting:\n *\n * - Tasks are beforeJournalFlush, than depth first on component and finally in declaration order\n *   within component.\n * - Visible Tasks are sorted afterJournalFlush, than depth first on component and finally in\n *   declaration order within component.\n */\nimport { assertEqual } from './error/assert';\nimport { Task, TaskFlags, cleanupTask, runTask } from '../use/use-task';\nimport { runResource } from '../use/use-resource';\nimport { logWarn, throwErrorAndStop } from './utils/log';\nimport { isPromise, maybeThen, maybeThenPassError, safeCall } from './utils/promises';\nimport { isDomContainer } from '../client/dom-container';\nimport { ElementVNodeProps, VNodeFlags, VNodeProps, } from '../client/types';\nimport { vnode_documentPosition, vnode_isVNode, vnode_setAttr, VNodeJournalOpCode, } from '../client/vnode';\nimport { vnode_diff } from '../client/vnode-diff';\nimport { executeComponent } from './component-execution';\nimport { isSignal } from '../signal/signal.public';\nimport {} from '../client/dom-container';\nimport { serializeAttribute } from './utils/styles';\n// Turn this on to get debug output of what the scheduler is doing.\nconst DEBUG = false;\nexport var ChoreType;\n(function (ChoreType) {\n    /// MASKS defining three levels of sorting\n    ChoreType[ChoreType[\"MACRO\"] = 112] = \"MACRO\";\n    /* order of elements (not encoded here) */\n    ChoreType[ChoreType[\"MICRO\"] = 15] = \"MICRO\";\n    /** Ensure tha the QRL promise is resolved before processing next chores in the queue */\n    ChoreType[ChoreType[\"QRL_RESOLVE\"] = 1] = \"QRL_RESOLVE\";\n    ChoreType[ChoreType[\"RESOURCE\"] = 2] = \"RESOURCE\";\n    ChoreType[ChoreType[\"TASK\"] = 3] = \"TASK\";\n    ChoreType[ChoreType[\"NODE_DIFF\"] = 4] = \"NODE_DIFF\";\n    ChoreType[ChoreType[\"NODE_PROP\"] = 5] = \"NODE_PROP\";\n    ChoreType[ChoreType[\"COMPONENT_SSR\"] = 6] = \"COMPONENT_SSR\";\n    ChoreType[ChoreType[\"COMPONENT\"] = 7] = \"COMPONENT\";\n    ChoreType[ChoreType[\"WAIT_FOR_COMPONENTS\"] = 16] = \"WAIT_FOR_COMPONENTS\";\n    ChoreType[ChoreType[\"JOURNAL_FLUSH\"] = 48] = \"JOURNAL_FLUSH\";\n    ChoreType[ChoreType[\"VISIBLE\"] = 64] = \"VISIBLE\";\n    ChoreType[ChoreType[\"CLEANUP_VISIBLE\"] = 80] = \"CLEANUP_VISIBLE\";\n    ChoreType[ChoreType[\"WAIT_FOR_ALL\"] = 127] = \"WAIT_FOR_ALL\";\n})(ChoreType || (ChoreType = {}));\nexport const createScheduler = (container, scheduleDrain, journalFlush) => {\n    const choreQueue = [];\n    let currentChore = null;\n    let journalFlushScheduled = false;\n    return schedule;\n    ///// IMPLEMENTATION /////\n    function schedule(type, hostOrTask = null, targetOrQrl = null, payload = null) {\n        const runLater = type !== ChoreType.WAIT_FOR_ALL &&\n            type !== ChoreType.WAIT_FOR_COMPONENTS &&\n            type !== ChoreType.COMPONENT_SSR;\n        const isTask = type === ChoreType.TASK ||\n            type === ChoreType.VISIBLE ||\n            type === ChoreType.RESOURCE ||\n            type === ChoreType.CLEANUP_VISIBLE;\n        if (isTask) {\n            hostOrTask.$flags$ |= TaskFlags.DIRTY;\n        }\n        let chore = {\n            $type$: type,\n            $idx$: isTask\n                ? hostOrTask.$index$\n                : typeof targetOrQrl === 'string'\n                    ? targetOrQrl\n                    : 0,\n            $host$: isTask ? hostOrTask.$el$ : hostOrTask,\n            $target$: targetOrQrl,\n            $payload$: isTask ? hostOrTask : payload,\n            $resolve$: null,\n            $promise$: null,\n            $returnValue$: null,\n            $executed$: false,\n        };\n        chore.$promise$ = new Promise((resolve) => (chore.$resolve$ = resolve));\n        DEBUG && debugTrace('schedule', chore, currentChore, choreQueue);\n        chore = sortedInsert(choreQueue, chore);\n        if (!journalFlushScheduled && runLater) {\n            // If we are not currently draining, we need to schedule a drain.\n            journalFlushScheduled = true;\n            schedule(ChoreType.JOURNAL_FLUSH);\n            scheduleDrain();\n        }\n        if (runLater) {\n            return chore.$promise$;\n        }\n        else {\n            return drainUpTo(chore);\n        }\n    }\n    /**\n     * Execute all of the chores up to and including the given chore.\n     *\n     * @param runUptoChore\n     */\n    function drainUpTo(runUptoChore) {\n        // If it already ran, it's not in the queue\n        if (runUptoChore.$executed$) {\n            return runUptoChore.$returnValue$;\n        }\n        if (currentChore) {\n            // Already running chore, which means we're waiting for async completion\n            return runUptoChore.$promise$;\n        }\n        while (choreQueue.length) {\n            const nextChore = choreQueue.shift();\n            const order = choreComparator(nextChore, runUptoChore, false);\n            if (order === null) {\n                continue;\n            }\n            if (order > 0) {\n                // we have processed all of the chores up to and including the given chore.\n                break;\n            }\n            const isDeletedVNode = vNodeAlreadyDeleted(nextChore);\n            if (isDeletedVNode &&\n                // we need to process cleanup tasks for deleted nodes\n                nextChore.$type$ !== ChoreType.CLEANUP_VISIBLE) {\n                DEBUG && debugTrace('skip chore', nextChore, currentChore, choreQueue);\n                continue;\n            }\n            const returnValue = executeChore(nextChore);\n            if (isPromise(returnValue)) {\n                const promise = returnValue.then(() => drainUpTo(runUptoChore));\n                return promise;\n            }\n        }\n        return runUptoChore.$returnValue$;\n    }\n    function executeChore(chore) {\n        const host = chore.$host$;\n        DEBUG && debugTrace('execute', chore, currentChore, choreQueue);\n        assertEqual(currentChore, null, 'Chore already running.');\n        currentChore = chore;\n        let returnValue = null;\n        switch (chore.$type$) {\n            case ChoreType.JOURNAL_FLUSH:\n                returnValue = journalFlush();\n                journalFlushScheduled = false;\n                break;\n            case ChoreType.COMPONENT:\n            case ChoreType.COMPONENT_SSR:\n                returnValue = safeCall(() => executeComponent(container, host, host, chore.$target$, chore.$payload$), (jsx) => {\n                    return chore.$type$ === ChoreType.COMPONENT\n                        ? maybeThen(container.processJsx(host, jsx), () => jsx)\n                        : jsx;\n                }, (err) => container.handleError(err, host));\n                break;\n            case ChoreType.RESOURCE:\n                // Don't await the return value of the resource, because async resources should not be awaited.\n                // The reason for this is that we should be able to update for example a node with loading\n                // text. If we await the resource, the loading text will not be displayed until the resource\n                // is loaded.\n                const result = runResource(chore.$payload$, container, host);\n                returnValue = isDomContainer(container) ? null : result;\n                break;\n            case ChoreType.TASK:\n                returnValue = runTask(chore.$payload$, container, host);\n                break;\n            case ChoreType.VISIBLE:\n                returnValue = runTask(chore.$payload$, container, host);\n                break;\n            case ChoreType.CLEANUP_VISIBLE:\n                const task = chore.$payload$;\n                cleanupTask(task);\n                break;\n            case ChoreType.NODE_DIFF:\n                const parentVirtualNode = chore.$target$;\n                let jsx = chore.$payload$;\n                if (isSignal(jsx)) {\n                    jsx = jsx.value;\n                }\n                returnValue = vnode_diff(container, jsx, parentVirtualNode, null);\n                break;\n            case ChoreType.NODE_PROP:\n                const virtualNode = chore.$host$;\n                const payload = chore.$payload$;\n                let value = payload.$value$;\n                if (isSignal(value)) {\n                    value = value.value;\n                }\n                const isConst = payload.$isConst$;\n                const journal = container.$journal$;\n                const property = chore.$idx$;\n                value = serializeAttribute(property, value, payload.$scopedStyleIdPrefix$);\n                if (isConst) {\n                    const element = virtualNode[ElementVNodeProps.element];\n                    journal.push(VNodeJournalOpCode.SetAttribute, element, property, value);\n                }\n                else {\n                    vnode_setAttr(journal, virtualNode, property, value);\n                }\n                break;\n            case ChoreType.QRL_RESOLVE: {\n                const target = chore.$target$;\n                returnValue = !target.resolved ? target.resolve() : null;\n                break;\n            }\n        }\n        return maybeThenPassError(returnValue, (value) => {\n            DEBUG && debugTrace('execute.DONE', null, currentChore, choreQueue);\n            if (currentChore) {\n                currentChore.$executed$ = true;\n                currentChore.$resolve$?.(value);\n            }\n            currentChore = null;\n            return (chore.$returnValue$ = value);\n        });\n    }\n};\nconst toNumber = (value) => {\n    return typeof value === 'number' ? value : -1;\n};\n/**\n * When a derived signal is update we need to run vnode_diff. However the signal can update multiple\n * times during component execution. For this reason it is necessary for us to update the schedule\n * work with the latest result of the signal.\n */\nconst choreUpdate = (existing, newChore) => {\n    if (existing.$type$ === ChoreType.NODE_DIFF) {\n        existing.$payload$ = newChore.$payload$;\n    }\n};\nfunction vNodeAlreadyDeleted(chore) {\n    return !!(chore.$host$ &&\n        vnode_isVNode(chore.$host$) &&\n        chore.$host$[VNodeProps.flags] & VNodeFlags.Deleted);\n}\nfunction choreComparator(a, b, shouldThrowOnHostMismatch) {\n    const macroTypeDiff = (a.$type$ & ChoreType.MACRO) - (b.$type$ & ChoreType.MACRO);\n    if (macroTypeDiff !== 0) {\n        return macroTypeDiff;\n    }\n    // JOURNAL_FLUSH does not have a host or $idx$, so we can't compare it.\n    if (a.$type$ !== ChoreType.JOURNAL_FLUSH) {\n        const aHost = a.$host$;\n        const bHost = b.$host$;\n        // QRL_RESOLVE does not have a host.\n        if (aHost !== bHost && aHost !== null && bHost !== null) {\n            if (vnode_isVNode(aHost) && vnode_isVNode(bHost)) {\n                // we are running on the client.\n                const hostDiff = vnode_documentPosition(aHost, bHost);\n                if (hostDiff !== 0) {\n                    return hostDiff;\n                }\n            }\n            else {\n                // we are running on the server.\n                // On server we can't schedule task for a different host!\n                // Server is SSR, and therefore scheduling for anything but the current host\n                // implies that things need to be re-run nad that is not supported because of streaming.\n                const errorMessage = 'SERVER: during HTML streaming, it is not possible to cause a re-run of tasks on a different host';\n                if (shouldThrowOnHostMismatch) {\n                    throwErrorAndStop(errorMessage);\n                }\n                logWarn(errorMessage);\n                return null;\n            }\n        }\n        const microTypeDiff = (a.$type$ & ChoreType.MICRO) - (b.$type$ & ChoreType.MICRO);\n        if (microTypeDiff !== 0) {\n            return microTypeDiff;\n        }\n        const idxDiff = toNumber(a.$idx$) - toNumber(b.$idx$);\n        if (idxDiff !== 0) {\n            return idxDiff;\n        }\n        // If the host is the same, we need to compare the target.\n        if (a.$target$ !== b.$target$ &&\n            ((a.$type$ === ChoreType.QRL_RESOLVE && b.$type$ === ChoreType.QRL_RESOLVE) ||\n                (a.$type$ === ChoreType.NODE_PROP && b.$type$ === ChoreType.NODE_PROP))) {\n            // 1 means that we are going to process chores as FIFO\n            return 1;\n        }\n    }\n    return 0;\n}\nfunction sortedFindIndex(sortedArray, value) {\n    /// We need to ensure that the `queue` is sorted by priority.\n    /// 1. Find a place where to insert into.\n    let bottom = 0;\n    let top = sortedArray.length;\n    while (bottom < top) {\n        const middle = bottom + ((top - bottom) >> 1);\n        const midChore = sortedArray[middle];\n        const comp = choreComparator(value, midChore, true);\n        if (comp < 0) {\n            top = middle;\n        }\n        else if (comp > 0) {\n            bottom = middle + 1;\n        }\n        else {\n            // We already have the host in the queue.\n            return middle;\n        }\n    }\n    return ~bottom;\n}\nfunction sortedInsert(sortedArray, value) {\n    /// We need to ensure that the `queue` is sorted by priority.\n    /// 1. Find a place where to insert into.\n    const idx = sortedFindIndex(sortedArray, value);\n    if (idx < 0) {\n        /// 2. Insert the chore into the queue.\n        sortedArray.splice(~idx, 0, value);\n        return value;\n    }\n    const existing = sortedArray[idx];\n    choreUpdate(existing, value);\n    return existing;\n}\nfunction debugChoreToString(chore) {\n    const type = {\n        [ChoreType.QRL_RESOLVE]: 'QRL_RESOLVE',\n        [ChoreType.RESOURCE]: 'RESOURCE',\n        [ChoreType.TASK]: 'TASK',\n        [ChoreType.NODE_DIFF]: 'NODE_DIFF',\n        [ChoreType.NODE_PROP]: 'NODE_PROP',\n        [ChoreType.COMPONENT]: 'COMPONENT',\n        [ChoreType.COMPONENT_SSR]: 'COMPONENT_SSR',\n        [ChoreType.JOURNAL_FLUSH]: 'JOURNAL_FLUSH',\n        [ChoreType.VISIBLE]: 'VISIBLE',\n        [ChoreType.CLEANUP_VISIBLE]: 'CLEANUP_VISIBLE',\n        [ChoreType.WAIT_FOR_ALL]: 'WAIT_FOR_ALL',\n        [ChoreType.WAIT_FOR_COMPONENTS]: 'WAIT_FOR_COMPONENTS',\n    }[chore.$type$] || 'UNKNOWN: ' + chore.$type$;\n    const host = String(chore.$host$).replaceAll(/\\n.*/gim, '');\n    const qrlTarget = chore.$target$?.$symbol$;\n    return `Chore(${type} ${chore.$type$ === ChoreType.QRL_RESOLVE ? qrlTarget : host} ${chore.$idx$})`;\n}\nfunction debugTrace(action, arg, currentChore, queue) {\n    const lines = ['Scheduler: ' + action];\n    if (arg) {\n        lines.push('    arg: ' +\n            ('$type$' in arg ? debugChoreToString(arg) : String(arg).replaceAll(/\\n.*/gim, '')));\n    }\n    if (currentChore) {\n        lines.push('running: ' + debugChoreToString(currentChore));\n    }\n    if (queue) {\n        queue.forEach((chore, idx) => {\n            lines.push((idx == 0 ? '  queue: ' : '         ') + debugChoreToString(chore));\n        });\n    }\n    // eslint-disable-next-line no-console\n    console.log(lines.join('\\n  ') + '\\n');\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2NoZWR1bGVyLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3NoYXJlZC9zY2hlZHVsZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0dBZ0ZHO0FBRUgsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBRzdDLE9BQU8sRUFBRSxJQUFJLEVBQUUsU0FBUyxFQUFFLFdBQVcsRUFBRSxPQUFPLEVBQWUsTUFBTSxpQkFBaUIsQ0FBQztBQUNyRixPQUFPLEVBQUUsV0FBVyxFQUEyQixNQUFNLHFCQUFxQixDQUFDO0FBQzNFLE9BQU8sRUFBRSxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFDekQsT0FBTyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsa0JBQWtCLEVBQUUsUUFBUSxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFFdEYsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBQ3pELE9BQU8sRUFDTCxpQkFBaUIsRUFDakIsVUFBVSxFQUNWLFVBQVUsR0FHWCxNQUFNLGlCQUFpQixDQUFDO0FBQ3pCLE9BQU8sRUFDTCxzQkFBc0IsRUFDdEIsYUFBYSxFQUNiLGFBQWEsRUFDYixrQkFBa0IsR0FDbkIsTUFBTSxpQkFBaUIsQ0FBQztBQUN6QixPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFDbEQsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFFekQsT0FBTyxFQUFFLFFBQVEsRUFBZSxNQUFNLHlCQUF5QixDQUFDO0FBQ2hFLE9BQU8sRUFBcUIsTUFBTSx5QkFBeUIsQ0FBQztBQUM1RCxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSxnQkFB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QztBQUN6QyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBTY2hlZHVsZXIgaXMgcmVzcG9uc2libGUgZm9yIHJ1bm5pbmcgYXBwbGljYXRpb24gY29kZSBpbiBwcmVkaWN0YWJsZSBvcmRlci5cbiAqXG4gKiAjIyBXaGF0IGlzIGEgQ2hvcmU/XG4gKlxuICogQSBDaG9yZSBpcyBhIHVuaXQgb2Ygd29yayB0aGF0IG5lZWRzIHRvIGJlIGRvbmUuIEl0IGNhbiBiZTpcbiAqXG4gKiAtIFRhc2sgLyBSZXNvdXJjZVxuICogLSBWaXNpYmxlIFRhc2tcbiAqIC0gQ29tcG9uZW50XG4gKiAtIENvbXB1dGVkXG4gKiAtIE5vZGUgRGlmZlxuICpcbiAqICMjIE9yZGVyIG9mIGV4ZWN1dGlvblxuICpcbiAqIC0gUGFyZW50IGNvbXBvbmVudCBjaG9yZXMgc2hvdWxkIHJ1biBiZWZvcmUgY2hpbGQgY29tcG9uZW50IGNob3Jlcy5cbiAqIC0gVmlzaWJsZSBUYXNrcyBzaG91bGQgcnVuIGFmdGVyIGpvdXJuYWwgZmx1c2ggKHZpc2libGUgdGFza3Mgb2Z0ZW4gcmVhZCBET00gbGF5b3V0LilcbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogY29uc3QgQ2hpbGQgPSBjb21wb25lbnQkKCgpID0+IHtcbiAqICAgdXNlVGFzayQoKCkgPT4ge1xuICogICAgIGNvbnNvbGUubG9nKCdDaGlsZCB0YXNrJyk7XG4gKiAgIH0pO1xuICogICB1c2VWaXNpYmxlVGFzayQoKCkgPT4ge1xuICogICAgIGNvbnNvbGUubG9nKCdDaGlsZCB2aXNpYmxlLXRhc2snKTtcbiAqICAgfSk7XG4gKiAgIGNvbnNvbGUubG9nKCdDaGlsZCByZW5kZXInKTtcbiAqICAgcmV0dXJuIDxkaXY+Q2hpbGQ8L2Rpdj47XG4gKiB9KTtcbiAqXG4gKiBjb25zdCBQYXJlbnQgPSBjb21wb25lbnQkKCgpID0+IHtcbiAqICAgY29uc3QgY291bnQgPSB1c2VTaWduYWwoMCk7XG4gKiAgIHVzZVRhc2skKCgpID0+IHtcbiAqICAgICBjb25zb2xlLmxvZygnUGFyZW50IHRhc2snLCBjb3VudC52YWx1ZSk7XG4gKiAgIH0pO1xuICogICB1c2VWaXNpYmxlVGFzayQoKCkgPT4ge1xuICogICAgIGNvbnNvbGUubG9nKCdQYXJlbnQgdmlzaWJsZS10YXNrJywgY291bnQudmFsdWUpO1xuICogICAgIGNvdW50LnZhbHVlKys7XG4gKiAgIH0pO1xuICogICBjb25zb2xlLmxvZygnUGFyZW50IHJlbmRlcicsIGNvdW50LnZhbHVlKTtcbiAqICAgcmV0dXJuIDxDaGlsZC8+O1xuICogfSk7XG4gKiBgYGBcbiAqXG4gKiAjIyBJbiB0aGUgYWJvdmUgZXhhbXBsZSwgdGhlIG9yZGVyIG9mIGV4ZWN1dGlvbiBpczpcbiAqXG4gKiAxLiBQYXJlbnQgdGFzayAwXG4gKiAyLiBQYXJlbnQgcmVuZGVyIDBcbiAqIDMuIENoaWxkIHRhc2sgMFxuICogNC4gQ2hpbGQgcmVuZGVyIDBcbiAqIDUuIEpvdXJuYWwgZmx1c2hcbiAqIDYuIFBhcmVudCB2aXNpYmxlLXRhc2sgMFxuICogNy4gUGFyZW50IHJlbmRlciAxXG4gKiA4LiBKb3VybmFsIGZsdXNoXG4gKiA5LiBDaGlsZCB2aXNpYmxlLXRhc2tcbiAqXG4gKiBJZiBhdCBhbnkgcG9pbnQgYSBuZXcgY2hvcmUgaXMgc2NoZWR1bGVkIGl0IHdpbGwgaW5zZXJ0IGl0c2VsZiBpbnRvIHRoZSBjb3JyZWN0IG9yZGVyLlxuICpcbiAqICMjIEltcGxlbWVudGF0aW9uXG4gKlxuICogQ2hvcmVzIGFyZSBrZXB0IGluIGEgc29ydGVkIGFycmF5LiBXaGVuIGEgbmV3IGNob3JlIGlzIHNjaGVkdWxlZCBpdCBpcyBpbnNlcnRlZCBpbnRvIHRoZSBjb3JyZWN0XG4gKiBsb2NhdGlvbi4gUHJvY2Vzc2luZyBvZiB0aGUgY2hvcmVzIGFsd2F5cyBzdGFydHMgZnJvbSB0aGUgYmVnaW5uaW5nIG9mIHRoZSBhcnJheS4gVGhpcyBlbnN1cmVzXG4gKiB0aGF0IHBhcmVudCBjaG9yZXMgYXJlIHByb2Nlc3NlZCBiZWZvcmUgY2hpbGQgY2hvcmVzLlxuICpcbiAqICMjIFNvcnRpbmdcbiAqXG4gKiBDaG9yZXMgYXJlIHNvcnRlZCBpbiB0aHJlZSBsZXZlbHM6XG4gKlxuICogLSBNYWNybzogYmVmb3JlSm91cm5hbEZsdXNoLCBqb3VybmFsRmx1c2gsIGFmdGVySm91cm5hbEZsdXNoXG4gKiAtIENvbXBvbmVudDogZGVwdGggZmlyc3Qgb3JkZXIgb2YgY29tcG9uZW50c1xuICogLSBNaWNybzogb3JkZXIgb2YgY2hvcmVzIHdpdGhpbiBhIGNvbXBvbmVudC5cbiAqXG4gKiBFeGFtcGxlIG9mIHNvcnRpbmc6XG4gKlxuICogLSBUYXNrcyBhcmUgYmVmb3JlSm91cm5hbEZsdXNoLCB0aGFuIGRlcHRoIGZpcnN0IG9uIGNvbXBvbmVudCBhbmQgZmluYWxseSBpbiBkZWNsYXJhdGlvbiBvcmRlclxuICogICB3aXRoaW4gY29tcG9uZW50LlxuICogLSBWaXNpYmxlIFRhc2tzIGFyZSBzb3J0ZWQgYWZ0ZXJKb3VybmFsRmx1c2gsIHRoYW4gZGVwdGggZmlyc3Qgb24gY29tcG9uZW50IGFuZCBmaW5hbGx5IGluXG4gKiAgIGRlY2xhcmF0aW9uIG9yZGVyIHdpdGhpbiBjb21wb25lbnQuXG4gKi9cblxuaW1wb3J0IHsgYXNzZXJ0RXF1YWwgfSBmcm9tICcuL2Vycm9yL2Fzc2VydCc7XG5pbXBvcnQgdHlwZSB7IFFSTEludGVybmFsIH0gZnJvbSAnLi9xcmwvcXJsLWNsYXNzJztcbmltcG9ydCB0eXBlIHsgSlNYT3V0cHV0IH0gZnJvbSAnLi9qc3gvdHlwZXMvanN4LW5vZGUnO1xuaW1wb3J0IHsgVGFzaywgVGFza0ZsYWdzLCBjbGVhbnVwVGFzaywgcnVuVGFzaywgdHlwZSBUYXNrRm4gfSBmcm9tICcuLi91c2UvdXNlLXRhc2snO1xuaW1wb3J0IHsgcnVuUmVzb3VyY2UsIHR5cGUgUmVzb3VyY2VEZXNjcmlwdG9yIH0gZnJvbSAnLi4vdXNlL3VzZS1yZXNvdXJjZSc7XG5pbXBvcnQgeyBsb2dXYXJuLCB0aHJvd0Vycm9yQW5kU3RvcCB9IGZyb20gJy4vdXRpbHMvbG9nJztcbmltcG9ydCB7IGlzUHJvbWlzZSwgbWF5YmVUaGVuLCBtYXliZVRoZW5QYXNzRXJyb3IsIHNhZmVDYWxsIH0gZnJvbSAnLi91dGlscy9wcm9taXNlcyc7XG5pbXBvcnQgdHlwZSB7IFZhbHVlT3JQcm9taXNlIH0gZnJvbSAnLi91dGlscy90eXBlcyc7XG5pbXBvcnQgeyBpc0RvbUNvbnRhaW5lciB9IGZyb20gJy4uL2NsaWVudC9kb20tY29udGFpbmVyJztcbmltcG9ydCB7XG4gIEVsZW1lbnRWTm9kZVByb3BzLFxuICBWTm9kZUZsYWdzLFxuICBWTm9kZVByb3BzLFxuICB0eXBlIEVsZW1lbnRWTm9kZSxcbiAgdHlwZSBWaXJ0dWFsVk5vZGUsXG59IGZyb20gJy4uL2NsaWVudC90eXBlcyc7XG5pbXBvcnQge1xuICB2bm9kZV9kb2N1bWVudFBvc2l0aW9uLFxuICB2bm9kZV9pc1ZOb2RlLFxuICB2bm9kZV9zZXRBdHRyLFxuICBWTm9kZUpvdXJuYWxPcENvZGUsXG59IGZyb20gJy4uL2NsaWVudC92bm9kZSc7XG5pbXBvcnQgeyB2bm9kZV9kaWZmIH0gZnJvbSAnLi4vY2xpZW50L3Zub2RlLWRpZmYnO1xuaW1wb3J0IHsgZXhlY3V0ZUNvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50LWV4ZWN1dGlvbic7XG5pbXBvcnQgdHlwZSB7IENvbnRhaW5lciwgSG9zdEVsZW1lbnQgfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IGlzU2lnbmFsLCB0eXBlIFNpZ25hbCB9IGZyb20gJy4uL3NpZ25hbC9zaWduYWwucHVibGljJztcbmltcG9ydCB7IHR5cGUgRG9tQ29udGFpbmVyIH0gZnJvbSAnLi4vY2xpZW50L2RvbS1jb250YWluZXInO1xuaW1wb3J0IHsgc2VyaWFsaXplQXR0cmlidXRlIH0gZnJvbSAnLi91dGlscy9zdHlsZXMnO1xuaW1wb3J0IHR5cGUgeyBPblJlbmRlckZuIH0gZnJvbSAnLi9jb21wb25lbnQucHVibGljJztcbmltcG9ydCB0eXBlIHsgUHJvcHMgfSBmcm9tICcuL2pzeC9qc3gtcnVudGltZSc7XG5cbi8vIFR1cm4gdGhpcyBvbiB0byBnZXQgZGVidWcgb3V0cHV0IG9mIHdoYXQgdGhlIHNjaGVkdWxlciBpcyBkb2luZy5cbmNvbnN0IERFQlVHOiBib29sZWFuID0gZmFsc2U7XG5cbmV4cG9ydCBjb25zdCBlbnVtIENob3JlVHlwZSB7XG4gIC8vLyBNQVNLUyBkZWZpbmluZyB0aHJlZSBsZXZlbHMgb2Ygc29ydGluZ1xuICBNQUNSTyAvKiAqKioqKioqKioqKioqKioqKiAqLyA9IDBiMTExXzAwMDAsXG4gIC8qIG9yZGVyIG9mIGVsZW1lbnRzIChub3QgZW5jb2RlZCBoZXJlKSAqL1xuICBNSUNSTyAvKiAqKioqKioqKioqKioqKioqKiAqLyA9IDBiMDAwXzExMTEsXG5cbiAgLyoqIEVuc3VyZSB0aGEgdGhlIFFSTCBwcm9taXNlIGlzIHJlc29sdmVkIGJlZm9yZSBwcm9jZXNzaW5nIG5leHQgY2hvcmVzIGluIHRoZSBxdWV1ZSAqL1xuICBRUkxfUkVTT0xWRSAvKiAqKioqKioqKioqKiAqLyA9IDBiMDAwXzAwMDEsXG4gIFJFU09VUkNFIC8qICoqKioqKioqKioqKioqICovID0gMGIwMDBfMDAxMCxcbiAgVEFTSyAvKiAqKioqKioqKioqKioqKioqKiogKi8gPSAwYjAwMF8wMDExLFxuICBOT0RFX0RJRkYgLyogKioqKioqKioqKioqKiAqLyA9IDBiMDAwXzAxMDAsXG4gIE5PREVfUFJPUCAvKiAqKioqKioqKioqKioqICovID0gMGIwMDBfMDEwMSxcbiAgQ09NUE9ORU5UX1NTUiAvKiAqKioqKioqKiogKi8gPSAwYjAwMF8wMTEwLFxuICBDT01QT05FTlQgLyogKioqKioqKioqKioqKiAqLyA9IDBiMDAwXzAxMTEsXG4gIFdBSVRfRk9SX0NPTVBPTkVOVFMgLyogKioqICovID0gMGIwMDFfMDAwMCxcbiAgSk9VUk5BTF9GTFVTSCAvKiAqKioqKioqKiogKi8gPSAwYjAxMV8wMDAwLFxuICBWSVNJQkxFIC8qICoqKioqKioqKioqKioqKiAqLyA9IDBiMTAwXzAwMDAsXG4gIENMRUFOVVBfVklTSUJMRSAvKiAqKioqKioqICovID0gMGIxMDFfMDAwMCxcbiAgV0FJVF9GT1JfQUxMIC8qICoqKioqKioqKiogKi8gPSAwYjExMV8xMTExLFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIENob3JlIHtcbiAgJHR5cGUkOiBDaG9yZVR5cGU7XG4gICRpZHgkOiBudW1iZXIgfCBzdHJpbmc7XG4gICRob3N0JDogSG9zdEVsZW1lbnQ7XG4gICR0YXJnZXQkOiBIb3N0RWxlbWVudCB8IFFSTEludGVybmFsPCguLi5hcmdzOiB1bmtub3duW10pID0+IHVua25vd24+IHwgbnVsbDtcbiAgJHBheWxvYWQkOiB1bmtub3duO1xuICAkcmVzb2x2ZSQ6ICh2YWx1ZTogYW55KSA9PiB2b2lkO1xuICAkcHJvbWlzZSQ6IFByb21pc2U8YW55PjtcbiAgJHJldHVyblZhbHVlJDogYW55O1xuICAkZXhlY3V0ZWQkOiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE5vZGVQcm9wRGF0YSB7XG4gICRzY29wZWRTdHlsZUlkUHJlZml4JDogc3RyaW5nIHwgbnVsbDtcbiAgJGlzQ29uc3QkOiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE5vZGVQcm9wUGF5bG9hZCBleHRlbmRzIE5vZGVQcm9wRGF0YSB7XG4gICR2YWx1ZSQ6IFNpZ25hbDx1bmtub3duPjtcbn1cblxuZXhwb3J0IHR5cGUgU2NoZWR1bGVyID0gUmV0dXJuVHlwZTx0eXBlb2YgY3JlYXRlU2NoZWR1bGVyPjtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZVNjaGVkdWxlciA9IChcbiAgY29udGFpbmVyOiBDb250YWluZXIsXG4gIHNjaGVkdWxlRHJhaW46ICgpID0+IHZvaWQsXG4gIGpvdXJuYWxGbHVzaDogKCkgPT4gdm9pZFxuKSA9PiB7XG4gIGNvbnN0IGNob3JlUXVldWU6IENob3JlW10gPSBbXTtcblxuICBsZXQgY3VycmVudENob3JlOiBDaG9yZSB8IG51bGwgPSBudWxsO1xuICBsZXQgam91cm5hbEZsdXNoU2NoZWR1bGVkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgcmV0dXJuIHNjaGVkdWxlO1xuXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgZnVuY3Rpb24gc2NoZWR1bGUoXG4gICAgdHlwZTogQ2hvcmVUeXBlLlFSTF9SRVNPTFZFLFxuICAgIGlnbm9yZTogbnVsbCxcbiAgICB0YXJnZXQ6IFFSTEludGVybmFsPCguLi5hcmdzOiB1bmtub3duW10pID0+IHVua25vd24+XG4gICk6IFZhbHVlT3JQcm9taXNlPHZvaWQ+O1xuICBmdW5jdGlvbiBzY2hlZHVsZSh0eXBlOiBDaG9yZVR5cGUuSk9VUk5BTF9GTFVTSCk6IFZhbHVlT3JQcm9taXNlPHZvaWQ+O1xuICBmdW5jdGlvbiBzY2hlZHVsZSh0eXBlOiBDaG9yZVR5cGUuV0FJVF9GT1JfQUxMKTogVmFsdWVPclByb21pc2U8dm9pZD47XG4gIGZ1bmN0aW9uIHNjaGVkdWxlKHR5cGU6IENob3JlVHlwZS5XQUlUX0ZPUl9DT01QT05FTlRTKTogVmFsdWVPclByb21pc2U8dm9pZD47XG4gIC8qKlxuICAgKiBTY2hlZHVsZSByZW5kZXJpbmcgb2YgYSBjb21wb25lbnQuXG4gICAqXG4gICAqIEBwYXJhbSB0eXBlXG4gICAqIEBwYXJhbSBob3N0IC0gSG9zdCBlbGVtZW50IHdoZXJlIHRoZSBjb21wb25lbnQgaXMgYmVpbmcgcmVuZGVyZWQuXG4gICAqIEBwYXJhbSBxcmwgLSBRUkwgb2YgdGhlIGNvbXBvbmVudCB0byByZW5kZXIuXG4gICAqIEBwYXJhbSBwcm9wcy0gUHJvcHMgdG8gcGFzcyB0byB0aGUgY29tcG9uZW50LlxuICAgKiBAcGFyYW0gd2FpdEZvckNob3JlPyA9IGZhbHNlXG4gICAqL1xuICBmdW5jdGlvbiBzY2hlZHVsZShcbiAgICB0eXBlOiBDaG9yZVR5cGUuVEFTSyB8IENob3JlVHlwZS5WSVNJQkxFIHwgQ2hvcmVUeXBlLlJFU09VUkNFLFxuICAgIHRhc2s6IFRhc2tcbiAgKTogVmFsdWVPclByb21pc2U8dm9pZD47XG4gIGZ1bmN0aW9uIHNjaGVkdWxlKFxuICAgIHR5cGU6IENob3JlVHlwZS5DT01QT05FTlQsXG4gICAgaG9zdDogSG9zdEVsZW1lbnQsXG4gICAgcXJsOiBRUkxJbnRlcm5hbDxPblJlbmRlckZuPHVua25vd24+PixcbiAgICBwcm9wczogUHJvcHMgfCBudWxsXG4gICk6IFZhbHVlT3JQcm9taXNlPEpTWE91dHB1dD47XG4gIGZ1bmN0aW9uIHNjaGVkdWxlKFxuICAgIHR5cGU6IENob3JlVHlwZS5DT01QT05FTlRfU1NSLFxuICAgIGhvc3Q6IEhvc3RFbGVtZW50LFxuICAgIHFybDogUVJMSW50ZXJuYWw8T25SZW5kZXJGbjx1bmtub3duPj4sXG4gICAgcHJvcHM6IFByb3BzIHwgbnVsbFxuICApOiBWYWx1ZU9yUHJvbWlzZTxKU1hPdXRwdXQ+O1xuICBmdW5jdGlvbiBzY2hlZHVsZShcbiAgICB0eXBlOiBDaG9yZVR5cGUuTk9ERV9ESUZGLFxuICAgIGhvc3Q6IEhvc3RFbGVtZW50LFxuICAgIHRhcmdldDogSG9zdEVsZW1lbnQsXG4gICAgdmFsdWU6IEpTWE91dHB1dCB8IFNpZ25hbFxuICApOiBWYWx1ZU9yUHJvbWlzZTx2b2lkPjtcbiAgZnVuY3Rpb24gc2NoZWR1bGUoXG4gICAgdHlwZTogQ2hvcmVUeXBlLk5PREVfUFJPUCxcbiAgICBob3N0OiBIb3N0RWxlbWVudCxcbiAgICBwcm9wOiBzdHJpbmcsXG4gICAgdmFsdWU6IGFueVxuICApOiBWYWx1ZU9yUHJvbWlzZTx2b2lkPjtcbiAgZnVuY3Rpb24gc2NoZWR1bGUodHlwZTogQ2hvcmVUeXBlLkNMRUFOVVBfVklTSUJMRSwgdGFzazogVGFzayk6IFZhbHVlT3JQcm9taXNlPEpTWE91dHB1dD47XG4gIC8vLy8vIElNUExFTUVOVEFUSU9OIC8vLy8vXG4gIGZ1bmN0aW9uIHNjaGVkdWxlKFxuICAgIHR5cGU6IENob3JlVHlwZSxcbiAgICBob3N0T3JUYXNrOiBIb3N0RWxlbWVudCB8IFRhc2sgfCBudWxsID0gbnVsbCxcbiAgICB0YXJnZXRPclFybDogSG9zdEVsZW1lbnQgfCBRUkxJbnRlcm5hbDwoLi4uYXJnczogdW5rbm93bltdKSA9PiB1bmtub3duPiB8IHN0cmluZyB8IG51bGwgPSBudWxsLFxuICAgIHBheWxvYWQ6IGFueSA9IG51bGxcbiAgKTogVmFsdWVPclByb21pc2U8YW55PiB7XG4gICAgY29uc3QgcnVuTGF0ZXI6IGJvb2xlYW4gPVxuICAgICAgdHlwZSAhPT0gQ2hvcmVUeXBlLldBSVRfRk9SX0FMTCAmJlxuICAgICAgdHlwZSAhPT0gQ2hvcmVUeXBlLldBSVRfRk9SX0NPTVBPTkVOVFMgJiZcbiAgICAgIHR5cGUgIT09IENob3JlVHlwZS5DT01QT05FTlRfU1NSO1xuICAgIGNvbnN0IGlzVGFzayA9XG4gICAgICB0eXBlID09PSBDaG9yZVR5cGUuVEFTSyB8fFxuICAgICAgdHlwZSA9PT0gQ2hvcmVUeXBlLlZJU0lCTEUgfHxcbiAgICAgIHR5cGUgPT09IENob3JlVHlwZS5SRVNPVVJDRSB8fFxuICAgICAgdHlwZSA9PT0gQ2hvcmVUeXBlLkNMRUFOVVBfVklTSUJMRTtcbiAgICBpZiAoaXNUYXNrKSB7XG4gICAgICAoaG9zdE9yVGFzayBhcyBUYXNrKS4kZmxhZ3MkIHw9IFRhc2tGbGFncy5ESVJUWTtcbiAgICB9XG4gICAgbGV0IGNob3JlOiBDaG9yZSA9IHtcbiAgICAgICR0eXBlJDogdHlwZSxcbiAgICAgICRpZHgkOiBpc1Rhc2tcbiAgICAgICAgPyAoaG9zdE9yVGFzayBhcyBUYXNrKS4kaW5kZXgkXG4gICAgICAgIDogdHlwZW9mIHRhcmdldE9yUXJsID09PSAnc3RyaW5nJ1xuICAgICAgICAgID8gdGFyZ2V0T3JRcmxcbiAgICAgICAgICA6IDAsXG4gICAgICAkaG9zdCQ6IGlzVGFzayA/IChob3N0T3JUYXNrIGFzIFRhc2spLiRlbCQgOiAoaG9zdE9yVGFzayBhcyBIb3N0RWxlbWVudCksXG4gICAgICAkdGFyZ2V0JDogdGFyZ2V0T3JRcmwgYXMgUVJMSW50ZXJuYWw8KC4uLmFyZ3M6IHVua25vd25bXSkgPT4gdW5rbm93bj4sXG4gICAgICAkcGF5bG9hZCQ6IGlzVGFzayA/IGhvc3RPclRhc2sgOiBwYXlsb2FkLFxuICAgICAgJHJlc29sdmUkOiBudWxsISxcbiAgICAgICRwcm9taXNlJDogbnVsbCEsXG4gICAgICAkcmV0dXJuVmFsdWUkOiBudWxsLFxuICAgICAgJGV4ZWN1dGVkJDogZmFsc2UsXG4gICAgfTtcbiAgICBjaG9yZS4kcHJvbWlzZSQgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gKGNob3JlLiRyZXNvbHZlJCA9IHJlc29sdmUpKTtcbiAgICBERUJVRyAmJiBkZWJ1Z1RyYWNlKCdzY2hlZHVsZScsIGNob3JlLCBjdXJyZW50Q2hvcmUsIGNob3JlUXVldWUpO1xuICAgIGNob3JlID0gc29ydGVkSW5zZXJ0KGNob3JlUXVldWUsIGNob3JlKTtcbiAgICBpZiAoIWpvdXJuYWxGbHVzaFNjaGVkdWxlZCAmJiBydW5MYXRlcikge1xuICAgICAgLy8gSWYgd2UgYXJlIG5vdCBjdXJyZW50bHkgZHJhaW5pbmcsIHdlIG5lZWQgdG8gc2NoZWR1bGUgYSBkcmFpbi5cbiAgICAgIGpvdXJuYWxGbHVzaFNjaGVkdWxlZCA9IHRydWU7XG4gICAgICBzY2hlZHVsZShDaG9yZVR5cGUuSk9VUk5BTF9GTFVTSCk7XG4gICAgICBzY2hlZHVsZURyYWluKCk7XG4gICAgfVxuICAgIGlmIChydW5MYXRlcikge1xuICAgICAgcmV0dXJuIGNob3JlLiRwcm9taXNlJDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGRyYWluVXBUbyhjaG9yZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEV4ZWN1dGUgYWxsIG9mIHRoZSBjaG9yZXMgdXAgdG8gYW5kIGluY2x1ZGluZyB0aGUgZ2l2ZW4gY2hvcmUuXG4gICAqXG4gICAqIEBwYXJhbSBydW5VcHRvQ2hvcmVcbiAgICovXG4gIGZ1bmN0aW9uIGRyYWluVXBUbyhydW5VcHRvQ2hvcmU6IENob3JlKTogVmFsdWVPclByb21pc2U8dW5rbm93bj4ge1xuICAgIC8vIElmIGl0IGFscmVhZHkgcmFuLCBpdCdzIG5vdCBpbiB0aGUgcXVldWVcbiAgICBpZiAocnVuVXB0b0Nob3JlLiRleGVjdXRlZCQpIHtcbiAgICAgIHJldHVybiBydW5VcHRvQ2hvcmUuJHJldHVyblZhbHVlJDtcbiAgICB9XG4gICAgaWYgKGN1cnJlbnRDaG9yZSkge1xuICAgICAgLy8gQWxyZWFkeSBydW5uaW5nIGNob3JlLCB3aGljaCBtZWFucyB3ZSdyZSB3YWl0aW5nIGZvciBhc3luYyBjb21wbGV0aW9uXG4gICAgICByZXR1cm4gcnVuVXB0b0Nob3JlLiRwcm9taXNlJDtcbiAgICB9XG4gICAgd2hpbGUgKGNob3JlUXVldWUubGVuZ3RoKSB7XG4gICAgICBjb25zdCBuZXh0Q2hvcmUgPSBjaG9yZVF1ZXVlLnNoaWZ0KCkhO1xuICAgICAgY29uc3Qgb3JkZXIgPSBjaG9yZUNvbXBhcmF0b3IobmV4dENob3JlLCBydW5VcHRvQ2hvcmUsIGZhbHNlKTtcbiAgICAgIGlmIChvcmRlciA9PT0gbnVsbCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmIChvcmRlciA+IDApIHtcbiAgICAgICAgLy8gd2UgaGF2ZSBwcm9jZXNzZWQgYWxsIG9mIHRoZSBjaG9yZXMgdXAgdG8gYW5kIGluY2x1ZGluZyB0aGUgZ2l2ZW4gY2hvcmUuXG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY29uc3QgaXNEZWxldGVkVk5vZGUgPSB2Tm9kZUFscmVhZHlEZWxldGVkKG5leHRDaG9yZSk7XG4gICAgICBpZiAoXG4gICAgICAgIGlzRGVsZXRlZFZOb2RlICYmXG4gICAgICAgIC8vIHdlIG5lZWQgdG8gcHJvY2VzcyBjbGVhbnVwIHRhc2tzIGZvciBkZWxldGVkIG5vZGVzXG4gICAgICAgIG5leHRDaG9yZS4kdHlwZSQgIT09IENob3JlVHlwZS5DTEVBTlVQX1ZJU0lCTEVcbiAgICAgICkge1xuICAgICAgICBERUJVRyAmJiBkZWJ1Z1RyYWNlKCdza2lwIGNob3JlJywgbmV4dENob3JlLCBjdXJyZW50Q2hvcmUsIGNob3JlUXVldWUpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJldHVyblZhbHVlID0gZXhlY3V0ZUNob3JlKG5leHRDaG9yZSk7XG4gICAgICBpZiAoaXNQcm9taXNlKHJldHVyblZhbHVlKSkge1xuICAgICAgICBjb25zdCBwcm9taXNlID0gcmV0dXJuVmFsdWUudGhlbigoKSA9PiBkcmFpblVwVG8ocnVuVXB0b0Nob3JlKSk7XG4gICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcnVuVXB0b0Nob3JlLiRyZXR1cm5WYWx1ZSQ7XG4gIH1cblxuICBmdW5jdGlvbiBleGVjdXRlQ2hvcmUoY2hvcmU6IENob3JlKTogVmFsdWVPclByb21pc2U8YW55PiB7XG4gICAgY29uc3QgaG9zdCA9IGNob3JlLiRob3N0JDtcbiAgICBERUJVRyAmJiBkZWJ1Z1RyYWNlKCdleGVjdXRlJywgY2hvcmUsIGN1cnJlbnRDaG9yZSwgY2hvcmVRdWV1ZSk7XG4gICAgYXNzZXJ0RXF1YWwoY3VycmVudENob3JlLCBudWxsLCAnQ2hvcmUgYWxyZWFkeSBydW5uaW5nLicpO1xuICAgIGN1cnJlbnRDaG9yZSA9IGNob3JlO1xuICAgIGxldCByZXR1cm5WYWx1ZTogVmFsdWVPclByb21pc2U8dW5rbm93bj4gfCB1bmtub3duID0gbnVsbDtcbiAgICBzd2l0Y2ggKGNob3JlLiR0eXBlJCkge1xuICAgICAgY2FzZSBDaG9yZVR5cGUuSk9VUk5BTF9GTFVTSDpcbiAgICAgICAgcmV0dXJuVmFsdWUgPSBqb3VybmFsRmx1c2goKTtcbiAgICAgICAgam91cm5hbEZsdXNoU2NoZWR1bGVkID0gZmFsc2U7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBDaG9yZVR5cGUuQ09NUE9ORU5UOlxuICAgICAgY2FzZSBDaG9yZVR5cGUuQ09NUE9ORU5UX1NTUjpcbiAgICAgICAgcmV0dXJuVmFsdWUgPSBzYWZlQ2FsbChcbiAgICAgICAgICAoKSA9PlxuICAgICAgICAgICAgZXhlY3V0ZUNvbXBvbmVudChcbiAgICAgICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgICAgICBob3N0LFxuICAgICAgICAgICAgICBob3N0LFxuICAgICAgICAgICAgICBjaG9yZS4kdGFyZ2V0JCBhcyBRUkxJbnRlcm5hbDxPblJlbmRlckZuPHVua25vd24+PixcbiAgICAgICAgICAgICAgY2hvcmUuJHBheWxvYWQkIGFzIFByb3BzIHwgbnVsbFxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAoanN4KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gY2hvcmUuJHR5cGUkID09PSBDaG9yZVR5cGUuQ09NUE9ORU5UXG4gICAgICAgICAgICAgID8gbWF5YmVUaGVuKGNvbnRhaW5lci5wcm9jZXNzSnN4KGhvc3QsIGpzeCksICgpID0+IGpzeClcbiAgICAgICAgICAgICAgOiBqc3g7XG4gICAgICAgICAgfSxcbiAgICAgICAgICAoZXJyOiBhbnkpID0+IGNvbnRhaW5lci5oYW5kbGVFcnJvcihlcnIsIGhvc3QpXG4gICAgICAgICk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBDaG9yZVR5cGUuUkVTT1VSQ0U6XG4gICAgICAgIC8vIERvbid0IGF3YWl0IHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIHJlc291cmNlLCBiZWNhdXNlIGFzeW5jIHJlc291cmNlcyBzaG91bGQgbm90IGJlIGF3YWl0ZWQuXG4gICAgICAgIC8vIFRoZSByZWFzb24gZm9yIHRoaXMgaXMgdGhhdCB3ZSBzaG91bGQgYmUgYWJsZSB0byB1cGRhdGUgZm9yIGV4YW1wbGUgYSBub2RlIHdpdGggbG9hZGluZ1xuICAgICAgICAvLyB0ZXh0LiBJZiB3ZSBhd2FpdCB0aGUgcmVzb3VyY2UsIHRoZSBsb2FkaW5nIHRleHQgd2lsbCBub3QgYmUgZGlzcGxheWVkIHVudGlsIHRoZSByZXNvdXJjZVxuICAgICAgICAvLyBpcyBsb2FkZWQuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHJ1blJlc291cmNlKGNob3JlLiRwYXlsb2FkJCBhcyBSZXNvdXJjZURlc2NyaXB0b3I8VGFza0ZuPiwgY29udGFpbmVyLCBob3N0KTtcbiAgICAgICAgcmV0dXJuVmFsdWUgPSBpc0RvbUNvbnRhaW5lcihjb250YWluZXIpID8gbnVsbCA6IHJlc3VsdDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIENob3JlVHlwZS5UQVNLOlxuICAgICAgICByZXR1cm5WYWx1ZSA9IHJ1blRhc2soY2hvcmUuJHBheWxvYWQkIGFzIFRhc2s8VGFza0ZuLCBUYXNrRm4+LCBjb250YWluZXIsIGhvc3QpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgQ2hvcmVUeXBlLlZJU0lCTEU6XG4gICAgICAgIHJldHVyblZhbHVlID0gcnVuVGFzayhjaG9yZS4kcGF5bG9hZCQgYXMgVGFzazxUYXNrRm4sIFRhc2tGbj4sIGNvbnRhaW5lciwgaG9zdCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBDaG9yZVR5cGUuQ0xFQU5VUF9WSVNJQkxFOlxuICAgICAgICBjb25zdCB0YXNrID0gY2hvcmUuJHBheWxvYWQkIGFzIFRhc2s8VGFza0ZuLCBUYXNrRm4+O1xuICAgICAgICBjbGVhbnVwVGFzayh0YXNrKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIENob3JlVHlwZS5OT0RFX0RJRkY6XG4gICAgICAgIGNvbnN0IHBhcmVudFZpcnR1YWxOb2RlID0gY2hvcmUuJHRhcmdldCQgYXMgVmlydHVhbFZOb2RlO1xuICAgICAgICBsZXQganN4ID0gY2hvcmUuJHBheWxvYWQkIGFzIEpTWE91dHB1dDtcbiAgICAgICAgaWYgKGlzU2lnbmFsKGpzeCkpIHtcbiAgICAgICAgICBqc3ggPSBqc3gudmFsdWUgYXMgYW55O1xuICAgICAgICB9XG4gICAgICAgIHJldHVyblZhbHVlID0gdm5vZGVfZGlmZihjb250YWluZXIgYXMgRG9tQ29udGFpbmVyLCBqc3gsIHBhcmVudFZpcnR1YWxOb2RlLCBudWxsKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIENob3JlVHlwZS5OT0RFX1BST1A6XG4gICAgICAgIGNvbnN0IHZpcnR1YWxOb2RlID0gY2hvcmUuJGhvc3QkIGFzIHVua25vd24gYXMgRWxlbWVudFZOb2RlO1xuICAgICAgICBjb25zdCBwYXlsb2FkID0gY2hvcmUuJHBheWxvYWQkIGFzIE5vZGVQcm9wUGF5bG9hZDtcbiAgICAgICAgbGV0IHZhbHVlOiBTaWduYWw8YW55PiB8IHN0cmluZyA9IHBheWxvYWQuJHZhbHVlJDtcbiAgICAgICAgaWYgKGlzU2lnbmFsKHZhbHVlKSkge1xuICAgICAgICAgIHZhbHVlID0gdmFsdWUudmFsdWUgYXMgYW55O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGlzQ29uc3QgPSBwYXlsb2FkLiRpc0NvbnN0JDtcbiAgICAgICAgY29uc3Qgam91cm5hbCA9IChjb250YWluZXIgYXMgRG9tQ29udGFpbmVyKS4kam91cm5hbCQ7XG4gICAgICAgIGNvbnN0IHByb3BlcnR5ID0gY2hvcmUuJGlkeCQgYXMgc3RyaW5nO1xuICAgICAgICB2YWx1ZSA9IHNlcmlhbGl6ZUF0dHJpYnV0ZShwcm9wZXJ0eSwgdmFsdWUsIHBheWxvYWQuJHNjb3BlZFN0eWxlSWRQcmVmaXgkKTtcbiAgICAgICAgaWYgKGlzQ29uc3QpIHtcbiAgICAgICAgICBjb25zdCBlbGVtZW50ID0gdmlydHVhbE5vZGVbRWxlbWVudFZOb2RlUHJvcHMuZWxlbWVudF0gYXMgRWxlbWVudDtcbiAgICAgICAgICBqb3VybmFsLnB1c2goVk5vZGVKb3VybmFsT3BDb2RlLlNldEF0dHJpYnV0ZSwgZWxlbWVudCwgcHJvcGVydHksIHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2bm9kZV9zZXRBdHRyKGpvdXJuYWwsIHZpcnR1YWxOb2RlLCBwcm9wZXJ0eSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBDaG9yZVR5cGUuUVJMX1JFU09MVkU6IHtcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gY2hvcmUuJHRhcmdldCQgYXMgUVJMSW50ZXJuYWw8YW55PjtcbiAgICAgICAgcmV0dXJuVmFsdWUgPSAhdGFyZ2V0LnJlc29sdmVkID8gdGFyZ2V0LnJlc29sdmUoKSA6IG51bGw7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWF5YmVUaGVuUGFzc0Vycm9yKHJldHVyblZhbHVlLCAodmFsdWUpID0+IHtcbiAgICAgIERFQlVHICYmIGRlYnVnVHJhY2UoJ2V4ZWN1dGUuRE9ORScsIG51bGwsIGN1cnJlbnRDaG9yZSwgY2hvcmVRdWV1ZSk7XG4gICAgICBpZiAoY3VycmVudENob3JlKSB7XG4gICAgICAgIGN1cnJlbnRDaG9yZS4kZXhlY3V0ZWQkID0gdHJ1ZTtcbiAgICAgICAgY3VycmVudENob3JlLiRyZXNvbHZlJD8uKHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGN1cnJlbnRDaG9yZSA9IG51bGw7XG4gICAgICByZXR1cm4gKGNob3JlLiRyZXR1cm5WYWx1ZSQgPSB2YWx1ZSk7XG4gICAgfSk7XG4gIH1cbn07XG5cbmNvbnN0IHRvTnVtYmVyID0gKHZhbHVlOiBudW1iZXIgfCBzdHJpbmcpOiBudW1iZXIgPT4ge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyA/IHZhbHVlIDogLTE7XG59O1xuXG4vKipcbiAqIFdoZW4gYSBkZXJpdmVkIHNpZ25hbCBpcyB1cGRhdGUgd2UgbmVlZCB0byBydW4gdm5vZGVfZGlmZi4gSG93ZXZlciB0aGUgc2lnbmFsIGNhbiB1cGRhdGUgbXVsdGlwbGVcbiAqIHRpbWVzIGR1cmluZyBjb21wb25lbnQgZXhlY3V0aW9uLiBGb3IgdGhpcyByZWFzb24gaXQgaXMgbmVjZXNzYXJ5IGZvciB1cyB0byB1cGRhdGUgdGhlIHNjaGVkdWxlXG4gKiB3b3JrIHdpdGggdGhlIGxhdGVzdCByZXN1bHQgb2YgdGhlIHNpZ25hbC5cbiAqL1xuY29uc3QgY2hvcmVVcGRhdGUgPSAoZXhpc3Rpbmc6IENob3JlLCBuZXdDaG9yZTogQ2hvcmUpOiB2b2lkID0+IHtcbiAgaWYgKGV4aXN0aW5nLiR0eXBlJCA9PT0gQ2hvcmVUeXBlLk5PREVfRElGRikge1xuICAgIGV4aXN0aW5nLiRwYXlsb2FkJCA9IG5ld0Nob3JlLiRwYXlsb2FkJDtcbiAgfVxufTtcblxuZnVuY3Rpb24gdk5vZGVBbHJlYWR5RGVsZXRlZChjaG9yZTogQ2hvcmUpOiBib29sZWFuIHtcbiAgcmV0dXJuICEhKFxuICAgIGNob3JlLiRob3N0JCAmJlxuICAgIHZub2RlX2lzVk5vZGUoY2hvcmUuJGhvc3QkKSAmJlxuICAgIGNob3JlLiRob3N0JFtWTm9kZVByb3BzLmZsYWdzXSAmIFZOb2RlRmxhZ3MuRGVsZXRlZFxuICApO1xufVxuXG4vKipcbiAqIENvbXBhcmVzIHR3byBjaG9yZXMgdG8gZGV0ZXJtaW5lIHRoZWlyIGV4ZWN1dGlvbiBvcmRlciBpbiB0aGUgc2NoZWR1bGVyJ3MgcXVldWUuXG4gKlxuICogQHBhcmFtIGEgLSBUaGUgZmlyc3QgY2hvcmUgdG8gY29tcGFyZVxuICogQHBhcmFtIGIgLSBUaGUgc2Vjb25kIGNob3JlIHRvIGNvbXBhcmVcbiAqIEBwYXJhbSBzaG91bGRUaHJvd09uSG9zdE1pc21hdGNoIC0gQ29udHJvbHMgZXJyb3IgYmVoYXZpb3IgZm9yIG1pc21hdGNoZWQgaG9zdHNcbiAqIEByZXR1cm5zIEEgbnVtYmVyIGluZGljYXRpbmcgdGhlIHJlbGF0aXZlIG9yZGVyIG9mIHRoZSBjaG9yZXMsIG9yIG51bGwgaWYgaW52YWxpZC4gQSBuZWdhdGl2ZVxuICogICBudW1iZXIgbWVhbnMgYGFgIHJ1bnMgYmVmb3JlIGBiYC5cbiAqL1xuZnVuY3Rpb24gY2hvcmVDb21wYXJhdG9yKGE6IENob3JlLCBiOiBDaG9yZSwgc2hvdWxkVGhyb3dPbkhvc3RNaXNtYXRjaDogdHJ1ZSk6IG51bWJlcjtcbmZ1bmN0aW9uIGNob3JlQ29tcGFyYXRvcihhOiBDaG9yZSwgYjogQ2hvcmUsIHNob3VsZFRocm93T25Ib3N0TWlzbWF0Y2g6IGZhbHNlKTogbnVtYmVyIHwgbnVsbDtcbmZ1bmN0aW9uIGNob3JlQ29tcGFyYXRvcihhOiBDaG9yZSwgYjogQ2hvcmUsIHNob3VsZFRocm93T25Ib3N0TWlzbWF0Y2g6IGJvb2xlYW4pOiBudW1iZXIgfCBudWxsIHtcbiAgY29uc3QgbWFjcm9UeXBlRGlmZiA9IChhLiR0eXBlJCAmIENob3JlVHlwZS5NQUNSTykgLSAoYi4kdHlwZSQgJiBDaG9yZVR5cGUuTUFDUk8pO1xuICBpZiAobWFjcm9UeXBlRGlmZiAhPT0gMCkge1xuICAgIHJldHVybiBtYWNyb1R5cGVEaWZmO1xuICB9XG5cbiAgLy8gSk9VUk5BTF9GTFVTSCBkb2VzIG5vdCBoYXZlIGEgaG9zdCBvciAkaWR4JCwgc28gd2UgY2FuJ3QgY29tcGFyZSBpdC5cbiAgaWYgKGEuJHR5cGUkICE9PSBDaG9yZVR5cGUuSk9VUk5BTF9GTFVTSCkge1xuICAgIGNvbnN0IGFIb3N0ID0gYS4kaG9zdCQ7XG4gICAgY29uc3QgYkhvc3QgPSBiLiRob3N0JDtcblxuICAgIC8vIFFSTF9SRVNPTFZFIGRvZXMgbm90IGhhdmUgYSBob3N0LlxuICAgIGlmIChhSG9zdCAhPT0gYkhvc3QgJiYgYUhvc3QgIT09IG51bGwgJiYgYkhvc3QgIT09IG51bGwpIHtcbiAgICAgIGlmICh2bm9kZV9pc1ZOb2RlKGFIb3N0KSAmJiB2bm9kZV9pc1ZOb2RlKGJIb3N0KSkge1xuICAgICAgICAvLyB3ZSBhcmUgcnVubmluZyBvbiB0aGUgY2xpZW50LlxuICAgICAgICBjb25zdCBob3N0RGlmZiA9IHZub2RlX2RvY3VtZW50UG9zaXRpb24oYUhvc3QsIGJIb3N0KTtcbiAgICAgICAgaWYgKGhvc3REaWZmICE9PSAwKSB7XG4gICAgICAgICAgcmV0dXJuIGhvc3REaWZmO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyB3ZSBhcmUgcnVubmluZyBvbiB0aGUgc2VydmVyLlxuICAgICAgICAvLyBPbiBzZXJ2ZXIgd2UgY2FuJ3Qgc2NoZWR1bGUgdGFzayBmb3IgYSBkaWZmZXJlbnQgaG9zdCFcbiAgICAgICAgLy8gU2VydmVyIGlzIFNTUiwgYW5kIHRoZXJlZm9yZSBzY2hlZHVsaW5nIGZvciBhbnl0aGluZyBidXQgdGhlIGN1cnJlbnQgaG9zdFxuICAgICAgICAvLyBpbXBsaWVzIHRoYXQgdGhpbmdzIG5lZWQgdG8gYmUgcmUtcnVuIG5hZCB0aGF0IGlzIG5vdCBzdXBwb3J0ZWQgYmVjYXVzZSBvZiBzdHJlYW1pbmcuXG4gICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9XG4gICAgICAgICAgJ1NFUlZFUjogZHVyaW5nIEhUTUwgc3RyZWFtaW5nLCBpdCBpcyBub3QgcG9zc2libGUgdG8gY2F1c2UgYSByZS1ydW4gb2YgdGFza3Mgb24gYSBkaWZmZXJlbnQgaG9zdCc7XG4gICAgICAgIGlmIChzaG91bGRUaHJvd09uSG9zdE1pc21hdGNoKSB7XG4gICAgICAgICAgdGhyb3dFcnJvckFuZFN0b3AoZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICBsb2dXYXJuKGVycm9yTWVzc2FnZSk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IG1pY3JvVHlwZURpZmYgPSAoYS4kdHlwZSQgJiBDaG9yZVR5cGUuTUlDUk8pIC0gKGIuJHR5cGUkICYgQ2hvcmVUeXBlLk1JQ1JPKTtcbiAgICBpZiAobWljcm9UeXBlRGlmZiAhPT0gMCkge1xuICAgICAgcmV0dXJuIG1pY3JvVHlwZURpZmY7XG4gICAgfVxuXG4gICAgY29uc3QgaWR4RGlmZiA9IHRvTnVtYmVyKGEuJGlkeCQpIC0gdG9OdW1iZXIoYi4kaWR4JCk7XG4gICAgaWYgKGlkeERpZmYgIT09IDApIHtcbiAgICAgIHJldHVybiBpZHhEaWZmO1xuICAgIH1cblxuICAgIC8vIElmIHRoZSBob3N0IGlzIHRoZSBzYW1lLCB3ZSBuZWVkIHRvIGNvbXBhcmUgdGhlIHRhcmdldC5cbiAgICBpZiAoXG4gICAgICBhLiR0YXJnZXQkICE9PSBiLiR0YXJnZXQkICYmXG4gICAgICAoKGEuJHR5cGUkID09PSBDaG9yZVR5cGUuUVJMX1JFU09MVkUgJiYgYi4kdHlwZSQgPT09IENob3JlVHlwZS5RUkxfUkVTT0xWRSkgfHxcbiAgICAgICAgKGEuJHR5cGUkID09PSBDaG9yZVR5cGUuTk9ERV9QUk9QICYmIGIuJHR5cGUkID09PSBDaG9yZVR5cGUuTk9ERV9QUk9QKSlcbiAgICApIHtcbiAgICAgIC8vIDEgbWVhbnMgdGhhdCB3ZSBhcmUgZ29pbmcgdG8gcHJvY2VzcyBjaG9yZXMgYXMgRklGT1xuICAgICAgcmV0dXJuIDE7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIDA7XG59XG5cbmZ1bmN0aW9uIHNvcnRlZEZpbmRJbmRleChzb3J0ZWRBcnJheTogQ2hvcmVbXSwgdmFsdWU6IENob3JlKTogbnVtYmVyIHtcbiAgLy8vIFdlIG5lZWQgdG8gZW5zdXJlIHRoYXQgdGhlIGBxdWV1ZWAgaXMgc29ydGVkIGJ5IHByaW9yaXR5LlxuICAvLy8gMS4gRmluZCBhIHBsYWNlIHdoZXJlIHRvIGluc2VydCBpbnRvLlxuICBsZXQgYm90dG9tID0gMDtcbiAgbGV0IHRvcCA9IHNvcnRlZEFycmF5Lmxlbmd0aDtcbiAgd2hpbGUgKGJvdHRvbSA8IHRvcCkge1xuICAgIGNvbnN0IG1pZGRsZSA9IGJvdHRvbSArICgodG9wIC0gYm90dG9tKSA+PiAxKTtcbiAgICBjb25zdCBtaWRDaG9yZSA9IHNvcnRlZEFycmF5W21pZGRsZV07XG4gICAgY29uc3QgY29tcCA9IGNob3JlQ29tcGFyYXRvcih2YWx1ZSwgbWlkQ2hvcmUsIHRydWUpO1xuICAgIGlmIChjb21wIDwgMCkge1xuICAgICAgdG9wID0gbWlkZGxlO1xuICAgIH0gZWxzZSBpZiAoY29tcCA+IDApIHtcbiAgICAgIGJvdHRvbSA9IG1pZGRsZSArIDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFdlIGFscmVhZHkgaGF2ZSB0aGUgaG9zdCBpbiB0aGUgcXVldWUuXG4gICAgICByZXR1cm4gbWlkZGxlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gfmJvdHRvbTtcbn1cblxuZnVuY3Rpb24gc29ydGVkSW5zZXJ0KHNvcnRlZEFycmF5OiBDaG9yZVtdLCB2YWx1ZTogQ2hvcmUpOiBDaG9yZSB7XG4gIC8vLyBXZSBuZWVkIHRvIGVuc3VyZSB0aGF0IHRoZSBgcXVldWVgIGlzIHNvcnRlZCBieSBwcmlvcml0eS5cbiAgLy8vIDEuIEZpbmQgYSBwbGFjZSB3aGVyZSB0byBpbnNlcnQgaW50by5cbiAgY29uc3QgaWR4ID0gc29ydGVkRmluZEluZGV4KHNvcnRlZEFycmF5LCB2YWx1ZSk7XG4gIGlmIChpZHggPCAwKSB7XG4gICAgLy8vIDIuIEluc2VydCB0aGUgY2hvcmUgaW50byB0aGUgcXVldWUuXG4gICAgc29ydGVkQXJyYXkuc3BsaWNlKH5pZHgsIDAsIHZhbHVlKTtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgY29uc3QgZXhpc3RpbmcgPSBzb3J0ZWRBcnJheVtpZHhdO1xuICBjaG9yZVVwZGF0ZShleGlzdGluZywgdmFsdWUpO1xuICByZXR1cm4gZXhpc3Rpbmc7XG59XG5cbmZ1bmN0aW9uIGRlYnVnQ2hvcmVUb1N0cmluZyhjaG9yZTogQ2hvcmUpOiBzdHJpbmcge1xuICBjb25zdCB0eXBlID1cbiAgICAoXG4gICAgICB7XG4gICAgICAgIFtDaG9yZVR5cGUuUVJMX1JFU09MVkVdOiAnUVJMX1JFU09MVkUnLFxuICAgICAgICBbQ2hvcmVUeXBlLlJFU09VUkNFXTogJ1JFU09VUkNFJyxcbiAgICAgICAgW0Nob3JlVHlwZS5UQVNLXTogJ1RBU0snLFxuICAgICAgICBbQ2hvcmVUeXBlLk5PREVfRElGRl06ICdOT0RFX0RJRkYnLFxuICAgICAgICBbQ2hvcmVUeXBlLk5PREVfUFJPUF06ICdOT0RFX1BST1AnLFxuICAgICAgICBbQ2hvcmVUeXBlLkNPTVBPTkVOVF06ICdDT01QT05FTlQnLFxuICAgICAgICBbQ2hvcmVUeXBlLkNPTVBPTkVOVF9TU1JdOiAnQ09NUE9ORU5UX1NTUicsXG4gICAgICAgIFtDaG9yZVR5cGUuSk9VUk5BTF9GTFVTSF06ICdKT1VSTkFMX0ZMVVNIJyxcbiAgICAgICAgW0Nob3JlVHlwZS5WSVNJQkxFXTogJ1ZJU0lCTEUnLFxuICAgICAgICBbQ2hvcmVUeXBlLkNMRUFOVVBfVklTSUJMRV06ICdDTEVBTlVQX1ZJU0lCTEUnLFxuICAgICAgICBbQ2hvcmVUeXBlLldBSVRfRk9SX0FMTF06ICdXQUlUX0ZPUl9BTEwnLFxuICAgICAgICBbQ2hvcmVUeXBlLldBSVRfRk9SX0NPTVBPTkVOVFNdOiAnV0FJVF9GT1JfQ09NUE9ORU5UUycsXG4gICAgICB9IGFzIGFueVxuICAgIClbY2hvcmUuJHR5cGUkXSB8fCAnVU5LTk9XTjogJyArIGNob3JlLiR0eXBlJDtcbiAgY29uc3QgaG9zdCA9IFN0cmluZyhjaG9yZS4kaG9zdCQpLnJlcGxhY2VBbGwoL1xcbi4qL2dpbSwgJycpO1xuICBjb25zdCBxcmxUYXJnZXQgPSAoY2hvcmUuJHRhcmdldCQgYXMgUVJMSW50ZXJuYWw8YW55Pik/LiRzeW1ib2wkO1xuICByZXR1cm4gYENob3JlKCR7dHlwZX0gJHtjaG9yZS4kdHlwZSQgPT09IENob3JlVHlwZS5RUkxfUkVTT0xWRSA/IHFybFRhcmdldCA6IGhvc3R9ICR7Y2hvcmUuJGlkeCR9KWA7XG59XG5cbmZ1bmN0aW9uIGRlYnVnVHJhY2UoXG4gIGFjdGlvbjogc3RyaW5nLFxuICBhcmc/OiBhbnkgfCBudWxsLFxuICBjdXJyZW50Q2hvcmU/OiBDaG9yZSB8IG51bGwsXG4gIHF1ZXVlPzogQ2hvcmVbXVxuKSB7XG4gIGNvbnN0IGxpbmVzID0gWydTY2hlZHVsZXI6ICcgKyBhY3Rpb25dO1xuICBpZiAoYXJnKSB7XG4gICAgbGluZXMucHVzaChcbiAgICAgICcgICAgYXJnOiAnICtcbiAgICAgICAgKCckdHlwZSQnIGluIGFyZyA/IGRlYnVnQ2hvcmVUb1N0cmluZyhhcmcgYXMgQ2hvcmUpIDogU3RyaW5nKGFyZykucmVwbGFjZUFsbCgvXFxuLiovZ2ltLCAnJykpXG4gICAgKTtcbiAgfVxuICBpZiAoY3VycmVudENob3JlKSB7XG4gICAgbGluZXMucHVzaCgncnVubmluZzogJyArIGRlYnVnQ2hvcmVUb1N0cmluZyhjdXJyZW50Q2hvcmUpKTtcbiAgfVxuICBpZiAocXVldWUpIHtcbiAgICBxdWV1ZS5mb3JFYWNoKChjaG9yZSwgaWR4KSA9PiB7XG4gICAgICBsaW5lcy5wdXNoKChpZHggPT0gMCA/ICcgIHF1ZXVlOiAnIDogJyAgICAgICAgICcpICsgZGVidWdDaG9yZVRvU3RyaW5nKGNob3JlKSk7XG4gICAgfSk7XG4gIH1cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgY29uc29sZS5sb2cobGluZXMuam9pbignXFxuICAnKSArICdcXG4nKTtcbn1cbiJdfQ==","import { assertDefined } from '../shared/error/assert';\nimport { getInvokeContext } from './use-core';\nimport { assertQrl } from '../shared/qrl/qrl-class';\nimport { _getQContainerElement, getDomContainer } from '../client/dom-container';\n// <docs markdown=\"../readme.md#useLexicalScope\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useLexicalScope instead)\n/**\n * Used by the Qwik Optimizer to restore the lexically scoped variables.\n *\n * This method should not be present in the application source code.\n *\n * NOTE: `useLexicalScope` method can only be used in the synchronous portion of the callback\n * (before any `await` statements.)\n *\n * @internal\n */\n// </docs>\nexport const useLexicalScope = () => {\n    const context = getInvokeContext();\n    let qrl = context.$qrl$;\n    if (!qrl) {\n        const el = context.$element$;\n        assertDefined(el, 'invoke: element must be defined inside useLexicalScope()', context);\n        const containerElement = _getQContainerElement(el);\n        assertDefined(containerElement, `invoke: cant find parent q:container of`, el);\n        const container = getDomContainer(containerElement);\n        qrl = container.parseQRL(decodeURIComponent(String(context.$url$)));\n    }\n    else {\n        assertQrl(qrl);\n        assertDefined(qrl.$captureRef$, 'invoke: qrl $captureRef$ must be defined inside useLexicalScope()', qrl);\n    }\n    return qrl.$captureRef$;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLWxleGljYWwtc2NvcGUucHVibGljLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3VzZS91c2UtbGV4aWNhbC1zY29wZS5wdWJsaWMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLHdCQUF3QixDQUFDO0FBQ3ZELE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLFlBQVksQ0FBQztBQUM5QyxPQUFPLEVBQUUsU0FBUyxFQUFvQixNQUFNLHlCQUF5QixDQUFDO0FBQ3RFLE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxlQUFlLEVBQUUsTUFBTSx5QkFBeUIsQ0FBQztBQUVqRixpREFBaUQ7QUFDakQseUNBQXlDO0FBQ3pDLDhDQUE4QztBQUM5Qzs7Ozs7Ozs7O0dBU0c7QUFDSCxVQUFVO0FBQ1YsTUFBTSxDQUFDLE1BQU0sZUFBZSxHQUFHLEdBQTZCLEVBQUU7SUFDNUQsTUFBTSxPQUFPLEdBQUcsZ0JBQWdCLEVBQUUsQ0FBQztJQUNuQyxJQUFJLEdBQUcsR0FBRyxPQUFPLENBQUMsS0FBeUMsQ0FBQztJQUM1RCxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUM7UUFDVCxNQUFNLEVBQUUsR0FBRyxPQUFPLENBQUMsU0FBUyxDQUFDO1FBQzdCLGFBQWEsQ0FBQyxFQUFFLEVBQUUsMERBQTBELEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDdkYsTUFBTSxnQkFBZ0IsR0FBRyxxQkFBcUIsQ0FBQyxFQUFFLENBQWdCLENBQUM7UUFDbEUsYUFBYSxDQUFDLGdCQUFnQixFQUFFLHlDQUF5QyxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBQy9FLE1BQU0sU0FBUyxHQUFHLGVBQWUsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO1FBQ3BELEdBQUcsR0FBRyxTQUFTLENBQUMsUUFBUSxDQUFDLGtCQUFrQixDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBeUIsQ0FBQztJQUM5RixDQUFDO1NBQU0sQ0FBQztRQUNOLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNmLGFBQWEsQ0FDWCxHQUFHLENBQUMsWUFBWSxFQUNoQixtRUFBbUUsRUFDbkUsR0FBRyxDQUNKLENBQUM7SUFDSixDQUFDO0lBQ0QsT0FBTyxHQUFJLENBQUMsWUFBb0IsQ0FBQztBQUNuQyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhc3NlcnREZWZpbmVkIH0gZnJvbSAnLi4vc2hhcmVkL2Vycm9yL2Fzc2VydCc7XG5pbXBvcnQgeyBnZXRJbnZva2VDb250ZXh0IH0gZnJvbSAnLi91c2UtY29yZSc7XG5pbXBvcnQgeyBhc3NlcnRRcmwsIHR5cGUgUVJMSW50ZXJuYWwgfSBmcm9tICcuLi9zaGFyZWQvcXJsL3FybC1jbGFzcyc7XG5pbXBvcnQgeyBfZ2V0UUNvbnRhaW5lckVsZW1lbnQsIGdldERvbUNvbnRhaW5lciB9IGZyb20gJy4uL2NsaWVudC9kb20tY29udGFpbmVyJztcblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi9yZWFkbWUubWQjdXNlTGV4aWNhbFNjb3BlXCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi4vcmVhZG1lLm1kI3VzZUxleGljYWxTY29wZSBpbnN0ZWFkKVxuLyoqXG4gKiBVc2VkIGJ5IHRoZSBRd2lrIE9wdGltaXplciB0byByZXN0b3JlIHRoZSBsZXhpY2FsbHkgc2NvcGVkIHZhcmlhYmxlcy5cbiAqXG4gKiBUaGlzIG1ldGhvZCBzaG91bGQgbm90IGJlIHByZXNlbnQgaW4gdGhlIGFwcGxpY2F0aW9uIHNvdXJjZSBjb2RlLlxuICpcbiAqIE5PVEU6IGB1c2VMZXhpY2FsU2NvcGVgIG1ldGhvZCBjYW4gb25seSBiZSB1c2VkIGluIHRoZSBzeW5jaHJvbm91cyBwb3J0aW9uIG9mIHRoZSBjYWxsYmFja1xuICogKGJlZm9yZSBhbnkgYGF3YWl0YCBzdGF0ZW1lbnRzLilcbiAqXG4gKiBAaW50ZXJuYWxcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGNvbnN0IHVzZUxleGljYWxTY29wZSA9IDxWQVJTIGV4dGVuZHMgYW55W10+KCk6IFZBUlMgPT4ge1xuICBjb25zdCBjb250ZXh0ID0gZ2V0SW52b2tlQ29udGV4dCgpO1xuICBsZXQgcXJsID0gY29udGV4dC4kcXJsJCBhcyBRUkxJbnRlcm5hbDx1bmtub3duPiB8IHVuZGVmaW5lZDtcbiAgaWYgKCFxcmwpIHtcbiAgICBjb25zdCBlbCA9IGNvbnRleHQuJGVsZW1lbnQkO1xuICAgIGFzc2VydERlZmluZWQoZWwsICdpbnZva2U6IGVsZW1lbnQgbXVzdCBiZSBkZWZpbmVkIGluc2lkZSB1c2VMZXhpY2FsU2NvcGUoKScsIGNvbnRleHQpO1xuICAgIGNvbnN0IGNvbnRhaW5lckVsZW1lbnQgPSBfZ2V0UUNvbnRhaW5lckVsZW1lbnQoZWwpIGFzIEhUTUxFbGVtZW50O1xuICAgIGFzc2VydERlZmluZWQoY29udGFpbmVyRWxlbWVudCwgYGludm9rZTogY2FudCBmaW5kIHBhcmVudCBxOmNvbnRhaW5lciBvZmAsIGVsKTtcbiAgICBjb25zdCBjb250YWluZXIgPSBnZXREb21Db250YWluZXIoY29udGFpbmVyRWxlbWVudCk7XG4gICAgcXJsID0gY29udGFpbmVyLnBhcnNlUVJMKGRlY29kZVVSSUNvbXBvbmVudChTdHJpbmcoY29udGV4dC4kdXJsJCkpKSBhcyBRUkxJbnRlcm5hbDx1bmtub3duPjtcbiAgfSBlbHNlIHtcbiAgICBhc3NlcnRRcmwocXJsKTtcbiAgICBhc3NlcnREZWZpbmVkKFxuICAgICAgcXJsLiRjYXB0dXJlUmVmJCxcbiAgICAgICdpbnZva2U6IHFybCAkY2FwdHVyZVJlZiQgbXVzdCBiZSBkZWZpbmVkIGluc2lkZSB1c2VMZXhpY2FsU2NvcGUoKScsXG4gICAgICBxcmxcbiAgICApO1xuICB9XG4gIHJldHVybiBxcmwhLiRjYXB0dXJlUmVmJCBhcyBWQVJTO1xufTtcbiJdfQ==","import { getDomContainer } from '../client/dom-container';\nimport { isServerPlatform } from '../shared/platform/platform';\nimport { assertQrl, createQRL } from '../shared/qrl/qrl-class';\nimport { ChoreType } from '../shared/scheduler';\nimport {} from '../shared/types';\nimport { logError } from '../shared/utils/log';\nimport { TaskEvent } from '../shared/utils/markers';\nimport { isPromise, safeCall } from '../shared/utils/promises';\nimport { noSerialize } from '../shared/utils/serialize-utils';\nimport { isFunction } from '../shared/utils/types';\nimport { EffectProperty, isSignal } from '../signal/signal';\nimport { Subscriber, clearSubscriberEffectDependencies } from '../signal/signal-subscriber';\nimport {} from '../signal/signal.public';\nimport { invoke, newInvokeContext } from './use-core';\nimport { useLexicalScope } from './use-lexical-scope.public';\nimport { useOn, useOnDocument } from './use-on';\nimport { useSequentialScope } from './use-sequential-scope';\nexport var TaskFlags;\n(function (TaskFlags) {\n    TaskFlags[TaskFlags[\"VISIBLE_TASK\"] = 1] = \"VISIBLE_TASK\";\n    TaskFlags[TaskFlags[\"TASK\"] = 2] = \"TASK\";\n    TaskFlags[TaskFlags[\"RESOURCE\"] = 4] = \"RESOURCE\";\n    TaskFlags[TaskFlags[\"DIRTY\"] = 8] = \"DIRTY\";\n})(TaskFlags || (TaskFlags = {}));\n// <docs markdown=\"../readme.md#useTask\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useTask instead)\n/**\n * Reruns the `taskFn` when the observed inputs change.\n *\n * Use `useTask` to observe changes on a set of inputs, and then re-execute the `taskFn` when those\n * inputs change.\n *\n * The `taskFn` only executes if the observed inputs change. To observe the inputs, use the `obs`\n * function to wrap property reads. This creates subscriptions that will trigger the `taskFn` to\n * rerun.\n *\n * @param task - Function which should be re-executed when changes to the inputs are detected\n * @public\n *\n * ### Example\n *\n * The `useTask` function is used to observe the `store.count` property. Any changes to the\n * `store.count` cause the `taskFn` to execute which in turn updates the `store.doubleCount` to\n * the double of `store.count`.\n *\n * ```tsx\n * const Cmp = component$(() => {\n *   const store = useStore({\n *     count: 0,\n *     doubleCount: 0,\n *     debounced: 0,\n *   });\n *\n *   // Double count task\n *   useTask$(({ track }) => {\n *     const count = track(() => store.count);\n *     store.doubleCount = 2 * count;\n *   });\n *\n *   // Debouncer task\n *   useTask$(({ track }) => {\n *     const doubleCount = track(() => store.doubleCount);\n *     const timer = setTimeout(() => {\n *       store.debounced = doubleCount;\n *     }, 2000);\n *     return () => {\n *       clearTimeout(timer);\n *     };\n *   });\n *   return (\n *     <div>\n *       <div>\n *         {store.count} / {store.doubleCount}\n *       </div>\n *       <div>{store.debounced}</div>\n *     </div>\n *   );\n * });\n * ```\n *\n * @public\n * @see `Tracker`\n */\n// </docs>\nexport const useTaskQrl = (qrl, opts) => {\n    const { val, set, iCtx, i } = useSequentialScope();\n    if (val) {\n        return;\n    }\n    assertQrl(qrl);\n    set(1);\n    const host = iCtx.$hostElement$;\n    const task = new Task(TaskFlags.DIRTY | TaskFlags.TASK, i, iCtx.$hostElement$, qrl, undefined, null);\n    // In V2 we add the task to the sequential scope. We need to do this\n    // in order to be able to retrieve it later when the parent element is\n    // deleted and we need to be able to release the task subscriptions.\n    set(task);\n    const result = runTask(task, iCtx.$container$, host);\n    if (isPromise(result)) {\n        throw result;\n    }\n    qrl.$resolveLazy$(iCtx.$element$);\n    if (isServerPlatform()) {\n        useRunTask(task, opts?.eagerness);\n    }\n};\nexport const runTask = (task, container, host) => {\n    task.$flags$ &= ~TaskFlags.DIRTY;\n    cleanupTask(task);\n    const iCtx = newInvokeContext(container.$locale$, host, undefined, TaskEvent);\n    iCtx.$container$ = container;\n    const taskFn = task.$qrl$.getFn(iCtx, () => clearSubscriberEffectDependencies(task));\n    const track = (obj, prop) => {\n        const ctx = newInvokeContext();\n        ctx.$effectSubscriber$ = [task, EffectProperty.COMPONENT];\n        ctx.$container$ = container;\n        return invoke(ctx, () => {\n            if (isFunction(obj)) {\n                return obj();\n            }\n            if (prop) {\n                return obj[prop];\n            }\n            else if (isSignal(obj)) {\n                return obj.value;\n            }\n            else {\n                return obj;\n            }\n        });\n    };\n    const handleError = (reason) => container.handleError(reason, host);\n    let cleanupFns = null;\n    const cleanup = (fn) => {\n        if (typeof fn == 'function') {\n            if (!cleanupFns) {\n                cleanupFns = [];\n                task.$destroy$ = noSerialize(() => {\n                    task.$destroy$ = null;\n                    cleanupFns.forEach((fn) => {\n                        try {\n                            fn();\n                        }\n                        catch (err) {\n                            handleError(err);\n                        }\n                    });\n                });\n            }\n            cleanupFns.push(fn);\n        }\n    };\n    const taskApi = { track, cleanup };\n    const result = safeCall(() => taskFn(taskApi), cleanup, (err) => {\n        if (isPromise(err)) {\n            return err.then(() => runTask(task, container, host));\n        }\n        else {\n            return handleError(err);\n        }\n    });\n    return result;\n};\nexport const cleanupTask = (task) => {\n    const destroy = task.$destroy$;\n    if (destroy) {\n        task.$destroy$ = null;\n        try {\n            destroy();\n        }\n        catch (err) {\n            logError(err);\n        }\n    }\n};\nexport const useRunTask = (task, eagerness) => {\n    if (eagerness === 'visible' || eagerness === 'intersection-observer') {\n        useOn('qvisible', getTaskHandlerQrl(task));\n    }\n    else if (eagerness === 'load' || eagerness === 'document-ready') {\n        useOnDocument('qinit', getTaskHandlerQrl(task));\n    }\n    else if (eagerness === 'idle' || eagerness === 'document-idle') {\n        useOnDocument('qidle', getTaskHandlerQrl(task));\n    }\n};\nconst getTaskHandlerQrl = (task) => {\n    const taskQrl = task.$qrl$;\n    const taskHandler = createQRL(taskQrl.$chunk$, '_hW', _hW, null, null, [task], taskQrl.$symbol$);\n    // Needed for chunk lookup in dev mode\n    if (taskQrl.dev) {\n        taskHandler.dev = taskQrl.dev;\n    }\n    return taskHandler;\n};\nexport class Task extends Subscriber {\n    constructor($flags$, $index$, $el$, $qrl$, $state$, $destroy$) {\n        super();\n        this.$flags$ = $flags$;\n        this.$index$ = $index$;\n        this.$el$ = $el$;\n        this.$qrl$ = $qrl$;\n        this.$state$ = $state$;\n        this.$destroy$ = $destroy$;\n    }\n}\nexport const isTask = (value) => {\n    return value instanceof Task;\n};\n/**\n * Low-level API used by the Optimizer to process `useTask$()` API. This method is not intended to\n * be used by developers.\n *\n * @internal\n */\nexport const _hW = () => {\n    const [task] = useLexicalScope();\n    const container = getDomContainer(task.$el$);\n    const type = task.$flags$ & TaskFlags.VISIBLE_TASK ? ChoreType.VISIBLE : ChoreType.TASK;\n    container.$scheduler$(type, task);\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLXRhc2suanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvdXNlL3VzZS10YXNrLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSx5QkFBeUIsQ0FBQztBQUUxRCxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSw2QkFBNkIsQ0FBQztBQUMvRCxPQUFPLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBb0IsTUFBTSx5QkFBeUIsQ0FBQztBQUVqRixPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFDaEQsT0FBTyxFQUFvQyxNQUFNLGlCQUFpQixDQUFDO0FBQ25FLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUMvQyxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0seUJBQXlCLENBQUM7QUFDcEQsT0FBTyxFQUFFLFNBQVMsRUFBRSxRQUFRLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQztBQUMvRCxPQUFPLEVBQUUsV0FBVyxFQUFvQixNQUFNLGlDQUFpQyxDQUFDO0FBQ2hGLE9BQU8sRUFBRSxVQUFVLEVBQXVCLE1BQU0sdUJBQXVCLENBQUM7QUFDeEUsT0FBTyxFQUFFLGNBQWMsRUFBRSxRQUFRLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUM1RCxPQUFPLEVBQUUsVUFBVSxFQUFFLGlDQUFpQyxFQUFFLE1BQU0sNkJBQTZCLENBQUM7QUFDNUYsT0FBTyxFQUFlLE1BQU0seUJBQXlCLENBQUM7QUFDdEQsT0FBTyxFQUFFLE1BQU0sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLFlBQVksQ0FBQztBQUN0RCxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sNEJBQTRCLENBQUM7QUFDN0QsT0FBTyxFQUFFLEtBQUssRUFBRSxhQUFhLEVBQUUsTUFBTSxVQUFVLENBQUM7QUFFaEQsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0sd0JBQXdC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QUFpQixFQUFFO0lBQ2xELE9BQU8sS0FBSyxZQUFZLElBQUksQ0FBQztBQUMvQixDQUFDLENBQUM7QUFFRjs7Ozs7R0FLRztBQUNILE1BQU0sQ0FBQyxNQUFNLEdBQUcsR0FBRyxHQUFHLEVBQUU7SUFDdEIsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLGVBQWUsRUFBVSxDQUFDO0lBQ3pDLE1BQU0sU0FBUyxHQUFHLGVBQWUsQ0FBQyxJQUFJLENBQUMsSUFBYSxDQUFDLENBQUM7SUFDdEQsTUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLE9BQU8sR0FBRyxTQUFTLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDO0lBQ3hGLFNBQVMsQ0FBQyxXQUFXLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQ3BDLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldERvbUNvbnRhaW5lciB9IGZyb20gJy4uL2NsaWVudC9kb20tY29udGFpbmVyJztcbmltcG9ydCB0eXBlIHsgVk5vZGUgfSBmcm9tICcuLi9jbGllbnQvdHlwZXMnO1xuaW1wb3J0IHsgaXNTZXJ2ZXJQbGF0Zm9ybSB9IGZyb20gJy4uL3NoYXJlZC9wbGF0Zm9ybS9wbGF0Zm9ybSc7XG5pbXBvcnQgeyBhc3NlcnRRcmwsIGNyZWF0ZVFSTCwgdHlwZSBRUkxJbnRlcm5hbCB9IGZyb20gJy4uL3NoYXJlZC9xcmwvcXJsLWNsYXNzJztcbmltcG9ydCB0eXBlIHsgUVJMIH0gZnJvbSAnLi4vc2hhcmVkL3FybC9xcmwucHVibGljJztcbmltcG9ydCB7IENob3JlVHlwZSB9IGZyb20gJy4uL3NoYXJlZC9zY2hlZHVsZXInO1xuaW1wb3J0IHsgdHlwZSBDb250YWluZXIsIHR5cGUgSG9zdEVsZW1lbnQgfSBmcm9tICcuLi9zaGFyZWQvdHlwZXMnO1xuaW1wb3J0IHsgbG9nRXJyb3IgfSBmcm9tICcuLi9zaGFyZWQvdXRpbHMvbG9nJztcbmltcG9ydCB7IFRhc2tFdmVudCB9IGZyb20gJy4uL3NoYXJlZC91dGlscy9tYXJrZXJzJztcbmltcG9ydCB7IGlzUHJvbWlzZSwgc2FmZUNhbGwgfSBmcm9tICcuLi9zaGFyZWQvdXRpbHMvcHJvbWlzZXMnO1xuaW1wb3J0IHsgbm9TZXJpYWxpemUsIHR5cGUgTm9TZXJpYWxpemUgfSBmcm9tICcuLi9zaGFyZWQvdXRpbHMvc2VyaWFsaXplLXV0aWxzJztcbmltcG9ydCB7IGlzRnVuY3Rpb24sIHR5cGUgVmFsdWVPclByb21pc2UgfSBmcm9tICcuLi9zaGFyZWQvdXRpbHMvdHlwZXMnO1xuaW1wb3J0IHsgRWZmZWN0UHJvcGVydHksIGlzU2lnbmFsIH0gZnJvbSAnLi4vc2lnbmFsL3NpZ25hbCc7XG5pbXBvcnQgeyBTdWJzY3JpYmVyLCBjbGVhclN1YnNjcmliZXJFZmZlY3REZXBlbmRlbmNpZXMgfSBmcm9tICcuLi9zaWduYWwvc2lnbmFsLXN1YnNjcmliZXInO1xuaW1wb3J0IHsgdHlwZSBTaWduYWwgfSBmcm9tICcuLi9zaWduYWwvc2lnbmFsLnB1YmxpYyc7XG5pbXBvcnQgeyBpbnZva2UsIG5ld0ludm9rZUNvbnRleHQgfSBmcm9tICcuL3VzZS1jb3JlJztcbmltcG9ydCB7IHVzZUxleGljYWxTY29wZSB9IGZyb20gJy4vdXNlLWxleGljYWwtc2NvcGUucHVibGljJztcbmltcG9ydCB7IHVzZU9uLCB1c2VPbkRvY3VtZW50IH0gZnJvbSAnLi91c2Utb24nO1xuaW1wb3J0IHR5cGUgeyBSZXNvdXJjZVJldHVybkludGVybmFsIH0gZnJvbSAnLi91c2UtcmVzb3VyY2UnO1xuaW1wb3J0IHsgdXNlU2VxdWVudGlhbFNjb3BlIH0gZnJvbSAnLi91c2Utc2VxdWVudGlhbC1zY29wZSc7XG5pbXBvcnQgdHlwZSB7IFZpc2libGVUYXNrU3RyYXRlZ3kgfSBmcm9tICcuL3VzZS12aXNpYmxlLXRhc2snO1xuXG5leHBvcnQgY29uc3QgZW51bSBUYXNrRmxhZ3Mge1xuICBWSVNJQkxFX1RBU0sgPSAxIDw8IDAsXG4gIFRBU0sgPSAxIDw8IDEsXG4gIFJFU09VUkNFID0gMSA8PCAyLFxuICBESVJUWSA9IDEgPDwgMyxcbn1cblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi9yZWFkbWUubWQjVHJhY2tlclwiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IC4uL3JlYWRtZS5tZCNUcmFja2VyIGluc3RlYWQpXG4vKipcbiAqIFVzZWQgdG8gc2lnbmFsIHRvIFF3aWsgd2hpY2ggc3RhdGUgc2hvdWxkIGJlIHdhdGNoZWQgZm9yIGNoYW5nZXMuXG4gKlxuICogVGhlIGBUcmFja2VyYCBpcyBwYXNzZWQgaW50byB0aGUgYHRhc2tGbmAgb2YgYHVzZVRhc2tgLiBJdCBpcyBpbnRlbmRlZCB0byBiZSB1c2VkIHRvIHdyYXAgc3RhdGVcbiAqIG9iamVjdHMgaW4gYSByZWFkIHByb3h5IHdoaWNoIHNpZ25hbHMgdG8gUXdpayB3aGljaCBwcm9wZXJ0aWVzIHNob3VsZCBiZSB3YXRjaGVkIGZvciBjaGFuZ2VzLiBBXG4gKiBjaGFuZ2UgdG8gYW55IG9mIHRoZSBwcm9wZXJ0aWVzIGNhdXNlcyB0aGUgYHRhc2tGbmAgdG8gcmVydW4uXG4gKlxuICogIyMjIEV4YW1wbGVcbiAqXG4gKiBUaGUgYG9ic2AgcGFzc2VkIGludG8gdGhlIGB0YXNrRm5gIGlzIHVzZWQgdG8gbWFyayBgc3RhdGUuY291bnRgIGFzIGEgcHJvcGVydHkgb2YgaW50ZXJlc3QuIEFueVxuICogY2hhbmdlcyB0byB0aGUgYHN0YXRlLmNvdW50YCBwcm9wZXJ0eSB3aWxsIGNhdXNlIHRoZSBgdGFza0ZuYCB0byByZXJ1bi5cbiAqXG4gKiBgYGB0c3hcbiAqIGNvbnN0IENtcCA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICogICBjb25zdCBzdG9yZSA9IHVzZVN0b3JlKHsgY291bnQ6IDAsIGRvdWJsZUNvdW50OiAwIH0pO1xuICogICBjb25zdCBzaWduYWwgPSB1c2VTaWduYWwoMCk7XG4gKiAgIHVzZVRhc2skKCh7IHRyYWNrIH0pID0+IHtcbiAqICAgICAvLyBBbnkgc2lnbmFscyBvciBzdG9yZXMgYWNjZXNzZWQgaW5zaWRlIHRoZSB0YXNrIHdpbGwgYmUgdHJhY2tlZFxuICogICAgIGNvbnN0IGNvdW50ID0gdHJhY2soKCkgPT4gc3RvcmUuY291bnQpO1xuICogICAgIC8vIFlvdSBjYW4gYWxzbyBwYXNzIGEgc2lnbmFsIHRvIHRyYWNrKCkgZGlyZWN0bHlcbiAqICAgICBjb25zdCBzaWduYWxDb3VudCA9IHRyYWNrKHNpZ25hbCk7XG4gKiAgICAgc3RvcmUuZG91YmxlQ291bnQgPSBjb3VudCArIHNpZ25hbENvdW50O1xuICogICB9KTtcbiAqICAgcmV0dXJuIChcbiAqICAgICA8ZGl2PlxuICogICAgICAgPHNwYW4+XG4gKiAgICAgICAgIHtzdG9yZS5jb3VudH0gLyB7c3RvcmUuZG91YmxlQ291bnR9XG4gKiAgICAgICA8L3NwYW4+XG4gKiAgICAgICA8YnV0dG9uXG4gKiAgICAgICAgIG9uQ2xpY2skPXsoKSA9PiB7XG4gKiAgICAgICAgICAgc3RvcmUuY291bnQrKztcbiAqICAgICAgICAgICBzaWduYWwudmFsdWUrKztcbiAqICAgICAgICAgfX1cbiAqICAgICAgID5cbiAqICAgICAgICAgK1xuICogICAgICAgPC9idXR0b24+XG4gKiAgICAgPC9kaXY+XG4gKiAgICk7XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBwdWJsaWNcbiAqIEBzZWUgYHVzZVRhc2tgXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBpbnRlcmZhY2UgVHJhY2tlciB7XG4gIC8qKlxuICAgKiBJbmNsdWRlIHRoZSBleHByZXNzaW9uIHVzaW5nIHN0b3JlcyAvIHNpZ25hbHMgdG8gdHJhY2s6XG4gICAqXG4gICAqIGBgYHRzeFxuICAgKiB0cmFjaygoKSA9PiBzdG9yZS5jb3VudCk7XG4gICAqIGBgYFxuICAgKlxuICAgKiBUaGUgYHRyYWNrKClgIGZ1bmN0aW9uIGFsc28gcmV0dXJucyB0aGUgdmFsdWUgb2YgdGhlIHNjb3BlZCBleHByZXNzaW9uOlxuICAgKlxuICAgKiBgYGB0c3hcbiAgICogY29uc3QgY291bnQgPSB0cmFjaygoKSA9PiBzdG9yZS5jb3VudCk7XG4gICAqIGBgYFxuICAgKi9cbiAgPFQ+KGZuOiAoKSA9PiBUKTogVDtcblxuICAvKipcbiAgICogVXNlZCB0byB0cmFjayB0aGUgd2hvbGUgb2JqZWN0LiBJZiBhbnkgcHJvcGVydHkgb2YgdGhlIHBhc3NlZCBzdG9yZSBjaGFuZ2VzLCB0aGUgdGFzayB3aWxsIGJlXG4gICAqIHNjaGVkdWxlZCB0byBydW4uIEFsc28gYWNjZXB0cyBzaWduYWxzLlxuICAgKlxuICAgKiBOb3RlIHRoYXQgdGhlIGNoYW5nZSB0cmFja2luZyBpcyBub3QgZGVlcC4gSWYgeW91IHdhbnQgdG8gdHJhY2sgY2hhbmdlcyB0byBuZXN0ZWQgcHJvcGVydGllcyxcbiAgICogeW91IG5lZWQgdG8gdXNlIGB0cmFja2Agb24gZWFjaCBvZiB0aGVtLlxuICAgKlxuICAgKiBgYGB0c3hcbiAgICogdHJhY2soc3RvcmUpOyAvLyByZXR1cm5zIHN0b3JlXG4gICAqIHRyYWNrKHNpZ25hbCk7IC8vIHJldHVybnMgc2lnbmFsLnZhbHVlXG4gICAqIGBgYFxuICAgKi9cbiAgPFQgZXh0ZW5kcyBvYmplY3Q+KG9iajogVCk6IFQgZXh0ZW5kcyBTaWduYWw8aW5mZXIgVT4gPyBVIDogVDtcblxuICAvKipcbiAgICogVXNlZCB0byB0cmFjayB0byB0cmFjayBhIHNwZWNpZmljIHByb3BlcnR5IG9mIGFuIG9iamVjdC5cbiAgICpcbiAgICogTm90ZSB0aGF0IHRoZSBjaGFuZ2UgdHJhY2tpbmcgaXMgbm90IGRlZXAuIElmIHlvdSB3YW50IHRvIHRyYWNrIGNoYW5nZXMgdG8gbmVzdGVkIHByb3BlcnRpZXMsXG4gICAqIHlvdSBuZWVkIHRvIHVzZSBgdHJhY2tgIG9uIGVhY2ggb2YgdGhlbS5cbiAgICpcbiAgICogYGBgdHN4XG4gICAqIHRyYWNrKHN0b3JlLCAncHJvcEEnKTsgLy8gcmV0dXJucyBzdG9yZS5wcm9wQVxuICAgKiBgYGBcbiAgICovXG4gIDxUIGV4dGVuZHMgb2JqZWN0LCBQIGV4dGVuZHMga2V5b2YgVD4ob2JqOiBULCBwcm9wOiBQKTogVFtQXTtcbn1cblxuLyoqIEBwdWJsaWMgKi9cbmV4cG9ydCBpbnRlcmZhY2UgVGFza0N0eCB7XG4gIHRyYWNrOiBUcmFja2VyO1xuICBjbGVhbnVwKGNhbGxiYWNrOiAoKSA9PiB2b2lkKTogdm9pZDtcbn1cblxuLyoqIEBwdWJsaWMgKi9cbmV4cG9ydCB0eXBlIFRhc2tGbiA9IChjdHg6IFRhc2tDdHgpID0+IFZhbHVlT3JQcm9taXNlPHZvaWQgfCAoKCkgPT4gdm9pZCk+O1xuXG4vKiogQHB1YmxpYyAqL1xuZXhwb3J0IGludGVyZmFjZSBEZXNjcmlwdG9yQmFzZTxUID0gdW5rbm93biwgQiA9IHVua25vd24+IGV4dGVuZHMgU3Vic2NyaWJlciB7XG4gICRmbGFncyQ6IG51bWJlcjtcbiAgJGluZGV4JDogbnVtYmVyO1xuICAkZWwkOiBIb3N0RWxlbWVudDtcbiAgJHFybCQ6IFFSTEludGVybmFsPFQ+O1xuICAkc3RhdGUkOiBCIHwgdW5kZWZpbmVkO1xuICAkZGVzdHJveSQ6IE5vU2VyaWFsaXplPCgpID0+IHZvaWQ+IHwgbnVsbDtcbn1cblxuLyoqIEBwdWJsaWMgKi9cbmV4cG9ydCB0eXBlIEVhZ2VybmVzc09wdGlvbnMgPSAndmlzaWJsZScgfCAnbG9hZCcgfCAnaWRsZSc7XG5cbi8qKiBAcHVibGljICovXG5leHBvcnQgaW50ZXJmYWNlIFVzZVRhc2tPcHRpb25zIHtcbiAgLyoqXG4gICAqIC0gYHZpc2libGVgOiBydW4gdGhlIGVmZmVjdCB3aGVuIHRoZSBlbGVtZW50IGlzIHZpc2libGUuXG4gICAqIC0gYGxvYWRgOiBlYWdlcmx5IHJ1biB0aGUgZWZmZWN0IHdoZW4gdGhlIGFwcGxpY2F0aW9uIHJlc3VtZXMuXG4gICAqL1xuICBlYWdlcm5lc3M/OiBFYWdlcm5lc3NPcHRpb25zO1xufVxuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4uL3JlYWRtZS5tZCN1c2VUYXNrXCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi4vcmVhZG1lLm1kI3VzZVRhc2sgaW5zdGVhZClcbi8qKlxuICogUmVydW5zIHRoZSBgdGFza0ZuYCB3aGVuIHRoZSBvYnNlcnZlZCBpbnB1dHMgY2hhbmdlLlxuICpcbiAqIFVzZSBgdXNlVGFza2AgdG8gb2JzZXJ2ZSBjaGFuZ2VzIG9uIGEgc2V0IG9mIGlucHV0cywgYW5kIHRoZW4gcmUtZXhlY3V0ZSB0aGUgYHRhc2tGbmAgd2hlbiB0aG9zZVxuICogaW5wdXRzIGNoYW5nZS5cbiAqXG4gKiBUaGUgYHRhc2tGbmAgb25seSBleGVjdXRlcyBpZiB0aGUgb2JzZXJ2ZWQgaW5wdXRzIGNoYW5nZS4gVG8gb2JzZXJ2ZSB0aGUgaW5wdXRzLCB1c2UgdGhlIGBvYnNgXG4gKiBmdW5jdGlvbiB0byB3cmFwIHByb3BlcnR5IHJlYWRzLiBUaGlzIGNyZWF0ZXMgc3Vic2NyaXB0aW9ucyB0aGF0IHdpbGwgdHJpZ2dlciB0aGUgYHRhc2tGbmAgdG9cbiAqIHJlcnVuLlxuICpcbiAqIEBwYXJhbSB0YXNrIC0gRnVuY3Rpb24gd2hpY2ggc2hvdWxkIGJlIHJlLWV4ZWN1dGVkIHdoZW4gY2hhbmdlcyB0byB0aGUgaW5wdXRzIGFyZSBkZXRlY3RlZFxuICogQHB1YmxpY1xuICpcbiAqICMjIyBFeGFtcGxlXG4gKlxuICogVGhlIGB1c2VUYXNrYCBmdW5jdGlvbiBpcyB1c2VkIHRvIG9ic2VydmUgdGhlIGBzdG9yZS5jb3VudGAgcHJvcGVydHkuIEFueSBjaGFuZ2VzIHRvIHRoZVxuICogYHN0b3JlLmNvdW50YCBjYXVzZSB0aGUgYHRhc2tGbmAgdG8gZXhlY3V0ZSB3aGljaCBpbiB0dXJuIHVwZGF0ZXMgdGhlIGBzdG9yZS5kb3VibGVDb3VudGAgdG9cbiAqIHRoZSBkb3VibGUgb2YgYHN0b3JlLmNvdW50YC5cbiAqXG4gKiBgYGB0c3hcbiAqIGNvbnN0IENtcCA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICogICBjb25zdCBzdG9yZSA9IHVzZVN0b3JlKHtcbiAqICAgICBjb3VudDogMCxcbiAqICAgICBkb3VibGVDb3VudDogMCxcbiAqICAgICBkZWJvdW5jZWQ6IDAsXG4gKiAgIH0pO1xuICpcbiAqICAgLy8gRG91YmxlIGNvdW50IHRhc2tcbiAqICAgdXNlVGFzayQoKHsgdHJhY2sgfSkgPT4ge1xuICogICAgIGNvbnN0IGNvdW50ID0gdHJhY2soKCkgPT4gc3RvcmUuY291bnQpO1xuICogICAgIHN0b3JlLmRvdWJsZUNvdW50ID0gMiAqIGNvdW50O1xuICogICB9KTtcbiAqXG4gKiAgIC8vIERlYm91bmNlciB0YXNrXG4gKiAgIHVzZVRhc2skKCh7IHRyYWNrIH0pID0+IHtcbiAqICAgICBjb25zdCBkb3VibGVDb3VudCA9IHRyYWNrKCgpID0+IHN0b3JlLmRvdWJsZUNvdW50KTtcbiAqICAgICBjb25zdCB0aW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICogICAgICAgc3RvcmUuZGVib3VuY2VkID0gZG91YmxlQ291bnQ7XG4gKiAgICAgfSwgMjAwMCk7XG4gKiAgICAgcmV0dXJuICgpID0+IHtcbiAqICAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XG4gKiAgICAgfTtcbiAqICAgfSk7XG4gKiAgIHJldHVybiAoXG4gKiAgICAgPGRpdj5cbiAqICAgICAgIDxkaXY+XG4gKiAgICAgICAgIHtzdG9yZS5jb3VudH0gLyB7c3RvcmUuZG91YmxlQ291bnR9XG4gKiAgICAgICA8L2Rpdj5cbiAqICAgICAgIDxkaXY+e3N0b3JlLmRlYm91bmNlZH08L2Rpdj5cbiAqICAgICA8L2Rpdj5cbiAqICAgKTtcbiAqIH0pO1xuICogYGBgXG4gKlxuICogQHB1YmxpY1xuICogQHNlZSBgVHJhY2tlcmBcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGNvbnN0IHVzZVRhc2tRcmwgPSAocXJsOiBRUkw8VGFza0ZuPiwgb3B0cz86IFVzZVRhc2tPcHRpb25zKTogdm9pZCA9PiB7XG4gIGNvbnN0IHsgdmFsLCBzZXQsIGlDdHgsIGkgfSA9IHVzZVNlcXVlbnRpYWxTY29wZTwxIHwgVGFzaz4oKTtcbiAgaWYgKHZhbCkge1xuICAgIHJldHVybjtcbiAgfVxuICBhc3NlcnRRcmwocXJsKTtcbiAgc2V0KDEpO1xuXG4gIGNvbnN0IGhvc3QgPSBpQ3R4LiRob3N0RWxlbWVudCQgYXMgdW5rbm93biBhcyBIb3N0RWxlbWVudDtcbiAgY29uc3QgdGFzayA9IG5ldyBUYXNrKFxuICAgIFRhc2tGbGFncy5ESVJUWSB8IFRhc2tGbGFncy5UQVNLLFxuICAgIGksXG4gICAgaUN0eC4kaG9zdEVsZW1lbnQkLFxuICAgIHFybCxcbiAgICB1bmRlZmluZWQsXG4gICAgbnVsbFxuICApO1xuICAvLyBJbiBWMiB3ZSBhZGQgdGhlIHRhc2sgdG8gdGhlIHNlcXVlbnRpYWwgc2NvcGUuIFdlIG5lZWQgdG8gZG8gdGhpc1xuICAvLyBpbiBvcmRlciB0byBiZSBhYmxlIHRvIHJldHJpZXZlIGl0IGxhdGVyIHdoZW4gdGhlIHBhcmVudCBlbGVtZW50IGlzXG4gIC8vIGRlbGV0ZWQgYW5kIHdlIG5lZWQgdG8gYmUgYWJsZSB0byByZWxlYXNlIHRoZSB0YXNrIHN1YnNjcmlwdGlvbnMuXG4gIHNldCh0YXNrKTtcbiAgY29uc3QgcmVzdWx0ID0gcnVuVGFzayh0YXNrLCBpQ3R4LiRjb250YWluZXIkLCBob3N0KTtcbiAgaWYgKGlzUHJvbWlzZShyZXN1bHQpKSB7XG4gICAgdGhyb3cgcmVzdWx0O1xuICB9XG4gIHFybC4kcmVzb2x2ZUxhenkkKGlDdHguJGVsZW1lbnQkKTtcbiAgaWYgKGlzU2VydmVyUGxhdGZvcm0oKSkge1xuICAgIHVzZVJ1blRhc2sodGFzaywgb3B0cz8uZWFnZXJuZXNzKTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IHJ1blRhc2sgPSAoXG4gIHRhc2s6IFRhc2ssXG4gIGNvbnRhaW5lcjogQ29udGFpbmVyLFxuICBob3N0OiBIb3N0RWxlbWVudFxuKTogVmFsdWVPclByb21pc2U8dm9pZD4gPT4ge1xuICB0YXNrLiRmbGFncyQgJj0gflRhc2tGbGFncy5ESVJUWTtcbiAgY2xlYW51cFRhc2sodGFzayk7XG4gIGNvbnN0IGlDdHggPSBuZXdJbnZva2VDb250ZXh0KGNvbnRhaW5lci4kbG9jYWxlJCwgaG9zdCwgdW5kZWZpbmVkLCBUYXNrRXZlbnQpO1xuICBpQ3R4LiRjb250YWluZXIkID0gY29udGFpbmVyO1xuICBjb25zdCB0YXNrRm4gPSB0YXNrLiRxcmwkLmdldEZuKGlDdHgsICgpID0+IGNsZWFyU3Vic2NyaWJlckVmZmVjdERlcGVuZGVuY2llcyh0YXNrKSkgYXMgVGFza0ZuO1xuXG4gIGNvbnN0IHRyYWNrOiBUcmFja2VyID0gKG9iajogKCgpID0+IHVua25vd24pIHwgb2JqZWN0IHwgU2lnbmFsPHVua25vd24+LCBwcm9wPzogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgY3R4ID0gbmV3SW52b2tlQ29udGV4dCgpO1xuICAgIGN0eC4kZWZmZWN0U3Vic2NyaWJlciQgPSBbdGFzaywgRWZmZWN0UHJvcGVydHkuQ09NUE9ORU5UXTtcbiAgICBjdHguJGNvbnRhaW5lciQgPSBjb250YWluZXI7XG4gICAgcmV0dXJuIGludm9rZShjdHgsICgpID0+IHtcbiAgICAgIGlmIChpc0Z1bmN0aW9uKG9iaikpIHtcbiAgICAgICAgcmV0dXJuIG9iaigpO1xuICAgICAgfVxuICAgICAgaWYgKHByb3ApIHtcbiAgICAgICAgcmV0dXJuIChvYmogYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4pW3Byb3BdO1xuICAgICAgfSBlbHNlIGlmIChpc1NpZ25hbChvYmopKSB7XG4gICAgICAgIHJldHVybiBvYmoudmFsdWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuICBjb25zdCBoYW5kbGVFcnJvciA9IChyZWFzb246IHVua25vd24pID0+IGNvbnRhaW5lci5oYW5kbGVFcnJvcihyZWFzb24sIGhvc3QpO1xuICBsZXQgY2xlYW51cEZuczogKCgpID0+IHZvaWQpW10gfCBudWxsID0gbnVsbDtcbiAgY29uc3QgY2xlYW51cCA9IChmbjogKCkgPT4gdm9pZCkgPT4ge1xuICAgIGlmICh0eXBlb2YgZm4gPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgaWYgKCFjbGVhbnVwRm5zKSB7XG4gICAgICAgIGNsZWFudXBGbnMgPSBbXTtcbiAgICAgICAgdGFzay4kZGVzdHJveSQgPSBub1NlcmlhbGl6ZSgoKSA9PiB7XG4gICAgICAgICAgdGFzay4kZGVzdHJveSQgPSBudWxsO1xuICAgICAgICAgIGNsZWFudXBGbnMhLmZvckVhY2goKGZuKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBmbigpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgIGhhbmRsZUVycm9yKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgY2xlYW51cEZucy5wdXNoKGZuKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgdGFza0FwaTogVGFza0N0eCA9IHsgdHJhY2ssIGNsZWFudXAgfTtcbiAgY29uc3QgcmVzdWx0OiBWYWx1ZU9yUHJvbWlzZTx2b2lkPiA9IHNhZmVDYWxsKFxuICAgICgpID0+IHRhc2tGbih0YXNrQXBpKSxcbiAgICBjbGVhbnVwLFxuICAgIChlcnI6IHVua25vd24pID0+IHtcbiAgICAgIGlmIChpc1Byb21pc2UoZXJyKSkge1xuICAgICAgICByZXR1cm4gZXJyLnRoZW4oKCkgPT4gcnVuVGFzayh0YXNrLCBjb250YWluZXIsIGhvc3QpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBoYW5kbGVFcnJvcihlcnIpO1xuICAgICAgfVxuICAgIH1cbiAgKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbmV4cG9ydCB0eXBlIFRhc2tEZXNjcmlwdG9yID0gRGVzY3JpcHRvckJhc2U8VGFza0ZuPjtcblxuZXhwb3J0IGNvbnN0IGNsZWFudXBUYXNrID0gKHRhc2s6IFRhc2spID0+IHtcbiAgY29uc3QgZGVzdHJveSA9IHRhc2suJGRlc3Ryb3kkO1xuICBpZiAoZGVzdHJveSkge1xuICAgIHRhc2suJGRlc3Ryb3kkID0gbnVsbDtcbiAgICB0cnkge1xuICAgICAgZGVzdHJveSgpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgbG9nRXJyb3IoZXJyKTtcbiAgICB9XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCB1c2VSdW5UYXNrID0gKFxuICB0YXNrOiBUYXNrLFxuICBlYWdlcm5lc3M6IFZpc2libGVUYXNrU3RyYXRlZ3kgfCBFYWdlcm5lc3NPcHRpb25zIHwgdW5kZWZpbmVkXG4pID0+IHtcbiAgaWYgKGVhZ2VybmVzcyA9PT0gJ3Zpc2libGUnIHx8IGVhZ2VybmVzcyA9PT0gJ2ludGVyc2VjdGlvbi1vYnNlcnZlcicpIHtcbiAgICB1c2VPbigncXZpc2libGUnLCBnZXRUYXNrSGFuZGxlclFybCh0YXNrKSk7XG4gIH0gZWxzZSBpZiAoZWFnZXJuZXNzID09PSAnbG9hZCcgfHwgZWFnZXJuZXNzID09PSAnZG9jdW1lbnQtcmVhZHknKSB7XG4gICAgdXNlT25Eb2N1bWVudCgncWluaXQnLCBnZXRUYXNrSGFuZGxlclFybCh0YXNrKSk7XG4gIH0gZWxzZSBpZiAoZWFnZXJuZXNzID09PSAnaWRsZScgfHwgZWFnZXJuZXNzID09PSAnZG9jdW1lbnQtaWRsZScpIHtcbiAgICB1c2VPbkRvY3VtZW50KCdxaWRsZScsIGdldFRhc2tIYW5kbGVyUXJsKHRhc2spKTtcbiAgfVxufTtcblxuY29uc3QgZ2V0VGFza0hhbmRsZXJRcmwgPSAodGFzazogVGFzayk6IFFSTDwoZXY6IEV2ZW50KSA9PiB2b2lkPiA9PiB7XG4gIGNvbnN0IHRhc2tRcmwgPSB0YXNrLiRxcmwkO1xuICBjb25zdCB0YXNrSGFuZGxlciA9IGNyZWF0ZVFSTDwoZXY6IEV2ZW50KSA9PiB2b2lkPihcbiAgICB0YXNrUXJsLiRjaHVuayQsXG4gICAgJ19oVycsXG4gICAgX2hXLFxuICAgIG51bGwsXG4gICAgbnVsbCxcbiAgICBbdGFza10sXG4gICAgdGFza1FybC4kc3ltYm9sJFxuICApO1xuICAvLyBOZWVkZWQgZm9yIGNodW5rIGxvb2t1cCBpbiBkZXYgbW9kZVxuICBpZiAodGFza1FybC5kZXYpIHtcbiAgICB0YXNrSGFuZGxlci5kZXYgPSB0YXNrUXJsLmRldjtcbiAgfVxuICByZXR1cm4gdGFza0hhbmRsZXI7XG59O1xuXG5leHBvcnQgY2xhc3MgVGFzazxUID0gdW5rbm93biwgQiA9IFQ+XG4gIGV4dGVuZHMgU3Vic2NyaWJlclxuICBpbXBsZW1lbnRzIERlc2NyaXB0b3JCYXNlPHVua25vd24sIFNpZ25hbDxCPiB8IFJlc291cmNlUmV0dXJuSW50ZXJuYWw8Qj4+XG57XG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyAkZmxhZ3MkOiBudW1iZXIsXG4gICAgcHVibGljICRpbmRleCQ6IG51bWJlcixcbiAgICBwdWJsaWMgJGVsJDogSG9zdEVsZW1lbnQsXG4gICAgcHVibGljICRxcmwkOiBRUkxJbnRlcm5hbDxUPixcbiAgICBwdWJsaWMgJHN0YXRlJDogU2lnbmFsPEI+IHwgUmVzb3VyY2VSZXR1cm5JbnRlcm5hbDxCPiB8IHVuZGVmaW5lZCxcbiAgICBwdWJsaWMgJGRlc3Ryb3kkOiBOb1NlcmlhbGl6ZTwoKSA9PiB2b2lkPiB8IG51bGxcbiAgKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgaXNUYXNrID0gKHZhbHVlOiBhbnkpOiB2YWx1ZSBpcyBUYXNrID0+IHtcbiAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgVGFzaztcbn07XG5cbi8qKlxuICogTG93LWxldmVsIEFQSSB1c2VkIGJ5IHRoZSBPcHRpbWl6ZXIgdG8gcHJvY2VzcyBgdXNlVGFzayQoKWAgQVBJLiBUaGlzIG1ldGhvZCBpcyBub3QgaW50ZW5kZWQgdG9cbiAqIGJlIHVzZWQgYnkgZGV2ZWxvcGVycy5cbiAqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IF9oVyA9ICgpID0+IHtcbiAgY29uc3QgW3Rhc2tdID0gdXNlTGV4aWNhbFNjb3BlPFtUYXNrXT4oKTtcbiAgY29uc3QgY29udGFpbmVyID0gZ2V0RG9tQ29udGFpbmVyKHRhc2suJGVsJCBhcyBWTm9kZSk7XG4gIGNvbnN0IHR5cGUgPSB0YXNrLiRmbGFncyQgJiBUYXNrRmxhZ3MuVklTSUJMRV9UQVNLID8gQ2hvcmVUeXBlLlZJU0lCTEUgOiBDaG9yZVR5cGUuVEFTSztcbiAgY29udGFpbmVyLiRzY2hlZHVsZXIkKHR5cGUsIHRhc2spO1xufTtcbiJdfQ==","/**\n * @file\n *\n *   Signals come in two types:\n *\n *   1. `Signal` - A storage of data\n *   2. `ComputedSignal` - A signal which is computed from other signals.\n *\n *   ## Why is `ComputedSignal` different?\n *\n *   - It needs to store a function which needs to re-run.\n *   - It is `Readonly` because it is computed.\n */\nimport { pad, qwikDebugToString } from '../debug';\nimport { assertDefined, assertFalse, assertTrue } from '../shared/error/assert';\nimport {} from '../shared/qrl/qrl-class';\nimport { trackSignal, tryGetInvokeContext } from '../use/use-core';\nimport { Task, TaskFlags, isTask } from '../use/use-task';\nimport { logError, throwErrorAndStop } from '../shared/utils/log';\nimport { ELEMENT_PROPS, OnRenderProp, QSubscribers } from '../shared/utils/markers';\nimport { isPromise } from '../shared/utils/promises';\nimport { qDev } from '../shared/utils/qdev';\nimport { vnode_getProp, vnode_isVirtualVNode, vnode_isVNode, vnode_setProp } from '../client/vnode';\nimport { ChoreType } from '../shared/scheduler';\nimport { isSubscriber, Subscriber } from './signal-subscriber';\nconst DEBUG = false;\n/**\n * Special value used to mark that a given signal needs to be computed. This is essentially a\n * \"marked as dirty\" flag.\n */\nexport const NEEDS_COMPUTATION = Symbol('invalid');\n// eslint-disable-next-line no-console\nconst log = (...args) => console.log('SIGNAL', ...args.map(qwikDebugToString));\nexport const throwIfQRLNotResolved = (qrl) => {\n    const resolved = qrl.resolved;\n    if (!resolved) {\n        // When we are creating a signal using a use method, we need to ensure\n        // that the computation can be lazy and therefore we need to unsure\n        // that the QRL is resolved.\n        // When we re-create the signal from serialization (we don't create the signal\n        // using useMethod) it is OK to not resolve it until the graph is marked as dirty.\n        throw qrl.resolve();\n    }\n};\n/** @public */\nexport const isSignal = (value) => {\n    return value instanceof Signal;\n};\n/** @internal */\nexport class EffectData {\n    constructor(data) {\n        this.data = data;\n    }\n}\nexport var EffectSubscriptionsProp;\n(function (EffectSubscriptionsProp) {\n    EffectSubscriptionsProp[EffectSubscriptionsProp[\"EFFECT\"] = 0] = \"EFFECT\";\n    EffectSubscriptionsProp[EffectSubscriptionsProp[\"PROPERTY\"] = 1] = \"PROPERTY\";\n    EffectSubscriptionsProp[EffectSubscriptionsProp[\"FIRST_BACK_REF_OR_DATA\"] = 2] = \"FIRST_BACK_REF_OR_DATA\";\n})(EffectSubscriptionsProp || (EffectSubscriptionsProp = {}));\nexport var EffectProperty;\n(function (EffectProperty) {\n    EffectProperty[\"COMPONENT\"] = \":\";\n    EffectProperty[\"VNODE\"] = \".\";\n})(EffectProperty || (EffectProperty = {}));\nexport class Signal {\n    constructor(container, value) {\n        /** Store a list of effects which are dependent on this signal. */\n        this.$effects$ = null;\n        this.$container$ = null;\n        this.$container$ = container;\n        this.$untrackedValue$ = value;\n        DEBUG && log('new', this);\n    }\n    get untrackedValue() {\n        return this.$untrackedValue$;\n    }\n    // TODO: should we disallow setting the value directly?\n    set untrackedValue(value) {\n        this.$untrackedValue$ = value;\n    }\n    get value() {\n        const ctx = tryGetInvokeContext();\n        if (ctx) {\n            if (this.$container$ === null) {\n                if (!ctx.$container$) {\n                    return this.untrackedValue;\n                }\n                // Grab the container now we have access to it\n                this.$container$ = ctx.$container$;\n            }\n            else {\n                assertTrue(!ctx.$container$ || ctx.$container$ === this.$container$, 'Do not use signals across containers');\n            }\n            const effectSubscriber = ctx.$effectSubscriber$;\n            if (effectSubscriber) {\n                const effects = (this.$effects$ || (this.$effects$ = []));\n                // Let's make sure that we have a reference to this effect.\n                // Adding reference is essentially adding a subscription, so if the signal\n                // changes we know who to notify.\n                ensureContainsEffect(effects, effectSubscriber);\n                // But when effect is scheduled in needs to be able to know which signals\n                // to unsubscribe from. So we need to store the reference from the effect back\n                // to this signal.\n                ensureContains(effectSubscriber, this);\n                if (isSubscriber(this)) {\n                    // We need to add the subscriber to the effect so that we can clean it up later\n                    ensureEffectContainsSubscriber(effectSubscriber[EffectSubscriptionsProp.EFFECT], this, this.$container$);\n                }\n                DEBUG && log('read->sub', pad('\\n' + this.toString(), '  '));\n            }\n        }\n        return this.untrackedValue;\n    }\n    set value(value) {\n        if (value !== this.$untrackedValue$) {\n            DEBUG &&\n                log('Signal.set', this.$untrackedValue$, '->', value, pad('\\n' + this.toString(), '  '));\n            this.$untrackedValue$ = value;\n            triggerEffects(this.$container$, this, this.$effects$);\n        }\n    }\n    // prevent accidental use as value\n    valueOf() {\n        if (qDev) {\n            return throwErrorAndStop('Cannot coerce a Signal, use `.value` instead');\n        }\n    }\n    toString() {\n        return (`[${this.constructor.name}${this.$invalid$ ? ' INVALID' : ''} ${String(this.$untrackedValue$)}]` +\n            (this.$effects$?.map((e) => '\\n -> ' + pad(qwikDebugToString(e[0]), '    ')).join('\\n') || ''));\n    }\n    toJSON() {\n        return { value: this.$untrackedValue$ };\n    }\n}\n/** Ensure the item is in array (do nothing if already there) */\nexport const ensureContains = (array, value) => {\n    const isMissing = array.indexOf(value) === -1;\n    if (isMissing) {\n        array.push(value);\n    }\n};\nexport const ensureContainsEffect = (array, effectSubscriptions) => {\n    for (let i = 0; i < array.length; i++) {\n        const existingEffect = array[i];\n        if (existingEffect[0] === effectSubscriptions[0] &&\n            existingEffect[1] === effectSubscriptions[1]) {\n            return;\n        }\n    }\n    array.push(effectSubscriptions);\n};\nexport const ensureEffectContainsSubscriber = (effect, subscriber, container) => {\n    if (isSubscriber(effect)) {\n        effect.$effectDependencies$ || (effect.$effectDependencies$ = []);\n        if (subscriberExistInSubscribers(effect.$effectDependencies$, subscriber)) {\n            return;\n        }\n        effect.$effectDependencies$.push(subscriber);\n    }\n    else if (vnode_isVNode(effect) && vnode_isVirtualVNode(effect)) {\n        let subscribers = vnode_getProp(effect, QSubscribers, container ? container.$getObjectById$ : null);\n        subscribers || (subscribers = []);\n        if (subscriberExistInSubscribers(subscribers, subscriber)) {\n            return;\n        }\n        subscribers.push(subscriber);\n        vnode_setProp(effect, QSubscribers, subscribers);\n    }\n    else if (isSSRNode(effect)) {\n        let subscribers = effect.getProp(QSubscribers);\n        subscribers || (subscribers = []);\n        if (subscriberExistInSubscribers(subscribers, subscriber)) {\n            return;\n        }\n        subscribers.push(subscriber);\n        effect.setProp(QSubscribers, subscribers);\n    }\n};\nconst isSSRNode = (effect) => {\n    return 'setProp' in effect && 'getProp' in effect && 'removeProp' in effect && 'id' in effect;\n};\nconst subscriberExistInSubscribers = (subscribers, subscriber) => {\n    for (let i = 0; i < subscribers.length; i++) {\n        if (subscribers[i] === subscriber) {\n            return true;\n        }\n    }\n    return false;\n};\nexport const triggerEffects = (container, signal, effects) => {\n    if (effects) {\n        const scheduleEffect = (effectSubscriptions) => {\n            const effect = effectSubscriptions[EffectSubscriptionsProp.EFFECT];\n            const property = effectSubscriptions[EffectSubscriptionsProp.PROPERTY];\n            assertDefined(container, 'Container must be defined.');\n            if (isTask(effect)) {\n                effect.$flags$ |= TaskFlags.DIRTY;\n                DEBUG && log('schedule.effect.task', pad('\\n' + String(effect), '  '));\n                let choreType = ChoreType.TASK;\n                if (effect.$flags$ & TaskFlags.VISIBLE_TASK) {\n                    choreType = ChoreType.VISIBLE;\n                }\n                else if (effect.$flags$ & TaskFlags.RESOURCE) {\n                    choreType = ChoreType.RESOURCE;\n                }\n                container.$scheduler$(choreType, effect);\n            }\n            else if (effect instanceof Signal) {\n                // we don't schedule ComputedSignal/DerivedSignal directly, instead we invalidate it and\n                // and schedule the signals effects (recursively)\n                if (effect instanceof ComputedSignal) {\n                    // Ensure that the computed signal's QRL is resolved.\n                    // If not resolved schedule it to be resolved.\n                    if (!effect.$computeQrl$.resolved) {\n                        container.$scheduler$(ChoreType.QRL_RESOLVE, null, effect.$computeQrl$);\n                    }\n                }\n                effect.$invalid$ = true;\n                const previousSignal = signal;\n                try {\n                    signal = effect;\n                    effect.$effects$?.forEach(scheduleEffect);\n                }\n                catch (e) {\n                    logError(e);\n                }\n                finally {\n                    signal = previousSignal;\n                }\n            }\n            else if (property === EffectProperty.COMPONENT) {\n                const host = effect;\n                const qrl = container.getHostProp(host, OnRenderProp);\n                assertDefined(qrl, 'Component must have QRL');\n                const props = container.getHostProp(host, ELEMENT_PROPS);\n                container.$scheduler$(ChoreType.COMPONENT, host, qrl, props);\n            }\n            else if (property === EffectProperty.VNODE) {\n                const host = effect;\n                const target = host;\n                container.$scheduler$(ChoreType.NODE_DIFF, host, target, signal);\n            }\n            else {\n                const host = effect;\n                let effectData = effectSubscriptions[EffectSubscriptionsProp.FIRST_BACK_REF_OR_DATA];\n                if (effectData instanceof EffectData) {\n                    effectData = effectData;\n                    const data = effectData.data;\n                    const payload = {\n                        ...data,\n                        $value$: signal,\n                    };\n                    container.$scheduler$(ChoreType.NODE_PROP, host, property, payload);\n                }\n            }\n        };\n        effects.forEach(scheduleEffect);\n    }\n    DEBUG && log('done scheduling');\n};\n/**\n * A signal which is computed from other signals.\n *\n * The value is available synchronously, but the computation is done lazily.\n */\nexport class ComputedSignal extends Signal {\n    constructor(container, fn) {\n        // The value is used for comparison when signals trigger, which can only happen\n        // when it was calculated before. Therefore we can pass whatever we like.\n        super(container, NEEDS_COMPUTATION);\n        // We need a separate flag to know when the computation needs running because\n        // we need the old value to know if effects need running after computation\n        this.$invalid$ = true;\n        this.$computeQrl$ = fn;\n    }\n    $invalidate$() {\n        this.$invalid$ = true;\n        if (!this.$effects$?.length) {\n            return;\n        }\n        // We should only call subscribers if the calculation actually changed.\n        // Therefore, we need to calculate the value now.\n        // TODO move this calculation to the beginning of the next tick, add chores to that tick if necessary. New chore type?\n        if (this.$computeIfNeeded$()) {\n            triggerEffects(this.$container$, this, this.$effects$);\n        }\n    }\n    /**\n     * Use this to force running subscribers, for example when the calculated value has mutated but\n     * remained the same object\n     */\n    force() {\n        this.$invalid$ = true;\n        triggerEffects(this.$container$, this, this.$effects$);\n    }\n    get untrackedValue() {\n        this.$computeIfNeeded$();\n        assertFalse(this.$untrackedValue$ === NEEDS_COMPUTATION, 'Invalid state');\n        return this.$untrackedValue$;\n    }\n    $computeIfNeeded$() {\n        if (!this.$invalid$) {\n            return false;\n        }\n        const computeQrl = this.$computeQrl$;\n        throwIfQRLNotResolved(computeQrl);\n        const ctx = tryGetInvokeContext();\n        const previousEffectSubscription = ctx?.$effectSubscriber$;\n        ctx && (ctx.$effectSubscriber$ = [this, EffectProperty.VNODE]);\n        try {\n            const untrackedValue = computeQrl.getFn(ctx)();\n            if (isPromise(untrackedValue)) {\n                throwErrorAndStop(`useComputedSignal$ QRL ${computeQrl.dev ? `${computeQrl.dev.file} ` : ''}${computeQrl.$hash$} returned a Promise`);\n            }\n            DEBUG && log('Signal.$compute$', untrackedValue);\n            this.$invalid$ = false;\n            const didChange = untrackedValue !== this.$untrackedValue$;\n            this.$untrackedValue$ = untrackedValue;\n            return didChange;\n        }\n        finally {\n            if (ctx) {\n                ctx.$effectSubscriber$ = previousEffectSubscription;\n            }\n        }\n    }\n    // Getters don't get inherited\n    get value() {\n        return super.value;\n    }\n    set value(_) {\n        throwErrorAndStop('ComputedSignal is read-only');\n    }\n}\nexport class WrappedSignal extends Signal {\n    constructor(container, fn, args, fnStr) {\n        super(container, NEEDS_COMPUTATION);\n        // We need a separate flag to know when the computation needs running because\n        // we need the old value to know if effects need running after computation\n        this.$invalid$ = true;\n        this.$effectDependencies$ = null;\n        this.$args$ = args;\n        this.$func$ = fn;\n        this.$funcStr$ = fnStr;\n    }\n    $invalidate$() {\n        this.$invalid$ = true;\n        if (!this.$effects$?.length) {\n            return;\n        }\n        // We should only call subscribers if the calculation actually changed.\n        // Therefore, we need to calculate the value now.\n        // TODO move this calculation to the beginning of the next tick, add chores to that tick if necessary. New chore type?\n        if (this.$computeIfNeeded$()) {\n            triggerEffects(this.$container$, this, this.$effects$);\n        }\n    }\n    /**\n     * Use this to force running subscribers, for example when the calculated value has mutated but\n     * remained the same object\n     */\n    force() {\n        this.$invalid$ = true;\n        triggerEffects(this.$container$, this, this.$effects$);\n    }\n    get untrackedValue() {\n        this.$computeIfNeeded$();\n        assertFalse(this.$untrackedValue$ === NEEDS_COMPUTATION, 'Invalid state');\n        return this.$untrackedValue$;\n    }\n    $computeIfNeeded$() {\n        if (!this.$invalid$) {\n            return false;\n        }\n        this.$untrackedValue$ = trackSignal(() => this.$func$(...this.$args$), this, EffectProperty.VNODE, this.$container$);\n    }\n    // Getters don't get inherited\n    get value() {\n        return super.value;\n    }\n    set value(_) {\n        throwErrorAndStop('WrappedSignal is read-only');\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2lnbmFsLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3NpZ25hbC9zaWduYWwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7OztHQVlHO0FBQ0gsT0FBTyxFQUFFLEdBQUcsRUFBRSxpQkFBaUIsRUFBRSxNQUFNLFVBQVUsQ0FBQztBQUNsRCxPQUFPLEVBQUUsYUFBYSxFQUFFLFdBQVcsRUFBRSxVQUFVLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQUNoRixPQUFPLEVBQW9CLE1BQU0seUJBQXlCLENBQUM7QUFFM0QsT0FBTyxFQUFFLFdBQVcsRUFBRSxtQkFBbUIsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQ25FLE9BQU8sRUFBRSxJQUFJLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQzFELE9BQU8sRUFBRSxRQUFRLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUNsRSxPQUFPLEVBQUUsYUFBYSxFQUFFLFlBQVksRUFBRSxZQUFZLEVBQUUsTUFBTSx5QkFBeUIsQ0FBQztBQUNwRixPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sMEJBQTBCLENBQUM7QUFDckQsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBRTVDLE9BQU8sRUFBRSxhQUFhLEVBQUUsb0JBQW9CLEVBQUUsYUFBYSxFQUFFLGFBQWEsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQ3BHLE9BQU8sRUFBRSxTQUFTLEVBQTJDLE1BQU0scUJBQXFCLENBQUM7QUFLekYsT0FBTyxFQUFFLFlBQVksRUFBRSxVQUFVLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUkvRCxNQUFNLEtBQUssR0FBRyxLQUFLLENBQUM7QUFFcEI7OztHQUdHO0FBQ0gsTUFBTSxDQUFDLE1BQU0saUJBQWlCLEdBQVEsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0FBRXhELHND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LENBQUMsV0FBWSxDQUNsQixDQUFDO0lBQ0osQ0FBQztJQUVELDhCQUE4QjtJQUM5QixJQUFJLEtBQUs7UUFDUCxPQUFPLEtBQUssQ0FBQyxLQUFLLENBQUM7SUFDckIsQ0FBQztJQUVELElBQUksS0FBSyxDQUFDLENBQU07UUFDZCxpQkFBaUIsQ0FBQyw0QkFBNEIsQ0FBQyxDQUFDO0lBQ2xELENBQUM7Q0FDRiIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGZpbGVcbiAqXG4gKiAgIFNpZ25hbHMgY29tZSBpbiB0d28gdHlwZXM6XG4gKlxuICogICAxLiBgU2lnbmFsYCAtIEEgc3RvcmFnZSBvZiBkYXRhXG4gKiAgIDIuIGBDb21wdXRlZFNpZ25hbGAgLSBBIHNpZ25hbCB3aGljaCBpcyBjb21wdXRlZCBmcm9tIG90aGVyIHNpZ25hbHMuXG4gKlxuICogICAjIyBXaHkgaXMgYENvbXB1dGVkU2lnbmFsYCBkaWZmZXJlbnQ/XG4gKlxuICogICAtIEl0IG5lZWRzIHRvIHN0b3JlIGEgZnVuY3Rpb24gd2hpY2ggbmVlZHMgdG8gcmUtcnVuLlxuICogICAtIEl0IGlzIGBSZWFkb25seWAgYmVjYXVzZSBpdCBpcyBjb21wdXRlZC5cbiAqL1xuaW1wb3J0IHsgcGFkLCBxd2lrRGVidWdUb1N0cmluZyB9IGZyb20gJy4uL2RlYnVnJztcbmltcG9ydCB7IGFzc2VydERlZmluZWQsIGFzc2VydEZhbHNlLCBhc3NlcnRUcnVlIH0gZnJvbSAnLi4vc2hhcmVkL2Vycm9yL2Fzc2VydCc7XG5pbXBvcnQgeyB0eXBlIFFSTEludGVybmFsIH0gZnJvbSAnLi4vc2hhcmVkL3FybC9xcmwtY2xhc3MnO1xuaW1wb3J0IHR5cGUgeyBRUkwgfSBmcm9tICcuLi9zaGFyZWQvcXJsL3FybC5wdWJsaWMnO1xuaW1wb3J0IHsgdHJhY2tTaWduYWwsIHRyeUdldEludm9rZUNvbnRleHQgfSBmcm9tICcuLi91c2UvdXNlLWNvcmUnO1xuaW1wb3J0IHsgVGFzaywgVGFza0ZsYWdzLCBpc1Rhc2sgfSBmcm9tICcuLi91c2UvdXNlLXRhc2snO1xuaW1wb3J0IHsgbG9nRXJyb3IsIHRocm93RXJyb3JBbmRTdG9wIH0gZnJvbSAnLi4vc2hhcmVkL3V0aWxzL2xvZyc7XG5pbXBvcnQgeyBFTEVNRU5UX1BST1BTLCBPblJlbmRlclByb3AsIFFTdWJzY3JpYmVycyB9IGZyb20gJy4uL3NoYXJlZC91dGlscy9tYXJrZXJzJztcbmltcG9ydCB7IGlzUHJvbWlzZSB9IGZyb20gJy4uL3NoYXJlZC91dGlscy9wcm9taXNlcyc7XG5pbXBvcnQgeyBxRGV2IH0gZnJvbSAnLi4vc2hhcmVkL3V0aWxzL3FkZXYnO1xuaW1wb3J0IHR5cGUgeyBWTm9kZSB9IGZyb20gJy4uL2NsaWVudC90eXBlcyc7XG5pbXBvcnQgeyB2bm9kZV9nZXRQcm9wLCB2bm9kZV9pc1ZpcnR1YWxWTm9kZSwgdm5vZGVfaXNWTm9kZSwgdm5vZGVfc2V0UHJvcCB9IGZyb20gJy4uL2NsaWVudC92bm9kZSc7XG5pbXBvcnQgeyBDaG9yZVR5cGUsIHR5cGUgTm9kZVByb3BEYXRhLCB0eXBlIE5vZGVQcm9wUGF5bG9hZCB9IGZyb20gJy4uL3NoYXJlZC9zY2hlZHVsZXInO1xuaW1wb3J0IHR5cGUgeyBDb250YWluZXIsIEhvc3RFbGVtZW50IH0gZnJvbSAnLi4vc2hhcmVkL3R5cGVzJztcbmltcG9ydCB0eXBlIHsgSVNzck5vZGUgfSBmcm9tICcuLi9zc3Ivc3NyLXR5cGVzJztcbmltcG9ydCB0eXBlIHsgU2lnbmFsIGFzIElTaWduYWwsIFJlYWRvbmx5U2lnbmFsIH0gZnJvbSAnLi9zaWduYWwucHVibGljJztcbmltcG9ydCB0eXBlIHsgVGFyZ2V0VHlwZSB9IGZyb20gJy4vc3RvcmUnO1xuaW1wb3J0IHsgaXNTdWJzY3JpYmVyLCBTdWJzY3JpYmVyIH0gZnJvbSAnLi9zaWduYWwtc3Vic2NyaWJlcic7XG5pbXBvcnQgdHlwZSB7IFByb3BzIH0gZnJvbSAnLi4vc2hhcmVkL2pzeC9qc3gtcnVudGltZSc7XG5pbXBvcnQgdHlwZSB7IE9uUmVuZGVyRm4gfSBmcm9tICcuLi9zaGFyZWQvY29tcG9uZW50LnB1YmxpYyc7XG5cbmNvbnN0IERFQlVHID0gZmFsc2U7XG5cbi8qKlxuICogU3BlY2lhbCB2YWx1ZSB1c2VkIHRvIG1hcmsgdGhhdCBhIGdpdmVuIHNpZ25hbCBuZWVkcyB0byBiZSBjb21wdXRlZC4gVGhpcyBpcyBlc3NlbnRpYWxseSBhXG4gKiBcIm1hcmtlZCBhcyBkaXJ0eVwiIGZsYWcuXG4gKi9cbmV4cG9ydCBjb25zdCBORUVEU19DT01QVVRBVElPTjogYW55ID0gU3ltYm9sKCdpbnZhbGlkJyk7XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG5jb25zdCBsb2cgPSAoLi4uYXJnczogYW55W10pID0+IGNvbnNvbGUubG9nKCdTSUdOQUwnLCAuLi5hcmdzLm1hcChxd2lrRGVidWdUb1N0cmluZykpO1xuXG5leHBvcnQgaW50ZXJmYWNlIEludGVybmFsUmVhZG9ubHlTaWduYWw8VCA9IHVua25vd24+IGV4dGVuZHMgUmVhZG9ubHlTaWduYWw8VD4ge1xuICByZWFkb25seSB1bnRyYWNrZWRWYWx1ZTogVDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJbnRlcm5hbFNpZ25hbDxUID0gYW55PiBleHRlbmRzIEludGVybmFsUmVhZG9ubHlTaWduYWw8VD4ge1xuICB2YWx1ZTogVDtcbiAgdW50cmFja2VkVmFsdWU6IFQ7XG59XG5cbmV4cG9ydCBjb25zdCB0aHJvd0lmUVJMTm90UmVzb2x2ZWQgPSA8VD4ocXJsOiBRUkw8KCkgPT4gVD4pID0+IHtcbiAgY29uc3QgcmVzb2x2ZWQgPSBxcmwucmVzb2x2ZWQ7XG4gIGlmICghcmVzb2x2ZWQpIHtcbiAgICAvLyBXaGVuIHdlIGFyZSBjcmVhdGluZyBhIHNpZ25hbCB1c2luZyBhIHVzZSBtZXRob2QsIHdlIG5lZWQgdG8gZW5zdXJlXG4gICAgLy8gdGhhdCB0aGUgY29tcHV0YXRpb24gY2FuIGJlIGxhenkgYW5kIHRoZXJlZm9yZSB3ZSBuZWVkIHRvIHVuc3VyZVxuICAgIC8vIHRoYXQgdGhlIFFSTCBpcyByZXNvbHZlZC5cbiAgICAvLyBXaGVuIHdlIHJlLWNyZWF0ZSB0aGUgc2lnbmFsIGZyb20gc2VyaWFsaXphdGlvbiAod2UgZG9uJ3QgY3JlYXRlIHRoZSBzaWduYWxcbiAgICAvLyB1c2luZyB1c2VNZXRob2QpIGl0IGlzIE9LIHRvIG5vdCByZXNvbHZlIGl0IHVudGlsIHRoZSBncmFwaCBpcyBtYXJrZWQgYXMgZGlydHkuXG4gICAgdGhyb3cgcXJsLnJlc29sdmUoKTtcbiAgfVxufTtcblxuLyoqIEBwdWJsaWMgKi9cbmV4cG9ydCBjb25zdCBpc1NpZ25hbCA9ICh2YWx1ZTogYW55KTogdmFsdWUgaXMgSVNpZ25hbDx1bmtub3duPiA9PiB7XG4gIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFNpZ25hbDtcbn07XG5cbi8qKlxuICogRWZmZWN0IGlzIHNvbWV0aGluZyB3aGljaCBuZWVkcyB0byBoYXBwZW4gKHNpZGUtZWZmZWN0KSBkdWUgdG8gc2lnbmFsIHZhbHVlIGNoYW5nZS5cbiAqXG4gKiBUaGVyZSBhcmUgdGhyZWUgdHlwZXMgb2YgZWZmZWN0czpcbiAqXG4gKiAtIGBUYXNrYDogYHVzZVRhc2tgLCBgdXNlVmlzaWJsZVRhc2tgLCBgdXNlUmVzb3VyY2VgXG4gKiAtIGBWTm9kZWAgYW5kIGBJU3NyTm9kZWA6IEVpdGhlciBhIGNvbXBvbmVudCBvciBgPFNpZ25hbD5gXG4gKiAtIGBTaWduYWwyYDogQSBkZXJpdmVkIHNpZ25hbCB3aGljaCBjb250YWlucyBhIGNvbXB1dGF0aW9uIGZ1bmN0aW9uLlxuICovXG5leHBvcnQgdHlwZSBFZmZlY3QgPSBUYXNrIHwgVk5vZGUgfCBJU3NyTm9kZSB8IFNpZ25hbDtcblxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNsYXNzIEVmZmVjdERhdGE8VCBleHRlbmRzIFJlY29yZDxzdHJpbmcsIGFueT4gPSBSZWNvcmQ8c3RyaW5nLCBhbnk+PiB7XG4gIGRhdGE6IFQ7XG5cbiAgY29uc3RydWN0b3IoZGF0YTogVCkge1xuICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gIH1cbn1cblxuLyoqXG4gKiBBbiBlZmZlY3QgcGx1cyBhIGxpc3Qgb2Ygc3Vic2NyaXB0aW9ucyBlZmZlY3QgZGVwZW5kcyBvbi5cbiAqXG4gKiBBbiBlZmZlY3QgY2FuIGJlIHRyaWdnZXIgYnkgb25lIG9yIG1vcmUgb2Ygc2lnbmFsIGlucHV0cy4gVGhlIGZpcnN0IHN0ZXAgb2YgcmUtcnVubmluZyBhbiBlZmZlY3RcbiAqIGlzIHRvIGNsZWFyIGl0cyBzdWJzY3JpcHRpb25zIHNvIHRoYXQgdGhlIGVmZmVjdCBjYW4gcmUgYWRkIG5ldyBzZXQgb2Ygc3Vic2NyaXB0aW9ucy4gSW4gb3JkZXIgdG9cbiAqIGNsZWFyIHRoZSBzdWJzY3JpcHRpb25zIHdlIG5lZWQgdG8gc3RvcmUgdGhlbSBoZXJlLlxuICpcbiAqIEltYWdpbmUgeW91IGhhdmUgZWZmZWN0IHN1Y2ggYXM6XG4gKlxuICogYGBgXG4gKiBmdW5jdGlvbiBlZmZlY3QxKCkge1xuICogICBjb25zb2xlLmxvZyhzaWduYWxBLnZhbHVlID8gc2lnbmFsQi52YWx1ZSA6ICdkZWZhdWx0Jyk7XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBJbiB0aGUgYWJvdmUgY2FzZSB0aGUgYHNpZ25hbEJgIG5lZWRzIHRvIGJlIHVuc3Vic2NyaWJlZCB3aGVuIGBzaWduYWxBYCBpcyBmYWxzeS4gV2UgZG8gdGhpcyBieVxuICogYWx3YXlzIGNsZWFyaW5nIGFsbCBvZiB0aGUgc3Vic2NyaXB0aW9uc1xuICpcbiAqIFRoZSBgRWZmZWN0U3Vic2NyaXB0aW9uc2Agc3RvcmVzXG4gKlxuICogYGBgXG4gKiBzdWJzY3JpcHRpb24xID0gW2VmZmVjdDEsIHNpZ25hbEEsIHNpZ25hbEJdO1xuICogYGBgXG4gKlxuICogVGhlIGBzaWduYWwxYCBhbmQgYHNpZ25hbDJgIGJhY2sgcmVmZXJlbmNlcyBhcmUgbmVlZGVkIHRvIFwiY2xlYXJcIiBleGlzdGluZyBzdWJzY3JpcHRpb25zLlxuICpcbiAqIEJvdGggYHNpZ25hbEFgIGFzIHdlbGwgYXMgYHNpZ25hbEJgIHdpbGwgaGF2ZSBhIHJlZmVyZW5jZSB0byBgc3Vic2NyaXB0aW9uYCB0byB0aGUgc28gdGhhdCB0aGVcbiAqIGVmZmVjdCBjYW4gYmUgc2NoZWR1bGVkIGlmIGVpdGhlciBgc2lnbmFsQWAgb3IgYHNpZ25hbEJgIHRyaWdnZXJzLiBUaGUgYHN1YnNjcmlwdGlvbjFgIGlzIHNoYXJlZFxuICogYmV0d2VlbiB0aGUgc2lnbmFscy5cbiAqXG4gKiBUaGUgc2Vjb25kIHBvc2l0aW9uIGBzdHJpbmd8Ym9vbGVhbmAgc3RvcmUgdGhlIHByb3BlcnR5IG5hbWUgb2YgdGhlIGVmZmVjdC5cbiAqXG4gKiAtIFByb3BlcnR5IG5hbWUgb2YgdGhlIFZOb2RlXG4gKiAtIGBFZmZlY3RQcm9wZXJ0eS5DT01QT05FTlRgIGlmIGNvbXBvbmVudFxuICogLSBgRWZmZWN0UHJvcGVydHkuVk5PREVgIGlmIFZOb2RlXG4gKi9cbmV4cG9ydCB0eXBlIEVmZmVjdFN1YnNjcmlwdGlvbnMgPSBbXG4gIC4uLltcbiAgICBFZmZlY3QsIC8vIEVmZmVjdFN1YnNjcmlwdGlvbnNQcm9wLkVGRkVDVFxuICAgIHN0cmluZywgLy8gRWZmZWN0U3Vic2NyaXB0aW9uc1Byb3AuUFJPUEVSVFlcbiAgXSxcbiAgLy8gTGlzdCBvZiBzaWduYWxzIHRvIHJlbGVhc2VcbiAgLi4uKFxuICAgIHwgRWZmZWN0RGF0YSAvLyBNZXRhZGF0YSBmb3IgdGhlIGVmZmVjdFxuICAgIHwgc3RyaW5nIC8vIExpc3Qgb2YgcHJvcGVydGllcyAoT25seSB1c2VkIHdpdGggU3RvcmUgKG5vdCB3aXRoIFNpZ25hbCkpXG4gICAgfCBTaWduYWxcbiAgICB8IFRhcmdldFR5cGVcbiAgKVtdLFxuXTtcbmV4cG9ydCBjb25zdCBlbnVtIEVmZmVjdFN1YnNjcmlwdGlvbnNQcm9wIHtcbiAgRUZGRUNUID0gMCxcbiAgUFJPUEVSVFkgPSAxLFxuICBGSVJTVF9CQUNLX1JFRl9PUl9EQVRBID0gMixcbn1cbmV4cG9ydCBjb25zdCBlbnVtIEVmZmVjdFByb3BlcnR5IHtcbiAgQ09NUE9ORU5UID0gJzonLFxuICBWTk9ERSA9ICcuJyxcbn1cblxuZXhwb3J0IGNsYXNzIFNpZ25hbDxUID0gYW55PiBpbXBsZW1lbnRzIElTaWduYWw8VD4ge1xuICAkdW50cmFja2VkVmFsdWUkOiBUO1xuXG4gIC8qKiBTdG9yZSBhIGxpc3Qgb2YgZWZmZWN0cyB3aGljaCBhcmUgZGVwZW5kZW50IG9uIHRoaXMgc2lnbmFsLiAqL1xuICAkZWZmZWN0cyQ6IG51bGwgfCBFZmZlY3RTdWJzY3JpcHRpb25zW10gPSBudWxsO1xuXG4gICRjb250YWluZXIkOiBDb250YWluZXIgfCBudWxsID0gbnVsbDtcblxuICBjb25zdHJ1Y3Rvcihjb250YWluZXI6IENvbnRhaW5lciB8IG51bGwsIHZhbHVlOiBUKSB7XG4gICAgdGhpcy4kY29udGFpbmVyJCA9IGNvbnRhaW5lcjtcbiAgICB0aGlzLiR1bnRyYWNrZWRWYWx1ZSQgPSB2YWx1ZTtcbiAgICBERUJVRyAmJiBsb2coJ25ldycsIHRoaXMpO1xuICB9XG5cbiAgZ2V0IHVudHJhY2tlZFZhbHVlKCkge1xuICAgIHJldHVybiB0aGlzLiR1bnRyYWNrZWRWYWx1ZSQ7XG4gIH1cblxuICAvLyBUT0RPOiBzaG91bGQgd2UgZGlzYWxsb3cgc2V0dGluZyB0aGUgdmFsdWUgZGlyZWN0bHk/XG4gIHNldCB1bnRyYWNrZWRWYWx1ZSh2YWx1ZTogVCkge1xuICAgIHRoaXMuJHVudHJhY2tlZFZhbHVlJCA9IHZhbHVlO1xuICB9XG5cbiAgZ2V0IHZhbHVlKCkge1xuICAgIGNvbnN0IGN0eCA9IHRyeUdldEludm9rZUNvbnRleHQoKTtcbiAgICBpZiAoY3R4KSB7XG4gICAgICBpZiAodGhpcy4kY29udGFpbmVyJCA9PT0gbnVsbCkge1xuICAgICAgICBpZiAoIWN0eC4kY29udGFpbmVyJCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLnVudHJhY2tlZFZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIEdyYWIgdGhlIGNvbnRhaW5lciBub3cgd2UgaGF2ZSBhY2Nlc3MgdG8gaXRcbiAgICAgICAgdGhpcy4kY29udGFpbmVyJCA9IGN0eC4kY29udGFpbmVyJDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFzc2VydFRydWUoXG4gICAgICAgICAgIWN0eC4kY29udGFpbmVyJCB8fCBjdHguJGNvbnRhaW5lciQgPT09IHRoaXMuJGNvbnRhaW5lciQsXG4gICAgICAgICAgJ0RvIG5vdCB1c2Ugc2lnbmFscyBhY3Jvc3MgY29udGFpbmVycydcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGVmZmVjdFN1YnNjcmliZXIgPSBjdHguJGVmZmVjdFN1YnNjcmliZXIkO1xuICAgICAgaWYgKGVmZmVjdFN1YnNjcmliZXIpIHtcbiAgICAgICAgY29uc3QgZWZmZWN0cyA9ICh0aGlzLiRlZmZlY3RzJCB8fD0gW10pO1xuICAgICAgICAvLyBMZXQncyBtYWtlIHN1cmUgdGhhdCB3ZSBoYXZlIGEgcmVmZXJlbmNlIHRvIHRoaXMgZWZmZWN0LlxuICAgICAgICAvLyBBZGRpbmcgcmVmZXJlbmNlIGlzIGVzc2VudGlhbGx5IGFkZGluZyBhIHN1YnNjcmlwdGlvbiwgc28gaWYgdGhlIHNpZ25hbFxuICAgICAgICAvLyBjaGFuZ2VzIHdlIGtub3cgd2hvIHRvIG5vdGlmeS5cbiAgICAgICAgZW5zdXJlQ29udGFpbnNFZmZlY3QoZWZmZWN0cywgZWZmZWN0U3Vic2NyaWJlcik7XG4gICAgICAgIC8vIEJ1dCB3aGVuIGVmZmVjdCBpcyBzY2hlZHVsZWQgaW4gbmVlZHMgdG8gYmUgYWJsZSB0byBrbm93IHdoaWNoIHNpZ25hbHNcbiAgICAgICAgLy8gdG8gdW5zdWJzY3JpYmUgZnJvbS4gU28gd2UgbmVlZCB0byBzdG9yZSB0aGUgcmVmZXJlbmNlIGZyb20gdGhlIGVmZmVjdCBiYWNrXG4gICAgICAgIC8vIHRvIHRoaXMgc2lnbmFsLlxuICAgICAgICBlbnN1cmVDb250YWlucyhlZmZlY3RTdWJzY3JpYmVyLCB0aGlzKTtcbiAgICAgICAgaWYgKGlzU3Vic2NyaWJlcih0aGlzKSkge1xuICAgICAgICAgIC8vIFdlIG5lZWQgdG8gYWRkIHRoZSBzdWJzY3JpYmVyIHRvIHRoZSBlZmZlY3Qgc28gdGhhdCB3ZSBjYW4gY2xlYW4gaXQgdXAgbGF0ZXJcbiAgICAgICAgICBlbnN1cmVFZmZlY3RDb250YWluc1N1YnNjcmliZXIoXG4gICAgICAgICAgICBlZmZlY3RTdWJzY3JpYmVyW0VmZmVjdFN1YnNjcmlwdGlvbnNQcm9wLkVGRkVDVF0sXG4gICAgICAgICAgICB0aGlzLFxuICAgICAgICAgICAgdGhpcy4kY29udGFpbmVyJFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgREVCVUcgJiYgbG9nKCdyZWFkLT5zdWInLCBwYWQoJ1xcbicgKyB0aGlzLnRvU3RyaW5nKCksICcgICcpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXMudW50cmFja2VkVmFsdWU7XG4gIH1cblxuICBzZXQgdmFsdWUodmFsdWUpIHtcbiAgICBpZiAodmFsdWUgIT09IHRoaXMuJHVudHJhY2tlZFZhbHVlJCkge1xuICAgICAgREVCVUcgJiZcbiAgICAgICAgbG9nKCdTaWduYWwuc2V0JywgdGhpcy4kdW50cmFja2VkVmFsdWUkLCAnLT4nLCB2YWx1ZSwgcGFkKCdcXG4nICsgdGhpcy50b1N0cmluZygpLCAnICAnKSk7XG4gICAgICB0aGlzLiR1bnRyYWNrZWRWYWx1ZSQgPSB2YWx1ZTtcbiAgICAgIHRyaWdnZXJFZmZlY3RzKHRoaXMuJGNvbnRhaW5lciQsIHRoaXMsIHRoaXMuJGVmZmVjdHMkKTtcbiAgICB9XG4gIH1cblxuICAvLyBwcmV2ZW50IGFjY2lkZW50YWwgdXNlIGFzIHZhbHVlXG4gIHZhbHVlT2YoKSB7XG4gICAgaWYgKHFEZXYpIHtcbiAgICAgIHJldHVybiB0aHJvd0Vycm9yQW5kU3RvcCgnQ2Fubm90IGNvZXJjZSBhIFNpZ25hbCwgdXNlIGAudmFsdWVgIGluc3RlYWQnKTtcbiAgICB9XG4gIH1cblxuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gKFxuICAgICAgYFske3RoaXMuY29uc3RydWN0b3IubmFtZX0keyh0aGlzIGFzIGFueSkuJGludmFsaWQkID8gJyBJTlZBTElEJyA6ICcnfSAke1N0cmluZyh0aGlzLiR1bnRyYWNrZWRWYWx1ZSQpfV1gICtcbiAgICAgICh0aGlzLiRlZmZlY3RzJD8ubWFwKChlKSA9PiAnXFxuIC0+ICcgKyBwYWQocXdpa0RlYnVnVG9TdHJpbmcoZVswXSksICcgICAgJykpLmpvaW4oJ1xcbicpIHx8ICcnKVxuICAgICk7XG4gIH1cbiAgdG9KU09OKCkge1xuICAgIHJldHVybiB7IHZhbHVlOiB0aGlzLiR1bnRyYWNrZWRWYWx1ZSQgfTtcbiAgfVxufVxuXG4vKiogRW5zdXJlIHRoZSBpdGVtIGlzIGluIGFycmF5IChkbyBub3RoaW5nIGlmIGFscmVhZHkgdGhlcmUpICovXG5leHBvcnQgY29uc3QgZW5zdXJlQ29udGFpbnMgPSAoYXJyYXk6IGFueVtdLCB2YWx1ZTogYW55KSA9PiB7XG4gIGNvbnN0IGlzTWlzc2luZyA9IGFycmF5LmluZGV4T2YodmFsdWUpID09PSAtMTtcbiAgaWYgKGlzTWlzc2luZykge1xuICAgIGFycmF5LnB1c2godmFsdWUpO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgZW5zdXJlQ29udGFpbnNFZmZlY3QgPSAoXG4gIGFycmF5OiBFZmZlY3RTdWJzY3JpcHRpb25zW10sXG4gIGVmZmVjdFN1YnNjcmlwdGlvbnM6IEVmZmVjdFN1YnNjcmlwdGlvbnNcbikgPT4ge1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgZXhpc3RpbmdFZmZlY3QgPSBhcnJheVtpXTtcbiAgICBpZiAoXG4gICAgICBleGlzdGluZ0VmZmVjdFswXSA9PT0gZWZmZWN0U3Vic2NyaXB0aW9uc1swXSAmJlxuICAgICAgZXhpc3RpbmdFZmZlY3RbMV0gPT09IGVmZmVjdFN1YnNjcmlwdGlvbnNbMV1cbiAgICApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cbiAgYXJyYXkucHVzaChlZmZlY3RTdWJzY3JpcHRpb25zKTtcbn07XG5cbmV4cG9ydCBjb25zdCBlbnN1cmVFZmZlY3RDb250YWluc1N1YnNjcmliZXIgPSAoXG4gIGVmZmVjdDogRWZmZWN0LFxuICBzdWJzY3JpYmVyOiBTdWJzY3JpYmVyLFxuICBjb250YWluZXI6IENvbnRhaW5lciB8IG51bGxcbikgPT4ge1xuICBpZiAoaXNTdWJzY3JpYmVyKGVmZmVjdCkpIHtcbiAgICBlZmZlY3QuJGVmZmVjdERlcGVuZGVuY2llcyQgfHw9IFtdO1xuXG4gICAgaWYgKHN1YnNjcmliZXJFeGlzdEluU3Vic2NyaWJlcnMoZWZmZWN0LiRlZmZlY3REZXBlbmRlbmNpZXMkLCBzdWJzY3JpYmVyKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGVmZmVjdC4kZWZmZWN0RGVwZW5kZW5jaWVzJC5wdXNoKHN1YnNjcmliZXIpO1xuICB9IGVsc2UgaWYgKHZub2RlX2lzVk5vZGUoZWZmZWN0KSAmJiB2bm9kZV9pc1ZpcnR1YWxWTm9kZShlZmZlY3QpKSB7XG4gICAgbGV0IHN1YnNjcmliZXJzID0gdm5vZGVfZ2V0UHJvcDxTdWJzY3JpYmVyW10+KFxuICAgICAgZWZmZWN0LFxuICAgICAgUVN1YnNjcmliZXJzLFxuICAgICAgY29udGFpbmVyID8gY29udGFpbmVyLiRnZXRPYmplY3RCeUlkJCA6IG51bGxcbiAgICApO1xuICAgIHN1YnNjcmliZXJzIHx8PSBbXTtcblxuICAgIGlmIChzdWJzY3JpYmVyRXhpc3RJblN1YnNjcmliZXJzKHN1YnNjcmliZXJzLCBzdWJzY3JpYmVyKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHN1YnNjcmliZXJzLnB1c2goc3Vic2NyaWJlcik7XG4gICAgdm5vZGVfc2V0UHJvcChlZmZlY3QsIFFTdWJzY3JpYmVycywgc3Vic2NyaWJlcnMpO1xuICB9IGVsc2UgaWYgKGlzU1NSTm9kZShlZmZlY3QpKSB7XG4gICAgbGV0IHN1YnNjcmliZXJzID0gZWZmZWN0LmdldFByb3AoUVN1YnNjcmliZXJzKSBhcyBTdWJzY3JpYmVyW107XG4gICAgc3Vic2NyaWJlcnMgfHw9IFtdO1xuXG4gICAgaWYgKHN1YnNjcmliZXJFeGlzdEluU3Vic2NyaWJlcnMoc3Vic2NyaWJlcnMsIHN1YnNjcmliZXIpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc3Vic2NyaWJlcnMucHVzaChzdWJzY3JpYmVyKTtcbiAgICBlZmZlY3Quc2V0UHJvcChRU3Vic2NyaWJlcnMsIHN1YnNjcmliZXJzKTtcbiAgfVxufTtcblxuY29uc3QgaXNTU1JOb2RlID0gKGVmZmVjdDogRWZmZWN0KTogZWZmZWN0IGlzIElTc3JOb2RlID0+IHtcbiAgcmV0dXJuICdzZXRQcm9wJyBpbiBlZmZlY3QgJiYgJ2dldFByb3AnIGluIGVmZmVjdCAmJiAncmVtb3ZlUHJvcCcgaW4gZWZmZWN0ICYmICdpZCcgaW4gZWZmZWN0O1xufTtcblxuY29uc3Qgc3Vic2NyaWJlckV4aXN0SW5TdWJzY3JpYmVycyA9IChzdWJzY3JpYmVyczogU3Vic2NyaWJlcltdLCBzdWJzY3JpYmVyOiBTdWJzY3JpYmVyKSA9PiB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc3Vic2NyaWJlcnMubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoc3Vic2NyaWJlcnNbaV0gPT09IHN1YnNjcmliZXIpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59O1xuXG5leHBvcnQgY29uc3QgdHJpZ2dlckVmZmVjdHMgPSAoXG4gIGNvbnRhaW5lcjogQ29udGFpbmVyIHwgbnVsbCxcbiAgc2lnbmFsOiBTaWduYWwgfCBUYXJnZXRUeXBlLFxuICBlZmZlY3RzOiBFZmZlY3RTdWJzY3JpcHRpb25zW10gfCBudWxsXG4pID0+IHtcbiAgaWYgKGVmZmVjdHMpIHtcbiAgICBjb25zdCBzY2hlZHVsZUVmZmVjdCA9IChlZmZlY3RTdWJzY3JpcHRpb25zOiBFZmZlY3RTdWJzY3JpcHRpb25zKSA9PiB7XG4gICAgICBjb25zdCBlZmZlY3QgPSBlZmZlY3RTdWJzY3JpcHRpb25zW0VmZmVjdFN1YnNjcmlwdGlvbnNQcm9wLkVGRkVDVF07XG4gICAgICBjb25zdCBwcm9wZXJ0eSA9IGVmZmVjdFN1YnNjcmlwdGlvbnNbRWZmZWN0U3Vic2NyaXB0aW9uc1Byb3AuUFJPUEVSVFldO1xuICAgICAgYXNzZXJ0RGVmaW5lZChjb250YWluZXIsICdDb250YWluZXIgbXVzdCBiZSBkZWZpbmVkLicpO1xuICAgICAgaWYgKGlzVGFzayhlZmZlY3QpKSB7XG4gICAgICAgIGVmZmVjdC4kZmxhZ3MkIHw9IFRhc2tGbGFncy5ESVJUWTtcbiAgICAgICAgREVCVUcgJiYgbG9nKCdzY2hlZHVsZS5lZmZlY3QudGFzaycsIHBhZCgnXFxuJyArIFN0cmluZyhlZmZlY3QpLCAnICAnKSk7XG4gICAgICAgIGxldCBjaG9yZVR5cGUgPSBDaG9yZVR5cGUuVEFTSztcbiAgICAgICAgaWYgKGVmZmVjdC4kZmxhZ3MkICYgVGFza0ZsYWdzLlZJU0lCTEVfVEFTSykge1xuICAgICAgICAgIGNob3JlVHlwZSA9IENob3JlVHlwZS5WSVNJQkxFO1xuICAgICAgICB9IGVsc2UgaWYgKGVmZmVjdC4kZmxhZ3MkICYgVGFza0ZsYWdzLlJFU09VUkNFKSB7XG4gICAgICAgICAgY2hvcmVUeXBlID0gQ2hvcmVUeXBlLlJFU09VUkNFO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRhaW5lci4kc2NoZWR1bGVyJChjaG9yZVR5cGUsIGVmZmVjdCk7XG4gICAgICB9IGVsc2UgaWYgKGVmZmVjdCBpbnN0YW5jZW9mIFNpZ25hbCkge1xuICAgICAgICAvLyB3ZSBkb24ndCBzY2hlZHVsZSBDb21wdXRlZFNpZ25hbC9EZXJpdmVkU2lnbmFsIGRpcmVjdGx5LCBpbnN0ZWFkIHdlIGludmFsaWRhdGUgaXQgYW5kXG4gICAgICAgIC8vIGFuZCBzY2hlZHVsZSB0aGUgc2lnbmFscyBlZmZlY3RzIChyZWN1cnNpdmVseSlcbiAgICAgICAgaWYgKGVmZmVjdCBpbnN0YW5jZW9mIENvbXB1dGVkU2lnbmFsKSB7XG4gICAgICAgICAgLy8gRW5zdXJlIHRoYXQgdGhlIGNvbXB1dGVkIHNpZ25hbCdzIFFSTCBpcyByZXNvbHZlZC5cbiAgICAgICAgICAvLyBJZiBub3QgcmVzb2x2ZWQgc2NoZWR1bGUgaXQgdG8gYmUgcmVzb2x2ZWQuXG4gICAgICAgICAgaWYgKCFlZmZlY3QuJGNvbXB1dGVRcmwkLnJlc29sdmVkKSB7XG4gICAgICAgICAgICBjb250YWluZXIuJHNjaGVkdWxlciQoQ2hvcmVUeXBlLlFSTF9SRVNPTFZFLCBudWxsLCBlZmZlY3QuJGNvbXB1dGVRcmwkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgKGVmZmVjdCBhcyBDb21wdXRlZFNpZ25hbDx1bmtub3duPiB8IFdyYXBwZWRTaWduYWw8dW5rbm93bj4pLiRpbnZhbGlkJCA9IHRydWU7XG4gICAgICAgIGNvbnN0IHByZXZpb3VzU2lnbmFsID0gc2lnbmFsO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHNpZ25hbCA9IGVmZmVjdDtcbiAgICAgICAgICBlZmZlY3QuJGVmZmVjdHMkPy5mb3JFYWNoKHNjaGVkdWxlRWZmZWN0KTtcbiAgICAgICAgfSBjYXRjaCAoZTogdW5rbm93bikge1xuICAgICAgICAgIGxvZ0Vycm9yKGUpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIHNpZ25hbCA9IHByZXZpb3VzU2lnbmFsO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHByb3BlcnR5ID09PSBFZmZlY3RQcm9wZXJ0eS5DT01QT05FTlQpIHtcbiAgICAgICAgY29uc3QgaG9zdDogSG9zdEVsZW1lbnQgPSBlZmZlY3QgYXMgYW55O1xuICAgICAgICBjb25zdCBxcmwgPSBjb250YWluZXIuZ2V0SG9zdFByb3A8UVJMSW50ZXJuYWw8T25SZW5kZXJGbjx1bmtub3duPj4+KGhvc3QsIE9uUmVuZGVyUHJvcCk7XG4gICAgICAgIGFzc2VydERlZmluZWQocXJsLCAnQ29tcG9uZW50IG11c3QgaGF2ZSBRUkwnKTtcbiAgICAgICAgY29uc3QgcHJvcHMgPSBjb250YWluZXIuZ2V0SG9zdFByb3A8UHJvcHM+KGhvc3QsIEVMRU1FTlRfUFJPUFMpO1xuICAgICAgICBjb250YWluZXIuJHNjaGVkdWxlciQoQ2hvcmVUeXBlLkNPTVBPTkVOVCwgaG9zdCwgcXJsLCBwcm9wcyk7XG4gICAgICB9IGVsc2UgaWYgKHByb3BlcnR5ID09PSBFZmZlY3RQcm9wZXJ0eS5WTk9ERSkge1xuICAgICAgICBjb25zdCBob3N0OiBIb3N0RWxlbWVudCA9IGVmZmVjdCBhcyBhbnk7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IGhvc3Q7XG4gICAgICAgIGNvbnRhaW5lci4kc2NoZWR1bGVyJChDaG9yZVR5cGUuTk9ERV9ESUZGLCBob3N0LCB0YXJnZXQsIHNpZ25hbCBhcyBTaWduYWwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgaG9zdDogSG9zdEVsZW1lbnQgPSBlZmZlY3QgYXMgYW55O1xuICAgICAgICBsZXQgZWZmZWN0RGF0YSA9IGVmZmVjdFN1YnNjcmlwdGlvbnNbRWZmZWN0U3Vic2NyaXB0aW9uc1Byb3AuRklSU1RfQkFDS19SRUZfT1JfREFUQV07XG4gICAgICAgIGlmIChlZmZlY3REYXRhIGluc3RhbmNlb2YgRWZmZWN0RGF0YSkge1xuICAgICAgICAgIGVmZmVjdERhdGEgPSBlZmZlY3REYXRhIGFzIEVmZmVjdERhdGE8Tm9kZVByb3BEYXRhPjtcbiAgICAgICAgICBjb25zdCBkYXRhID0gZWZmZWN0RGF0YS5kYXRhIGFzIE5vZGVQcm9wRGF0YTtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkOiBOb2RlUHJvcFBheWxvYWQgPSB7XG4gICAgICAgICAgICAuLi5kYXRhLFxuICAgICAgICAgICAgJHZhbHVlJDogc2lnbmFsIGFzIFNpZ25hbCxcbiAgICAgICAgICB9O1xuICAgICAgICAgIGNvbnRhaW5lci4kc2NoZWR1bGVyJChDaG9yZVR5cGUuTk9ERV9QUk9QLCBob3N0LCBwcm9wZXJ0eSwgcGF5bG9hZCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIGVmZmVjdHMuZm9yRWFjaChzY2hlZHVsZUVmZmVjdCk7XG4gIH1cblxuICBERUJVRyAmJiBsb2coJ2RvbmUgc2NoZWR1bGluZycpO1xufTtcblxuLyoqXG4gKiBBIHNpZ25hbCB3aGljaCBpcyBjb21wdXRlZCBmcm9tIG90aGVyIHNpZ25hbHMuXG4gKlxuICogVGhlIHZhbHVlIGlzIGF2YWlsYWJsZSBzeW5jaHJvbm91c2x5LCBidXQgdGhlIGNvbXB1dGF0aW9uIGlzIGRvbmUgbGF6aWx5LlxuICovXG5leHBvcnQgY2xhc3MgQ29tcHV0ZWRTaWduYWw8VD4gZXh0ZW5kcyBTaWduYWw8VD4ge1xuICAvKipcbiAgICogVGhlIGNvbXB1dGUgZnVuY3Rpb24gaXMgc3RvcmVkIGhlcmUuXG4gICAqXG4gICAqIFRoZSBjb21wdXRlZCBmdW5jdGlvbnMgbXVzdCBiZSBleGVjdXRlZCBzeW5jaHJvbm91c2x5IChiZWNhdXNlIG9mIHRoaXMgd2UgbmVlZCB0byBlYWdlcmx5XG4gICAqIHJlc29sdmUgdGhlIFFSTCBkdXJpbmcgdGhlIG1hcmsgZGlydHkgcGhhc2Ugc28gdGhhdCBhbnkgY2FsbCB0byBpdCB3aWxsIGJlIHN5bmNocm9ub3VzKS4gKVxuICAgKi9cbiAgJGNvbXB1dGVRcmwkOiBRUkxJbnRlcm5hbDwoKSA9PiBUPjtcbiAgLy8gV2UgbmVlZCBhIHNlcGFyYXRlIGZsYWcgdG8ga25vdyB3aGVuIHRoZSBjb21wdXRhdGlvbiBuZWVkcyBydW5uaW5nIGJlY2F1c2VcbiAgLy8gd2UgbmVlZCB0aGUgb2xkIHZhbHVlIHRvIGtub3cgaWYgZWZmZWN0cyBuZWVkIHJ1bm5pbmcgYWZ0ZXIgY29tcHV0YXRpb25cbiAgJGludmFsaWQkOiBib29sZWFuID0gdHJ1ZTtcblxuICBjb25zdHJ1Y3Rvcihjb250YWluZXI6IENvbnRhaW5lciB8IG51bGwsIGZuOiBRUkxJbnRlcm5hbDwoKSA9PiBUPikge1xuICAgIC8vIFRoZSB2YWx1ZSBpcyB1c2VkIGZvciBjb21wYXJpc29uIHdoZW4gc2lnbmFscyB0cmlnZ2VyLCB3aGljaCBjYW4gb25seSBoYXBwZW5cbiAgICAvLyB3aGVuIGl0IHdhcyBjYWxjdWxhdGVkIGJlZm9yZS4gVGhlcmVmb3JlIHdlIGNhbiBwYXNzIHdoYXRldmVyIHdlIGxpa2UuXG4gICAgc3VwZXIoY29udGFpbmVyLCBORUVEU19DT01QVVRBVElPTik7XG4gICAgdGhpcy4kY29tcHV0ZVFybCQgPSBmbjtcbiAgfVxuXG4gICRpbnZhbGlkYXRlJCgpIHtcbiAgICB0aGlzLiRpbnZhbGlkJCA9IHRydWU7XG4gICAgaWYgKCF0aGlzLiRlZmZlY3RzJD8ubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIFdlIHNob3VsZCBvbmx5IGNhbGwgc3Vic2NyaWJlcnMgaWYgdGhlIGNhbGN1bGF0aW9uIGFjdHVhbGx5IGNoYW5nZWQuXG4gICAgLy8gVGhlcmVmb3JlLCB3ZSBuZWVkIHRvIGNhbGN1bGF0ZSB0aGUgdmFsdWUgbm93LlxuICAgIC8vIFRPRE8gbW92ZSB0aGlzIGNhbGN1bGF0aW9uIHRvIHRoZSBiZWdpbm5pbmcgb2YgdGhlIG5leHQgdGljaywgYWRkIGNob3JlcyB0byB0aGF0IHRpY2sgaWYgbmVjZXNzYXJ5LiBOZXcgY2hvcmUgdHlwZT9cbiAgICBpZiAodGhpcy4kY29tcHV0ZUlmTmVlZGVkJCgpKSB7XG4gICAgICB0cmlnZ2VyRWZmZWN0cyh0aGlzLiRjb250YWluZXIkLCB0aGlzLCB0aGlzLiRlZmZlY3RzJCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFVzZSB0aGlzIHRvIGZvcmNlIHJ1bm5pbmcgc3Vic2NyaWJlcnMsIGZvciBleGFtcGxlIHdoZW4gdGhlIGNhbGN1bGF0ZWQgdmFsdWUgaGFzIG11dGF0ZWQgYnV0XG4gICAqIHJlbWFpbmVkIHRoZSBzYW1lIG9iamVjdFxuICAgKi9cbiAgZm9yY2UoKSB7XG4gICAgdGhpcy4kaW52YWxpZCQgPSB0cnVlO1xuICAgIHRyaWdnZXJFZmZlY3RzKHRoaXMuJGNvbnRhaW5lciQsIHRoaXMsIHRoaXMuJGVmZmVjdHMkKTtcbiAgfVxuXG4gIGdldCB1bnRyYWNrZWRWYWx1ZSgpIHtcbiAgICB0aGlzLiRjb21wdXRlSWZOZWVkZWQkKCk7XG4gICAgYXNzZXJ0RmFsc2UodGhpcy4kdW50cmFja2VkVmFsdWUkID09PSBORUVEU19DT01QVVRBVElPTiwgJ0ludmFsaWQgc3RhdGUnKTtcbiAgICByZXR1cm4gdGhpcy4kdW50cmFja2VkVmFsdWUkO1xuICB9XG5cbiAgcHJpdmF0ZSAkY29tcHV0ZUlmTmVlZGVkJCgpIHtcbiAgICBpZiAoIXRoaXMuJGludmFsaWQkKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IGNvbXB1dGVRcmwgPSB0aGlzLiRjb21wdXRlUXJsJDtcbiAgICB0aHJvd0lmUVJMTm90UmVzb2x2ZWQoY29tcHV0ZVFybCk7XG5cbiAgICBjb25zdCBjdHggPSB0cnlHZXRJbnZva2VDb250ZXh0KCk7XG4gICAgY29uc3QgcHJldmlvdXNFZmZlY3RTdWJzY3JpcHRpb24gPSBjdHg/LiRlZmZlY3RTdWJzY3JpYmVyJDtcbiAgICBjdHggJiYgKGN0eC4kZWZmZWN0U3Vic2NyaWJlciQgPSBbdGhpcywgRWZmZWN0UHJvcGVydHkuVk5PREVdKTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdW50cmFja2VkVmFsdWUgPSBjb21wdXRlUXJsLmdldEZuKGN0eCkoKSBhcyBUO1xuICAgICAgaWYgKGlzUHJvbWlzZSh1bnRyYWNrZWRWYWx1ZSkpIHtcbiAgICAgICAgdGhyb3dFcnJvckFuZFN0b3AoXG4gICAgICAgICAgYHVzZUNvbXB1dGVkU2lnbmFsJCBRUkwgJHtjb21wdXRlUXJsLmRldiA/IGAke2NvbXB1dGVRcmwuZGV2LmZpbGV9IGAgOiAnJ30ke2NvbXB1dGVRcmwuJGhhc2gkfSByZXR1cm5lZCBhIFByb21pc2VgXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBERUJVRyAmJiBsb2coJ1NpZ25hbC4kY29tcHV0ZSQnLCB1bnRyYWNrZWRWYWx1ZSk7XG4gICAgICB0aGlzLiRpbnZhbGlkJCA9IGZhbHNlO1xuXG4gICAgICBjb25zdCBkaWRDaGFuZ2UgPSB1bnRyYWNrZWRWYWx1ZSAhPT0gdGhpcy4kdW50cmFja2VkVmFsdWUkO1xuICAgICAgdGhpcy4kdW50cmFja2VkVmFsdWUkID0gdW50cmFja2VkVmFsdWU7XG4gICAgICByZXR1cm4gZGlkQ2hhbmdlO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBpZiAoY3R4KSB7XG4gICAgICAgIGN0eC4kZWZmZWN0U3Vic2NyaWJlciQgPSBwcmV2aW91c0VmZmVjdFN1YnNjcmlwdGlvbjtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBHZXR0ZXJzIGRvbid0IGdldCBpbmhlcml0ZWRcbiAgZ2V0IHZhbHVlKCkge1xuICAgIHJldHVybiBzdXBlci52YWx1ZTtcbiAgfVxuXG4gIHNldCB2YWx1ZShfOiBhbnkpIHtcbiAgICB0aHJvd0Vycm9yQW5kU3RvcCgnQ29tcHV0ZWRTaWduYWwgaXMgcmVhZC1vbmx5Jyk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFdyYXBwZWRTaWduYWw8VD4gZXh0ZW5kcyBTaWduYWw8VD4gaW1wbGVtZW50cyBTdWJzY3JpYmVyIHtcbiAgJGFyZ3MkOiBhbnlbXTtcbiAgJGZ1bmMkOiAoLi4uYXJnczogYW55W10pID0+IFQ7XG4gICRmdW5jU3RyJDogc3RyaW5nIHwgbnVsbDtcblxuICAvLyBXZSBuZWVkIGEgc2VwYXJhdGUgZmxhZyB0byBrbm93IHdoZW4gdGhlIGNvbXB1dGF0aW9uIG5lZWRzIHJ1bm5pbmcgYmVjYXVzZVxuICAvLyB3ZSBuZWVkIHRoZSBvbGQgdmFsdWUgdG8ga25vdyBpZiBlZmZlY3RzIG5lZWQgcnVubmluZyBhZnRlciBjb21wdXRhdGlvblxuICAkaW52YWxpZCQ6IGJvb2xlYW4gPSB0cnVlO1xuICAkZWZmZWN0RGVwZW5kZW5jaWVzJDogU3Vic2NyaWJlcltdIHwgbnVsbCA9IG51bGw7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgY29udGFpbmVyOiBDb250YWluZXIgfCBudWxsLFxuICAgIGZuOiAoLi4uYXJnczogYW55W10pID0+IFQsXG4gICAgYXJnczogYW55W10sXG4gICAgZm5TdHI6IHN0cmluZyB8IG51bGxcbiAgKSB7XG4gICAgc3VwZXIoY29udGFpbmVyLCBORUVEU19DT01QVVRBVElPTik7XG4gICAgdGhpcy4kYXJncyQgPSBhcmdzO1xuICAgIHRoaXMuJGZ1bmMkID0gZm47XG4gICAgdGhpcy4kZnVuY1N0ciQgPSBmblN0cjtcbiAgfVxuXG4gICRpbnZhbGlkYXRlJCgpIHtcbiAgICB0aGlzLiRpbnZhbGlkJCA9IHRydWU7XG4gICAgaWYgKCF0aGlzLiRlZmZlY3RzJD8ubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIFdlIHNob3VsZCBvbmx5IGNhbGwgc3Vic2NyaWJlcnMgaWYgdGhlIGNhbGN1bGF0aW9uIGFjdHVhbGx5IGNoYW5nZWQuXG4gICAgLy8gVGhlcmVmb3JlLCB3ZSBuZWVkIHRvIGNhbGN1bGF0ZSB0aGUgdmFsdWUgbm93LlxuICAgIC8vIFRPRE8gbW92ZSB0aGlzIGNhbGN1bGF0aW9uIHRvIHRoZSBiZWdpbm5pbmcgb2YgdGhlIG5leHQgdGljaywgYWRkIGNob3JlcyB0byB0aGF0IHRpY2sgaWYgbmVjZXNzYXJ5LiBOZXcgY2hvcmUgdHlwZT9cbiAgICBpZiAodGhpcy4kY29tcHV0ZUlmTmVlZGVkJCgpKSB7XG4gICAgICB0cmlnZ2VyRWZmZWN0cyh0aGlzLiRjb250YWluZXIkLCB0aGlzLCB0aGlzLiRlZmZlY3RzJCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFVzZSB0aGlzIHRvIGZvcmNlIHJ1bm5pbmcgc3Vic2NyaWJlcnMsIGZvciBleGFtcGxlIHdoZW4gdGhlIGNhbGN1bGF0ZWQgdmFsdWUgaGFzIG11dGF0ZWQgYnV0XG4gICAqIHJlbWFpbmVkIHRoZSBzYW1lIG9iamVjdFxuICAgKi9cbiAgZm9yY2UoKSB7XG4gICAgdGhpcy4kaW52YWxpZCQgPSB0cnVlO1xuICAgIHRyaWdnZXJFZmZlY3RzKHRoaXMuJGNvbnRhaW5lciQsIHRoaXMsIHRoaXMuJGVmZmVjdHMkKTtcbiAgfVxuXG4gIGdldCB1bnRyYWNrZWRWYWx1ZSgpIHtcbiAgICB0aGlzLiRjb21wdXRlSWZOZWVkZWQkKCk7XG4gICAgYXNzZXJ0RmFsc2UodGhpcy4kdW50cmFja2VkVmFsdWUkID09PSBORUVEU19DT01QVVRBVElPTiwgJ0ludmFsaWQgc3RhdGUnKTtcbiAgICByZXR1cm4gdGhpcy4kdW50cmFja2VkVmFsdWUkO1xuICB9XG5cbiAgcHJpdmF0ZSAkY29tcHV0ZUlmTmVlZGVkJCgpIHtcbiAgICBpZiAoIXRoaXMuJGludmFsaWQkKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHRoaXMuJHVudHJhY2tlZFZhbHVlJCA9IHRyYWNrU2lnbmFsKFxuICAgICAgKCkgPT4gdGhpcy4kZnVuYyQoLi4udGhpcy4kYXJncyQpLFxuICAgICAgdGhpcyxcbiAgICAgIEVmZmVjdFByb3BlcnR5LlZOT0RFLFxuICAgICAgdGhpcy4kY29udGFpbmVyJCFcbiAgICApO1xuICB9XG5cbiAgLy8gR2V0dGVycyBkb24ndCBnZXQgaW5oZXJpdGVkXG4gIGdldCB2YWx1ZSgpIHtcbiAgICByZXR1cm4gc3VwZXIudmFsdWU7XG4gIH1cblxuICBzZXQgdmFsdWUoXzogYW55KSB7XG4gICAgdGhyb3dFcnJvckFuZFN0b3AoJ1dyYXBwZWRTaWduYWwgaXMgcmVhZC1vbmx5Jyk7XG4gIH1cbn1cbiJdfQ==","import { SERIALIZABLE_STATE } from '../shared/component.public';\nimport { ELEMENT_KEY, ELEMENT_PROPS, OnRenderProp } from '../shared/utils/markers';\nimport {} from './ssr-types';\nimport { executeComponent } from '../shared/component-execution';\nimport { ChoreType } from '../shared/scheduler';\nexport const applyInlineComponent = (ssr, componentHost, inlineComponentFunction, jsx) => {\n    const host = ssr.getLastNode();\n    return executeComponent(ssr, host, componentHost, inlineComponentFunction, jsx.props);\n};\nexport const applyQwikComponentBody = (ssr, jsx, component) => {\n    const host = ssr.getLastNode();\n    const [componentQrl] = component[SERIALIZABLE_STATE];\n    const srcProps = jsx.props;\n    if (srcProps && srcProps.children) {\n        delete srcProps.children;\n    }\n    const scheduler = ssr.$scheduler$;\n    host.setProp(OnRenderProp, componentQrl);\n    host.setProp(ELEMENT_PROPS, srcProps);\n    if (jsx.key !== null) {\n        host.setProp(ELEMENT_KEY, jsx.key);\n    }\n    return scheduler(ChoreType.COMPONENT_SSR, host, componentQrl, srcProps);\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3NyLXJlbmRlci1jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvc3NyL3Nzci1yZW5kZXItY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBLE9BQU8sRUFBRSxrQkFBa0IsRUFBbUMsTUFBTSw0QkFBNEIsQ0FBQztBQUVqRyxPQUFPLEVBQUUsV0FBVyxFQUFFLGFBQWEsRUFBRSxZQUFZLEVBQUUsTUFBTSx5QkFBeUIsQ0FBQztBQUNuRixPQUFPLEVBQW9DLE1BQU0sYUFBYSxDQUFDO0FBQy9ELE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLCtCQUErQixDQUFDO0FBQ2pFLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUloRCxNQUFNLENBQUMsTUFBTSxvQkFBb0IsR0FBRyxDQUNsQyxHQUFpQixFQUNqQixhQUF1QixFQUN2Qix1QkFBd0MsRUFDeEMsR0FBWSxFQUNaLEVBQUU7SUFDRixNQUFNLElBQUksR0FBRyxHQUFHLENBQUMsV0FBVyxFQUFFLENBQUM7SUFDL0IsT0FBTyxnQkFBZ0IsQ0FBQyxHQUFHLEVBQUUsSUFBSSxFQUFFLGFBQWEsRUFBRSx1QkFBdUIsRUFBRSxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDeEYsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sc0JBQXNCLEdBQUcsQ0FDcEMsR0FBaUIsRUFDakIsR0FBWSxFQUNaLFNBQW9CLEVBQ08sRUFBRTtJQUM3QixNQUFNLElBQUksR0FBRyxHQUFHLENBQUMsV0FBVyxFQUFFLENBQUM7SUFDL0IsTUFBTSxDQUFDLFlBQVksQ0FBQyxHQUFJLFNBQWlCLENBQUMsa0JBQWtCLENBQW1DLENBQUM7SUFDaEcsTUFBTSxRQUFRLEdBQUcsR0FBRyxDQUFDLEtBQUssQ0FBQztJQUMzQixJQUFJLFFBQVEsSUFBSSxRQUFRLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDbEMsT0FBTyxRQUFRLENBQUMsUUFBUSxDQUFDO0lBQzNCLENBQUM7SUFDRCxNQUFNLFNBQVMsR0FBRyxHQUFHLENBQUMsV0FBVyxDQUFDO0lBQ2xDLElBQUksQ0FBQyxPQUFPLENBQUMsWUFBWSxFQUFFLFlBQVksQ0FBQyxDQUFDO0lBQ3pDLElBQUksQ0FBQyxPQUFPLENBQUMsYUFBYSxFQUFFLFFBQVEsQ0FBQyxDQUFDO0lBQ3RDLElBQUksR0FBRyxDQUFDLEdBQUcsS0FBSyxJQUFJLEVBQUUsQ0FBQztRQUNyQixJQUFJLENBQUMsT0FBTyxDQUFDLFdBQVcsRUFBRSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDckMsQ0FBQztJQUNELE9BQU8sU0FBUyxDQUFDLFNBQVMsQ0FBQyxhQUFhLEVBQUUsSUFBSSxFQUFFLFlBQVksRUFBRSxRQUFRLENBQUMsQ0FBQztBQUMxRSxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IEpTWE5vZGUgfSBmcm9tICdAcXdpay5kZXYvY29yZSc7XG5pbXBvcnQgeyBTRVJJQUxJWkFCTEVfU1RBVEUsIHR5cGUgQ29tcG9uZW50LCB0eXBlIE9uUmVuZGVyRm4gfSBmcm9tICcuLi9zaGFyZWQvY29tcG9uZW50LnB1YmxpYyc7XG5pbXBvcnQgdHlwZSB7IFFSTEludGVybmFsIH0gZnJvbSAnLi4vc2hhcmVkL3FybC9xcmwtY2xhc3MnO1xuaW1wb3J0IHsgRUxFTUVOVF9LRVksIEVMRU1FTlRfUFJPUFMsIE9uUmVuZGVyUHJvcCB9IGZyb20gJy4uL3NoYXJlZC91dGlscy9tYXJrZXJzJztcbmltcG9ydCB7IHR5cGUgSVNzck5vZGUsIHR5cGUgU1NSQ29udGFpbmVyIH0gZnJvbSAnLi9zc3ItdHlwZXMnO1xuaW1wb3J0IHsgZXhlY3V0ZUNvbXBvbmVudCB9IGZyb20gJy4uL3NoYXJlZC9jb21wb25lbnQtZXhlY3V0aW9uJztcbmltcG9ydCB7IENob3JlVHlwZSB9IGZyb20gJy4uL3NoYXJlZC9zY2hlZHVsZXInO1xuaW1wb3J0IHR5cGUgeyBWYWx1ZU9yUHJvbWlzZSB9IGZyb20gJy4uL3NoYXJlZC91dGlscy90eXBlcyc7XG5pbXBvcnQgdHlwZSB7IEpTWE91dHB1dCB9IGZyb20gJy4uL3NoYXJlZC9qc3gvdHlwZXMvanN4LW5vZGUnO1xuXG5leHBvcnQgY29uc3QgYXBwbHlJbmxpbmVDb21wb25lbnQgPSAoXG4gIHNzcjogU1NSQ29udGFpbmVyLFxuICBjb21wb25lbnRIb3N0OiBJU3NyTm9kZSxcbiAgaW5saW5lQ29tcG9uZW50RnVuY3Rpb246IE9uUmVuZGVyRm48YW55PixcbiAganN4OiBKU1hOb2RlXG4pID0+IHtcbiAgY29uc3QgaG9zdCA9IHNzci5nZXRMYXN0Tm9kZSgpO1xuICByZXR1cm4gZXhlY3V0ZUNvbXBvbmVudChzc3IsIGhvc3QsIGNvbXBvbmVudEhvc3QsIGlubGluZUNvbXBvbmVudEZ1bmN0aW9uLCBqc3gucHJvcHMpO1xufTtcblxuZXhwb3J0IGNvbnN0IGFwcGx5UXdpa0NvbXBvbmVudEJvZHkgPSAoXG4gIHNzcjogU1NSQ29udGFpbmVyLFxuICBqc3g6IEpTWE5vZGUsXG4gIGNvbXBvbmVudDogQ29tcG9uZW50XG4pOiBWYWx1ZU9yUHJvbWlzZTxKU1hPdXRwdXQ+ID0+IHtcbiAgY29uc3QgaG9zdCA9IHNzci5nZXRMYXN0Tm9kZSgpO1xuICBjb25zdCBbY29tcG9uZW50UXJsXSA9IChjb21wb25lbnQgYXMgYW55KVtTRVJJQUxJWkFCTEVfU1RBVEVdIGFzIFtRUkxJbnRlcm5hbDxPblJlbmRlckZuPGFueT4+XTtcbiAgY29uc3Qgc3JjUHJvcHMgPSBqc3gucHJvcHM7XG4gIGlmIChzcmNQcm9wcyAmJiBzcmNQcm9wcy5jaGlsZHJlbikge1xuICAgIGRlbGV0ZSBzcmNQcm9wcy5jaGlsZHJlbjtcbiAgfVxuICBjb25zdCBzY2hlZHVsZXIgPSBzc3IuJHNjaGVkdWxlciQ7XG4gIGhvc3Quc2V0UHJvcChPblJlbmRlclByb3AsIGNvbXBvbmVudFFybCk7XG4gIGhvc3Quc2V0UHJvcChFTEVNRU5UX1BST1BTLCBzcmNQcm9wcyk7XG4gIGlmIChqc3gua2V5ICE9PSBudWxsKSB7XG4gICAgaG9zdC5zZXRQcm9wKEVMRU1FTlRfS0VZLCBqc3gua2V5KTtcbiAgfVxuICByZXR1cm4gc2NoZWR1bGVyKENob3JlVHlwZS5DT01QT05FTlRfU1NSLCBob3N0LCBjb21wb25lbnRRcmwsIHNyY1Byb3BzKTtcbn07XG4iXX0=","import { isDev } from '@qwik.dev/core/build';\nimport { isQwikComponent } from '../shared/component.public';\nimport { isQrl } from '../shared/qrl/qrl-class';\nimport { Fragment, directGetPropsProxyProp } from '../shared/jsx/jsx-runtime';\nimport { Slot } from '../shared/jsx/slot.public';\nimport { SSRComment, SSRRaw, SSRStream } from '../shared/jsx/utils.public';\nimport { trackSignal } from '../use/use-core';\nimport { isAsyncGenerator } from '../shared/utils/async-generator';\nimport { EMPTY_ARRAY } from '../shared/utils/flyweight';\nimport { throwErrorAndStop } from '../shared/utils/log';\nimport { ELEMENT_KEY, FLUSH_COMMENT, QDefaultSlot, QScopedStyle, QSlot, } from '../shared/utils/markers';\nimport { isPromise } from '../shared/utils/promises';\nimport { isFunction } from '../shared/utils/types';\nimport { convertEventNameFromJsxPropToHtmlAttr, getEventNameFromJsxProp, isJsxPropertyAnEventName, isPreventDefault, } from '../shared/utils/event-names';\nimport { addComponentStylePrefix, isClassAttr } from '../shared/utils/scoped-styles';\nimport { qrlToString } from '../shared/shared-serialization';\nimport { DEBUG_TYPE, VirtualType } from '../shared/types';\nimport { WrappedSignal, EffectProperty, isSignal } from '../signal/signal';\nimport { applyInlineComponent, applyQwikComponentBody } from './ssr-render-component';\nimport { qInspector } from '../shared/utils/qdev';\nimport { serializeAttribute } from '../shared/utils/styles';\nclass ParentComponentData {\n    constructor($scopedStyle$, $componentFrame$) {\n        this.$scopedStyle$ = $scopedStyle$;\n        this.$componentFrame$ = $componentFrame$;\n    }\n}\n/** @internal */\nexport function _walkJSX(ssr, value, options) {\n    const stack = [value];\n    let resolveDrain;\n    let rejectDrain;\n    const drained = options.allowPromises &&\n        new Promise((res, rej) => {\n            resolveDrain = res;\n            rejectDrain = rej;\n        });\n    const enqueue = (value) => stack.push(value);\n    const resolveValue = (value) => {\n        stack.push(value);\n        drain();\n    };\n    const drain = () => {\n        while (stack.length) {\n            const value = stack.pop();\n            if (value instanceof ParentComponentData) {\n                options.currentStyleScoped = value.$scopedStyle$;\n                options.parentComponentFrame = value.$componentFrame$;\n                continue;\n            }\n            else if (typeof value === 'function') {\n                if (value === Promise) {\n                    if (!options.allowPromises) {\n                        return throwErrorAndStop('Promises not expected here.');\n                    }\n                    stack.pop().then(resolveValue, rejectDrain);\n                    return;\n                }\n                const waitOn = value.apply(ssr);\n                if (waitOn) {\n                    if (!options.allowPromises) {\n                        return throwErrorAndStop('Promises not expected here.');\n                    }\n                    waitOn.then(drain, rejectDrain);\n                    return;\n                }\n                continue;\n            }\n            processJSXNode(ssr, enqueue, value, {\n                styleScoped: options.currentStyleScoped,\n                parentComponentFrame: options.parentComponentFrame,\n            });\n        }\n        if (stack.length === 0 && options.allowPromises) {\n            resolveDrain();\n        }\n    };\n    drain();\n    return drained;\n}\nfunction processJSXNode(ssr, enqueue, value, options) {\n    // console.log('processJSXNode', value);\n    if (value === null || value === undefined) {\n        ssr.textNode('');\n    }\n    else if (typeof value === 'boolean') {\n        ssr.textNode('');\n    }\n    else if (typeof value === 'number') {\n        ssr.textNode(String(value));\n    }\n    else if (typeof value === 'string') {\n        ssr.textNode(value);\n    }\n    else if (typeof value === 'object') {\n        if (Array.isArray(value)) {\n            for (let i = value.length - 1; i >= 0; i--) {\n                enqueue(value[i]);\n            }\n        }\n        else if (isSignal(value)) {\n            ssr.openFragment(isDev ? [DEBUG_TYPE, VirtualType.WrappedSignal] : EMPTY_ARRAY);\n            const signalNode = ssr.getLastNode();\n            enqueue(ssr.closeFragment);\n            enqueue(trackSignal(() => value.value, signalNode, EffectProperty.VNODE, ssr));\n        }\n        else if (isPromise(value)) {\n            ssr.openFragment(isDev ? [DEBUG_TYPE, VirtualType.Awaited] : EMPTY_ARRAY);\n            enqueue(ssr.closeFragment);\n            enqueue(value);\n            enqueue(Promise);\n            enqueue(() => ssr.commentNode(FLUSH_COMMENT));\n        }\n        else if (isAsyncGenerator(value)) {\n            enqueue(async () => {\n                for await (const chunk of value) {\n                    await _walkJSX(ssr, chunk, {\n                        allowPromises: true,\n                        currentStyleScoped: options.styleScoped,\n                        parentComponentFrame: options.parentComponentFrame,\n                    });\n                    ssr.commentNode(FLUSH_COMMENT);\n                }\n            });\n        }\n        else {\n            const jsx = value;\n            const type = jsx.type;\n            // Below, JSXChildren allows functions and regexes, but we assume the dev only uses those as appropriate.\n            if (typeof type === 'string') {\n                appendClassIfScopedStyleExists(jsx, options.styleScoped);\n                appendQwikInspectorAttribute(jsx);\n                const innerHTML = ssr.openElement(type, varPropsToSsrAttrs(jsx.varProps, jsx.constProps, ssr.serializationCtx, options.styleScoped, jsx.key), constPropsToSsrAttrs(jsx.constProps, jsx.varProps, ssr.serializationCtx, options.styleScoped));\n                if (innerHTML) {\n                    ssr.htmlNode(innerHTML);\n                }\n                enqueue(ssr.closeElement);\n                if (type === 'head') {\n                    enqueue(ssr.additionalHeadNodes);\n                    enqueue(ssr.emitQwikLoaderAtTopIfNeeded);\n                }\n                else if (type === 'body') {\n                    enqueue(ssr.additionalBodyNodes);\n                }\n                const children = jsx.children;\n                children != null && enqueue(children);\n            }\n            else if (isFunction(type)) {\n                if (type === Fragment) {\n                    let attrs = jsx.key != null ? [ELEMENT_KEY, jsx.key] : EMPTY_ARRAY;\n                    if (isDev) {\n                        attrs = [DEBUG_TYPE, VirtualType.Fragment, ...attrs]; // Add debug info.\n                    }\n                    ssr.openFragment(attrs);\n                    enqueue(ssr.closeFragment);\n                    // In theory we could get functions or regexes, but we assume all is well\n                    const children = jsx.children;\n                    children != null && enqueue(children);\n                }\n                else if (type === Slot) {\n                    const componentFrame = options.parentComponentFrame || ssr.unclaimedProjectionComponentFrameQueue.shift();\n                    if (componentFrame) {\n                        const compId = componentFrame.componentNode.id || '';\n                        const projectionAttrs = isDev ? [DEBUG_TYPE, VirtualType.Projection] : [];\n                        projectionAttrs.push(':', compId);\n                        ssr.openProjection(projectionAttrs);\n                        const host = componentFrame.componentNode;\n                        const node = ssr.getLastNode();\n                        const slotName = getSlotName(host, jsx, ssr);\n                        projectionAttrs.push(QSlot, slotName);\n                        enqueue(new ParentComponentData(options.styleScoped, options.parentComponentFrame));\n                        enqueue(ssr.closeProjection);\n                        const slotDefaultChildren = jsx.children || null;\n                        const slotChildren = componentFrame.consumeChildrenForSlot(node, slotName) || slotDefaultChildren;\n                        if (slotDefaultChildren && slotChildren !== slotDefaultChildren) {\n                            ssr.addUnclaimedProjection(componentFrame, QDefaultSlot, slotDefaultChildren);\n                        }\n                        enqueue(slotChildren);\n                        enqueue(new ParentComponentData(componentFrame.projectionScopedStyle, componentFrame.projectionComponentFrame));\n                    }\n                    else {\n                        // Even thought we are not projecting we still need to leave a marker for the slot.\n                        ssr.openFragment(isDev ? [DEBUG_TYPE, VirtualType.Projection] : EMPTY_ARRAY);\n                        ssr.closeFragment();\n                    }\n                }\n                else if (type === SSRComment) {\n                    ssr.commentNode(directGetPropsProxyProp(jsx, 'data') || '');\n                }\n                else if (type === SSRStream) {\n                    ssr.commentNode(FLUSH_COMMENT);\n                    const generator = jsx.children;\n                    let value;\n                    if (isFunction(generator)) {\n                        value = generator({\n                            async write(chunk) {\n                                await _walkJSX(ssr, chunk, {\n                                    allowPromises: true,\n                                    currentStyleScoped: options.styleScoped,\n                                    parentComponentFrame: options.parentComponentFrame,\n                                });\n                                ssr.commentNode(FLUSH_COMMENT);\n                            },\n                        });\n                    }\n                    else {\n                        value = generator;\n                    }\n                    enqueue(value);\n                    isPromise(value) && enqueue(Promise);\n                }\n                else if (type === SSRRaw) {\n                    ssr.htmlNode(directGetPropsProxyProp(jsx, 'data'));\n                }\n                else if (isQwikComponent(type)) {\n                    // prod: use new instance of an array for props, we always modify props for a component\n                    ssr.openComponent(isDev ? [DEBUG_TYPE, VirtualType.Component] : []);\n                    const host = ssr.getLastNode();\n                    const componentFrame = ssr.getParentComponentFrame();\n                    componentFrame.distributeChildrenIntoSlots(jsx.children, options.styleScoped, options.parentComponentFrame);\n                    const jsxOutput = applyQwikComponentBody(ssr, jsx, type);\n                    const compStyleComponentId = addComponentStylePrefix(host.getProp(QScopedStyle));\n                    enqueue(new ParentComponentData(options.styleScoped, options.parentComponentFrame));\n                    enqueue(ssr.closeComponent);\n                    enqueue(jsxOutput);\n                    isPromise(jsxOutput) && enqueue(Promise);\n                    enqueue(new ParentComponentData(compStyleComponentId, componentFrame));\n                }\n                else {\n                    const inlineComponentProps = [ELEMENT_KEY, jsx.key];\n                    ssr.openFragment(isDev\n                        ? [DEBUG_TYPE, VirtualType.InlineComponent, ...inlineComponentProps]\n                        : inlineComponentProps);\n                    enqueue(ssr.closeFragment);\n                    const component = ssr.getComponentFrame(0);\n                    const jsxOutput = applyInlineComponent(ssr, component && component.componentNode, type, jsx);\n                    enqueue(jsxOutput);\n                    isPromise(jsxOutput) && enqueue(Promise);\n                }\n            }\n        }\n    }\n}\nexport function varPropsToSsrAttrs(varProps, constProps, serializationCtx, styleScopedId, key) {\n    return toSsrAttrs(varProps, constProps, serializationCtx, true, styleScopedId, key);\n}\nexport function constPropsToSsrAttrs(constProps, varProps, serializationCtx, styleScopedId) {\n    return toSsrAttrs(constProps, varProps, serializationCtx, false, styleScopedId);\n}\nexport function toSsrAttrs(record, anotherRecord, serializationCtx, pushMergedEventProps, styleScopedId, key) {\n    if (record == null) {\n        return null;\n    }\n    const ssrAttrs = [];\n    for (const key in record) {\n        let value = record[key];\n        if (isJsxPropertyAnEventName(key)) {\n            if (anotherRecord) {\n                /**\n                 * If we have two sources of the same event like this:\n                 *\n                 * ```tsx\n                 * const Counter = component$((props: { initial: number }) => {\n                 *  const count = useSignal(props.initial);\n                 *  useOnWindow(\n                 *    'dblclick',\n                 *    $(() => count.value++)\n                 *  );\n                 *  return <button window:onDblClick$={() => count.value++}>Count: {count.value}!</button>;\n                 * });\n                 * ```\n                 *\n                 * Then we can end with the const and var props with the same (doubled) event. We process\n                 * the const and var props separately, so:\n                 *\n                 * - For the var props we need to merge them into the one value (array)\n                 * - For the const props we need to just skip, because we will handle this in the var props\n                 */\n                const anotherValue = getEventProp(anotherRecord, key);\n                if (anotherValue) {\n                    if (pushMergedEventProps) {\n                        // merge values from the const props with the var props\n                        value = getMergedEventPropValues(value, anotherValue);\n                    }\n                    else {\n                        continue;\n                    }\n                }\n            }\n            const eventValue = setEvent(serializationCtx, key, value);\n            if (eventValue) {\n                ssrAttrs.push(convertEventNameFromJsxPropToHtmlAttr(key), eventValue);\n            }\n            continue;\n        }\n        if (isSignal(value)) {\n            // write signal as is. We will track this signal inside `writeAttrs`\n            if (isClassAttr(key)) {\n                // additionally append styleScopedId for class attr\n                ssrAttrs.push(key, [value, styleScopedId]);\n            }\n            else {\n                ssrAttrs.push(key, value);\n            }\n            continue;\n        }\n        if (isPreventDefault(key)) {\n            addPreventDefaultEventToSerializationContext(serializationCtx, key);\n        }\n        value = serializeAttribute(key, value, styleScopedId);\n        ssrAttrs.push(key, value);\n    }\n    if (key != null) {\n        ssrAttrs.push(ELEMENT_KEY, key);\n    }\n    return ssrAttrs;\n}\nfunction getMergedEventPropValues(value, anotherValue) {\n    let mergedValue = value;\n    // merge values from the const props with the var props\n    if (Array.isArray(value) && Array.isArray(anotherValue)) {\n        // both values are arrays\n        mergedValue = value.concat(anotherValue);\n    }\n    else if (Array.isArray(mergedValue)) {\n        // only first value is array\n        mergedValue.push(anotherValue);\n    }\n    else if (Array.isArray(anotherValue)) {\n        // only second value is array\n        mergedValue = anotherValue;\n        mergedValue.push(value);\n    }\n    else {\n        // none of these values are array\n        mergedValue = [value, anotherValue];\n    }\n    return mergedValue;\n}\nfunction getEventProp(record, propKey) {\n    const eventProp = propKey.toLowerCase();\n    for (const prop in record) {\n        if (prop.toLowerCase() === eventProp) {\n            return record[prop];\n        }\n    }\n    return null;\n}\nfunction setEvent(serializationCtx, key, rawValue) {\n    let value = null;\n    const qrls = rawValue;\n    const appendToValue = (valueToAppend) => {\n        value = (value == null ? '' : value + '\\n') + valueToAppend;\n    };\n    if (Array.isArray(qrls)) {\n        for (let i = 0; i <= qrls.length; i++) {\n            const qrl = qrls[i];\n            if (isQrl(qrl)) {\n                appendToValue(qrlToString(serializationCtx, qrl));\n                addQwikEventToSerializationContext(serializationCtx, key, qrl);\n            }\n            else if (qrl != null) {\n                // nested arrays etc.\n                const nestedValue = setEvent(serializationCtx, key, qrl);\n                if (nestedValue) {\n                    appendToValue(nestedValue);\n                }\n            }\n        }\n    }\n    else if (isQrl(qrls)) {\n        value = qrlToString(serializationCtx, qrls);\n        addQwikEventToSerializationContext(serializationCtx, key, qrls);\n    }\n    return value;\n}\nfunction addQwikEventToSerializationContext(serializationCtx, key, qrl) {\n    const eventName = getEventNameFromJsxProp(key);\n    if (eventName) {\n        serializationCtx.$eventNames$.add(eventName);\n        serializationCtx.$eventQrls$.add(qrl);\n    }\n}\nfunction addPreventDefaultEventToSerializationContext(serializationCtx, key) {\n    // skip first 15 chars, this is length of the `preventdefault:`\n    const eventName = key.substring(15);\n    if (eventName) {\n        serializationCtx.$eventNames$.add(eventName);\n    }\n}\nfunction getSlotName(host, jsx, ssr) {\n    const constProps = jsx.constProps;\n    if (constProps && typeof constProps == 'object' && 'name' in constProps) {\n        const constValue = constProps.name;\n        if (constValue instanceof WrappedSignal) {\n            return trackSignal(() => constValue.value, host, EffectProperty.COMPONENT, ssr);\n        }\n    }\n    return directGetPropsProxyProp(jsx, 'name') || QDefaultSlot;\n}\nfunction appendQwikInspectorAttribute(jsx) {\n    if (isDev && qInspector && jsx.dev && jsx.type !== 'head') {\n        const sanitizedFileName = jsx.dev.fileName?.replace(/\\\\/g, '/');\n        const qwikInspectorAttr = 'data-qwik-inspector';\n        if (sanitizedFileName && (!jsx.constProps || !(qwikInspectorAttr in jsx.constProps))) {\n            (jsx.constProps || (jsx.constProps = {}))[qwikInspectorAttr] =\n                `${sanitizedFileName}:${jsx.dev.lineNumber}:${jsx.dev.columnNumber}`;\n        }\n    }\n}\n// append class attribute if styleScopedId exists and there is no class attribute\nfunction appendClassIfScopedStyleExists(jsx, styleScoped) {\n    const classAttributeExists = directGetPropsProxyProp(jsx, 'class') != null;\n    if (!classAttributeExists && styleScoped) {\n        if (!jsx.constProps) {\n            jsx.constProps = {};\n        }\n        jsx.constProps['class'] = '';\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3NyLXJlbmRlci1qc3guanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvc3NyL3Nzci1yZW5kZXItanN4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUM3QyxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sNEJBQTRCLENBQUM7QUFDN0QsT0FBTyxFQUFFLEtBQUssRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBRWhELE9BQU8sRUFBRSxRQUFRLEVBQUUsdUJBQXVCLEVBQUUsTUFBTSwyQkFBMkIsQ0FBQztBQUM5RSxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sMkJBQTJCLENBQUM7QUFHakQsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLEVBQUUsU0FBUyxFQUEwQixNQUFNLDRCQUE0QixDQUFDO0FBQ25HLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUM5QyxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxpQ0FBaUMsQ0FBQztBQUNuRSxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sMkJBQTJCLENBQUM7QUFDeEQsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFDeEQsT0FBTyxFQUNMLFdBQVcsRUFDWCxhQUFhLEVBQ2IsWUFBWSxFQUNaLFlBQVksRUFDWixLQUFLLEdBQ04sTUFBTSx5QkFBeUIsQ0FBQztBQUNqQyxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sMEJBQTBCLENBQUM7QUFDckQsT0FBTyxFQUFFLFVBQVUsRUFBdUIsTUFBTSx1QkFBdUIsQ0FBQztBQUN4RSxPQUFPLEVBQ0wscUNBQXFDLEVBQ3JDLHVCQUF1QixFQUN2Qix3QkFBd0IsRUFDeEIsZ0JBQWdCLEdBQ2pCLE1BQU0sNkJBQTZCLENBQUM7QUFDckMsT0FBTyxFQUFFLHVCQUF1QixFQUFFLFdBQVcsRUFBRSxN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bGQnO1xuaW1wb3J0IHsgaXNRd2lrQ29tcG9uZW50IH0gZnJvbSAnLi4vc2hhcmVkL2NvbXBvbmVudC5wdWJsaWMnO1xuaW1wb3J0IHsgaXNRcmwgfSBmcm9tICcuLi9zaGFyZWQvcXJsL3FybC1jbGFzcyc7XG5pbXBvcnQgdHlwZSB7IFFSTCB9IGZyb20gJy4uL3NoYXJlZC9xcmwvcXJsLnB1YmxpYyc7XG5pbXBvcnQgeyBGcmFnbWVudCwgZGlyZWN0R2V0UHJvcHNQcm94eVByb3AgfSBmcm9tICcuLi9zaGFyZWQvanN4L2pzeC1ydW50aW1lJztcbmltcG9ydCB7IFNsb3QgfSBmcm9tICcuLi9zaGFyZWQvanN4L3Nsb3QucHVibGljJztcbmltcG9ydCB0eXBlIHsgSlNYTm9kZSwgSlNYT3V0cHV0IH0gZnJvbSAnLi4vc2hhcmVkL2pzeC90eXBlcy9qc3gtbm9kZSc7XG5pbXBvcnQgdHlwZSB7IEpTWENoaWxkcmVuIH0gZnJvbSAnLi4vc2hhcmVkL2pzeC90eXBlcy9qc3gtcXdpay1hdHRyaWJ1dGVzJztcbmltcG9ydCB7IFNTUkNvbW1lbnQsIFNTUlJhdywgU1NSU3RyZWFtLCB0eXBlIFNTUlN0cmVhbUNoaWxkcmVuIH0gZnJvbSAnLi4vc2hhcmVkL2pzeC91dGlscy5wdWJsaWMnO1xuaW1wb3J0IHsgdHJhY2tTaWduYWwgfSBmcm9tICcuLi91c2UvdXNlLWNvcmUnO1xuaW1wb3J0IHsgaXNBc3luY0dlbmVyYXRvciB9IGZyb20gJy4uL3NoYXJlZC91dGlscy9hc3luYy1nZW5lcmF0b3InO1xuaW1wb3J0IHsgRU1QVFlfQVJSQVkgfSBmcm9tICcuLi9zaGFyZWQvdXRpbHMvZmx5d2VpZ2h0JztcbmltcG9ydCB7IHRocm93RXJyb3JBbmRTdG9wIH0gZnJvbSAnLi4vc2hhcmVkL3V0aWxzL2xvZyc7XG5pbXBvcnQge1xuICBFTEVNRU5UX0tFWSxcbiAgRkxVU0hfQ09NTUVOVCxcbiAgUURlZmF1bHRTbG90LFxuICBRU2NvcGVkU3R5bGUsXG4gIFFTbG90LFxufSBmcm9tICcuLi9zaGFyZWQvdXRpbHMvbWFya2Vycyc7XG5pbXBvcnQgeyBpc1Byb21pc2UgfSBmcm9tICcuLi9zaGFyZWQvdXRpbHMvcHJvbWlzZXMnO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiwgdHlwZSBWYWx1ZU9yUHJvbWlzZSB9IGZyb20gJy4uL3NoYXJlZC91dGlscy90eXBlcyc7XG5pbXBvcnQge1xuICBjb252ZXJ0RXZlbnROYW1lRnJvbUpzeFByb3BUb0h0bWxBdHRyLFxuICBnZXRFdmVudE5hbWVGcm9tSnN4UHJvcCxcbiAgaXNKc3hQcm9wZXJ0eUFuRXZlbnROYW1lLFxuICBpc1ByZXZlbnREZWZhdWx0LFxufSBmcm9tICcuLi9zaGFyZWQvdXRpbHMvZXZlbnQtbmFtZXMnO1xuaW1wb3J0IHsgYWRkQ29tcG9uZW50U3R5bGVQcmVmaXgsIGlzQ2xhc3NBdHRyIH0gZnJvbSAnLi4vc2hhcmVkL3V0aWxzL3Njb3BlZC1zdHlsZXMnO1xuaW1wb3J0IHsgcXJsVG9TdHJpbmcsIHR5cGUgU2VyaWFsaXphdGlvbkNvbnRleHQgfSBmcm9tICcuLi9zaGFyZWQvc2hhcmVkLXNlcmlhbGl6YXRpb24nO1xuaW1wb3J0IHsgREVCVUdfVFlQRSwgVmlydHVhbFR5cGUgfSBmcm9tICcuLi9zaGFyZWQvdHlwZXMnO1xuaW1wb3J0IHsgV3JhcHBlZFNpZ25hbCwgRWZmZWN0UHJvcGVydHksIGlzU2lnbmFsIH0gZnJvbSAnLi4vc2lnbmFsL3NpZ25hbCc7XG5pbXBvcnQgeyBhcHBseUlubGluZUNvbXBvbmVudCwgYXBwbHlRd2lrQ29tcG9uZW50Qm9keSB9IGZyb20gJy4vc3NyLXJlbmRlci1jb21wb25lbnQnO1xuaW1wb3J0IHR5cGUgeyBJU3NyQ29tcG9uZW50RnJhbWUsIElTc3JOb2RlLCBTU1JDb250YWluZXIsIFNzckF0dHJzIH0gZnJvbSAnLi9zc3ItdHlwZXMnO1xuaW1wb3J0IHsgcUluc3BlY3RvciB9IGZyb20gJy4uL3NoYXJlZC91dGlscy9xZGV2JztcbmltcG9ydCB7IHNlcmlhbGl6ZUF0dHJpYnV0ZSB9IGZyb20gJy4uL3NoYXJlZC91dGlscy9zdHlsZXMnO1xuXG5jbGFzcyBQYXJlbnRDb21wb25lbnREYXRhIHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljICRzY29wZWRTdHlsZSQ6IHN0cmluZyB8IG51bGwsXG4gICAgcHVibGljICRjb21wb25lbnRGcmFtZSQ6IElTc3JDb21wb25lbnRGcmFtZSB8IG51bGxcbiAgKSB7fVxufVxudHlwZSBTdGFja0ZuID0gKCkgPT4gVmFsdWVPclByb21pc2U8dm9pZD47XG50eXBlIFN0YWNrVmFsdWUgPSBWYWx1ZU9yUHJvbWlzZTxcbiAgSlNYT3V0cHV0IHwgU3RhY2tGbiB8IFByb21pc2U8SlNYT3V0cHV0PiB8IHR5cGVvZiBQcm9taXNlIHwgUGFyZW50Q29tcG9uZW50RGF0YSB8IEFzeW5jR2VuZXJhdG9yXG4+O1xuXG4vKiogQGludGVybmFsICovXG5leHBvcnQgZnVuY3Rpb24gX3dhbGtKU1goXG4gIHNzcjogU1NSQ29udGFpbmVyLFxuICB2YWx1ZTogSlNYT3V0cHV0LFxuICBvcHRpb25zOiB7XG4gICAgYWxsb3dQcm9taXNlczogdHJ1ZTtcbiAgICBjdXJyZW50U3R5bGVTY29wZWQ6IHN0cmluZyB8IG51bGw7XG4gICAgcGFyZW50Q29tcG9uZW50RnJhbWU6IElTc3JDb21wb25lbnRGcmFtZSB8IG51bGw7XG4gIH1cbik6IFZhbHVlT3JQcm9taXNlPHZvaWQ+O1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGZ1bmN0aW9uIF93YWxrSlNYKFxuICBzc3I6IFNTUkNvbnRhaW5lcixcbiAgdmFsdWU6IEpTWE91dHB1dCxcbiAgb3B0aW9uczoge1xuICAgIGFsbG93UHJvbWlzZXM6IGZhbHNlO1xuICAgIGN1cnJlbnRTdHlsZVNjb3BlZDogc3RyaW5nIHwgbnVsbDtcbiAgICBwYXJlbnRDb21wb25lbnRGcmFtZTogSVNzckNvbXBvbmVudEZyYW1lIHwgbnVsbDtcbiAgfVxuKTogZmFsc2U7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgZnVuY3Rpb24gX3dhbGtKU1goXG4gIHNzcjogU1NSQ29udGFpbmVyLFxuICB2YWx1ZTogSlNYT3V0cHV0LFxuICBvcHRpb25zOiB7XG4gICAgYWxsb3dQcm9taXNlczogYm9vbGVhbjtcbiAgICBjdXJyZW50U3R5bGVTY29wZWQ6IHN0cmluZyB8IG51bGw7XG4gICAgcGFyZW50Q29tcG9uZW50RnJhbWU6IElTc3JDb21wb25lbnRGcmFtZSB8IG51bGw7XG4gIH1cbik6IFZhbHVlT3JQcm9taXNlPHZvaWQ+IHwgZmFsc2Uge1xuICBjb25zdCBzdGFjazogU3RhY2tWYWx1ZVtdID0gW3ZhbHVlXTtcbiAgbGV0IHJlc29sdmVEcmFpbjogKCkgPT4gdm9pZDtcbiAgbGV0IHJlamVjdERyYWluOiAocmVhc29uOiBhbnkpID0+IHZvaWQ7XG4gIGNvbnN0IGRyYWluZWQgPVxuICAgIG9wdGlvbnMuYWxsb3dQcm9taXNlcyAmJlxuICAgIG5ldyBQcm9taXNlPHZvaWQ+KChyZXMsIHJlaikgPT4ge1xuICAgICAgcmVzb2x2ZURyYWluID0gcmVzO1xuICAgICAgcmVqZWN0RHJhaW4gPSByZWo7XG4gICAgfSk7XG4gIGNvbnN0IGVucXVldWUgPSAodmFsdWU6IFN0YWNrVmFsdWUpID0+IHN0YWNrLnB1c2godmFsdWUpO1xuICBjb25zdCByZXNvbHZlVmFsdWUgPSAodmFsdWU6IEpTWE91dHB1dCkgPT4ge1xuICAgIHN0YWNrLnB1c2godmFsdWUpO1xuICAgIGRyYWluKCk7XG4gIH07XG4gIGNvbnN0IGRyYWluID0gKCk6IHZvaWQgPT4ge1xuICAgIHdoaWxlIChzdGFjay5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gc3RhY2sucG9wKCk7XG4gICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBQYXJlbnRDb21wb25lbnREYXRhKSB7XG4gICAgICAgIG9wdGlvbnMuY3VycmVudFN0eWxlU2NvcGVkID0gdmFsdWUuJHNjb3BlZFN0eWxlJDtcbiAgICAgICAgb3B0aW9ucy5wYXJlbnRDb21wb25lbnRGcmFtZSA9IHZhbHVlLiRjb21wb25lbnRGcmFtZSQ7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgaWYgKHZhbHVlID09PSBQcm9taXNlKSB7XG4gICAgICAgICAgaWYgKCFvcHRpb25zLmFsbG93UHJvbWlzZXMpIHtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0Vycm9yQW5kU3RvcCgnUHJvbWlzZXMgbm90IGV4cGVjdGVkIGhlcmUuJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIChzdGFjay5wb3AoKSBhcyBQcm9taXNlPEpTWE91dHB1dD4pLnRoZW4ocmVzb2x2ZVZhbHVlLCByZWplY3REcmFpbik7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHdhaXRPbiA9ICh2YWx1ZSBhcyBTdGFja0ZuKS5hcHBseShzc3IpO1xuICAgICAgICBpZiAod2FpdE9uKSB7XG4gICAgICAgICAgaWYgKCFvcHRpb25zLmFsbG93UHJvbWlzZXMpIHtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0Vycm9yQW5kU3RvcCgnUHJvbWlzZXMgbm90IGV4cGVjdGVkIGhlcmUuJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHdhaXRPbi50aGVuKGRyYWluLCByZWplY3REcmFpbik7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgcHJvY2Vzc0pTWE5vZGUoc3NyLCBlbnF1ZXVlLCB2YWx1ZSBhcyBKU1hPdXRwdXQsIHtcbiAgICAgICAgc3R5bGVTY29wZWQ6IG9wdGlvbnMuY3VycmVudFN0eWxlU2NvcGVkLFxuICAgICAgICBwYXJlbnRDb21wb25lbnRGcmFtZTogb3B0aW9ucy5wYXJlbnRDb21wb25lbnRGcmFtZSxcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoc3RhY2subGVuZ3RoID09PSAwICYmIG9wdGlvbnMuYWxsb3dQcm9taXNlcykge1xuICAgICAgcmVzb2x2ZURyYWluKCk7XG4gICAgfVxuICB9O1xuICBkcmFpbigpO1xuICByZXR1cm4gZHJhaW5lZDtcbn1cblxuZnVuY3Rpb24gcHJvY2Vzc0pTWE5vZGUoXG4gIHNzcjogU1NSQ29udGFpbmVyLFxuICBlbnF1ZXVlOiAodmFsdWU6IFN0YWNrVmFsdWUpID0+IHZvaWQsXG4gIHZhbHVlOiBKU1hPdXRwdXQsXG4gIG9wdGlvbnM6IHtcbiAgICBzdHlsZVNjb3BlZDogc3RyaW5nIHwgbnVsbDtcbiAgICBwYXJlbnRDb21wb25lbnRGcmFtZTogSVNzckNvbXBvbmVudEZyYW1lIHwgbnVsbDtcbiAgfVxuKSB7XG4gIC8vIGNvbnNvbGUubG9nKCdwcm9jZXNzSlNYTm9kZScsIHZhbHVlKTtcbiAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICBzc3IudGV4dE5vZGUoJycpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgc3NyLnRleHROb2RlKCcnKTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgc3NyLnRleHROb2RlKFN0cmluZyh2YWx1ZSkpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICBzc3IudGV4dE5vZGUodmFsdWUpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgIGZvciAobGV0IGkgPSB2YWx1ZS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBlbnF1ZXVlKHZhbHVlW2ldKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGlzU2lnbmFsKHZhbHVlKSkge1xuICAgICAgc3NyLm9wZW5GcmFnbWVudChpc0RldiA/IFtERUJVR19UWVBFLCBWaXJ0dWFsVHlwZS5XcmFwcGVkU2lnbmFsXSA6IEVNUFRZX0FSUkFZKTtcbiAgICAgIGNvbnN0IHNpZ25hbE5vZGUgPSBzc3IuZ2V0TGFzdE5vZGUoKTtcbiAgICAgIGVucXVldWUoc3NyLmNsb3NlRnJhZ21lbnQpO1xuICAgICAgZW5xdWV1ZSh0cmFja1NpZ25hbCgoKSA9PiB2YWx1ZS52YWx1ZSBhcyBhbnksIHNpZ25hbE5vZGUsIEVmZmVjdFByb3BlcnR5LlZOT0RFLCBzc3IpKTtcbiAgICB9IGVsc2UgaWYgKGlzUHJvbWlzZSh2YWx1ZSkpIHtcbiAgICAgIHNzci5vcGVuRnJhZ21lbnQoaXNEZXYgPyBbREVCVUdfVFlQRSwgVmlydHVhbFR5cGUuQXdhaXRlZF0gOiBFTVBUWV9BUlJBWSk7XG4gICAgICBlbnF1ZXVlKHNzci5jbG9zZUZyYWdtZW50KTtcbiAgICAgIGVucXVldWUodmFsdWUpO1xuICAgICAgZW5xdWV1ZShQcm9taXNlKTtcbiAgICAgIGVucXVldWUoKCkgPT4gc3NyLmNvbW1lbnROb2RlKEZMVVNIX0NPTU1FTlQpKTtcbiAgICB9IGVsc2UgaWYgKGlzQXN5bmNHZW5lcmF0b3IodmFsdWUpKSB7XG4gICAgICBlbnF1ZXVlKGFzeW5jICgpID0+IHtcbiAgICAgICAgZm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiB2YWx1ZSkge1xuICAgICAgICAgIGF3YWl0IF93YWxrSlNYKHNzciwgY2h1bmsgYXMgSlNYT3V0cHV0LCB7XG4gICAgICAgICAgICBhbGxvd1Byb21pc2VzOiB0cnVlLFxuICAgICAgICAgICAgY3VycmVudFN0eWxlU2NvcGVkOiBvcHRpb25zLnN0eWxlU2NvcGVkLFxuICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50RnJhbWU6IG9wdGlvbnMucGFyZW50Q29tcG9uZW50RnJhbWUsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc3NyLmNvbW1lbnROb2RlKEZMVVNIX0NPTU1FTlQpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QganN4ID0gdmFsdWUgYXMgSlNYTm9kZTtcbiAgICAgIGNvbnN0IHR5cGUgPSBqc3gudHlwZTtcbiAgICAgIC8vIEJlbG93LCBKU1hDaGlsZHJlbiBhbGxvd3MgZnVuY3Rpb25zIGFuZCByZWdleGVzLCBidXQgd2UgYXNzdW1lIHRoZSBkZXYgb25seSB1c2VzIHRob3NlIGFzIGFwcHJvcHJpYXRlLlxuICAgICAgaWYgKHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJykge1xuICAgICAgICBhcHBlbmRDbGFzc0lmU2NvcGVkU3R5bGVFeGlzdHMoanN4LCBvcHRpb25zLnN0eWxlU2NvcGVkKTtcbiAgICAgICAgYXBwZW5kUXdpa0luc3BlY3RvckF0dHJpYnV0ZShqc3gpO1xuXG4gICAgICAgIGNvbnN0IGlubmVySFRNTCA9IHNzci5vcGVuRWxlbWVudChcbiAgICAgICAgICB0eXBlLFxuICAgICAgICAgIHZhclByb3BzVG9Tc3JBdHRycyhcbiAgICAgICAgICAgIGpzeC52YXJQcm9wcyxcbiAgICAgICAgICAgIGpzeC5jb25zdFByb3BzLFxuICAgICAgICAgICAgc3NyLnNlcmlhbGl6YXRpb25DdHgsXG4gICAgICAgICAgICBvcHRpb25zLnN0eWxlU2NvcGVkLFxuICAgICAgICAgICAganN4LmtleVxuICAgICAgICAgICksXG4gICAgICAgICAgY29uc3RQcm9wc1RvU3NyQXR0cnMoXG4gICAgICAgICAgICBqc3guY29uc3RQcm9wcyxcbiAgICAgICAgICAgIGpzeC52YXJQcm9wcyxcbiAgICAgICAgICAgIHNzci5zZXJpYWxpemF0aW9uQ3R4LFxuICAgICAgICAgICAgb3B0aW9ucy5zdHlsZVNjb3BlZFxuICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKGlubmVySFRNTCkge1xuICAgICAgICAgIHNzci5odG1sTm9kZShpbm5lckhUTUwpO1xuICAgICAgICB9XG5cbiAgICAgICAgZW5xdWV1ZShzc3IuY2xvc2VFbGVtZW50KTtcblxuICAgICAgICBpZiAodHlwZSA9PT0gJ2hlYWQnKSB7XG4gICAgICAgICAgZW5xdWV1ZShzc3IuYWRkaXRpb25hbEhlYWROb2Rlcyk7XG4gICAgICAgICAgZW5xdWV1ZShzc3IuZW1pdFF3aWtMb2FkZXJBdFRvcElmTmVlZGVkKTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnYm9keScpIHtcbiAgICAgICAgICBlbnF1ZXVlKHNzci5hZGRpdGlvbmFsQm9keU5vZGVzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNoaWxkcmVuID0ganN4LmNoaWxkcmVuIGFzIEpTWE91dHB1dDtcbiAgICAgICAgY2hpbGRyZW4gIT0gbnVsbCAmJiBlbnF1ZXVlKGNoaWxkcmVuKTtcbiAgICAgIH0gZWxzZSBpZiAoaXNGdW5jdGlvbih0eXBlKSkge1xuICAgICAgICBpZiAodHlwZSA9PT0gRnJhZ21lbnQpIHtcbiAgICAgICAgICBsZXQgYXR0cnMgPSBqc3gua2V5ICE9IG51bGwgPyBbRUxFTUVOVF9LRVksIGpzeC5rZXldIDogRU1QVFlfQVJSQVk7XG4gICAgICAgICAgaWYgKGlzRGV2KSB7XG4gICAgICAgICAgICBhdHRycyA9IFtERUJVR19UWVBFLCBWaXJ0dWFsVHlwZS5GcmFnbWVudCwgLi4uYXR0cnNdOyAvLyBBZGQgZGVidWcgaW5mby5cbiAgICAgICAgICB9XG4gICAgICAgICAgc3NyLm9wZW5GcmFnbWVudChhdHRycyk7XG4gICAgICAgICAgZW5xdWV1ZShzc3IuY2xvc2VGcmFnbWVudCk7XG4gICAgICAgICAgLy8gSW4gdGhlb3J5IHdlIGNvdWxkIGdldCBmdW5jdGlvbnMgb3IgcmVnZXhlcywgYnV0IHdlIGFzc3VtZSBhbGwgaXMgd2VsbFxuICAgICAgICAgIGNvbnN0IGNoaWxkcmVuID0ganN4LmNoaWxkcmVuIGFzIEpTWE91dHB1dDtcbiAgICAgICAgICBjaGlsZHJlbiAhPSBudWxsICYmIGVucXVldWUoY2hpbGRyZW4pO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09IFNsb3QpIHtcbiAgICAgICAgICBjb25zdCBjb21wb25lbnRGcmFtZSA9XG4gICAgICAgICAgICBvcHRpb25zLnBhcmVudENvbXBvbmVudEZyYW1lIHx8IHNzci51bmNsYWltZWRQcm9qZWN0aW9uQ29tcG9uZW50RnJhbWVRdWV1ZS5zaGlmdCgpO1xuICAgICAgICAgIGlmIChjb21wb25lbnRGcmFtZSkge1xuICAgICAgICAgICAgY29uc3QgY29tcElkID0gY29tcG9uZW50RnJhbWUuY29tcG9uZW50Tm9kZS5pZCB8fCAnJztcbiAgICAgICAgICAgIGNvbnN0IHByb2plY3Rpb25BdHRycyA9IGlzRGV2ID8gW0RFQlVHX1RZUEUsIFZpcnR1YWxUeXBlLlByb2plY3Rpb25dIDogW107XG4gICAgICAgICAgICBwcm9qZWN0aW9uQXR0cnMucHVzaCgnOicsIGNvbXBJZCk7XG4gICAgICAgICAgICBzc3Iub3BlblByb2plY3Rpb24ocHJvamVjdGlvbkF0dHJzKTtcbiAgICAgICAgICAgIGNvbnN0IGhvc3QgPSBjb21wb25lbnRGcmFtZS5jb21wb25lbnROb2RlO1xuICAgICAgICAgICAgY29uc3Qgbm9kZSA9IHNzci5nZXRMYXN0Tm9kZSgpO1xuICAgICAgICAgICAgY29uc3Qgc2xvdE5hbWUgPSBnZXRTbG90TmFtZShob3N0LCBqc3gsIHNzcik7XG4gICAgICAgICAgICBwcm9qZWN0aW9uQXR0cnMucHVzaChRU2xvdCwgc2xvdE5hbWUpO1xuICAgICAgICAgICAgZW5xdWV1ZShuZXcgUGFyZW50Q29tcG9uZW50RGF0YShvcHRpb25zLnN0eWxlU2NvcGVkLCBvcHRpb25zLnBhcmVudENvbXBvbmVudEZyYW1lKSk7XG4gICAgICAgICAgICBlbnF1ZXVlKHNzci5jbG9zZVByb2plY3Rpb24pO1xuICAgICAgICAgICAgY29uc3Qgc2xvdERlZmF1bHRDaGlsZHJlbjogSlNYQ2hpbGRyZW4gfCBudWxsID0ganN4LmNoaWxkcmVuIHx8IG51bGw7XG4gICAgICAgICAgICBjb25zdCBzbG90Q2hpbGRyZW4gPVxuICAgICAgICAgICAgICBjb21wb25lbnRGcmFtZS5jb25zdW1lQ2hpbGRyZW5Gb3JTbG90KG5vZGUsIHNsb3ROYW1lKSB8fCBzbG90RGVmYXVsdENoaWxkcmVuO1xuICAgICAgICAgICAgaWYgKHNsb3REZWZhdWx0Q2hpbGRyZW4gJiYgc2xvdENoaWxkcmVuICE9PSBzbG90RGVmYXVsdENoaWxkcmVuKSB7XG4gICAgICAgICAgICAgIHNzci5hZGRVbmNsYWltZWRQcm9qZWN0aW9uKGNvbXBvbmVudEZyYW1lLCBRRGVmYXVsdFNsb3QsIHNsb3REZWZhdWx0Q2hpbGRyZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZW5xdWV1ZShzbG90Q2hpbGRyZW4gYXMgSlNYT3V0cHV0KTtcbiAgICAgICAgICAgIGVucXVldWUoXG4gICAgICAgICAgICAgIG5ldyBQYXJlbnRDb21wb25lbnREYXRhKFxuICAgICAgICAgICAgICAgIGNvbXBvbmVudEZyYW1lLnByb2plY3Rpb25TY29wZWRTdHlsZSxcbiAgICAgICAgICAgICAgICBjb21wb25lbnRGcmFtZS5wcm9qZWN0aW9uQ29tcG9uZW50RnJhbWVcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gRXZlbiB0aG91Z2h0IHdlIGFyZSBub3QgcHJvamVjdGluZyB3ZSBzdGlsbCBuZWVkIHRvIGxlYXZlIGEgbWFya2VyIGZvciB0aGUgc2xvdC5cbiAgICAgICAgICAgIHNzci5vcGVuRnJhZ21lbnQoaXNEZXYgPyBbREVCVUdfVFlQRSwgVmlydHVhbFR5cGUuUHJvamVjdGlvbl0gOiBFTVBUWV9BUlJBWSk7XG4gICAgICAgICAgICBzc3IuY2xvc2VGcmFnbWVudCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSBTU1JDb21tZW50KSB7XG4gICAgICAgICAgc3NyLmNvbW1lbnROb2RlKGRpcmVjdEdldFByb3BzUHJveHlQcm9wKGpzeCwgJ2RhdGEnKSB8fCAnJyk7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gU1NSU3RyZWFtKSB7XG4gICAgICAgICAgc3NyLmNvbW1lbnROb2RlKEZMVVNIX0NPTU1FTlQpO1xuICAgICAgICAgIGNvbnN0IGdlbmVyYXRvciA9IGpzeC5jaGlsZHJlbiBhcyBTU1JTdHJlYW1DaGlsZHJlbjtcbiAgICAgICAgICBsZXQgdmFsdWU6IEFzeW5jR2VuZXJhdG9yIHwgUHJvbWlzZTx2b2lkPjtcbiAgICAgICAgICBpZiAoaXNGdW5jdGlvbihnZW5lcmF0b3IpKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IGdlbmVyYXRvcih7XG4gICAgICAgICAgICAgIGFzeW5jIHdyaXRlKGNodW5rKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgX3dhbGtKU1goc3NyLCBjaHVuayBhcyBKU1hPdXRwdXQsIHtcbiAgICAgICAgICAgICAgICAgIGFsbG93UHJvbWlzZXM6IHRydWUsXG4gICAgICAgICAgICAgICAgICBjdXJyZW50U3R5bGVTY29wZWQ6IG9wdGlvbnMuc3R5bGVTY29wZWQsXG4gICAgICAgICAgICAgICAgICBwYXJlbnRDb21wb25lbnRGcmFtZTogb3B0aW9ucy5wYXJlbnRDb21wb25lbnRGcmFtZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBzc3IuY29tbWVudE5vZGUoRkxVU0hfQ09NTUVOVCk7XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFsdWUgPSBnZW5lcmF0b3I7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZW5xdWV1ZSh2YWx1ZSBhcyBTdGFja1ZhbHVlKTtcbiAgICAgICAgICBpc1Byb21pc2UodmFsdWUpICYmIGVucXVldWUoUHJvbWlzZSk7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gU1NSUmF3KSB7XG4gICAgICAgICAgc3NyLmh0bWxOb2RlKGRpcmVjdEdldFByb3BzUHJveHlQcm9wKGpzeCwgJ2RhdGEnKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNRd2lrQ29tcG9uZW50KHR5cGUpKSB7XG4gICAgICAgICAgLy8gcHJvZDogdXNlIG5ldyBpbnN0YW5jZSBvZiBhbiBhcnJheSBmb3IgcHJvcHMsIHdlIGFsd2F5cyBtb2RpZnkgcHJvcHMgZm9yIGEgY29tcG9uZW50XG4gICAgICAgICAgc3NyLm9wZW5Db21wb25lbnQoaXNEZXYgPyBbREVCVUdfVFlQRSwgVmlydHVhbFR5cGUuQ29tcG9uZW50XSA6IFtdKTtcbiAgICAgICAgICBjb25zdCBob3N0ID0gc3NyLmdldExhc3ROb2RlKCk7XG4gICAgICAgICAgY29uc3QgY29tcG9uZW50RnJhbWUgPSBzc3IuZ2V0UGFyZW50Q29tcG9uZW50RnJhbWUoKSE7XG4gICAgICAgICAgY29tcG9uZW50RnJhbWUhLmRpc3RyaWJ1dGVDaGlsZHJlbkludG9TbG90cyhcbiAgICAgICAgICAgIGpzeC5jaGlsZHJlbixcbiAgICAgICAgICAgIG9wdGlvbnMuc3R5bGVTY29wZWQsXG4gICAgICAgICAgICBvcHRpb25zLnBhcmVudENvbXBvbmVudEZyYW1lXG4gICAgICAgICAgKTtcbiAgICAgICAgICBjb25zdCBqc3hPdXRwdXQgPSBhcHBseVF3aWtDb21wb25lbnRCb2R5KHNzciwganN4LCB0eXBlKTtcbiAgICAgICAgICBjb25zdCBjb21wU3R5bGVDb21wb25lbnRJZCA9IGFkZENvbXBvbmVudFN0eWxlUHJlZml4KGhvc3QuZ2V0UHJvcChRU2NvcGVkU3R5bGUpKTtcbiAgICAgICAgICBlbnF1ZXVlKG5ldyBQYXJlbnRDb21wb25lbnREYXRhKG9wdGlvbnMuc3R5bGVTY29wZWQsIG9wdGlvbnMucGFyZW50Q29tcG9uZW50RnJhbWUpKTtcbiAgICAgICAgICBlbnF1ZXVlKHNzci5jbG9zZUNvbXBvbmVudCk7XG4gICAgICAgICAgZW5xdWV1ZShqc3hPdXRwdXQpO1xuICAgICAgICAgIGlzUHJvbWlzZShqc3hPdXRwdXQpICYmIGVucXVldWUoUHJvbWlzZSk7XG4gICAgICAgICAgZW5xdWV1ZShuZXcgUGFyZW50Q29tcG9uZW50RGF0YShjb21wU3R5bGVDb21wb25lbnRJZCwgY29tcG9uZW50RnJhbWUpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBpbmxpbmVDb21wb25lbnRQcm9wcyA9IFtFTEVNRU5UX0tFWSwganN4LmtleV07XG4gICAgICAgICAgc3NyLm9wZW5GcmFnbWVudChcbiAgICAgICAgICAgIGlzRGV2XG4gICAgICAgICAgICAgID8gW0RFQlVHX1RZUEUsIFZpcnR1YWxUeXBlLklubGluZUNvbXBvbmVudCwgLi4uaW5saW5lQ29tcG9uZW50UHJvcHNdXG4gICAgICAgICAgICAgIDogaW5saW5lQ29tcG9uZW50UHJvcHNcbiAgICAgICAgICApO1xuICAgICAgICAgIGVucXVldWUoc3NyLmNsb3NlRnJhZ21lbnQpO1xuICAgICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IHNzci5nZXRDb21wb25lbnRGcmFtZSgwKSE7XG4gICAgICAgICAgY29uc3QganN4T3V0cHV0ID0gYXBwbHlJbmxpbmVDb21wb25lbnQoXG4gICAgICAgICAgICBzc3IsXG4gICAgICAgICAgICBjb21wb25lbnQgJiYgY29tcG9uZW50LmNvbXBvbmVudE5vZGUsXG4gICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAganN4XG4gICAgICAgICAgKTtcbiAgICAgICAgICBlbnF1ZXVlKGpzeE91dHB1dCk7XG4gICAgICAgICAgaXNQcm9taXNlKGpzeE91dHB1dCkgJiYgZW5xdWV1ZShQcm9taXNlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdmFyUHJvcHNUb1NzckF0dHJzKFxuICB2YXJQcm9wczogUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gIGNvbnN0UHJvcHM6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHwgbnVsbCxcbiAgc2VyaWFsaXphdGlvbkN0eDogU2VyaWFsaXphdGlvbkNvbnRleHQsXG4gIHN0eWxlU2NvcGVkSWQ6IHN0cmluZyB8IG51bGwsXG4gIGtleT86IHN0cmluZyB8IG51bGxcbik6IFNzckF0dHJzIHwgbnVsbCB7XG4gIHJldHVybiB0b1NzckF0dHJzKHZhclByb3BzLCBjb25zdFByb3BzLCBzZXJpYWxpemF0aW9uQ3R4LCB0cnVlLCBzdHlsZVNjb3BlZElkLCBrZXkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29uc3RQcm9wc1RvU3NyQXR0cnMoXG4gIGNvbnN0UHJvcHM6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHwgbnVsbCxcbiAgdmFyUHJvcHM6IFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICBzZXJpYWxpemF0aW9uQ3R4OiBTZXJpYWxpemF0aW9uQ29udGV4dCxcbiAgc3R5bGVTY29wZWRJZDogc3RyaW5nIHwgbnVsbFxuKTogU3NyQXR0cnMgfCBudWxsIHtcbiAgcmV0dXJuIHRvU3NyQXR0cnMoY29uc3RQcm9wcywgdmFyUHJvcHMsIHNlcmlhbGl6YXRpb25DdHgsIGZhbHNlLCBzdHlsZVNjb3BlZElkKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvU3NyQXR0cnMoXG4gIHJlY29yZDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gIGFub3RoZXJSZWNvcmQ6IFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICBzZXJpYWxpemF0aW9uQ3R4OiBTZXJpYWxpemF0aW9uQ29udGV4dCxcbiAgcHVzaE1lcmdlZEV2ZW50UHJvcHM6IGJvb2xlYW4sXG4gIHN0eWxlU2NvcGVkSWQ6IHN0cmluZyB8IG51bGwsXG4gIGtleT86IHN0cmluZyB8IG51bGxcbik6IFNzckF0dHJzO1xuZXhwb3J0IGZ1bmN0aW9uIHRvU3NyQXR0cnMoXG4gIHJlY29yZDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gfCBudWxsIHwgdW5kZWZpbmVkLFxuICBhbm90aGVyUmVjb3JkOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB8IG51bGwgfCB1bmRlZmluZWQsXG4gIHNlcmlhbGl6YXRpb25DdHg6IFNlcmlhbGl6YXRpb25Db250ZXh0LFxuICBwdXNoTWVyZ2VkRXZlbnRQcm9wczogYm9vbGVhbixcbiAgc3R5bGVTY29wZWRJZDogc3RyaW5nIHwgbnVsbCxcbiAga2V5Pzogc3RyaW5nIHwgbnVsbFxuKTogU3NyQXR0cnMgfCBudWxsO1xuZXhwb3J0IGZ1bmN0aW9uIHRvU3NyQXR0cnMoXG4gIHJlY29yZDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gfCBudWxsIHwgdW5kZWZpbmVkLFxuICBhbm90aGVyUmVjb3JkOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB8IG51bGwgfCB1bmRlZmluZWQsXG4gIHNlcmlhbGl6YXRpb25DdHg6IFNlcmlhbGl6YXRpb25Db250ZXh0LFxuICBwdXNoTWVyZ2VkRXZlbnRQcm9wczogYm9vbGVhbixcbiAgc3R5bGVTY29wZWRJZDogc3RyaW5nIHwgbnVsbCxcbiAga2V5Pzogc3RyaW5nIHwgbnVsbFxuKTogU3NyQXR0cnMgfCBudWxsIHtcbiAgaWYgKHJlY29yZCA9PSBudWxsKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgY29uc3Qgc3NyQXR0cnM6IFNzckF0dHJzID0gW107XG4gIGZvciAoY29uc3Qga2V5IGluIHJlY29yZCkge1xuICAgIGxldCB2YWx1ZSA9IHJlY29yZFtrZXldO1xuICAgIGlmIChpc0pzeFByb3BlcnR5QW5FdmVudE5hbWUoa2V5KSkge1xuICAgICAgaWYgKGFub3RoZXJSZWNvcmQpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHdlIGhhdmUgdHdvIHNvdXJjZXMgb2YgdGhlIHNhbWUgZXZlbnQgbGlrZSB0aGlzOlxuICAgICAgICAgKlxuICAgICAgICAgKiBgYGB0c3hcbiAgICAgICAgICogY29uc3QgQ291bnRlciA9IGNvbXBvbmVudCQoKHByb3BzOiB7IGluaXRpYWw6IG51bWJlciB9KSA9PiB7XG4gICAgICAgICAqICBjb25zdCBjb3VudCA9IHVzZVNpZ25hbChwcm9wcy5pbml0aWFsKTtcbiAgICAgICAgICogIHVzZU9uV2luZG93KFxuICAgICAgICAgKiAgICAnZGJsY2xpY2snLFxuICAgICAgICAgKiAgICAkKCgpID0+IGNvdW50LnZhbHVlKyspXG4gICAgICAgICAqICApO1xuICAgICAgICAgKiAgcmV0dXJuIDxidXR0b24gd2luZG93Om9uRGJsQ2xpY2skPXsoKSA9PiBjb3VudC52YWx1ZSsrfT5Db3VudDoge2NvdW50LnZhbHVlfSE8L2J1dHRvbj47XG4gICAgICAgICAqIH0pO1xuICAgICAgICAgKiBgYGBcbiAgICAgICAgICpcbiAgICAgICAgICogVGhlbiB3ZSBjYW4gZW5kIHdpdGggdGhlIGNvbnN0IGFuZCB2YXIgcHJvcHMgd2l0aCB0aGUgc2FtZSAoZG91YmxlZCkgZXZlbnQuIFdlIHByb2Nlc3NcbiAgICAgICAgICogdGhlIGNvbnN0IGFuZCB2YXIgcHJvcHMgc2VwYXJhdGVseSwgc286XG4gICAgICAgICAqXG4gICAgICAgICAqIC0gRm9yIHRoZSB2YXIgcHJvcHMgd2UgbmVlZCB0byBtZXJnZSB0aGVtIGludG8gdGhlIG9uZSB2YWx1ZSAoYXJyYXkpXG4gICAgICAgICAqIC0gRm9yIHRoZSBjb25zdCBwcm9wcyB3ZSBuZWVkIHRvIGp1c3Qgc2tpcCwgYmVjYXVzZSB3ZSB3aWxsIGhhbmRsZSB0aGlzIGluIHRoZSB2YXIgcHJvcHNcbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IGFub3RoZXJWYWx1ZSA9IGdldEV2ZW50UHJvcChhbm90aGVyUmVjb3JkLCBrZXkpO1xuICAgICAgICBpZiAoYW5vdGhlclZhbHVlKSB7XG4gICAgICAgICAgaWYgKHB1c2hNZXJnZWRFdmVudFByb3BzKSB7XG4gICAgICAgICAgICAvLyBtZXJnZSB2YWx1ZXMgZnJvbSB0aGUgY29uc3QgcHJvcHMgd2l0aCB0aGUgdmFyIHByb3BzXG4gICAgICAgICAgICB2YWx1ZSA9IGdldE1lcmdlZEV2ZW50UHJvcFZhbHVlcyh2YWx1ZSwgYW5vdGhlclZhbHVlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb25zdCBldmVudFZhbHVlID0gc2V0RXZlbnQoc2VyaWFsaXphdGlvbkN0eCwga2V5LCB2YWx1ZSk7XG4gICAgICBpZiAoZXZlbnRWYWx1ZSkge1xuICAgICAgICBzc3JBdHRycy5wdXNoKGNvbnZlcnRFdmVudE5hbWVGcm9tSnN4UHJvcFRvSHRtbEF0dHIoa2V5KSwgZXZlbnRWYWx1ZSk7XG4gICAgICB9XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBpZiAoaXNTaWduYWwodmFsdWUpKSB7XG4gICAgICAvLyB3cml0ZSBzaWduYWwgYXMgaXMuIFdlIHdpbGwgdHJhY2sgdGhpcyBzaWduYWwgaW5zaWRlIGB3cml0ZUF0dHJzYFxuICAgICAgaWYgKGlzQ2xhc3NBdHRyKGtleSkpIHtcbiAgICAgICAgLy8gYWRkaXRpb25hbGx5IGFwcGVuZCBzdHlsZVNjb3BlZElkIGZvciBjbGFzcyBhdHRyXG4gICAgICAgIHNzckF0dHJzLnB1c2goa2V5LCBbdmFsdWUsIHN0eWxlU2NvcGVkSWRdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNzckF0dHJzLnB1c2goa2V5LCB2YWx1ZSk7XG4gICAgICB9XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBpZiAoaXNQcmV2ZW50RGVmYXVsdChrZXkpKSB7XG4gICAgICBhZGRQcmV2ZW50RGVmYXVsdEV2ZW50VG9TZXJpYWxpemF0aW9uQ29udGV4dChzZXJpYWxpemF0aW9uQ3R4LCBrZXkpO1xuICAgIH1cblxuICAgIHZhbHVlID0gc2VyaWFsaXplQXR0cmlidXRlKGtleSwgdmFsdWUsIHN0eWxlU2NvcGVkSWQpO1xuXG4gICAgc3NyQXR0cnMucHVzaChrZXksIHZhbHVlIGFzIHN0cmluZyk7XG4gIH1cbiAgaWYgKGtleSAhPSBudWxsKSB7XG4gICAgc3NyQXR0cnMucHVzaChFTEVNRU5UX0tFWSwga2V5KTtcbiAgfVxuICByZXR1cm4gc3NyQXR0cnM7XG59XG5cbmZ1bmN0aW9uIGdldE1lcmdlZEV2ZW50UHJvcFZhbHVlcyh2YWx1ZTogdW5rbm93biwgYW5vdGhlclZhbHVlOiB1bmtub3duKSB7XG4gIGxldCBtZXJnZWRWYWx1ZSA9IHZhbHVlO1xuICAvLyBtZXJnZSB2YWx1ZXMgZnJvbSB0aGUgY29uc3QgcHJvcHMgd2l0aCB0aGUgdmFyIHByb3BzXG4gIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSAmJiBBcnJheS5pc0FycmF5KGFub3RoZXJWYWx1ZSkpIHtcbiAgICAvLyBib3RoIHZhbHVlcyBhcmUgYXJyYXlzXG4gICAgbWVyZ2VkVmFsdWUgPSB2YWx1ZS5jb25jYXQoYW5vdGhlclZhbHVlKTtcbiAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KG1lcmdlZFZhbHVlKSkge1xuICAgIC8vIG9ubHkgZmlyc3QgdmFsdWUgaXMgYXJyYXlcbiAgICBtZXJnZWRWYWx1ZS5wdXNoKGFub3RoZXJWYWx1ZSk7XG4gIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShhbm90aGVyVmFsdWUpKSB7XG4gICAgLy8gb25seSBzZWNvbmQgdmFsdWUgaXMgYXJyYXlcbiAgICBtZXJnZWRWYWx1ZSA9IGFub3RoZXJWYWx1ZTtcbiAgICAobWVyZ2VkVmFsdWUgYXMgdW5rbm93bltdKS5wdXNoKHZhbHVlKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBub25lIG9mIHRoZXNlIHZhbHVlcyBhcmUgYXJyYXlcbiAgICBtZXJnZWRWYWx1ZSA9IFt2YWx1ZSwgYW5vdGhlclZhbHVlXTtcbiAgfVxuICByZXR1cm4gbWVyZ2VkVmFsdWU7XG59XG5cbmZ1bmN0aW9uIGdldEV2ZW50UHJvcChyZWNvcmQ6IFJlY29yZDxzdHJpbmcsIHVua25vd24+LCBwcm9wS2V5OiBzdHJpbmcpOiB1bmtub3duIHwgbnVsbCB7XG4gIGNvbnN0IGV2ZW50UHJvcCA9IHByb3BLZXkudG9Mb3dlckNhc2UoKTtcbiAgZm9yIChjb25zdCBwcm9wIGluIHJlY29yZCkge1xuICAgIGlmIChwcm9wLnRvTG93ZXJDYXNlKCkgPT09IGV2ZW50UHJvcCkge1xuICAgICAgcmV0dXJuIHJlY29yZFtwcm9wXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIHNldEV2ZW50KFxuICBzZXJpYWxpemF0aW9uQ3R4OiBTZXJpYWxpemF0aW9uQ29udGV4dCxcbiAga2V5OiBzdHJpbmcsXG4gIHJhd1ZhbHVlOiB1bmtub3duXG4pOiBzdHJpbmcgfCBudWxsIHtcbiAgbGV0IHZhbHVlOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgY29uc3QgcXJscyA9IHJhd1ZhbHVlO1xuXG4gIGNvbnN0IGFwcGVuZFRvVmFsdWUgPSAodmFsdWVUb0FwcGVuZDogc3RyaW5nKSA9PiB7XG4gICAgdmFsdWUgPSAodmFsdWUgPT0gbnVsbCA/ICcnIDogdmFsdWUgKyAnXFxuJykgKyB2YWx1ZVRvQXBwZW5kO1xuICB9O1xuXG4gIGlmIChBcnJheS5pc0FycmF5KHFybHMpKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gcXJscy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgcXJsOiB1bmtub3duID0gcXJsc1tpXTtcbiAgICAgIGlmIChpc1FybChxcmwpKSB7XG4gICAgICAgIGFwcGVuZFRvVmFsdWUocXJsVG9TdHJpbmcoc2VyaWFsaXphdGlvbkN0eCwgcXJsKSk7XG4gICAgICAgIGFkZFF3aWtFdmVudFRvU2VyaWFsaXphdGlvbkNvbnRleHQoc2VyaWFsaXphdGlvbkN0eCwga2V5LCBxcmwpO1xuICAgICAgfSBlbHNlIGlmIChxcmwgIT0gbnVsbCkge1xuICAgICAgICAvLyBuZXN0ZWQgYXJyYXlzIGV0Yy5cbiAgICAgICAgY29uc3QgbmVzdGVkVmFsdWUgPSBzZXRFdmVudChzZXJpYWxpemF0aW9uQ3R4LCBrZXksIHFybCk7XG4gICAgICAgIGlmIChuZXN0ZWRWYWx1ZSkge1xuICAgICAgICAgIGFwcGVuZFRvVmFsdWUobmVzdGVkVmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzUXJsKHFybHMpKSB7XG4gICAgdmFsdWUgPSBxcmxUb1N0cmluZyhzZXJpYWxpemF0aW9uQ3R4LCBxcmxzKTtcbiAgICBhZGRRd2lrRXZlbnRUb1NlcmlhbGl6YXRpb25Db250ZXh0KHNlcmlhbGl6YXRpb25DdHgsIGtleSwgcXJscyk7XG4gIH1cblxuICByZXR1cm4gdmFsdWU7XG59XG5cbmZ1bmN0aW9uIGFkZFF3aWtFdmVudFRvU2VyaWFsaXphdGlvbkNvbnRleHQoXG4gIHNlcmlhbGl6YXRpb25DdHg6IFNlcmlhbGl6YXRpb25Db250ZXh0LFxuICBrZXk6IHN0cmluZyxcbiAgcXJsOiBRUkxcbikge1xuICBjb25zdCBldmVudE5hbWUgPSBnZXRFdmVudE5hbWVGcm9tSnN4UHJvcChrZXkpO1xuICBpZiAoZXZlbnROYW1lKSB7XG4gICAgc2VyaWFsaXphdGlvbkN0eC4kZXZlbnROYW1lcyQuYWRkKGV2ZW50TmFtZSk7XG4gICAgc2VyaWFsaXphdGlvbkN0eC4kZXZlbnRRcmxzJC5hZGQocXJsKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBhZGRQcmV2ZW50RGVmYXVsdEV2ZW50VG9TZXJpYWxpemF0aW9uQ29udGV4dChcbiAgc2VyaWFsaXphdGlvbkN0eDogU2VyaWFsaXphdGlvbkNvbnRleHQsXG4gIGtleTogc3RyaW5nXG4pIHtcbiAgLy8gc2tpcCBmaXJzdCAxNSBjaGFycywgdGhpcyBpcyBsZW5ndGggb2YgdGhlIGBwcmV2ZW50ZGVmYXVsdDpgXG4gIGNvbnN0IGV2ZW50TmFtZSA9IGtleS5zdWJzdHJpbmcoMTUpO1xuICBpZiAoZXZlbnROYW1lKSB7XG4gICAgc2VyaWFsaXphdGlvbkN0eC4kZXZlbnROYW1lcyQuYWRkKGV2ZW50TmFtZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0U2xvdE5hbWUoaG9zdDogSVNzck5vZGUsIGpzeDogSlNYTm9kZSwgc3NyOiBTU1JDb250YWluZXIpOiBzdHJpbmcge1xuICBjb25zdCBjb25zdFByb3BzID0ganN4LmNvbnN0UHJvcHM7XG4gIGlmIChjb25zdFByb3BzICYmIHR5cGVvZiBjb25zdFByb3BzID09ICdvYmplY3QnICYmICduYW1lJyBpbiBjb25zdFByb3BzKSB7XG4gICAgY29uc3QgY29uc3RWYWx1ZSA9IGNvbnN0UHJvcHMubmFtZTtcbiAgICBpZiAoY29uc3RWYWx1ZSBpbnN0YW5jZW9mIFdyYXBwZWRTaWduYWwpIHtcbiAgICAgIHJldHVybiB0cmFja1NpZ25hbCgoKSA9PiBjb25zdFZhbHVlLnZhbHVlLCBob3N0LCBFZmZlY3RQcm9wZXJ0eS5DT01QT05FTlQsIHNzcik7XG4gICAgfVxuICB9XG4gIHJldHVybiBkaXJlY3RHZXRQcm9wc1Byb3h5UHJvcChqc3gsICduYW1lJykgfHwgUURlZmF1bHRTbG90O1xufVxuXG5mdW5jdGlvbiBhcHBlbmRRd2lrSW5zcGVjdG9yQXR0cmlidXRlKGpzeDogSlNYTm9kZSkge1xuICBpZiAoaXNEZXYgJiYgcUluc3BlY3RvciAmJiBqc3guZGV2ICYmIGpzeC50eXBlICE9PSAnaGVhZCcpIHtcbiAgICBjb25zdCBzYW5pdGl6ZWRGaWxlTmFtZSA9IGpzeC5kZXYuZmlsZU5hbWU/LnJlcGxhY2UoL1xcXFwvZywgJy8nKTtcbiAgICBjb25zdCBxd2lrSW5zcGVjdG9yQXR0ciA9ICdkYXRhLXF3aWstaW5zcGVjdG9yJztcbiAgICBpZiAoc2FuaXRpemVkRmlsZU5hbWUgJiYgKCFqc3guY29uc3RQcm9wcyB8fCAhKHF3aWtJbnNwZWN0b3JBdHRyIGluIGpzeC5jb25zdFByb3BzKSkpIHtcbiAgICAgIChqc3guY29uc3RQcm9wcyB8fD0ge30pW3F3aWtJbnNwZWN0b3JBdHRyXSA9XG4gICAgICAgIGAke3Nhbml0aXplZEZpbGVOYW1lfToke2pzeC5kZXYubGluZU51bWJlcn06JHtqc3guZGV2LmNvbHVtbk51bWJlcn1gO1xuICAgIH1cbiAgfVxufVxuXG4vLyBhcHBlbmQgY2xhc3MgYXR0cmlidXRlIGlmIHN0eWxlU2NvcGVkSWQgZXhpc3RzIGFuZCB0aGVyZSBpcyBubyBjbGFzcyBhdHRyaWJ1dGVcbmZ1bmN0aW9uIGFwcGVuZENsYXNzSWZTY29wZWRTdHlsZUV4aXN0cyhqc3g6IEpTWE5vZGUsIHN0eWxlU2NvcGVkOiBzdHJpbmcgfCBudWxsKSB7XG4gIGNvbnN0IGNsYXNzQXR0cmlidXRlRXhpc3RzID0gZGlyZWN0R2V0UHJvcHNQcm94eVByb3AoanN4LCAnY2xhc3MnKSAhPSBudWxsO1xuICBpZiAoIWNsYXNzQXR0cmlidXRlRXhpc3RzICYmIHN0eWxlU2NvcGVkKSB7XG4gICAgaWYgKCFqc3guY29uc3RQcm9wcykge1xuICAgICAganN4LmNvbnN0UHJvcHMgPSB7fTtcbiAgICB9XG4gICAganN4LmNvbnN0UHJvcHNbJ2NsYXNzJ10gPSAnJztcbiAgfVxufVxuIl19","/**\n * QWIK_VERSION\n *\n * @public\n */\nexport const version = globalThis.QWIK_VERSION;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVyc2lvbi5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS92ZXJzaW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0dBSUc7QUFDSCxNQUFNLENBQUMsTUFBTSxPQUFPLEdBQUksVUFBa0IsQ0FBQyxZQUFzQixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBRV0lLX1ZFUlNJT05cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCB2ZXJzaW9uID0gKGdsb2JhbFRoaXMgYXMgYW55KS5RV0lLX1ZFUlNJT04gYXMgc3RyaW5nO1xuIl19","import { trackSignal } from '../use/use-core';\nimport { version } from '../version';\nimport { createScheduler } from './scheduler';\nimport { createSerializationContext } from './shared-serialization';\n/** @internal */\nexport class _SharedContainer {\n    constructor(scheduleDrain, journalFlush, serverData, locale) {\n        this.$currentUniqueId$ = 0;\n        this.$instanceHash$ = null;\n        this.$serverData$ = serverData;\n        this.$locale$ = locale;\n        this.$version$ = version;\n        this.$storeProxyMap$ = new WeakMap();\n        this.$getObjectById$ = (id) => {\n            throw Error('Not implemented');\n        };\n        this.$scheduler$ = createScheduler(this, scheduleDrain, journalFlush);\n    }\n    trackSignalValue(signal, subscriber, property, data) {\n        return trackSignal(() => signal.value, subscriber, property, this, data);\n    }\n    serializationCtxFactory(NodeConstructor, symbolToChunkResolver, writer) {\n        return createSerializationContext(NodeConstructor, symbolToChunkResolver, this.getHostProp.bind(this), this.setHostProp.bind(this), this.$storeProxyMap$, writer);\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2hhcmVkLWNvbnRhaW5lci5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9zaGFyZWQvc2hhcmVkLWNvbnRhaW5lci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQSxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFFOUMsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLFlBQVksQ0FBQztBQUtyQyxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sYUFBYSxDQUFDO0FBQzlDLE9BQU8sRUFBRSwwQkFBMEIsRUFBNkIsTUFBTSx3QkFBd0IsQ0FBQztBQUcvRixnQkFBZ0I7QUFDaEIsTUFBTSxPQUFnQixnQkFBZ0I7SUFZcEMsWUFDRSxhQUF5QixFQUN6QixZQUF3QixFQUN4QixVQUErQixFQUMvQixNQUFjO1FBUGhCLHNCQUFpQixHQUFHLENBQUMsQ0FBQztRQUN0QixtQkFBYyxHQUFrQixJQUFJLENBQUM7UUFRbkMsSUFBSSxDQUFDLFlBQVksR0FBRyxVQUFVLENBQUM7UUFDL0IsSUFBSSxDQUFDLFFBQVEsR0FBRyxNQUFNLENBQUM7UUFDdkIsSUFBSSxDQUFDLFNBQVMsR0FBRyxPQUFPLENBQUM7UUFDekIsSUFBSSxDQUFDLGVBQWUsR0FBRyxJQUFJLE9BQU8sRUFBRSxDQUFDO1FBQ3JDLElBQUksQ0FBQyxlQUFlLEdBQUcsQ0FBQyxFQUFtQixFQUFFLEVBQUU7WUFDN0MsTUFBTSxLQUFLLENBQUMsaUJBQWlCLENBQUMsQ0FBQztRQUNqQyxDQUFDLENBQUM7UUFFRixJQUFJLENBQUMsV0FBVyxHQUFHLGVBQWUsQ0FBQyxJQUFJLEVBQUUsYUFBYSxFQUFFLFlBQVksQ0FBQyxDQUFDO0lBQ3hFLENBQUM7SUFFRCxnQkFBZ0IsQ0FBSSxNQUFjLEVBQUUsVUFBa0IsRUFBRSxRQUFnQixFQUFFLElBQWdCO1FBQ3hGLE9BQU8sV0FBVyxDQUFDLEdBQUcsRUFBRSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsVUFBVSxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDM0UsQ0FBQztJQUVELHVCQUF1QixDQUNyQixlQUVRLEVBQ1IscUJBQTRDLEVBQzVDLE1BQXFCO1FBRXJCLE9BQU8sMEJBQTBCLENBQy9CLGVBQWUsRUFDZixxQkFBcUIsRUFDckIsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQzNCLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUMzQixJQUFJLENBQUMsZUFBZSxFQUNwQixNQUFNLENBQ1AsQ0FBQztJQUNKLENBQUM7Q0FnQkYiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IEpTWE91dHB1dCB9IGZyb20gJy4vanN4L3R5cGVzL2pzeC1ub2RlJztcbmltcG9ydCB0eXBlIHsgQ29udGV4dElkIH0gZnJvbSAnLi4vdXNlL3VzZS1jb250ZXh0JztcbmltcG9ydCB7IHRyYWNrU2lnbmFsIH0gZnJvbSAnLi4vdXNlL3VzZS1jb3JlJztcbmltcG9ydCB0eXBlIHsgVmFsdWVPclByb21pc2UgfSBmcm9tICcuL3V0aWxzL3R5cGVzJztcbmltcG9ydCB7IHZlcnNpb24gfSBmcm9tICcuLi92ZXJzaW9uJztcbmltcG9ydCB0eXBlIHsgRWZmZWN0LCBFZmZlY3REYXRhIH0gZnJvbSAnLi4vc2lnbmFsL3NpZ25hbCc7XG5pbXBvcnQgdHlwZSB7IFNpZ25hbCB9IGZyb20gJy4uL3NpZ25hbC9zaWduYWwucHVibGljJztcbmltcG9ydCB0eXBlIHsgU3RyZWFtV3JpdGVyLCBTeW1ib2xUb0NodW5rUmVzb2x2ZXIgfSBmcm9tICcuLi9zc3Ivc3NyLXR5cGVzJztcbmltcG9ydCB0eXBlIHsgU2NoZWR1bGVyIH0gZnJvbSAnLi9zY2hlZHVsZXInO1xuaW1wb3J0IHsgY3JlYXRlU2NoZWR1bGVyIH0gZnJvbSAnLi9zY2hlZHVsZXInO1xuaW1wb3J0IHsgY3JlYXRlU2VyaWFsaXphdGlvbkNvbnRleHQsIHR5cGUgU2VyaWFsaXphdGlvbkNvbnRleHQgfSBmcm9tICcuL3NoYXJlZC1zZXJpYWxpemF0aW9uJztcbmltcG9ydCB0eXBlIHsgQ29udGFpbmVyLCBIb3N0RWxlbWVudCwgT2JqVG9Qcm94eU1hcCB9IGZyb20gJy4vdHlwZXMnO1xuXG4vKiogQGludGVybmFsICovXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgX1NoYXJlZENvbnRhaW5lciBpbXBsZW1lbnRzIENvbnRhaW5lciB7XG4gIHJlYWRvbmx5ICR2ZXJzaW9uJDogc3RyaW5nO1xuICByZWFkb25seSAkc2NoZWR1bGVyJDogU2NoZWR1bGVyO1xuICByZWFkb25seSAkc3RvcmVQcm94eU1hcCQ6IE9ialRvUHJveHlNYXA7XG4gIC8vLyBDdXJyZW50IGxhbmd1YWdlIGxvY2FsZVxuICByZWFkb25seSAkbG9jYWxlJDogc3RyaW5nO1xuICAvLy8gUmV0cmlldmUgT2JqZWN0IGZyb20gcGF1c2VkIHNlcmlhbGl6ZWQgc3RhdGUuXG4gIHJlYWRvbmx5ICRnZXRPYmplY3RCeUlkJDogKGlkOiBudW1iZXIgfCBzdHJpbmcpID0+IGFueTtcbiAgJHNlcnZlckRhdGEkOiBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xuICAkY3VycmVudFVuaXF1ZUlkJCA9IDA7XG4gICRpbnN0YW5jZUhhc2gkOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBzY2hlZHVsZURyYWluOiAoKSA9PiB2b2lkLFxuICAgIGpvdXJuYWxGbHVzaDogKCkgPT4gdm9pZCxcbiAgICBzZXJ2ZXJEYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+LFxuICAgIGxvY2FsZTogc3RyaW5nXG4gICkge1xuICAgIHRoaXMuJHNlcnZlckRhdGEkID0gc2VydmVyRGF0YTtcbiAgICB0aGlzLiRsb2NhbGUkID0gbG9jYWxlO1xuICAgIHRoaXMuJHZlcnNpb24kID0gdmVyc2lvbjtcbiAgICB0aGlzLiRzdG9yZVByb3h5TWFwJCA9IG5ldyBXZWFrTWFwKCk7XG4gICAgdGhpcy4kZ2V0T2JqZWN0QnlJZCQgPSAoaWQ6IG51bWJlciB8IHN0cmluZykgPT4ge1xuICAgICAgdGhyb3cgRXJyb3IoJ05vdCBpbXBsZW1lbnRlZCcpO1xuICAgIH07XG5cbiAgICB0aGlzLiRzY2hlZHVsZXIkID0gY3JlYXRlU2NoZWR1bGVyKHRoaXMsIHNjaGVkdWxlRHJhaW4sIGpvdXJuYWxGbHVzaCk7XG4gIH1cblxuICB0cmFja1NpZ25hbFZhbHVlPFQ+KHNpZ25hbDogU2lnbmFsLCBzdWJzY3JpYmVyOiBFZmZlY3QsIHByb3BlcnR5OiBzdHJpbmcsIGRhdGE6IEVmZmVjdERhdGEpOiBUIHtcbiAgICByZXR1cm4gdHJhY2tTaWduYWwoKCkgPT4gc2lnbmFsLnZhbHVlLCBzdWJzY3JpYmVyLCBwcm9wZXJ0eSwgdGhpcywgZGF0YSk7XG4gIH1cblxuICBzZXJpYWxpemF0aW9uQ3R4RmFjdG9yeShcbiAgICBOb2RlQ29uc3RydWN0b3I6IHtcbiAgICAgIG5ldyAoLi4ucmVzdDogYW55W10pOiB7IG5vZGVUeXBlOiBudW1iZXI7IGlkOiBzdHJpbmcgfTtcbiAgICB9IHwgbnVsbCxcbiAgICBzeW1ib2xUb0NodW5rUmVzb2x2ZXI6IFN5bWJvbFRvQ2h1bmtSZXNvbHZlcixcbiAgICB3cml0ZXI/OiBTdHJlYW1Xcml0ZXJcbiAgKTogU2VyaWFsaXphdGlvbkNvbnRleHQge1xuICAgIHJldHVybiBjcmVhdGVTZXJpYWxpemF0aW9uQ29udGV4dChcbiAgICAgIE5vZGVDb25zdHJ1Y3RvcixcbiAgICAgIHN5bWJvbFRvQ2h1bmtSZXNvbHZlcixcbiAgICAgIHRoaXMuZ2V0SG9zdFByb3AuYmluZCh0aGlzKSxcbiAgICAgIHRoaXMuc2V0SG9zdFByb3AuYmluZCh0aGlzKSxcbiAgICAgIHRoaXMuJHN0b3JlUHJveHlNYXAkLFxuICAgICAgd3JpdGVyXG4gICAgKTtcbiAgfVxuXG4gIGFic3RyYWN0IGVuc3VyZVByb2plY3Rpb25SZXNvbHZlZChob3N0OiBIb3N0RWxlbWVudCk6IHZvaWQ7XG4gIGFic3RyYWN0IHByb2Nlc3NKc3goaG9zdDogSG9zdEVsZW1lbnQsIGpzeDogSlNYT3V0cHV0KTogVmFsdWVPclByb21pc2U8dm9pZD47XG4gIGFic3RyYWN0IGhhbmRsZUVycm9yKGVycjogYW55LCAkaG9zdCQ6IEhvc3RFbGVtZW50KTogdm9pZDtcbiAgYWJzdHJhY3QgZ2V0UGFyZW50SG9zdChob3N0OiBIb3N0RWxlbWVudCk6IEhvc3RFbGVtZW50IHwgbnVsbDtcbiAgYWJzdHJhY3Qgc2V0Q29udGV4dDxUPihob3N0OiBIb3N0RWxlbWVudCwgY29udGV4dDogQ29udGV4dElkPFQ+LCB2YWx1ZTogVCk6IHZvaWQ7XG4gIGFic3RyYWN0IHJlc29sdmVDb250ZXh0PFQ+KGhvc3Q6IEhvc3RFbGVtZW50LCBjb250ZXh0SWQ6IENvbnRleHRJZDxUPik6IFQgfCB1bmRlZmluZWQ7XG4gIGFic3RyYWN0IHNldEhvc3RQcm9wPFQ+KGhvc3Q6IEhvc3RFbGVtZW50LCBuYW1lOiBzdHJpbmcsIHZhbHVlOiBUKTogdm9pZDtcbiAgYWJzdHJhY3QgZ2V0SG9zdFByb3A8VD4oaG9zdDogSG9zdEVsZW1lbnQsIG5hbWU6IHN0cmluZyk6IFQgfCBudWxsO1xuICBhYnN0cmFjdCAkYXBwZW5kU3R5bGUkKFxuICAgIGNvbnRlbnQ6IHN0cmluZyxcbiAgICBzdHlsZUlkOiBzdHJpbmcsXG4gICAgaG9zdDogSG9zdEVsZW1lbnQsXG4gICAgc2NvcGVkOiBib29sZWFuXG4gICk6IHZvaWQ7XG59XG4iXX0=","export const QObjectRecursive = 1 << 0;\nexport const QObjectImmutable = 1 << 1;\nexport const QObjectTargetSymbol = Symbol('proxy target');\nexport const QObjectFlagsSymbol = Symbol('proxy flags');\nexport const QObjectManagerSymbol = Symbol('proxy manager');\n/** @internal */\nexport const _CONST_PROPS = Symbol('CONST');\n/** @internal */\nexport const _VAR_PROPS = Symbol('VAR');\n/** @internal @deprecated v1 compat */\nexport const _IMMUTABLE = Symbol('IMMUTABLE');\n/** @deprecated */\nexport const _IMMUTABLE_PREFIX = '$$';\n/**\n * @internal\n * Key for the virtual element stored on qv comments\n */\nexport const VIRTUAL_SYMBOL = '__virtual';\n/**\n * @internal\n * Key for the `QContext` object stored on QwikElements\n */\nexport const Q_CTX = '_qc_';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uc3RhbnRzLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3NoYXJlZC91dGlscy9jb25zdGFudHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTSxDQUFDLE1BQU0sZ0JBQWdCLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUN2QyxNQUFNLENBQUMsTUFBTSxnQkFBZ0IsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO0FBRXZDLE1BQU0sQ0FBQyxNQUFNLG1CQUFtQixHQUFHLE1BQU0sQ0FBQyxjQUFjLENBQUMsQ0FBQztBQUMxRCxNQUFNLENBQUMsTUFBTSxrQkFBa0IsR0FBRyxNQUFNLENBQUMsYUFBYSxDQUFDLENBQUM7QUFDeEQsTUFBTSxDQUFDLE1BQU0sb0JBQW9CLEdBQUcsTUFBTSxDQUFDLGVBQWUsQ0FBQyxDQUFDO0FBRTVELGdCQUFnQjtBQUNoQixNQUFNLENBQUMsTUFBTSxZQUFZLEdBQUcsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0FBQzVDLGdCQUFnQjtBQUNoQixNQUFNLENBQUMsTUFBTSxVQUFVLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBRXhDLHNDQUFzQztBQUN0QyxNQUFNLENBQUMsTUFBTSxVQUFVLEdBQUcsTUFBTSxDQUFDLFdBQVcsQ0FBQyxDQUFDO0FBQzlDLGtCQUFrQjtBQUNsQixNQUFNLENBQUMsTUFBTSxpQkFBaUIsR0FBRyxJQUFJLENBQUM7QUFFdEM7OztHQUdHO0FBQ0gsTUFBTSxDQUFDLE1BQU0sY0FBYyxHQUFHLFdBQVcsQ0FBQztBQUMxQzs7O0dBR0c7QUFDSCxNQUFNLENBQUMsTUFBTSxLQUFLLEdBQUcsTUFBTSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IFFPYmplY3RSZWN1cnNpdmUgPSAxIDw8IDA7XG5leHBvcnQgY29uc3QgUU9iamVjdEltbXV0YWJsZSA9IDEgPDwgMTtcblxuZXhwb3J0IGNvbnN0IFFPYmplY3RUYXJnZXRTeW1ib2wgPSBTeW1ib2woJ3Byb3h5IHRhcmdldCcpO1xuZXhwb3J0IGNvbnN0IFFPYmplY3RGbGFnc1N5bWJvbCA9IFN5bWJvbCgncHJveHkgZmxhZ3MnKTtcbmV4cG9ydCBjb25zdCBRT2JqZWN0TWFuYWdlclN5bWJvbCA9IFN5bWJvbCgncHJveHkgbWFuYWdlcicpO1xuXG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgX0NPTlNUX1BST1BTID0gU3ltYm9sKCdDT05TVCcpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IF9WQVJfUFJPUFMgPSBTeW1ib2woJ1ZBUicpO1xuXG4vKiogQGludGVybmFsIEBkZXByZWNhdGVkIHYxIGNvbXBhdCAqL1xuZXhwb3J0IGNvbnN0IF9JTU1VVEFCTEUgPSBTeW1ib2woJ0lNTVVUQUJMRScpO1xuLyoqIEBkZXByZWNhdGVkICovXG5leHBvcnQgY29uc3QgX0lNTVVUQUJMRV9QUkVGSVggPSAnJCQnO1xuXG4vKipcbiAqIEBpbnRlcm5hbFxuICogS2V5IGZvciB0aGUgdmlydHVhbCBlbGVtZW50IHN0b3JlZCBvbiBxdiBjb21tZW50c1xuICovXG5leHBvcnQgY29uc3QgVklSVFVBTF9TWU1CT0wgPSAnX192aXJ0dWFsJztcbi8qKlxuICogQGludGVybmFsXG4gKiBLZXkgZm9yIHRoZSBgUUNvbnRleHRgIG9iamVjdCBzdG9yZWQgb24gUXdpa0VsZW1lbnRzXG4gKi9cbmV4cG9ydCBjb25zdCBRX0NUWCA9ICdfcWNfJztcbiJdfQ==","import { _CONST_PROPS, _IMMUTABLE } from '../shared/utils/constants';\nimport { assertEqual } from '../shared/error/assert';\nimport { isObject } from '../shared/utils/types';\nimport { WrappedSignal } from './signal';\nimport { isSignal } from './signal.public';\nimport { getStoreTarget } from './store';\nimport { isPropsProxy } from '../shared/jsx/jsx-runtime';\nconst getProp = (...args) => {\n    const obj = args[0];\n    const prop = args.length < 2 ? 'value' : args[1];\n    return obj[prop];\n};\nconst getWrapped = (args) => new WrappedSignal(null, getProp, args, null);\n/**\n * This wraps a property access of a possible Signal/Store into a WrappedSignal. The optimizer does\n * this automatically when a prop is only used as a prop on JSX.\n *\n * When a WrappedSignal is read via the PropsProxy, it will be unwrapped. This allows forwarding the\n * reactivity of a prop to the point of actual use.\n *\n * For efficiency, if you pass only one argument, the property is 'value'.\n *\n * @internal\n */\nexport const _wrapProp = (...args) => {\n    const obj = args[0];\n    const prop = args.length < 2 ? 'value' : args[1];\n    if (!isObject(obj)) {\n        return obj[prop];\n    }\n    if (isSignal(obj)) {\n        assertEqual(prop, 'value', 'Left side is a signal, prop must be value');\n        if (obj instanceof WrappedSignal) {\n            return obj;\n        }\n        return getWrapped(args);\n    }\n    if (isPropsProxy(obj)) {\n        const constProps = obj[_CONST_PROPS];\n        if (constProps && prop in constProps) {\n            // Const props don't need wrapping\n            return constProps[prop];\n        }\n    }\n    else {\n        const target = getStoreTarget(obj);\n        if (target) {\n            const value = target[prop];\n            const wrappedValue = isSignal(value)\n                ? // If the value is already a signal, we don't need to wrap it again\n                    value\n                : getWrapped(args);\n            return wrappedValue;\n        }\n    }\n    // We need to forward the access to the original object\n    return getWrapped(args);\n};\n/** @internal @deprecated v1 compat */\nexport const _wrapSignal = (obj, prop) => {\n    const r = _wrapProp(obj, prop);\n    if (r === _IMMUTABLE) {\n        return obj[prop];\n    }\n    return r;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2lnbmFsLXV0aWxzLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3NpZ25hbC9zaWduYWwtdXRpbHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFlBQVksRUFBRSxVQUFVLEVBQUUsTUFBTSwyQkFBMkIsQ0FBQztBQUNyRSxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sd0JBQXdCLENBQUM7QUFDckQsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLHVCQUF1QixDQUFDO0FBQ2pELE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSxVQUFVLENBQUM7QUFDekMsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQzNDLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSxTQUFTLENBQUM7QUFDekMsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLDJCQUEyQixDQUFDO0FBRXpELE1BQU0sT0FBTyxHQUFHLENBQUMsR0FBRyxJQUFvQixFQUFFLEVBQUU7SUFDMUMsTUFBTSxHQUFHLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3BCLE1BQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUUsQ0FBQztJQUNsRCxPQUFPLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUNuQixDQUFDLENBQUM7QUFFRixNQUFNLFVBQVUsR0FBRyxDQUFDLElBQVcsRUFBRSxFQUFFLENBQUMsSUFBSSxhQUFhLENBQUMsSUFBSSxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7QUFFakY7Ozs7Ozs7Ozs7R0FVRztBQUNILE1BQU0sQ0FBQyxNQUFNLFNBQVMsR0FBRyxDQUFnRCxHQUFHLElBQWEsRUFBTyxFQUFFO0lBQ2hHLE1BQU0sR0FBRyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNwQixNQUFNLElBQUksR0FBRyxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFFLENBQUM7SUFFbEQsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDO1FBQ25CLE9BQU8sR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ25CLENBQUM7SUFDRCxJQUFJLFFBQVEsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDO1FBQ2xCLFdBQVcsQ0FBQyxJQUFJLEVBQUUsT0FBTyxFQUFFLDJDQUEyQyxDQUFDLENBQUM7UUFDeEUsSUFBSSxHQUFHLFlBQVksYUFBYSxFQUFFLENBQUM7WUFDakMsT0FBTyxHQUFHLENBQUM7UUFDYixDQUFDO1FBQ0QsT0FBTyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDMUIsQ0FBQztJQUNELElBQUksWUFBWSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUM7UUFDdEIsTUFBTSxVQUFVLEdBQUcsR0FBRyxDQUFDLFlBQVksQ0FBUSxDQUFDO1FBQzVDLElBQUksVUFBVSxJQUFJLElBQUksSUFBSSxVQUFVLEVBQUUsQ0FBQztZQUNyQyxrQ0FBa0M7WUFDbEMsT0FBTyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDMUIsQ0FBQztJQUNILENBQUM7U0FBTSxDQUFDO1FBQ04sTUFBTSxNQUFNLEdBQUcsY0FBYyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ25DLElBQUksTUFBTSxFQUFFLENBQUM7WUFDWCxNQUFNLEtBQUssR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDM0IsTUFBTSxZQUFZLEdBQUcsUUFBUSxDQUFDLEtBQUssQ0FBQztnQkFDbEMsQ0FBQyxDQUFDLG1FQUFtRTtvQkFDbkUsS0FBSztnQkFDUCxDQUFDLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ3JCLE9BQU8sWUFBWSxDQUFDO1FBQ3RCLENBQUM7SUFDSCxDQUFDO0lBQ0QsdURBQXVEO0lBQ3ZELE9BQU8sVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQzFCLENBQUMsQ0FBQztBQUVGLHNDQUFzQztBQUN0QyxNQUFNLENBQUMsTUFBTSxXQUFXLEdBQUcsQ0FDekIsR0FBTSxFQUNOLElBQU8sRUFDRixFQUFFO0lBQ1AsTUFBTSxDQUFDLEdBQUcsU0FBUyxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUMvQixJQUFJLENBQUMsS0FBSyxVQUFVLEVBQUUsQ0FBQztRQUNyQixPQUFPLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNuQixDQUFDO0lBQ0QsT0FBTyxDQUFDLENBQUM7QUFDWCxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfQ09OU1RfUFJPUFMsIF9JTU1VVEFCTEUgfSBmcm9tICcuLi9zaGFyZWQvdXRpbHMvY29uc3RhbnRzJztcbmltcG9ydCB7IGFzc2VydEVxdWFsIH0gZnJvbSAnLi4vc2hhcmVkL2Vycm9yL2Fzc2VydCc7XG5pbXBvcnQgeyBpc09iamVjdCB9IGZyb20gJy4uL3NoYXJlZC91dGlscy90eXBlcyc7XG5pbXBvcnQgeyBXcmFwcGVkU2lnbmFsIH0gZnJvbSAnLi9zaWduYWwnO1xuaW1wb3J0IHsgaXNTaWduYWwgfSBmcm9tICcuL3NpZ25hbC5wdWJsaWMnO1xuaW1wb3J0IHsgZ2V0U3RvcmVUYXJnZXQgfSBmcm9tICcuL3N0b3JlJztcbmltcG9ydCB7IGlzUHJvcHNQcm94eSB9IGZyb20gJy4uL3NoYXJlZC9qc3gvanN4LXJ1bnRpbWUnO1xuXG5jb25zdCBnZXRQcm9wID0gKC4uLmFyZ3M6IFthbnksIHN0cmluZz9dKSA9PiB7XG4gIGNvbnN0IG9iaiA9IGFyZ3NbMF07XG4gIGNvbnN0IHByb3AgPSBhcmdzLmxlbmd0aCA8IDIgPyAndmFsdWUnIDogYXJnc1sxXSE7XG4gIHJldHVybiBvYmpbcHJvcF07XG59O1xuXG5jb25zdCBnZXRXcmFwcGVkID0gKGFyZ3M6IGFueVtdKSA9PiBuZXcgV3JhcHBlZFNpZ25hbChudWxsLCBnZXRQcm9wLCBhcmdzLCBudWxsKTtcblxuLyoqXG4gKiBUaGlzIHdyYXBzIGEgcHJvcGVydHkgYWNjZXNzIG9mIGEgcG9zc2libGUgU2lnbmFsL1N0b3JlIGludG8gYSBXcmFwcGVkU2lnbmFsLiBUaGUgb3B0aW1pemVyIGRvZXNcbiAqIHRoaXMgYXV0b21hdGljYWxseSB3aGVuIGEgcHJvcCBpcyBvbmx5IHVzZWQgYXMgYSBwcm9wIG9uIEpTWC5cbiAqXG4gKiBXaGVuIGEgV3JhcHBlZFNpZ25hbCBpcyByZWFkIHZpYSB0aGUgUHJvcHNQcm94eSwgaXQgd2lsbCBiZSB1bndyYXBwZWQuIFRoaXMgYWxsb3dzIGZvcndhcmRpbmcgdGhlXG4gKiByZWFjdGl2aXR5IG9mIGEgcHJvcCB0byB0aGUgcG9pbnQgb2YgYWN0dWFsIHVzZS5cbiAqXG4gKiBGb3IgZWZmaWNpZW5jeSwgaWYgeW91IHBhc3Mgb25seSBvbmUgYXJndW1lbnQsIHRoZSBwcm9wZXJ0eSBpcyAndmFsdWUnLlxuICpcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgX3dyYXBQcm9wID0gPFQgZXh0ZW5kcyBSZWNvcmQ8YW55LCBhbnk+LCBQIGV4dGVuZHMga2V5b2YgVD4oLi4uYXJnczogW1QsIFA/XSk6IGFueSA9PiB7XG4gIGNvbnN0IG9iaiA9IGFyZ3NbMF07XG4gIGNvbnN0IHByb3AgPSBhcmdzLmxlbmd0aCA8IDIgPyAndmFsdWUnIDogYXJnc1sxXSE7XG5cbiAgaWYgKCFpc09iamVjdChvYmopKSB7XG4gICAgcmV0dXJuIG9ialtwcm9wXTtcbiAgfVxuICBpZiAoaXNTaWduYWwob2JqKSkge1xuICAgIGFzc2VydEVxdWFsKHByb3AsICd2YWx1ZScsICdMZWZ0IHNpZGUgaXMgYSBzaWduYWwsIHByb3AgbXVzdCBiZSB2YWx1ZScpO1xuICAgIGlmIChvYmogaW5zdGFuY2VvZiBXcmFwcGVkU2lnbmFsKSB7XG4gICAgICByZXR1cm4gb2JqO1xuICAgIH1cbiAgICByZXR1cm4gZ2V0V3JhcHBlZChhcmdzKTtcbiAgfVxuICBpZiAoaXNQcm9wc1Byb3h5KG9iaikpIHtcbiAgICBjb25zdCBjb25zdFByb3BzID0gb2JqW19DT05TVF9QUk9QU10gYXMgYW55O1xuICAgIGlmIChjb25zdFByb3BzICYmIHByb3AgaW4gY29uc3RQcm9wcykge1xuICAgICAgLy8gQ29uc3QgcHJvcHMgZG9uJ3QgbmVlZCB3cmFwcGluZ1xuICAgICAgcmV0dXJuIGNvbnN0UHJvcHNbcHJvcF07XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGNvbnN0IHRhcmdldCA9IGdldFN0b3JlVGFyZ2V0KG9iaik7XG4gICAgaWYgKHRhcmdldCkge1xuICAgICAgY29uc3QgdmFsdWUgPSB0YXJnZXRbcHJvcF07XG4gICAgICBjb25zdCB3cmFwcGVkVmFsdWUgPSBpc1NpZ25hbCh2YWx1ZSlcbiAgICAgICAgPyAvLyBJZiB0aGUgdmFsdWUgaXMgYWxyZWFkeSBhIHNpZ25hbCwgd2UgZG9uJ3QgbmVlZCB0byB3cmFwIGl0IGFnYWluXG4gICAgICAgICAgdmFsdWVcbiAgICAgICAgOiBnZXRXcmFwcGVkKGFyZ3MpO1xuICAgICAgcmV0dXJuIHdyYXBwZWRWYWx1ZTtcbiAgICB9XG4gIH1cbiAgLy8gV2UgbmVlZCB0byBmb3J3YXJkIHRoZSBhY2Nlc3MgdG8gdGhlIG9yaWdpbmFsIG9iamVjdFxuICByZXR1cm4gZ2V0V3JhcHBlZChhcmdzKTtcbn07XG5cbi8qKiBAaW50ZXJuYWwgQGRlcHJlY2F0ZWQgdjEgY29tcGF0ICovXG5leHBvcnQgY29uc3QgX3dyYXBTaWduYWwgPSA8VCBleHRlbmRzIFJlY29yZDxhbnksIGFueT4sIFAgZXh0ZW5kcyBrZXlvZiBUPihcbiAgb2JqOiBULFxuICBwcm9wOiBQXG4pOiBhbnkgPT4ge1xuICBjb25zdCByID0gX3dyYXBQcm9wKG9iaiwgcHJvcCk7XG4gIGlmIChyID09PSBfSU1NVVRBQkxFKSB7XG4gICAgcmV0dXJuIG9ialtwcm9wXTtcbiAgfVxuICByZXR1cm4gcjtcbn07XG4iXX0=","import { WrappedSignal } from '../../signal/signal';\n/** @internal */\nexport const _fnSignal = (fn, args, fnStr) => {\n    return new WrappedSignal(null, fn, args, fnStr || null);\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5saW5lZC1mbi5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9zaGFyZWQvcXJsL2lubGluZWQtZm4udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBRXBELGdCQUFnQjtBQUNoQixNQUFNLENBQUMsTUFBTSxTQUFTLEdBQUcsQ0FDdkIsRUFBSyxFQUNMLElBQW1CLEVBQ25CLEtBQWMsRUFDZCxFQUFFO0lBQ0YsT0FBTyxJQUFJLGFBQWEsQ0FBQyxJQUFJLEVBQUUsRUFBRSxFQUFFLElBQUksRUFBRSxLQUFLLElBQUksSUFBSSxDQUFDLENBQUM7QUFDMUQsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgV3JhcHBlZFNpZ25hbCB9IGZyb20gJy4uLy4uL3NpZ25hbC9zaWduYWwnO1xuXG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgX2ZuU2lnbmFsID0gPFQgZXh0ZW5kcyAoLi4uYXJnczogYW55KSA9PiBhbnk+KFxuICBmbjogVCxcbiAgYXJnczogUGFyYW1ldGVyczxUPixcbiAgZm5TdHI/OiBzdHJpbmdcbikgPT4ge1xuICByZXR1cm4gbmV3IFdyYXBwZWRTaWduYWwobnVsbCwgZm4sIGFyZ3MsIGZuU3RyIHx8IG51bGwpO1xufTtcbiJdfQ==","/** @file Shared types */\n/** @internal */\nexport function isStringifiable(value) {\n    return (value === null ||\n        typeof value === 'string' ||\n        typeof value === 'number' ||\n        typeof value === 'boolean');\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2hhcmVkLXR5cGVzLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3NoYXJlZC10eXBlcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSx5QkFBeUI7QUFLekIsZ0JBQWdCO0FBQ2hCLE1BQU0sVUFBVSxlQUFlLENBQUMsS0FBYztJQUM1QyxPQUFPLENBQ0wsS0FBSyxLQUFLLElBQUk7UUFDZCxPQUFPLEtBQUssS0FBSyxRQUFRO1FBQ3pCLE9BQU8sS0FBSyxLQUFLLFFBQVE7UUFDekIsT0FBTyxLQUFLLEtBQUssU0FBUyxDQUMzQixDQUFDO0FBQ0osQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKiBAZmlsZSBTaGFyZWQgdHlwZXMgKi9cblxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IHR5cGUgU3RyaW5naWZpYWJsZSA9IHN0cmluZyB8IGJvb2xlYW4gfCBudW1iZXIgfCBudWxsO1xuXG4vKiogQGludGVybmFsICovXG5leHBvcnQgZnVuY3Rpb24gaXNTdHJpbmdpZmlhYmxlKHZhbHVlOiB1bmtub3duKTogdmFsdWUgaXMgU3RyaW5naWZpYWJsZSB7XG4gIHJldHVybiAoXG4gICAgdmFsdWUgPT09IG51bGwgfHxcbiAgICB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnIHx8XG4gICAgdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyB8fFxuICAgIHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nXG4gICk7XG59XG4iXX0=","import {} from '../component.public';\nimport { _CONST_PROPS } from '../../internal';\nimport {} from '../qrl/qrl-class';\nimport { _VAR_PROPS } from '../utils/constants';\nimport { untrack } from '../../use/use-core';\nimport { EMPTY_OBJ } from '../utils/flyweight';\nimport { logOnceWarn, logWarn } from '../utils/log';\nimport { ELEMENT_ID, OnRenderProp, QScopedStyle, QSlot, QSlotS } from '../utils/markers';\nimport { qDev, seal } from '../utils/qdev';\nimport { isArray, isObject, isString } from '../utils/types';\nimport { WrappedSignal } from '../../signal/signal';\n/**\n * Create a JSXNode with the properties fully split into variable and constant parts, and children\n * separated out. Furthermore, the varProps must be a sorted object, that is, the keys must be\n * sorted in ascending utf-8 value order.\n *\n * The constant parts are expected to be the same on every render, and are not checked for changes.\n * This means that they are constant scalars or refs. When the ref is a signal or a store, it can\n * still update the attribute on the vnode.\n *\n * @param type - The JSX type\n * @param varProps - The properties of the tag, sorted, excluding children, excluding any constProps\n * @param constProps - The properties of the tag that are known to be constant references and don't\n *   need checking for changes on re-render\n * @param children - JSX children. Any `children` in the props objects are ignored.\n * @internal\n */\nexport const _jsxSorted = (type, varProps, constProps, children, flags, key, dev) => {\n    const processed = key == null ? null : String(key);\n    const node = new JSXNodeImpl(type, varProps || {}, constProps || null, children, flags, processed);\n    if (qDev && dev) {\n        node.dev = {\n            stack: new Error().stack,\n            ...dev,\n        };\n    }\n    seal(node);\n    return node;\n};\n/**\n * Create a JSXNode, with the properties split into variable and constant parts, but the variable\n * parts could include keys from constProps, as well as `key` and `children`.\n *\n * The constant parts are expected to be the same on every render, and are not checked for changes.\n * This means that they are constant scalars or refs. When the ref is a signal or a store, it can\n * still update the attribute on the vnode.\n *\n * If `children` is defined, any `children` in the props will be ignored.\n *\n * @param type - The tag type\n * @param varProps - The properties of the tag that could change, including children\n * @param constProps - The properties of the tag that are known to be static and don't need checking\n *   for changes on re-render\n * @internal\n */\nexport const _jsxSplit = (type, varProps, constProps, children, flags, key, dev) => {\n    let sortedProps;\n    if (varProps) {\n        // filter and sort\n        sortedProps = Object.fromEntries(untrack(() => Object.entries(varProps))\n            .filter((entry) => {\n            const attr = entry[0];\n            if (attr === 'children') {\n                // side-effect!\n                children ?? (children = entry[1]);\n                return false;\n            }\n            else if (attr === 'key') {\n                key = entry[1];\n                return false;\n            }\n            return (!constProps ||\n                !(attr in constProps) ||\n                // special case for event handlers, they merge\n                /^on[A-Z].*\\$$/.test(attr));\n        })\n            // sort for fast compare in vNodes\n            // keys can never be the same so we don't check for that\n            .sort(([a], [b]) => (a < b ? -1 : 1)));\n    }\n    else {\n        sortedProps = typeof type === 'string' ? EMPTY_OBJ : {};\n    }\n    if (constProps && 'children' in constProps) {\n        children = constProps.children;\n        constProps.children = undefined;\n    }\n    return _jsxSorted(type, sortedProps, constProps, children, flags, key, dev);\n};\n/** @internal @deprecated v1 compat */\nexport const _jsxC = (type, mutable, _flags, key) => jsx(type, mutable, key);\n/** @internal @deprecated v1 compat */\nexport const _jsxS = (type, mutable, immutable, _flags, key) => jsx(type, { ...immutable, ...mutable }, key);\n/** @internal @deprecated v1 compat */\nexport const _jsxQ = (type, mutable, immutable, children, _flags, key) => jsx(type, { ...immutable, ...mutable, children }, key);\n/**\n * @public\n * Used by the JSX transpilers to create a JSXNode.\n * Note that the optimizer will not use this, instead using _jsxSplit and _jsxSorted directly.\n */\nexport const jsx = (type, props, key) => {\n    return _jsxSplit(type, props, null, null, 0, key || null);\n};\nexport const flattenArray = (array, dst) => {\n    // Yes this function is just Array.flat, but we need to run on old versions of Node.\n    if (!dst) {\n        dst = [];\n    }\n    for (const item of array) {\n        if (isArray(item)) {\n            flattenArray(item, dst);\n        }\n        else {\n            dst.push(item);\n        }\n    }\n    return dst;\n};\n/**\n * The legacy transform, used in special cases like `<div {...props} key=\"key\" />`. Note that the\n * children are spread arguments, instead of a prop like in jsx() calls.\n *\n * Also note that this disables optimizations.\n *\n * @public\n */\nexport function h(type, props, ...children) {\n    const normalizedProps = {\n        children: arguments.length > 2 ? flattenArray(children) : null,\n    };\n    let key = null;\n    for (const i in props) {\n        if (i == 'key') {\n            key = props[i];\n        }\n        else {\n            normalizedProps[i] = props[i];\n        }\n    }\n    if (typeof type === 'string' && !key && 'dangerouslySetInnerHTML' in normalizedProps) {\n        key = 'innerhtml';\n    }\n    return _jsxSplit(type, props, null, normalizedProps.children, 0, key);\n}\nexport const SKIP_RENDER_TYPE = ':skipRender';\nexport const isPropsProxy = (obj) => {\n    return obj && obj[_VAR_PROPS] !== undefined;\n};\nexport class JSXNodeImpl {\n    constructor(type, varProps, constProps, children, flags, key = null) {\n        this.type = type;\n        this.varProps = varProps;\n        this.constProps = constProps;\n        this.children = children;\n        this.flags = flags;\n        this.key = key;\n        this._proxy = null;\n        if (qDev) {\n            if (typeof varProps !== 'object') {\n                throw new Error(`JSXNodeImpl: varProps must be objects: ` + JSON.stringify(varProps));\n            }\n            if (typeof constProps !== 'object') {\n                throw new Error(`JSXNodeImpl: constProps must be objects: ` + JSON.stringify(constProps));\n            }\n        }\n    }\n    get props() {\n        // We use a proxy to merge the constProps if they exist and to evaluate derived signals\n        if (!this._proxy) {\n            this._proxy = createPropsProxy(this.varProps, this.constProps, this.children);\n        }\n        return this._proxy;\n    }\n}\n/** @private */\nexport const Virtual = (props) => props.children;\n/** @public */\nexport const RenderOnce = (props, key) => {\n    return new JSXNodeImpl(Virtual, EMPTY_OBJ, null, props.children, 2, key);\n};\n/** @internal */\nexport const isJSXNode = (n) => {\n    if (qDev) {\n        if (n instanceof JSXNodeImpl) {\n            return true;\n        }\n        if (isObject(n) && 'key' in n && 'props' in n && 'type' in n) {\n            logWarn(`Duplicate implementations of \"JSXNode\" found`);\n            return true;\n        }\n        return false;\n    }\n    else {\n        return n instanceof JSXNodeImpl;\n    }\n};\n/** @public */\nexport const Fragment = (props) => props.children;\n/** @public */\nexport const jsxDEV = (type, props, key, _isStatic, opts, _ctx) => {\n    const processed = key == null ? null : String(key);\n    const children = untrack(() => {\n        const c = props.children;\n        if (typeof type === 'string') {\n            delete props.children;\n        }\n        return c;\n    });\n    if (isString(type)) {\n        if ('className' in props) {\n            props.class = props.className;\n            delete props.className;\n            if (qDev) {\n                logOnceWarn('jsx: `className` is deprecated. Use `class` instead.');\n            }\n        }\n    }\n    const node = new JSXNodeImpl(type, props, null, children, 0, processed);\n    node.dev = {\n        stack: new Error().stack,\n        ...opts,\n    };\n    seal(node);\n    return node;\n};\nexport const createJSXError = (message, node) => {\n    const error = new Error(message);\n    if (!node.dev) {\n        return error;\n    }\n    error.stack = `JSXError: ${message}\\n${filterStack(node.dev.stack, 1)}`;\n    return error;\n};\nconst filterStack = (stack, offset = 0) => {\n    return stack.split('\\n').slice(offset).join('\\n');\n};\nexport function createPropsProxy(varProps, constProps, children) {\n    return new Proxy({}, new PropsProxyHandler(varProps, constProps, children));\n}\nclass PropsProxyHandler {\n    constructor($varProps$, $constProps$, $children$) {\n        this.$varProps$ = $varProps$;\n        this.$constProps$ = $constProps$;\n        this.$children$ = $children$;\n    }\n    get(_, prop) {\n        // escape hatch to get the separated props from a component\n        if (prop === _CONST_PROPS) {\n            return this.$constProps$;\n        }\n        if (prop === _VAR_PROPS) {\n            return this.$varProps$;\n        }\n        if (this.$children$ != null && prop === 'children') {\n            return this.$children$;\n        }\n        const value = this.$constProps$ && prop in this.$constProps$\n            ? this.$constProps$[prop]\n            : this.$varProps$[prop];\n        // a proxied value that the optimizer made\n        return value instanceof WrappedSignal ? value.value : value;\n    }\n    set(_, prop, value) {\n        if (prop === _CONST_PROPS) {\n            this.$constProps$ = value;\n            return true;\n        }\n        if (prop === _VAR_PROPS) {\n            this.$varProps$ = value;\n            return true;\n        }\n        if (this.$constProps$ && prop in this.$constProps$) {\n            this.$constProps$[prop] = value;\n        }\n        else {\n            this.$varProps$[prop] = value;\n        }\n        return true;\n    }\n    deleteProperty(_, prop) {\n        if (typeof prop !== 'string') {\n            return false;\n        }\n        let didDelete = delete this.$varProps$[prop];\n        if (this.$constProps$) {\n            didDelete = delete this.$constProps$[prop] || didDelete;\n        }\n        if (this.$children$ != null && prop === 'children') {\n            this.$children$ = null;\n        }\n        return didDelete;\n    }\n    has(_, prop) {\n        const hasProp = (prop === 'children' && this.$children$ != null) ||\n            prop === _CONST_PROPS ||\n            prop === _VAR_PROPS ||\n            prop in this.$varProps$ ||\n            (this.$constProps$ ? prop in this.$constProps$ : false);\n        return hasProp;\n    }\n    getOwnPropertyDescriptor(target, p) {\n        const value = p === 'children' && this.$children$ != null\n            ? this.$children$\n            : this.$constProps$ && p in this.$constProps$\n                ? this.$constProps$[p]\n                : this.$varProps$[p];\n        return {\n            configurable: true,\n            enumerable: true,\n            value: value,\n        };\n    }\n    ownKeys() {\n        const out = Object.keys(this.$varProps$);\n        if (this.$children$ != null && out.indexOf('children') === -1) {\n            out.push('children');\n        }\n        if (this.$constProps$) {\n            for (const key in this.$constProps$) {\n                if (out.indexOf(key) === -1) {\n                    out.push(key);\n                }\n            }\n        }\n        return out;\n    }\n}\n/**\n * Instead of using PropsProxyHandler getter (which could create a component-level subscription).\n * Use this function to get the props directly from a const or var props.\n */\nexport const directGetPropsProxyProp = (jsx, prop) => {\n    return (jsx.constProps && prop in jsx.constProps ? jsx.constProps[prop] : jsx.varProps[prop]);\n};\nexport { jsx as jsxs };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoianN4LXJ1bnRpbWUuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvc2hhcmVkL2pzeC9qc3gtcnVudGltZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQW1CLE1BQU0scUJBQXFCLENBQUM7QUFDdEQsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQzlDLE9BQU8sRUFBb0IsTUFBTSxrQkFBa0IsQ0FBQztBQUNwRCxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFDaEQsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBQzdDLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUMvQyxPQUFPLEVBQUUsV0FBVyxFQUFFLE9BQU8sRUFBRSxNQUFNLGNBQWMsQ0FBQztBQUNwRCxPQUFPLEVBQUUsVUFBVSxFQUFFLFlBQVksRUFBRSxZQUFZLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBQ3pGLE9BQU8sRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQzNDLE9BQU8sRUFBRSxPQUFPLEVBQUUsUUFBUSxFQUFFLFFBQVEsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQzdELE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQU9wRDs7Ozs7Ozs7Ozs7Ozs7O0dBZUc7QUFDSCxNQUFNLENBQUMsTUFBTSxVQUFVLEdBQUcsQ0FDeEIsSUFBTyxFQUNQLFFBQXNCLEVBQ3RCLFVBQXdCLEVBQ3hCLFFBQTRCLEVBQzVCLEtBQWEsRUFDYixHQUF1QyxFQUN2QyxHQUFZLEVBQ0EsRUFBRTtJQUNkLE1BQU0sU0FBUyxHQUFHLEdBQUcsSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLEdBQUcs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QixLQUFLLEVBQUUsS0FBSztTQUNiLENBQUM7SUFDSixDQUFDO0lBQ0QsT0FBTztRQUNMLE1BQU0sR0FBRyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQ3pDLElBQUksSUFBSSxDQUFDLFVBQVUsSUFBSSxJQUFJLElBQUksR0FBRyxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDO1lBQzlELEdBQUcsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDdkIsQ0FBQztRQUNELElBQUksSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDO1lBQ3RCLEtBQUssTUFBTSxHQUFHLElBQUksSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDO2dCQUNwQyxJQUFJLEdBQUcsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQztvQkFDNUIsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFDaEIsQ0FBQztZQUNILENBQUM7UUFDSCxDQUFDO1FBQ0QsT0FBTyxHQUFHLENBQUM7SUFDYixDQUFDO0NBQ0Y7QUFFRDs7O0dBR0c7QUFDSCxNQUFNLENBQUMsTUFBTSx1QkFBdUIsR0FBRyxDQUFTLEdBQWlCLEVBQUUsSUFBWSxFQUFLLEVBQUU7SUFDcEYsT0FBTyxDQUNMLEdBQUcsQ0FBQyxVQUFVLElBQUksSUFBSSxJQUFJLEdBQUcsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQ2hGLENBQUM7QUFDVCxDQUFDLENBQUM7QUFFRixPQUFPLEVBQUUsR0FBRyxJQUFJLElBQUksRUFBRSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdHlwZSBPblJlbmRlckZuIH0gZnJvbSAnLi4vY29tcG9uZW50LnB1YmxpYyc7XG5pbXBvcnQgeyBfQ09OU1RfUFJPUFMgfSBmcm9tICcuLi8uLi9pbnRlcm5hbCc7XG5pbXBvcnQgeyB0eXBlIFFSTEludGVybmFsIH0gZnJvbSAnLi4vcXJsL3FybC1jbGFzcyc7XG5pbXBvcnQgeyBfVkFSX1BST1BTIH0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzJztcbmltcG9ydCB7IHVudHJhY2sgfSBmcm9tICcuLi8uLi91c2UvdXNlLWNvcmUnO1xuaW1wb3J0IHsgRU1QVFlfT0JKIH0gZnJvbSAnLi4vdXRpbHMvZmx5d2VpZ2h0JztcbmltcG9ydCB7IGxvZ09uY2VXYXJuLCBsb2dXYXJuIH0gZnJvbSAnLi4vdXRpbHMvbG9nJztcbmltcG9ydCB7IEVMRU1FTlRfSUQsIE9uUmVuZGVyUHJvcCwgUVNjb3BlZFN0eWxlLCBRU2xvdCwgUVNsb3RTIH0gZnJvbSAnLi4vdXRpbHMvbWFya2Vycyc7XG5pbXBvcnQgeyBxRGV2LCBzZWFsIH0gZnJvbSAnLi4vdXRpbHMvcWRldic7XG5pbXBvcnQgeyBpc0FycmF5LCBpc09iamVjdCwgaXNTdHJpbmcgfSBmcm9tICcuLi91dGlscy90eXBlcyc7XG5pbXBvcnQgeyBXcmFwcGVkU2lnbmFsIH0gZnJvbSAnLi4vLi4vc2lnbmFsL3NpZ25hbCc7XG5pbXBvcnQgdHlwZSB7IERldkpTWCwgRnVuY3Rpb25Db21wb25lbnQsIEpTWE5vZGUgfSBmcm9tICcuL3R5cGVzL2pzeC1ub2RlJztcbmltcG9ydCB0eXBlIHsgUXdpa0pTWCB9IGZyb20gJy4vdHlwZXMvanN4LXF3aWsnO1xuaW1wb3J0IHR5cGUgeyBKU1hDaGlsZHJlbiB9IGZyb20gJy4vdHlwZXMvanN4LXF3aWstYXR0cmlidXRlcyc7XG5cbmV4cG9ydCB0eXBlIFByb3BzID0gUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG5cbi8qKlxuICogQ3JlYXRlIGEgSlNYTm9kZSB3aXRoIHRoZSBwcm9wZXJ0aWVzIGZ1bGx5IHNwbGl0IGludG8gdmFyaWFibGUgYW5kIGNvbnN0YW50IHBhcnRzLCBhbmQgY2hpbGRyZW5cbiAqIHNlcGFyYXRlZCBvdXQuIEZ1cnRoZXJtb3JlLCB0aGUgdmFyUHJvcHMgbXVzdCBiZSBhIHNvcnRlZCBvYmplY3QsIHRoYXQgaXMsIHRoZSBrZXlzIG11c3QgYmVcbiAqIHNvcnRlZCBpbiBhc2NlbmRpbmcgdXRmLTggdmFsdWUgb3JkZXIuXG4gKlxuICogVGhlIGNvbnN0YW50IHBhcnRzIGFyZSBleHBlY3RlZCB0byBiZSB0aGUgc2FtZSBvbiBldmVyeSByZW5kZXIsIGFuZCBhcmUgbm90IGNoZWNrZWQgZm9yIGNoYW5nZXMuXG4gKiBUaGlzIG1lYW5zIHRoYXQgdGhleSBhcmUgY29uc3RhbnQgc2NhbGFycyBvciByZWZzLiBXaGVuIHRoZSByZWYgaXMgYSBzaWduYWwgb3IgYSBzdG9yZSwgaXQgY2FuXG4gKiBzdGlsbCB1cGRhdGUgdGhlIGF0dHJpYnV0ZSBvbiB0aGUgdm5vZGUuXG4gKlxuICogQHBhcmFtIHR5cGUgLSBUaGUgSlNYIHR5cGVcbiAqIEBwYXJhbSB2YXJQcm9wcyAtIFRoZSBwcm9wZXJ0aWVzIG9mIHRoZSB0YWcsIHNvcnRlZCwgZXhjbHVkaW5nIGNoaWxkcmVuLCBleGNsdWRpbmcgYW55IGNvbnN0UHJvcHNcbiAqIEBwYXJhbSBjb25zdFByb3BzIC0gVGhlIHByb3BlcnRpZXMgb2YgdGhlIHRhZyB0aGF0IGFyZSBrbm93biB0byBiZSBjb25zdGFudCByZWZlcmVuY2VzIGFuZCBkb24ndFxuICogICBuZWVkIGNoZWNraW5nIGZvciBjaGFuZ2VzIG9uIHJlLXJlbmRlclxuICogQHBhcmFtIGNoaWxkcmVuIC0gSlNYIGNoaWxkcmVuLiBBbnkgYGNoaWxkcmVuYCBpbiB0aGUgcHJvcHMgb2JqZWN0cyBhcmUgaWdub3JlZC5cbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgX2pzeFNvcnRlZCA9IDxUPihcbiAgdHlwZTogVCxcbiAgdmFyUHJvcHM6IFByb3BzIHwgbnVsbCxcbiAgY29uc3RQcm9wczogUHJvcHMgfCBudWxsLFxuICBjaGlsZHJlbjogSlNYQ2hpbGRyZW4gfCBudWxsLFxuICBmbGFnczogbnVtYmVyLFxuICBrZXk6IHN0cmluZyB8IG51bWJlciB8IG51bGwgfCB1bmRlZmluZWQsXG4gIGRldj86IERldkpTWFxuKTogSlNYTm9kZTxUPiA9PiB7XG4gIGNvbnN0IHByb2Nlc3NlZCA9IGtleSA9PSBudWxsID8gbnVsbCA6IFN0cmluZyhrZXkpO1xuICBjb25zdCBub2RlID0gbmV3IEpTWE5vZGVJbXBsKFxuICAgIHR5cGUsXG4gICAgdmFyUHJvcHMgfHwge30sXG4gICAgY29uc3RQcm9wcyB8fCBudWxsLFxuICAgIGNoaWxkcmVuLFxuICAgIGZsYWdzLFxuICAgIHByb2Nlc3NlZFxuICApO1xuICBpZiAocURldiAmJiBkZXYpIHtcbiAgICBub2RlLmRldiA9IHtcbiAgICAgIHN0YWNrOiBuZXcgRXJyb3IoKS5zdGFjayxcbiAgICAgIC4uLmRldixcbiAgICB9O1xuICB9XG4gIHNlYWwobm9kZSk7XG4gIHJldHVybiBub2RlO1xufTtcblxuLyoqXG4gKiBDcmVhdGUgYSBKU1hOb2RlLCB3aXRoIHRoZSBwcm9wZXJ0aWVzIHNwbGl0IGludG8gdmFyaWFibGUgYW5kIGNvbnN0YW50IHBhcnRzLCBidXQgdGhlIHZhcmlhYmxlXG4gKiBwYXJ0cyBjb3VsZCBpbmNsdWRlIGtleXMgZnJvbSBjb25zdFByb3BzLCBhcyB3ZWxsIGFzIGBrZXlgIGFuZCBgY2hpbGRyZW5gLlxuICpcbiAqIFRoZSBjb25zdGFudCBwYXJ0cyBhcmUgZXhwZWN0ZWQgdG8gYmUgdGhlIHNhbWUgb24gZXZlcnkgcmVuZGVyLCBhbmQgYXJlIG5vdCBjaGVja2VkIGZvciBjaGFuZ2VzLlxuICogVGhpcyBtZWFucyB0aGF0IHRoZXkgYXJlIGNvbnN0YW50IHNjYWxhcnMgb3IgcmVmcy4gV2hlbiB0aGUgcmVmIGlzIGEgc2lnbmFsIG9yIGEgc3RvcmUsIGl0IGNhblxuICogc3RpbGwgdXBkYXRlIHRoZSBhdHRyaWJ1dGUgb24gdGhlIHZub2RlLlxuICpcbiAqIElmIGBjaGlsZHJlbmAgaXMgZGVmaW5lZCwgYW55IGBjaGlsZHJlbmAgaW4gdGhlIHByb3BzIHdpbGwgYmUgaWdub3JlZC5cbiAqXG4gKiBAcGFyYW0gdHlwZSAtIFRoZSB0YWcgdHlwZVxuICogQHBhcmFtIHZhclByb3BzIC0gVGhlIHByb3BlcnRpZXMgb2YgdGhlIHRhZyB0aGF0IGNvdWxkIGNoYW5nZSwgaW5jbHVkaW5nIGNoaWxkcmVuXG4gKiBAcGFyYW0gY29uc3RQcm9wcyAtIFRoZSBwcm9wZXJ0aWVzIG9mIHRoZSB0YWcgdGhhdCBhcmUga25vd24gdG8gYmUgc3RhdGljIGFuZCBkb24ndCBuZWVkIGNoZWNraW5nXG4gKiAgIGZvciBjaGFuZ2VzIG9uIHJlLXJlbmRlclxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBfanN4U3BsaXQgPSA8VCBleHRlbmRzIHN0cmluZyB8IEZ1bmN0aW9uQ29tcG9uZW50PGFueT4+KFxuICB0eXBlOiBULFxuICB2YXJQcm9wczogUHJvcHMgfCBudWxsLFxuICBjb25zdFByb3BzOiBQcm9wcyB8IG51bGwsXG4gIGNoaWxkcmVuOiBKU1hDaGlsZHJlbiB8IG51bGwgfCB1bmRlZmluZWQsXG4gIGZsYWdzOiBudW1iZXIsXG4gIGtleTogc3RyaW5nIHwgbnVtYmVyIHwgbnVsbCxcbiAgZGV2PzogRGV2SlNYXG4pOiBKU1hOb2RlPFQ+ID0+IHtcbiAgbGV0IHNvcnRlZFByb3BzO1xuICBpZiAodmFyUHJvcHMpIHtcbiAgICAvLyBmaWx0ZXIgYW5kIHNvcnRcbiAgICBzb3J0ZWRQcm9wcyA9IE9iamVjdC5mcm9tRW50cmllcyhcbiAgICAgIHVudHJhY2soKCkgPT4gT2JqZWN0LmVudHJpZXModmFyUHJvcHMhKSlcbiAgICAgICAgLmZpbHRlcigoZW50cnkpID0+IHtcbiAgICAgICAgICBjb25zdCBhdHRyID0gZW50cnlbMF07XG4gICAgICAgICAgaWYgKGF0dHIgPT09ICdjaGlsZHJlbicpIHtcbiAgICAgICAgICAgIC8vIHNpZGUtZWZmZWN0IVxuICAgICAgICAgICAgY2hpbGRyZW4gPz89IGVudHJ5WzFdIGFzIEpTWENoaWxkcmVuO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH0gZWxzZSBpZiAoYXR0ciA9PT0gJ2tleScpIHtcbiAgICAgICAgICAgIGtleSA9IGVudHJ5WzFdIGFzIHN0cmluZztcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICFjb25zdFByb3BzIHx8XG4gICAgICAgICAgICAhKGF0dHIgaW4gY29uc3RQcm9wcykgfHxcbiAgICAgICAgICAgIC8vIHNwZWNpYWwgY2FzZSBmb3IgZXZlbnQgaGFuZGxlcnMsIHRoZXkgbWVyZ2VcbiAgICAgICAgICAgIC9eb25bQS1aXS4qXFwkJC8udGVzdChhdHRyKVxuICAgICAgICAgICk7XG4gICAgICAgIH0pXG4gICAgICAgIC8vIHNvcnQgZm9yIGZhc3QgY29tcGFyZSBpbiB2Tm9kZXNcbiAgICAgICAgLy8ga2V5cyBjYW4gbmV2ZXIgYmUgdGhlIHNhbWUgc28gd2UgZG9uJ3QgY2hlY2sgZm9yIHRoYXRcbiAgICAgICAgLnNvcnQoKFthXSwgW2JdKSA9PiAoYSA8IGIgPyAtMSA6IDEpKVxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgc29ydGVkUHJvcHMgPSB0eXBlb2YgdHlwZSA9PT0gJ3N0cmluZycgPyBFTVBUWV9PQkogOiB7fTtcbiAgfVxuICBpZiAoY29uc3RQcm9wcyAmJiAnY2hpbGRyZW4nIGluIGNvbnN0UHJvcHMpIHtcbiAgICBjaGlsZHJlbiA9IGNvbnN0UHJvcHMuY2hpbGRyZW4gYXMgSlNYQ2hpbGRyZW47XG4gICAgY29uc3RQcm9wcy5jaGlsZHJlbiA9IHVuZGVmaW5lZDtcbiAgfVxuICByZXR1cm4gX2pzeFNvcnRlZCh0eXBlLCBzb3J0ZWRQcm9wcywgY29uc3RQcm9wcywgY2hpbGRyZW4sIGZsYWdzLCBrZXksIGRldik7XG59O1xuXG4vKiogQGludGVybmFsIEBkZXByZWNhdGVkIHYxIGNvbXBhdCAqL1xuZXhwb3J0IGNvbnN0IF9qc3hDID0gKHR5cGU6IGFueSwgbXV0YWJsZTogYW55LCBfZmxhZ3M6IGFueSwga2V5OiBhbnkpID0+IGpzeCh0eXBlLCBtdXRhYmxlLCBrZXkpO1xuLyoqIEBpbnRlcm5hbCBAZGVwcmVjYXRlZCB2MSBjb21wYXQgKi9cbmV4cG9ydCBjb25zdCBfanN4UyA9ICh0eXBlOiBhbnksIG11dGFibGU6IGFueSwgaW1tdXRhYmxlOiBhbnksIF9mbGFnczogYW55LCBrZXk6IGFueSkgPT5cbiAganN4KHR5cGUsIHsgLi4uaW1tdXRhYmxlLCAuLi5tdXRhYmxlIH0sIGtleSk7XG4vKiogQGludGVybmFsIEBkZXByZWNhdGVkIHYxIGNvbXBhdCAqL1xuZXhwb3J0IGNvbnN0IF9qc3hRID0gKFxuICB0eXBlOiBhbnksXG4gIG11dGFibGU6IGFueSxcbiAgaW1tdXRhYmxlOiBhbnksXG4gIGNoaWxkcmVuOiBhbnksXG4gIF9mbGFnczogYW55LFxuICBrZXk6IGFueVxuKSA9PiBqc3godHlwZSwgeyAuLi5pbW11dGFibGUsIC4uLm11dGFibGUsIGNoaWxkcmVuIH0sIGtleSk7XG5cbi8qKlxuICogQHB1YmxpY1xuICogVXNlZCBieSB0aGUgSlNYIHRyYW5zcGlsZXJzIHRvIGNyZWF0ZSBhIEpTWE5vZGUuXG4gKiBOb3RlIHRoYXQgdGhlIG9wdGltaXplciB3aWxsIG5vdCB1c2UgdGhpcywgaW5zdGVhZCB1c2luZyBfanN4U3BsaXQgYW5kIF9qc3hTb3J0ZWQgZGlyZWN0bHkuXG4gKi9cbmV4cG9ydCBjb25zdCBqc3ggPSA8VCBleHRlbmRzIHN0cmluZyB8IEZ1bmN0aW9uQ29tcG9uZW50PGFueT4+KFxuICB0eXBlOiBULFxuICBwcm9wczogVCBleHRlbmRzIEZ1bmN0aW9uQ29tcG9uZW50PGluZmVyIFBST1BTPiA/IFBST1BTIDogUHJvcHMsXG4gIGtleT86IHN0cmluZyB8IG51bWJlciB8IG51bGxcbik6IEpTWE5vZGU8VD4gPT4ge1xuICByZXR1cm4gX2pzeFNwbGl0KHR5cGUsIHByb3BzLCBudWxsLCBudWxsLCAwLCBrZXkgfHwgbnVsbCk7XG59O1xuXG5leHBvcnQgY29uc3QgZmxhdHRlbkFycmF5ID0gPFQ+KGFycmF5OiAoVCB8IFRbXSlbXSwgZHN0PzogVFtdKTogVFtdID0+IHtcbiAgLy8gWWVzIHRoaXMgZnVuY3Rpb24gaXMganVzdCBBcnJheS5mbGF0LCBidXQgd2UgbmVlZCB0byBydW4gb24gb2xkIHZlcnNpb25zIG9mIE5vZGUuXG4gIGlmICghZHN0KSB7XG4gICAgZHN0ID0gW107XG4gIH1cbiAgZm9yIChjb25zdCBpdGVtIG9mIGFycmF5KSB7XG4gICAgaWYgKGlzQXJyYXkoaXRlbSkpIHtcbiAgICAgIGZsYXR0ZW5BcnJheShpdGVtLCBkc3QpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkc3QucHVzaChpdGVtKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGRzdDtcbn07XG5cbi8qKlxuICogVGhlIGxlZ2FjeSB0cmFuc2Zvcm0sIHVzZWQgaW4gc3BlY2lhbCBjYXNlcyBsaWtlIGA8ZGl2IHsuLi5wcm9wc30ga2V5PVwia2V5XCIgLz5gLiBOb3RlIHRoYXQgdGhlXG4gKiBjaGlsZHJlbiBhcmUgc3ByZWFkIGFyZ3VtZW50cywgaW5zdGVhZCBvZiBhIHByb3AgbGlrZSBpbiBqc3goKSBjYWxscy5cbiAqXG4gKiBBbHNvIG5vdGUgdGhhdCB0aGlzIGRpc2FibGVzIG9wdGltaXphdGlvbnMuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gaDxUWVBFIGV4dGVuZHMgc3RyaW5nIHwgRnVuY3Rpb25Db21wb25lbnQ8UFJPUFM+LCBQUk9QUyBleHRlbmRzIHt9ID0ge30+KFxuICB0eXBlOiBUWVBFLFxuICBwcm9wcz86IFBST1BTIHwgbnVsbCxcbiAgLi4uY2hpbGRyZW46IGFueVtdXG4pOiBKU1hOb2RlPFRZUEU+IHtcbiAgY29uc3Qgbm9ybWFsaXplZFByb3BzOiBhbnkgPSB7XG4gICAgY2hpbGRyZW46IGFyZ3VtZW50cy5sZW5ndGggPiAyID8gZmxhdHRlbkFycmF5KGNoaWxkcmVuKSA6IG51bGwsXG4gIH07XG5cbiAgbGV0IGtleTogYW55ID0gbnVsbDtcblxuICBmb3IgKGNvbnN0IGkgaW4gcHJvcHMpIHtcbiAgICBpZiAoaSA9PSAna2V5Jykge1xuICAgICAga2V5ID0gKHByb3BzIGFzIFJlY29yZDxzdHJpbmcsIGFueT4pW2ldO1xuICAgIH0gZWxzZSB7XG4gICAgICBub3JtYWxpemVkUHJvcHNbaV0gPSAocHJvcHMgYXMgUmVjb3JkPHN0cmluZywgYW55PilbaV07XG4gICAgfVxuICB9XG5cbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJyAmJiAha2V5ICYmICdkYW5nZXJvdXNseVNldElubmVySFRNTCcgaW4gbm9ybWFsaXplZFByb3BzKSB7XG4gICAga2V5ID0gJ2lubmVyaHRtbCc7XG4gIH1cbiAgcmV0dXJuIF9qc3hTcGxpdCh0eXBlLCBwcm9wcyEsIG51bGwsIG5vcm1hbGl6ZWRQcm9wcy5jaGlsZHJlbiwgMCwga2V5KTtcbn1cblxuZXhwb3J0IGNvbnN0IFNLSVBfUkVOREVSX1RZUEUgPSAnOnNraXBSZW5kZXInO1xuXG5leHBvcnQgY29uc3QgaXNQcm9wc1Byb3h5ID0gKFxuICBvYmo6IGFueVxuKTogb2JqIGlzIHsgW19WQVJfUFJPUFNdOiBQcm9wczsgW19DT05TVF9QUk9QU106IFByb3BzIHwgbnVsbCB9ID0+IHtcbiAgcmV0dXJuIG9iaiAmJiBvYmpbX1ZBUl9QUk9QU10gIT09IHVuZGVmaW5lZDtcbn07XG5cbmV4cG9ydCBjbGFzcyBKU1hOb2RlSW1wbDxUPiBpbXBsZW1lbnRzIEpTWE5vZGU8VD4ge1xuICBkZXY/OiBEZXZKU1g7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyB0eXBlOiBULFxuICAgIHB1YmxpYyB2YXJQcm9wczogUHJvcHMsXG4gICAgcHVibGljIGNvbnN0UHJvcHM6IFByb3BzIHwgbnVsbCxcbiAgICBwdWJsaWMgY2hpbGRyZW46IEpTWENoaWxkcmVuLFxuICAgIHB1YmxpYyBmbGFnczogbnVtYmVyLFxuICAgIHB1YmxpYyBrZXk6IHN0cmluZyB8IG51bGwgPSBudWxsXG4gICkge1xuICAgIGlmIChxRGV2KSB7XG4gICAgICBpZiAodHlwZW9mIHZhclByb3BzICE9PSAnb2JqZWN0Jykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEpTWE5vZGVJbXBsOiB2YXJQcm9wcyBtdXN0IGJlIG9iamVjdHM6IGAgKyBKU09OLnN0cmluZ2lmeSh2YXJQcm9wcykpO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBjb25zdFByb3BzICE9PSAnb2JqZWN0Jykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEpTWE5vZGVJbXBsOiBjb25zdFByb3BzIG11c3QgYmUgb2JqZWN0czogYCArIEpTT04uc3RyaW5naWZ5KGNvbnN0UHJvcHMpKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF9wcm94eTogUHJvcHMgfCBudWxsID0gbnVsbDtcbiAgZ2V0IHByb3BzKCk6IFQgZXh0ZW5kcyBGdW5jdGlvbkNvbXBvbmVudDxpbmZlciBQUk9QUz4gPyBQUk9QUyA6IFByb3BzIHtcbiAgICAvLyBXZSB1c2UgYSBwcm94eSB0byBtZXJnZSB0aGUgY29uc3RQcm9wcyBpZiB0aGV5IGV4aXN0IGFuZCB0byBldmFsdWF0ZSBkZXJpdmVkIHNpZ25hbHNcbiAgICBpZiAoIXRoaXMuX3Byb3h5KSB7XG4gICAgICB0aGlzLl9wcm94eSA9IGNyZWF0ZVByb3BzUHJveHkodGhpcy52YXJQcm9wcywgdGhpcy5jb25zdFByb3BzLCB0aGlzLmNoaWxkcmVuKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX3Byb3h5IGFzIHR5cGVvZiB0aGlzLnByb3BzO1xuICB9XG59XG5cbi8qKiBAcHJpdmF0ZSAqL1xuZXhwb3J0IGNvbnN0IFZpcnR1YWw6IEZ1bmN0aW9uQ29tcG9uZW50PHtcbiAgY2hpbGRyZW4/OiBKU1hDaGlsZHJlbjtcbiAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw/OiBzdHJpbmc7XG4gIFtPblJlbmRlclByb3BdPzogUVJMSW50ZXJuYWw8T25SZW5kZXJGbjxhbnk+PjtcbiAgW1FTbG90XT86IHN0cmluZztcbiAgW1FTbG90U10/OiBzdHJpbmc7XG4gIHByb3BzPzogUHJvcHM7XG4gIFtRU2NvcGVkU3R5bGVdPzogc3RyaW5nO1xuICBbRUxFTUVOVF9JRF0/OiBzdHJpbmc7XG59PiA9IChwcm9wczogYW55KSA9PiBwcm9wcy5jaGlsZHJlbjtcblxuLyoqIEBwdWJsaWMgKi9cbmV4cG9ydCBjb25zdCBSZW5kZXJPbmNlOiBGdW5jdGlvbkNvbXBvbmVudDx7XG4gIGNoaWxkcmVuPzogdW5rbm93bjtcbiAga2V5Pzogc3RyaW5nIHwgbnVtYmVyIHwgbnVsbCB8IHVuZGVmaW5lZDtcbn0+ID0gKHByb3BzOiBhbnksIGtleSkgPT4ge1xuICByZXR1cm4gbmV3IEpTWE5vZGVJbXBsKFZpcnR1YWwsIEVNUFRZX09CSiwgbnVsbCwgcHJvcHMuY2hpbGRyZW4sIDIsIGtleSk7XG59O1xuXG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgaXNKU1hOb2RlID0gPFQ+KG46IHVua25vd24pOiBuIGlzIEpTWE5vZGU8VD4gPT4ge1xuICBpZiAocURldikge1xuICAgIGlmIChuIGluc3RhbmNlb2YgSlNYTm9kZUltcGwpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoaXNPYmplY3QobikgJiYgJ2tleScgaW4gbiAmJiAncHJvcHMnIGluIG4gJiYgJ3R5cGUnIGluIG4pIHtcbiAgICAgIGxvZ1dhcm4oYER1cGxpY2F0ZSBpbXBsZW1lbnRhdGlvbnMgb2YgXCJKU1hOb2RlXCIgZm91bmRgKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG4gaW5zdGFuY2VvZiBKU1hOb2RlSW1wbDtcbiAgfVxufTtcblxuLyoqIEBwdWJsaWMgKi9cbmV4cG9ydCBjb25zdCBGcmFnbWVudDogRnVuY3Rpb25Db21wb25lbnQ8eyBjaGlsZHJlbj86IGFueTsga2V5Pzogc3RyaW5nIHwgbnVtYmVyIHwgbnVsbCB9PiA9IChcbiAgcHJvcHNcbikgPT4gcHJvcHMuY2hpbGRyZW47XG5cbmludGVyZmFjZSBKc3hEZXZPcHRzIHtcbiAgZmlsZU5hbWU6IHN0cmluZztcbiAgbGluZU51bWJlcjogbnVtYmVyO1xuICBjb2x1bW5OdW1iZXI6IG51bWJlcjtcbn1cblxuLyoqIEBwdWJsaWMgKi9cbmV4cG9ydCBjb25zdCBqc3hERVYgPSA8VCBleHRlbmRzIHN0cmluZyB8IEZ1bmN0aW9uQ29tcG9uZW50PFByb3BzPj4oXG4gIHR5cGU6IFQsXG4gIHByb3BzOiBUIGV4dGVuZHMgRnVuY3Rpb25Db21wb25lbnQ8aW5mZXIgUFJPUFM+ID8gUFJPUFMgOiBQcm9wcyxcbiAga2V5OiBzdHJpbmcgfCBudW1iZXIgfCBudWxsIHwgdW5kZWZpbmVkLFxuICBfaXNTdGF0aWM6IGJvb2xlYW4sXG4gIG9wdHM6IEpzeERldk9wdHMsXG4gIF9jdHg6IHVua25vd25cbik6IEpTWE5vZGU8VD4gPT4ge1xuICBjb25zdCBwcm9jZXNzZWQgPSBrZXkgPT0gbnVsbCA/IG51bGwgOiBTdHJpbmcoa2V5KTtcbiAgY29uc3QgY2hpbGRyZW4gPSB1bnRyYWNrKCgpID0+IHtcbiAgICBjb25zdCBjID0gcHJvcHMuY2hpbGRyZW47XG4gICAgaWYgKHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJykge1xuICAgICAgZGVsZXRlIHByb3BzLmNoaWxkcmVuO1xuICAgIH1cbiAgICByZXR1cm4gYztcbiAgfSkgYXMgSlNYQ2hpbGRyZW47XG4gIGlmIChpc1N0cmluZyh0eXBlKSkge1xuICAgIGlmICgnY2xhc3NOYW1lJyBpbiBwcm9wcykge1xuICAgICAgKHByb3BzIGFzIGFueSkuY2xhc3MgPSBwcm9wcy5jbGFzc05hbWU7XG4gICAgICBkZWxldGUgcHJvcHMuY2xhc3NOYW1lO1xuICAgICAgaWYgKHFEZXYpIHtcbiAgICAgICAgbG9nT25jZVdhcm4oJ2pzeDogYGNsYXNzTmFtZWAgaXMgZGVwcmVjYXRlZC4gVXNlIGBjbGFzc2AgaW5zdGVhZC4nKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgY29uc3Qgbm9kZSA9IG5ldyBKU1hOb2RlSW1wbDxUPih0eXBlLCBwcm9wcywgbnVsbCwgY2hpbGRyZW4sIDAsIHByb2Nlc3NlZCk7XG4gIG5vZGUuZGV2ID0ge1xuICAgIHN0YWNrOiBuZXcgRXJyb3IoKS5zdGFjayxcbiAgICAuLi5vcHRzLFxuICB9O1xuICBzZWFsKG5vZGUpO1xuICByZXR1cm4gbm9kZTtcbn07XG5cbmV4cG9ydCB0eXBlIHsgUXdpa0pTWCBhcyBKU1ggfTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZUpTWEVycm9yID0gKG1lc3NhZ2U6IHN0cmluZywgbm9kZTogSlNYTm9kZSkgPT4ge1xuICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgaWYgKCFub2RlLmRldikge1xuICAgIHJldHVybiBlcnJvcjtcbiAgfVxuICBlcnJvci5zdGFjayA9IGBKU1hFcnJvcjogJHttZXNzYWdlfVxcbiR7ZmlsdGVyU3RhY2sobm9kZS5kZXYuc3RhY2shLCAxKX1gO1xuICByZXR1cm4gZXJyb3I7XG59O1xuXG5jb25zdCBmaWx0ZXJTdGFjayA9IChzdGFjazogc3RyaW5nLCBvZmZzZXQ6IG51bWJlciA9IDApID0+IHtcbiAgcmV0dXJuIHN0YWNrLnNwbGl0KCdcXG4nKS5zbGljZShvZmZzZXQpLmpvaW4oJ1xcbicpO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVByb3BzUHJveHkoXG4gIHZhclByb3BzOiBQcm9wcyxcbiAgY29uc3RQcm9wczogUHJvcHMgfCBudWxsLFxuICBjaGlsZHJlbj86IEpTWENoaWxkcmVuIHwgdW5kZWZpbmVkXG4pOiBQcm9wcyB7XG4gIHJldHVybiBuZXcgUHJveHk8YW55Pih7fSwgbmV3IFByb3BzUHJveHlIYW5kbGVyKHZhclByb3BzLCBjb25zdFByb3BzLCBjaGlsZHJlbikpO1xufVxuXG5jbGFzcyBQcm9wc1Byb3h5SGFuZGxlciBpbXBsZW1lbnRzIFByb3h5SGFuZGxlcjxhbnk+IHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSAkdmFyUHJvcHMkOiBQcm9wcyxcbiAgICBwcml2YXRlICRjb25zdFByb3BzJDogUHJvcHMgfCBudWxsLFxuICAgIHByaXZhdGUgJGNoaWxkcmVuJDogSlNYQ2hpbGRyZW4gfCB1bmRlZmluZWRcbiAgKSB7fVxuICBnZXQoXzogYW55LCBwcm9wOiBzdHJpbmcgfCBzeW1ib2wpIHtcbiAgICAvLyBlc2NhcGUgaGF0Y2ggdG8gZ2V0IHRoZSBzZXBhcmF0ZWQgcHJvcHMgZnJvbSBhIGNvbXBvbmVudFxuICAgIGlmIChwcm9wID09PSBfQ09OU1RfUFJPUFMpIHtcbiAgICAgIHJldHVybiB0aGlzLiRjb25zdFByb3BzJDtcbiAgICB9XG4gICAgaWYgKHByb3AgPT09IF9WQVJfUFJPUFMpIHtcbiAgICAgIHJldHVybiB0aGlzLiR2YXJQcm9wcyQ7XG4gICAgfVxuICAgIGlmICh0aGlzLiRjaGlsZHJlbiQgIT0gbnVsbCAmJiBwcm9wID09PSAnY2hpbGRyZW4nKSB7XG4gICAgICByZXR1cm4gdGhpcy4kY2hpbGRyZW4kO1xuICAgIH1cbiAgICBjb25zdCB2YWx1ZSA9XG4gICAgICB0aGlzLiRjb25zdFByb3BzJCAmJiBwcm9wIGluIHRoaXMuJGNvbnN0UHJvcHMkXG4gICAgICAgID8gdGhpcy4kY29uc3RQcm9wcyRbcHJvcCBhcyBzdHJpbmddXG4gICAgICAgIDogdGhpcy4kdmFyUHJvcHMkW3Byb3AgYXMgc3RyaW5nXTtcbiAgICAvLyBhIHByb3hpZWQgdmFsdWUgdGhhdCB0aGUgb3B0aW1pemVyIG1hZGVcbiAgICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBXcmFwcGVkU2lnbmFsID8gdmFsdWUudmFsdWUgOiB2YWx1ZTtcbiAgfVxuICBzZXQoXzogYW55LCBwcm9wOiBzdHJpbmcgfCBzeW1ib2wsIHZhbHVlOiBhbnkpIHtcbiAgICBpZiAocHJvcCA9PT0gX0NPTlNUX1BST1BTKSB7XG4gICAgICB0aGlzLiRjb25zdFByb3BzJCA9IHZhbHVlO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChwcm9wID09PSBfVkFSX1BST1BTKSB7XG4gICAgICB0aGlzLiR2YXJQcm9wcyQgPSB2YWx1ZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAodGhpcy4kY29uc3RQcm9wcyQgJiYgcHJvcCBpbiB0aGlzLiRjb25zdFByb3BzJCkge1xuICAgICAgdGhpcy4kY29uc3RQcm9wcyRbcHJvcCBhcyBzdHJpbmddID0gdmFsdWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuJHZhclByb3BzJFtwcm9wIGFzIHN0cmluZ10gPSB2YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgZGVsZXRlUHJvcGVydHkoXzogYW55LCBwcm9wOiBzdHJpbmcgfCBzeW1ib2wpIHtcbiAgICBpZiAodHlwZW9mIHByb3AgIT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGxldCBkaWREZWxldGUgPSBkZWxldGUgdGhpcy4kdmFyUHJvcHMkW3Byb3BdO1xuICAgIGlmICh0aGlzLiRjb25zdFByb3BzJCkge1xuICAgICAgZGlkRGVsZXRlID0gZGVsZXRlIHRoaXMuJGNvbnN0UHJvcHMkW3Byb3AgYXMgc3RyaW5nXSB8fCBkaWREZWxldGU7XG4gICAgfVxuICAgIGlmICh0aGlzLiRjaGlsZHJlbiQgIT0gbnVsbCAmJiBwcm9wID09PSAnY2hpbGRyZW4nKSB7XG4gICAgICB0aGlzLiRjaGlsZHJlbiQgPSBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gZGlkRGVsZXRlO1xuICB9XG4gIGhhcyhfOiBhbnksIHByb3A6IHN0cmluZyB8IHN5bWJvbCkge1xuICAgIGNvbnN0IGhhc1Byb3AgPVxuICAgICAgKHByb3AgPT09ICdjaGlsZHJlbicgJiYgdGhpcy4kY2hpbGRyZW4kICE9IG51bGwpIHx8XG4gICAgICBwcm9wID09PSBfQ09OU1RfUFJPUFMgfHxcbiAgICAgIHByb3AgPT09IF9WQVJfUFJPUFMgfHxcbiAgICAgIHByb3AgaW4gdGhpcy4kdmFyUHJvcHMkIHx8XG4gICAgICAodGhpcy4kY29uc3RQcm9wcyQgPyBwcm9wIGluIHRoaXMuJGNvbnN0UHJvcHMkIDogZmFsc2UpO1xuICAgIHJldHVybiBoYXNQcm9wO1xuICB9XG4gIGdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQ6IGFueSwgcDogc3RyaW5nIHwgc3ltYm9sKTogUHJvcGVydHlEZXNjcmlwdG9yIHwgdW5kZWZpbmVkIHtcbiAgICBjb25zdCB2YWx1ZSA9XG4gICAgICBwID09PSAnY2hpbGRyZW4nICYmIHRoaXMuJGNoaWxkcmVuJCAhPSBudWxsXG4gICAgICAgID8gdGhpcy4kY2hpbGRyZW4kXG4gICAgICAgIDogdGhpcy4kY29uc3RQcm9wcyQgJiYgcCBpbiB0aGlzLiRjb25zdFByb3BzJFxuICAgICAgICAgID8gdGhpcy4kY29uc3RQcm9wcyRbcCBhcyBzdHJpbmddXG4gICAgICAgICAgOiB0aGlzLiR2YXJQcm9wcyRbcCBhcyBzdHJpbmddO1xuICAgIHJldHVybiB7XG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgIH07XG4gIH1cbiAgb3duS2V5cygpIHtcbiAgICBjb25zdCBvdXQgPSBPYmplY3Qua2V5cyh0aGlzLiR2YXJQcm9wcyQpO1xuICAgIGlmICh0aGlzLiRjaGlsZHJlbiQgIT0gbnVsbCAmJiBvdXQuaW5kZXhPZignY2hpbGRyZW4nKSA9PT0gLTEpIHtcbiAgICAgIG91dC5wdXNoKCdjaGlsZHJlbicpO1xuICAgIH1cbiAgICBpZiAodGhpcy4kY29uc3RQcm9wcyQpIHtcbiAgICAgIGZvciAoY29uc3Qga2V5IGluIHRoaXMuJGNvbnN0UHJvcHMkKSB7XG4gICAgICAgIGlmIChvdXQuaW5kZXhPZihrZXkpID09PSAtMSkge1xuICAgICAgICAgIG91dC5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG91dDtcbiAgfVxufVxuXG4vKipcbiAqIEluc3RlYWQgb2YgdXNpbmcgUHJvcHNQcm94eUhhbmRsZXIgZ2V0dGVyICh3aGljaCBjb3VsZCBjcmVhdGUgYSBjb21wb25lbnQtbGV2ZWwgc3Vic2NyaXB0aW9uKS5cbiAqIFVzZSB0aGlzIGZ1bmN0aW9uIHRvIGdldCB0aGUgcHJvcHMgZGlyZWN0bHkgZnJvbSBhIGNvbnN0IG9yIHZhciBwcm9wcy5cbiAqL1xuZXhwb3J0IGNvbnN0IGRpcmVjdEdldFByb3BzUHJveHlQcm9wID0gPFQsIEpTWD4oanN4OiBKU1hOb2RlPEpTWD4sIHByb3A6IHN0cmluZyk6IFQgPT4ge1xuICByZXR1cm4gKFxuICAgIGpzeC5jb25zdFByb3BzICYmIHByb3AgaW4ganN4LmNvbnN0UHJvcHMgPyBqc3guY29uc3RQcm9wc1twcm9wXSA6IGpzeC52YXJQcm9wc1twcm9wXVxuICApIGFzIFQ7XG59O1xuXG5leHBvcnQgeyBqc3ggYXMganN4cyB9O1xuIl19","import { isQrl } from '../server/prefetch-strategy';\nimport { isJSXNode } from './shared/jsx/jsx-runtime';\nimport { isTask } from './use/use-task';\nimport { vnode_getProp, vnode_isVNode } from './client/vnode';\nimport { ComputedSignal, WrappedSignal, isSignal } from './signal/signal';\nimport { isStore } from './signal/store';\nimport { DEBUG_TYPE } from './shared/types';\nconst stringifyPath = [];\nexport function qwikDebugToString(value) {\n    if (value === null) {\n        return 'null';\n    }\n    else if (value === undefined) {\n        return 'undefined';\n    }\n    else if (typeof value === 'string') {\n        return '\"' + value + '\"';\n    }\n    else if (typeof value === 'number' || typeof value === 'boolean') {\n        return String(value);\n    }\n    else if (isTask(value)) {\n        return `Task(${qwikDebugToString(value.$qrl$)})`;\n    }\n    else if (isQrl(value)) {\n        return `Qrl(${value.$symbol$})`;\n    }\n    else if (typeof value === 'object' || typeof value === 'function') {\n        if (stringifyPath.includes(value)) {\n            return '*';\n        }\n        if (stringifyPath.length > 10) {\n            // debugger;\n        }\n        try {\n            stringifyPath.push(value);\n            if (Array.isArray(value)) {\n                if (vnode_isVNode(value)) {\n                    return '(' + vnode_getProp(value, DEBUG_TYPE, null) + ')';\n                }\n                else {\n                    return value.map(qwikDebugToString);\n                }\n            }\n            else if (isSignal(value)) {\n                if (value instanceof WrappedSignal) {\n                    return 'WrappedSignal';\n                }\n                else if (value instanceof ComputedSignal) {\n                    return 'ComputedSignal';\n                }\n                else {\n                    return 'Signal';\n                }\n            }\n            else if (isStore(value)) {\n                return 'Store';\n            }\n            else if (isJSXNode(value)) {\n                return jsxToString(value);\n            }\n        }\n        finally {\n            stringifyPath.pop();\n        }\n    }\n    return value;\n}\nexport const pad = (text, prefix) => {\n    return String(text)\n        .split('\\n')\n        .map((line, idx) => (idx ? prefix : '') + line)\n        .join('\\n');\n};\nexport const jsxToString = (value) => {\n    if (isJSXNode(value)) {\n        let type = value.type;\n        if (typeof type === 'function') {\n            type = type.name || 'Component';\n        }\n        let str = '<' + value.type;\n        if (value.props) {\n            for (const [key, val] of Object.entries(value.props)) {\n                str += ' ' + key + '=' + qwikDebugToString(val);\n            }\n            const children = value.children;\n            if (children != null) {\n                str += '>';\n                if (Array.isArray(children)) {\n                    children.forEach((child) => {\n                        str += jsxToString(child);\n                    });\n                }\n                else {\n                    str += jsxToString(children);\n                }\n                str += '</' + value.type + '>';\n            }\n            else {\n                str += '/>';\n            }\n        }\n        return str;\n    }\n    else {\n        return String(value);\n    }\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVidWcuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvZGVidWcudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLEtBQUssRUFBRSxNQUFNLDZCQUE2QixDQUFDO0FBQ3BELE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQztBQUNyRCxPQUFPLEVBQUUsTUFBTSxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDeEMsT0FBTyxFQUFFLGFBQWEsRUFBRSxhQUFhLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUM5RCxPQUFPLEVBQUUsY0FBYyxFQUFFLGFBQWEsRUFBRSxRQUFRLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUMxRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDekMsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBRTVDLE1BQU0sYUFBYSxHQUFVLEVBQUUsQ0FBQztBQUNoQyxNQUFNLFVBQVUsaUJBQWlCLENBQUMsS0FBVTtJQUMxQyxJQUFJLEtBQUssS0FBSyxJQUFJLEVBQUUsQ0FBQztRQUNuQixPQUFPLE1BQU0sQ0FBQztJQUNoQixDQUFDO1NBQU0sSUFBSSxLQUFLLEtBQUssU0FBUyxFQUFFLENBQUM7UUFDL0IsT0FBTyxXQUFXLENBQUM7SUFDckIsQ0FBQztTQUFNLElBQUksT0FBTyxLQUFLLEtBQUssUUFBUSxFQUFFLENBQUM7UUFDckMsT0FBTyxHQUFHLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQztJQUMzQixDQUFDO1NBQU0sSUFBSSxPQUFPLEtBQUssS0FBSyxRQUFRLElBQUksT0FBTyxLQUFLLEtBQUssU0FBUyxFQUFFLENBQUM7UUFDbkUsT0FBTyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDdkIsQ0FBQztTQUFNLElBQUksTUFBTSxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUM7UUFDekIsT0FB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TSxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsSUFBSSxNQUFNLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDO2dCQUNyRCxHQUFHLElBQUksR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsaUJBQWlCLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDbEQsQ0FBQztZQUNELE1BQU0sUUFBUSxHQUFHLEtBQUssQ0FBQyxRQUFRLENBQUM7WUFDaEMsSUFBSSxRQUFRLElBQUksSUFBSSxFQUFFLENBQUM7Z0JBQ3JCLEdBQUcsSUFBSSxHQUFHLENBQUM7Z0JBQ1gsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUM7b0JBQzVCLFFBQVEsQ0FBQyxPQUFPLENBQUMsQ0FBQyxLQUFLLEVBQUUsRUFBRTt3QkFDekIsR0FBRyxJQUFJLFdBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQztvQkFDNUIsQ0FBQyxDQUFDLENBQUM7Z0JBQ0wsQ0FBQztxQkFBTSxDQUFDO29CQUNOLEdBQUcsSUFBSSxXQUFXLENBQUMsUUFBUSxDQUFDLENBQUM7Z0JBQy9CLENBQUM7Z0JBQ0QsR0FBRyxJQUFJLElBQUksR0FBRyxLQUFLLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQztZQUNqQyxDQUFDO2lCQUFNLENBQUM7Z0JBQ04sR0FBRyxJQUFJLElBQUksQ0FBQztZQUNkLENBQUM7UUFDSCxDQUFDO1FBQ0QsT0FBTyxHQUFHLENBQUM7SUFDYixDQUFDO1NBQU0sQ0FBQztRQUNOLE9BQU8sTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3ZCLENBQUM7QUFDSCxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc1FybCB9IGZyb20gJy4uL3NlcnZlci9wcmVmZXRjaC1zdHJhdGVneSc7XG5pbXBvcnQgeyBpc0pTWE5vZGUgfSBmcm9tICcuL3NoYXJlZC9qc3gvanN4LXJ1bnRpbWUnO1xuaW1wb3J0IHsgaXNUYXNrIH0gZnJvbSAnLi91c2UvdXNlLXRhc2snO1xuaW1wb3J0IHsgdm5vZGVfZ2V0UHJvcCwgdm5vZGVfaXNWTm9kZSB9IGZyb20gJy4vY2xpZW50L3Zub2RlJztcbmltcG9ydCB7IENvbXB1dGVkU2lnbmFsLCBXcmFwcGVkU2lnbmFsLCBpc1NpZ25hbCB9IGZyb20gJy4vc2lnbmFsL3NpZ25hbCc7XG5pbXBvcnQgeyBpc1N0b3JlIH0gZnJvbSAnLi9zaWduYWwvc3RvcmUnO1xuaW1wb3J0IHsgREVCVUdfVFlQRSB9IGZyb20gJy4vc2hhcmVkL3R5cGVzJztcblxuY29uc3Qgc3RyaW5naWZ5UGF0aDogYW55W10gPSBbXTtcbmV4cG9ydCBmdW5jdGlvbiBxd2lrRGVidWdUb1N0cmluZyh2YWx1ZTogYW55KTogYW55IHtcbiAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgcmV0dXJuICdudWxsJztcbiAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuICd1bmRlZmluZWQnO1xuICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gJ1wiJyArIHZhbHVlICsgJ1wiJztcbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgcmV0dXJuIFN0cmluZyh2YWx1ZSk7XG4gIH0gZWxzZSBpZiAoaXNUYXNrKHZhbHVlKSkge1xuICAgIHJldHVybiBgVGFzaygke3F3aWtEZWJ1Z1RvU3RyaW5nKHZhbHVlLiRxcmwkKX0pYDtcbiAgfSBlbHNlIGlmIChpc1FybCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gYFFybCgke3ZhbHVlLiRzeW1ib2wkfSlgO1xuICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgfHwgdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgaWYgKHN0cmluZ2lmeVBhdGguaW5jbHVkZXModmFsdWUpKSB7XG4gICAgICByZXR1cm4gJyonO1xuICAgIH1cbiAgICBpZiAoc3RyaW5naWZ5UGF0aC5sZW5ndGggPiAxMCkge1xuICAgICAgLy8gZGVidWdnZXI7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICBzdHJpbmdpZnlQYXRoLnB1c2godmFsdWUpO1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIGlmICh2bm9kZV9pc1ZOb2RlKHZhbHVlKSkge1xuICAgICAgICAgIHJldHVybiAnKCcgKyB2bm9kZV9nZXRQcm9wKHZhbHVlLCBERUJVR19UWVBFLCBudWxsKSArICcpJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gdmFsdWUubWFwKHF3aWtEZWJ1Z1RvU3RyaW5nKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChpc1NpZ25hbCh2YWx1ZSkpIHtcbiAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgV3JhcHBlZFNpZ25hbCkge1xuICAgICAgICAgIHJldHVybiAnV3JhcHBlZFNpZ25hbCc7XG4gICAgICAgIH0gZWxzZSBpZiAodmFsdWUgaW5zdGFuY2VvZiBDb21wdXRlZFNpZ25hbCkge1xuICAgICAgICAgIHJldHVybiAnQ29tcHV0ZWRTaWduYWwnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiAnU2lnbmFsJztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChpc1N0b3JlKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gJ1N0b3JlJztcbiAgICAgIH0gZWxzZSBpZiAoaXNKU1hOb2RlKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4ganN4VG9TdHJpbmcodmFsdWUpO1xuICAgICAgfVxuICAgIH0gZmluYWxseSB7XG4gICAgICBzdHJpbmdpZnlQYXRoLnBvcCgpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdmFsdWU7XG59XG5cbmV4cG9ydCBjb25zdCBwYWQgPSAodGV4dDogc3RyaW5nLCBwcmVmaXg6IHN0cmluZykgPT4ge1xuICByZXR1cm4gU3RyaW5nKHRleHQpXG4gICAgLnNwbGl0KCdcXG4nKVxuICAgIC5tYXAoKGxpbmUsIGlkeCkgPT4gKGlkeCA/IHByZWZpeCA6ICcnKSArIGxpbmUpXG4gICAgLmpvaW4oJ1xcbicpO1xufTtcblxuZXhwb3J0IGNvbnN0IGpzeFRvU3RyaW5nID0gKHZhbHVlOiBhbnkpOiBzdHJpbmcgPT4ge1xuICBpZiAoaXNKU1hOb2RlKHZhbHVlKSkge1xuICAgIGxldCB0eXBlID0gdmFsdWUudHlwZTtcbiAgICBpZiAodHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHR5cGUgPSB0eXBlLm5hbWUgfHwgJ0NvbXBvbmVudCc7XG4gICAgfVxuICAgIGxldCBzdHIgPSAnPCcgKyB2YWx1ZS50eXBlO1xuICAgIGlmICh2YWx1ZS5wcm9wcykge1xuICAgICAgZm9yIChjb25zdCBba2V5LCB2YWxdIG9mIE9iamVjdC5lbnRyaWVzKHZhbHVlLnByb3BzKSkge1xuICAgICAgICBzdHIgKz0gJyAnICsga2V5ICsgJz0nICsgcXdpa0RlYnVnVG9TdHJpbmcodmFsKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNoaWxkcmVuID0gdmFsdWUuY2hpbGRyZW47XG4gICAgICBpZiAoY2hpbGRyZW4gIT0gbnVsbCkge1xuICAgICAgICBzdHIgKz0gJz4nO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjaGlsZHJlbikpIHtcbiAgICAgICAgICBjaGlsZHJlbi5mb3JFYWNoKChjaGlsZCkgPT4ge1xuICAgICAgICAgICAgc3RyICs9IGpzeFRvU3RyaW5nKGNoaWxkKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdHIgKz0ganN4VG9TdHJpbmcoY2hpbGRyZW4pO1xuICAgICAgICB9XG4gICAgICAgIHN0ciArPSAnPC8nICsgdmFsdWUudHlwZSArICc+JztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0ciArPSAnLz4nO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc3RyO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBTdHJpbmcodmFsdWUpO1xuICB9XG59O1xuIl19","/**\n * @file\n *\n *   VNodeData is additional information which allows the `vnode` to recover virtual VNode information\n *   from the HTML.\n */\n/**\n * VNodeDataSeparator contains information about splitting up the VNodeData and attaching it to the\n * HTML.\n */\nexport const VNodeDataSeparator = {\n    REFERENCE_CH: /* ***** */ `~`, // `~` is a reference to the node. Save it.\n    REFERENCE: /* ******** */ 126, // `~` is a reference to the node. Save it.\n    ADVANCE_1_CH: /* ***** */ `!`, // `!` is vNodeData separator skipping 0. (ie next vNode)\n    ADVANCE_1: /* ********* */ 33, // `!` is vNodeData separator skipping 0. (ie next vNode)\n    ADVANCE_2_CH: /* ***** */ `\"`, // `\"` is vNodeData separator skipping 1.\n    ADVANCE_2: /* ********* */ 34, // `\"` is vNodeData separator skipping 1.\n    ADVANCE_4_CH: /* ***** */ `#`, // `#` is vNodeData separator skipping 2.\n    ADVANCE_4: /* ********* */ 35, // `#` is vNodeData separator skipping 2.\n    ADVANCE_8_CH: /* ***** */ `$`, // `$` is vNodeData separator skipping 4.\n    ADVANCE_8: /* ********* */ 36, // `$` is vNodeData separator skipping 4.\n    ADVANCE_16_CH: /* **** */ `%`, // `%` is vNodeData separator skipping 8.\n    ADVANCE_16: /* ******** */ 37, // `%` is vNodeData separator skipping 8.\n    ADVANCE_32_CH: /* **** */ `&`, // `&` is vNodeData separator skipping 16.\n    ADVANCE_32: /* ******** */ 38, // `&` is vNodeData separator skipping 16.\n    ADVANCE_64_CH: /* **** */ `'`, // `'` is vNodeData separator skipping 32.\n    ADVANCE_64: /* ******** */ 39, // `'` is vNodeData separator skipping 32.\n    ADVANCE_128_CH: /* *** */ `(`, // `(` is vNodeData separator skipping 64.\n    ADVANCE_128: /* ******* */ 40, // `(` is vNodeData separator skipping 64.\n    ADVANCE_256_CH: /* *** */ `)`, // `)` is vNodeData separator skipping 128.\n    ADVANCE_256: /* ******* */ 41, // `)` is vNodeData separator skipping 128.\n    ADVANCE_512_CH: /* *** */ `*`, // `*` is vNodeData separator skipping 256.\n    ADVANCE_512: /* ******* */ 42, // `*` is vNodeData separator skipping 256.\n    ADVANCE_1024_CH: /* ** */ `+`, // `+` is vNodeData separator skipping 512.\n    ADVANCE_1024: /* ****** */ 43, // `+` is vNodeData separator skipping 512.\n    ADVANCE_2048_CH: /* *  */ ',', // ',' is vNodeData separator skipping 1024.\n    ADVANCE_2048: /* ****** */ 44, // ',' is vNodeData separator skipping 1024.\n    ADVANCE_4096_CH: /* *  */ `-`, // `-` is vNodeData separator skipping 2048.\n    ADVANCE_4096: /* ****** */ 45, // `-` is vNodeData separator skipping 2048.\n    ADVANCE_8192_CH: /* *  */ `.`, // `.` is vNodeData separator skipping 4096.\n    ADVANCE_8192: /* ****** */ 46, // `.` is vNodeData separator skipping 4096.\n};\n/** VNodeDataChar contains information about the VNodeData used for encoding props */\nexport const VNodeDataChar = {\n    OPEN: /* ************** */ 123, // `{` is the start of the VNodeData.\n    OPEN_CHAR: /* ****** */ '{',\n    CLOSE: /* ************* */ 125, // `}` is the end of the VNodeData.\n    CLOSE_CHAR: /* ***** */ '}',\n    SCOPED_STYLE: /* ******* */ 59, // `;` - `q:sstyle` - Style attribute.\n    SCOPED_STYLE_CHAR: /* */ ';',\n    RENDER_FN: /* ********** */ 60, // `<` - `q:renderFn' - Component QRL render function (body)\n    RENDER_FN_CHAR: /* ** */ '<',\n    ID: /* ***************** */ 61, // `=` - `q:id` - ID of the element.\n    ID_CHAR: /* ********* */ '=',\n    PROPS: /* ************** */ 62, // `>` - `q:props' - Component Props\n    PROPS_CHAR: /* ****** */ '>',\n    SLOT_REF: /* *********** */ 63, // `?` - `q:sref` - Slot reference.\n    SLOT_REF_CHAR: /* *** */ '?',\n    KEY: /* **************** */ 64, // `@` - `q:key` - Element key.\n    KEY_CHAR: /* ******** */ '@',\n    SEQ: /* **************** */ 91, // `[` - `q:seq' - Seq value from `useSequentialScope()`\n    SEQ_CHAR: /* ******** */ '[',\n    DON_T_USE: /* ********** */ 93, // `\\` - SKIP because `\\` is used as escaping\n    DON_T_USE_CHAR: '\\\\',\n    CONTEXT: /* ************ */ 93, // `]` - `q:ctx' - Component context/props\n    CONTEXT_CHAR: /* **** */ ']',\n    SEQ_IDX: /* ************ */ 94, // `^` - `q:seqIdx' - Sequential scope id\n    SEQ_IDX_CHAR: /* **** */ '^',\n    SEPARATOR: /* ********* */ 124, // `|` - Separator char to encode any key/value pairs.\n    SEPARATOR_CHAR: /* ** */ '|',\n    SLOT: /* ************** */ 126, // `~` - `q:slot' - Slot name\n    SLOT_CHAR: /* ******* */ '~',\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidm5vZGUtZGF0YS10eXBlcy5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9zaGFyZWQvdm5vZGUtZGF0YS10eXBlcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7R0FLRztBQUVIOzs7R0FHRztBQUNILE1BQU0sQ0FBQyxNQUFNLGtCQUFrQixHQUFHO0lBQ2hDLFlBQVksRUFBRSxXQUFXLENBQUMsR0FBRyxFQUFFLDJDQUEyQztJQUMxRSxTQUFTLEVBQUUsY0FBYyxDQUFDLEdBQUcsRUFBRSwyQ0FBMkM7SUFDMUUsWUFBWSxFQUFFLFdBQVcsQ0FBQyxHQUFHLEVBQUUseURBQXlEO0lBQ3hGLFNBQVMsRUFBRSxlQUFlLENBQUMsRUFBRSxFQUFFLHlEQUF5RDtJQUN4RixZQUFZLEVBQUUsV0FBVyxDQUFDLEdBQUcsRUFBRSx5Q0FBeUM7SUFDeEUsU0FBUyxFQUFFLGVBQWUsQ0FBQyxFQUFFLEVBQUUseUNBQXlDO0lBQ3hFLFlBQVksRUFBRSxXQUFXLENBQUMsR0FBRyxFQUFFLHlDQUF5QztJQUN4RSxTQUFTLEVBQUUsZUFBZSxDQUFDLEVBQUUsRUFBRSx5Q0FBeUM7SUFDeEUsWUFBWSxFQUFFLFdBQVcsQ0FBQyxHQUFHLEVBQUUseUNBQXlDO0lBQ3hFLFNBQVMsRUFBRSxlQUFlLENBQUMsRUFBRSxFQUFFLHlDQUF5QztJQUN4RSxhQUFhLEVBQUUsVUFBVSxDQUFDLEdBQUcsRUFBRSx5Q0FBeUM7SUFDeEUsVUFBVSxFQUFFLGNBQWMsQ0FBQyxFQUFFLEVBQUUseUNBQXlDO0lBQ3hFLGFBQWEsRUFBRSxVQUFVLENBQUMsR0FBRyxFQUFFLDBDQUEwQztJQUN6RSxVQUFVLEVBQUUsY0FBYyxDQUFDLEVBQUUsRUFBRSwwQ0FBMEM7SUFDekUsYUFBYSxFQUFFLFVBQVUsQ0FBQyxHQUFHLEVBQUUsMENBQTBDO0lBQ3pFLFVBQVUsRUFBRSxjQUFjLENBQUMsRUFBRSxFQUFFLDBDQUEwQztJQUN6RSxjQUFjLEVBQUUsU0FBUyxDQUFDLEdBQUcsRUFBRSwwQ0FBMEM7SUFDekUsV0FBVyxFQUFFLGFBQWEsQ0FBQyxFQUFFLEVBQUUsMENBQTBDO0lBQ3pFLGNBQWMsRUFBRSxTQUFTLENBQUMsR0FBRyxFQUFFLDJDQUEyQztJQUMxRSxXQUFXLEVBQUUsYUFBYSxDQUFDLEVBQUUsRUFBRSwyQ0FBMkM7SUFDMUUsY0FBYyxFQUFFLFNBQVMsQ0FBQyxHQUFHLEVBQUUsMkNBQTJDO0lBQzFFLFdBQVcsRUFBRSxhQUFhLENBQUMsRUFBRSxFQUFFLDJDQUEyQztJQUMxRSxlQUFlLEVBQUUsUUFBUSxDQUFDLEdBQUcsRUFBRSwyQ0FBMkM7SUFDMUUsWUFBWSxFQUFFLFlBQVksQ0FBQyxFQUFFLEVBQUUsMkNBQTJDO0lBQzFFLGVBQWUsRUFBRSxRQUFRLENBQUMsR0FBRyxFQUFFLDRDQUE0QztJQUMzRSxZQUFZLEVBQUUsWUFBWSxDQUFDLEVBQUUsRUFBRSw0Q0FBNEM7SUFDM0UsZUFBZSxFQUFFLFFBQVEsQ0FBQyxHQUFHLEVBQUUsNENBQTRDO0lBQzNFLFlBQVksRUFBRSxZQUFZLENBQUMsRUFBRSxFQUFFLDRDQUE0QztJQUMzRSxlQUFlLEVBQUUsUUFBUSxDQUFDLEdBQUcsRUFBRSw0Q0FBNEM7SUFDM0UsWUFBWSxFQUFFLFlBQVksQ0FBQyxFQUFFLEVBQUUsNENBQTRDO0NBQzVFLENBQUM7QUFFRixxRkFBcUY7QUFDckYsTUFBTSxDQUFDLE1BQU0sYUFBYSxHQUFHO0lBQzNCLElBQUksRUFBRSxvQkFBb0IsQ0FBQyxHQUFHLEVBQUUscUNBQXFDO0lBQ3JFLFNBQVMsRUFBRSxZQUFZLENBQUMsR0FBRztJQUMzQixLQUFLLEVBQUUsbUJBQW1CLENBQUMsR0FBRyxFQUFFLG1DQUFtQztJQUNuRSxVQUFVLEVBQUUsV0FBVyxDQUFDLEdBQUc7SUFFM0IsWUFBWSxFQUFFLGFBQWEsQ0FBQyxFQUFFLEVBQUUsc0NBQXNDO0lBQ3RFLGlCQUFpQixFQUFFLEtBQUssQ0FBQyxHQUFHO0lBQzVCLFNBQVMsRUFBRSxnQkFBZ0IsQ0FBQyxFQUFFLEVBQUUsNERBQTREO0lBQzVGLGNBQWMsRUFBRSxRQUFRLENBQUMsR0FBRztJQUM1QixFQUFFLEVBQUUsdUJBQXVCLENBQUMsRUFBRSxFQUFFLG9DQUFvQztJQUNwRSxPQUFPLEVBQUUsZUFBZSxDQUFDLEdBQUc7SUFDNUIsS0FBSyxFQUFFLG9CQUFvQixDQUFDLEVBQUUsRUFBRSxvQ0FBb0M7SUFDcEUsVUFBVSxFQUFFLFlBQVksQ0FBQyxHQUFHO0lBQzVCLFFBQVEsRUFBRSxpQkFBaUIsQ0FBQyxFQUFFLEVBQUUsbUNBQW1DO0lBQ25FLGFBQWEsRUFBRSxTQUFTLENBQUMsR0FBRztJQUM1QixHQUFHLEVBQUUsc0JBQXNCLENBQUMsRUFBRSxFQUFFLCtCQUErQjtJQUMvRCxRQUFRLEVBQUUsY0FBYyxDQUFDLEdBQUc7SUFDNUIsR0FBRyxFQUFFLHNCQUFzQixDQUFDLEVBQUUsRUFBRSx3REFBd0Q7SUFDeEYsUUFBUSxFQUFFLGNBQWMsQ0FBQyxHQUFHO0lBQzVCLFNBQVMsRUFBRSxnQkFBZ0IsQ0FBQyxFQUFFLEVBQUUsNkNBQTZDO0lBQzdFLGNBQWMsRUFBRSxJQUFJO0lBQ3BCLE9BQU8sRUFBRSxrQkFBa0IsQ0FBQyxFQUFFLEVBQUUsMENBQTBDO0lBQzFFLFlBQVksRUFBRSxVQUFVLENBQUMsR0FBRztJQUM1QixPQUFPLEVBQUUsa0JBQWtCLENBQUMsRUFBRSxFQUFFLHlDQUF5QztJQUN6RSxZQUFZLEVBQUUsVUFBVSxDQUFDLEdBQUc7SUFDNUIsU0FBUyxFQUFFLGVBQWUsQ0FBQyxHQUFHLEVBQUUsc0RBQXNEO0lBQ3RGLGNBQWMsRUFBRSxRQUFRLENBQUMsR0FBRztJQUM1QixJQUFJLEVBQUUsb0JBQW9CLENBQUMsR0FBRyxFQUFFLDZCQUE2QjtJQUM3RCxTQUFTLEVBQUUsYUFBYSxDQUFDLEdBQUc7Q0FDN0IsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGZpbGVcbiAqXG4gKiAgIFZOb2RlRGF0YSBpcyBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIHdoaWNoIGFsbG93cyB0aGUgYHZub2RlYCB0byByZWNvdmVyIHZpcnR1YWwgVk5vZGUgaW5mb3JtYXRpb25cbiAqICAgZnJvbSB0aGUgSFRNTC5cbiAqL1xuXG4vKipcbiAqIFZOb2RlRGF0YVNlcGFyYXRvciBjb250YWlucyBpbmZvcm1hdGlvbiBhYm91dCBzcGxpdHRpbmcgdXAgdGhlIFZOb2RlRGF0YSBhbmQgYXR0YWNoaW5nIGl0IHRvIHRoZVxuICogSFRNTC5cbiAqL1xuZXhwb3J0IGNvbnN0IFZOb2RlRGF0YVNlcGFyYXRvciA9IHtcbiAgUkVGRVJFTkNFX0NIOiAvKiAqKioqKiAqLyBgfmAsIC8vIGB+YCBpcyBhIHJlZmVyZW5jZSB0byB0aGUgbm9kZS4gU2F2ZSBpdC5cbiAgUkVGRVJFTkNFOiAvKiAqKioqKioqKiAqLyAxMjYsIC8vIGB+YCBpcyBhIHJlZmVyZW5jZSB0byB0aGUgbm9kZS4gU2F2ZSBpdC5cbiAgQURWQU5DRV8xX0NIOiAvKiAqKioqKiAqLyBgIWAsIC8vIGAhYCBpcyB2Tm9kZURhdGEgc2VwYXJhdG9yIHNraXBwaW5nIDAuIChpZSBuZXh0IHZOb2RlKVxuICBBRFZBTkNFXzE6IC8qICoqKioqKioqKiAqLyAzMywgLy8gYCFgIGlzIHZOb2RlRGF0YSBzZXBhcmF0b3Igc2tpcHBpbmcgMC4gKGllIG5leHQgdk5vZGUpXG4gIEFEVkFOQ0VfMl9DSDogLyogKioqKiogKi8gYFwiYCwgLy8gYFwiYCBpcyB2Tm9kZURhdGEgc2VwYXJhdG9yIHNraXBwaW5nIDEuXG4gIEFEVkFOQ0VfMjogLyogKioqKioqKioqICovIDM0LCAvLyBgXCJgIGlzIHZOb2RlRGF0YSBzZXBhcmF0b3Igc2tpcHBpbmcgMS5cbiAgQURWQU5DRV80X0NIOiAvKiAqKioqKiAqLyBgI2AsIC8vIGAjYCBpcyB2Tm9kZURhdGEgc2VwYXJhdG9yIHNraXBwaW5nIDIuXG4gIEFEVkFOQ0VfNDogLyogKioqKioqKioqICovIDM1LCAvLyBgI2AgaXMgdk5vZGVEYXRhIHNlcGFyYXRvciBza2lwcGluZyAyLlxuICBBRFZBTkNFXzhfQ0g6IC8qICoqKioqICovIGAkYCwgLy8gYCRgIGlzIHZOb2RlRGF0YSBzZXBhcmF0b3Igc2tpcHBpbmcgNC5cbiAgQURWQU5DRV84OiAvKiAqKioqKioqKiogKi8gMzYsIC8vIGAkYCBpcyB2Tm9kZURhdGEgc2VwYXJhdG9yIHNraXBwaW5nIDQuXG4gIEFEVkFOQ0VfMTZfQ0g6IC8qICoqKiogKi8gYCVgLCAvLyBgJWAgaXMgdk5vZGVEYXRhIHNlcGFyYXRvciBza2lwcGluZyA4LlxuICBBRFZBTkNFXzE2OiAvKiAqKioqKioqKiAqLyAzNywgLy8gYCVgIGlzIHZOb2RlRGF0YSBzZXBhcmF0b3Igc2tpcHBpbmcgOC5cbiAgQURWQU5DRV8zMl9DSDogLyogKioqKiAqLyBgJmAsIC8vIGAmYCBpcyB2Tm9kZURhdGEgc2VwYXJhdG9yIHNraXBwaW5nIDE2LlxuICBBRFZBTkNFXzMyOiAvKiAqKioqKioqKiAqLyAzOCwgLy8gYCZgIGlzIHZOb2RlRGF0YSBzZXBhcmF0b3Igc2tpcHBpbmcgMTYuXG4gIEFEVkFOQ0VfNjRfQ0g6IC8qICoqKiogKi8gYCdgLCAvLyBgJ2AgaXMgdk5vZGVEYXRhIHNlcGFyYXRvciBza2lwcGluZyAzMi5cbiAgQURWQU5DRV82NDogLyogKioqKioqKiogKi8gMzksIC8vIGAnYCBpcyB2Tm9kZURhdGEgc2VwYXJhdG9yIHNraXBwaW5nIDMyLlxuICBBRFZBTkNFXzEyOF9DSDogLyogKioqICovIGAoYCwgLy8gYChgIGlzIHZOb2RlRGF0YSBzZXBhcmF0b3Igc2tpcHBpbmcgNjQuXG4gIEFEVkFOQ0VfMTI4OiAvKiAqKioqKioqICovIDQwLCAvLyBgKGAgaXMgdk5vZGVEYXRhIHNlcGFyYXRvciBza2lwcGluZyA2NC5cbiAgQURWQU5DRV8yNTZfQ0g6IC8qICoqKiAqLyBgKWAsIC8vIGApYCBpcyB2Tm9kZURhdGEgc2VwYXJhdG9yIHNraXBwaW5nIDEyOC5cbiAgQURWQU5DRV8yNTY6IC8qICoqKioqKiogKi8gNDEsIC8vIGApYCBpcyB2Tm9kZURhdGEgc2VwYXJhdG9yIHNraXBwaW5nIDEyOC5cbiAgQURWQU5DRV81MTJfQ0g6IC8qICoqKiAqLyBgKmAsIC8vIGAqYCBpcyB2Tm9kZURhdGEgc2VwYXJhdG9yIHNraXBwaW5nIDI1Ni5cbiAgQURWQU5DRV81MTI6IC8qICoqKioqKiogKi8gNDIsIC8vIGAqYCBpcyB2Tm9kZURhdGEgc2VwYXJhdG9yIHNraXBwaW5nIDI1Ni5cbiAgQURWQU5DRV8xMDI0X0NIOiAvKiAqKiAqLyBgK2AsIC8vIGArYCBpcyB2Tm9kZURhdGEgc2VwYXJhdG9yIHNraXBwaW5nIDUxMi5cbiAgQURWQU5DRV8xMDI0OiAvKiAqKioqKiogKi8gNDMsIC8vIGArYCBpcyB2Tm9kZURhdGEgc2VwYXJhdG9yIHNraXBwaW5nIDUxMi5cbiAgQURWQU5DRV8yMDQ4X0NIOiAvKiAqICAqLyAnLCcsIC8vICcsJyBpcyB2Tm9kZURhdGEgc2VwYXJhdG9yIHNraXBwaW5nIDEwMjQuXG4gIEFEVkFOQ0VfMjA0ODogLyogKioqKioqICovIDQ0LCAvLyAnLCcgaXMgdk5vZGVEYXRhIHNlcGFyYXRvciBza2lwcGluZyAxMDI0LlxuICBBRFZBTkNFXzQwOTZfQ0g6IC8qICogICovIGAtYCwgLy8gYC1gIGlzIHZOb2RlRGF0YSBzZXBhcmF0b3Igc2tpcHBpbmcgMjA0OC5cbiAgQURWQU5DRV80MDk2OiAvKiAqKioqKiogKi8gNDUsIC8vIGAtYCBpcyB2Tm9kZURhdGEgc2VwYXJhdG9yIHNraXBwaW5nIDIwNDguXG4gIEFEVkFOQ0VfODE5Ml9DSDogLyogKiAgKi8gYC5gLCAvLyBgLmAgaXMgdk5vZGVEYXRhIHNlcGFyYXRvciBza2lwcGluZyA0MDk2LlxuICBBRFZBTkNFXzgxOTI6IC8qICoqKioqKiAqLyA0NiwgLy8gYC5gIGlzIHZOb2RlRGF0YSBzZXBhcmF0b3Igc2tpcHBpbmcgNDA5Ni5cbn07XG5cbi8qKiBWTm9kZURhdGFDaGFyIGNvbnRhaW5zIGluZm9ybWF0aW9uIGFib3V0IHRoZSBWTm9kZURhdGEgdXNlZCBmb3IgZW5jb2RpbmcgcHJvcHMgKi9cbmV4cG9ydCBjb25zdCBWTm9kZURhdGFDaGFyID0ge1xuICBPUEVOOiAvKiAqKioqKioqKioqKioqKiAqLyAxMjMsIC8vIGB7YCBpcyB0aGUgc3RhcnQgb2YgdGhlIFZOb2RlRGF0YS5cbiAgT1BFTl9DSEFSOiAvKiAqKioqKiogKi8gJ3snLFxuICBDTE9TRTogLyogKioqKioqKioqKioqKiAqLyAxMjUsIC8vIGB9YCBpcyB0aGUgZW5kIG9mIHRoZSBWTm9kZURhdGEuXG4gIENMT1NFX0NIQVI6IC8qICoqKioqICovICd9JyxcblxuICBTQ09QRURfU1RZTEU6IC8qICoqKioqKiogKi8gNTksIC8vIGA7YCAtIGBxOnNzdHlsZWAgLSBTdHlsZSBhdHRyaWJ1dGUuXG4gIFNDT1BFRF9TVFlMRV9DSEFSOiAvKiAqLyAnOycsXG4gIFJFTkRFUl9GTjogLyogKioqKioqKioqKiAqLyA2MCwgLy8gYDxgIC0gYHE6cmVuZGVyRm4nIC0gQ29tcG9uZW50IFFSTCByZW5kZXIgZnVuY3Rpb24gKGJvZHkpXG4gIFJFTkRFUl9GTl9DSEFSOiAvKiAqKiAqLyAnPCcsXG4gIElEOiAvKiAqKioqKioqKioqKioqKioqKiAqLyA2MSwgLy8gYD1gIC0gYHE6aWRgIC0gSUQgb2YgdGhlIGVsZW1lbnQuXG4gIElEX0NIQVI6IC8qICoqKioqKioqKiAqLyAnPScsXG4gIFBST1BTOiAvKiAqKioqKioqKioqKioqKiAqLyA2MiwgLy8gYD5gIC0gYHE6cHJvcHMnIC0gQ29tcG9uZW50IFByb3BzXG4gIFBST1BTX0NIQVI6IC8qICoqKioqKiAqLyAnPicsXG4gIFNMT1RfUkVGOiAvKiAqKioqKioqKioqKiAqLyA2MywgLy8gYD9gIC0gYHE6c3JlZmAgLSBTbG90IHJlZmVyZW5jZS5cbiAgU0xPVF9SRUZfQ0hBUjogLyogKioqICovICc/JyxcbiAgS0VZOiAvKiAqKioqKioqKioqKioqKioqICovIDY0LCAvLyBgQGAgLSBgcTprZXlgIC0gRWxlbWVudCBrZXkuXG4gIEtFWV9DSEFSOiAvKiAqKioqKioqKiAqLyAnQCcsXG4gIFNFUTogLyogKioqKioqKioqKioqKioqKiAqLyA5MSwgLy8gYFtgIC0gYHE6c2VxJyAtIFNlcSB2YWx1ZSBmcm9tIGB1c2VTZXF1ZW50aWFsU2NvcGUoKWBcbiAgU0VRX0NIQVI6IC8qICoqKioqKioqICovICdbJyxcbiAgRE9OX1RfVVNFOiAvKiAqKioqKioqKioqICovIDkzLCAvLyBgXFxgIC0gU0tJUCBiZWNhdXNlIGBcXGAgaXMgdXNlZCBhcyBlc2NhcGluZ1xuICBET05fVF9VU0VfQ0hBUjogJ1xcXFwnLFxuICBDT05URVhUOiAvKiAqKioqKioqKioqKiogKi8gOTMsIC8vIGBdYCAtIGBxOmN0eCcgLSBDb21wb25lbnQgY29udGV4dC9wcm9wc1xuICBDT05URVhUX0NIQVI6IC8qICoqKiogKi8gJ10nLFxuICBTRVFfSURYOiAvKiAqKioqKioqKioqKiogKi8gOTQsIC8vIGBeYCAtIGBxOnNlcUlkeCcgLSBTZXF1ZW50aWFsIHNjb3BlIGlkXG4gIFNFUV9JRFhfQ0hBUjogLyogKioqKiAqLyAnXicsXG4gIFNFUEFSQVRPUjogLyogKioqKioqKioqICovIDEyNCwgLy8gYHxgIC0gU2VwYXJhdG9yIGNoYXIgdG8gZW5jb2RlIGFueSBrZXkvdmFsdWUgcGFpcnMuXG4gIFNFUEFSQVRPUl9DSEFSOiAvKiAqKiAqLyAnfCcsXG4gIFNMT1Q6IC8qICoqKioqKioqKioqKioqICovIDEyNiwgLy8gYH5gIC0gYHE6c2xvdCcgLSBTbG90IG5hbWVcbiAgU0xPVF9DSEFSOiAvKiAqKioqKioqICovICd+Jyxcbn07XG4iXX0=","/**\n * @file\n *\n *   VNode is a DOM like API for walking the DOM but it:\n *\n *   1. Encodes virtual nodes which don't exist in the DOM\n *   2. Can serialize as part of SSR and than deserialize on the client.\n *\n *   # Virtual\n *\n *   You can think of a Virtual node just like an additional `<div>` in that it groups related child\n *   nodes together. But unlike a `<div>` which has a real DOM node and hence implications for CSS,\n *   Virtual nodes have no DOM impact, they are invisible.\n *\n *   # Portal\n *\n *   Two Virtual nodes can be linked together to form a Portal. Portals are useful for projecting\n *   content or just rendering content in a different location in the tree, while maintaining a\n *   logical relationship.\n *\n *   Portals have:\n *\n *   - Portal Source: A Virtual node which can refer to one ore more Destination Portals by name.\n *   - Destination Portal: A Virtual node which acts as a destination but also has a pointer back to the\n *       Portal Source\n *\n *   ## Example:\n *\n *   Given this code:\n *\n *   ```typescript\n *   const Parent = component$(() => {\n *     return (\n *       <Child>\n *         Projection Content\n *         <span q:slot=\"secondary\">Secondary Content</span>\n *         <span q:slot=\"other\">Other Content</span>\n *       </Child>\n *     };\n *   });\n *\n *   const Child = component$(() => {\n *     return (\n *       <div>\n *         <Slot>Default Primary</Slot>\n *         <Slot name=\"secondary\">Default Secondary</Slot>\n *       </div>\n *     );\n *   });\n *\n *   render(<body><main><Parent/></main><body>);\n * ```\n *\n *   Will render like so:\n *\n *   ```html\n *   <body>\n *     <main>\n *       <Virtual Parent q:portal=\":3A;secondary:3B;other:5A\" q:id=\"2A\">\n *         <Virtual Child>\n *           <div>\n *             <Virtual Slot q:id=\"3A\" q:portal=\"^:2A;:3A\"> Projection Content </Virtual>\n *             <Virtual Slot q:id=\"3B\" q:portal=\"^:2A;:3B\">\n *               <span q:slot=\"secondary\">Secondary Content</span>\n *             </Virtual>\n *           </div>\n *         </Virtual>\n *       </Virtual>\n *     </main>\n *     <q:template>\n *       <Virtual q:portal=\"^:2A\" q:id=\"5A\">\n *         <span q:slot=\"other\">Other Content</span>\n *       </Virtual>\n *       <Virtual q:portal=\"^:2A\" q:id=\"3A\">\n *         Default Primary\n *       </Virtual>\n *       <Virtual q:portal=\"^:2A\" q:id=\"3B\">\n *         Default Secondary\n *       </Virtual>\n *     <q:template>\n *   </body>\n * ```\n *\n *   Explanation:\n *\n *   - `q:portal=\":3A;secondary:3B;other:5A\"`\n *\n *       - Name: ``; Ref: `3A` - Where the default content went.\n *       - Name: `secondary`; Ref: `3B` - Where the 'secondary' content went.\n *       - Name: `other`; Ref: `%A` - Where the `other` content went. (Notice in this case the content is\n *               left over and os it ends up en the `q:templates`. We can share one '<q:template>`\n *               for all left over content.)\n *   - `q:portal=\"^:2A;:3A\"`\n *\n *       - Name: `^`; Ref: `2A` - Special pointer to the parent portal\n *       - Name: ``; Ref: `3A` - Location of the default content in case there is nothing projected here.\n *\n *   ## Rendering\n *\n *   During SSR, the rendered can delay rendering the JSX nodes until correct portal comes up. The ID\n *   system is already can make lazy references to the Nodes.\n *\n *   Client side rendering does not need to deal with IDs or `<q:template>` as un-rendered vNodes do\n *   not need to be serialized into DOM, and can remain on heap.\n *\n *   ## Context\n *\n *   When looking up context it is possible to follow you real render parents or follow the portals.\n *   All information is encoded in the portals.\n *\n *   ## Slot Projection\n *\n *   The ultimate user of portals is Slot projection. But the vNode do not understand slots, rather\n *   they understand portal primitives which makes Slot implementation much simpler.\n *\n *   NOTE: The portals need to have IDs during serialization only. Once runtime takes over, there is\n *   no need to have IDs or to write overflow to the `<q:template>`\n */\nimport { isDev } from '@qwik.dev/core/build';\nimport { qwikDebugToString } from '../debug';\nimport { assertDefined, assertEqual, assertFalse, assertTrue } from '../shared/error/assert';\nimport { isText } from '../shared/utils/element';\nimport { throwErrorAndStop } from '../shared/utils/log';\nimport { ELEMENT_ID, ELEMENT_KEY, ELEMENT_PROPS, ELEMENT_SEQ, ELEMENT_SEQ_IDX, OnRenderProp, QContainerAttr, QContainerAttrEnd, QContainerIsland, QContainerIslandEnd, QCtxAttr, QIgnore, QIgnoreEnd, QScopedStyle, QSlot, QSlotParent, QSlotRef, QStyle, QStylesAllSelector, Q_PROPS_SEPARATOR, dangerouslySetInnerHTML, } from '../shared/utils/markers';\nimport { isHtmlElement } from '../shared/utils/types';\nimport { DEBUG_TYPE, QContainerValue, VirtualType, VirtualTypeName } from '../shared/types';\nimport { VNodeDataChar } from '../shared/vnode-data-types';\nimport { getDomContainer } from './dom-container';\nimport { ElementVNodeProps, TextVNodeProps, VNodeFlags, VNodeFlagsIndex, VNodeProps, VirtualVNodeProps, } from './types';\nimport { vnode_getDomChildrenWithCorrectNamespacesToInsert, vnode_getElementNamespaceFlags, } from './vnode-namespace';\nimport { escapeHTML } from '../shared/utils/character-escaping';\n//////////////////////////////////////////////////////////////////////////////////////////////////////\n/**\n * Fundamental DOM operations are:\n *\n * - Insert new DOM element/text\n * - Remove DOM element/text\n * - Set DOM element attributes\n * - Set text node value\n */\nexport var VNodeJournalOpCode;\n(function (VNodeJournalOpCode) {\n    VNodeJournalOpCode[VNodeJournalOpCode[\"SetText\"] = 1] = \"SetText\";\n    VNodeJournalOpCode[VNodeJournalOpCode[\"SetAttribute\"] = 2] = \"SetAttribute\";\n    VNodeJournalOpCode[VNodeJournalOpCode[\"HoistStyles\"] = 3] = \"HoistStyles\";\n    VNodeJournalOpCode[VNodeJournalOpCode[\"Remove\"] = 4] = \"Remove\";\n    VNodeJournalOpCode[VNodeJournalOpCode[\"Insert\"] = 5] = \"Insert\";\n})(VNodeJournalOpCode || (VNodeJournalOpCode = {}));\n//////////////////////////////////////////////////////////////////////////////////////////////////////\nexport const vnode_newElement = (element, elementName) => {\n    assertEqual(fastNodeType(element), 1 /* ELEMENT_NODE */, 'Expecting element node.');\n    const vnode = VNodeArray.createElement(VNodeFlags.Element | VNodeFlags.Inflated | (-1 << VNodeFlagsIndex.shift), // Flag\n    null, null, null, null, null, element, elementName);\n    assertTrue(vnode_isElementVNode(vnode), 'Incorrect format of ElementVNode.');\n    assertFalse(vnode_isTextVNode(vnode), 'Incorrect format of ElementVNode.');\n    assertFalse(vnode_isVirtualVNode(vnode), 'Incorrect format of ElementVNode.');\n    return vnode;\n};\nexport const vnode_newUnMaterializedElement = (element) => {\n    assertEqual(fastNodeType(element), 1 /* ELEMENT_NODE */, 'Expecting element node.');\n    const vnode = VNodeArray.createElement(VNodeFlags.Element | (-1 << VNodeFlagsIndex.shift), // Flag\n    null, null, null, undefined, undefined, element, undefined);\n    assertTrue(vnode_isElementVNode(vnode), 'Incorrect format of ElementVNode.');\n    assertFalse(vnode_isTextVNode(vnode), 'Incorrect format of ElementVNode.');\n    assertFalse(vnode_isVirtualVNode(vnode), 'Incorrect format of ElementVNode.');\n    return vnode;\n};\nexport const vnode_newSharedText = (previousTextNode, sharedTextNode, textContent) => {\n    sharedTextNode &&\n        assertEqual(fastNodeType(sharedTextNode), 3 /* TEXT_NODE */, 'Expecting element node.');\n    const vnode = VNodeArray.createText(VNodeFlags.Text | (-1 << VNodeFlagsIndex.shift), // Flag\n    null, // Parent\n    previousTextNode, // Previous TextNode (usually first child)\n    null, // Next sibling\n    sharedTextNode, // SharedTextNode\n    textContent // Text Content\n    );\n    assertFalse(vnode_isElementVNode(vnode), 'Incorrect format of TextVNode.');\n    assertTrue(vnode_isTextVNode(vnode), 'Incorrect format of TextVNode.');\n    assertFalse(vnode_isVirtualVNode(vnode), 'Incorrect format of TextVNode.');\n    return vnode;\n};\nexport const vnode_newText = (textNode, textContent) => {\n    const vnode = VNodeArray.createText(VNodeFlags.Text | VNodeFlags.Inflated | (-1 << VNodeFlagsIndex.shift), // Flags\n    null, // Parent\n    null, // No previous sibling\n    null, // We may have a next sibling.\n    textNode, // TextNode\n    textContent // Text Content\n    );\n    assertEqual(fastNodeType(textNode), 3 /* TEXT_NODE */, 'Expecting element node.');\n    assertFalse(vnode_isElementVNode(vnode), 'Incorrect format of TextVNode.');\n    assertTrue(vnode_isTextVNode(vnode), 'Incorrect format of TextVNode.');\n    assertFalse(vnode_isVirtualVNode(vnode), 'Incorrect format of TextVNode.');\n    return vnode;\n};\nexport const vnode_newVirtual = () => {\n    const vnode = VNodeArray.createVirtual(VNodeFlags.Virtual | (-1 << VNodeFlagsIndex.shift), // Flags\n    null, null, null, null, null);\n    assertFalse(vnode_isElementVNode(vnode), 'Incorrect format of TextVNode.');\n    assertFalse(vnode_isTextVNode(vnode), 'Incorrect format of TextVNode.');\n    assertTrue(vnode_isVirtualVNode(vnode), 'Incorrect format of TextVNode.');\n    return vnode;\n};\n//////////////////////////////////////////////////////////////////////////////////////////////////////\nexport const vnode_isVNode = (vNode) => {\n    return vNode instanceof VNodeArray;\n};\nexport const vnode_isElementVNode = (vNode) => {\n    assertDefined(vNode, 'Missing vNode');\n    const flag = vNode[VNodeProps.flags];\n    return (flag & VNodeFlags.Element) === VNodeFlags.Element;\n};\nexport const vnode_isElementOrTextVNode = (vNode) => {\n    assertDefined(vNode, 'Missing vNode');\n    const flag = vNode[VNodeProps.flags];\n    return (flag & VNodeFlags.ELEMENT_OR_TEXT_MASK) !== 0;\n};\nexport const vnode_isElementOrVirtualVNode = (vNode) => {\n    assertDefined(vNode, 'Missing vNode');\n    const flag = vNode[VNodeProps.flags];\n    return (flag & VNodeFlags.ELEMENT_OR_VIRTUAL_MASK) !== 0;\n};\nexport const vnode_isMaterialized = (vNode) => {\n    assertDefined(vNode, 'Missing vNode');\n    const flag = vNode[VNodeProps.flags];\n    return ((flag & VNodeFlags.Element) === VNodeFlags.Element &&\n        vNode[ElementVNodeProps.firstChild] !== undefined &&\n        vNode[ElementVNodeProps.lastChild] !== undefined);\n};\nexport const vnode_isTextVNode = (vNode) => {\n    assertDefined(vNode, 'Missing vNode');\n    const flag = vNode[VNodeProps.flags];\n    return (flag & VNodeFlags.Text) === VNodeFlags.Text;\n};\nexport const vnode_isVirtualVNode = (vNode) => {\n    assertDefined(vNode, 'Missing vNode');\n    const flag = vNode[VNodeProps.flags];\n    return (flag & VNodeFlags.Virtual) === VNodeFlags.Virtual;\n};\nconst ensureTextVNode = (vNode) => {\n    assertTrue(vnode_isTextVNode(vNode), 'Expecting TextVNode was: ' + vnode_getNodeTypeName(vNode));\n    return vNode;\n};\nconst ensureElementOrVirtualVNode = (vNode) => {\n    assertDefined(vNode, 'Missing vNode');\n    assertTrue((vNode[VNodeProps.flags] & VNodeFlags.ELEMENT_OR_VIRTUAL_MASK) !== 0, 'Expecting ElementVNode or VirtualVNode was: ' + vnode_getNodeTypeName(vNode));\n};\nexport const ensureElementVNode = (vNode) => {\n    assertTrue(vnode_isElementVNode(vNode), 'Expecting ElementVNode was: ' + vnode_getNodeTypeName(vNode));\n    return vNode;\n};\nexport const vnode_getNodeTypeName = (vNode) => {\n    if (vNode) {\n        const flags = vNode[VNodeProps.flags];\n        switch (flags & VNodeFlags.TYPE_MASK) {\n            case VNodeFlags.Element:\n                return 'Element';\n            case VNodeFlags.Virtual:\n                return 'Virtual';\n            case VNodeFlags.Text:\n                return 'Text';\n        }\n    }\n    return '<unknown>';\n};\nexport const vnode_ensureElementInflated = (vnode) => {\n    const flags = vnode[VNodeProps.flags];\n    if ((flags & VNodeFlags.INFLATED_TYPE_MASK) === VNodeFlags.Element) {\n        const elementVNode = vnode;\n        elementVNode[VNodeProps.flags] ^= VNodeFlags.Inflated;\n        const element = elementVNode[ElementVNodeProps.element];\n        const attributes = element.attributes;\n        for (let idx = 0; idx < attributes.length; idx++) {\n            const attr = attributes[idx];\n            const key = attr.name;\n            if (key == Q_PROPS_SEPARATOR || !key) {\n                // SVG in Domino does not support ':' so it becomes an empty string.\n                // all attributes after the ':' are considered immutable, and so we ignore them.\n                break;\n            }\n            else if (key.startsWith(QContainerAttr)) {\n                if (attr.value === QContainerValue.HTML) {\n                    mapArray_set(elementVNode, dangerouslySetInnerHTML, element.innerHTML, ElementVNodeProps.PROPS_OFFSET);\n                }\n                else if (attr.value === QContainerValue.TEXT && 'value' in element) {\n                    mapArray_set(elementVNode, 'value', element.value, ElementVNodeProps.PROPS_OFFSET);\n                }\n            }\n            else if (!key.startsWith('on:')) {\n                const value = attr.value;\n                mapArray_set(elementVNode, key, value, ElementVNodeProps.PROPS_OFFSET);\n            }\n        }\n    }\n};\n/** Walks the VNode tree and materialize it using `vnode_getFirstChild`. */\nexport function vnode_walkVNode(vNode, callback) {\n    let vCursor = vNode;\n    // Depth first traversal\n    if (vnode_isTextVNode(vNode)) {\n        // Text nodes don't have subscriptions or children;\n        return;\n    }\n    let vParent = null;\n    do {\n        callback?.(vCursor, vParent);\n        const vFirstChild = vnode_getFirstChild(vCursor);\n        if (vFirstChild) {\n            vCursor = vFirstChild;\n            continue;\n        }\n        // Out of children\n        if (vCursor === vNode) {\n            // we are where we started, this means that vNode has no children, so we are done.\n            return;\n        }\n        // Out of children, go to next sibling\n        const vNextSibling = vnode_getNextSibling(vCursor);\n        if (vNextSibling) {\n            vCursor = vNextSibling;\n            continue;\n        }\n        // Out of siblings, go to parent\n        vParent = vnode_getParent(vCursor);\n        while (vParent) {\n            if (vParent === vNode) {\n                // We are back where we started, we are done.\n                return;\n            }\n            const vNextParentSibling = vnode_getNextSibling(vParent);\n            if (vNextParentSibling) {\n                vCursor = vNextParentSibling;\n                break;\n            }\n            vParent = vnode_getParent(vParent);\n        }\n        if (vParent == null) {\n            // We are done.\n            return;\n        }\n    } while (true);\n}\nexport function vnode_getDOMChildNodes(journal, root, isVNode = false, childNodes = []) {\n    if (vnode_isElementOrTextVNode(root)) {\n        if (vnode_isTextVNode(root)) {\n            /**\n             * If we are collecting text nodes, we need to ensure that they are inflated. If not inflated\n             * we would return a single text node which represents many actual text nodes, or removing a\n             * single text node would remove many text nodes.\n             */\n            vnode_ensureTextInflated(journal, root);\n        }\n        childNodes.push(isVNode ? root : vnode_getNode(root));\n        return childNodes;\n    }\n    let vNode = vnode_getFirstChild(root);\n    while (vNode) {\n        if (vnode_isElementVNode(vNode)) {\n            childNodes.push(isVNode ? vNode : vnode_getNode(vNode));\n        }\n        else if (vnode_isTextVNode(vNode)) {\n            /**\n             * If we are collecting text nodes, we need to ensure that they are inflated. If not inflated\n             * we would return a single text node which represents many actual text nodes, or removing a\n             * single text node would remove many text nodes.\n             */\n            vnode_ensureTextInflated(journal, vNode);\n            childNodes.push(isVNode ? vNode : vnode_getNode(vNode));\n        }\n        else {\n            isVNode\n                ? vnode_getDOMChildNodes(journal, vNode, true, childNodes)\n                : vnode_getDOMChildNodes(journal, vNode, false, childNodes);\n        }\n        vNode = vnode_getNextSibling(vNode);\n    }\n    return childNodes;\n}\n/**\n * Returns the previous/next sibling but from the point of view of the DOM.\n *\n * Given:\n *\n * ```\n * <div>\n *   <>a</>\n *   <>\n *     <></>\n *     <>b</>\n *     <></>\n *   </>\n *   <>c</>\n * </div>\n * ```\n *\n * Then:\n *\n * - Next: if we start at `a` the next DOM sibling is `b`, than `c`.\n * - Previous: if we start at `c` the next DOM sibling is `b`, than `a`.\n *\n * @param vNode - Starting node\n * @param nextDirection - Direction to search true=next, false=previous\n * @param descend - If true, than we will descend into the children first.\n * @returns\n */\nconst vnode_getDomSibling = (vNode, nextDirection, descend) => {\n    const childProp = nextDirection ? VirtualVNodeProps.firstChild : VirtualVNodeProps.lastChild;\n    const siblingProp = nextDirection ? VNodeProps.nextSibling : VNodeProps.previousSibling;\n    let cursor = vNode;\n    // first make sure we have a DOM node or no children.\n    while (descend && cursor && vnode_isVirtualVNode(cursor)) {\n        const child = cursor[childProp];\n        if (!child) {\n            break;\n        }\n        if (child[VNodeProps.flags] & VNodeFlags.ELEMENT_OR_TEXT_MASK) {\n            return child;\n        }\n        cursor = child;\n    }\n    while (cursor) {\n        // Look at the previous/next sibling.\n        let sibling = cursor[siblingProp];\n        if (sibling && sibling[VNodeProps.flags] & VNodeFlags.ELEMENT_OR_TEXT_MASK) {\n            // we found a previous/next DOM node, return it.\n            return sibling;\n        }\n        else if (!sibling) {\n            // If we don't have a sibling than walk up the tree until you find one.\n            let virtual = cursor[VNodeProps.parent];\n            if (virtual && !vnode_isVirtualVNode(virtual)) {\n                return null;\n            }\n            while (virtual && !(sibling = virtual[siblingProp])) {\n                virtual = virtual[VNodeProps.parent];\n                if (virtual && !vnode_isVirtualVNode(virtual)) {\n                    // the parent node is not virtual, so we are done here.\n                    return null;\n                }\n            }\n            if (!sibling) {\n                // If we did not find a sibling, than we are done.\n                return null;\n            }\n            if (vnode_isTextVNode(sibling) && virtual && vnode_isElementVNode(virtual)) {\n                // sibling to the real element is a text node, this is not a sibling\n                return null;\n            }\n        }\n        // At this point `sibling` is a next node to look at.\n        // Next step is to descend until we find a DOM done.\n        while (sibling) {\n            cursor = sibling;\n            if (cursor[VNodeProps.flags] & VNodeFlags.ELEMENT_OR_TEXT_MASK && vnode_getNode(cursor)) {\n                // we have to check that we actually have a node, because it could be a text node which is\n                // zero length and which does not have a representation in the DOM.\n                return cursor;\n            }\n            sibling = cursor[childProp];\n        }\n        // If we are here we did not find anything and we need to go up the tree again.\n    }\n    return null;\n};\nconst vnode_ensureInflatedIfText = (journal, vNode) => {\n    if (vnode_isTextVNode(vNode)) {\n        vnode_ensureTextInflated(journal, vNode);\n    }\n};\nconst vnode_ensureTextInflated = (journal, vnode) => {\n    const textVNode = ensureTextVNode(vnode);\n    const flags = textVNode[VNodeProps.flags];\n    if ((flags & VNodeFlags.Inflated) === 0) {\n        const parentNode = vnode_getDomParent(vnode);\n        const sharedTextNode = textVNode[TextVNodeProps.node];\n        const doc = parentNode.ownerDocument;\n        // Walk the previous siblings and inflate them.\n        let cursor = vnode_getDomSibling(vnode, false, true);\n        // If text node is 0 length, than there is no text node.\n        // In that case we use the next node as a reference, in which\n        // case we know that the next node MUST be either NULL or an Element.\n        const insertBeforeNode = sharedTextNode ||\n            (vnode_getDomSibling(vnode, true, true)?.[ElementVNodeProps.element] || null);\n        let lastPreviousTextNode = insertBeforeNode;\n        while (cursor && vnode_isTextVNode(cursor)) {\n            if ((cursor[VNodeProps.flags] & VNodeFlags.Inflated) === 0) {\n                const textNode = doc.createTextNode(cursor[TextVNodeProps.text]);\n                journal.push(VNodeJournalOpCode.Insert, parentNode, lastPreviousTextNode, textNode);\n                lastPreviousTextNode = textNode;\n                cursor[TextVNodeProps.node] = textNode;\n                cursor[VNodeProps.flags] |= VNodeFlags.Inflated;\n            }\n            cursor = vnode_getDomSibling(cursor, false, true);\n        }\n        // Walk the next siblings and inflate them.\n        cursor = vnode;\n        while (cursor && vnode_isTextVNode(cursor)) {\n            const next = vnode_getDomSibling(cursor, true, true);\n            const isLastNode = next ? !vnode_isTextVNode(next) : true;\n            if ((cursor[VNodeProps.flags] & VNodeFlags.Inflated) === 0) {\n                if (isLastNode && sharedTextNode) {\n                    journal.push(VNodeJournalOpCode.SetText, sharedTextNode, cursor[TextVNodeProps.text]);\n                }\n                else {\n                    const textNode = doc.createTextNode(cursor[TextVNodeProps.text]);\n                    journal.push(VNodeJournalOpCode.Insert, parentNode, insertBeforeNode, textNode);\n                    cursor[TextVNodeProps.node] = textNode;\n                }\n                cursor[VNodeProps.flags] |= VNodeFlags.Inflated;\n            }\n            cursor = next;\n        }\n    }\n};\nexport const vnode_locate = (rootVNode, id) => {\n    ensureElementVNode(rootVNode);\n    let vNode = rootVNode;\n    const containerElement = rootVNode[ElementVNodeProps.element];\n    const { qVNodeRefs } = containerElement;\n    let elementOffset = -1;\n    let refElement;\n    if (typeof id === 'string') {\n        assertDefined(qVNodeRefs, 'Missing qVNodeRefs.');\n        elementOffset = parseInt(id);\n        refElement = qVNodeRefs.get(elementOffset);\n    }\n    else {\n        refElement = id;\n    }\n    assertDefined(refElement, 'Missing refElement.');\n    if (!vnode_isVNode(refElement)) {\n        assertTrue(containerElement.contains(refElement), `Couldn't find the element inside the container while locating the VNode.`);\n        // We need to find the vnode.\n        let parent = refElement;\n        const elementPath = [refElement];\n        while (parent && parent !== containerElement) {\n            parent = parent.parentElement;\n            elementPath.push(parent);\n        }\n        // Start at rootVNode and follow the `elementPath` to find the vnode.\n        for (let i = elementPath.length - 2; i >= 0; i--) {\n            vNode = vnode_getVNodeForChildNode(vNode, elementPath[i]);\n        }\n        elementOffset != -1 && qVNodeRefs.set(elementOffset, vNode);\n    }\n    else {\n        vNode = refElement;\n    }\n    if (typeof id === 'string') {\n        // process virtual node search.\n        const idLength = id.length;\n        let idx = indexOfAlphanumeric(id, idLength);\n        let childIdx = 0;\n        while (idx < idLength) {\n            const ch = id.charCodeAt(idx);\n            childIdx *= 26 /* a-z */;\n            if (ch >= 97 /* a */) {\n                // is lowercase\n                childIdx += ch - 97 /* a */;\n            }\n            else {\n                // is uppercase\n                childIdx += ch - 65 /* A */;\n                vNode = vnode_getChildWithIdx(vNode, childIdx);\n                childIdx = 0;\n            }\n            idx++;\n        }\n    }\n    return vNode;\n};\nconst vnode_getChildWithIdx = (vNode, childIdx) => {\n    let child = vnode_getFirstChild(vNode);\n    assertDefined(child, 'Missing child.');\n    while (child[VNodeProps.flags] >>> VNodeFlagsIndex.shift !== childIdx) {\n        child = vnode_getNextSibling(child);\n        assertDefined(child, 'Missing child.');\n    }\n    return child;\n};\nconst vNodeStack = [];\nexport const vnode_getVNodeForChildNode = (vNode, childElement) => {\n    ensureElementVNode(vNode);\n    let child = vnode_getFirstChild(vNode);\n    assertDefined(child, 'Missing child.');\n    // console.log(\n    //   'SEARCHING',\n    //   child[VNodeProps.flags],\n    //   child[VNodeProps.node]?.outerHTML,\n    //   childNode.outerHTML\n    // );\n    while (child && child[ElementVNodeProps.element] !== childElement) {\n        // console.log('CHILD', child[VNodeProps.node]?.outerHTML, childNode.outerHTML);\n        if (vnode_isVirtualVNode(child)) {\n            const next = vnode_getNextSibling(child);\n            const firstChild = vnode_getFirstChild(child);\n            if (firstChild) {\n                next && vNodeStack.push(next);\n                child = firstChild;\n            }\n            else {\n                child = next || (vNodeStack.length ? vNodeStack.pop() : null);\n            }\n        }\n        else {\n            const next = vnode_getNextSibling(child);\n            if (next) {\n                child = next;\n            }\n            else {\n                child = next || vNodeStack.pop();\n            }\n        }\n        assertDefined(child, 'Missing child.');\n    }\n    while (vNodeStack.length) {\n        vNodeStack.pop();\n    }\n    ensureElementVNode(child);\n    assertEqual(child[ElementVNodeProps.element], childElement, 'Child not found.');\n    // console.log('FOUND', child[VNodeProps.node]?.outerHTML);\n    return child;\n};\nconst indexOfAlphanumeric = (id, length) => {\n    let idx = 0;\n    while (idx < length) {\n        if (id.charCodeAt(idx) <= 57 /* 9 */) {\n            idx++;\n        }\n        else {\n            return idx;\n        }\n    }\n    return length;\n};\n//////////////////////////////////////////////////////////////////////////////////////////////////////\nexport const vnode_journalToString = (journal) => {\n    const lines = ['JOURNAL:'];\n    let idx = 0;\n    const length = journal.length;\n    function stringify(...args) {\n        lines.push('  ' +\n            args\n                .map((arg) => {\n                if (typeof arg === 'string') {\n                    return arg;\n                }\n                else if (arg && isHtmlElement(arg)) {\n                    const html = arg.outerHTML;\n                    const idx = html.indexOf('>');\n                    return '\\n    ' + (idx > 0 ? html.substring(0, idx + 1) : html);\n                }\n                else if (arg && isText(arg)) {\n                    return JSON.stringify(arg.nodeValue);\n                }\n                else {\n                    return String(arg);\n                }\n            })\n                .join(' '));\n    }\n    while (idx < length) {\n        const op = journal[idx++];\n        switch (op) {\n            case VNodeJournalOpCode.SetText:\n                stringify('SetText', journal[idx++], journal[idx++]);\n                break;\n            case VNodeJournalOpCode.SetAttribute:\n                stringify('SetAttribute', journal[idx++], journal[idx++], journal[idx++]);\n                break;\n            case VNodeJournalOpCode.HoistStyles:\n                stringify('HoistStyles');\n                break;\n            case VNodeJournalOpCode.Remove:\n                stringify('Remove', journal[idx++]);\n                let nodeToRemove;\n                while (idx < length && typeof (nodeToRemove = journal[idx]) !== 'number') {\n                    stringify('  ', nodeToRemove);\n                    idx++;\n                }\n                break;\n            case VNodeJournalOpCode.Insert:\n                stringify('Insert', journal[idx++], journal[idx++]);\n                let newChild;\n                while (idx < length && typeof (newChild = journal[idx]) !== 'number') {\n                    stringify('  ', newChild);\n                    idx++;\n                }\n                break;\n        }\n    }\n    lines.push('END JOURNAL');\n    return lines.join('\\n');\n};\nconst parseBoolean = (value) => {\n    if (value === 'false') {\n        return false;\n    }\n    return Boolean(value);\n};\nconst isBooleanAttr = (element, key) => {\n    const isBoolean = key == 'allowfullscreen' ||\n        key == 'async' ||\n        key == 'autofocus' ||\n        key == 'autoplay' ||\n        key == 'checked' ||\n        key == 'controls' ||\n        key == 'default' ||\n        key == 'defer' ||\n        key == 'disabled' ||\n        key == 'formnovalidate' ||\n        key == 'inert' ||\n        key == 'ismap' ||\n        key == 'itemscope' ||\n        key == 'loop' ||\n        key == 'multiple' ||\n        key == 'muted' ||\n        key == 'nomodule' ||\n        key == 'novalidate' ||\n        key == 'open' ||\n        key == 'playsinline' ||\n        key == 'readonly' ||\n        key == 'required' ||\n        key == 'reversed' ||\n        key == 'selected';\n    return isBoolean && key in element;\n};\nexport const vnode_applyJournal = (journal) => {\n    // console.log('APPLY JOURNAL', vnode_journalToString(journal));\n    let idx = 0;\n    const length = journal.length;\n    while (idx < length) {\n        const op = journal[idx++];\n        switch (op) {\n            case VNodeJournalOpCode.SetText:\n                const text = journal[idx++];\n                text.nodeValue = journal[idx++];\n                break;\n            case VNodeJournalOpCode.SetAttribute:\n                const element = journal[idx++];\n                let key = journal[idx++];\n                if (key === 'className') {\n                    key = 'class';\n                }\n                const value = journal[idx++];\n                if (isBooleanAttr(element, key)) {\n                    element[key] = parseBoolean(value);\n                }\n                else if (key === 'value' && key in element) {\n                    element.value = escapeHTML(String(value));\n                }\n                else if (key === dangerouslySetInnerHTML) {\n                    element.innerHTML = value;\n                }\n                else {\n                    if (value == null || value === false) {\n                        element.removeAttribute(key);\n                    }\n                    else {\n                        element.setAttribute(key, String(value));\n                    }\n                }\n                break;\n            case VNodeJournalOpCode.HoistStyles:\n                const document = journal[idx++];\n                const head = document.head;\n                const styles = document.querySelectorAll(QStylesAllSelector);\n                for (let i = 0; i < styles.length; i++) {\n                    head.appendChild(styles[i]);\n                }\n                break;\n            case VNodeJournalOpCode.Remove:\n                const removeParent = journal[idx++];\n                let nodeToRemove;\n                while (idx < length && typeof (nodeToRemove = journal[idx]) !== 'number') {\n                    removeParent.removeChild(nodeToRemove);\n                    idx++;\n                }\n                break;\n            case VNodeJournalOpCode.Insert:\n                const insertParent = journal[idx++];\n                const insertBefore = journal[idx++];\n                let newChild;\n                while (idx < length && typeof (newChild = journal[idx]) !== 'number') {\n                    insertParent.insertBefore(newChild, insertBefore);\n                    idx++;\n                }\n                break;\n        }\n    }\n    journal.length = 0;\n};\n//////////////////////////////////////////////////////////////////////////////////////////////////////\nexport const mapApp_findIndx = (elementVNode, key, start) => {\n    assertTrue(start % 2 === 0, 'Expecting even number.');\n    let bottom = start >> 1;\n    let top = (elementVNode.length - 2) >> 1;\n    while (bottom <= top) {\n        const mid = bottom + ((top - bottom) >> 1);\n        const midKey = elementVNode[mid << 1];\n        if (midKey === key) {\n            return mid << 1;\n        }\n        if (midKey < key) {\n            bottom = mid + 1;\n        }\n        else {\n            top = mid - 1;\n        }\n    }\n    return (bottom << 1) ^ -1;\n};\nexport const mapArray_set = (elementVNode, key, value, start) => {\n    const indx = mapApp_findIndx(elementVNode, key, start);\n    if (indx >= 0) {\n        if (value == null) {\n            elementVNode.splice(indx, 2);\n        }\n        else {\n            elementVNode[indx + 1] = value;\n        }\n    }\n    else if (value != null) {\n        elementVNode.splice(indx ^ -1, 0, key, value);\n    }\n};\nexport const mapApp_remove = (elementVNode, key, start) => {\n    const indx = mapApp_findIndx(elementVNode, key, start);\n    let value = null;\n    if (indx >= 0) {\n        value = elementVNode[indx + 1];\n        elementVNode.splice(indx, 2);\n        return value;\n    }\n    return value;\n};\nexport const mapArray_get = (elementVNode, key, start) => {\n    const indx = mapApp_findIndx(elementVNode, key, start);\n    if (indx >= 0) {\n        return elementVNode[indx + 1];\n    }\n    else {\n        return null;\n    }\n};\n//////////////////////////////////////////////////////////////////////////////////////////////////////\nexport const vnode_insertBefore = (journal, parent, newChild, insertBefore) => {\n    ensureElementOrVirtualVNode(parent);\n    if (vnode_isElementVNode(parent)) {\n        ensureMaterialized(parent);\n    }\n    let adjustedInsertBefore = null;\n    if (insertBefore == null) {\n        if (vnode_isVirtualVNode(parent)) {\n            // If `insertBefore` is null, than we need to insert at the end of the list.\n            // Well, not quite. If the parent is a virtual node, our \"last node\" is not the same\n            // as the DOM \"last node\". So in that case we need to look for the \"next node\" from\n            // our parent.\n            adjustedInsertBefore = vnode_getDomSibling(parent, true, false);\n        }\n    }\n    else if (vnode_isVirtualVNode(insertBefore)) {\n        // If the `insertBefore` is virtual, than we need to descend into the virtual and find e actual\n        adjustedInsertBefore = vnode_getDomSibling(insertBefore, true, true);\n    }\n    else {\n        adjustedInsertBefore = insertBefore;\n    }\n    adjustedInsertBefore && vnode_ensureInflatedIfText(journal, adjustedInsertBefore);\n    // If `insertBefore` is null, than we need to insert at the end of the list.\n    // Well, not quite. If the parent is a virtual node, our \"last node\" is not the same\n    // as the DOM \"last node\". So in that case we need to look for the \"next node\" from\n    // our parent.\n    // const shouldWeUseParentVirtual = insertBefore == null && vnode_isVirtualVNode(parent);\n    // const insertBeforeNode = shouldWeUseParentVirtual\n    //   ? vnode_getDomSibling(parent, true)\n    //   : insertBefore;\n    const domParentVNode = vnode_getDomParentVNode(parent);\n    const parentNode = domParentVNode && domParentVNode[ElementVNodeProps.element];\n    if (parentNode) {\n        const domChildren = vnode_getDomChildrenWithCorrectNamespacesToInsert(journal, domParentVNode, newChild);\n        domChildren.length &&\n            journal.push(VNodeJournalOpCode.Insert, parentNode, vnode_getNode(adjustedInsertBefore), ...domChildren);\n    }\n    // ensure that the previous node is unlinked.\n    const newChildCurrentParent = newChild[VNodeProps.parent];\n    if (newChildCurrentParent &&\n        (newChild[VNodeProps.previousSibling] ||\n            newChild[VNodeProps.nextSibling] ||\n            (vnode_isElementVNode(newChildCurrentParent) && newChildCurrentParent !== parent))) {\n        vnode_remove(journal, newChildCurrentParent, newChild, false);\n    }\n    // link newChild into the previous/next list\n    const vNext = insertBefore;\n    const vPrevious = vNext\n        ? vNext[VNodeProps.previousSibling]\n        : parent[ElementVNodeProps.lastChild];\n    if (vNext) {\n        vNext[VNodeProps.previousSibling] = newChild;\n    }\n    else {\n        parent[ElementVNodeProps.lastChild] = newChild;\n    }\n    if (vPrevious) {\n        vPrevious[VNodeProps.nextSibling] = newChild;\n    }\n    else {\n        parent[ElementVNodeProps.firstChild] = newChild;\n    }\n    newChild[VNodeProps.previousSibling] = vPrevious;\n    newChild[VNodeProps.nextSibling] = vNext;\n    newChild[VNodeProps.parent] = parent;\n};\nexport const vnode_getDomParent = (vnode) => {\n    vnode = vnode_getDomParentVNode(vnode);\n    return (vnode && vnode[ElementVNodeProps.element]);\n};\nexport const vnode_getDomParentVNode = (vnode) => {\n    while (vnode && !vnode_isElementVNode(vnode)) {\n        vnode = vnode[VNodeProps.parent];\n    }\n    return vnode;\n};\nexport const vnode_remove = (journal, vParent, vToRemove, removeDOM) => {\n    assertEqual(vParent, vnode_getParent(vToRemove), 'Parent mismatch.');\n    if (vnode_isTextVNode(vToRemove)) {\n        vnode_ensureTextInflated(journal, vToRemove);\n    }\n    const vPrevious = vToRemove[VNodeProps.previousSibling];\n    const vNext = vToRemove[VNodeProps.nextSibling];\n    if (vPrevious) {\n        vPrevious[VNodeProps.nextSibling] = vNext;\n    }\n    else {\n        vParent[ElementVNodeProps.firstChild] = vNext;\n    }\n    if (vNext) {\n        vNext[VNodeProps.previousSibling] = vPrevious;\n    }\n    else {\n        vParent[ElementVNodeProps.lastChild] = vPrevious;\n    }\n    vToRemove[VNodeProps.previousSibling] = null;\n    vToRemove[VNodeProps.nextSibling] = null;\n    if (removeDOM) {\n        const domParent = vnode_getDomParent(vParent);\n        const isInnerHTMLParent = vnode_getAttr(vParent, dangerouslySetInnerHTML);\n        if (isInnerHTMLParent) {\n            // ignore children, as they are inserted via innerHTML\n            return;\n        }\n        const children = vnode_getDOMChildNodes(journal, vToRemove);\n        domParent && children.length && journal.push(VNodeJournalOpCode.Remove, domParent, ...children);\n    }\n};\nexport const vnode_queryDomNodes = (vNode, selector, cb) => {\n    if (vnode_isElementVNode(vNode)) {\n        const element = vnode_getNode(vNode);\n        if (element.matches(selector)) {\n            cb(element);\n        }\n        else {\n            element.querySelectorAll(selector).forEach(cb);\n        }\n    }\n    else {\n        let child = vnode_getFirstChild(vNode);\n        while (child) {\n            vnode_queryDomNodes(child, selector, cb);\n            child = vnode_getNextSibling(child);\n        }\n    }\n};\nexport const vnode_truncate = (journal, vParent, vDelete) => {\n    assertDefined(vDelete, 'Missing vDelete.');\n    const parent = vnode_getDomParent(vParent);\n    const children = vnode_getDOMChildNodes(journal, vDelete);\n    parent && children.length && journal.push(VNodeJournalOpCode.Remove, parent, ...children);\n    const vPrevious = vDelete[VNodeProps.previousSibling];\n    if (vPrevious) {\n        vPrevious[VNodeProps.nextSibling] = null;\n    }\n    else {\n        vParent[ElementVNodeProps.firstChild] = null;\n    }\n    vParent[ElementVNodeProps.lastChild] = vPrevious;\n};\nexport const vnode_isChildOf = (vParent, vChild) => {\n    let vNode = vChild;\n    while (vNode) {\n        if (vNode === vParent) {\n            return true;\n        }\n        vNode = vnode_getParent(vNode);\n    }\n    return false;\n};\n//////////////////////////////////////////////////////////////////////////////////////////////////////\nexport const vnode_getElementName = (vnode) => {\n    const elementVNode = ensureElementVNode(vnode);\n    let elementName = elementVNode[ElementVNodeProps.elementName];\n    if (elementName === undefined) {\n        elementName = elementVNode[ElementVNodeProps.elementName] =\n            elementVNode[ElementVNodeProps.element].nodeName.toLowerCase();\n        elementVNode[VNodeProps.flags] |= vnode_getElementNamespaceFlags(elementName);\n    }\n    return elementName;\n};\nexport const vnode_getText = (vnode) => {\n    const textVNode = ensureTextVNode(vnode);\n    let text = textVNode[TextVNodeProps.text];\n    if (text === undefined) {\n        text = textVNode[TextVNodeProps.text] = textVNode[TextVNodeProps.node].nodeValue;\n    }\n    return text;\n};\nexport const vnode_setText = (journal, textVNode, text) => {\n    vnode_ensureTextInflated(journal, textVNode);\n    const textNode = textVNode[TextVNodeProps.node];\n    journal.push(VNodeJournalOpCode.SetText, textNode, (textVNode[TextVNodeProps.text] = text));\n};\nexport const vnode_getFirstChild = (vnode) => {\n    if (vnode_isTextVNode(vnode)) {\n        return null;\n    }\n    let vFirstChild = vnode[ElementVNodeProps.firstChild];\n    if (vFirstChild === undefined) {\n        vFirstChild = ensureMaterialized(vnode);\n    }\n    return vFirstChild;\n};\nexport const vnode_materialize = (vNode) => {\n    const element = vNode[ElementVNodeProps.element];\n    const firstChild = fastFirstChild(element);\n    const vNodeData = element.ownerDocument?.qVNodeData?.get(element);\n    const vFirstChild = vNodeData\n        ? materializeFromVNodeData(vNode, vNodeData, element, firstChild)\n        : materializeFromDOM(vNode, firstChild);\n    return vFirstChild;\n};\nconst ensureMaterialized = (vnode) => {\n    const vParent = ensureElementVNode(vnode);\n    let vFirstChild = vParent[ElementVNodeProps.firstChild];\n    if (vFirstChild === undefined) {\n        // need to materialize the vNode.\n        const element = vParent[ElementVNodeProps.element];\n        if (vParent[VNodeProps.parent] && shouldIgnoreChildren(element)) {\n            // We have a container with html value, must ignore the content.\n            vFirstChild =\n                vParent[ElementVNodeProps.firstChild] =\n                    vParent[ElementVNodeProps.lastChild] =\n                        null;\n        }\n        else {\n            vFirstChild = vnode_materialize(vParent);\n        }\n    }\n    assertTrue(vParent[ElementVNodeProps.firstChild] !== undefined, 'Did not materialize.');\n    assertTrue(vParent[ElementVNodeProps.lastChild] !== undefined, 'Did not materialize.');\n    return vFirstChild;\n};\nlet _fastHasAttribute = null;\nexport const shouldIgnoreChildren = (node) => {\n    if (!_fastHasAttribute) {\n        _fastHasAttribute = node.hasAttribute;\n    }\n    return _fastHasAttribute.call(node, QContainerAttr);\n};\nlet _fastNodeType = null;\nconst fastNodeType = (node) => {\n    if (!_fastNodeType) {\n        _fastNodeType = fastGetter(node, 'nodeType');\n    }\n    return _fastNodeType.call(node);\n};\nconst fastIsTextOrElement = (node) => {\n    const type = fastNodeType(node);\n    return type === /* Node.TEXT_NODE */ 3 || type === /* Node.ELEMENT_NODE */ 1;\n};\nlet _fastNextSibling = null;\nexport const fastNextSibling = (node) => {\n    if (!_fastNextSibling) {\n        _fastNextSibling = fastGetter(node, 'nextSibling');\n    }\n    if (!_fastFirstChild) {\n        _fastFirstChild = fastGetter(node, 'firstChild');\n    }\n    while (node) {\n        node = _fastNextSibling.call(node);\n        if (node !== null) {\n            const type = fastNodeType(node);\n            if (type === /* Node.TEXT_NODE */ 3 || type === /* Node.ELEMENT_NODE */ 1) {\n                break;\n            }\n            else if (type === /* Node.COMMENT_NODE */ 8) {\n                const nodeValue = node.nodeValue;\n                if (nodeValue?.startsWith(QIgnore)) {\n                    return getNodeAfterCommentNode(node, QContainerIsland, _fastNextSibling, _fastFirstChild);\n                }\n                else if (node.nodeValue?.startsWith(QContainerIslandEnd)) {\n                    return getNodeAfterCommentNode(node, QIgnoreEnd, _fastNextSibling, _fastFirstChild);\n                }\n                else if (nodeValue?.startsWith(QContainerAttr)) {\n                    while (node && (node = _fastNextSibling.call(node))) {\n                        if (fastNodeType(node) === /* Node.COMMENT_NODE */ 8 &&\n                            node.nodeValue?.startsWith(QContainerAttrEnd)) {\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n    }\n    return node;\n};\nfunction getNodeAfterCommentNode(node, commentValue, nextSibling, firstChild) {\n    while (node) {\n        if (node.nodeValue?.startsWith(commentValue)) {\n            node = nextSibling.call(node) || null;\n            return node;\n        }\n        let nextNode = firstChild.call(node);\n        if (!nextNode) {\n            nextNode = nextSibling.call(node);\n        }\n        if (!nextNode) {\n            nextNode = fastParentNode(node);\n            if (nextNode) {\n                nextNode = nextSibling.call(nextNode);\n            }\n        }\n        node = nextNode;\n    }\n    return null;\n}\nlet _fastParentNode = null;\nconst fastParentNode = (node) => {\n    if (!_fastParentNode) {\n        _fastParentNode = fastGetter(node, 'parentNode');\n    }\n    return _fastParentNode.call(node);\n};\nlet _fastFirstChild = null;\nconst fastFirstChild = (node) => {\n    if (!_fastFirstChild) {\n        _fastFirstChild = fastGetter(node, 'firstChild');\n    }\n    node = node && _fastFirstChild.call(node);\n    while (node && !fastIsTextOrElement(node)) {\n        node = fastNextSibling(node);\n    }\n    return node;\n};\nconst fastGetter = (prototype, name) => {\n    let getter;\n    while (prototype && !(getter = Object.getOwnPropertyDescriptor(prototype, name)?.get)) {\n        prototype = Object.getPrototypeOf(prototype);\n    }\n    return (getter ||\n        function () {\n            return this[name];\n        });\n};\nconst isQStyleElement = (node) => {\n    return (isElement(node) &&\n        node.nodeName === 'STYLE' &&\n        (node.hasAttribute(QScopedStyle) || node.hasAttribute(QStyle)));\n};\nconst materializeFromDOM = (vParent, firstChild) => {\n    let vFirstChild = null;\n    // materialize from DOM\n    let child = firstChild;\n    while (isQStyleElement(child)) {\n        // skip over style elements, as those need to be moved to the head.\n        // VNode pretends that `<style q:style q:sstyle>` elements do not exist.\n        child = fastNextSibling(child);\n    }\n    let vChild = null;\n    while (child) {\n        const nodeType = fastNodeType(child);\n        let vNextChild = null;\n        if (nodeType === /* Node.TEXT_NODE */ 3) {\n            vNextChild = vnode_newText(child, child.textContent ?? undefined);\n        }\n        else if (nodeType === /* Node.ELEMENT_NODE */ 1) {\n            vNextChild = vnode_newUnMaterializedElement(child);\n        }\n        if (vNextChild) {\n            vNextChild[VNodeProps.parent] = vParent;\n            vChild && (vChild[VNodeProps.nextSibling] = vNextChild);\n            vNextChild[VNodeProps.previousSibling] = vChild;\n            vChild = vNextChild;\n        }\n        if (!vFirstChild) {\n            vParent[ElementVNodeProps.firstChild] = vFirstChild = vChild;\n        }\n        child = fastNextSibling(child);\n    }\n    vParent[ElementVNodeProps.lastChild] = vChild || null;\n    vParent[ElementVNodeProps.firstChild] = vFirstChild;\n    return vFirstChild;\n};\nexport const vnode_getNextSibling = (vnode) => {\n    return vnode[VNodeProps.nextSibling];\n};\nexport const vnode_getPreviousSibling = (vnode) => {\n    return vnode[VNodeProps.previousSibling];\n};\nexport const vnode_getAttrKeys = (vnode) => {\n    const type = vnode[VNodeProps.flags];\n    if ((type & VNodeFlags.ELEMENT_OR_VIRTUAL_MASK) !== 0) {\n        vnode_ensureElementInflated(vnode);\n        const keys = [];\n        for (let i = vnode_getPropStartIndex(vnode); i < vnode.length; i = i + 2) {\n            const key = vnode[i];\n            if (!key.startsWith(':')) {\n                keys.push(key);\n            }\n        }\n        return keys;\n    }\n    return [];\n};\nexport const vnode_setAttr = (journal, vnode, key, value) => {\n    const type = vnode[VNodeProps.flags];\n    if ((type & VNodeFlags.ELEMENT_OR_VIRTUAL_MASK) !== 0) {\n        vnode_ensureElementInflated(vnode);\n        const idx = mapApp_findIndx(vnode, key, vnode_getPropStartIndex(vnode));\n        if (idx >= 0) {\n            if (vnode[idx + 1] != value && (type & VNodeFlags.Element) !== 0) {\n                // Values are different, update DOM\n                const element = vnode[ElementVNodeProps.element];\n                journal && journal.push(VNodeJournalOpCode.SetAttribute, element, key, value);\n            }\n            if (value == null) {\n                vnode.splice(idx, 2);\n            }\n            else {\n                vnode[idx + 1] = value;\n            }\n        }\n        else if (value != null) {\n            vnode.splice(idx ^ -1, 0, key, value);\n            if ((type & VNodeFlags.Element) !== 0) {\n                // New value, update DOM\n                const element = vnode[ElementVNodeProps.element];\n                journal && journal.push(VNodeJournalOpCode.SetAttribute, element, key, value);\n            }\n        }\n    }\n};\nexport const vnode_getAttr = (vnode, key) => {\n    const type = vnode[VNodeProps.flags];\n    if ((type & VNodeFlags.ELEMENT_OR_VIRTUAL_MASK) !== 0) {\n        vnode_ensureElementInflated(vnode);\n        return mapArray_get(vnode, key, vnode_getPropStartIndex(vnode));\n    }\n    return null;\n};\nexport const vnode_getProp = (vnode, key, getObject) => {\n    const type = vnode[VNodeProps.flags];\n    if ((type & VNodeFlags.ELEMENT_OR_VIRTUAL_MASK) !== 0) {\n        type & VNodeFlags.Element && vnode_ensureElementInflated(vnode);\n        const idx = mapApp_findIndx(vnode, key, vnode_getPropStartIndex(vnode));\n        if (idx >= 0) {\n            let value = vnode[idx + 1];\n            if (typeof value === 'string' && getObject) {\n                vnode[idx + 1] = value = getObject(value);\n            }\n            return value;\n        }\n    }\n    return null;\n};\nexport const vnode_setProp = (vnode, key, value) => {\n    ensureElementOrVirtualVNode(vnode);\n    const idx = mapApp_findIndx(vnode, key, vnode_getPropStartIndex(vnode));\n    if (idx >= 0) {\n        vnode[idx + 1] = value;\n    }\n    else if (value != null) {\n        vnode.splice(idx ^ -1, 0, key, value);\n    }\n};\nexport const vnode_getPropStartIndex = (vnode) => {\n    const type = vnode[VNodeProps.flags] & VNodeFlags.TYPE_MASK;\n    if (type === VNodeFlags.Element) {\n        return ElementVNodeProps.PROPS_OFFSET;\n    }\n    else if (type === VNodeFlags.Virtual) {\n        return VirtualVNodeProps.PROPS_OFFSET;\n    }\n    throw throwErrorAndStop('Invalid vnode type.');\n};\nexport const vnode_propsToRecord = (vnode) => {\n    const props = {};\n    if (!vnode_isTextVNode(vnode)) {\n        for (let i = vnode_getPropStartIndex(vnode); i < vnode.length;) {\n            const key = vnode[i++];\n            const value = vnode[i++];\n            props[key] = value;\n        }\n    }\n    return props;\n};\nexport const vnode_getParent = (vnode) => {\n    return vnode[VNodeProps.parent] || null;\n};\nexport const vnode_getNode = (vnode) => {\n    if (vnode === null || vnode_isVirtualVNode(vnode)) {\n        return null;\n    }\n    if (vnode_isElementVNode(vnode)) {\n        return vnode[ElementVNodeProps.element];\n    }\n    assertTrue(vnode_isTextVNode(vnode), 'Expecting Text Node.');\n    return vnode[TextVNodeProps.node];\n};\nexport function vnode_toString(depth = 10, offset = '', materialize = false) {\n    let vnode = this;\n    if (depth === 0) {\n        return '...';\n    }\n    if (vnode === null) {\n        return 'null';\n    }\n    if (vnode === undefined) {\n        return 'undefined';\n    }\n    const strings = [];\n    do {\n        if (vnode_isTextVNode(vnode)) {\n            strings.push(qwikDebugToString(vnode_getText(vnode)));\n        }\n        else if (vnode_isVirtualVNode(vnode)) {\n            const idx = vnode[VNodeProps.flags] >>> VNodeFlagsIndex.shift;\n            const attrs = ['[' + String(idx) + ']'];\n            vnode_getAttrKeys(vnode).forEach((key) => {\n                if (key !== DEBUG_TYPE) {\n                    const value = vnode_getAttr(vnode, key);\n                    attrs.push(' ' + key + '=' + qwikDebugToString(value));\n                }\n            });\n            const name = VirtualTypeName[vnode_getAttr(vnode, DEBUG_TYPE) || VirtualType.Virtual] ||\n                VirtualTypeName[VirtualType.Virtual];\n            strings.push('<' + name + attrs.join('') + '>');\n            const child = vnode_getFirstChild(vnode);\n            child && strings.push('  ' + vnode_toString.call(child, depth - 1, offset + '  ', true));\n            strings.push('</' + name + '>');\n        }\n        else if (vnode_isElementVNode(vnode)) {\n            const tag = vnode_getElementName(vnode);\n            const attrs = [];\n            const keys = vnode_getAttrKeys(vnode);\n            keys.forEach((key) => {\n                const value = vnode_getAttr(vnode, key);\n                attrs.push(' ' + key + '=' + qwikDebugToString(value));\n            });\n            const node = vnode_getNode(vnode);\n            if (node) {\n                const vnodeData = node.ownerDocument.qVNodeData?.get(node);\n                if (vnodeData) {\n                    attrs.push(' q:vnodeData=' + qwikDebugToString(vnodeData));\n                }\n            }\n            const domAttrs = node.attributes;\n            for (let i = 0; i < domAttrs.length; i++) {\n                const attr = domAttrs[i];\n                if (keys.indexOf(attr.name) === -1) {\n                    attrs.push(' ' + attr.name + (attr.value ? '=' + qwikDebugToString(attr.value) : ''));\n                }\n            }\n            strings.push('<' + tag + attrs.join('') + '>');\n            if (vnode_isMaterialized(vnode) || materialize) {\n                const child = vnode_getFirstChild(vnode);\n                child && strings.push('  ' + vnode_toString.call(child, depth - 1, offset + '  ', true));\n            }\n            else {\n                strings.push('  <!-- not materialized --!>');\n            }\n            strings.push('</' + tag + '>');\n        }\n        vnode = vnode_getNextSibling(vnode) || null;\n    } while (vnode);\n    return strings.join('\\n' + offset);\n}\nconst isNumber = (ch) => /* `0` */ 48 <= ch && ch <= 57; /* `9` */\nconst isLowercase = (ch) => /* `a` */ 97 <= ch && ch <= 122; /* `z` */\nconst stack = [];\nfunction materializeFromVNodeData(vParent, vData, element, child) {\n    let idx = 0;\n    let nextToConsumeIdx = 0;\n    let vFirst = null;\n    let vLast = null;\n    let previousTextNode = null;\n    let ch = 0;\n    let peekCh = 0;\n    const peek = () => {\n        if (peekCh !== 0) {\n            return peekCh;\n        }\n        else {\n            return (peekCh = nextToConsumeIdx < vData.length ? vData.charCodeAt(nextToConsumeIdx) : 0);\n        }\n    };\n    const consume = () => {\n        ch = peek();\n        peekCh = 0;\n        nextToConsumeIdx++;\n        return ch;\n    };\n    const addVNode = (node) => {\n        node[VNodeProps.flags] =\n            (node[VNodeProps.flags] & VNodeFlagsIndex.negated_mask) | (idx << VNodeFlagsIndex.shift);\n        idx++;\n        vLast && (vLast[VNodeProps.nextSibling] = node);\n        node[VNodeProps.previousSibling] = vLast;\n        node[VNodeProps.parent] = vParent;\n        if (!vFirst) {\n            vParent[ElementVNodeProps.firstChild] = vFirst = node;\n        }\n        vLast = node;\n    };\n    const consumeValue = () => {\n        consume();\n        const start = nextToConsumeIdx;\n        while ((peek() <= 58 /* `:` */ && peekCh !== 0) ||\n            peekCh === 95 /* `_` */ ||\n            (peekCh >= 65 /* `A` */ && peekCh <= 90) /* `Z` */ ||\n            (peekCh >= 97 /* `a` */ && peekCh <= 122) /* `z` */) {\n            consume();\n        }\n        return vData.substring(start, nextToConsumeIdx);\n    };\n    let textIdx = 0;\n    let combinedText = null;\n    let container = null;\n    // console.log(\n    //   'processVNodeData',\n    //   vNodeData,\n    //   (child?.parentNode as HTMLElement | undefined)?.outerHTML\n    // );\n    while (peek() !== 0) {\n        if (isNumber(peek())) {\n            // Element counts get encoded as numbers.\n            while (!isElement(child)) {\n                child = fastNextSibling(child);\n                if (!child) {\n                    throwErrorAndStop('Materialize error: missing element: ' + vData + ' ' + peek() + ' ' + nextToConsumeIdx);\n                }\n            }\n            // We pretend that style element's don't exist as they can get moved out.\n            while (isQStyleElement(child)) {\n                // skip over style elements, as those need to be moved to the head\n                // and are not included in the counts.\n                child = fastNextSibling(child);\n            }\n            combinedText = null;\n            previousTextNode = null;\n            let value = 0;\n            while (isNumber(peek())) {\n                value *= 10;\n                value += consume() - 48; /* `0` */\n            }\n            while (value--) {\n                addVNode(vnode_newUnMaterializedElement(child));\n                child = fastNextSibling(child);\n            }\n            // collect the elements;\n        }\n        else if (peek() === VNodeDataChar.SCOPED_STYLE) {\n            vnode_setAttr(null, vParent, QScopedStyle, consumeValue());\n        }\n        else if (peek() === VNodeDataChar.RENDER_FN) {\n            vnode_setAttr(null, vParent, OnRenderProp, consumeValue());\n        }\n        else if (peek() === VNodeDataChar.ID) {\n            if (!container) {\n                container = getDomContainer(element);\n            }\n            const id = consumeValue();\n            container.$setRawState$(parseInt(id), vParent);\n            isDev && vnode_setAttr(null, vParent, ELEMENT_ID, id);\n        }\n        else if (peek() === VNodeDataChar.PROPS) {\n            vnode_setAttr(null, vParent, ELEMENT_PROPS, consumeValue());\n        }\n        else if (peek() === VNodeDataChar.SLOT_REF) {\n            vnode_setAttr(null, vParent, QSlotRef, consumeValue());\n        }\n        else if (peek() === VNodeDataChar.KEY) {\n            vnode_setAttr(null, vParent, ELEMENT_KEY, consumeValue());\n        }\n        else if (peek() === VNodeDataChar.SEQ) {\n            vnode_setAttr(null, vParent, ELEMENT_SEQ, consumeValue());\n        }\n        else if (peek() === VNodeDataChar.SEQ_IDX) {\n            vnode_setAttr(null, vParent, ELEMENT_SEQ_IDX, consumeValue());\n        }\n        else if (peek() === VNodeDataChar.CONTEXT) {\n            vnode_setAttr(null, vParent, QCtxAttr, consumeValue());\n        }\n        else if (peek() === VNodeDataChar.OPEN) {\n            consume();\n            addVNode(vnode_newVirtual());\n            stack.push(vParent, vFirst, vLast, previousTextNode, idx);\n            idx = 0;\n            vParent = vLast;\n            vFirst = vLast = null;\n        }\n        else if (peek() === VNodeDataChar.SEPARATOR) {\n            const key = consumeValue();\n            const value = consumeValue();\n            vnode_setAttr(null, vParent, key, value);\n        }\n        else if (peek() === VNodeDataChar.CLOSE) {\n            consume();\n            vParent[ElementVNodeProps.lastChild] = vLast;\n            idx = stack.pop();\n            previousTextNode = stack.pop();\n            vLast = stack.pop();\n            vFirst = stack.pop();\n            vParent = stack.pop();\n        }\n        else if (peek() === VNodeDataChar.SLOT) {\n            vnode_setAttr(null, vParent, QSlot, consumeValue());\n        }\n        else {\n            const textNode = child && fastNodeType(child) === /* Node.TEXT_NODE */ 3 ? child : null;\n            // must be alphanumeric\n            if (combinedText === null) {\n                combinedText = textNode ? textNode.nodeValue : null;\n                textIdx = 0;\n            }\n            let length = 0;\n            while (isLowercase(peek())) {\n                length += consume() - 97; /* `a` */\n                length *= 26;\n            }\n            length += consume() - 65; /* `A` */\n            const text = combinedText === null ? '' : combinedText.substring(textIdx, textIdx + length);\n            addVNode((previousTextNode = vnode_newSharedText(previousTextNode, textNode, text)));\n            textIdx += length;\n            // Text nodes get encoded as alphanumeric characters.\n        }\n    }\n    vParent[ElementVNodeProps.lastChild] = vLast;\n    return vFirst;\n}\nexport const vnode_getType = (vnode) => {\n    const type = vnode[VNodeProps.flags];\n    if (type & VNodeFlags.Element) {\n        return 1 /* Element */;\n    }\n    else if (type & VNodeFlags.Virtual) {\n        return 11 /* Virtual */;\n    }\n    else if (type & VNodeFlags.Text) {\n        return 3 /* Text */;\n    }\n    throw throwErrorAndStop('Unknown vnode type: ' + type);\n};\nconst isElement = (node) => node && typeof node == 'object' && fastNodeType(node) === /** Node.ELEMENT_NODE* */ 1;\n/// These global variables are used to avoid creating new arrays for each call to `vnode_getPathToClosestDomNode`.\nconst aPath = [];\nconst bPath = [];\nexport const vnode_documentPosition = (a, b) => {\n    if (a === b) {\n        return 0;\n    }\n    let aDepth = -1;\n    let bDepth = -1;\n    while (a) {\n        a = (aPath[++aDepth] = a)[VNodeProps.parent];\n    }\n    while (b) {\n        b = (bPath[++bDepth] = b)[VNodeProps.parent];\n    }\n    while (aDepth >= 0 && bDepth >= 0) {\n        a = aPath[aDepth];\n        b = bPath[bDepth];\n        if (a === b) {\n            // if the nodes are the same, we need to check the next level.\n            aDepth--;\n            bDepth--;\n        }\n        else {\n            // We found a difference so we need to scan nodes at this level.\n            let cursor = b;\n            do {\n                cursor = vnode_getNextSibling(cursor);\n                if (cursor === a) {\n                    return 1;\n                }\n            } while (cursor);\n            cursor = b;\n            do {\n                cursor = vnode_getPreviousSibling(cursor);\n                if (cursor === a) {\n                    return -1;\n                }\n            } while (cursor);\n            // The node is not in the list of siblings, that means it must be disconnected.\n            return 1;\n        }\n    }\n    return aDepth < bDepth ? -1 : 1;\n};\n/**\n * Use this method to find the parent component for projection.\n *\n * Normally the parent component is just the first component which we encounter while traversing the\n * parents.\n *\n * However, if during traversal we encounter a projection, than we have to follow the projection,\n * and nod weth the projection component is further away (it is the parent's parent of the\n * projection's)\n *\n * So in general we have to go up as many parent components as there are projections nestings.\n *\n * - No projection nesting first parent component.\n * - One projection nesting, second parent component (parent's parent).\n * - Three projection nesting, third parent component (parent's parent's parent).\n * - And so on.\n *\n * @param vHost\n * @param getObjectById\n * @returns\n */\nexport const vnode_getProjectionParentComponent = (vHost, rootVNode) => {\n    let projectionDepth = 1;\n    while (projectionDepth--) {\n        while (vHost &&\n            (vnode_isVirtualVNode(vHost) ? vnode_getProp(vHost, OnRenderProp, null) === null : true)) {\n            const qSlotParentProp = vnode_getProp(vHost, QSlotParent, null);\n            const qSlotParent = qSlotParentProp &&\n                (typeof qSlotParentProp === 'string'\n                    ? vnode_locate(rootVNode, qSlotParentProp)\n                    : qSlotParentProp);\n            const vProjectionParent = vnode_isVirtualVNode(vHost) && qSlotParent;\n            if (vProjectionParent) {\n                // We found a projection, so we need to go up one more level.\n                projectionDepth++;\n            }\n            vHost = vProjectionParent || vnode_getParent(vHost);\n        }\n        if (projectionDepth > 0) {\n            vHost = vnode_getParent(vHost);\n        }\n    }\n    return vHost;\n};\nconst VNodeArray = class VNode extends Array {\n    static createElement(flags, parent, previousSibling, nextSibling, firstChild, lastChild, element, elementName) {\n        const vnode = new VNode(flags, parent, previousSibling, nextSibling);\n        vnode.push(firstChild, lastChild, element, elementName);\n        return vnode;\n    }\n    static createText(flags, parent, previousSibling, nextSibling, textNode, text) {\n        const vnode = new VNode(flags, parent, previousSibling, nextSibling);\n        vnode.push(textNode, text);\n        return vnode;\n    }\n    static createVirtual(flags, parent, previousSibling, nextSibling, firstChild, lastChild) {\n        const vnode = new VNode(flags, parent, previousSibling, nextSibling);\n        vnode.push(firstChild, lastChild);\n        return vnode;\n    }\n    constructor(flags, parent, previousSibling, nextSibling) {\n        super();\n        this.push(flags, parent, previousSibling, nextSibling);\n        if (isDev) {\n            this.toString = vnode_toString;\n        }\n    }\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidm5vZGUuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvY2xpZW50L3Zub2RlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7R0FxSEc7QUFFSCxPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFDN0MsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sVUFBVSxDQUFDO0FBQzdDLE9BQU8sRUFBRSxhQUFhLEVBQUUsV0FBVyxFQUFFLFdBQVcsRUFBRSxVQUFVLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQUM3RixPQUFPLEVBQUUsTUFBTSxFQUFFLE1BQU0seUJBQXlCLENBQUM7QUFDakQsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFDeEQsT0FBTyxFQUNMLFVBQVUsRUFDVixXQUFXLEVBQ1gsYUFBYSxFQUNiLFdBQVcsRUFDWCxlQUFlLEVBQ2YsWUFBWSxFQUNaLGNBQWMsRUFDZCxpQkFBaUIsRUFDakIsZ0JBQWdCLEVBQ2hCLG1CQUFtQixFQUNuQixRQUFRLEVBQ1IsT0FBTyxFQUNQLFVBQVUsRUFDVixZQUFZLEVBQ1osS0FBSyxFQUNMLFdBQVcsRUFDWCxRQUFRLEVBQ1IsTUFBTSxFQUNOLGtCQUFrQixFQUNsQixpQkFBaUIsRUFDakIsdUJBQXVCLEdBQ3hCLE1BQU0seUJBQXlCLENBQUM7QUFDakMsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLHVCQUF1QixDQUFDO0FBQ3RELE9BQU8sRUFBRSxVQUFVLEVBQUUsZUFBZSxFQUFFLFdBQVcsRUFBRSxlQUFlLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUM1RixPQUFPLEVBQUUsYUFBYSxFQUFF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QUFFLE1BQU0sRUFBRSxlQUFlLEVBQUUsV0FBVyxDQUFRLENBQUM7UUFDNUUsS0FBSyxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUUsU0FBUyxDQUFDLENBQUM7UUFDbEMsT0FBTyxLQUFLLENBQUM7SUFDZixDQUFDO0lBRUQsWUFDRSxLQUFpQixFQUNqQixNQUFvQixFQUNwQixlQUF5QyxFQUN6QyxXQUFxQztRQUVyQyxLQUFLLEVBQUUsQ0FBQztRQUNSLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLE1BQU0sRUFBRSxlQUFlLEVBQUUsV0FBVyxDQUFDLENBQUM7UUFDdkQsSUFBSSxLQUFLLEVBQUUsQ0FBQztZQUNWLElBQUksQ0FBQyxRQUFRLEdBQUcsY0FBYyxDQUFDO1FBQ2pDLENBQUM7SUFDSCxDQUFDO0NBQ0YsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGZpbGVcbiAqXG4gKiAgIFZOb2RlIGlzIGEgRE9NIGxpa2UgQVBJIGZvciB3YWxraW5nIHRoZSBET00gYnV0IGl0OlxuICpcbiAqICAgMS4gRW5jb2RlcyB2aXJ0dWFsIG5vZGVzIHdoaWNoIGRvbid0IGV4aXN0IGluIHRoZSBET01cbiAqICAgMi4gQ2FuIHNlcmlhbGl6ZSBhcyBwYXJ0IG9mIFNTUiBhbmQgdGhhbiBkZXNlcmlhbGl6ZSBvbiB0aGUgY2xpZW50LlxuICpcbiAqICAgIyBWaXJ0dWFsXG4gKlxuICogICBZb3UgY2FuIHRoaW5rIG9mIGEgVmlydHVhbCBub2RlIGp1c3QgbGlrZSBhbiBhZGRpdGlvbmFsIGA8ZGl2PmAgaW4gdGhhdCBpdCBncm91cHMgcmVsYXRlZCBjaGlsZFxuICogICBub2RlcyB0b2dldGhlci4gQnV0IHVubGlrZSBhIGA8ZGl2PmAgd2hpY2ggaGFzIGEgcmVhbCBET00gbm9kZSBhbmQgaGVuY2UgaW1wbGljYXRpb25zIGZvciBDU1MsXG4gKiAgIFZpcnR1YWwgbm9kZXMgaGF2ZSBubyBET00gaW1wYWN0LCB0aGV5IGFyZSBpbnZpc2libGUuXG4gKlxuICogICAjIFBvcnRhbFxuICpcbiAqICAgVHdvIFZpcnR1YWwgbm9kZXMgY2FuIGJlIGxpbmtlZCB0b2dldGhlciB0byBmb3JtIGEgUG9ydGFsLiBQb3J0YWxzIGFyZSB1c2VmdWwgZm9yIHByb2plY3RpbmdcbiAqICAgY29udGVudCBvciBqdXN0IHJlbmRlcmluZyBjb250ZW50IGluIGEgZGlmZmVyZW50IGxvY2F0aW9uIGluIHRoZSB0cmVlLCB3aGlsZSBtYWludGFpbmluZyBhXG4gKiAgIGxvZ2ljYWwgcmVsYXRpb25zaGlwLlxuICpcbiAqICAgUG9ydGFscyBoYXZlOlxuICpcbiAqICAgLSBQb3J0YWwgU291cmNlOiBBIFZpcnR1YWwgbm9kZSB3aGljaCBjYW4gcmVmZXIgdG8gb25lIG9yZSBtb3JlIERlc3RpbmF0aW9uIFBvcnRhbHMgYnkgbmFtZS5cbiAqICAgLSBEZXN0aW5hdGlvbiBQb3J0YWw6IEEgVmlydHVhbCBub2RlIHdoaWNoIGFjdHMgYXMgYSBkZXN0aW5hdGlvbiBidXQgYWxzbyBoYXMgYSBwb2ludGVyIGJhY2sgdG8gdGhlXG4gKiAgICAgICBQb3J0YWwgU291cmNlXG4gKlxuICogICAjIyBFeGFtcGxlOlxuICpcbiAqICAgR2l2ZW4gdGhpcyBjb2RlOlxuICpcbiAqICAgYGBgdHlwZXNjcmlwdFxuICogICBjb25zdCBQYXJlbnQgPSBjb21wb25lbnQkKCgpID0+IHtcbiAqICAgICByZXR1cm4gKFxuICogICAgICAgPENoaWxkPlxuICogICAgICAgICBQcm9qZWN0aW9uIENvbnRlbnRcbiAqICAgICAgICAgPHNwYW4gcTpzbG90PVwic2Vjb25kYXJ5XCI+U2Vjb25kYXJ5IENvbnRlbnQ8L3NwYW4+XG4gKiAgICAgICAgIDxzcGFuIHE6c2xvdD1cIm90aGVyXCI+T3RoZXIgQ29udGVudDwvc3Bhbj5cbiAqICAgICAgIDwvQ2hpbGQ+XG4gKiAgICAgfTtcbiAqICAgfSk7XG4gKlxuICogICBjb25zdCBDaGlsZCA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICogICAgIHJldHVybiAoXG4gKiAgICAgICA8ZGl2PlxuICogICAgICAgICA8U2xvdD5EZWZhdWx0IFByaW1hcnk8L1Nsb3Q+XG4gKiAgICAgICAgIDxTbG90IG5hbWU9XCJzZWNvbmRhcnlcIj5EZWZhdWx0IFNlY29uZGFyeTwvU2xvdD5cbiAqICAgICAgIDwvZGl2PlxuICogICAgICk7XG4gKiAgIH0pO1xuICpcbiAqICAgcmVuZGVyKDxib2R5PjxtYWluPjxQYXJlbnQvPjwvbWFpbj48Ym9keT4pO1xuICogYGBgXG4gKlxuICogICBXaWxsIHJlbmRlciBsaWtlIHNvOlxuICpcbiAqICAgYGBgaHRtbFxuICogICA8Ym9keT5cbiAqICAgICA8bWFpbj5cbiAqICAgICAgIDxWaXJ0dWFsIFBhcmVudCBxOnBvcnRhbD1cIjozQTtzZWNvbmRhcnk6M0I7b3RoZXI6NUFcIiBxOmlkPVwiMkFcIj5cbiAqICAgICAgICAgPFZpcnR1YWwgQ2hpbGQ+XG4gKiAgICAgICAgICAgPGRpdj5cbiAqICAgICAgICAgICAgIDxWaXJ0dWFsIFNsb3QgcTppZD1cIjNBXCIgcTpwb3J0YWw9XCJeOjJBOzozQVwiPiBQcm9qZWN0aW9uIENvbnRlbnQgPC9WaXJ0dWFsPlxuICogICAgICAgICAgICAgPFZpcnR1YWwgU2xvdCBxOmlkPVwiM0JcIiBxOnBvcnRhbD1cIl46MkE7OjNCXCI+XG4gKiAgICAgICAgICAgICAgIDxzcGFuIHE6c2xvdD1cInNlY29uZGFyeVwiPlNlY29uZGFyeSBDb250ZW50PC9zcGFuPlxuICogICAgICAgICAgICAgPC9WaXJ0dWFsPlxuICogICAgICAgICAgIDwvZGl2PlxuICogICAgICAgICA8L1ZpcnR1YWw+XG4gKiAgICAgICA8L1ZpcnR1YWw+XG4gKiAgICAgPC9tYWluPlxuICogICAgIDxxOnRlbXBsYXRlPlxuICogICAgICAgPFZpcnR1YWwgcTpwb3J0YWw9XCJeOjJBXCIgcTppZD1cIjVBXCI+XG4gKiAgICAgICAgIDxzcGFuIHE6c2xvdD1cIm90aGVyXCI+T3RoZXIgQ29udGVudDwvc3Bhbj5cbiAqICAgICAgIDwvVmlydHVhbD5cbiAqICAgICAgIDxWaXJ0dWFsIHE6cG9ydGFsPVwiXjoyQVwiIHE6aWQ9XCIzQVwiPlxuICogICAgICAgICBEZWZhdWx0IFByaW1hcnlcbiAqICAgICAgIDwvVmlydHVhbD5cbiAqICAgICAgIDxWaXJ0dWFsIHE6cG9ydGFsPVwiXjoyQVwiIHE6aWQ9XCIzQlwiPlxuICogICAgICAgICBEZWZhdWx0IFNlY29uZGFyeVxuICogICAgICAgPC9WaXJ0dWFsPlxuICogICAgIDxxOnRlbXBsYXRlPlxuICogICA8L2JvZHk+XG4gKiBgYGBcbiAqXG4gKiAgIEV4cGxhbmF0aW9uOlxuICpcbiAqICAgLSBgcTpwb3J0YWw9XCI6M0E7c2Vjb25kYXJ5OjNCO290aGVyOjVBXCJgXG4gKlxuICogICAgICAgLSBOYW1lOiBgYDsgUmVmOiBgM0FgIC0gV2hlcmUgdGhlIGRlZmF1bHQgY29udGVudCB3ZW50LlxuICogICAgICAgLSBOYW1lOiBgc2Vjb25kYXJ5YDsgUmVmOiBgM0JgIC0gV2hlcmUgdGhlICdzZWNvbmRhcnknIGNvbnRlbnQgd2VudC5cbiAqICAgICAgIC0gTmFtZTogYG90aGVyYDsgUmVmOiBgJUFgIC0gV2hlcmUgdGhlIGBvdGhlcmAgY29udGVudCB3ZW50LiAoTm90aWNlIGluIHRoaXMgY2FzZSB0aGUgY29udGVudCBpc1xuICogICAgICAgICAgICAgICBsZWZ0IG92ZXIgYW5kIG9zIGl0IGVuZHMgdXAgZW4gdGhlIGBxOnRlbXBsYXRlc2AuIFdlIGNhbiBzaGFyZSBvbmUgJzxxOnRlbXBsYXRlPmBcbiAqICAgICAgICAgICAgICAgZm9yIGFsbCBsZWZ0IG92ZXIgY29udGVudC4pXG4gKiAgIC0gYHE6cG9ydGFsPVwiXjoyQTs6M0FcImBcbiAqXG4gKiAgICAgICAtIE5hbWU6IGBeYDsgUmVmOiBgMkFgIC0gU3BlY2lhbCBwb2ludGVyIHRvIHRoZSBwYXJlbnQgcG9ydGFsXG4gKiAgICAgICAtIE5hbWU6IGBgOyBSZWY6IGAzQWAgLSBMb2NhdGlvbiBvZiB0aGUgZGVmYXVsdCBjb250ZW50IGluIGNhc2UgdGhlcmUgaXMgbm90aGluZyBwcm9qZWN0ZWQgaGVyZS5cbiAqXG4gKiAgICMjIFJlbmRlcmluZ1xuICpcbiAqICAgRHVyaW5nIFNTUiwgdGhlIHJlbmRlcmVkIGNhbiBkZWxheSByZW5kZXJpbmcgdGhlIEpTWCBub2RlcyB1bnRpbCBjb3JyZWN0IHBvcnRhbCBjb21lcyB1cC4gVGhlIElEXG4gKiAgIHN5c3RlbSBpcyBhbHJlYWR5IGNhbiBtYWtlIGxhenkgcmVmZXJlbmNlcyB0byB0aGUgTm9kZXMuXG4gKlxuICogICBDbGllbnQgc2lkZSByZW5kZXJpbmcgZG9lcyBub3QgbmVlZCB0byBkZWFsIHdpdGggSURzIG9yIGA8cTp0ZW1wbGF0ZT5gIGFzIHVuLXJlbmRlcmVkIHZOb2RlcyBkb1xuICogICBub3QgbmVlZCB0byBiZSBzZXJpYWxpemVkIGludG8gRE9NLCBhbmQgY2FuIHJlbWFpbiBvbiBoZWFwLlxuICpcbiAqICAgIyMgQ29udGV4dFxuICpcbiAqICAgV2hlbiBsb29raW5nIHVwIGNvbnRleHQgaXQgaXMgcG9zc2libGUgdG8gZm9sbG93IHlvdSByZWFsIHJlbmRlciBwYXJlbnRzIG9yIGZvbGxvdyB0aGUgcG9ydGFscy5cbiAqICAgQWxsIGluZm9ybWF0aW9uIGlzIGVuY29kZWQgaW4gdGhlIHBvcnRhbHMuXG4gKlxuICogICAjIyBTbG90IFByb2plY3Rpb25cbiAqXG4gKiAgIFRoZSB1bHRpbWF0ZSB1c2VyIG9mIHBvcnRhbHMgaXMgU2xvdCBwcm9qZWN0aW9uLiBCdXQgdGhlIHZOb2RlIGRvIG5vdCB1bmRlcnN0YW5kIHNsb3RzLCByYXRoZXJcbiAqICAgdGhleSB1bmRlcnN0YW5kIHBvcnRhbCBwcmltaXRpdmVzIHdoaWNoIG1ha2VzIFNsb3QgaW1wbGVtZW50YXRpb24gbXVjaCBzaW1wbGVyLlxuICpcbiAqICAgTk9URTogVGhlIHBvcnRhbHMgbmVlZCB0byBoYXZlIElEcyBkdXJpbmcgc2VyaWFsaXphdGlvbiBvbmx5LiBPbmNlIHJ1bnRpbWUgdGFrZXMgb3ZlciwgdGhlcmUgaXNcbiAqICAgbm8gbmVlZCB0byBoYXZlIElEcyBvciB0byB3cml0ZSBvdmVyZmxvdyB0byB0aGUgYDxxOnRlbXBsYXRlPmBcbiAqL1xuXG5pbXBvcnQgeyBpc0RldiB9IGZyb20gJ0Bxd2lrLmRldi9jb3JlL2J1aWxkJztcbmltcG9ydCB7IHF3aWtEZWJ1Z1RvU3RyaW5nIH0gZnJvbSAnLi4vZGVidWcnO1xuaW1wb3J0IHsgYXNzZXJ0RGVmaW5lZCwgYXNzZXJ0RXF1YWwsIGFzc2VydEZhbHNlLCBhc3NlcnRUcnVlIH0gZnJvbSAnLi4vc2hhcmVkL2Vycm9yL2Fzc2VydCc7XG5pbXBvcnQgeyBpc1RleHQgfSBmcm9tICcuLi9zaGFyZWQvdXRpbHMvZWxlbWVudCc7XG5pbXBvcnQgeyB0aHJvd0Vycm9yQW5kU3RvcCB9IGZyb20gJy4uL3NoYXJlZC91dGlscy9sb2cnO1xuaW1wb3J0IHtcbiAgRUxFTUVOVF9JRCxcbiAgRUxFTUVOVF9LRVksXG4gIEVMRU1FTlRfUFJPUFMsXG4gIEVMRU1FTlRfU0VRLFxuICBFTEVNRU5UX1NFUV9JRFgsXG4gIE9uUmVuZGVyUHJvcCxcbiAgUUNvbnRhaW5lckF0dHIsXG4gIFFDb250YWluZXJBdHRyRW5kLFxuICBRQ29udGFpbmVySXNsYW5kLFxuICBRQ29udGFpbmVySXNsYW5kRW5kLFxuICBRQ3R4QXR0cixcbiAgUUlnbm9yZSxcbiAgUUlnbm9yZUVuZCxcbiAgUVNjb3BlZFN0eWxlLFxuICBRU2xvdCxcbiAgUVNsb3RQYXJlbnQsXG4gIFFTbG90UmVmLFxuICBRU3R5bGUsXG4gIFFTdHlsZXNBbGxTZWxlY3RvcixcbiAgUV9QUk9QU19TRVBBUkFUT1IsXG4gIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MLFxufSBmcm9tICcuLi9zaGFyZWQvdXRpbHMvbWFya2Vycyc7XG5pbXBvcnQgeyBpc0h0bWxFbGVtZW50IH0gZnJvbSAnLi4vc2hhcmVkL3V0aWxzL3R5cGVzJztcbmltcG9ydCB7IERFQlVHX1RZUEUsIFFDb250YWluZXJWYWx1ZSwgVmlydHVhbFR5cGUsIFZpcnR1YWxUeXBlTmFtZSB9IGZyb20gJy4uL3NoYXJlZC90eXBlcyc7XG5pbXBvcnQgeyBWTm9kZURhdGFDaGFyIH0gZnJvbSAnLi4vc2hhcmVkL3Zub2RlLWRhdGEtdHlwZXMnO1xuaW1wb3J0IHsgZ2V0RG9tQ29udGFpbmVyIH0gZnJvbSAnLi9kb20tY29udGFpbmVyJztcbmltcG9ydCB7XG4gIEVsZW1lbnRWTm9kZVByb3BzLFxuICBUZXh0Vk5vZGVQcm9wcyxcbiAgVk5vZGVGbGFncyxcbiAgVk5vZGVGbGFnc0luZGV4LFxuICBWTm9kZVByb3BzLFxuICBWaXJ0dWFsVk5vZGVQcm9wcyxcbiAgdHlwZSBDbGllbnRDb250YWluZXIsXG4gIHR5cGUgQ29udGFpbmVyRWxlbWVudCxcbiAgdHlwZSBFbGVtZW50Vk5vZGUsXG4gIHR5cGUgUURvY3VtZW50LFxuICB0eXBlIFRleHRWTm9kZSxcbiAgdHlwZSBWTm9kZSxcbiAgdHlwZSBWaXJ0dWFsVk5vZGUsXG59IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHtcbiAgdm5vZGVfZ2V0RG9tQ2hpbGRyZW5XaXRoQ29ycmVjdE5hbWVzcGFjZXNUb0luc2VydCxcbiAgdm5vZGVfZ2V0RWxlbWVudE5hbWVzcGFjZUZsYWdzLFxufSBmcm9tICcuL3Zub2RlLW5hbWVzcGFjZSc7XG5pbXBvcnQgeyBlc2NhcGVIVE1MIH0gZnJvbSAnLi4vc2hhcmVkL3V0aWxzL2NoYXJhY3Rlci1lc2NhcGluZyc7XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4vKipcbiAqIEZ1bmRhbWVudGFsIERPTSBvcGVyYXRpb25zIGFyZTpcbiAqXG4gKiAtIEluc2VydCBuZXcgRE9NIGVsZW1lbnQvdGV4dFxuICogLSBSZW1vdmUgRE9NIGVsZW1lbnQvdGV4dFxuICogLSBTZXQgRE9NIGVsZW1lbnQgYXR0cmlidXRlc1xuICogLSBTZXQgdGV4dCBub2RlIHZhbHVlXG4gKi9cbmV4cG9ydCBjb25zdCBlbnVtIFZOb2RlSm91cm5hbE9wQ29kZSB7XG4gIFNldFRleHQgPSAxLCAvLyAtLS0tLS0gW1NldEF0dHJpYnV0ZSwgdGFyZ2V0LCB0ZXh0XVxuICBTZXRBdHRyaWJ1dGUgPSAyLCAvLyAtIFtTZXRBdHRyaWJ1dGUsIHRhcmdldCwgLi4uKGtleSwgdmFsdWVzKV1dXG4gIEhvaXN0U3R5bGVzID0gMywgLy8gLS0gW0hvaXN0U3R5bGVzLCBkb2N1bWVudF1cbiAgUmVtb3ZlID0gNCwgLy8gLS0tLS0tLSBbSW5zZXJ0LCB0YXJnZXQocGFyZW50KSwgLi4ubm9kZXNdXG4gIEluc2VydCA9IDUsIC8vIC0tLS0tLS0gW0luc2VydCwgdGFyZ2V0KHBhcmVudCksIHJlZmVyZW5jZSwgLi4ubm9kZXNdXG59XG5cbmV4cG9ydCB0eXBlIFZOb2RlSm91cm5hbCA9IEFycmF5PFZOb2RlSm91cm5hbE9wQ29kZSB8IERvY3VtZW50IHwgRWxlbWVudCB8IFRleHQgfCBzdHJpbmcgfCBudWxsPjtcblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbmV4cG9ydCBjb25zdCB2bm9kZV9uZXdFbGVtZW50ID0gKGVsZW1lbnQ6IEVsZW1lbnQsIGVsZW1lbnROYW1lOiBzdHJpbmcpOiBFbGVtZW50Vk5vZGUgPT4ge1xuICBhc3NlcnRFcXVhbChmYXN0Tm9kZVR5cGUoZWxlbWVudCksIDEgLyogRUxFTUVOVF9OT0RFICovLCAnRXhwZWN0aW5nIGVsZW1lbnQgbm9kZS4nKTtcbiAgY29uc3Qgdm5vZGU6IEVsZW1lbnRWTm9kZSA9IFZOb2RlQXJyYXkuY3JlYXRlRWxlbWVudChcbiAgICBWTm9kZUZsYWdzLkVsZW1lbnQgfCBWTm9kZUZsYWdzLkluZmxhdGVkIHwgKC0xIDw8IFZOb2RlRmxhZ3NJbmRleC5zaGlmdCksIC8vIEZsYWdcbiAgICBudWxsLFxuICAgIG51bGwsXG4gICAgbnVsbCxcbiAgICBudWxsLFxuICAgIG51bGwsXG4gICAgZWxlbWVudCxcbiAgICBlbGVtZW50TmFtZVxuICApO1xuICBhc3NlcnRUcnVlKHZub2RlX2lzRWxlbWVudFZOb2RlKHZub2RlKSwgJ0luY29ycmVjdCBmb3JtYXQgb2YgRWxlbWVudFZOb2RlLicpO1xuICBhc3NlcnRGYWxzZSh2bm9kZV9pc1RleHRWTm9kZSh2bm9kZSksICdJbmNvcnJlY3QgZm9ybWF0IG9mIEVsZW1lbnRWTm9kZS4nKTtcbiAgYXNzZXJ0RmFsc2Uodm5vZGVfaXNWaXJ0dWFsVk5vZGUodm5vZGUpLCAnSW5jb3JyZWN0IGZvcm1hdCBvZiBFbGVtZW50Vk5vZGUuJyk7XG4gIHJldHVybiB2bm9kZTtcbn07XG5cbmV4cG9ydCBjb25zdCB2bm9kZV9uZXdVbk1hdGVyaWFsaXplZEVsZW1lbnQgPSAoZWxlbWVudDogRWxlbWVudCk6IEVsZW1lbnRWTm9kZSA9PiB7XG4gIGFzc2VydEVxdWFsKGZhc3ROb2RlVHlwZShlbGVtZW50KSwgMSAvKiBFTEVNRU5UX05PREUgKi8sICdFeHBlY3RpbmcgZWxlbWVudCBub2RlLicpO1xuICBjb25zdCB2bm9kZTogRWxlbWVudFZOb2RlID0gVk5vZGVBcnJheS5jcmVhdGVFbGVtZW50KFxuICAgIFZOb2RlRmxhZ3MuRWxlbWVudCB8ICgtMSA8PCBWTm9kZUZsYWdzSW5kZXguc2hpZnQpLCAvLyBGbGFnXG4gICAgbnVsbCxcbiAgICBudWxsLFxuICAgIG51bGwsXG4gICAgdW5kZWZpbmVkLFxuICAgIHVuZGVmaW5lZCxcbiAgICBlbGVtZW50LFxuICAgIHVuZGVmaW5lZFxuICApO1xuICBhc3NlcnRUcnVlKHZub2RlX2lzRWxlbWVudFZOb2RlKHZub2RlKSwgJ0luY29ycmVjdCBmb3JtYXQgb2YgRWxlbWVudFZOb2RlLicpO1xuICBhc3NlcnRGYWxzZSh2bm9kZV9pc1RleHRWTm9kZSh2bm9kZSksICdJbmNvcnJlY3QgZm9ybWF0IG9mIEVsZW1lbnRWTm9kZS4nKTtcbiAgYXNzZXJ0RmFsc2Uodm5vZGVfaXNWaXJ0dWFsVk5vZGUodm5vZGUpLCAnSW5jb3JyZWN0IGZvcm1hdCBvZiBFbGVtZW50Vk5vZGUuJyk7XG4gIHJldHVybiB2bm9kZTtcbn07XG5cbmV4cG9ydCBjb25zdCB2bm9kZV9uZXdTaGFyZWRUZXh0ID0gKFxuICBwcmV2aW91c1RleHROb2RlOiBUZXh0Vk5vZGUgfCBudWxsLFxuICBzaGFyZWRUZXh0Tm9kZTogVGV4dCB8IG51bGwsXG4gIHRleHRDb250ZW50OiBzdHJpbmdcbik6IFRleHRWTm9kZSA9PiB7XG4gIHNoYXJlZFRleHROb2RlICYmXG4gICAgYXNzZXJ0RXF1YWwoZmFzdE5vZGVUeXBlKHNoYXJlZFRleHROb2RlKSwgMyAvKiBURVhUX05PREUgKi8sICdFeHBlY3RpbmcgZWxlbWVudCBub2RlLicpO1xuICBjb25zdCB2bm9kZTogVGV4dFZOb2RlID0gVk5vZGVBcnJheS5jcmVhdGVUZXh0KFxuICAgIFZOb2RlRmxhZ3MuVGV4dCB8ICgtMSA8PCBWTm9kZUZsYWdzSW5kZXguc2hpZnQpLCAvLyBGbGFnXG4gICAgbnVsbCwgLy8gUGFyZW50XG4gICAgcHJldmlvdXNUZXh0Tm9kZSwgLy8gUHJldmlvdXMgVGV4dE5vZGUgKHVzdWFsbHkgZmlyc3QgY2hpbGQpXG4gICAgbnVsbCwgLy8gTmV4dCBzaWJsaW5nXG4gICAgc2hhcmVkVGV4dE5vZGUsIC8vIFNoYXJlZFRleHROb2RlXG4gICAgdGV4dENvbnRlbnQgLy8gVGV4dCBDb250ZW50XG4gICk7XG4gIGFzc2VydEZhbHNlKHZub2RlX2lzRWxlbWVudFZOb2RlKHZub2RlKSwgJ0luY29ycmVjdCBmb3JtYXQgb2YgVGV4dFZOb2RlLicpO1xuICBhc3NlcnRUcnVlKHZub2RlX2lzVGV4dFZOb2RlKHZub2RlKSwgJ0luY29ycmVjdCBmb3JtYXQgb2YgVGV4dFZOb2RlLicpO1xuICBhc3NlcnRGYWxzZSh2bm9kZV9pc1ZpcnR1YWxWTm9kZSh2bm9kZSksICdJbmNvcnJlY3QgZm9ybWF0IG9mIFRleHRWTm9kZS4nKTtcbiAgcmV0dXJuIHZub2RlO1xufTtcblxuZXhwb3J0IGNvbnN0IHZub2RlX25ld1RleHQgPSAodGV4dE5vZGU6IFRleHQsIHRleHRDb250ZW50OiBzdHJpbmcgfCB1bmRlZmluZWQpOiBUZXh0Vk5vZGUgPT4ge1xuICBjb25zdCB2bm9kZTogVGV4dFZOb2RlID0gVk5vZGVBcnJheS5jcmVhdGVUZXh0KFxuICAgIFZOb2RlRmxhZ3MuVGV4dCB8IFZOb2RlRmxhZ3MuSW5mbGF0ZWQgfCAoLTEgPDwgVk5vZGVGbGFnc0luZGV4LnNoaWZ0KSwgLy8gRmxhZ3NcbiAgICBudWxsLCAvLyBQYXJlbnRcbiAgICBudWxsLCAvLyBObyBwcmV2aW91cyBzaWJsaW5nXG4gICAgbnVsbCwgLy8gV2UgbWF5IGhhdmUgYSBuZXh0IHNpYmxpbmcuXG4gICAgdGV4dE5vZGUsIC8vIFRleHROb2RlXG4gICAgdGV4dENvbnRlbnQgLy8gVGV4dCBDb250ZW50XG4gICk7XG4gIGFzc2VydEVxdWFsKGZhc3ROb2RlVHlwZSh0ZXh0Tm9kZSksIDMgLyogVEVYVF9OT0RFICovLCAnRXhwZWN0aW5nIGVsZW1lbnQgbm9kZS4nKTtcbiAgYXNzZXJ0RmFsc2Uodm5vZGVfaXNFbGVtZW50Vk5vZGUodm5vZGUpLCAnSW5jb3JyZWN0IGZvcm1hdCBvZiBUZXh0Vk5vZGUuJyk7XG4gIGFzc2VydFRydWUodm5vZGVfaXNUZXh0Vk5vZGUodm5vZGUpLCAnSW5jb3JyZWN0IGZvcm1hdCBvZiBUZXh0Vk5vZGUuJyk7XG4gIGFzc2VydEZhbHNlKHZub2RlX2lzVmlydHVhbFZOb2RlKHZub2RlKSwgJ0luY29ycmVjdCBmb3JtYXQgb2YgVGV4dFZOb2RlLicpO1xuICByZXR1cm4gdm5vZGU7XG59O1xuXG5leHBvcnQgY29uc3Qgdm5vZGVfbmV3VmlydHVhbCA9ICgpOiBWaXJ0dWFsVk5vZGUgPT4ge1xuICBjb25zdCB2bm9kZTogVmlydHVhbFZOb2RlID0gVk5vZGVBcnJheS5jcmVhdGVWaXJ0dWFsKFxuICAgIFZOb2RlRmxhZ3MuVmlydHVhbCB8ICgtMSA8PCBWTm9kZUZsYWdzSW5kZXguc2hpZnQpLCAvLyBGbGFnc1xuICAgIG51bGwsXG4gICAgbnVsbCxcbiAgICBudWxsLFxuICAgIG51bGwsXG4gICAgbnVsbFxuICApO1xuICBhc3NlcnRGYWxzZSh2bm9kZV9pc0VsZW1lbnRWTm9kZSh2bm9kZSksICdJbmNvcnJlY3QgZm9ybWF0IG9mIFRleHRWTm9kZS4nKTtcbiAgYXNzZXJ0RmFsc2Uodm5vZGVfaXNUZXh0Vk5vZGUodm5vZGUpLCAnSW5jb3JyZWN0IGZvcm1hdCBvZiBUZXh0Vk5vZGUuJyk7XG4gIGFzc2VydFRydWUodm5vZGVfaXNWaXJ0dWFsVk5vZGUodm5vZGUpLCAnSW5jb3JyZWN0IGZvcm1hdCBvZiBUZXh0Vk5vZGUuJyk7XG4gIHJldHVybiB2bm9kZTtcbn07XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5leHBvcnQgY29uc3Qgdm5vZGVfaXNWTm9kZSA9ICh2Tm9kZTogYW55KTogdk5vZGUgaXMgVk5vZGUgPT4ge1xuICByZXR1cm4gdk5vZGUgaW5zdGFuY2VvZiBWTm9kZUFycmF5O1xufTtcblxuZXhwb3J0IGNvbnN0IHZub2RlX2lzRWxlbWVudFZOb2RlID0gKHZOb2RlOiBWTm9kZSk6IHZOb2RlIGlzIEVsZW1lbnRWTm9kZSA9PiB7XG4gIGFzc2VydERlZmluZWQodk5vZGUsICdNaXNzaW5nIHZOb2RlJyk7XG4gIGNvbnN0IGZsYWcgPSAodk5vZGUgYXMgVk5vZGUpW1ZOb2RlUHJvcHMuZmxhZ3NdO1xuICByZXR1cm4gKGZsYWcgJiBWTm9kZUZsYWdzLkVsZW1lbnQpID09PSBWTm9kZUZsYWdzLkVsZW1lbnQ7XG59O1xuXG5leHBvcnQgY29uc3Qgdm5vZGVfaXNFbGVtZW50T3JUZXh0Vk5vZGUgPSAodk5vZGU6IFZOb2RlKTogdk5vZGUgaXMgRWxlbWVudFZOb2RlID0+IHtcbiAgYXNzZXJ0RGVmaW5lZCh2Tm9kZSwgJ01pc3Npbmcgdk5vZGUnKTtcbiAgY29uc3QgZmxhZyA9ICh2Tm9kZSBhcyBWTm9kZSlbVk5vZGVQcm9wcy5mbGFnc107XG4gIHJldHVybiAoZmxhZyAmIFZOb2RlRmxhZ3MuRUxFTUVOVF9PUl9URVhUX01BU0spICE9PSAwO1xufTtcblxuZXhwb3J0IGNvbnN0IHZub2RlX2lzRWxlbWVudE9yVmlydHVhbFZOb2RlID0gKFxuICB2Tm9kZTogVk5vZGVcbik6IHZOb2RlIGlzIEVsZW1lbnRWTm9kZSB8IFZpcnR1YWxWTm9kZSA9PiB7XG4gIGFzc2VydERlZmluZWQodk5vZGUsICdNaXNzaW5nIHZOb2RlJyk7XG4gIGNvbnN0IGZsYWcgPSAodk5vZGUgYXMgVk5vZGUpW1ZOb2RlUHJvcHMuZmxhZ3NdO1xuICByZXR1cm4gKGZsYWcgJiBWTm9kZUZsYWdzLkVMRU1FTlRfT1JfVklSVFVBTF9NQVNLKSAhPT0gMDtcbn07XG5cbmV4cG9ydCBjb25zdCB2bm9kZV9pc01hdGVyaWFsaXplZCA9ICh2Tm9kZTogVk5vZGUpOiBib29sZWFuID0+IHtcbiAgYXNzZXJ0RGVmaW5lZCh2Tm9kZSwgJ01pc3Npbmcgdk5vZGUnKTtcbiAgY29uc3QgZmxhZyA9ICh2Tm9kZSBhcyBWTm9kZSlbVk5vZGVQcm9wcy5mbGFnc107XG4gIHJldHVybiAoXG4gICAgKGZsYWcgJiBWTm9kZUZsYWdzLkVsZW1lbnQpID09PSBWTm9kZUZsYWdzLkVsZW1lbnQgJiZcbiAgICB2Tm9kZVtFbGVtZW50Vk5vZGVQcm9wcy5maXJzdENoaWxkXSAhPT0gdW5kZWZpbmVkICYmXG4gICAgdk5vZGVbRWxlbWVudFZOb2RlUHJvcHMubGFzdENoaWxkXSAhPT0gdW5kZWZpbmVkXG4gICk7XG59O1xuXG5leHBvcnQgY29uc3Qgdm5vZGVfaXNUZXh0Vk5vZGUgPSAodk5vZGU6IFZOb2RlKTogdk5vZGUgaXMgVGV4dFZOb2RlID0+IHtcbiAgYXNzZXJ0RGVmaW5lZCh2Tm9kZSwgJ01pc3Npbmcgdk5vZGUnKTtcbiAgY29uc3QgZmxhZyA9ICh2Tm9kZSBhcyBWTm9kZSlbVk5vZGVQcm9wcy5mbGFnc107XG4gIHJldHVybiAoZmxhZyAmIFZOb2RlRmxhZ3MuVGV4dCkgPT09IFZOb2RlRmxhZ3MuVGV4dDtcbn07XG5cbmV4cG9ydCBjb25zdCB2bm9kZV9pc1ZpcnR1YWxWTm9kZSA9ICh2Tm9kZTogVk5vZGUpOiB2Tm9kZSBpcyBWaXJ0dWFsVk5vZGUgPT4ge1xuICBhc3NlcnREZWZpbmVkKHZOb2RlLCAnTWlzc2luZyB2Tm9kZScpO1xuICBjb25zdCBmbGFnID0gKHZOb2RlIGFzIFZOb2RlKVtWTm9kZVByb3BzLmZsYWdzXTtcbiAgcmV0dXJuIChmbGFnICYgVk5vZGVGbGFncy5WaXJ0dWFsKSA9PT0gVk5vZGVGbGFncy5WaXJ0dWFsO1xufTtcblxuY29uc3QgZW5zdXJlVGV4dFZOb2RlID0gKHZOb2RlOiBWTm9kZSk6IFRleHRWTm9kZSA9PiB7XG4gIGFzc2VydFRydWUodm5vZGVfaXNUZXh0Vk5vZGUodk5vZGUpLCAnRXhwZWN0aW5nIFRleHRWTm9kZSB3YXM6ICcgKyB2bm9kZV9nZXROb2RlVHlwZU5hbWUodk5vZGUpKTtcbiAgcmV0dXJuIHZOb2RlIGFzIFRleHRWTm9kZTtcbn07XG5cbmNvbnN0IGVuc3VyZUVsZW1lbnRPclZpcnR1YWxWTm9kZSA9ICh2Tm9kZTogVk5vZGUpID0+IHtcbiAgYXNzZXJ0RGVmaW5lZCh2Tm9kZSwgJ01pc3Npbmcgdk5vZGUnKTtcbiAgYXNzZXJ0VHJ1ZShcbiAgICAodk5vZGVbVk5vZGVQcm9wcy5mbGFnc10gJiBWTm9kZUZsYWdzLkVMRU1FTlRfT1JfVklSVFVBTF9NQVNLKSAhPT0gMCxcbiAgICAnRXhwZWN0aW5nIEVsZW1lbnRWTm9kZSBvciBWaXJ0dWFsVk5vZGUgd2FzOiAnICsgdm5vZGVfZ2V0Tm9kZVR5cGVOYW1lKHZOb2RlKVxuICApO1xufTtcblxuZXhwb3J0IGNvbnN0IGVuc3VyZUVsZW1lbnRWTm9kZSA9ICh2Tm9kZTogVk5vZGUpOiBFbGVtZW50Vk5vZGUgPT4ge1xuICBhc3NlcnRUcnVlKFxuICAgIHZub2RlX2lzRWxlbWVudFZOb2RlKHZOb2RlKSxcbiAgICAnRXhwZWN0aW5nIEVsZW1lbnRWTm9kZSB3YXM6ICcgKyB2bm9kZV9nZXROb2RlVHlwZU5hbWUodk5vZGUpXG4gICk7XG4gIHJldHVybiB2Tm9kZSBhcyBFbGVtZW50Vk5vZGU7XG59O1xuXG5leHBvcnQgY29uc3Qgdm5vZGVfZ2V0Tm9kZVR5cGVOYW1lID0gKHZOb2RlOiBWTm9kZSk6IHN0cmluZyA9PiB7XG4gIGlmICh2Tm9kZSkge1xuICAgIGNvbnN0IGZsYWdzID0gdk5vZGVbVk5vZGVQcm9wcy5mbGFnc107XG4gICAgc3dpdGNoIChmbGFncyAmIFZOb2RlRmxhZ3MuVFlQRV9NQVNLKSB7XG4gICAgICBjYXNlIFZOb2RlRmxhZ3MuRWxlbWVudDpcbiAgICAgICAgcmV0dXJuICdFbGVtZW50JztcbiAgICAgIGNhc2UgVk5vZGVGbGFncy5WaXJ0dWFsOlxuICAgICAgICByZXR1cm4gJ1ZpcnR1YWwnO1xuICAgICAgY2FzZSBWTm9kZUZsYWdzLlRleHQ6XG4gICAgICAgIHJldHVybiAnVGV4dCc7XG4gICAgfVxuICB9XG4gIHJldHVybiAnPHVua25vd24+Jztcbn07XG5cbmV4cG9ydCBjb25zdCB2bm9kZV9lbnN1cmVFbGVtZW50SW5mbGF0ZWQgPSAodm5vZGU6IFZOb2RlKSA9PiB7XG4gIGNvbnN0IGZsYWdzID0gdm5vZGVbVk5vZGVQcm9wcy5mbGFnc107XG4gIGlmICgoZmxhZ3MgJiBWTm9kZUZsYWdzLklORkxBVEVEX1RZUEVfTUFTSykgPT09IFZOb2RlRmxhZ3MuRWxlbWVudCkge1xuICAgIGNvbnN0IGVsZW1lbnRWTm9kZSA9IHZub2RlIGFzIEVsZW1lbnRWTm9kZTtcbiAgICBlbGVtZW50Vk5vZGVbVk5vZGVQcm9wcy5mbGFnc10gXj0gVk5vZGVGbGFncy5JbmZsYXRlZDtcbiAgICBjb25zdCBlbGVtZW50ID0gZWxlbWVudFZOb2RlW0VsZW1lbnRWTm9kZVByb3BzLmVsZW1lbnRdO1xuICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSBlbGVtZW50LmF0dHJpYnV0ZXM7XG4gICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgYXR0cmlidXRlcy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICBjb25zdCBhdHRyID0gYXR0cmlidXRlc1tpZHhdO1xuICAgICAgY29uc3Qga2V5ID0gYXR0ci5uYW1lO1xuICAgICAgaWYgKGtleSA9PSBRX1BST1BTX1NFUEFSQVRPUiB8fCAha2V5KSB7XG4gICAgICAgIC8vIFNWRyBpbiBEb21pbm8gZG9lcyBub3Qgc3VwcG9ydCAnOicgc28gaXQgYmVjb21lcyBhbiBlbXB0eSBzdHJpbmcuXG4gICAgICAgIC8vIGFsbCBhdHRyaWJ1dGVzIGFmdGVyIHRoZSAnOicgYXJlIGNvbnNpZGVyZWQgaW1tdXRhYmxlLCBhbmQgc28gd2UgaWdub3JlIHRoZW0uXG4gICAgICAgIGJyZWFrO1xuICAgICAgfSBlbHNlIGlmIChrZXkuc3RhcnRzV2l0aChRQ29udGFpbmVyQXR0cikpIHtcbiAgICAgICAgaWYgKGF0dHIudmFsdWUgPT09IFFDb250YWluZXJWYWx1ZS5IVE1MKSB7XG4gICAgICAgICAgbWFwQXJyYXlfc2V0KFxuICAgICAgICAgICAgZWxlbWVudFZOb2RlIGFzIHN0cmluZ1tdLFxuICAgICAgICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwsXG4gICAgICAgICAgICBlbGVtZW50LmlubmVySFRNTCxcbiAgICAgICAgICAgIEVsZW1lbnRWTm9kZVByb3BzLlBST1BTX09GRlNFVFxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSBpZiAoYXR0ci52YWx1ZSA9PT0gUUNvbnRhaW5lclZhbHVlLlRFWFQgJiYgJ3ZhbHVlJyBpbiBlbGVtZW50KSB7XG4gICAgICAgICAgbWFwQXJyYXlfc2V0KFxuICAgICAgICAgICAgZWxlbWVudFZOb2RlIGFzIHN0cmluZ1tdLFxuICAgICAgICAgICAgJ3ZhbHVlJyxcbiAgICAgICAgICAgIGVsZW1lbnQudmFsdWUsXG4gICAgICAgICAgICBFbGVtZW50Vk5vZGVQcm9wcy5QUk9QU19PRkZTRVRcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKCFrZXkuc3RhcnRzV2l0aCgnb246JykpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBhdHRyLnZhbHVlO1xuICAgICAgICBtYXBBcnJheV9zZXQoZWxlbWVudFZOb2RlIGFzIHN0cmluZ1tdLCBrZXksIHZhbHVlLCBFbGVtZW50Vk5vZGVQcm9wcy5QUk9QU19PRkZTRVQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxuLyoqIFdhbGtzIHRoZSBWTm9kZSB0cmVlIGFuZCBtYXRlcmlhbGl6ZSBpdCB1c2luZyBgdm5vZGVfZ2V0Rmlyc3RDaGlsZGAuICovXG5leHBvcnQgZnVuY3Rpb24gdm5vZGVfd2Fsa1ZOb2RlKFxuICB2Tm9kZTogVk5vZGUsXG4gIGNhbGxiYWNrPzogKHZOb2RlOiBWTm9kZSwgdlBhcmVudDogVk5vZGUgfCBudWxsKSA9PiB2b2lkXG4pOiB2b2lkIHtcbiAgbGV0IHZDdXJzb3I6IFZOb2RlIHwgbnVsbCA9IHZOb2RlO1xuICAvLyBEZXB0aCBmaXJzdCB0cmF2ZXJzYWxcbiAgaWYgKHZub2RlX2lzVGV4dFZOb2RlKHZOb2RlKSkge1xuICAgIC8vIFRleHQgbm9kZXMgZG9uJ3QgaGF2ZSBzdWJzY3JpcHRpb25zIG9yIGNoaWxkcmVuO1xuICAgIHJldHVybjtcbiAgfVxuICBsZXQgdlBhcmVudDogVk5vZGUgfCBudWxsID0gbnVsbDtcbiAgZG8ge1xuICAgIGNhbGxiYWNrPy4odkN1cnNvciwgdlBhcmVudCk7XG4gICAgY29uc3QgdkZpcnN0Q2hpbGQgPSB2bm9kZV9nZXRGaXJzdENoaWxkKHZDdXJzb3IpO1xuICAgIGlmICh2Rmlyc3RDaGlsZCkge1xuICAgICAgdkN1cnNvciA9IHZGaXJzdENoaWxkO1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIC8vIE91dCBvZiBjaGlsZHJlblxuICAgIGlmICh2Q3Vyc29yID09PSB2Tm9kZSkge1xuICAgICAgLy8gd2UgYXJlIHdoZXJlIHdlIHN0YXJ0ZWQsIHRoaXMgbWVhbnMgdGhhdCB2Tm9kZSBoYXMgbm8gY2hpbGRyZW4sIHNvIHdlIGFyZSBkb25lLlxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBPdXQgb2YgY2hpbGRyZW4sIGdvIHRvIG5leHQgc2libGluZ1xuICAgIGNvbnN0IHZOZXh0U2libGluZyA9IHZub2RlX2dldE5leHRTaWJsaW5nKHZDdXJzb3IpO1xuICAgIGlmICh2TmV4dFNpYmxpbmcpIHtcbiAgICAgIHZDdXJzb3IgPSB2TmV4dFNpYmxpbmc7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgLy8gT3V0IG9mIHNpYmxpbmdzLCBnbyB0byBwYXJlbnRcbiAgICB2UGFyZW50ID0gdm5vZGVfZ2V0UGFyZW50KHZDdXJzb3IpO1xuICAgIHdoaWxlICh2UGFyZW50KSB7XG4gICAgICBpZiAodlBhcmVudCA9PT0gdk5vZGUpIHtcbiAgICAgICAgLy8gV2UgYXJlIGJhY2sgd2hlcmUgd2Ugc3RhcnRlZCwgd2UgYXJlIGRvbmUuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHZOZXh0UGFyZW50U2libGluZyA9IHZub2RlX2dldE5leHRTaWJsaW5nKHZQYXJlbnQpO1xuICAgICAgaWYgKHZOZXh0UGFyZW50U2libGluZykge1xuICAgICAgICB2Q3Vyc29yID0gdk5leHRQYXJlbnRTaWJsaW5nO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHZQYXJlbnQgPSB2bm9kZV9nZXRQYXJlbnQodlBhcmVudCk7XG4gICAgfVxuICAgIGlmICh2UGFyZW50ID09IG51bGwpIHtcbiAgICAgIC8vIFdlIGFyZSBkb25lLlxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfSB3aGlsZSAodHJ1ZSBhcyBib29sZWFuKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHZub2RlX2dldERPTUNoaWxkTm9kZXMoXG4gIGpvdXJuYWw6IFZOb2RlSm91cm5hbCxcbiAgcm9vdDogVk5vZGUsXG4gIGlzVk5vZGU6IHRydWUsXG4gIGNoaWxkTm9kZXM/OiAoRWxlbWVudFZOb2RlIHwgVGV4dFZOb2RlKVtdXG4pOiAoRWxlbWVudFZOb2RlIHwgVGV4dFZOb2RlKVtdO1xuZXhwb3J0IGZ1bmN0aW9uIHZub2RlX2dldERPTUNoaWxkTm9kZXMoXG4gIGpvdXJuYWw6IFZOb2RlSm91cm5hbCxcbiAgcm9vdDogVk5vZGUsXG4gIGlzVk5vZGU/OiBmYWxzZSxcbiAgY2hpbGROb2Rlcz86IChFbGVtZW50IHwgVGV4dClbXVxuKTogKEVsZW1lbnQgfCBUZXh0KVtdO1xuZXhwb3J0IGZ1bmN0aW9uIHZub2RlX2dldERPTUNoaWxkTm9kZXMoXG4gIGpvdXJuYWw6IFZOb2RlSm91cm5hbCxcbiAgcm9vdDogVk5vZGUsXG4gIGlzVk5vZGU6IGJvb2xlYW4gPSBmYWxzZSxcbiAgY2hpbGROb2RlczogKEVsZW1lbnRWTm9kZSB8IFRleHRWTm9kZSB8IEVsZW1lbnQgfCBUZXh0KVtdID0gW11cbik6IChFbGVtZW50Vk5vZGUgfCBUZXh0Vk5vZGUgfCBFbGVtZW50IHwgVGV4dClbXSB7XG4gIGlmICh2bm9kZV9pc0VsZW1lbnRPclRleHRWTm9kZShyb290KSkge1xuICAgIGlmICh2bm9kZV9pc1RleHRWTm9kZShyb290KSkge1xuICAgICAgLyoqXG4gICAgICAgKiBJZiB3ZSBhcmUgY29sbGVjdGluZyB0ZXh0IG5vZGVzLCB3ZSBuZWVkIHRvIGVuc3VyZSB0aGF0IHRoZXkgYXJlIGluZmxhdGVkLiBJZiBub3QgaW5mbGF0ZWRcbiAgICAgICAqIHdlIHdvdWxkIHJldHVybiBhIHNpbmdsZSB0ZXh0IG5vZGUgd2hpY2ggcmVwcmVzZW50cyBtYW55IGFjdHVhbCB0ZXh0IG5vZGVzLCBvciByZW1vdmluZyBhXG4gICAgICAgKiBzaW5nbGUgdGV4dCBub2RlIHdvdWxkIHJlbW92ZSBtYW55IHRleHQgbm9kZXMuXG4gICAgICAgKi9cbiAgICAgIHZub2RlX2Vuc3VyZVRleHRJbmZsYXRlZChqb3VybmFsLCByb290KTtcbiAgICB9XG4gICAgY2hpbGROb2Rlcy5wdXNoKGlzVk5vZGUgPyByb290IDogdm5vZGVfZ2V0Tm9kZShyb290KSEpO1xuICAgIHJldHVybiBjaGlsZE5vZGVzO1xuICB9XG4gIGxldCB2Tm9kZSA9IHZub2RlX2dldEZpcnN0Q2hpbGQocm9vdCk7XG4gIHdoaWxlICh2Tm9kZSkge1xuICAgIGlmICh2bm9kZV9pc0VsZW1lbnRWTm9kZSh2Tm9kZSkpIHtcbiAgICAgIGNoaWxkTm9kZXMucHVzaChpc1ZOb2RlID8gdk5vZGUgOiB2bm9kZV9nZXROb2RlKHZOb2RlKSEpO1xuICAgIH0gZWxzZSBpZiAodm5vZGVfaXNUZXh0Vk5vZGUodk5vZGUpKSB7XG4gICAgICAvKipcbiAgICAgICAqIElmIHdlIGFyZSBjb2xsZWN0aW5nIHRleHQgbm9kZXMsIHdlIG5lZWQgdG8gZW5zdXJlIHRoYXQgdGhleSBhcmUgaW5mbGF0ZWQuIElmIG5vdCBpbmZsYXRlZFxuICAgICAgICogd2Ugd291bGQgcmV0dXJuIGEgc2luZ2xlIHRleHQgbm9kZSB3aGljaCByZXByZXNlbnRzIG1hbnkgYWN0dWFsIHRleHQgbm9kZXMsIG9yIHJlbW92aW5nIGFcbiAgICAgICAqIHNpbmdsZSB0ZXh0IG5vZGUgd291bGQgcmVtb3ZlIG1hbnkgdGV4dCBub2Rlcy5cbiAgICAgICAqL1xuICAgICAgdm5vZGVfZW5zdXJlVGV4dEluZmxhdGVkKGpvdXJuYWwsIHZOb2RlKTtcbiAgICAgIGNoaWxkTm9kZXMucHVzaChpc1ZOb2RlID8gdk5vZGUgOiB2bm9kZV9nZXROb2RlKHZOb2RlKSEpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpc1ZOb2RlXG4gICAgICAgID8gdm5vZGVfZ2V0RE9NQ2hpbGROb2Rlcyhqb3VybmFsLCB2Tm9kZSwgdHJ1ZSwgY2hpbGROb2RlcyBhcyAoRWxlbWVudFZOb2RlIHwgVGV4dFZOb2RlKVtdKVxuICAgICAgICA6IHZub2RlX2dldERPTUNoaWxkTm9kZXMoam91cm5hbCwgdk5vZGUsIGZhbHNlLCBjaGlsZE5vZGVzIGFzIChFbGVtZW50IHwgVGV4dClbXSk7XG4gICAgfVxuICAgIHZOb2RlID0gdm5vZGVfZ2V0TmV4dFNpYmxpbmcodk5vZGUpO1xuICB9XG4gIHJldHVybiBjaGlsZE5vZGVzO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIHByZXZpb3VzL25leHQgc2libGluZyBidXQgZnJvbSB0aGUgcG9pbnQgb2YgdmlldyBvZiB0aGUgRE9NLlxuICpcbiAqIEdpdmVuOlxuICpcbiAqIGBgYFxuICogPGRpdj5cbiAqICAgPD5hPC8+XG4gKiAgIDw+XG4gKiAgICAgPD48Lz5cbiAqICAgICA8PmI8Lz5cbiAqICAgICA8PjwvPlxuICogICA8Lz5cbiAqICAgPD5jPC8+XG4gKiA8L2Rpdj5cbiAqIGBgYFxuICpcbiAqIFRoZW46XG4gKlxuICogLSBOZXh0OiBpZiB3ZSBzdGFydCBhdCBgYWAgdGhlIG5leHQgRE9NIHNpYmxpbmcgaXMgYGJgLCB0aGFuIGBjYC5cbiAqIC0gUHJldmlvdXM6IGlmIHdlIHN0YXJ0IGF0IGBjYCB0aGUgbmV4dCBET00gc2libGluZyBpcyBgYmAsIHRoYW4gYGFgLlxuICpcbiAqIEBwYXJhbSB2Tm9kZSAtIFN0YXJ0aW5nIG5vZGVcbiAqIEBwYXJhbSBuZXh0RGlyZWN0aW9uIC0gRGlyZWN0aW9uIHRvIHNlYXJjaCB0cnVlPW5leHQsIGZhbHNlPXByZXZpb3VzXG4gKiBAcGFyYW0gZGVzY2VuZCAtIElmIHRydWUsIHRoYW4gd2Ugd2lsbCBkZXNjZW5kIGludG8gdGhlIGNoaWxkcmVuIGZpcnN0LlxuICogQHJldHVybnNcbiAqL1xuY29uc3Qgdm5vZGVfZ2V0RG9tU2libGluZyA9IChcbiAgdk5vZGU6IFZOb2RlLFxuICBuZXh0RGlyZWN0aW9uOiBib29sZWFuLFxuICBkZXNjZW5kOiBib29sZWFuXG4pOiBWTm9kZSB8IG51bGwgPT4ge1xuICBjb25zdCBjaGlsZFByb3AgPSBuZXh0RGlyZWN0aW9uID8gVmlydHVhbFZOb2RlUHJvcHMuZmlyc3RDaGlsZCA6IFZpcnR1YWxWTm9kZVByb3BzLmxhc3RDaGlsZDtcbiAgY29uc3Qgc2libGluZ1Byb3AgPSBuZXh0RGlyZWN0aW9uID8gVk5vZGVQcm9wcy5uZXh0U2libGluZyA6IFZOb2RlUHJvcHMucHJldmlvdXNTaWJsaW5nO1xuICBsZXQgY3Vyc29yOiBWTm9kZSB8IG51bGwgPSB2Tm9kZTtcbiAgLy8gZmlyc3QgbWFrZSBzdXJlIHdlIGhhdmUgYSBET00gbm9kZSBvciBubyBjaGlsZHJlbi5cbiAgd2hpbGUgKGRlc2NlbmQgJiYgY3Vyc29yICYmIHZub2RlX2lzVmlydHVhbFZOb2RlKGN1cnNvcikpIHtcbiAgICBjb25zdCBjaGlsZDogVk5vZGUgfCBudWxsID0gY3Vyc29yW2NoaWxkUHJvcF07XG4gICAgaWYgKCFjaGlsZCkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGlmIChjaGlsZFtWTm9kZVByb3BzLmZsYWdzXSAmIFZOb2RlRmxhZ3MuRUxFTUVOVF9PUl9URVhUX01BU0spIHtcbiAgICAgIHJldHVybiBjaGlsZDtcbiAgICB9XG4gICAgY3Vyc29yID0gY2hpbGQ7XG4gIH1cbiAgd2hpbGUgKGN1cnNvcikge1xuICAgIC8vIExvb2sgYXQgdGhlIHByZXZpb3VzL25leHQgc2libGluZy5cbiAgICBsZXQgc2libGluZzogVk5vZGUgfCBudWxsID0gY3Vyc29yW3NpYmxpbmdQcm9wXTtcbiAgICBpZiAoc2libGluZyAmJiBzaWJsaW5nW1ZOb2RlUHJvcHMuZmxhZ3NdICYgVk5vZGVGbGFncy5FTEVNRU5UX09SX1RFWFRfTUFTSykge1xuICAgICAgLy8gd2UgZm91bmQgYSBwcmV2aW91cy9uZXh0IERPTSBub2RlLCByZXR1cm4gaXQuXG4gICAgICByZXR1cm4gc2libGluZztcbiAgICB9IGVsc2UgaWYgKCFzaWJsaW5nKSB7XG4gICAgICAvLyBJZiB3ZSBkb24ndCBoYXZlIGEgc2libGluZyB0aGFuIHdhbGsgdXAgdGhlIHRyZWUgdW50aWwgeW91IGZpbmQgb25lLlxuICAgICAgbGV0IHZpcnR1YWw6IFZOb2RlIHwgbnVsbCA9IGN1cnNvcltWTm9kZVByb3BzLnBhcmVudF07XG4gICAgICBpZiAodmlydHVhbCAmJiAhdm5vZGVfaXNWaXJ0dWFsVk5vZGUodmlydHVhbCkpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICB3aGlsZSAodmlydHVhbCAmJiAhKHNpYmxpbmcgPSB2aXJ0dWFsW3NpYmxpbmdQcm9wXSkpIHtcbiAgICAgICAgdmlydHVhbCA9IHZpcnR1YWxbVk5vZGVQcm9wcy5wYXJlbnRdO1xuXG4gICAgICAgIGlmICh2aXJ0dWFsICYmICF2bm9kZV9pc1ZpcnR1YWxWTm9kZSh2aXJ0dWFsKSkge1xuICAgICAgICAgIC8vIHRoZSBwYXJlbnQgbm9kZSBpcyBub3QgdmlydHVhbCwgc28gd2UgYXJlIGRvbmUgaGVyZS5cbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCFzaWJsaW5nKSB7XG4gICAgICAgIC8vIElmIHdlIGRpZCBub3QgZmluZCBhIHNpYmxpbmcsIHRoYW4gd2UgYXJlIGRvbmUuXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgaWYgKHZub2RlX2lzVGV4dFZOb2RlKHNpYmxpbmcpICYmIHZpcnR1YWwgJiYgdm5vZGVfaXNFbGVtZW50Vk5vZGUodmlydHVhbCkpIHtcbiAgICAgICAgLy8gc2libGluZyB0byB0aGUgcmVhbCBlbGVtZW50IGlzIGEgdGV4dCBub2RlLCB0aGlzIGlzIG5vdCBhIHNpYmxpbmdcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIEF0IHRoaXMgcG9pbnQgYHNpYmxpbmdgIGlzIGEgbmV4dCBub2RlIHRvIGxvb2sgYXQuXG4gICAgLy8gTmV4dCBzdGVwIGlzIHRvIGRlc2NlbmQgdW50aWwgd2UgZmluZCBhIERPTSBkb25lLlxuICAgIHdoaWxlIChzaWJsaW5nKSB7XG4gICAgICBjdXJzb3IgPSBzaWJsaW5nO1xuICAgICAgaWYgKGN1cnNvcltWTm9kZVByb3BzLmZsYWdzXSAmIFZOb2RlRmxhZ3MuRUxFTUVOVF9PUl9URVhUX01BU0sgJiYgdm5vZGVfZ2V0Tm9kZShjdXJzb3IpKSB7XG4gICAgICAgIC8vIHdlIGhhdmUgdG8gY2hlY2sgdGhhdCB3ZSBhY3R1YWxseSBoYXZlIGEgbm9kZSwgYmVjYXVzZSBpdCBjb3VsZCBiZSBhIHRleHQgbm9kZSB3aGljaCBpc1xuICAgICAgICAvLyB6ZXJvIGxlbmd0aCBhbmQgd2hpY2ggZG9lcyBub3QgaGF2ZSBhIHJlcHJlc2VudGF0aW9uIGluIHRoZSBET00uXG4gICAgICAgIHJldHVybiBjdXJzb3I7XG4gICAgICB9XG4gICAgICBzaWJsaW5nID0gKGN1cnNvciBhcyBWaXJ0dWFsVk5vZGUpW2NoaWxkUHJvcF07XG4gICAgfVxuICAgIC8vIElmIHdlIGFyZSBoZXJlIHdlIGRpZCBub3QgZmluZCBhbnl0aGluZyBhbmQgd2UgbmVlZCB0byBnbyB1cCB0aGUgdHJlZSBhZ2Fpbi5cbiAgfVxuICByZXR1cm4gbnVsbDtcbn07XG5cbmNvbnN0IHZub2RlX2Vuc3VyZUluZmxhdGVkSWZUZXh0ID0gKGpvdXJuYWw6IFZOb2RlSm91cm5hbCwgdk5vZGU6IFZOb2RlKTogdm9pZCA9PiB7XG4gIGlmICh2bm9kZV9pc1RleHRWTm9kZSh2Tm9kZSkpIHtcbiAgICB2bm9kZV9lbnN1cmVUZXh0SW5mbGF0ZWQoam91cm5hbCwgdk5vZGUpO1xuICB9XG59O1xuXG5jb25zdCB2bm9kZV9lbnN1cmVUZXh0SW5mbGF0ZWQgPSAoam91cm5hbDogVk5vZGVKb3VybmFsLCB2bm9kZTogVGV4dFZOb2RlKSA9PiB7XG4gIGNvbnN0IHRleHRWTm9kZSA9IGVuc3VyZVRleHRWTm9kZSh2bm9kZSk7XG4gIGNvbnN0IGZsYWdzID0gdGV4dFZOb2RlW1ZOb2RlUHJvcHMuZmxhZ3NdO1xuICBpZiAoKGZsYWdzICYgVk5vZGVGbGFncy5JbmZsYXRlZCkgPT09IDApIHtcbiAgICBjb25zdCBwYXJlbnROb2RlID0gdm5vZGVfZ2V0RG9tUGFyZW50KHZub2RlKSE7XG4gICAgY29uc3Qgc2hhcmVkVGV4dE5vZGUgPSB0ZXh0Vk5vZGVbVGV4dFZOb2RlUHJvcHMubm9kZV0gYXMgVGV4dDtcbiAgICBjb25zdCBkb2MgPSBwYXJlbnROb2RlLm93bmVyRG9jdW1lbnQ7XG4gICAgLy8gV2FsayB0aGUgcHJldmlvdXMgc2libGluZ3MgYW5kIGluZmxhdGUgdGhlbS5cbiAgICBsZXQgY3Vyc29yID0gdm5vZGVfZ2V0RG9tU2libGluZyh2bm9kZSwgZmFsc2UsIHRydWUpO1xuICAgIC8vIElmIHRleHQgbm9kZSBpcyAwIGxlbmd0aCwgdGhhbiB0aGVyZSBpcyBubyB0ZXh0IG5vZGUuXG4gICAgLy8gSW4gdGhhdCBjYXNlIHdlIHVzZSB0aGUgbmV4dCBub2RlIGFzIGEgcmVmZXJlbmNlLCBpbiB3aGljaFxuICAgIC8vIGNhc2Ugd2Uga25vdyB0aGF0IHRoZSBuZXh0IG5vZGUgTVVTVCBiZSBlaXRoZXIgTlVMTCBvciBhbiBFbGVtZW50LlxuICAgIGNvbnN0IGluc2VydEJlZm9yZU5vZGU6IEVsZW1lbnQgfCBUZXh0IHwgbnVsbCA9XG4gICAgICBzaGFyZWRUZXh0Tm9kZSB8fFxuICAgICAgKCh2bm9kZV9nZXREb21TaWJsaW5nKHZub2RlLCB0cnVlLCB0cnVlKT8uW0VsZW1lbnRWTm9kZVByb3BzLmVsZW1lbnRdIHx8IG51bGwpIGFzXG4gICAgICAgIHwgRWxlbWVudFxuICAgICAgICB8IFRleHRcbiAgICAgICAgfCBudWxsKTtcblxuICAgIGxldCBsYXN0UHJldmlvdXNUZXh0Tm9kZSA9IGluc2VydEJlZm9yZU5vZGU7XG4gICAgd2hpbGUgKGN1cnNvciAmJiB2bm9kZV9pc1RleHRWTm9kZShjdXJzb3IpKSB7XG4gICAgICBpZiAoKGN1cnNvcltWTm9kZVByb3BzLmZsYWdzXSAmIFZOb2RlRmxhZ3MuSW5mbGF0ZWQpID09PSAwKSB7XG4gICAgICAgIGNvbnN0IHRleHROb2RlID0gZG9jLmNyZWF0ZVRleHROb2RlKGN1cnNvcltUZXh0Vk5vZGVQcm9wcy50ZXh0XSk7XG4gICAgICAgIGpvdXJuYWwucHVzaChWTm9kZUpvdXJuYWxPcENvZGUuSW5zZXJ0LCBwYXJlbnROb2RlLCBsYXN0UHJldmlvdXNUZXh0Tm9kZSwgdGV4dE5vZGUpO1xuICAgICAgICBsYXN0UHJldmlvdXNUZXh0Tm9kZSA9IHRleHROb2RlO1xuICAgICAgICBjdXJzb3JbVGV4dFZOb2RlUHJvcHMubm9kZV0gPSB0ZXh0Tm9kZTtcbiAgICAgICAgY3Vyc29yW1ZOb2RlUHJvcHMuZmxhZ3NdIHw9IFZOb2RlRmxhZ3MuSW5mbGF0ZWQ7XG4gICAgICB9XG4gICAgICBjdXJzb3IgPSB2bm9kZV9nZXREb21TaWJsaW5nKGN1cnNvciwgZmFsc2UsIHRydWUpO1xuICAgIH1cbiAgICAvLyBXYWxrIHRoZSBuZXh0IHNpYmxpbmdzIGFuZCBpbmZsYXRlIHRoZW0uXG4gICAgY3Vyc29yID0gdm5vZGU7XG4gICAgd2hpbGUgKGN1cnNvciAmJiB2bm9kZV9pc1RleHRWTm9kZShjdXJzb3IpKSB7XG4gICAgICBjb25zdCBuZXh0ID0gdm5vZGVfZ2V0RG9tU2libGluZyhjdXJzb3IsIHRydWUsIHRydWUpO1xuICAgICAgY29uc3QgaXNMYXN0Tm9kZSA9IG5leHQgPyAhdm5vZGVfaXNUZXh0Vk5vZGUobmV4dCkgOiB0cnVlO1xuICAgICAgaWYgKChjdXJzb3JbVk5vZGVQcm9wcy5mbGFnc10gJiBWTm9kZUZsYWdzLkluZmxhdGVkKSA9PT0gMCkge1xuICAgICAgICBpZiAoaXNMYXN0Tm9kZSAmJiBzaGFyZWRUZXh0Tm9kZSkge1xuICAgICAgICAgIGpvdXJuYWwucHVzaChWTm9kZUpvdXJuYWxPcENvZGUuU2V0VGV4dCwgc2hhcmVkVGV4dE5vZGUsIGN1cnNvcltUZXh0Vk5vZGVQcm9wcy50ZXh0XSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgdGV4dE5vZGUgPSBkb2MuY3JlYXRlVGV4dE5vZGUoY3Vyc29yW1RleHRWTm9kZVByb3BzLnRleHRdKTtcbiAgICAgICAgICBqb3VybmFsLnB1c2goVk5vZGVKb3VybmFsT3BDb2RlLkluc2VydCwgcGFyZW50Tm9kZSwgaW5zZXJ0QmVmb3JlTm9kZSwgdGV4dE5vZGUpO1xuICAgICAgICAgIGN1cnNvcltUZXh0Vk5vZGVQcm9wcy5ub2RlXSA9IHRleHROb2RlO1xuICAgICAgICB9XG4gICAgICAgIGN1cnNvcltWTm9kZVByb3BzLmZsYWdzXSB8PSBWTm9kZUZsYWdzLkluZmxhdGVkO1xuICAgICAgfVxuICAgICAgY3Vyc29yID0gbmV4dDtcbiAgICB9XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCB2bm9kZV9sb2NhdGUgPSAocm9vdFZOb2RlOiBFbGVtZW50Vk5vZGUsIGlkOiBzdHJpbmcgfCBFbGVtZW50KTogVk5vZGUgPT4ge1xuICBlbnN1cmVFbGVtZW50Vk5vZGUocm9vdFZOb2RlKTtcbiAgbGV0IHZOb2RlOiBWTm9kZSB8IEVsZW1lbnQgPSByb290Vk5vZGU7XG4gIGNvbnN0IGNvbnRhaW5lckVsZW1lbnQgPSByb290Vk5vZGVbRWxlbWVudFZOb2RlUHJvcHMuZWxlbWVudF0gYXMgQ29udGFpbmVyRWxlbWVudDtcbiAgY29uc3QgeyBxVk5vZGVSZWZzIH0gPSBjb250YWluZXJFbGVtZW50O1xuICBsZXQgZWxlbWVudE9mZnNldDogbnVtYmVyID0gLTE7XG4gIGxldCByZWZFbGVtZW50OiBFbGVtZW50IHwgVk5vZGU7XG4gIGlmICh0eXBlb2YgaWQgPT09ICdzdHJpbmcnKSB7XG4gICAgYXNzZXJ0RGVmaW5lZChxVk5vZGVSZWZzLCAnTWlzc2luZyBxVk5vZGVSZWZzLicpO1xuICAgIGVsZW1lbnRPZmZzZXQgPSBwYXJzZUludChpZCk7XG4gICAgcmVmRWxlbWVudCA9IHFWTm9kZVJlZnMuZ2V0KGVsZW1lbnRPZmZzZXQpITtcbiAgfSBlbHNlIHtcbiAgICByZWZFbGVtZW50ID0gaWQ7XG4gIH1cbiAgYXNzZXJ0RGVmaW5lZChyZWZFbGVtZW50LCAnTWlzc2luZyByZWZFbGVtZW50LicpO1xuICBpZiAoIXZub2RlX2lzVk5vZGUocmVmRWxlbWVudCkpIHtcbiAgICBhc3NlcnRUcnVlKFxuICAgICAgY29udGFpbmVyRWxlbWVudC5jb250YWlucyhyZWZFbGVtZW50KSxcbiAgICAgIGBDb3VsZG4ndCBmaW5kIHRoZSBlbGVtZW50IGluc2lkZSB0aGUgY29udGFpbmVyIHdoaWxlIGxvY2F0aW5nIHRoZSBWTm9kZS5gXG4gICAgKTtcbiAgICAvLyBXZSBuZWVkIHRvIGZpbmQgdGhlIHZub2RlLlxuICAgIGxldCBwYXJlbnQgPSByZWZFbGVtZW50O1xuICAgIGNvbnN0IGVsZW1lbnRQYXRoOiBFbGVtZW50W10gPSBbcmVmRWxlbWVudF07XG4gICAgd2hpbGUgKHBhcmVudCAmJiBwYXJlbnQgIT09IGNvbnRhaW5lckVsZW1lbnQpIHtcbiAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnRFbGVtZW50ITtcbiAgICAgIGVsZW1lbnRQYXRoLnB1c2gocGFyZW50KTtcbiAgICB9XG4gICAgLy8gU3RhcnQgYXQgcm9vdFZOb2RlIGFuZCBmb2xsb3cgdGhlIGBlbGVtZW50UGF0aGAgdG8gZmluZCB0aGUgdm5vZGUuXG4gICAgZm9yIChsZXQgaSA9IGVsZW1lbnRQYXRoLmxlbmd0aCAtIDI7IGkgPj0gMDsgaS0tKSB7XG4gICAgICB2Tm9kZSA9IHZub2RlX2dldFZOb2RlRm9yQ2hpbGROb2RlKHZOb2RlLCBlbGVtZW50UGF0aFtpXSk7XG4gICAgfVxuICAgIGVsZW1lbnRPZmZzZXQgIT0gLTEgJiYgcVZOb2RlUmVmcyEuc2V0KGVsZW1lbnRPZmZzZXQsIHZOb2RlKTtcbiAgfSBlbHNlIHtcbiAgICB2Tm9kZSA9IHJlZkVsZW1lbnQ7XG4gIH1cbiAgaWYgKHR5cGVvZiBpZCA9PT0gJ3N0cmluZycpIHtcbiAgICAvLyBwcm9jZXNzIHZpcnR1YWwgbm9kZSBzZWFyY2guXG4gICAgY29uc3QgaWRMZW5ndGggPSBpZC5sZW5ndGg7XG4gICAgbGV0IGlkeCA9IGluZGV4T2ZBbHBoYW51bWVyaWMoaWQsIGlkTGVuZ3RoKTtcbiAgICBsZXQgY2hpbGRJZHggPSAwO1xuICAgIHdoaWxlIChpZHggPCBpZExlbmd0aCkge1xuICAgICAgY29uc3QgY2ggPSBpZC5jaGFyQ29kZUF0KGlkeCk7XG4gICAgICBjaGlsZElkeCAqPSAyNiAvKiBhLXogKi87XG4gICAgICBpZiAoY2ggPj0gOTcgLyogYSAqLykge1xuICAgICAgICAvLyBpcyBsb3dlcmNhc2VcbiAgICAgICAgY2hpbGRJZHggKz0gY2ggLSA5NyAvKiBhICovO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gaXMgdXBwZXJjYXNlXG4gICAgICAgIGNoaWxkSWR4ICs9IGNoIC0gNjUgLyogQSAqLztcbiAgICAgICAgdk5vZGUgPSB2bm9kZV9nZXRDaGlsZFdpdGhJZHgodk5vZGUsIGNoaWxkSWR4KTtcbiAgICAgICAgY2hpbGRJZHggPSAwO1xuICAgICAgfVxuICAgICAgaWR4Kys7XG4gICAgfVxuICB9XG4gIHJldHVybiB2Tm9kZTtcbn07XG5cbmNvbnN0IHZub2RlX2dldENoaWxkV2l0aElkeCA9ICh2Tm9kZTogVk5vZGUsIGNoaWxkSWR4OiBudW1iZXIpOiBWTm9kZSA9PiB7XG4gIGxldCBjaGlsZCA9IHZub2RlX2dldEZpcnN0Q2hpbGQodk5vZGUpO1xuICBhc3NlcnREZWZpbmVkKGNoaWxkLCAnTWlzc2luZyBjaGlsZC4nKTtcbiAgd2hpbGUgKGNoaWxkW1ZOb2RlUHJvcHMuZmxhZ3NdID4+PiBWTm9kZUZsYWdzSW5kZXguc2hpZnQgIT09IGNoaWxkSWR4KSB7XG4gICAgY2hpbGQgPSB2bm9kZV9nZXROZXh0U2libGluZyhjaGlsZCk7XG4gICAgYXNzZXJ0RGVmaW5lZChjaGlsZCwgJ01pc3NpbmcgY2hpbGQuJyk7XG4gIH1cbiAgcmV0dXJuIGNoaWxkO1xufTtcblxuY29uc3Qgdk5vZGVTdGFjazogVk5vZGVbXSA9IFtdO1xuZXhwb3J0IGNvbnN0IHZub2RlX2dldFZOb2RlRm9yQ2hpbGROb2RlID0gKFxuICB2Tm9kZTogRWxlbWVudFZOb2RlLFxuICBjaGlsZEVsZW1lbnQ6IEVsZW1lbnRcbik6IEVsZW1lbnRWTm9kZSA9PiB7XG4gIGVuc3VyZUVsZW1lbnRWTm9kZSh2Tm9kZSk7XG4gIGxldCBjaGlsZCA9IHZub2RlX2dldEZpcnN0Q2hpbGQodk5vZGUpO1xuICBhc3NlcnREZWZpbmVkKGNoaWxkLCAnTWlzc2luZyBjaGlsZC4nKTtcbiAgLy8gY29uc29sZS5sb2coXG4gIC8vICAgJ1NFQVJDSElORycsXG4gIC8vICAgY2hpbGRbVk5vZGVQcm9wcy5mbGFnc10sXG4gIC8vICAgY2hpbGRbVk5vZGVQcm9wcy5ub2RlXT8ub3V0ZXJIVE1MLFxuICAvLyAgIGNoaWxkTm9kZS5vdXRlckhUTUxcbiAgLy8gKTtcbiAgd2hpbGUgKGNoaWxkICYmIGNoaWxkW0VsZW1lbnRWTm9kZVByb3BzLmVsZW1lbnRdICE9PSBjaGlsZEVsZW1lbnQpIHtcbiAgICAvLyBjb25zb2xlLmxvZygnQ0hJTEQnLCBjaGlsZFtWTm9kZVByb3BzLm5vZGVdPy5vdXRlckhUTUwsIGNoaWxkTm9kZS5vdXRlckhUTUwpO1xuICAgIGlmICh2bm9kZV9pc1ZpcnR1YWxWTm9kZShjaGlsZCkpIHtcbiAgICAgIGNvbnN0IG5leHQgPSB2bm9kZV9nZXROZXh0U2libGluZyhjaGlsZCk7XG4gICAgICBjb25zdCBmaXJzdENoaWxkID0gdm5vZGVfZ2V0Rmlyc3RDaGlsZChjaGlsZCk7XG4gICAgICBpZiAoZmlyc3RDaGlsZCkge1xuICAgICAgICBuZXh0ICYmIHZOb2RlU3RhY2sucHVzaChuZXh0KTtcbiAgICAgICAgY2hpbGQgPSBmaXJzdENoaWxkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2hpbGQgPSBuZXh0IHx8ICh2Tm9kZVN0YWNrLmxlbmd0aCA/IHZOb2RlU3RhY2sucG9wKCkhIDogbnVsbCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IG5leHQgPSB2bm9kZV9nZXROZXh0U2libGluZyhjaGlsZCk7XG4gICAgICBpZiAobmV4dCkge1xuICAgICAgICBjaGlsZCA9IG5leHQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjaGlsZCA9IG5leHQgfHwgdk5vZGVTdGFjay5wb3AoKSE7XG4gICAgICB9XG4gICAgfVxuICAgIGFzc2VydERlZmluZWQoY2hpbGQsICdNaXNzaW5nIGNoaWxkLicpO1xuICB9XG4gIHdoaWxlICh2Tm9kZVN0YWNrLmxlbmd0aCkge1xuICAgIHZOb2RlU3RhY2sucG9wKCk7XG4gIH1cbiAgZW5zdXJlRWxlbWVudFZOb2RlKGNoaWxkKTtcbiAgYXNzZXJ0RXF1YWwoY2hpbGRbRWxlbWVudFZOb2RlUHJvcHMuZWxlbWVudF0sIGNoaWxkRWxlbWVudCwgJ0NoaWxkIG5vdCBmb3VuZC4nKTtcbiAgLy8gY29uc29sZS5sb2coJ0ZPVU5EJywgY2hpbGRbVk5vZGVQcm9wcy5ub2RlXT8ub3V0ZXJIVE1MKTtcbiAgcmV0dXJuIGNoaWxkIGFzIEVsZW1lbnRWTm9kZTtcbn07XG5cbmNvbnN0IGluZGV4T2ZBbHBoYW51bWVyaWMgPSAoaWQ6IHN0cmluZywgbGVuZ3RoOiBudW1iZXIpOiBudW1iZXIgPT4ge1xuICBsZXQgaWR4ID0gMDtcbiAgd2hpbGUgKGlkeCA8IGxlbmd0aCkge1xuICAgIGlmIChpZC5jaGFyQ29kZUF0KGlkeCkgPD0gNTcgLyogOSAqLykge1xuICAgICAgaWR4Kys7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBpZHg7XG4gICAgfVxuICB9XG4gIHJldHVybiBsZW5ndGg7XG59O1xuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuZXhwb3J0IGNvbnN0IHZub2RlX2pvdXJuYWxUb1N0cmluZyA9IChqb3VybmFsOiBWTm9kZUpvdXJuYWwpOiBzdHJpbmcgPT4ge1xuICBjb25zdCBsaW5lcyA9IFsnSk9VUk5BTDonXTtcbiAgbGV0IGlkeCA9IDA7XG4gIGNvbnN0IGxlbmd0aCA9IGpvdXJuYWwubGVuZ3RoO1xuXG4gIGZ1bmN0aW9uIHN0cmluZ2lmeSguLi5hcmdzOiBhbnlbXSkge1xuICAgIGxpbmVzLnB1c2goXG4gICAgICAnICAnICtcbiAgICAgICAgYXJnc1xuICAgICAgICAgIC5tYXAoKGFyZykgPT4ge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBhcmcgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgIHJldHVybiBhcmc7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGFyZyAmJiBpc0h0bWxFbGVtZW50KGFyZykpIHtcbiAgICAgICAgICAgICAgY29uc3QgaHRtbCA9IGFyZy5vdXRlckhUTUw7XG4gICAgICAgICAgICAgIGNvbnN0IGlkeCA9IGh0bWwuaW5kZXhPZignPicpO1xuICAgICAgICAgICAgICByZXR1cm4gJ1xcbiAgICAnICsgKGlkeCA+IDAgPyBodG1sLnN1YnN0cmluZygwLCBpZHggKyAxKSA6IGh0bWwpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChhcmcgJiYgaXNUZXh0KGFyZykpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGFyZy5ub2RlVmFsdWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIFN0cmluZyhhcmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgICAgLmpvaW4oJyAnKVxuICAgICk7XG4gIH1cblxuICB3aGlsZSAoaWR4IDwgbGVuZ3RoKSB7XG4gICAgY29uc3Qgb3AgPSBqb3VybmFsW2lkeCsrXSBhcyBWTm9kZUpvdXJuYWxPcENvZGU7XG4gICAgc3dpdGNoIChvcCkge1xuICAgICAgY2FzZSBWTm9kZUpvdXJuYWxPcENvZGUuU2V0VGV4dDpcbiAgICAgICAgc3RyaW5naWZ5KCdTZXRUZXh0Jywgam91cm5hbFtpZHgrK10sIGpvdXJuYWxbaWR4KytdKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFZOb2RlSm91cm5hbE9wQ29kZS5TZXRBdHRyaWJ1dGU6XG4gICAgICAgIHN0cmluZ2lmeSgnU2V0QXR0cmlidXRlJywgam91cm5hbFtpZHgrK10sIGpvdXJuYWxbaWR4KytdLCBqb3VybmFsW2lkeCsrXSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBWTm9kZUpvdXJuYWxPcENvZGUuSG9pc3RTdHlsZXM6XG4gICAgICAgIHN0cmluZ2lmeSgnSG9pc3RTdHlsZXMnKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFZOb2RlSm91cm5hbE9wQ29kZS5SZW1vdmU6XG4gICAgICAgIHN0cmluZ2lmeSgnUmVtb3ZlJywgam91cm5hbFtpZHgrK10pO1xuICAgICAgICBsZXQgbm9kZVRvUmVtb3ZlOiBhbnk7XG4gICAgICAgIHdoaWxlIChpZHggPCBsZW5ndGggJiYgdHlwZW9mIChub2RlVG9SZW1vdmUgPSBqb3VybmFsW2lkeF0pICE9PSAnbnVtYmVyJykge1xuICAgICAgICAgIHN0cmluZ2lmeSgnICAnLCBub2RlVG9SZW1vdmUpO1xuICAgICAgICAgIGlkeCsrO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBWTm9kZUpvdXJuYWxPcENvZGUuSW5zZXJ0OlxuICAgICAgICBzdHJpbmdpZnkoJ0luc2VydCcsIGpvdXJuYWxbaWR4KytdLCBqb3VybmFsW2lkeCsrXSk7XG4gICAgICAgIGxldCBuZXdDaGlsZDogYW55O1xuICAgICAgICB3aGlsZSAoaWR4IDwgbGVuZ3RoICYmIHR5cGVvZiAobmV3Q2hpbGQgPSBqb3VybmFsW2lkeF0pICE9PSAnbnVtYmVyJykge1xuICAgICAgICAgIHN0cmluZ2lmeSgnICAnLCBuZXdDaGlsZCk7XG4gICAgICAgICAgaWR4Kys7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIGxpbmVzLnB1c2goJ0VORCBKT1VSTkFMJyk7XG4gIHJldHVybiBsaW5lcy5qb2luKCdcXG4nKTtcbn07XG5cbmNvbnN0IHBhcnNlQm9vbGVhbiA9ICh2YWx1ZTogc3RyaW5nIHwgYm9vbGVhbiB8IG51bGwpOiBib29sZWFuID0+IHtcbiAgaWYgKHZhbHVlID09PSAnZmFsc2UnKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiBCb29sZWFuKHZhbHVlKTtcbn07XG5cbmNvbnN0IGlzQm9vbGVhbkF0dHIgPSAoZWxlbWVudDogRWxlbWVudCwga2V5OiBzdHJpbmcpOiBib29sZWFuID0+IHtcbiAgY29uc3QgaXNCb29sZWFuID1cbiAgICBrZXkgPT0gJ2FsbG93ZnVsbHNjcmVlbicgfHxcbiAgICBrZXkgPT0gJ2FzeW5jJyB8fFxuICAgIGtleSA9PSAnYXV0b2ZvY3VzJyB8fFxuICAgIGtleSA9PSAnYXV0b3BsYXknIHx8XG4gICAga2V5ID09ICdjaGVja2VkJyB8fFxuICAgIGtleSA9PSAnY29udHJvbHMnIHx8XG4gICAga2V5ID09ICdkZWZhdWx0JyB8fFxuICAgIGtleSA9PSAnZGVmZXInIHx8XG4gICAga2V5ID09ICdkaXNhYmxlZCcgfHxcbiAgICBrZXkgPT0gJ2Zvcm1ub3ZhbGlkYXRlJyB8fFxuICAgIGtleSA9PSAnaW5lcnQnIHx8XG4gICAga2V5ID09ICdpc21hcCcgfHxcbiAgICBrZXkgPT0gJ2l0ZW1zY29wZScgfHxcbiAgICBrZXkgPT0gJ2xvb3AnIHx8XG4gICAga2V5ID09ICdtdWx0aXBsZScgfHxcbiAgICBrZXkgPT0gJ211dGVkJyB8fFxuICAgIGtleSA9PSAnbm9tb2R1bGUnIHx8XG4gICAga2V5ID09ICdub3ZhbGlkYXRlJyB8fFxuICAgIGtleSA9PSAnb3BlbicgfHxcbiAgICBrZXkgPT0gJ3BsYXlzaW5saW5lJyB8fFxuICAgIGtleSA9PSAncmVhZG9ubHknIHx8XG4gICAga2V5ID09ICdyZXF1aXJlZCcgfHxcbiAgICBrZXkgPT0gJ3JldmVyc2VkJyB8fFxuICAgIGtleSA9PSAnc2VsZWN0ZWQnO1xuICByZXR1cm4gaXNCb29sZWFuICYmIGtleSBpbiBlbGVtZW50O1xufTtcblxuZXhwb3J0IGNvbnN0IHZub2RlX2FwcGx5Sm91cm5hbCA9IChqb3VybmFsOiBWTm9kZUpvdXJuYWwpID0+IHtcbiAgLy8gY29uc29sZS5sb2coJ0FQUExZIEpPVVJOQUwnLCB2bm9kZV9qb3VybmFsVG9TdHJpbmcoam91cm5hbCkpO1xuICBsZXQgaWR4ID0gMDtcbiAgY29uc3QgbGVuZ3RoID0gam91cm5hbC5sZW5ndGg7XG4gIHdoaWxlIChpZHggPCBsZW5ndGgpIHtcbiAgICBjb25zdCBvcCA9IGpvdXJuYWxbaWR4KytdIGFzIFZOb2RlSm91cm5hbE9wQ29kZTtcbiAgICBzd2l0Y2ggKG9wKSB7XG4gICAgICBjYXNlIFZOb2RlSm91cm5hbE9wQ29kZS5TZXRUZXh0OlxuICAgICAgICBjb25zdCB0ZXh0ID0gam91cm5hbFtpZHgrK10gYXMgVGV4dDtcbiAgICAgICAgdGV4dC5ub2RlVmFsdWUgPSBqb3VybmFsW2lkeCsrXSBhcyBzdHJpbmc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBWTm9kZUpvdXJuYWxPcENvZGUuU2V0QXR0cmlidXRlOlxuICAgICAgICBjb25zdCBlbGVtZW50ID0gam91cm5hbFtpZHgrK10gYXMgRWxlbWVudDtcbiAgICAgICAgbGV0IGtleSA9IGpvdXJuYWxbaWR4KytdIGFzIHN0cmluZztcbiAgICAgICAgaWYgKGtleSA9PT0gJ2NsYXNzTmFtZScpIHtcbiAgICAgICAgICBrZXkgPSAnY2xhc3MnO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZhbHVlID0gam91cm5hbFtpZHgrK10gYXMgc3RyaW5nIHwgbnVsbCB8IGJvb2xlYW47XG4gICAgICAgIGlmIChpc0Jvb2xlYW5BdHRyKGVsZW1lbnQsIGtleSkpIHtcbiAgICAgICAgICAoZWxlbWVudCBhcyBhbnkpW2tleV0gPSBwYXJzZUJvb2xlYW4odmFsdWUpO1xuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ3ZhbHVlJyAmJiBrZXkgaW4gZWxlbWVudCkge1xuICAgICAgICAgIChlbGVtZW50IGFzIGFueSkudmFsdWUgPSBlc2NhcGVIVE1MKFN0cmluZyh2YWx1ZSkpO1xuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwpIHtcbiAgICAgICAgICAoZWxlbWVudCBhcyBhbnkpLmlubmVySFRNTCA9IHZhbHVlITtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCB8fCB2YWx1ZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKGtleSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKGtleSwgU3RyaW5nKHZhbHVlKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBWTm9kZUpvdXJuYWxPcENvZGUuSG9pc3RTdHlsZXM6XG4gICAgICAgIGNvbnN0IGRvY3VtZW50ID0gam91cm5hbFtpZHgrK10gYXMgRG9jdW1lbnQ7XG4gICAgICAgIGNvbnN0IGhlYWQgPSBkb2N1bWVudC5oZWFkO1xuICAgICAgICBjb25zdCBzdHlsZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFFTdHlsZXNBbGxTZWxlY3Rvcik7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaGVhZC5hcHBlbmRDaGlsZChzdHlsZXNbaV0pO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBWTm9kZUpvdXJuYWxPcENvZGUuUmVtb3ZlOlxuICAgICAgICBjb25zdCByZW1vdmVQYXJlbnQgPSBqb3VybmFsW2lkeCsrXSBhcyBFbGVtZW50O1xuICAgICAgICBsZXQgbm9kZVRvUmVtb3ZlOiBhbnk7XG4gICAgICAgIHdoaWxlIChpZHggPCBsZW5ndGggJiYgdHlwZW9mIChub2RlVG9SZW1vdmUgPSBqb3VybmFsW2lkeF0pICE9PSAnbnVtYmVyJykge1xuICAgICAgICAgIHJlbW92ZVBhcmVudC5yZW1vdmVDaGlsZChub2RlVG9SZW1vdmUgYXMgRWxlbWVudCB8IFRleHQpO1xuICAgICAgICAgIGlkeCsrO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBWTm9kZUpvdXJuYWxPcENvZGUuSW5zZXJ0OlxuICAgICAgICBjb25zdCBpbnNlcnRQYXJlbnQgPSBqb3VybmFsW2lkeCsrXSBhcyBFbGVtZW50O1xuICAgICAgICBjb25zdCBpbnNlcnRCZWZvcmUgPSBqb3VybmFsW2lkeCsrXSBhcyBFbGVtZW50IHwgVGV4dCB8IG51bGw7XG4gICAgICAgIGxldCBuZXdDaGlsZDogYW55O1xuICAgICAgICB3aGlsZSAoaWR4IDwgbGVuZ3RoICYmIHR5cGVvZiAobmV3Q2hpbGQgPSBqb3VybmFsW2lkeF0pICE9PSAnbnVtYmVyJykge1xuICAgICAgICAgIGluc2VydFBhcmVudC5pbnNlcnRCZWZvcmUobmV3Q2hpbGQsIGluc2VydEJlZm9yZSk7XG4gICAgICAgICAgaWR4Kys7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIGpvdXJuYWwubGVuZ3RoID0gMDtcbn07XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5leHBvcnQgY29uc3QgbWFwQXBwX2ZpbmRJbmR4ID0gPFQ+KFxuICBlbGVtZW50Vk5vZGU6IChUIHwgbnVsbClbXSxcbiAga2V5OiBzdHJpbmcsXG4gIHN0YXJ0OiBudW1iZXJcbik6IG51bWJlciA9PiB7XG4gIGFzc2VydFRydWUoc3RhcnQgJSAyID09PSAwLCAnRXhwZWN0aW5nIGV2ZW4gbnVtYmVyLicpO1xuICBsZXQgYm90dG9tID0gKHN0YXJ0IGFzIG51bWJlcikgPj4gMTtcbiAgbGV0IHRvcCA9IChlbGVtZW50Vk5vZGUubGVuZ3RoIC0gMikgPj4gMTtcbiAgd2hpbGUgKGJvdHRvbSA8PSB0b3ApIHtcbiAgICBjb25zdCBtaWQgPSBib3R0b20gKyAoKHRvcCAtIGJvdHRvbSkgPj4gMSk7XG4gICAgY29uc3QgbWlkS2V5ID0gZWxlbWVudFZOb2RlW21pZCA8PCAxXSBhcyBzdHJpbmc7XG4gICAgaWYgKG1pZEtleSA9PT0ga2V5KSB7XG4gICAgICByZXR1cm4gbWlkIDw8IDE7XG4gICAgfVxuICAgIGlmIChtaWRLZXkgPCBrZXkpIHtcbiAgICAgIGJvdHRvbSA9IG1pZCArIDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRvcCA9IG1pZCAtIDE7XG4gICAgfVxuICB9XG4gIHJldHVybiAoYm90dG9tIDw8IDEpIF4gLTE7XG59O1xuXG5leHBvcnQgY29uc3QgbWFwQXJyYXlfc2V0ID0gPFQ+KFxuICBlbGVtZW50Vk5vZGU6IChUIHwgbnVsbClbXSxcbiAga2V5OiBzdHJpbmcsXG4gIHZhbHVlOiBUIHwgbnVsbCxcbiAgc3RhcnQ6IG51bWJlclxuKSA9PiB7XG4gIGNvbnN0IGluZHggPSBtYXBBcHBfZmluZEluZHgoZWxlbWVudFZOb2RlLCBrZXksIHN0YXJ0KTtcbiAgaWYgKGluZHggPj0gMCkge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICBlbGVtZW50Vk5vZGUuc3BsaWNlKGluZHgsIDIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbGVtZW50Vk5vZGVbaW5keCArIDFdID0gdmFsdWU7XG4gICAgfVxuICB9IGVsc2UgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICBlbGVtZW50Vk5vZGUuc3BsaWNlKGluZHggXiAtMSwgMCwga2V5IGFzIGFueSwgdmFsdWUpO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgbWFwQXBwX3JlbW92ZSA9IDxUPihcbiAgZWxlbWVudFZOb2RlOiAoVCB8IG51bGwpW10sXG4gIGtleTogc3RyaW5nLFxuICBzdGFydDogbnVtYmVyXG4pOiBUIHwgbnVsbCA9PiB7XG4gIGNvbnN0IGluZHggPSBtYXBBcHBfZmluZEluZHgoZWxlbWVudFZOb2RlLCBrZXksIHN0YXJ0KTtcbiAgbGV0IHZhbHVlOiBUIHwgbnVsbCA9IG51bGw7XG4gIGlmIChpbmR4ID49IDApIHtcbiAgICB2YWx1ZSA9IGVsZW1lbnRWTm9kZVtpbmR4ICsgMV07XG4gICAgZWxlbWVudFZOb2RlLnNwbGljZShpbmR4LCAyKTtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgcmV0dXJuIHZhbHVlO1xufTtcblxuZXhwb3J0IGNvbnN0IG1hcEFycmF5X2dldCA9IDxUPihcbiAgZWxlbWVudFZOb2RlOiAoVCB8IG51bGwpW10sXG4gIGtleTogc3RyaW5nLFxuICBzdGFydDogbnVtYmVyXG4pOiBUIHwgbnVsbCA9PiB7XG4gIGNvbnN0IGluZHggPSBtYXBBcHBfZmluZEluZHgoZWxlbWVudFZOb2RlLCBrZXksIHN0YXJ0KTtcbiAgaWYgKGluZHggPj0gMCkge1xuICAgIHJldHVybiBlbGVtZW50Vk5vZGVbaW5keCArIDFdIGFzIFQgfCBudWxsO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59O1xuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuZXhwb3J0IGNvbnN0IHZub2RlX2luc2VydEJlZm9yZSA9IChcbiAgam91cm5hbDogVk5vZGVKb3VybmFsLFxuICBwYXJlbnQ6IEVsZW1lbnRWTm9kZSB8IFZpcnR1YWxWTm9kZSxcbiAgbmV3Q2hpbGQ6IFZOb2RlLFxuICBpbnNlcnRCZWZvcmU6IFZOb2RlIHwgbnVsbFxuKSA9PiB7XG4gIGVuc3VyZUVsZW1lbnRPclZpcnR1YWxWTm9kZShwYXJlbnQpO1xuICBpZiAodm5vZGVfaXNFbGVtZW50Vk5vZGUocGFyZW50KSkge1xuICAgIGVuc3VyZU1hdGVyaWFsaXplZChwYXJlbnQpO1xuICB9XG4gIGxldCBhZGp1c3RlZEluc2VydEJlZm9yZTogVk5vZGUgfCBudWxsID0gbnVsbDtcbiAgaWYgKGluc2VydEJlZm9yZSA9PSBudWxsKSB7XG4gICAgaWYgKHZub2RlX2lzVmlydHVhbFZOb2RlKHBhcmVudCkpIHtcbiAgICAgIC8vIElmIGBpbnNlcnRCZWZvcmVgIGlzIG51bGwsIHRoYW4gd2UgbmVlZCB0byBpbnNlcnQgYXQgdGhlIGVuZCBvZiB0aGUgbGlzdC5cbiAgICAgIC8vIFdlbGwsIG5vdCBxdWl0ZS4gSWYgdGhlIHBhcmVudCBpcyBhIHZpcnR1YWwgbm9kZSwgb3VyIFwibGFzdCBub2RlXCIgaXMgbm90IHRoZSBzYW1lXG4gICAgICAvLyBhcyB0aGUgRE9NIFwibGFzdCBub2RlXCIuIFNvIGluIHRoYXQgY2FzZSB3ZSBuZWVkIHRvIGxvb2sgZm9yIHRoZSBcIm5leHQgbm9kZVwiIGZyb21cbiAgICAgIC8vIG91ciBwYXJlbnQuXG5cbiAgICAgIGFkanVzdGVkSW5zZXJ0QmVmb3JlID0gdm5vZGVfZ2V0RG9tU2libGluZyhwYXJlbnQsIHRydWUsIGZhbHNlKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAodm5vZGVfaXNWaXJ0dWFsVk5vZGUoaW5zZXJ0QmVmb3JlKSkge1xuICAgIC8vIElmIHRoZSBgaW5zZXJ0QmVmb3JlYCBpcyB2aXJ0dWFsLCB0aGFuIHdlIG5lZWQgdG8gZGVzY2VuZCBpbnRvIHRoZSB2aXJ0dWFsIGFuZCBmaW5kIGUgYWN0dWFsXG4gICAgYWRqdXN0ZWRJbnNlcnRCZWZvcmUgPSB2bm9kZV9nZXREb21TaWJsaW5nKGluc2VydEJlZm9yZSwgdHJ1ZSwgdHJ1ZSk7XG4gIH0gZWxzZSB7XG4gICAgYWRqdXN0ZWRJbnNlcnRCZWZvcmUgPSBpbnNlcnRCZWZvcmU7XG4gIH1cbiAgYWRqdXN0ZWRJbnNlcnRCZWZvcmUgJiYgdm5vZGVfZW5zdXJlSW5mbGF0ZWRJZlRleHQoam91cm5hbCwgYWRqdXN0ZWRJbnNlcnRCZWZvcmUpO1xuICAvLyBJZiBgaW5zZXJ0QmVmb3JlYCBpcyBudWxsLCB0aGFuIHdlIG5lZWQgdG8gaW5zZXJ0IGF0IHRoZSBlbmQgb2YgdGhlIGxpc3QuXG4gIC8vIFdlbGwsIG5vdCBxdWl0ZS4gSWYgdGhlIHBhcmVudCBpcyBhIHZpcnR1YWwgbm9kZSwgb3VyIFwibGFzdCBub2RlXCIgaXMgbm90IHRoZSBzYW1lXG4gIC8vIGFzIHRoZSBET00gXCJsYXN0IG5vZGVcIi4gU28gaW4gdGhhdCBjYXNlIHdlIG5lZWQgdG8gbG9vayBmb3IgdGhlIFwibmV4dCBub2RlXCIgZnJvbVxuICAvLyBvdXIgcGFyZW50LlxuICAvLyBjb25zdCBzaG91bGRXZVVzZVBhcmVudFZpcnR1YWwgPSBpbnNlcnRCZWZvcmUgPT0gbnVsbCAmJiB2bm9kZV9pc1ZpcnR1YWxWTm9kZShwYXJlbnQpO1xuICAvLyBjb25zdCBpbnNlcnRCZWZvcmVOb2RlID0gc2hvdWxkV2VVc2VQYXJlbnRWaXJ0dWFsXG4gIC8vICAgPyB2bm9kZV9nZXREb21TaWJsaW5nKHBhcmVudCwgdHJ1ZSlcbiAgLy8gICA6IGluc2VydEJlZm9yZTtcbiAgY29uc3QgZG9tUGFyZW50Vk5vZGUgPSB2bm9kZV9nZXREb21QYXJlbnRWTm9kZShwYXJlbnQpO1xuICBjb25zdCBwYXJlbnROb2RlID0gZG9tUGFyZW50Vk5vZGUgJiYgZG9tUGFyZW50Vk5vZGVbRWxlbWVudFZOb2RlUHJvcHMuZWxlbWVudF07XG4gIGlmIChwYXJlbnROb2RlKSB7XG4gICAgY29uc3QgZG9tQ2hpbGRyZW4gPSB2bm9kZV9nZXREb21DaGlsZHJlbldpdGhDb3JyZWN0TmFtZXNwYWNlc1RvSW5zZXJ0KFxuICAgICAgam91cm5hbCxcbiAgICAgIGRvbVBhcmVudFZOb2RlLFxuICAgICAgbmV3Q2hpbGRcbiAgICApO1xuICAgIGRvbUNoaWxkcmVuLmxlbmd0aCAmJlxuICAgICAgam91cm5hbC5wdXNoKFxuICAgICAgICBWTm9kZUpvdXJuYWxPcENvZGUuSW5zZXJ0LFxuICAgICAgICBwYXJlbnROb2RlLFxuICAgICAgICB2bm9kZV9nZXROb2RlKGFkanVzdGVkSW5zZXJ0QmVmb3JlKSxcbiAgICAgICAgLi4uZG9tQ2hpbGRyZW5cbiAgICAgICk7XG4gIH1cblxuICAvLyBlbnN1cmUgdGhhdCB0aGUgcHJldmlvdXMgbm9kZSBpcyB1bmxpbmtlZC5cbiAgY29uc3QgbmV3Q2hpbGRDdXJyZW50UGFyZW50ID0gbmV3Q2hpbGRbVk5vZGVQcm9wcy5wYXJlbnRdO1xuICBpZiAoXG4gICAgbmV3Q2hpbGRDdXJyZW50UGFyZW50ICYmXG4gICAgKG5ld0NoaWxkW1ZOb2RlUHJvcHMucHJldmlvdXNTaWJsaW5nXSB8fFxuICAgICAgbmV3Q2hpbGRbVk5vZGVQcm9wcy5uZXh0U2libGluZ10gfHxcbiAgICAgICh2bm9kZV9pc0VsZW1lbnRWTm9kZShuZXdDaGlsZEN1cnJlbnRQYXJlbnQpICYmIG5ld0NoaWxkQ3VycmVudFBhcmVudCAhPT0gcGFyZW50KSlcbiAgKSB7XG4gICAgdm5vZGVfcmVtb3ZlKGpvdXJuYWwsIG5ld0NoaWxkQ3VycmVudFBhcmVudCwgbmV3Q2hpbGQsIGZhbHNlKTtcbiAgfVxuXG4gIC8vIGxpbmsgbmV3Q2hpbGQgaW50byB0aGUgcHJldmlvdXMvbmV4dCBsaXN0XG4gIGNvbnN0IHZOZXh0ID0gaW5zZXJ0QmVmb3JlO1xuICBjb25zdCB2UHJldmlvdXMgPSB2TmV4dFxuICAgID8gdk5leHRbVk5vZGVQcm9wcy5wcmV2aW91c1NpYmxpbmddXG4gICAgOiAocGFyZW50W0VsZW1lbnRWTm9kZVByb3BzLmxhc3RDaGlsZF0gYXMgVk5vZGUgfCBudWxsKTtcbiAgaWYgKHZOZXh0KSB7XG4gICAgdk5leHRbVk5vZGVQcm9wcy5wcmV2aW91c1NpYmxpbmddID0gbmV3Q2hpbGQ7XG4gIH0gZWxzZSB7XG4gICAgcGFyZW50W0VsZW1lbnRWTm9kZVByb3BzLmxhc3RDaGlsZF0gPSBuZXdDaGlsZDtcbiAgfVxuICBpZiAodlByZXZpb3VzKSB7XG4gICAgdlByZXZpb3VzW1ZOb2RlUHJvcHMubmV4dFNpYmxpbmddID0gbmV3Q2hpbGQ7XG4gIH0gZWxzZSB7XG4gICAgcGFyZW50W0VsZW1lbnRWTm9kZVByb3BzLmZpcnN0Q2hpbGRdID0gbmV3Q2hpbGQ7XG4gIH1cbiAgbmV3Q2hpbGRbVk5vZGVQcm9wcy5wcmV2aW91c1NpYmxpbmddID0gdlByZXZpb3VzO1xuICBuZXdDaGlsZFtWTm9kZVByb3BzLm5leHRTaWJsaW5nXSA9IHZOZXh0O1xuICBuZXdDaGlsZFtWTm9kZVByb3BzLnBhcmVudF0gPSBwYXJlbnQ7XG59O1xuXG5leHBvcnQgY29uc3Qgdm5vZGVfZ2V0RG9tUGFyZW50ID0gKHZub2RlOiBWTm9kZSk6IEVsZW1lbnQgfCBUZXh0IHwgbnVsbCA9PiB7XG4gIHZub2RlID0gdm5vZGVfZ2V0RG9tUGFyZW50Vk5vZGUodm5vZGUpIGFzIFZOb2RlO1xuICByZXR1cm4gKHZub2RlICYmIHZub2RlW0VsZW1lbnRWTm9kZVByb3BzLmVsZW1lbnRdKSBhcyBFbGVtZW50IHwgVGV4dCB8IG51bGw7XG59O1xuXG5leHBvcnQgY29uc3Qgdm5vZGVfZ2V0RG9tUGFyZW50Vk5vZGUgPSAodm5vZGU6IFZOb2RlKTogRWxlbWVudFZOb2RlIHwgbnVsbCA9PiB7XG4gIHdoaWxlICh2bm9kZSAmJiAhdm5vZGVfaXNFbGVtZW50Vk5vZGUodm5vZGUpKSB7XG4gICAgdm5vZGUgPSB2bm9kZVtWTm9kZVByb3BzLnBhcmVudF0hO1xuICB9XG4gIHJldHVybiB2bm9kZTtcbn07XG5cbmV4cG9ydCBjb25zdCB2bm9kZV9yZW1vdmUgPSAoXG4gIGpvdXJuYWw6IFZOb2RlSm91cm5hbCxcbiAgdlBhcmVudDogVk5vZGUsXG4gIHZUb1JlbW92ZTogVk5vZGUsXG4gIHJlbW92ZURPTTogYm9vbGVhblxuKSA9PiB7XG4gIGFzc2VydEVxdWFsKHZQYXJlbnQsIHZub2RlX2dldFBhcmVudCh2VG9SZW1vdmUpLCAnUGFyZW50IG1pc21hdGNoLicpO1xuICBpZiAodm5vZGVfaXNUZXh0Vk5vZGUodlRvUmVtb3ZlKSkge1xuICAgIHZub2RlX2Vuc3VyZVRleHRJbmZsYXRlZChqb3VybmFsLCB2VG9SZW1vdmUpO1xuICB9XG4gIGNvbnN0IHZQcmV2aW91cyA9IHZUb1JlbW92ZVtWTm9kZVByb3BzLnByZXZpb3VzU2libGluZ107XG4gIGNvbnN0IHZOZXh0ID0gdlRvUmVtb3ZlW1ZOb2RlUHJvcHMubmV4dFNpYmxpbmddO1xuICBpZiAodlByZXZpb3VzKSB7XG4gICAgdlByZXZpb3VzW1ZOb2RlUHJvcHMubmV4dFNpYmxpbmddID0gdk5leHQ7XG4gIH0gZWxzZSB7XG4gICAgdlBhcmVudFtFbGVtZW50Vk5vZGVQcm9wcy5maXJzdENoaWxkXSA9IHZOZXh0O1xuICB9XG4gIGlmICh2TmV4dCkge1xuICAgIHZOZXh0W1ZOb2RlUHJvcHMucHJldmlvdXNTaWJsaW5nXSA9IHZQcmV2aW91cztcbiAgfSBlbHNlIHtcbiAgICB2UGFyZW50W0VsZW1lbnRWTm9kZVByb3BzLmxhc3RDaGlsZF0gPSB2UHJldmlvdXM7XG4gIH1cbiAgdlRvUmVtb3ZlW1ZOb2RlUHJvcHMucHJldmlvdXNTaWJsaW5nXSA9IG51bGw7XG4gIHZUb1JlbW92ZVtWTm9kZVByb3BzLm5leHRTaWJsaW5nXSA9IG51bGw7XG4gIGlmIChyZW1vdmVET00pIHtcbiAgICBjb25zdCBkb21QYXJlbnQgPSB2bm9kZV9nZXREb21QYXJlbnQodlBhcmVudCk7XG4gICAgY29uc3QgaXNJbm5lckhUTUxQYXJlbnQgPSB2bm9kZV9nZXRBdHRyKHZQYXJlbnQsIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MKTtcbiAgICBpZiAoaXNJbm5lckhUTUxQYXJlbnQpIHtcbiAgICAgIC8vIGlnbm9yZSBjaGlsZHJlbiwgYXMgdGhleSBhcmUgaW5zZXJ0ZWQgdmlhIGlubmVySFRNTFxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBjaGlsZHJlbiA9IHZub2RlX2dldERPTUNoaWxkTm9kZXMoam91cm5hbCwgdlRvUmVtb3ZlKTtcbiAgICBkb21QYXJlbnQgJiYgY2hpbGRyZW4ubGVuZ3RoICYmIGpvdXJuYWwucHVzaChWTm9kZUpvdXJuYWxPcENvZGUuUmVtb3ZlLCBkb21QYXJlbnQsIC4uLmNoaWxkcmVuKTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IHZub2RlX3F1ZXJ5RG9tTm9kZXMgPSAoXG4gIHZOb2RlOiBWTm9kZSxcbiAgc2VsZWN0b3I6IHN0cmluZyxcbiAgY2I6IChlbGVtZW50OiBFbGVtZW50KSA9PiB2b2lkXG4pID0+IHtcbiAgaWYgKHZub2RlX2lzRWxlbWVudFZOb2RlKHZOb2RlKSkge1xuICAgIGNvbnN0IGVsZW1lbnQgPSB2bm9kZV9nZXROb2RlKHZOb2RlKSBhcyBIVE1MRWxlbWVudDtcbiAgICBpZiAoZWxlbWVudC5tYXRjaGVzKHNlbGVjdG9yKSkge1xuICAgICAgY2IoZWxlbWVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcikuZm9yRWFjaChjYik7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGxldCBjaGlsZCA9IHZub2RlX2dldEZpcnN0Q2hpbGQodk5vZGUpO1xuICAgIHdoaWxlIChjaGlsZCkge1xuICAgICAgdm5vZGVfcXVlcnlEb21Ob2RlcyhjaGlsZCwgc2VsZWN0b3IsIGNiKTtcbiAgICAgIGNoaWxkID0gdm5vZGVfZ2V0TmV4dFNpYmxpbmcoY2hpbGQpO1xuICAgIH1cbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IHZub2RlX3RydW5jYXRlID0gKFxuICBqb3VybmFsOiBWTm9kZUpvdXJuYWwsXG4gIHZQYXJlbnQ6IEVsZW1lbnRWTm9kZSB8IFZpcnR1YWxWTm9kZSxcbiAgdkRlbGV0ZTogVk5vZGVcbikgPT4ge1xuICBhc3NlcnREZWZpbmVkKHZEZWxldGUsICdNaXNzaW5nIHZEZWxldGUuJyk7XG4gIGNvbnN0IHBhcmVudCA9IHZub2RlX2dldERvbVBhcmVudCh2UGFyZW50KTtcbiAgY29uc3QgY2hpbGRyZW4gPSB2bm9kZV9nZXRET01DaGlsZE5vZGVzKGpvdXJuYWwsIHZEZWxldGUpO1xuICBwYXJlbnQgJiYgY2hpbGRyZW4ubGVuZ3RoICYmIGpvdXJuYWwucHVzaChWTm9kZUpvdXJuYWxPcENvZGUuUmVtb3ZlLCBwYXJlbnQsIC4uLmNoaWxkcmVuKTtcbiAgY29uc3QgdlByZXZpb3VzID0gdkRlbGV0ZVtWTm9kZVByb3BzLnByZXZpb3VzU2libGluZ107XG4gIGlmICh2UHJldmlvdXMpIHtcbiAgICB2UHJldmlvdXNbVk5vZGVQcm9wcy5uZXh0U2libGluZ10gPSBudWxsO1xuICB9IGVsc2Uge1xuICAgIHZQYXJlbnRbRWxlbWVudFZOb2RlUHJvcHMuZmlyc3RDaGlsZF0gPSBudWxsO1xuICB9XG4gIHZQYXJlbnRbRWxlbWVudFZOb2RlUHJvcHMubGFzdENoaWxkXSA9IHZQcmV2aW91cztcbn07XG5cbmV4cG9ydCBjb25zdCB2bm9kZV9pc0NoaWxkT2YgPSAodlBhcmVudDogVk5vZGUsIHZDaGlsZDogVk5vZGUpOiBib29sZWFuID0+IHtcbiAgbGV0IHZOb2RlID0gdkNoaWxkO1xuICB3aGlsZSAodk5vZGUpIHtcbiAgICBpZiAodk5vZGUgPT09IHZQYXJlbnQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICB2Tm9kZSA9IHZub2RlX2dldFBhcmVudCh2Tm9kZSkhO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn07XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5leHBvcnQgY29uc3Qgdm5vZGVfZ2V0RWxlbWVudE5hbWUgPSAodm5vZGU6IEVsZW1lbnRWTm9kZSk6IHN0cmluZyA9PiB7XG4gIGNvbnN0IGVsZW1lbnRWTm9kZSA9IGVuc3VyZUVsZW1lbnRWTm9kZSh2bm9kZSk7XG4gIGxldCBlbGVtZW50TmFtZSA9IGVsZW1lbnRWTm9kZVtFbGVtZW50Vk5vZGVQcm9wcy5lbGVtZW50TmFtZV07XG4gIGlmIChlbGVtZW50TmFtZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgZWxlbWVudE5hbWUgPSBlbGVtZW50Vk5vZGVbRWxlbWVudFZOb2RlUHJvcHMuZWxlbWVudE5hbWVdID1cbiAgICAgIGVsZW1lbnRWTm9kZVtFbGVtZW50Vk5vZGVQcm9wcy5lbGVtZW50XS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgIGVsZW1lbnRWTm9kZVtWTm9kZVByb3BzLmZsYWdzXSB8PSB2bm9kZV9nZXRFbGVtZW50TmFtZXNwYWNlRmxhZ3MoZWxlbWVudE5hbWUpO1xuICB9XG4gIHJldHVybiBlbGVtZW50TmFtZTtcbn07XG5cbmV4cG9ydCBjb25zdCB2bm9kZV9nZXRUZXh0ID0gKHZub2RlOiBUZXh0Vk5vZGUpOiBzdHJpbmcgPT4ge1xuICBjb25zdCB0ZXh0Vk5vZGUgPSBlbnN1cmVUZXh0Vk5vZGUodm5vZGUpO1xuICBsZXQgdGV4dCA9IHRleHRWTm9kZVtUZXh0Vk5vZGVQcm9wcy50ZXh0XTtcbiAgaWYgKHRleHQgPT09IHVuZGVmaW5lZCkge1xuICAgIHRleHQgPSB0ZXh0Vk5vZGVbVGV4dFZOb2RlUHJvcHMudGV4dF0gPSB0ZXh0Vk5vZGVbVGV4dFZOb2RlUHJvcHMubm9kZV0hLm5vZGVWYWx1ZSE7XG4gIH1cbiAgcmV0dXJuIHRleHQ7XG59O1xuXG5leHBvcnQgY29uc3Qgdm5vZGVfc2V0VGV4dCA9IChqb3VybmFsOiBWTm9kZUpvdXJuYWwsIHRleHRWTm9kZTogVGV4dFZOb2RlLCB0ZXh0OiBzdHJpbmcpID0+IHtcbiAgdm5vZGVfZW5zdXJlVGV4dEluZmxhdGVkKGpvdXJuYWwsIHRleHRWTm9kZSk7XG4gIGNvbnN0IHRleHROb2RlID0gdGV4dFZOb2RlW1RleHRWTm9kZVByb3BzLm5vZGVdITtcbiAgam91cm5hbC5wdXNoKFZOb2RlSm91cm5hbE9wQ29kZS5TZXRUZXh0LCB0ZXh0Tm9kZSwgKHRleHRWTm9kZVtUZXh0Vk5vZGVQcm9wcy50ZXh0XSA9IHRleHQpKTtcbn07XG5cbmV4cG9ydCBjb25zdCB2bm9kZV9nZXRGaXJzdENoaWxkID0gKHZub2RlOiBWTm9kZSk6IFZOb2RlIHwgbnVsbCA9PiB7XG4gIGlmICh2bm9kZV9pc1RleHRWTm9kZSh2bm9kZSkpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBsZXQgdkZpcnN0Q2hpbGQgPSB2bm9kZVtFbGVtZW50Vk5vZGVQcm9wcy5maXJzdENoaWxkXTtcbiAgaWYgKHZGaXJzdENoaWxkID09PSB1bmRlZmluZWQpIHtcbiAgICB2Rmlyc3RDaGlsZCA9IGVuc3VyZU1hdGVyaWFsaXplZCh2bm9kZSBhcyBFbGVtZW50Vk5vZGUpO1xuICB9XG4gIHJldHVybiB2Rmlyc3RDaGlsZDtcbn07XG5cbmV4cG9ydCBjb25zdCB2bm9kZV9tYXRlcmlhbGl6ZSA9ICh2Tm9kZTogRWxlbWVudFZOb2RlKSA9PiB7XG4gIGNvbnN0IGVsZW1lbnQgPSB2Tm9kZVtFbGVtZW50Vk5vZGVQcm9wcy5lbGVtZW50XTtcbiAgY29uc3QgZmlyc3RDaGlsZCA9IGZhc3RGaXJzdENoaWxkKGVsZW1lbnQpO1xuICBjb25zdCB2Tm9kZURhdGEgPSAoZWxlbWVudC5vd25lckRvY3VtZW50IGFzIFFEb2N1bWVudCk/LnFWTm9kZURhdGE/LmdldChlbGVtZW50KTtcbiAgY29uc3QgdkZpcnN0Q2hpbGQgPSB2Tm9kZURhdGFcbiAgICA/IG1hdGVyaWFsaXplRnJvbVZOb2RlRGF0YSh2Tm9kZSwgdk5vZGVEYXRhLCBlbGVtZW50LCBmaXJzdENoaWxkKVxuICAgIDogbWF0ZXJpYWxpemVGcm9tRE9NKHZOb2RlLCBmaXJzdENoaWxkKTtcbiAgcmV0dXJuIHZGaXJzdENoaWxkO1xufTtcblxuY29uc3QgZW5zdXJlTWF0ZXJpYWxpemVkID0gKHZub2RlOiBFbGVtZW50Vk5vZGUpOiBWTm9kZSB8IG51bGwgPT4ge1xuICBjb25zdCB2UGFyZW50ID0gZW5zdXJlRWxlbWVudFZOb2RlKHZub2RlKTtcbiAgbGV0IHZGaXJzdENoaWxkID0gdlBhcmVudFtFbGVtZW50Vk5vZGVQcm9wcy5maXJzdENoaWxkXTtcbiAgaWYgKHZGaXJzdENoaWxkID09PSB1bmRlZmluZWQpIHtcbiAgICAvLyBuZWVkIHRvIG1hdGVyaWFsaXplIHRoZSB2Tm9kZS5cbiAgICBjb25zdCBlbGVtZW50ID0gdlBhcmVudFtFbGVtZW50Vk5vZGVQcm9wcy5lbGVtZW50XTtcblxuICAgIGlmICh2UGFyZW50W1ZOb2RlUHJvcHMucGFyZW50XSAmJiBzaG91bGRJZ25vcmVDaGlsZHJlbihlbGVtZW50KSkge1xuICAgICAgLy8gV2UgaGF2ZSBhIGNvbnRhaW5lciB3aXRoIGh0bWwgdmFsdWUsIG11c3QgaWdub3JlIHRoZSBjb250ZW50LlxuICAgICAgdkZpcnN0Q2hpbGQgPVxuICAgICAgICB2UGFyZW50W0VsZW1lbnRWTm9kZVByb3BzLmZpcnN0Q2hpbGRdID1cbiAgICAgICAgdlBhcmVudFtFbGVtZW50Vk5vZGVQcm9wcy5sYXN0Q2hpbGRdID1cbiAgICAgICAgICBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICB2Rmlyc3RDaGlsZCA9IHZub2RlX21hdGVyaWFsaXplKHZQYXJlbnQpO1xuICAgIH1cbiAgfVxuICBhc3NlcnRUcnVlKHZQYXJlbnRbRWxlbWVudFZOb2RlUHJvcHMuZmlyc3RDaGlsZF0gIT09IHVuZGVmaW5lZCwgJ0RpZCBub3QgbWF0ZXJpYWxpemUuJyk7XG4gIGFzc2VydFRydWUodlBhcmVudFtFbGVtZW50Vk5vZGVQcm9wcy5sYXN0Q2hpbGRdICE9PSB1bmRlZmluZWQsICdEaWQgbm90IG1hdGVyaWFsaXplLicpO1xuICByZXR1cm4gdkZpcnN0Q2hpbGQ7XG59O1xuXG5sZXQgX2Zhc3RIYXNBdHRyaWJ1dGU6ICgodGhpczogRWxlbWVudCwga2V5OiBzdHJpbmcpID0+IGJvb2xlYW4pIHwgbnVsbCA9IG51bGw7XG5leHBvcnQgY29uc3Qgc2hvdWxkSWdub3JlQ2hpbGRyZW4gPSAobm9kZTogRWxlbWVudCk6IGJvb2xlYW4gPT4ge1xuICBpZiAoIV9mYXN0SGFzQXR0cmlidXRlKSB7XG4gICAgX2Zhc3RIYXNBdHRyaWJ1dGUgPSBub2RlLmhhc0F0dHJpYnV0ZTtcbiAgfVxuICByZXR1cm4gX2Zhc3RIYXNBdHRyaWJ1dGUuY2FsbChub2RlLCBRQ29udGFpbmVyQXR0cik7XG59O1xuXG5sZXQgX2Zhc3ROb2RlVHlwZTogKCh0aGlzOiBOb2RlKSA9PiBudW1iZXIpIHwgbnVsbCA9IG51bGw7XG5jb25zdCBmYXN0Tm9kZVR5cGUgPSAobm9kZTogTm9kZSk6IG51bWJlciA9PiB7XG4gIGlmICghX2Zhc3ROb2RlVHlwZSkge1xuICAgIF9mYXN0Tm9kZVR5cGUgPSBmYXN0R2V0dGVyPHR5cGVvZiBfZmFzdE5vZGVUeXBlPihub2RlLCAnbm9kZVR5cGUnKSE7XG4gIH1cbiAgcmV0dXJuIF9mYXN0Tm9kZVR5cGUuY2FsbChub2RlKTtcbn07XG5jb25zdCBmYXN0SXNUZXh0T3JFbGVtZW50ID0gKG5vZGU6IE5vZGUpOiBib29sZWFuID0+IHtcbiAgY29uc3QgdHlwZSA9IGZhc3ROb2RlVHlwZShub2RlKTtcbiAgcmV0dXJuIHR5cGUgPT09IC8qIE5vZGUuVEVYVF9OT0RFICovIDMgfHwgdHlwZSA9PT0gLyogTm9kZS5FTEVNRU5UX05PREUgKi8gMTtcbn07XG5cbmxldCBfZmFzdE5leHRTaWJsaW5nOiAoKHRoaXM6IE5vZGUpID0+IE5vZGUgfCBudWxsKSB8IG51bGwgPSBudWxsO1xuZXhwb3J0IGNvbnN0IGZhc3ROZXh0U2libGluZyA9IChub2RlOiBOb2RlIHwgbnVsbCk6IE5vZGUgfCBudWxsID0+IHtcbiAgaWYgKCFfZmFzdE5leHRTaWJsaW5nKSB7XG4gICAgX2Zhc3ROZXh0U2libGluZyA9IGZhc3RHZXR0ZXI8dHlwZW9mIF9mYXN0TmV4dFNpYmxpbmc+KG5vZGUsICduZXh0U2libGluZycpITtcbiAgfVxuICBpZiAoIV9mYXN0Rmlyc3RDaGlsZCkge1xuICAgIF9mYXN0Rmlyc3RDaGlsZCA9IGZhc3RHZXR0ZXI8dHlwZW9mIF9mYXN0Rmlyc3RDaGlsZD4obm9kZSwgJ2ZpcnN0Q2hpbGQnKSE7XG4gIH1cbiAgd2hpbGUgKG5vZGUpIHtcbiAgICBub2RlID0gX2Zhc3ROZXh0U2libGluZy5jYWxsKG5vZGUpO1xuICAgIGlmIChub2RlICE9PSBudWxsKSB7XG4gICAgICBjb25zdCB0eXBlID0gZmFzdE5vZGVUeXBlKG5vZGUpO1xuICAgICAgaWYgKHR5cGUgPT09IC8qIE5vZGUuVEVYVF9OT0RFICovIDMgfHwgdHlwZSA9PT0gLyogTm9kZS5FTEVNRU5UX05PREUgKi8gMSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gLyogTm9kZS5DT01NRU5UX05PREUgKi8gOCkge1xuICAgICAgICBjb25zdCBub2RlVmFsdWUgPSBub2RlLm5vZGVWYWx1ZTtcbiAgICAgICAgaWYgKG5vZGVWYWx1ZT8uc3RhcnRzV2l0aChRSWdub3JlKSkge1xuICAgICAgICAgIHJldHVybiBnZXROb2RlQWZ0ZXJDb21tZW50Tm9kZShub2RlLCBRQ29udGFpbmVySXNsYW5kLCBfZmFzdE5leHRTaWJsaW5nLCBfZmFzdEZpcnN0Q2hpbGQpO1xuICAgICAgICB9IGVsc2UgaWYgKG5vZGUubm9kZVZhbHVlPy5zdGFydHNXaXRoKFFDb250YWluZXJJc2xhbmRFbmQpKSB7XG4gICAgICAgICAgcmV0dXJuIGdldE5vZGVBZnRlckNvbW1lbnROb2RlKG5vZGUsIFFJZ25vcmVFbmQsIF9mYXN0TmV4dFNpYmxpbmcsIF9mYXN0Rmlyc3RDaGlsZCk7XG4gICAgICAgIH0gZWxzZSBpZiAobm9kZVZhbHVlPy5zdGFydHNXaXRoKFFDb250YWluZXJBdHRyKSkge1xuICAgICAgICAgIHdoaWxlIChub2RlICYmIChub2RlID0gX2Zhc3ROZXh0U2libGluZy5jYWxsKG5vZGUpKSkge1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBmYXN0Tm9kZVR5cGUobm9kZSkgPT09IC8qIE5vZGUuQ09NTUVOVF9OT0RFICovIDggJiZcbiAgICAgICAgICAgICAgbm9kZS5ub2RlVmFsdWU/LnN0YXJ0c1dpdGgoUUNvbnRhaW5lckF0dHJFbmQpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBub2RlO1xufTtcblxuZnVuY3Rpb24gZ2V0Tm9kZUFmdGVyQ29tbWVudE5vZGUoXG4gIG5vZGU6IE5vZGUgfCBudWxsLFxuICBjb21tZW50VmFsdWU6IHN0cmluZyxcbiAgbmV4dFNpYmxpbmc6IE5vbk51bGxhYmxlPHR5cGVvZiBfZmFzdE5leHRTaWJsaW5nPixcbiAgZmlyc3RDaGlsZDogTm9uTnVsbGFibGU8dHlwZW9mIF9mYXN0Rmlyc3RDaGlsZD5cbik6IE5vZGUgfCBudWxsIHtcbiAgd2hpbGUgKG5vZGUpIHtcbiAgICBpZiAobm9kZS5ub2RlVmFsdWU/LnN0YXJ0c1dpdGgoY29tbWVudFZhbHVlKSkge1xuICAgICAgbm9kZSA9IG5leHRTaWJsaW5nLmNhbGwobm9kZSkgfHwgbnVsbDtcbiAgICAgIHJldHVybiBub2RlO1xuICAgIH1cblxuICAgIGxldCBuZXh0Tm9kZTogTm9kZSB8IG51bGwgPSBmaXJzdENoaWxkLmNhbGwobm9kZSk7XG4gICAgaWYgKCFuZXh0Tm9kZSkge1xuICAgICAgbmV4dE5vZGUgPSBuZXh0U2libGluZy5jYWxsKG5vZGUpO1xuICAgIH1cbiAgICBpZiAoIW5leHROb2RlKSB7XG4gICAgICBuZXh0Tm9kZSA9IGZhc3RQYXJlbnROb2RlKG5vZGUpO1xuICAgICAgaWYgKG5leHROb2RlKSB7XG4gICAgICAgIG5leHROb2RlID0gbmV4dFNpYmxpbmcuY2FsbChuZXh0Tm9kZSk7XG4gICAgICB9XG4gICAgfVxuICAgIG5vZGUgPSBuZXh0Tm9kZTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxubGV0IF9mYXN0UGFyZW50Tm9kZTogKCh0aGlzOiBOb2RlKSA9PiBOb2RlIHwgbnVsbCkgfCBudWxsID0gbnVsbDtcbmNvbnN0IGZhc3RQYXJlbnROb2RlID0gKG5vZGU6IE5vZGUpOiBOb2RlIHwgbnVsbCA9PiB7XG4gIGlmICghX2Zhc3RQYXJlbnROb2RlKSB7XG4gICAgX2Zhc3RQYXJlbnROb2RlID0gZmFzdEdldHRlcjx0eXBlb2YgX2Zhc3RQYXJlbnROb2RlPihub2RlLCAncGFyZW50Tm9kZScpITtcbiAgfVxuICByZXR1cm4gX2Zhc3RQYXJlbnROb2RlLmNhbGwobm9kZSk7XG59O1xuXG5sZXQgX2Zhc3RGaXJzdENoaWxkOiAoKHRoaXM6IE5vZGUpID0+IE5vZGUgfCBudWxsKSB8IG51bGwgPSBudWxsO1xuY29uc3QgZmFzdEZpcnN0Q2hpbGQgPSAobm9kZTogTm9kZSB8IG51bGwpOiBOb2RlIHwgbnVsbCA9PiB7XG4gIGlmICghX2Zhc3RGaXJzdENoaWxkKSB7XG4gICAgX2Zhc3RGaXJzdENoaWxkID0gZmFzdEdldHRlcjx0eXBlb2YgX2Zhc3RGaXJzdENoaWxkPihub2RlLCAnZmlyc3RDaGlsZCcpITtcbiAgfVxuICBub2RlID0gbm9kZSAmJiBfZmFzdEZpcnN0Q2hpbGQuY2FsbChub2RlKTtcbiAgd2hpbGUgKG5vZGUgJiYgIWZhc3RJc1RleHRPckVsZW1lbnQobm9kZSkpIHtcbiAgICBub2RlID0gZmFzdE5leHRTaWJsaW5nKG5vZGUpO1xuICB9XG4gIHJldHVybiBub2RlO1xufTtcblxuY29uc3QgZmFzdEdldHRlciA9IDxUPihwcm90b3R5cGU6IGFueSwgbmFtZTogc3RyaW5nKTogVCA9PiB7XG4gIGxldCBnZXR0ZXI6IGFueTtcbiAgd2hpbGUgKHByb3RvdHlwZSAmJiAhKGdldHRlciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocHJvdG90eXBlLCBuYW1lKT8uZ2V0KSkge1xuICAgIHByb3RvdHlwZSA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihwcm90b3R5cGUpO1xuICB9XG4gIHJldHVybiAoXG4gICAgZ2V0dGVyIHx8XG4gICAgZnVuY3Rpb24gKHRoaXM6IGFueSkge1xuICAgICAgcmV0dXJuIHRoaXNbbmFtZV07XG4gICAgfVxuICApO1xufTtcblxuY29uc3QgaXNRU3R5bGVFbGVtZW50ID0gKG5vZGU6IE5vZGUgfCBudWxsKTogbm9kZSBpcyBFbGVtZW50ID0+IHtcbiAgcmV0dXJuIChcbiAgICBpc0VsZW1lbnQobm9kZSkgJiZcbiAgICBub2RlLm5vZGVOYW1lID09PSAnU1RZTEUnICYmXG4gICAgKG5vZGUuaGFzQXR0cmlidXRlKFFTY29wZWRTdHlsZSkgfHwgbm9kZS5oYXNBdHRyaWJ1dGUoUVN0eWxlKSlcbiAgKTtcbn07XG5cbmNvbnN0IG1hdGVyaWFsaXplRnJvbURPTSA9ICh2UGFyZW50OiBFbGVtZW50Vk5vZGUsIGZpcnN0Q2hpbGQ6IE5vZGUgfCBudWxsKSA9PiB7XG4gIGxldCB2Rmlyc3RDaGlsZDogVk5vZGUgfCBudWxsID0gbnVsbDtcbiAgLy8gbWF0ZXJpYWxpemUgZnJvbSBET01cbiAgbGV0IGNoaWxkID0gZmlyc3RDaGlsZDtcbiAgd2hpbGUgKGlzUVN0eWxlRWxlbWVudChjaGlsZCkpIHtcbiAgICAvLyBza2lwIG92ZXIgc3R5bGUgZWxlbWVudHMsIGFzIHRob3NlIG5lZWQgdG8gYmUgbW92ZWQgdG8gdGhlIGhlYWQuXG4gICAgLy8gVk5vZGUgcHJldGVuZHMgdGhhdCBgPHN0eWxlIHE6c3R5bGUgcTpzc3R5bGU+YCBlbGVtZW50cyBkbyBub3QgZXhpc3QuXG4gICAgY2hpbGQgPSBmYXN0TmV4dFNpYmxpbmcoY2hpbGQpO1xuICB9XG4gIGxldCB2Q2hpbGQ6IFZOb2RlIHwgbnVsbCA9IG51bGw7XG4gIHdoaWxlIChjaGlsZCkge1xuICAgIGNvbnN0IG5vZGVUeXBlID0gZmFzdE5vZGVUeXBlKGNoaWxkKTtcbiAgICBsZXQgdk5leHRDaGlsZDogVk5vZGUgfCBudWxsID0gbnVsbDtcbiAgICBpZiAobm9kZVR5cGUgPT09IC8qIE5vZGUuVEVYVF9OT0RFICovIDMpIHtcbiAgICAgIHZOZXh0Q2hpbGQgPSB2bm9kZV9uZXdUZXh0KGNoaWxkIGFzIFRleHQsIGNoaWxkLnRleHRDb250ZW50ID8/IHVuZGVmaW5lZCk7XG4gICAgfSBlbHNlIGlmIChub2RlVHlwZSA9PT0gLyogTm9kZS5FTEVNRU5UX05PREUgKi8gMSkge1xuICAgICAgdk5leHRDaGlsZCA9IHZub2RlX25ld1VuTWF0ZXJpYWxpemVkRWxlbWVudChjaGlsZCBhcyBFbGVtZW50KTtcbiAgICB9XG4gICAgaWYgKHZOZXh0Q2hpbGQpIHtcbiAgICAgIHZOZXh0Q2hpbGRbVk5vZGVQcm9wcy5wYXJlbnRdID0gdlBhcmVudDtcbiAgICAgIHZDaGlsZCAmJiAodkNoaWxkW1ZOb2RlUHJvcHMubmV4dFNpYmxpbmddID0gdk5leHRDaGlsZCk7XG4gICAgICB2TmV4dENoaWxkW1ZOb2RlUHJvcHMucHJldmlvdXNTaWJsaW5nXSA9IHZDaGlsZDtcbiAgICAgIHZDaGlsZCA9IHZOZXh0Q2hpbGQ7XG4gICAgfVxuICAgIGlmICghdkZpcnN0Q2hpbGQpIHtcbiAgICAgIHZQYXJlbnRbRWxlbWVudFZOb2RlUHJvcHMuZmlyc3RDaGlsZF0gPSB2Rmlyc3RDaGlsZCA9IHZDaGlsZDtcbiAgICB9XG4gICAgY2hpbGQgPSBmYXN0TmV4dFNpYmxpbmcoY2hpbGQpO1xuICB9XG4gIHZQYXJlbnRbRWxlbWVudFZOb2RlUHJvcHMubGFzdENoaWxkXSA9IHZDaGlsZCB8fCBudWxsO1xuICB2UGFyZW50W0VsZW1lbnRWTm9kZVByb3BzLmZpcnN0Q2hpbGRdID0gdkZpcnN0Q2hpbGQ7XG4gIHJldHVybiB2Rmlyc3RDaGlsZDtcbn07XG5cbmV4cG9ydCBjb25zdCB2bm9kZV9nZXROZXh0U2libGluZyA9ICh2bm9kZTogVk5vZGUpOiBWTm9kZSB8IG51bGwgPT4ge1xuICByZXR1cm4gdm5vZGVbVk5vZGVQcm9wcy5uZXh0U2libGluZ107XG59O1xuXG5leHBvcnQgY29uc3Qgdm5vZGVfZ2V0UHJldmlvdXNTaWJsaW5nID0gKHZub2RlOiBWTm9kZSk6IFZOb2RlIHwgbnVsbCA9PiB7XG4gIHJldHVybiB2bm9kZVtWTm9kZVByb3BzLnByZXZpb3VzU2libGluZ107XG59O1xuXG5leHBvcnQgY29uc3Qgdm5vZGVfZ2V0QXR0cktleXMgPSAodm5vZGU6IEVsZW1lbnRWTm9kZSB8IFZpcnR1YWxWTm9kZSk6IHN0cmluZ1tdID0+IHtcbiAgY29uc3QgdHlwZSA9IHZub2RlW1ZOb2RlUHJvcHMuZmxhZ3NdO1xuICBpZiAoKHR5cGUgJiBWTm9kZUZsYWdzLkVMRU1FTlRfT1JfVklSVFVBTF9NQVNLKSAhPT0gMCkge1xuICAgIHZub2RlX2Vuc3VyZUVsZW1lbnRJbmZsYXRlZCh2bm9kZSk7XG4gICAgY29uc3Qga2V5czogc3RyaW5nW10gPSBbXTtcbiAgICBmb3IgKGxldCBpID0gdm5vZGVfZ2V0UHJvcFN0YXJ0SW5kZXgodm5vZGUpOyBpIDwgdm5vZGUubGVuZ3RoOyBpID0gaSArIDIpIHtcbiAgICAgIGNvbnN0IGtleSA9IHZub2RlW2ldIGFzIHN0cmluZztcbiAgICAgIGlmICgha2V5LnN0YXJ0c1dpdGgoJzonKSkge1xuICAgICAgICBrZXlzLnB1c2goa2V5KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGtleXM7XG4gIH1cbiAgcmV0dXJuIFtdO1xufTtcblxuZXhwb3J0IGNvbnN0IHZub2RlX3NldEF0dHIgPSAoXG4gIGpvdXJuYWw6IFZOb2RlSm91cm5hbCB8IG51bGwsXG4gIHZub2RlOiBWTm9kZSxcbiAga2V5OiBzdHJpbmcsXG4gIHZhbHVlOiBzdHJpbmcgfCBudWxsXG4pOiB2b2lkID0+IHtcbiAgY29uc3QgdHlwZSA9IHZub2RlW1ZOb2RlUHJvcHMuZmxhZ3NdO1xuICBpZiAoKHR5cGUgJiBWTm9kZUZsYWdzLkVMRU1FTlRfT1JfVklSVFVBTF9NQVNLKSAhPT0gMCkge1xuICAgIHZub2RlX2Vuc3VyZUVsZW1lbnRJbmZsYXRlZCh2bm9kZSk7XG4gICAgY29uc3QgaWR4ID0gbWFwQXBwX2ZpbmRJbmR4KHZub2RlIGFzIHN0cmluZ1tdLCBrZXksIHZub2RlX2dldFByb3BTdGFydEluZGV4KHZub2RlKSk7XG5cbiAgICBpZiAoaWR4ID49IDApIHtcbiAgICAgIGlmICh2bm9kZVtpZHggKyAxXSAhPSB2YWx1ZSAmJiAodHlwZSAmIFZOb2RlRmxhZ3MuRWxlbWVudCkgIT09IDApIHtcbiAgICAgICAgLy8gVmFsdWVzIGFyZSBkaWZmZXJlbnQsIHVwZGF0ZSBET01cbiAgICAgICAgY29uc3QgZWxlbWVudCA9IHZub2RlW0VsZW1lbnRWTm9kZVByb3BzLmVsZW1lbnRdIGFzIEVsZW1lbnQ7XG4gICAgICAgIGpvdXJuYWwgJiYgam91cm5hbC5wdXNoKFZOb2RlSm91cm5hbE9wQ29kZS5TZXRBdHRyaWJ1dGUsIGVsZW1lbnQsIGtleSwgdmFsdWUpO1xuICAgICAgfVxuICAgICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgICAgdm5vZGUuc3BsaWNlKGlkeCwgMik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2bm9kZVtpZHggKyAxXSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgdm5vZGUuc3BsaWNlKGlkeCBeIC0xLCAwLCBrZXksIHZhbHVlKTtcbiAgICAgIGlmICgodHlwZSAmIFZOb2RlRmxhZ3MuRWxlbWVudCkgIT09IDApIHtcbiAgICAgICAgLy8gTmV3IHZhbHVlLCB1cGRhdGUgRE9NXG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSB2bm9kZVtFbGVtZW50Vk5vZGVQcm9wcy5lbGVtZW50XSBhcyBFbGVtZW50O1xuICAgICAgICBqb3VybmFsICYmIGpvdXJuYWwucHVzaChWTm9kZUpvdXJuYWxPcENvZGUuU2V0QXR0cmlidXRlLCBlbGVtZW50LCBrZXksIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCB2bm9kZV9nZXRBdHRyID0gKHZub2RlOiBWTm9kZSwga2V5OiBzdHJpbmcpOiBzdHJpbmcgfCBudWxsID0+IHtcbiAgY29uc3QgdHlwZSA9IHZub2RlW1ZOb2RlUHJvcHMuZmxhZ3NdO1xuICBpZiAoKHR5cGUgJiBWTm9kZUZsYWdzLkVMRU1FTlRfT1JfVklSVFVBTF9NQVNLKSAhPT0gMCkge1xuICAgIHZub2RlX2Vuc3VyZUVsZW1lbnRJbmZsYXRlZCh2bm9kZSk7XG4gICAgcmV0dXJuIG1hcEFycmF5X2dldCh2bm9kZSBhcyBzdHJpbmdbXSwga2V5LCB2bm9kZV9nZXRQcm9wU3RhcnRJbmRleCh2bm9kZSkpO1xuICB9XG4gIHJldHVybiBudWxsO1xufTtcblxuZXhwb3J0IGNvbnN0IHZub2RlX2dldFByb3AgPSA8VD4oXG4gIHZub2RlOiBWTm9kZSxcbiAga2V5OiBzdHJpbmcsXG4gIGdldE9iamVjdDogKChpZDogc3RyaW5nKSA9PiBhbnkpIHwgbnVsbFxuKTogVCB8IG51bGwgPT4ge1xuICBjb25zdCB0eXBlID0gdm5vZGVbVk5vZGVQcm9wcy5mbGFnc107XG4gIGlmICgodHlwZSAmIFZOb2RlRmxhZ3MuRUxFTUVOVF9PUl9WSVJUVUFMX01BU0spICE9PSAwKSB7XG4gICAgdHlwZSAmIFZOb2RlRmxhZ3MuRWxlbWVudCAmJiB2bm9kZV9lbnN1cmVFbGVtZW50SW5mbGF0ZWQodm5vZGUpO1xuICAgIGNvbnN0IGlkeCA9IG1hcEFwcF9maW5kSW5keCh2bm9kZSBhcyBhbnksIGtleSwgdm5vZGVfZ2V0UHJvcFN0YXJ0SW5kZXgodm5vZGUpKTtcbiAgICBpZiAoaWR4ID49IDApIHtcbiAgICAgIGxldCB2YWx1ZSA9IHZub2RlW2lkeCArIDFdIGFzIGFueTtcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnICYmIGdldE9iamVjdCkge1xuICAgICAgICB2bm9kZVtpZHggKyAxXSA9IHZhbHVlID0gZ2V0T2JqZWN0KHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59O1xuXG5leHBvcnQgY29uc3Qgdm5vZGVfc2V0UHJvcCA9ICh2bm9kZTogVmlydHVhbFZOb2RlIHwgRWxlbWVudFZOb2RlLCBrZXk6IHN0cmluZywgdmFsdWU6IHVua25vd24pID0+IHtcbiAgZW5zdXJlRWxlbWVudE9yVmlydHVhbFZOb2RlKHZub2RlKTtcbiAgY29uc3QgaWR4ID0gbWFwQXBwX2ZpbmRJbmR4KHZub2RlIGFzIGFueSwga2V5LCB2bm9kZV9nZXRQcm9wU3RhcnRJbmRleCh2bm9kZSkpO1xuICBpZiAoaWR4ID49IDApIHtcbiAgICB2bm9kZVtpZHggKyAxXSA9IHZhbHVlIGFzIGFueTtcbiAgfSBlbHNlIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgdm5vZGUuc3BsaWNlKGlkeCBeIC0xLCAwLCBrZXksIHZhbHVlIGFzIGFueSk7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCB2bm9kZV9nZXRQcm9wU3RhcnRJbmRleCA9ICh2bm9kZTogVk5vZGUpOiBudW1iZXIgPT4ge1xuICBjb25zdCB0eXBlID0gdm5vZGVbVk5vZGVQcm9wcy5mbGFnc10gJiBWTm9kZUZsYWdzLlRZUEVfTUFTSztcbiAgaWYgKHR5cGUgPT09IFZOb2RlRmxhZ3MuRWxlbWVudCkge1xuICAgIHJldHVybiBFbGVtZW50Vk5vZGVQcm9wcy5QUk9QU19PRkZTRVQ7XG4gIH0gZWxzZSBpZiAodHlwZSA9PT0gVk5vZGVGbGFncy5WaXJ0dWFsKSB7XG4gICAgcmV0dXJuIFZpcnR1YWxWTm9kZVByb3BzLlBST1BTX09GRlNFVDtcbiAgfVxuICB0aHJvdyB0aHJvd0Vycm9yQW5kU3RvcCgnSW52YWxpZCB2bm9kZSB0eXBlLicpO1xufTtcblxuZXhwb3J0IGNvbnN0IHZub2RlX3Byb3BzVG9SZWNvcmQgPSAodm5vZGU6IFZOb2RlKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPT4ge1xuICBjb25zdCBwcm9wczogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcbiAgaWYgKCF2bm9kZV9pc1RleHRWTm9kZSh2bm9kZSkpIHtcbiAgICBmb3IgKGxldCBpID0gdm5vZGVfZ2V0UHJvcFN0YXJ0SW5kZXgodm5vZGUpOyBpIDwgdm5vZGUubGVuZ3RoOyApIHtcbiAgICAgIGNvbnN0IGtleSA9IHZub2RlW2krK10gYXMgc3RyaW5nO1xuICAgICAgY29uc3QgdmFsdWUgPSB2bm9kZVtpKytdO1xuICAgICAgcHJvcHNba2V5XSA9IHZhbHVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcHJvcHM7XG59O1xuXG5leHBvcnQgY29uc3Qgdm5vZGVfZ2V0UGFyZW50ID0gKHZub2RlOiBWTm9kZSk6IFZOb2RlIHwgbnVsbCA9PiB7XG4gIHJldHVybiB2bm9kZVtWTm9kZVByb3BzLnBhcmVudF0gfHwgbnVsbDtcbn07XG5cbmV4cG9ydCBjb25zdCB2bm9kZV9nZXROb2RlID0gKHZub2RlOiBWTm9kZSB8IG51bGwpOiBFbGVtZW50IHwgVGV4dCB8IG51bGwgPT4ge1xuICBpZiAodm5vZGUgPT09IG51bGwgfHwgdm5vZGVfaXNWaXJ0dWFsVk5vZGUodm5vZGUpKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgaWYgKHZub2RlX2lzRWxlbWVudFZOb2RlKHZub2RlKSkge1xuICAgIHJldHVybiB2bm9kZVtFbGVtZW50Vk5vZGVQcm9wcy5lbGVtZW50XTtcbiAgfVxuICBhc3NlcnRUcnVlKHZub2RlX2lzVGV4dFZOb2RlKHZub2RlKSwgJ0V4cGVjdGluZyBUZXh0IE5vZGUuJyk7XG4gIHJldHVybiB2bm9kZVtUZXh0Vk5vZGVQcm9wcy5ub2RlXSE7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gdm5vZGVfdG9TdHJpbmcoXG4gIHRoaXM6IFZOb2RlIHwgbnVsbCxcbiAgZGVwdGg6IG51bWJlciA9IDEwLFxuICBvZmZzZXQ6IHN0cmluZyA9ICcnLFxuICBtYXRlcmlhbGl6ZTogYm9vbGVhbiA9IGZhbHNlXG4pOiBzdHJpbmcge1xuICBsZXQgdm5vZGUgPSB0aGlzO1xuICBpZiAoZGVwdGggPT09IDApIHtcbiAgICByZXR1cm4gJy4uLic7XG4gIH1cbiAgaWYgKHZub2RlID09PSBudWxsKSB7XG4gICAgcmV0dXJuICdudWxsJztcbiAgfVxuICBpZiAodm5vZGUgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiAndW5kZWZpbmVkJztcbiAgfVxuICBjb25zdCBzdHJpbmdzOiBzdHJpbmdbXSA9IFtdO1xuICBkbyB7XG4gICAgaWYgKHZub2RlX2lzVGV4dFZOb2RlKHZub2RlKSkge1xuICAgICAgc3RyaW5ncy5wdXNoKHF3aWtEZWJ1Z1RvU3RyaW5nKHZub2RlX2dldFRleHQodm5vZGUpKSk7XG4gICAgfSBlbHNlIGlmICh2bm9kZV9pc1ZpcnR1YWxWTm9kZSh2bm9kZSkpIHtcbiAgICAgIGNvbnN0IGlkeCA9IHZub2RlW1ZOb2RlUHJvcHMuZmxhZ3NdID4+PiBWTm9kZUZsYWdzSW5kZXguc2hpZnQ7XG4gICAgICBjb25zdCBhdHRyczogc3RyaW5nW10gPSBbJ1snICsgU3RyaW5nKGlkeCkgKyAnXSddO1xuICAgICAgdm5vZGVfZ2V0QXR0cktleXModm5vZGUpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICBpZiAoa2V5ICE9PSBERUJVR19UWVBFKSB7XG4gICAgICAgICAgY29uc3QgdmFsdWUgPSB2bm9kZV9nZXRBdHRyKHZub2RlISwga2V5KTtcbiAgICAgICAgICBhdHRycy5wdXNoKCcgJyArIGtleSArICc9JyArIHF3aWtEZWJ1Z1RvU3RyaW5nKHZhbHVlKSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgY29uc3QgbmFtZSA9XG4gICAgICAgIFZpcnR1YWxUeXBlTmFtZVt2bm9kZV9nZXRBdHRyKHZub2RlLCBERUJVR19UWVBFKSB8fCBWaXJ0dWFsVHlwZS5WaXJ0dWFsXSB8fFxuICAgICAgICBWaXJ0dWFsVHlwZU5hbWVbVmlydHVhbFR5cGUuVmlydHVhbF07XG4gICAgICBzdHJpbmdzLnB1c2goJzwnICsgbmFtZSArIGF0dHJzLmpvaW4oJycpICsgJz4nKTtcbiAgICAgIGNvbnN0IGNoaWxkID0gdm5vZGVfZ2V0Rmlyc3RDaGlsZCh2bm9kZSk7XG4gICAgICBjaGlsZCAmJiBzdHJpbmdzLnB1c2goJyAgJyArIHZub2RlX3RvU3RyaW5nLmNhbGwoY2hpbGQsIGRlcHRoIC0gMSwgb2Zmc2V0ICsgJyAgJywgdHJ1ZSkpO1xuICAgICAgc3RyaW5ncy5wdXNoKCc8LycgKyBuYW1lICsgJz4nKTtcbiAgICB9IGVsc2UgaWYgKHZub2RlX2lzRWxlbWVudFZOb2RlKHZub2RlKSkge1xuICAgICAgY29uc3QgdGFnID0gdm5vZGVfZ2V0RWxlbWVudE5hbWUodm5vZGUpO1xuICAgICAgY29uc3QgYXR0cnM6IHN0cmluZ1tdID0gW107XG4gICAgICBjb25zdCBrZXlzID0gdm5vZGVfZ2V0QXR0cktleXModm5vZGUpO1xuICAgICAga2V5cy5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSB2bm9kZV9nZXRBdHRyKHZub2RlISwga2V5KTtcbiAgICAgICAgYXR0cnMucHVzaCgnICcgKyBrZXkgKyAnPScgKyBxd2lrRGVidWdUb1N0cmluZyh2YWx1ZSkpO1xuICAgICAgfSk7XG4gICAgICBjb25zdCBub2RlID0gdm5vZGVfZ2V0Tm9kZSh2bm9kZSkgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICBpZiAobm9kZSkge1xuICAgICAgICBjb25zdCB2bm9kZURhdGEgPSAobm9kZS5vd25lckRvY3VtZW50IGFzIFFEb2N1bWVudCkucVZOb2RlRGF0YT8uZ2V0KG5vZGUpO1xuICAgICAgICBpZiAodm5vZGVEYXRhKSB7XG4gICAgICAgICAgYXR0cnMucHVzaCgnIHE6dm5vZGVEYXRhPScgKyBxd2lrRGVidWdUb1N0cmluZyh2bm9kZURhdGEpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3QgZG9tQXR0cnMgPSBub2RlLmF0dHJpYnV0ZXM7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRvbUF0dHJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGF0dHIgPSBkb21BdHRyc1tpXTtcbiAgICAgICAgaWYgKGtleXMuaW5kZXhPZihhdHRyLm5hbWUpID09PSAtMSkge1xuICAgICAgICAgIGF0dHJzLnB1c2goJyAnICsgYXR0ci5uYW1lICsgKGF0dHIudmFsdWUgPyAnPScgKyBxd2lrRGVidWdUb1N0cmluZyhhdHRyLnZhbHVlKSA6ICcnKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHN0cmluZ3MucHVzaCgnPCcgKyB0YWcgKyBhdHRycy5qb2luKCcnKSArICc+Jyk7XG4gICAgICBpZiAodm5vZGVfaXNNYXRlcmlhbGl6ZWQodm5vZGUpIHx8IG1hdGVyaWFsaXplKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkID0gdm5vZGVfZ2V0Rmlyc3RDaGlsZCh2bm9kZSk7XG4gICAgICAgIGNoaWxkICYmIHN0cmluZ3MucHVzaCgnICAnICsgdm5vZGVfdG9TdHJpbmcuY2FsbChjaGlsZCwgZGVwdGggLSAxLCBvZmZzZXQgKyAnICAnLCB0cnVlKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdHJpbmdzLnB1c2goJyAgPCEtLSBub3QgbWF0ZXJpYWxpemVkIC0tIT4nKTtcbiAgICAgIH1cbiAgICAgIHN0cmluZ3MucHVzaCgnPC8nICsgdGFnICsgJz4nKTtcbiAgICB9XG4gICAgdm5vZGUgPSB2bm9kZV9nZXROZXh0U2libGluZyh2bm9kZSkgfHwgbnVsbDtcbiAgfSB3aGlsZSAodm5vZGUpO1xuICByZXR1cm4gc3RyaW5ncy5qb2luKCdcXG4nICsgb2Zmc2V0KTtcbn1cblxuY29uc3QgaXNOdW1iZXIgPSAoY2g6IG51bWJlcikgPT4gLyogYDBgICovIDQ4IDw9IGNoICYmIGNoIDw9IDU3OyAvKiBgOWAgKi9cbmNvbnN0IGlzTG93ZXJjYXNlID0gKGNoOiBudW1iZXIpID0+IC8qIGBhYCAqLyA5NyA8PSBjaCAmJiBjaCA8PSAxMjI7IC8qIGB6YCAqL1xuXG5jb25zdCBzdGFjazogYW55W10gPSBbXTtcbmZ1bmN0aW9uIG1hdGVyaWFsaXplRnJvbVZOb2RlRGF0YShcbiAgdlBhcmVudDogRWxlbWVudFZOb2RlIHwgVmlydHVhbFZOb2RlLFxuICB2RGF0YTogc3RyaW5nLFxuICBlbGVtZW50OiBFbGVtZW50LFxuICBjaGlsZDogTm9kZSB8IG51bGxcbik6IFZOb2RlIHtcbiAgbGV0IGlkeCA9IDA7XG4gIGxldCBuZXh0VG9Db25zdW1lSWR4ID0gMDtcbiAgbGV0IHZGaXJzdDogVk5vZGUgfCBudWxsID0gbnVsbDtcbiAgbGV0IHZMYXN0OiBWTm9kZSB8IG51bGwgPSBudWxsO1xuICBsZXQgcHJldmlvdXNUZXh0Tm9kZTogVGV4dFZOb2RlIHwgbnVsbCA9IG51bGw7XG4gIGxldCBjaCA9IDA7XG4gIGxldCBwZWVrQ2ggPSAwO1xuICBjb25zdCBwZWVrID0gKCkgPT4ge1xuICAgIGlmIChwZWVrQ2ggIT09IDApIHtcbiAgICAgIHJldHVybiBwZWVrQ2g7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAocGVla0NoID0gbmV4dFRvQ29uc3VtZUlkeCA8IHZEYXRhIS5sZW5ndGggPyB2RGF0YSEuY2hhckNvZGVBdChuZXh0VG9Db25zdW1lSWR4KSA6IDApO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgY29uc3VtZSA9ICgpID0+IHtcbiAgICBjaCA9IHBlZWsoKTtcbiAgICBwZWVrQ2ggPSAwO1xuICAgIG5leHRUb0NvbnN1bWVJZHgrKztcbiAgICByZXR1cm4gY2g7XG4gIH07XG4gIGNvbnN0IGFkZFZOb2RlID0gKG5vZGU6IFZOb2RlKSA9PiB7XG4gICAgbm9kZVtWTm9kZVByb3BzLmZsYWdzXSA9XG4gICAgICAobm9kZVtWTm9kZVByb3BzLmZsYWdzXSAmIFZOb2RlRmxhZ3NJbmRleC5uZWdhdGVkX21hc2spIHwgKGlkeCA8PCBWTm9kZUZsYWdzSW5kZXguc2hpZnQpO1xuICAgIGlkeCsrO1xuICAgIHZMYXN0ICYmICh2TGFzdFtWTm9kZVByb3BzLm5leHRTaWJsaW5nXSA9IG5vZGUpO1xuICAgIG5vZGVbVk5vZGVQcm9wcy5wcmV2aW91c1NpYmxpbmddID0gdkxhc3Q7XG4gICAgbm9kZVtWTm9kZVByb3BzLnBhcmVudF0gPSB2UGFyZW50O1xuICAgIGlmICghdkZpcnN0KSB7XG4gICAgICB2UGFyZW50W0VsZW1lbnRWTm9kZVByb3BzLmZpcnN0Q2hpbGRdID0gdkZpcnN0ID0gbm9kZTtcbiAgICB9XG4gICAgdkxhc3QgPSBub2RlO1xuICB9O1xuXG4gIGNvbnN0IGNvbnN1bWVWYWx1ZSA9ICgpID0+IHtcbiAgICBjb25zdW1lKCk7XG4gICAgY29uc3Qgc3RhcnQgPSBuZXh0VG9Db25zdW1lSWR4O1xuICAgIHdoaWxlIChcbiAgICAgIChwZWVrKCkgPD0gNTggLyogYDpgICovICYmIHBlZWtDaCAhPT0gMCkgfHxcbiAgICAgIHBlZWtDaCA9PT0gOTUgLyogYF9gICovIHx8XG4gICAgICAocGVla0NoID49IDY1IC8qIGBBYCAqLyAmJiBwZWVrQ2ggPD0gOTApIC8qIGBaYCAqLyB8fFxuICAgICAgKHBlZWtDaCA+PSA5NyAvKiBgYWAgKi8gJiYgcGVla0NoIDw9IDEyMikgLyogYHpgICovXG4gICAgKSB7XG4gICAgICBjb25zdW1lKCk7XG4gICAgfVxuICAgIHJldHVybiB2RGF0YS5zdWJzdHJpbmcoc3RhcnQsIG5leHRUb0NvbnN1bWVJZHgpO1xuICB9O1xuXG4gIGxldCB0ZXh0SWR4ID0gMDtcbiAgbGV0IGNvbWJpbmVkVGV4dDogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gIGxldCBjb250YWluZXI6IENsaWVudENvbnRhaW5lciB8IG51bGwgPSBudWxsO1xuICAvLyBjb25zb2xlLmxvZyhcbiAgLy8gICAncHJvY2Vzc1ZOb2RlRGF0YScsXG4gIC8vICAgdk5vZGVEYXRhLFxuICAvLyAgIChjaGlsZD8ucGFyZW50Tm9kZSBhcyBIVE1MRWxlbWVudCB8IHVuZGVmaW5lZCk/Lm91dGVySFRNTFxuICAvLyApO1xuICB3aGlsZSAocGVlaygpICE9PSAwKSB7XG4gICAgaWYgKGlzTnVtYmVyKHBlZWsoKSkpIHtcbiAgICAgIC8vIEVsZW1lbnQgY291bnRzIGdldCBlbmNvZGVkIGFzIG51bWJlcnMuXG4gICAgICB3aGlsZSAoIWlzRWxlbWVudChjaGlsZCkpIHtcbiAgICAgICAgY2hpbGQgPSBmYXN0TmV4dFNpYmxpbmcoY2hpbGQpO1xuICAgICAgICBpZiAoIWNoaWxkKSB7XG4gICAgICAgICAgdGhyb3dFcnJvckFuZFN0b3AoXG4gICAgICAgICAgICAnTWF0ZXJpYWxpemUgZXJyb3I6IG1pc3NpbmcgZWxlbWVudDogJyArIHZEYXRhICsgJyAnICsgcGVlaygpICsgJyAnICsgbmV4dFRvQ29uc3VtZUlkeFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIFdlIHByZXRlbmQgdGhhdCBzdHlsZSBlbGVtZW50J3MgZG9uJ3QgZXhpc3QgYXMgdGhleSBjYW4gZ2V0IG1vdmVkIG91dC5cbiAgICAgIHdoaWxlIChpc1FTdHlsZUVsZW1lbnQoY2hpbGQpKSB7XG4gICAgICAgIC8vIHNraXAgb3ZlciBzdHlsZSBlbGVtZW50cywgYXMgdGhvc2UgbmVlZCB0byBiZSBtb3ZlZCB0byB0aGUgaGVhZFxuICAgICAgICAvLyBhbmQgYXJlIG5vdCBpbmNsdWRlZCBpbiB0aGUgY291bnRzLlxuICAgICAgICBjaGlsZCA9IGZhc3ROZXh0U2libGluZyhjaGlsZCk7XG4gICAgICB9XG4gICAgICBjb21iaW5lZFRleHQgPSBudWxsO1xuICAgICAgcHJldmlvdXNUZXh0Tm9kZSA9IG51bGw7XG4gICAgICBsZXQgdmFsdWUgPSAwO1xuICAgICAgd2hpbGUgKGlzTnVtYmVyKHBlZWsoKSkpIHtcbiAgICAgICAgdmFsdWUgKj0gMTA7XG4gICAgICAgIHZhbHVlICs9IGNvbnN1bWUoKSAtIDQ4OyAvKiBgMGAgKi9cbiAgICAgIH1cbiAgICAgIHdoaWxlICh2YWx1ZS0tKSB7XG4gICAgICAgIGFkZFZOb2RlKHZub2RlX25ld1VuTWF0ZXJpYWxpemVkRWxlbWVudChjaGlsZCBhcyBFbGVtZW50KSk7XG4gICAgICAgIGNoaWxkID0gZmFzdE5leHRTaWJsaW5nKGNoaWxkKTtcbiAgICAgIH1cbiAgICAgIC8vIGNvbGxlY3QgdGhlIGVsZW1lbnRzO1xuICAgIH0gZWxzZSBpZiAocGVlaygpID09PSBWTm9kZURhdGFDaGFyLlNDT1BFRF9TVFlMRSkge1xuICAgICAgdm5vZGVfc2V0QXR0cihudWxsLCB2UGFyZW50LCBRU2NvcGVkU3R5bGUsIGNvbnN1bWVWYWx1ZSgpKTtcbiAgICB9IGVsc2UgaWYgKHBlZWsoKSA9PT0gVk5vZGVEYXRhQ2hhci5SRU5ERVJfRk4pIHtcbiAgICAgIHZub2RlX3NldEF0dHIobnVsbCwgdlBhcmVudCwgT25SZW5kZXJQcm9wLCBjb25zdW1lVmFsdWUoKSk7XG4gICAgfSBlbHNlIGlmIChwZWVrKCkgPT09IFZOb2RlRGF0YUNoYXIuSUQpIHtcbiAgICAgIGlmICghY29udGFpbmVyKSB7XG4gICAgICAgIGNvbnRhaW5lciA9IGdldERvbUNvbnRhaW5lcihlbGVtZW50KTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGlkID0gY29uc3VtZVZhbHVlKCk7XG4gICAgICBjb250YWluZXIuJHNldFJhd1N0YXRlJChwYXJzZUludChpZCksIHZQYXJlbnQpO1xuICAgICAgaXNEZXYgJiYgdm5vZGVfc2V0QXR0cihudWxsLCB2UGFyZW50LCBFTEVNRU5UX0lELCBpZCk7XG4gICAgfSBlbHNlIGlmIChwZWVrKCkgPT09IFZOb2RlRGF0YUNoYXIuUFJPUFMpIHtcbiAgICAgIHZub2RlX3NldEF0dHIobnVsbCwgdlBhcmVudCwgRUxFTUVOVF9QUk9QUywgY29uc3VtZVZhbHVlKCkpO1xuICAgIH0gZWxzZSBpZiAocGVlaygpID09PSBWTm9kZURhdGFDaGFyLlNMT1RfUkVGKSB7XG4gICAgICB2bm9kZV9zZXRBdHRyKG51bGwsIHZQYXJlbnQsIFFTbG90UmVmLCBjb25zdW1lVmFsdWUoKSk7XG4gICAgfSBlbHNlIGlmIChwZWVrKCkgPT09IFZOb2RlRGF0YUNoYXIuS0VZKSB7XG4gICAgICB2bm9kZV9zZXRBdHRyKG51bGwsIHZQYXJlbnQsIEVMRU1FTlRfS0VZLCBjb25zdW1lVmFsdWUoKSk7XG4gICAgfSBlbHNlIGlmIChwZWVrKCkgPT09IFZOb2RlRGF0YUNoYXIuU0VRKSB7XG4gICAgICB2bm9kZV9zZXRBdHRyKG51bGwsIHZQYXJlbnQsIEVMRU1FTlRfU0VRLCBjb25zdW1lVmFsdWUoKSk7XG4gICAgfSBlbHNlIGlmIChwZWVrKCkgPT09IFZOb2RlRGF0YUNoYXIuU0VRX0lEWCkge1xuICAgICAgdm5vZGVfc2V0QXR0cihudWxsLCB2UGFyZW50LCBFTEVNRU5UX1NFUV9JRFgsIGNvbnN1bWVWYWx1ZSgpKTtcbiAgICB9IGVsc2UgaWYgKHBlZWsoKSA9PT0gVk5vZGVEYXRhQ2hhci5DT05URVhUKSB7XG4gICAgICB2bm9kZV9zZXRBdHRyKG51bGwsIHZQYXJlbnQsIFFDdHhBdHRyLCBjb25zdW1lVmFsdWUoKSk7XG4gICAgfSBlbHNlIGlmIChwZWVrKCkgPT09IFZOb2RlRGF0YUNoYXIuT1BFTikge1xuICAgICAgY29uc3VtZSgpO1xuICAgICAgYWRkVk5vZGUodm5vZGVfbmV3VmlydHVhbCgpKTtcbiAgICAgIHN0YWNrLnB1c2godlBhcmVudCwgdkZpcnN0LCB2TGFzdCwgcHJldmlvdXNUZXh0Tm9kZSwgaWR4KTtcbiAgICAgIGlkeCA9IDA7XG4gICAgICB2UGFyZW50ID0gdkxhc3QgYXMgRWxlbWVudFZOb2RlIHwgVmlydHVhbFZOb2RlO1xuICAgICAgdkZpcnN0ID0gdkxhc3QgPSBudWxsO1xuICAgIH0gZWxzZSBpZiAocGVlaygpID09PSBWTm9kZURhdGFDaGFyLlNFUEFSQVRPUikge1xuICAgICAgY29uc3Qga2V5ID0gY29uc3VtZVZhbHVlKCk7XG4gICAgICBjb25zdCB2YWx1ZSA9IGNvbnN1bWVWYWx1ZSgpO1xuICAgICAgdm5vZGVfc2V0QXR0cihudWxsLCB2UGFyZW50IGFzIFZpcnR1YWxWTm9kZSwga2V5LCB2YWx1ZSk7XG4gICAgfSBlbHNlIGlmIChwZWVrKCkgPT09IFZOb2RlRGF0YUNoYXIuQ0xPU0UpIHtcbiAgICAgIGNvbnN1bWUoKTtcbiAgICAgIHZQYXJlbnRbRWxlbWVudFZOb2RlUHJvcHMubGFzdENoaWxkXSA9IHZMYXN0O1xuICAgICAgaWR4ID0gc3RhY2sucG9wKCk7XG4gICAgICBwcmV2aW91c1RleHROb2RlID0gc3RhY2sucG9wKCk7XG4gICAgICB2TGFzdCA9IHN0YWNrLnBvcCgpO1xuICAgICAgdkZpcnN0ID0gc3RhY2sucG9wKCk7XG4gICAgICB2UGFyZW50ID0gc3RhY2sucG9wKCk7XG4gICAgfSBlbHNlIGlmIChwZWVrKCkgPT09IFZOb2RlRGF0YUNoYXIuU0xPVCkge1xuICAgICAgdm5vZGVfc2V0QXR0cihudWxsLCB2UGFyZW50LCBRU2xvdCwgY29uc3VtZVZhbHVlKCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB0ZXh0Tm9kZSA9XG4gICAgICAgIGNoaWxkICYmIGZhc3ROb2RlVHlwZShjaGlsZCkgPT09IC8qIE5vZGUuVEVYVF9OT0RFICovIDMgPyAoY2hpbGQgYXMgVGV4dCkgOiBudWxsO1xuICAgICAgLy8gbXVzdCBiZSBhbHBoYW51bWVyaWNcbiAgICAgIGlmIChjb21iaW5lZFRleHQgPT09IG51bGwpIHtcbiAgICAgICAgY29tYmluZWRUZXh0ID0gdGV4dE5vZGUgPyB0ZXh0Tm9kZS5ub2RlVmFsdWUgOiBudWxsO1xuICAgICAgICB0ZXh0SWR4ID0gMDtcbiAgICAgIH1cbiAgICAgIGxldCBsZW5ndGggPSAwO1xuICAgICAgd2hpbGUgKGlzTG93ZXJjYXNlKHBlZWsoKSkpIHtcbiAgICAgICAgbGVuZ3RoICs9IGNvbnN1bWUoKSAtIDk3OyAvKiBgYWAgKi9cbiAgICAgICAgbGVuZ3RoICo9IDI2O1xuICAgICAgfVxuICAgICAgbGVuZ3RoICs9IGNvbnN1bWUoKSAtIDY1OyAvKiBgQWAgKi9cbiAgICAgIGNvbnN0IHRleHQgPSBjb21iaW5lZFRleHQgPT09IG51bGwgPyAnJyA6IGNvbWJpbmVkVGV4dC5zdWJzdHJpbmcodGV4dElkeCwgdGV4dElkeCArIGxlbmd0aCk7XG5cbiAgICAgIGFkZFZOb2RlKFxuICAgICAgICAocHJldmlvdXNUZXh0Tm9kZSA9IHZub2RlX25ld1NoYXJlZFRleHQocHJldmlvdXNUZXh0Tm9kZSwgdGV4dE5vZGUgYXMgVGV4dCB8IG51bGwsIHRleHQpKVxuICAgICAgKTtcbiAgICAgIHRleHRJZHggKz0gbGVuZ3RoO1xuICAgICAgLy8gVGV4dCBub2RlcyBnZXQgZW5jb2RlZCBhcyBhbHBoYW51bWVyaWMgY2hhcmFjdGVycy5cbiAgICB9XG4gIH1cbiAgdlBhcmVudFtFbGVtZW50Vk5vZGVQcm9wcy5sYXN0Q2hpbGRdID0gdkxhc3Q7XG4gIHJldHVybiB2Rmlyc3QhO1xufVxuXG5leHBvcnQgY29uc3Qgdm5vZGVfZ2V0VHlwZSA9ICh2bm9kZTogVk5vZGUpOiAxIHwgMyB8IDExID0+IHtcbiAgY29uc3QgdHlwZSA9IHZub2RlW1ZOb2RlUHJvcHMuZmxhZ3NdO1xuICBpZiAodHlwZSAmIFZOb2RlRmxhZ3MuRWxlbWVudCkge1xuICAgIHJldHVybiAxIC8qIEVsZW1lbnQgKi87XG4gIH0gZWxzZSBpZiAodHlwZSAmIFZOb2RlRmxhZ3MuVmlydHVhbCkge1xuICAgIHJldHVybiAxMSAvKiBWaXJ0dWFsICovO1xuICB9IGVsc2UgaWYgKHR5cGUgJiBWTm9kZUZsYWdzLlRleHQpIHtcbiAgICByZXR1cm4gMyAvKiBUZXh0ICovO1xuICB9XG4gIHRocm93IHRocm93RXJyb3JBbmRTdG9wKCdVbmtub3duIHZub2RlIHR5cGU6ICcgKyB0eXBlKTtcbn07XG5cbmNvbnN0IGlzRWxlbWVudCA9IChub2RlOiBhbnkpOiBub2RlIGlzIEVsZW1lbnQgPT5cbiAgbm9kZSAmJiB0eXBlb2Ygbm9kZSA9PSAnb2JqZWN0JyAmJiBmYXN0Tm9kZVR5cGUobm9kZSkgPT09IC8qKiBOb2RlLkVMRU1FTlRfTk9ERSogKi8gMTtcblxuLy8vIFRoZXNlIGdsb2JhbCB2YXJpYWJsZXMgYXJlIHVzZWQgdG8gYXZvaWQgY3JlYXRpbmcgbmV3IGFycmF5cyBmb3IgZWFjaCBjYWxsIHRvIGB2bm9kZV9nZXRQYXRoVG9DbG9zZXN0RG9tTm9kZWAuXG5jb25zdCBhUGF0aDogVk5vZGVbXSA9IFtdO1xuY29uc3QgYlBhdGg6IFZOb2RlW10gPSBbXTtcbmV4cG9ydCBjb25zdCB2bm9kZV9kb2N1bWVudFBvc2l0aW9uID0gKGE6IFZOb2RlLCBiOiBWTm9kZSk6IC0xIHwgMCB8IDEgPT4ge1xuICBpZiAoYSA9PT0gYikge1xuICAgIHJldHVybiAwO1xuICB9XG5cbiAgbGV0IGFEZXB0aCA9IC0xO1xuICBsZXQgYkRlcHRoID0gLTE7XG4gIHdoaWxlIChhKSB7XG4gICAgYSA9IChhUGF0aFsrK2FEZXB0aF0gPSBhKVtWTm9kZVByb3BzLnBhcmVudF0hO1xuICB9XG4gIHdoaWxlIChiKSB7XG4gICAgYiA9IChiUGF0aFsrK2JEZXB0aF0gPSBiKVtWTm9kZVByb3BzLnBhcmVudF0hO1xuICB9XG5cbiAgd2hpbGUgKGFEZXB0aCA+PSAwICYmIGJEZXB0aCA+PSAwKSB7XG4gICAgYSA9IGFQYXRoW2FEZXB0aF0gYXMgVk5vZGU7XG4gICAgYiA9IGJQYXRoW2JEZXB0aF0gYXMgVk5vZGU7XG4gICAgaWYgKGEgPT09IGIpIHtcbiAgICAgIC8vIGlmIHRoZSBub2RlcyBhcmUgdGhlIHNhbWUsIHdlIG5lZWQgdG8gY2hlY2sgdGhlIG5leHQgbGV2ZWwuXG4gICAgICBhRGVwdGgtLTtcbiAgICAgIGJEZXB0aC0tO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBXZSBmb3VuZCBhIGRpZmZlcmVuY2Ugc28gd2UgbmVlZCB0byBzY2FuIG5vZGVzIGF0IHRoaXMgbGV2ZWwuXG4gICAgICBsZXQgY3Vyc29yOiBWTm9kZSB8IG51bGwgPSBiO1xuICAgICAgZG8ge1xuICAgICAgICBjdXJzb3IgPSB2bm9kZV9nZXROZXh0U2libGluZyhjdXJzb3IpO1xuICAgICAgICBpZiAoY3Vyc29yID09PSBhKSB7XG4gICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH1cbiAgICAgIH0gd2hpbGUgKGN1cnNvcik7XG4gICAgICBjdXJzb3IgPSBiO1xuICAgICAgZG8ge1xuICAgICAgICBjdXJzb3IgPSB2bm9kZV9nZXRQcmV2aW91c1NpYmxpbmcoY3Vyc29yKTtcbiAgICAgICAgaWYgKGN1cnNvciA9PT0gYSkge1xuICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfVxuICAgICAgfSB3aGlsZSAoY3Vyc29yKTtcbiAgICAgIC8vIFRoZSBub2RlIGlzIG5vdCBpbiB0aGUgbGlzdCBvZiBzaWJsaW5ncywgdGhhdCBtZWFucyBpdCBtdXN0IGJlIGRpc2Nvbm5lY3RlZC5cbiAgICAgIHJldHVybiAxO1xuICAgIH1cbiAgfVxuICByZXR1cm4gYURlcHRoIDwgYkRlcHRoID8gLTEgOiAxO1xufTtcblxuLyoqXG4gKiBVc2UgdGhpcyBtZXRob2QgdG8gZmluZCB0aGUgcGFyZW50IGNvbXBvbmVudCBmb3IgcHJvamVjdGlvbi5cbiAqXG4gKiBOb3JtYWxseSB0aGUgcGFyZW50IGNvbXBvbmVudCBpcyBqdXN0IHRoZSBmaXJzdCBjb21wb25lbnQgd2hpY2ggd2UgZW5jb3VudGVyIHdoaWxlIHRyYXZlcnNpbmcgdGhlXG4gKiBwYXJlbnRzLlxuICpcbiAqIEhvd2V2ZXIsIGlmIGR1cmluZyB0cmF2ZXJzYWwgd2UgZW5jb3VudGVyIGEgcHJvamVjdGlvbiwgdGhhbiB3ZSBoYXZlIHRvIGZvbGxvdyB0aGUgcHJvamVjdGlvbixcbiAqIGFuZCBub2Qgd2V0aCB0aGUgcHJvamVjdGlvbiBjb21wb25lbnQgaXMgZnVydGhlciBhd2F5IChpdCBpcyB0aGUgcGFyZW50J3MgcGFyZW50IG9mIHRoZVxuICogcHJvamVjdGlvbidzKVxuICpcbiAqIFNvIGluIGdlbmVyYWwgd2UgaGF2ZSB0byBnbyB1cCBhcyBtYW55IHBhcmVudCBjb21wb25lbnRzIGFzIHRoZXJlIGFyZSBwcm9qZWN0aW9ucyBuZXN0aW5ncy5cbiAqXG4gKiAtIE5vIHByb2plY3Rpb24gbmVzdGluZyBmaXJzdCBwYXJlbnQgY29tcG9uZW50LlxuICogLSBPbmUgcHJvamVjdGlvbiBuZXN0aW5nLCBzZWNvbmQgcGFyZW50IGNvbXBvbmVudCAocGFyZW50J3MgcGFyZW50KS5cbiAqIC0gVGhyZWUgcHJvamVjdGlvbiBuZXN0aW5nLCB0aGlyZCBwYXJlbnQgY29tcG9uZW50IChwYXJlbnQncyBwYXJlbnQncyBwYXJlbnQpLlxuICogLSBBbmQgc28gb24uXG4gKlxuICogQHBhcmFtIHZIb3N0XG4gKiBAcGFyYW0gZ2V0T2JqZWN0QnlJZFxuICogQHJldHVybnNcbiAqL1xuZXhwb3J0IGNvbnN0IHZub2RlX2dldFByb2plY3Rpb25QYXJlbnRDb21wb25lbnQgPSAoXG4gIHZIb3N0OiBWTm9kZSxcbiAgcm9vdFZOb2RlOiBFbGVtZW50Vk5vZGVcbik6IFZpcnR1YWxWTm9kZSB8IG51bGwgPT4ge1xuICBsZXQgcHJvamVjdGlvbkRlcHRoID0gMTtcbiAgd2hpbGUgKHByb2plY3Rpb25EZXB0aC0tKSB7XG4gICAgd2hpbGUgKFxuICAgICAgdkhvc3QgJiZcbiAgICAgICh2bm9kZV9pc1ZpcnR1YWxWTm9kZSh2SG9zdCkgPyB2bm9kZV9nZXRQcm9wKHZIb3N0LCBPblJlbmRlclByb3AsIG51bGwpID09PSBudWxsIDogdHJ1ZSlcbiAgICApIHtcbiAgICAgIGNvbnN0IHFTbG90UGFyZW50UHJvcCA9IHZub2RlX2dldFByb3Aodkhvc3QsIFFTbG90UGFyZW50LCBudWxsKSBhcyBzdHJpbmcgfCBWTm9kZSB8IG51bGw7XG4gICAgICBjb25zdCBxU2xvdFBhcmVudCA9XG4gICAgICAgIHFTbG90UGFyZW50UHJvcCAmJlxuICAgICAgICAodHlwZW9mIHFTbG90UGFyZW50UHJvcCA9PT0gJ3N0cmluZydcbiAgICAgICAgICA/IHZub2RlX2xvY2F0ZShyb290Vk5vZGUsIHFTbG90UGFyZW50UHJvcClcbiAgICAgICAgICA6IHFTbG90UGFyZW50UHJvcCk7XG4gICAgICBjb25zdCB2UHJvamVjdGlvblBhcmVudCA9IHZub2RlX2lzVmlydHVhbFZOb2RlKHZIb3N0KSAmJiBxU2xvdFBhcmVudDtcbiAgICAgIGlmICh2UHJvamVjdGlvblBhcmVudCkge1xuICAgICAgICAvLyBXZSBmb3VuZCBhIHByb2plY3Rpb24sIHNvIHdlIG5lZWQgdG8gZ28gdXAgb25lIG1vcmUgbGV2ZWwuXG4gICAgICAgIHByb2plY3Rpb25EZXB0aCsrO1xuICAgICAgfVxuICAgICAgdkhvc3QgPSB2UHJvamVjdGlvblBhcmVudCB8fCB2bm9kZV9nZXRQYXJlbnQodkhvc3QpITtcbiAgICB9XG4gICAgaWYgKHByb2plY3Rpb25EZXB0aCA+IDApIHtcbiAgICAgIHZIb3N0ID0gdm5vZGVfZ2V0UGFyZW50KHZIb3N0KSE7XG4gICAgfVxuICB9XG4gIHJldHVybiB2SG9zdCBhcyBWaXJ0dWFsVk5vZGUgfCBudWxsO1xufTtcblxuY29uc3QgVk5vZGVBcnJheSA9IGNsYXNzIFZOb2RlIGV4dGVuZHMgQXJyYXkge1xuICBzdGF0aWMgY3JlYXRlRWxlbWVudChcbiAgICBmbGFnczogVk5vZGVGbGFncyxcbiAgICBwYXJlbnQ6IFZOb2RlIHwgbnVsbCxcbiAgICBwcmV2aW91c1NpYmxpbmc6IFZOb2RlIHwgbnVsbCxcbiAgICBuZXh0U2libGluZzogVk5vZGUgfCBudWxsLFxuICAgIGZpcnN0Q2hpbGQ6IFZOb2RlIHwgbnVsbCB8IHVuZGVmaW5lZCxcbiAgICBsYXN0Q2hpbGQ6IFZOb2RlIHwgbnVsbCB8IHVuZGVmaW5lZCxcbiAgICBlbGVtZW50OiBFbGVtZW50LFxuICAgIGVsZW1lbnROYW1lOiBzdHJpbmcgfCB1bmRlZmluZWRcbiAgKSB7XG4gICAgY29uc3Qgdm5vZGUgPSBuZXcgVk5vZGUoZmxhZ3MsIHBhcmVudCwgcHJldmlvdXNTaWJsaW5nLCBuZXh0U2libGluZykgYXMgYW55O1xuICAgIHZub2RlLnB1c2goZmlyc3RDaGlsZCwgbGFzdENoaWxkLCBlbGVtZW50LCBlbGVtZW50TmFtZSk7XG4gICAgcmV0dXJuIHZub2RlO1xuICB9XG5cbiAgc3RhdGljIGNyZWF0ZVRleHQoXG4gICAgZmxhZ3M6IFZOb2RlRmxhZ3MsXG4gICAgcGFyZW50OiBWTm9kZSB8IG51bGwsXG4gICAgcHJldmlvdXNTaWJsaW5nOiBWTm9kZSB8IG51bGwsXG4gICAgbmV4dFNpYmxpbmc6IFZOb2RlIHwgbnVsbCxcbiAgICB0ZXh0Tm9kZTogVGV4dCB8IG51bGwsXG4gICAgdGV4dDogc3RyaW5nIHwgdW5kZWZpbmVkXG4gICkge1xuICAgIGNvbnN0IHZub2RlID0gbmV3IFZOb2RlKGZsYWdzLCBwYXJlbnQsIHByZXZpb3VzU2libGluZywgbmV4dFNpYmxpbmcpIGFzIGFueTtcbiAgICB2bm9kZS5wdXNoKHRleHROb2RlLCB0ZXh0KTtcbiAgICByZXR1cm4gdm5vZGU7XG4gIH1cblxuICBzdGF0aWMgY3JlYXRlVmlydHVhbChcbiAgICBmbGFnczogVk5vZGVGbGFncyxcbiAgICBwYXJlbnQ6IFZOb2RlIHwgbnVsbCxcbiAgICBwcmV2aW91c1NpYmxpbmc6IFZOb2RlIHwgbnVsbCxcbiAgICBuZXh0U2libGluZzogVk5vZGUgfCBudWxsLFxuICAgIGZpcnN0Q2hpbGQ6IFZOb2RlIHwgbnVsbCxcbiAgICBsYXN0Q2hpbGQ6IFZOb2RlIHwgbnVsbFxuICApIHtcbiAgICBjb25zdCB2bm9kZSA9IG5ldyBWTm9kZShmbGFncywgcGFyZW50LCBwcmV2aW91c1NpYmxpbmcsIG5leHRTaWJsaW5nKSBhcyBhbnk7XG4gICAgdm5vZGUucHVzaChmaXJzdENoaWxkLCBsYXN0Q2hpbGQpO1xuICAgIHJldHVybiB2bm9kZTtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGZsYWdzOiBWTm9kZUZsYWdzLFxuICAgIHBhcmVudDogVk5vZGUgfCBudWxsLFxuICAgIHByZXZpb3VzU2libGluZzogVk5vZGUgfCBudWxsIHwgdW5kZWZpbmVkLFxuICAgIG5leHRTaWJsaW5nOiBWTm9kZSB8IG51bGwgfCB1bmRlZmluZWRcbiAgKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLnB1c2goZmxhZ3MsIHBhcmVudCwgcHJldmlvdXNTaWJsaW5nLCBuZXh0U2libGluZyk7XG4gICAgaWYgKGlzRGV2KSB7XG4gICAgICB0aGlzLnRvU3RyaW5nID0gdm5vZGVfdG9TdHJpbmc7XG4gICAgfVxuICB9XG59O1xuIl19","import { assertDefined } from '../shared/error/assert';\nimport { qError, QError_useInvokeContext, QError_useMethodOutsideContext, } from '../shared/error/error';\nimport { ComputedEvent, QContainerSelector, QLocaleAttr, RenderEvent, ResourceEvent, TaskEvent, } from '../shared/utils/markers';\nimport { isPromise } from '../shared/utils/promises';\nimport { seal } from '../shared/utils/qdev';\nimport { isArray } from '../shared/utils/types';\nimport { setLocale } from './use-locale';\nimport { vnode_getNode, vnode_isElementVNode, vnode_isVNode } from '../client/vnode';\nimport { _getQContainerElement } from '../client/dom-container';\nlet _context;\n/** @public */\nexport const tryGetInvokeContext = () => {\n    if (!_context) {\n        const context = typeof document !== 'undefined' && document && document.__q_context__;\n        if (!context) {\n            return undefined;\n        }\n        if (isArray(context)) {\n            return (document.__q_context__ = newInvokeContextFromTuple(context));\n        }\n        return context;\n    }\n    return _context;\n};\nexport const getInvokeContext = () => {\n    const ctx = tryGetInvokeContext();\n    if (!ctx) {\n        throw qError(QError_useMethodOutsideContext);\n    }\n    return ctx;\n};\nexport const useInvokeContext = () => {\n    const ctx = tryGetInvokeContext();\n    if (!ctx || ctx.$event$ !== RenderEvent) {\n        throw qError(QError_useInvokeContext);\n    }\n    assertDefined(ctx.$hostElement$, `invoke: $hostElement$ must be defined`, ctx);\n    assertDefined(ctx.$effectSubscriber$, `invoke: $effectSubscriber$ must be defined`, ctx);\n    return ctx;\n};\nexport function useBindInvokeContext(fn) {\n    if (fn == null) {\n        return fn;\n    }\n    const ctx = getInvokeContext();\n    return function (...args) {\n        return (invokeApply).call(this, ctx, fn, args);\n    };\n}\n/** Call a function with the given InvokeContext and given arguments. */\nexport function invoke(context, fn, ...args) {\n    return invokeApply.call(this, context, fn, args);\n}\n/** Call a function with the given InvokeContext and array of arguments. */\nexport function invokeApply(context, fn, args) {\n    const previousContext = _context;\n    let returnValue;\n    try {\n        _context = context;\n        returnValue = fn.apply(this, args);\n    }\n    finally {\n        _context = previousContext;\n    }\n    return returnValue;\n}\nexport const waitAndRun = (ctx, callback) => {\n    const waitOn = ctx.$waitOn$;\n    if (waitOn.length === 0) {\n        const result = callback();\n        if (isPromise(result)) {\n            waitOn.push(result);\n        }\n    }\n    else {\n        waitOn.push(Promise.all(waitOn).then(callback));\n    }\n};\nexport const newInvokeContextFromTuple = ([element, event, url]) => {\n    const container = element.closest(QContainerSelector);\n    const locale = container?.getAttribute(QLocaleAttr) || undefined;\n    locale && setLocale(locale);\n    return newInvokeContext(locale, undefined, element, event, url);\n};\n// TODO how about putting url and locale (and event/custom?) in to a \"static\" object\nexport const newInvokeContext = (locale, hostElement, element, event, url) => {\n    // ServerRequestEvent has .locale, but it's not always defined.\n    const $locale$ = locale || (typeof event === 'object' && event && 'locale' in event ? event.locale : undefined);\n    const ctx = {\n        $url$: url,\n        $i$: 0,\n        $hostElement$: hostElement,\n        $element$: element,\n        $event$: event,\n        $qrl$: undefined,\n        $effectSubscriber$: undefined,\n        $locale$,\n        $container$: undefined,\n    };\n    seal(ctx);\n    return ctx;\n};\n/**\n * Don't track listeners for this callback\n *\n * @public\n */\nexport const untrack = (fn) => {\n    return invoke(undefined, fn);\n};\nconst trackInvocation = /*#__PURE__*/ newInvokeContext(undefined, undefined, undefined, RenderEvent);\n/**\n * @param fn\n * @param subscriber\n * @param property `true` - subscriber is component `false` - subscriber is VNode `string` -\n *   subscriber is property\n * @param container\n * @returns\n */\nexport const trackSignal = (fn, subscriber, property, container, data) => {\n    const previousSubscriber = trackInvocation.$effectSubscriber$;\n    const previousContainer = trackInvocation.$container$;\n    try {\n        trackInvocation.$effectSubscriber$ = [subscriber, property];\n        if (data) {\n            trackInvocation.$effectSubscriber$.push(data);\n        }\n        trackInvocation.$container$ = container;\n        return invoke(trackInvocation, fn);\n    }\n    finally {\n        trackInvocation.$effectSubscriber$ = previousSubscriber;\n        trackInvocation.$container$ = previousContainer;\n    }\n};\n/** @internal */\nexport const _getContextElement = () => {\n    const iCtx = tryGetInvokeContext();\n    if (iCtx) {\n        const hostElement = iCtx.$hostElement$;\n        let element = null;\n        if (vnode_isVNode(hostElement) && vnode_isElementVNode(hostElement)) {\n            element = vnode_getNode(hostElement);\n        }\n        return element ?? iCtx.$qrl$?.$setContainer$(undefined);\n    }\n};\n/** @internal */\nexport const _getContextEvent = () => {\n    const iCtx = tryGetInvokeContext();\n    if (iCtx) {\n        return iCtx.$event$;\n    }\n};\n/** @internal */\nexport const _jsxBranch = (input) => {\n    return input;\n};\n/** @internal */\nexport const _waitUntilRendered = (elm) => {\n    const containerEl = _getQContainerElement(elm);\n    if (!containerEl) {\n        return Promise.resolve();\n    }\n    const container = containerEl.qContainer;\n    return container?.renderDone ?? Promise.resolve();\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLWNvcmUuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvdXNlL3VzZS1jb3JlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQUN2RCxPQUFPLEVBQ0wsTUFBTSxFQUNOLHVCQUF1QixFQUN2Qiw4QkFBOEIsR0FDL0IsTUFBTSx1QkFBdUIsQ0FBQztBQUcvQixPQUFPLEVBQ0wsYUFBYSxFQUNiLGtCQUFrQixFQUNsQixXQUFXLEVBQ1gsV0FBVyxFQUNYLGFBQWEsRUFDYixTQUFTLEdBQ1YsTUFBTSx5QkFBeUIsQ0FBQztBQUNqQyxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sMEJBQTBCLENBQUM7QUFDckQsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBQzVDLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQUNoRCxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sY0FBYyxDQUFDO0FBRXpDLE9BQU8sRUFBRSxhQUFhLEVBQUUsb0JBQW9CLEVBQUUsYUFBYSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDckYsT0FBTyxFQUFFLHFCQUFxQixFQUFFLE1BQU0seUJBQXlCLENBQUM7QUE4RGhFLElBQUksUUFBbUMsQ0FBQztBQUV4QyxjQUFjO0FBQ2QsTUFBTSxDQUFDLE1BQU0sbUJBQW1CLEdBQUcsR0FBOEIsRUFBRTtJQUNqRSxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDZCxNQUFNLE9BQU8sR0FBRyxPQUFPLFFBQVEsS0FBSyxXQUFXLElBQUksUUFBUSxJQUFJLFFBQVEsQ0FBQyxhQUFhLENBQUM7UUFDdEYsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDO1lBQ2IsT0FBTyxTQUFTLENBQUM7UUFDbkIsQ0FBQztRQUNELElBQUksT0FBTyxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUM7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QUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IFF3aWtEb2N1bWVudCB9IGZyb20gJy4uL2RvY3VtZW50JztcbmltcG9ydCB7IGFzc2VydERlZmluZWQgfSBmcm9tICcuLi9zaGFyZWQvZXJyb3IvYXNzZXJ0JztcbmltcG9ydCB7XG4gIHFFcnJvcixcbiAgUUVycm9yX3VzZUludm9rZUNvbnRleHQsXG4gIFFFcnJvcl91c2VNZXRob2RPdXRzaWRlQ29udGV4dCxcbn0gZnJvbSAnLi4vc2hhcmVkL2Vycm9yL2Vycm9yJztcbmltcG9ydCB0eXBlIHsgUVJMSW50ZXJuYWwgfSBmcm9tICcuLi9zaGFyZWQvcXJsL3FybC1jbGFzcyc7XG5pbXBvcnQgdHlwZSB7IFFSTCB9IGZyb20gJy4uL3NoYXJlZC9xcmwvcXJsLnB1YmxpYyc7XG5pbXBvcnQge1xuICBDb21wdXRlZEV2ZW50LFxuICBRQ29udGFpbmVyU2VsZWN0b3IsXG4gIFFMb2NhbGVBdHRyLFxuICBSZW5kZXJFdmVudCxcbiAgUmVzb3VyY2VFdmVudCxcbiAgVGFza0V2ZW50LFxufSBmcm9tICcuLi9zaGFyZWQvdXRpbHMvbWFya2Vycyc7XG5pbXBvcnQgeyBpc1Byb21pc2UgfSBmcm9tICcuLi9zaGFyZWQvdXRpbHMvcHJvbWlzZXMnO1xuaW1wb3J0IHsgc2VhbCB9IGZyb20gJy4uL3NoYXJlZC91dGlscy9xZGV2JztcbmltcG9ydCB7IGlzQXJyYXkgfSBmcm9tICcuLi9zaGFyZWQvdXRpbHMvdHlwZXMnO1xuaW1wb3J0IHsgc2V0TG9jYWxlIH0gZnJvbSAnLi91c2UtbG9jYWxlJztcbmltcG9ydCB0eXBlIHsgQ29udGFpbmVyLCBIb3N0RWxlbWVudCB9IGZyb20gJy4uL3NoYXJlZC90eXBlcyc7XG5pbXBvcnQgeyB2bm9kZV9nZXROb2RlLCB2bm9kZV9pc0VsZW1lbnRWTm9kZSwgdm5vZGVfaXNWTm9kZSB9IGZyb20gJy4uL2NsaWVudC92bm9kZSc7XG5pbXBvcnQgeyBfZ2V0UUNvbnRhaW5lckVsZW1lbnQgfSBmcm9tICcuLi9jbGllbnQvZG9tLWNvbnRhaW5lcic7XG5pbXBvcnQgdHlwZSB7IENvbnRhaW5lckVsZW1lbnQgfSBmcm9tICcuLi9jbGllbnQvdHlwZXMnO1xuaW1wb3J0IHR5cGUgeyBFZmZlY3REYXRhLCBFZmZlY3RTdWJzY3JpcHRpb25zLCBFZmZlY3RTdWJzY3JpcHRpb25zUHJvcCB9IGZyb20gJy4uL3NpZ25hbC9zaWduYWwnO1xuXG5kZWNsYXJlIGNvbnN0IGRvY3VtZW50OiBRd2lrRG9jdW1lbnQ7XG5cbi8vIFNpbXBsaWZpZWQgdmVyc2lvbiBvZiBgU2VydmVyUmVxdWVzdEV2ZW50YCBmcm9tIGBAcXdpay5kZXYvY2l0eWAgcGFja2FnZS5cbmV4cG9ydCBpbnRlcmZhY2UgU2ltcGxpZmllZFNlcnZlclJlcXVlc3RFdmVudDxUID0gdW5rbm93bj4ge1xuICB1cmw6IFVSTDtcbiAgbG9jYWxlOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIHJlcXVlc3Q6IFJlcXVlc3Q7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3R5bGVBcHBlbmQge1xuICBzdHlsZUlkOiBzdHJpbmc7XG4gIGNvbnRlbnQ6IHN0cmluZyB8IG51bGw7XG59XG5cbi8vIFNpbXBsaWZpZWQgdmVyc2lvbiBvZiBgU2VydmVyUmVxdWVzdEV2ZW50YCBmcm9tIGBAcXdpay5kZXYvY2l0eWAgcGFja2FnZS5cbmV4cG9ydCBpbnRlcmZhY2UgU2VydmVyUmVxdWVzdEV2ZW50PFQgPSB1bmtub3duPiB7XG4gIHVybDogVVJMO1xuICBsb2NhbGU6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgcmVxdWVzdDogUmVxdWVzdDtcbn1cblxuZXhwb3J0IHR5cGUgUG9zc2libGVFdmVudHMgPVxuICB8IEV2ZW50XG4gIHwgU2ltcGxpZmllZFNlcnZlclJlcXVlc3RFdmVudFxuICB8IHR5cGVvZiBUYXNrRXZlbnRcbiAgfCB0eXBlb2YgUmVuZGVyRXZlbnRcbiAgfCB0eXBlb2YgQ29tcHV0ZWRFdmVudFxuICB8IHR5cGVvZiBSZXNvdXJjZUV2ZW50O1xuXG5leHBvcnQgaW50ZXJmYWNlIFJlbmRlckludm9rZUNvbnRleHQgZXh0ZW5kcyBJbnZva2VDb250ZXh0IHtcbiAgLy8gVGhlIGJlbG93IGFyZSBqdXN0IGFsd2F5cy1kZWZpbmVkIGF0dHJpYnV0ZXMgb2YgSW52b2tlQ29udGV4dC5cbiAgJGhvc3RFbGVtZW50JDogSG9zdEVsZW1lbnQ7XG4gICRldmVudCQ6IFBvc3NpYmxlRXZlbnRzO1xuICAkd2FpdE9uJDogUHJvbWlzZTx1bmtub3duPltdO1xuICAkY29udGFpbmVyJDogQ29udGFpbmVyO1xufVxuXG5leHBvcnQgdHlwZSBJbnZva2VUdXBsZSA9IFtFbGVtZW50LCBFdmVudCwgVVJMP107XG5cbi8qKiBUaGUgc2hhcmVkIHN0YXRlIGR1cmluZyBhbiBpbnZva2UoKSBjYWxsICovXG5leHBvcnQgaW50ZXJmYWNlIEludm9rZUNvbnRleHQge1xuICAvKiBUaGUgVVJMIG9mIHRoZSBRUkwgKi9cbiAgJHVybCQ6IFVSTCB8IHVuZGVmaW5lZDtcbiAgLyoqIFRoZSBuZXh0IGF2YWlsYWJsZSBpbmRleCBmb3IgdGhlIHNlcXVlbnRpYWxTY29wZSBhcnJheSAqL1xuICAkaSQ6IG51bWJlcjtcbiAgLyoqIFRoZSBWaXJ0dWFsIHBhcmVudCBjb21wb25lbnQgZm9yIHRoZSBjdXJyZW50IGNvbXBvbmVudCBjb2RlICovXG4gICRob3N0RWxlbWVudCQ6IEhvc3RFbGVtZW50IHwgdW5kZWZpbmVkO1xuICAvKiogVGhlIGN1cnJlbnQgRE9NIGVsZW1lbnQgKi9cbiAgJGVsZW1lbnQkOiBFbGVtZW50IHwgdW5kZWZpbmVkO1xuICAvKiogVGhlIGV2ZW50IHdlJ3JlIGN1cnJlbnRseSBoYW5kbGluZyAqL1xuICAkZXZlbnQkOiBQb3NzaWJsZUV2ZW50cyB8IHVuZGVmaW5lZDtcbiAgLyoqIFRoZSBRUkwgZnVuY3Rpb24gd2UncmUgY3VycmVudGx5IGV4ZWN1dGluZyAqL1xuICAkcXJsJDogUVJMIHwgdW5kZWZpbmVkO1xuICAkZWZmZWN0U3Vic2NyaWJlciQ6IEVmZmVjdFN1YnNjcmlwdGlvbnMgfCB1bmRlZmluZWQ7XG4gICRsb2NhbGUkOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gICRjb250YWluZXIkOiBDb250YWluZXIgfCB1bmRlZmluZWQ7XG59XG5cbmxldCBfY29udGV4dDogSW52b2tlQ29udGV4dCB8IHVuZGVmaW5lZDtcblxuLyoqIEBwdWJsaWMgKi9cbmV4cG9ydCBjb25zdCB0cnlHZXRJbnZva2VDb250ZXh0ID0gKCk6IEludm9rZUNvbnRleHQgfCB1bmRlZmluZWQgPT4ge1xuICBpZiAoIV9jb250ZXh0KSB7XG4gICAgY29uc3QgY29udGV4dCA9IHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgZG9jdW1lbnQgJiYgZG9jdW1lbnQuX19xX2NvbnRleHRfXztcbiAgICBpZiAoIWNvbnRleHQpIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmIChpc0FycmF5KGNvbnRleHQpKSB7XG4gICAgICByZXR1cm4gKGRvY3VtZW50Ll9fcV9jb250ZXh0X18gPSBuZXdJbnZva2VDb250ZXh0RnJvbVR1cGxlKGNvbnRleHQgYXMgSW52b2tlVHVwbGUpKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRleHQgYXMgSW52b2tlQ29udGV4dDtcbiAgfVxuICByZXR1cm4gX2NvbnRleHQ7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0SW52b2tlQ29udGV4dCA9ICgpOiBJbnZva2VDb250ZXh0ID0+IHtcbiAgY29uc3QgY3R4ID0gdHJ5R2V0SW52b2tlQ29udGV4dCgpO1xuICBpZiAoIWN0eCkge1xuICAgIHRocm93IHFFcnJvcihRRXJyb3JfdXNlTWV0aG9kT3V0c2lkZUNvbnRleHQpO1xuICB9XG4gIHJldHVybiBjdHg7XG59O1xuXG5leHBvcnQgY29uc3QgdXNlSW52b2tlQ29udGV4dCA9ICgpOiBSZW5kZXJJbnZva2VDb250ZXh0ID0+IHtcbiAgY29uc3QgY3R4ID0gdHJ5R2V0SW52b2tlQ29udGV4dCgpO1xuICBpZiAoIWN0eCB8fCBjdHguJGV2ZW50JCAhPT0gUmVuZGVyRXZlbnQpIHtcbiAgICB0aHJvdyBxRXJyb3IoUUVycm9yX3VzZUludm9rZUNvbnRleHQpO1xuICB9XG4gIGFzc2VydERlZmluZWQoY3R4LiRob3N0RWxlbWVudCQsIGBpbnZva2U6ICRob3N0RWxlbWVudCQgbXVzdCBiZSBkZWZpbmVkYCwgY3R4KTtcbiAgYXNzZXJ0RGVmaW5lZChjdHguJGVmZmVjdFN1YnNjcmliZXIkLCBgaW52b2tlOiAkZWZmZWN0U3Vic2NyaWJlciQgbXVzdCBiZSBkZWZpbmVkYCwgY3R4KTtcblxuICByZXR1cm4gY3R4IGFzIFJlbmRlckludm9rZUNvbnRleHQ7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gdXNlQmluZEludm9rZUNvbnRleHQ8Rk4gZXh0ZW5kcyAoLi4uYXJnczogYW55KSA9PiBhbnk+KFxuICB0aGlzOiB1bmtub3duLFxuICBmbjogRk4gfCB1bmRlZmluZWRcbik6IHR5cGVvZiBmbiB7XG4gIGlmIChmbiA9PSBudWxsKSB7XG4gICAgcmV0dXJuIGZuO1xuICB9XG4gIGNvbnN0IGN0eCA9IGdldEludm9rZUNvbnRleHQoKTtcbiAgcmV0dXJuIGZ1bmN0aW9uICh0aGlzOiB1bmtub3duLCAuLi5hcmdzOiBQYXJhbWV0ZXJzPEZOPikge1xuICAgIHJldHVybiAoaW52b2tlQXBwbHk8Rk4+KS5jYWxsKHRoaXMsIGN0eCwgZm4hLCBhcmdzKTtcbiAgfSBhcyBGTjtcbn1cblxuLyoqIENhbGwgYSBmdW5jdGlvbiB3aXRoIHRoZSBnaXZlbiBJbnZva2VDb250ZXh0IGFuZCBnaXZlbiBhcmd1bWVudHMuICovXG5leHBvcnQgZnVuY3Rpb24gaW52b2tlPEZOIGV4dGVuZHMgKC4uLmFyZ3M6IGFueSkgPT4gYW55PihcbiAgdGhpczogdW5rbm93bixcbiAgY29udGV4dDogSW52b2tlQ29udGV4dCB8IHVuZGVmaW5lZCxcbiAgZm46IEZOLFxuICAuLi5hcmdzOiBQYXJhbWV0ZXJzPEZOPlxuKTogUmV0dXJuVHlwZTxGTj4ge1xuICByZXR1cm4gaW52b2tlQXBwbHkuY2FsbCh0aGlzLCBjb250ZXh0LCBmbiwgYXJncyk7XG59XG5cbi8qKiBDYWxsIGEgZnVuY3Rpb24gd2l0aCB0aGUgZ2l2ZW4gSW52b2tlQ29udGV4dCBhbmQgYXJyYXkgb2YgYXJndW1lbnRzLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGludm9rZUFwcGx5PEZOIGV4dGVuZHMgKC4uLmFyZ3M6IGFueSkgPT4gYW55PihcbiAgdGhpczogdW5rbm93bixcbiAgY29udGV4dDogSW52b2tlQ29udGV4dCB8IHVuZGVmaW5lZCxcbiAgZm46IEZOLFxuICBhcmdzOiBQYXJhbWV0ZXJzPEZOPlxuKTogUmV0dXJuVHlwZTxGTj4ge1xuICBjb25zdCBwcmV2aW91c0NvbnRleHQgPSBfY29udGV4dDtcbiAgbGV0IHJldHVyblZhbHVlOiBSZXR1cm5UeXBlPEZOPjtcbiAgdHJ5IHtcbiAgICBfY29udGV4dCA9IGNvbnRleHQ7XG4gICAgcmV0dXJuVmFsdWUgPSBmbi5hcHBseSh0aGlzLCBhcmdzKTtcbiAgfSBmaW5hbGx5IHtcbiAgICBfY29udGV4dCA9IHByZXZpb3VzQ29udGV4dDtcbiAgfVxuICByZXR1cm4gcmV0dXJuVmFsdWU7XG59XG5cbmV4cG9ydCBjb25zdCB3YWl0QW5kUnVuID0gKGN0eDogUmVuZGVySW52b2tlQ29udGV4dCwgY2FsbGJhY2s6ICgpID0+IHVua25vd24pID0+IHtcbiAgY29uc3Qgd2FpdE9uID0gY3R4LiR3YWl0T24kO1xuICBpZiAod2FpdE9uLmxlbmd0aCA9PT0gMCkge1xuICAgIGNvbnN0IHJlc3VsdCA9IGNhbGxiYWNrKCk7XG4gICAgaWYgKGlzUHJvbWlzZShyZXN1bHQpKSB7XG4gICAgICB3YWl0T24ucHVzaChyZXN1bHQpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB3YWl0T24ucHVzaChQcm9taXNlLmFsbCh3YWl0T24pLnRoZW4oY2FsbGJhY2spKTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IG5ld0ludm9rZUNvbnRleHRGcm9tVHVwbGUgPSAoW2VsZW1lbnQsIGV2ZW50LCB1cmxdOiBJbnZva2VUdXBsZSkgPT4ge1xuICBjb25zdCBjb250YWluZXIgPSBlbGVtZW50LmNsb3Nlc3QoUUNvbnRhaW5lclNlbGVjdG9yKTtcbiAgY29uc3QgbG9jYWxlID0gY29udGFpbmVyPy5nZXRBdHRyaWJ1dGUoUUxvY2FsZUF0dHIpIHx8IHVuZGVmaW5lZDtcbiAgbG9jYWxlICYmIHNldExvY2FsZShsb2NhbGUpO1xuICByZXR1cm4gbmV3SW52b2tlQ29udGV4dChsb2NhbGUsIHVuZGVmaW5lZCwgZWxlbWVudCwgZXZlbnQsIHVybCk7XG59O1xuXG4vLyBUT0RPIGhvdyBhYm91dCBwdXR0aW5nIHVybCBhbmQgbG9jYWxlIChhbmQgZXZlbnQvY3VzdG9tPykgaW4gdG8gYSBcInN0YXRpY1wiIG9iamVjdFxuZXhwb3J0IGNvbnN0IG5ld0ludm9rZUNvbnRleHQgPSAoXG4gIGxvY2FsZT86IHN0cmluZyxcbiAgaG9zdEVsZW1lbnQ/OiBIb3N0RWxlbWVudCxcbiAgZWxlbWVudD86IEVsZW1lbnQsXG4gIGV2ZW50PzogUG9zc2libGVFdmVudHMsXG4gIHVybD86IFVSTFxuKTogSW52b2tlQ29udGV4dCA9PiB7XG4gIC8vIFNlcnZlclJlcXVlc3RFdmVudCBoYXMgLmxvY2FsZSwgYnV0IGl0J3Mgbm90IGFsd2F5cyBkZWZpbmVkLlxuICBjb25zdCAkbG9jYWxlJCA9XG4gICAgbG9jYWxlIHx8ICh0eXBlb2YgZXZlbnQgPT09ICdvYmplY3QnICYmIGV2ZW50ICYmICdsb2NhbGUnIGluIGV2ZW50ID8gZXZlbnQubG9jYWxlIDogdW5kZWZpbmVkKTtcbiAgY29uc3QgY3R4OiBJbnZva2VDb250ZXh0ID0ge1xuICAgICR1cmwkOiB1cmwsXG4gICAgJGkkOiAwLFxuICAgICRob3N0RWxlbWVudCQ6IGhvc3RFbGVtZW50LFxuICAgICRlbGVtZW50JDogZWxlbWVudCxcbiAgICAkZXZlbnQkOiBldmVudCxcbiAgICAkcXJsJDogdW5kZWZpbmVkLFxuICAgICRlZmZlY3RTdWJzY3JpYmVyJDogdW5kZWZpbmVkLFxuICAgICRsb2NhbGUkLFxuICAgICRjb250YWluZXIkOiB1bmRlZmluZWQsXG4gIH07XG4gIHNlYWwoY3R4KTtcbiAgcmV0dXJuIGN0eDtcbn07XG5cbi8qKlxuICogRG9uJ3QgdHJhY2sgbGlzdGVuZXJzIGZvciB0aGlzIGNhbGxiYWNrXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgdW50cmFjayA9IDxUPihmbjogKCkgPT4gVCk6IFQgPT4ge1xuICByZXR1cm4gaW52b2tlKHVuZGVmaW5lZCwgZm4pO1xufTtcblxuY29uc3QgdHJhY2tJbnZvY2F0aW9uID0gLyojX19QVVJFX18qLyBuZXdJbnZva2VDb250ZXh0KFxuICB1bmRlZmluZWQsXG4gIHVuZGVmaW5lZCxcbiAgdW5kZWZpbmVkLFxuICBSZW5kZXJFdmVudFxuKTtcblxuLyoqXG4gKiBAcGFyYW0gZm5cbiAqIEBwYXJhbSBzdWJzY3JpYmVyXG4gKiBAcGFyYW0gcHJvcGVydHkgYHRydWVgIC0gc3Vic2NyaWJlciBpcyBjb21wb25lbnQgYGZhbHNlYCAtIHN1YnNjcmliZXIgaXMgVk5vZGUgYHN0cmluZ2AgLVxuICogICBzdWJzY3JpYmVyIGlzIHByb3BlcnR5XG4gKiBAcGFyYW0gY29udGFpbmVyXG4gKiBAcmV0dXJuc1xuICovXG5leHBvcnQgY29uc3QgdHJhY2tTaWduYWwgPSA8VD4oXG4gIGZuOiAoKSA9PiBULFxuICBzdWJzY3JpYmVyOiBFZmZlY3RTdWJzY3JpcHRpb25zW0VmZmVjdFN1YnNjcmlwdGlvbnNQcm9wLkVGRkVDVF0sXG4gIHByb3BlcnR5OiBFZmZlY3RTdWJzY3JpcHRpb25zW0VmZmVjdFN1YnNjcmlwdGlvbnNQcm9wLlBST1BFUlRZXSxcbiAgY29udGFpbmVyOiBDb250YWluZXIsXG4gIGRhdGE/OiBFZmZlY3REYXRhXG4pOiBUID0+IHtcbiAgY29uc3QgcHJldmlvdXNTdWJzY3JpYmVyID0gdHJhY2tJbnZvY2F0aW9uLiRlZmZlY3RTdWJzY3JpYmVyJDtcbiAgY29uc3QgcHJldmlvdXNDb250YWluZXIgPSB0cmFja0ludm9jYXRpb24uJGNvbnRhaW5lciQ7XG4gIHRyeSB7XG4gICAgdHJhY2tJbnZvY2F0aW9uLiRlZmZlY3RTdWJzY3JpYmVyJCA9IFtzdWJzY3JpYmVyLCBwcm9wZXJ0eV07XG4gICAgaWYgKGRhdGEpIHtcbiAgICAgIHRyYWNrSW52b2NhdGlvbi4kZWZmZWN0U3Vic2NyaWJlciQucHVzaChkYXRhKTtcbiAgICB9XG4gICAgdHJhY2tJbnZvY2F0aW9uLiRjb250YWluZXIkID0gY29udGFpbmVyO1xuICAgIHJldHVybiBpbnZva2UodHJhY2tJbnZvY2F0aW9uLCBmbik7XG4gIH0gZmluYWxseSB7XG4gICAgdHJhY2tJbnZvY2F0aW9uLiRlZmZlY3RTdWJzY3JpYmVyJCA9IHByZXZpb3VzU3Vic2NyaWJlcjtcbiAgICB0cmFja0ludm9jYXRpb24uJGNvbnRhaW5lciQgPSBwcmV2aW91c0NvbnRhaW5lcjtcbiAgfVxufTtcblxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IF9nZXRDb250ZXh0RWxlbWVudCA9ICgpOiB1bmtub3duID0+IHtcbiAgY29uc3QgaUN0eCA9IHRyeUdldEludm9rZUNvbnRleHQoKTtcbiAgaWYgKGlDdHgpIHtcbiAgICBjb25zdCBob3N0RWxlbWVudCA9IGlDdHguJGhvc3RFbGVtZW50JDtcbiAgICBsZXQgZWxlbWVudDogRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICAgIGlmICh2bm9kZV9pc1ZOb2RlKGhvc3RFbGVtZW50KSAmJiB2bm9kZV9pc0VsZW1lbnRWTm9kZShob3N0RWxlbWVudCkpIHtcbiAgICAgIGVsZW1lbnQgPSB2bm9kZV9nZXROb2RlKGhvc3RFbGVtZW50KSBhcyBFbGVtZW50IHwgbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gZWxlbWVudCA/PyAoaUN0eC4kcXJsJCBhcyBRUkxJbnRlcm5hbCk/LiRzZXRDb250YWluZXIkKHVuZGVmaW5lZCk7XG4gIH1cbn07XG5cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBfZ2V0Q29udGV4dEV2ZW50ID0gKCk6IHVua25vd24gPT4ge1xuICBjb25zdCBpQ3R4ID0gdHJ5R2V0SW52b2tlQ29udGV4dCgpO1xuICBpZiAoaUN0eCkge1xuICAgIHJldHVybiBpQ3R4LiRldmVudCQ7XG4gIH1cbn07XG5cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBfanN4QnJhbmNoID0gPFQ+KGlucHV0PzogVCkgPT4ge1xuICByZXR1cm4gaW5wdXQ7XG59O1xuXG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgX3dhaXRVbnRpbFJlbmRlcmVkID0gKGVsbTogRWxlbWVudCkgPT4ge1xuICBjb25zdCBjb250YWluZXJFbCA9IF9nZXRRQ29udGFpbmVyRWxlbWVudChlbG0pO1xuICBpZiAoIWNvbnRhaW5lckVsKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICB9XG4gIGNvbnN0IGNvbnRhaW5lciA9IChjb250YWluZXJFbCBhcyBDb250YWluZXJFbGVtZW50KS5xQ29udGFpbmVyO1xuICByZXR1cm4gY29udGFpbmVyPy5yZW5kZXJEb25lID8/IFByb21pc2UucmVzb2x2ZSgpO1xufTtcbiJdfQ==","import { assertTrue } from '../shared/error/assert';\nimport { qError, QError_invalidContext, QError_notFoundContext } from '../shared/error/error';\nimport { verifySerializable } from '../shared/utils/serialize-utils';\nimport { qDev, qSerialize } from '../shared/utils/qdev';\nimport { isObject } from '../shared/utils/types';\nimport { invoke } from './use-core';\nimport { useSequentialScope } from './use-sequential-scope';\nimport { fromCamelToKebabCase } from '../shared/utils/event-names';\n// <docs markdown=\"../readme.md#createContextId\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#createContextId instead)\n/**\n * Create a context ID to be used in your application. The name should be written with no spaces.\n *\n * Context is a way to pass stores to the child components without prop-drilling.\n *\n * Use `createContextId()` to create a `ContextId`. A `ContextId` is just a serializable identifier\n * for the context. It is not the context value itself. See `useContextProvider()` and\n * `useContext()` for the values. Qwik needs a serializable ID for the context so that the it can\n * track context providers and consumers in a way that survives resumability.\n *\n * ### Example\n *\n * ```tsx\n * // Declare the Context type.\n * interface TodosStore {\n *   items: string[];\n * }\n * // Create a Context ID (no data is saved here.)\n * // You will use this ID to both create and retrieve the Context.\n * export const TodosContext = createContextId<TodosStore>('Todos');\n *\n * // Example of providing context to child components.\n * export const App = component$(() => {\n *   useContextProvider(\n *     TodosContext,\n *     useStore<TodosStore>({\n *       items: ['Learn Qwik', 'Build Qwik app', 'Profit'],\n *     })\n *   );\n *\n *   return <Items />;\n * });\n *\n * // Example of retrieving the context provided by a parent component.\n * export const Items = component$(() => {\n *   const todos = useContext(TodosContext);\n *   return (\n *     <ul>\n *       {todos.items.map((item) => (\n *         <li>{item}</li>\n *       ))}\n *     </ul>\n *   );\n * });\n *\n * ```\n *\n * @param name - The name of the context.\n * @public\n */\n// </docs>\nexport const createContextId = (name) => {\n    assertTrue(/^[\\w/.-]+$/.test(name), 'Context name must only contain A-Z,a-z,0-9, _', name);\n    return /*#__PURE__*/ Object.freeze({\n        id: fromCamelToKebabCase(name),\n    });\n};\n// <docs markdown=\"../readme.md#useContextProvider\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useContextProvider instead)\n/**\n * Assign a value to a Context.\n *\n * Use `useContextProvider()` to assign a value to a context. The assignment happens in the\n * component's function. Once assigned, use `useContext()` in any child component to retrieve the\n * value.\n *\n * Context is a way to pass stores to the child components without prop-drilling. Note that scalar\n * values are allowed, but for reactivity you need signals or stores.\n *\n * ### Example\n *\n * ```tsx\n * // Declare the Context type.\n * interface TodosStore {\n *   items: string[];\n * }\n * // Create a Context ID (no data is saved here.)\n * // You will use this ID to both create and retrieve the Context.\n * export const TodosContext = createContextId<TodosStore>('Todos');\n *\n * // Example of providing context to child components.\n * export const App = component$(() => {\n *   useContextProvider(\n *     TodosContext,\n *     useStore<TodosStore>({\n *       items: ['Learn Qwik', 'Build Qwik app', 'Profit'],\n *     })\n *   );\n *\n *   return <Items />;\n * });\n *\n * // Example of retrieving the context provided by a parent component.\n * export const Items = component$(() => {\n *   const todos = useContext(TodosContext);\n *   return (\n *     <ul>\n *       {todos.items.map((item) => (\n *         <li>{item}</li>\n *       ))}\n *     </ul>\n *   );\n * });\n *\n * ```\n *\n * @param context - The context to assign a value to.\n * @param value - The value to assign to the context.\n * @public\n */\n// </docs>\nexport const useContextProvider = (context, newValue) => {\n    const { val, set, iCtx } = useSequentialScope();\n    if (val !== undefined) {\n        return;\n    }\n    if (qDev) {\n        validateContext(context);\n    }\n    if (qDev && qSerialize) {\n        verifySerializable(newValue);\n    }\n    iCtx.$container$.setContext(iCtx.$hostElement$, context, newValue);\n    set(1);\n};\n// <docs markdown=\"../readme.md#useContext\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useContext instead)\n/**\n * Retrieve Context value.\n *\n * Use `useContext()` to retrieve the value of context in a component. To retrieve a value a parent\n * component needs to invoke `useContextProvider()` to assign a value.\n *\n * ### Example\n *\n * ```tsx\n * // Declare the Context type.\n * interface TodosStore {\n *   items: string[];\n * }\n * // Create a Context ID (no data is saved here.)\n * // You will use this ID to both create and retrieve the Context.\n * export const TodosContext = createContextId<TodosStore>('Todos');\n *\n * // Example of providing context to child components.\n * export const App = component$(() => {\n *   useContextProvider(\n *     TodosContext,\n *     useStore<TodosStore>({\n *       items: ['Learn Qwik', 'Build Qwik app', 'Profit'],\n *     })\n *   );\n *\n *   return <Items />;\n * });\n *\n * // Example of retrieving the context provided by a parent component.\n * export const Items = component$(() => {\n *   const todos = useContext(TodosContext);\n *   return (\n *     <ul>\n *       {todos.items.map((item) => (\n *         <li>{item}</li>\n *       ))}\n *     </ul>\n *   );\n * });\n *\n * ```\n *\n * @param context - The context to retrieve a value from.\n * @public\n */\n// </docs>\nexport const useContext = (context, defaultValue) => {\n    const { val, set, iCtx } = useSequentialScope();\n    if (val !== undefined) {\n        return val;\n    }\n    if (qDev) {\n        validateContext(context);\n    }\n    const value = iCtx.$container$.resolveContext(iCtx.$hostElement$, context);\n    if (typeof defaultValue === 'function') {\n        return set(invoke(undefined, defaultValue, value));\n    }\n    if (value !== undefined) {\n        return set(value);\n    }\n    if (defaultValue !== undefined) {\n        return set(defaultValue);\n    }\n    throw qError(QError_notFoundContext, context.id);\n};\nexport const validateContext = (context) => {\n    if (!isObject(context) || typeof context.id !== 'string' || context.id.length === 0) {\n        throw qError(QError_invalidContext, context);\n    }\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLWNvbnRleHQuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvdXNlL3VzZS1jb250ZXh0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQUNwRCxPQUFPLEVBQUUsTUFBTSxFQUFFLHFCQUFxQixFQUFFLHNCQUFzQixFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFDOUYsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0saUNBQWlDLENBQUM7QUFDckUsT0FBTyxFQUFFLElBQUksRUFBRSxVQUFVLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUN4RCxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFDakQsT0FBTyxFQUFFLE1BQU0sRUFBRSxNQUFNLFlBQVksQ0FBQztBQUNwQyxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQUM1RCxPQUFPLEVBQUUsb0JBQW9CLEVBQUUsTUFBTSw2QkFBNkIsQ0FBQztBQThEbkUsaURBQWlEO0FBQ2pELHlDQUF5QztBQUN6Qyw4Q0FBOEM7QUFDOUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7R0FpREc7QUFDSCxVQUFVO0FBQ1YsTUFBTSxDQUFDLE1BQU0sZUFBZSxHQUFHLENBQWtCLElBQVksRUFBb0IsRUFBRTtJQUNqRixVQUFVLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSwrQ0FBK0MsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUMzRixPQUFPLGFBQWEsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDO1FBQ2pDLEVBQUUsRUFBRSxvQkFBb0IsQ0FBQyxJQUFJLENBQUM7S0FDeEIsQ0FBQyxDQUFDO0FBQ1osQ0FBQyxDQUFDO0FBRUYsb0RBQW9EO0FBQ3BELHlDQUF5QztBQUN6QyxpREFBaUQ7QUFDakQ7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0dBa0RHO0FBQ0gsVUFBVTtBQUNWLE1BQU0sQ0FBQyxNQUFNLGtCQUFrQixHQUFHLENBQVEsT0FBeUIsRUFBRSxRQUFlLEVBQUUsRUFBRTtJQUN0RixNQUFNLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxrQkFBa0IsRUFBSyxDQUFDO0lBQ25ELElBQUksR0FBRyxLQUFLLFNBQVMsRUFBRSxDQUFDO1FBQ3RCLE9BQU87SUFDVCxDQUFDO0lBQ0QsSUFBSSxJQUFJLEVBQUUsQ0FBQztRQUNULGVBQWUsQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUMzQixDQUFDO0lBQ0QsSUFBSSxJQUFJLElBQUksVUFBVSxFQUFFLENBQUM7UUFDdkIsa0JBQWtCLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDL0IsQ0FBQztJQUNELElBQUksQ0FBQyxXQUFXLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxhQUFhLEVBQUUsT0FBTyxFQUFFLFFBQVEsQ0FBQyxDQUFDO0lBQ25FLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNULENBQUMsQ0FBQztBQVFGLDRDQUE0QztBQUM1Qyx5Q0FBeUM7QUFDekMseUNBQXlDO0FBQ3pDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7R0E2Q0c7QUFDSCxVQUFVO0FBQ1YsTUFBTSxDQUFDLE1BQU0sVUFBVSxHQUFlLENBQ3BDLE9BQXlCLEVBQ3pCLFlBQThELEVBQzlELEVBQUU7SUFDRixNQUFNLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxrQkFBa0IsRUFBUyxDQUFDO0lBQ3ZELElBQUksR0FBRyxLQUFLLFNBQVMsRUFBRSxDQUFDO1FBQ3RCLE9BQU8sR0FBRyxDQUFDO0lBQ2IsQ0FBQztJQUNELElBQUksSUFBSSxFQUFFLENBQUM7UUFDVCxlQUFlLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDM0IsQ0FBQztJQUVELE1BQU0sS0FBSyxHQUFzQixJQUFJLENBQUMsV0FBVyxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsYUFBYSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQzlGLElBQUksT0FBTyxZQUFZLEtBQUssVUFBVSxFQUFFLENBQUM7UUFDdkMsT0FBTyxHQUFHLENBQUMsTUFBTSxDQUFDLFNBQVMsRUFBRSxZQUFtQixFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUM7SUFDNUQsQ0FBQztJQUNELElBQUksS0FBSyxLQUFLLFNBQVMsRUFBRSxDQUFDO1FBQ3hCLE9BQU8sR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3BCLENBQUM7SUFDRCxJQUFJLFlBQVksS0FBSyxTQUFTLEVBQUUsQ0FBQztRQUMvQixPQUFPLEdBQUcsQ0FBQyxZQUFZLENBQUMsQ0FBQztJQUMzQixDQUFDO0lBQ0QsTUFBTSxNQUFNLENBQUMsc0JBQXNCLEVBQUUsT0FBTyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0FBQ25ELENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLGVBQWUsR0FBRyxDQUFDLE9BQXVCLEVBQUUsRUFBRTtJQUN6RCxJQUFJLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxJQUFJLE9BQU8sT0FBTyxDQUFDLEVBQUUsS0FBSyxRQUFRLElBQUksT0FBTyxDQUFDLEVBQUUsQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFLENBQUM7UUFDcEYsTUFBTSxNQUFNLENBQUMscUJBQXFCLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDL0MsQ0FBQztBQUNILENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFzc2VydFRydWUgfSBmcm9tICcuLi9zaGFyZWQvZXJyb3IvYXNzZXJ0JztcbmltcG9ydCB7IHFFcnJvciwgUUVycm9yX2ludmFsaWRDb250ZXh0LCBRRXJyb3Jfbm90Rm91bmRDb250ZXh0IH0gZnJvbSAnLi4vc2hhcmVkL2Vycm9yL2Vycm9yJztcbmltcG9ydCB7IHZlcmlmeVNlcmlhbGl6YWJsZSB9IGZyb20gJy4uL3NoYXJlZC91dGlscy9zZXJpYWxpemUtdXRpbHMnO1xuaW1wb3J0IHsgcURldiwgcVNlcmlhbGl6ZSB9IGZyb20gJy4uL3NoYXJlZC91dGlscy9xZGV2JztcbmltcG9ydCB7IGlzT2JqZWN0IH0gZnJvbSAnLi4vc2hhcmVkL3V0aWxzL3R5cGVzJztcbmltcG9ydCB7IGludm9rZSB9IGZyb20gJy4vdXNlLWNvcmUnO1xuaW1wb3J0IHsgdXNlU2VxdWVudGlhbFNjb3BlIH0gZnJvbSAnLi91c2Utc2VxdWVudGlhbC1zY29wZSc7XG5pbXBvcnQgeyBmcm9tQ2FtZWxUb0tlYmFiQ2FzZSB9IGZyb20gJy4uL3NoYXJlZC91dGlscy9ldmVudC1uYW1lcyc7XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kI0NvbnRleHRJZFwiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IC4uL3JlYWRtZS5tZCNDb250ZXh0SWQgaW5zdGVhZClcbi8qKlxuICogQ29udGV4dElkIGlzIGEgdHlwZXNhZmUgSUQgZm9yIHlvdXIgY29udGV4dC5cbiAqXG4gKiBDb250ZXh0IGlzIGEgd2F5IHRvIHBhc3Mgc3RvcmVzIHRvIHRoZSBjaGlsZCBjb21wb25lbnRzIHdpdGhvdXQgcHJvcC1kcmlsbGluZy5cbiAqXG4gKiBVc2UgYGNyZWF0ZUNvbnRleHRJZCgpYCB0byBjcmVhdGUgYSBgQ29udGV4dElkYC4gQSBgQ29udGV4dElkYCBpcyBqdXN0IGEgc2VyaWFsaXphYmxlIGlkZW50aWZpZXJcbiAqIGZvciB0aGUgY29udGV4dC4gSXQgaXMgbm90IHRoZSBjb250ZXh0IHZhbHVlIGl0c2VsZi4gU2VlIGB1c2VDb250ZXh0UHJvdmlkZXIoKWAgYW5kXG4gKiBgdXNlQ29udGV4dCgpYCBmb3IgdGhlIHZhbHVlcy4gUXdpayBuZWVkcyBhIHNlcmlhbGl6YWJsZSBJRCBmb3IgdGhlIGNvbnRleHQgc28gdGhhdCB0aGUgaXQgY2FuXG4gKiB0cmFjayBjb250ZXh0IHByb3ZpZGVycyBhbmQgY29uc3VtZXJzIGluIGEgd2F5IHRoYXQgc3Vydml2ZXMgcmVzdW1hYmlsaXR5LlxuICpcbiAqICMjIyBFeGFtcGxlXG4gKlxuICogYGBgdHN4XG4gKiAvLyBEZWNsYXJlIHRoZSBDb250ZXh0IHR5cGUuXG4gKiBpbnRlcmZhY2UgVG9kb3NTdG9yZSB7XG4gKiAgIGl0ZW1zOiBzdHJpbmdbXTtcbiAqIH1cbiAqIC8vIENyZWF0ZSBhIENvbnRleHQgSUQgKG5vIGRhdGEgaXMgc2F2ZWQgaGVyZS4pXG4gKiAvLyBZb3Ugd2lsbCB1c2UgdGhpcyBJRCB0byBib3RoIGNyZWF0ZSBhbmQgcmV0cmlldmUgdGhlIENvbnRleHQuXG4gKiBleHBvcnQgY29uc3QgVG9kb3NDb250ZXh0ID0gY3JlYXRlQ29udGV4dElkPFRvZG9zU3RvcmU+KCdUb2RvcycpO1xuICpcbiAqIC8vIEV4YW1wbGUgb2YgcHJvdmlkaW5nIGNvbnRleHQgdG8gY2hpbGQgY29tcG9uZW50cy5cbiAqIGV4cG9ydCBjb25zdCBBcHAgPSBjb21wb25lbnQkKCgpID0+IHtcbiAqICAgdXNlQ29udGV4dFByb3ZpZGVyKFxuICogICAgIFRvZG9zQ29udGV4dCxcbiAqICAgICB1c2VTdG9yZTxUb2Rvc1N0b3JlPih7XG4gKiAgICAgICBpdGVtczogWydMZWFybiBRd2lrJywgJ0J1aWxkIFF3aWsgYXBwJywgJ1Byb2ZpdCddLFxuICogICAgIH0pXG4gKiAgICk7XG4gKlxuICogICByZXR1cm4gPEl0ZW1zIC8+O1xuICogfSk7XG4gKlxuICogLy8gRXhhbXBsZSBvZiByZXRyaWV2aW5nIHRoZSBjb250ZXh0IHByb3ZpZGVkIGJ5IGEgcGFyZW50IGNvbXBvbmVudC5cbiAqIGV4cG9ydCBjb25zdCBJdGVtcyA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICogICBjb25zdCB0b2RvcyA9IHVzZUNvbnRleHQoVG9kb3NDb250ZXh0KTtcbiAqICAgcmV0dXJuIChcbiAqICAgICA8dWw+XG4gKiAgICAgICB7dG9kb3MuaXRlbXMubWFwKChpdGVtKSA9PiAoXG4gKiAgICAgICAgIDxsaT57aXRlbX08L2xpPlxuICogICAgICAgKSl9XG4gKiAgICAgPC91bD5cbiAqICAgKTtcbiAqIH0pO1xuICpcbiAqIGBgYFxuICpcbiAqIEBwdWJsaWNcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGludGVyZmFjZSBDb250ZXh0SWQ8U1RBVEU+IHtcbiAgLyoqIERlc2lnbi10aW1lIHByb3BlcnR5IHRvIHN0b3JlIHR5cGUgaW5mb3JtYXRpb24gZm9yIHRoZSBjb250ZXh0LiAqL1xuICByZWFkb25seSBfX2JyYW5kX2NvbnRleHRfdHlwZV9fOiBTVEFURTtcbiAgLyoqIEEgdW5pcXVlIElEIGZvciB0aGUgY29udGV4dC4gKi9cbiAgcmVhZG9ubHkgaWQ6IHN0cmluZztcbn1cblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi9yZWFkbWUubWQjY3JlYXRlQ29udGV4dElkXCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi4vcmVhZG1lLm1kI2NyZWF0ZUNvbnRleHRJZCBpbnN0ZWFkKVxuLyoqXG4gKiBDcmVhdGUgYSBjb250ZXh0IElEIHRvIGJlIHVzZWQgaW4geW91ciBhcHBsaWNhdGlvbi4gVGhlIG5hbWUgc2hvdWxkIGJlIHdyaXR0ZW4gd2l0aCBubyBzcGFjZXMuXG4gKlxuICogQ29udGV4dCBpcyBhIHdheSB0byBwYXNzIHN0b3JlcyB0byB0aGUgY2hpbGQgY29tcG9uZW50cyB3aXRob3V0IHByb3AtZHJpbGxpbmcuXG4gKlxuICogVXNlIGBjcmVhdGVDb250ZXh0SWQoKWAgdG8gY3JlYXRlIGEgYENvbnRleHRJZGAuIEEgYENvbnRleHRJZGAgaXMganVzdCBhIHNlcmlhbGl6YWJsZSBpZGVudGlmaWVyXG4gKiBmb3IgdGhlIGNvbnRleHQuIEl0IGlzIG5vdCB0aGUgY29udGV4dCB2YWx1ZSBpdHNlbGYuIFNlZSBgdXNlQ29udGV4dFByb3ZpZGVyKClgIGFuZFxuICogYHVzZUNvbnRleHQoKWAgZm9yIHRoZSB2YWx1ZXMuIFF3aWsgbmVlZHMgYSBzZXJpYWxpemFibGUgSUQgZm9yIHRoZSBjb250ZXh0IHNvIHRoYXQgdGhlIGl0IGNhblxuICogdHJhY2sgY29udGV4dCBwcm92aWRlcnMgYW5kIGNvbnN1bWVycyBpbiBhIHdheSB0aGF0IHN1cnZpdmVzIHJlc3VtYWJpbGl0eS5cbiAqXG4gKiAjIyMgRXhhbXBsZVxuICpcbiAqIGBgYHRzeFxuICogLy8gRGVjbGFyZSB0aGUgQ29udGV4dCB0eXBlLlxuICogaW50ZXJmYWNlIFRvZG9zU3RvcmUge1xuICogICBpdGVtczogc3RyaW5nW107XG4gKiB9XG4gKiAvLyBDcmVhdGUgYSBDb250ZXh0IElEIChubyBkYXRhIGlzIHNhdmVkIGhlcmUuKVxuICogLy8gWW91IHdpbGwgdXNlIHRoaXMgSUQgdG8gYm90aCBjcmVhdGUgYW5kIHJldHJpZXZlIHRoZSBDb250ZXh0LlxuICogZXhwb3J0IGNvbnN0IFRvZG9zQ29udGV4dCA9IGNyZWF0ZUNvbnRleHRJZDxUb2Rvc1N0b3JlPignVG9kb3MnKTtcbiAqXG4gKiAvLyBFeGFtcGxlIG9mIHByb3ZpZGluZyBjb250ZXh0IHRvIGNoaWxkIGNvbXBvbmVudHMuXG4gKiBleHBvcnQgY29uc3QgQXBwID0gY29tcG9uZW50JCgoKSA9PiB7XG4gKiAgIHVzZUNvbnRleHRQcm92aWRlcihcbiAqICAgICBUb2Rvc0NvbnRleHQsXG4gKiAgICAgdXNlU3RvcmU8VG9kb3NTdG9yZT4oe1xuICogICAgICAgaXRlbXM6IFsnTGVhcm4gUXdpaycsICdCdWlsZCBRd2lrIGFwcCcsICdQcm9maXQnXSxcbiAqICAgICB9KVxuICogICApO1xuICpcbiAqICAgcmV0dXJuIDxJdGVtcyAvPjtcbiAqIH0pO1xuICpcbiAqIC8vIEV4YW1wbGUgb2YgcmV0cmlldmluZyB0aGUgY29udGV4dCBwcm92aWRlZCBieSBhIHBhcmVudCBjb21wb25lbnQuXG4gKiBleHBvcnQgY29uc3QgSXRlbXMgPSBjb21wb25lbnQkKCgpID0+IHtcbiAqICAgY29uc3QgdG9kb3MgPSB1c2VDb250ZXh0KFRvZG9zQ29udGV4dCk7XG4gKiAgIHJldHVybiAoXG4gKiAgICAgPHVsPlxuICogICAgICAge3RvZG9zLml0ZW1zLm1hcCgoaXRlbSkgPT4gKFxuICogICAgICAgICA8bGk+e2l0ZW19PC9saT5cbiAqICAgICAgICkpfVxuICogICAgIDwvdWw+XG4gKiAgICk7XG4gKiB9KTtcbiAqXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBjb250ZXh0LlxuICogQHB1YmxpY1xuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgY29uc3QgY3JlYXRlQ29udGV4dElkID0gPFNUQVRFID0gdW5rbm93bj4obmFtZTogc3RyaW5nKTogQ29udGV4dElkPFNUQVRFPiA9PiB7XG4gIGFzc2VydFRydWUoL15bXFx3Ly4tXSskLy50ZXN0KG5hbWUpLCAnQ29udGV4dCBuYW1lIG11c3Qgb25seSBjb250YWluIEEtWixhLXosMC05LCBfJywgbmFtZSk7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovIE9iamVjdC5mcmVlemUoe1xuICAgIGlkOiBmcm9tQ2FtZWxUb0tlYmFiQ2FzZShuYW1lKSxcbiAgfSBhcyBhbnkpO1xufTtcblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi9yZWFkbWUubWQjdXNlQ29udGV4dFByb3ZpZGVyXCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi4vcmVhZG1lLm1kI3VzZUNvbnRleHRQcm92aWRlciBpbnN0ZWFkKVxuLyoqXG4gKiBBc3NpZ24gYSB2YWx1ZSB0byBhIENvbnRleHQuXG4gKlxuICogVXNlIGB1c2VDb250ZXh0UHJvdmlkZXIoKWAgdG8gYXNzaWduIGEgdmFsdWUgdG8gYSBjb250ZXh0LiBUaGUgYXNzaWdubWVudCBoYXBwZW5zIGluIHRoZVxuICogY29tcG9uZW50J3MgZnVuY3Rpb24uIE9uY2UgYXNzaWduZWQsIHVzZSBgdXNlQ29udGV4dCgpYCBpbiBhbnkgY2hpbGQgY29tcG9uZW50IHRvIHJldHJpZXZlIHRoZVxuICogdmFsdWUuXG4gKlxuICogQ29udGV4dCBpcyBhIHdheSB0byBwYXNzIHN0b3JlcyB0byB0aGUgY2hpbGQgY29tcG9uZW50cyB3aXRob3V0IHByb3AtZHJpbGxpbmcuIE5vdGUgdGhhdCBzY2FsYXJcbiAqIHZhbHVlcyBhcmUgYWxsb3dlZCwgYnV0IGZvciByZWFjdGl2aXR5IHlvdSBuZWVkIHNpZ25hbHMgb3Igc3RvcmVzLlxuICpcbiAqICMjIyBFeGFtcGxlXG4gKlxuICogYGBgdHN4XG4gKiAvLyBEZWNsYXJlIHRoZSBDb250ZXh0IHR5cGUuXG4gKiBpbnRlcmZhY2UgVG9kb3NTdG9yZSB7XG4gKiAgIGl0ZW1zOiBzdHJpbmdbXTtcbiAqIH1cbiAqIC8vIENyZWF0ZSBhIENvbnRleHQgSUQgKG5vIGRhdGEgaXMgc2F2ZWQgaGVyZS4pXG4gKiAvLyBZb3Ugd2lsbCB1c2UgdGhpcyBJRCB0byBib3RoIGNyZWF0ZSBhbmQgcmV0cmlldmUgdGhlIENvbnRleHQuXG4gKiBleHBvcnQgY29uc3QgVG9kb3NDb250ZXh0ID0gY3JlYXRlQ29udGV4dElkPFRvZG9zU3RvcmU+KCdUb2RvcycpO1xuICpcbiAqIC8vIEV4YW1wbGUgb2YgcHJvdmlkaW5nIGNvbnRleHQgdG8gY2hpbGQgY29tcG9uZW50cy5cbiAqIGV4cG9ydCBjb25zdCBBcHAgPSBjb21wb25lbnQkKCgpID0+IHtcbiAqICAgdXNlQ29udGV4dFByb3ZpZGVyKFxuICogICAgIFRvZG9zQ29udGV4dCxcbiAqICAgICB1c2VTdG9yZTxUb2Rvc1N0b3JlPih7XG4gKiAgICAgICBpdGVtczogWydMZWFybiBRd2lrJywgJ0J1aWxkIFF3aWsgYXBwJywgJ1Byb2ZpdCddLFxuICogICAgIH0pXG4gKiAgICk7XG4gKlxuICogICByZXR1cm4gPEl0ZW1zIC8+O1xuICogfSk7XG4gKlxuICogLy8gRXhhbXBsZSBvZiByZXRyaWV2aW5nIHRoZSBjb250ZXh0IHByb3ZpZGVkIGJ5IGEgcGFyZW50IGNvbXBvbmVudC5cbiAqIGV4cG9ydCBjb25zdCBJdGVtcyA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICogICBjb25zdCB0b2RvcyA9IHVzZUNvbnRleHQoVG9kb3NDb250ZXh0KTtcbiAqICAgcmV0dXJuIChcbiAqICAgICA8dWw+XG4gKiAgICAgICB7dG9kb3MuaXRlbXMubWFwKChpdGVtKSA9PiAoXG4gKiAgICAgICAgIDxsaT57aXRlbX08L2xpPlxuICogICAgICAgKSl9XG4gKiAgICAgPC91bD5cbiAqICAgKTtcbiAqIH0pO1xuICpcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBjb250ZXh0IC0gVGhlIGNvbnRleHQgdG8gYXNzaWduIGEgdmFsdWUgdG8uXG4gKiBAcGFyYW0gdmFsdWUgLSBUaGUgdmFsdWUgdG8gYXNzaWduIHRvIHRoZSBjb250ZXh0LlxuICogQHB1YmxpY1xuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgY29uc3QgdXNlQ29udGV4dFByb3ZpZGVyID0gPFNUQVRFPihjb250ZXh0OiBDb250ZXh0SWQ8U1RBVEU+LCBuZXdWYWx1ZTogU1RBVEUpID0+IHtcbiAgY29uc3QgeyB2YWwsIHNldCwgaUN0eCB9ID0gdXNlU2VxdWVudGlhbFNjb3BlPDE+KCk7XG4gIGlmICh2YWwgIT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAocURldikge1xuICAgIHZhbGlkYXRlQ29udGV4dChjb250ZXh0KTtcbiAgfVxuICBpZiAocURldiAmJiBxU2VyaWFsaXplKSB7XG4gICAgdmVyaWZ5U2VyaWFsaXphYmxlKG5ld1ZhbHVlKTtcbiAgfVxuICBpQ3R4LiRjb250YWluZXIkLnNldENvbnRleHQoaUN0eC4kaG9zdEVsZW1lbnQkLCBjb250ZXh0LCBuZXdWYWx1ZSk7XG4gIHNldCgxKTtcbn07XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlQ29udGV4dCB7XG4gIDxTVEFURSwgVD4oY29udGV4dDogQ29udGV4dElkPFNUQVRFPiwgdHJhbnNmb3JtZXI6ICh2YWx1ZTogU1RBVEUpID0+IFQpOiBUO1xuICA8U1RBVEUsIFQ+KGNvbnRleHQ6IENvbnRleHRJZDxTVEFURT4sIGRlZmF1bHRWYWx1ZTogVCk6IFNUQVRFIHwgVDtcbiAgPFNUQVRFPihjb250ZXh0OiBDb250ZXh0SWQ8U1RBVEU+KTogU1RBVEU7XG59XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kI3VzZUNvbnRleHRcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjdXNlQ29udGV4dCBpbnN0ZWFkKVxuLyoqXG4gKiBSZXRyaWV2ZSBDb250ZXh0IHZhbHVlLlxuICpcbiAqIFVzZSBgdXNlQ29udGV4dCgpYCB0byByZXRyaWV2ZSB0aGUgdmFsdWUgb2YgY29udGV4dCBpbiBhIGNvbXBvbmVudC4gVG8gcmV0cmlldmUgYSB2YWx1ZSBhIHBhcmVudFxuICogY29tcG9uZW50IG5lZWRzIHRvIGludm9rZSBgdXNlQ29udGV4dFByb3ZpZGVyKClgIHRvIGFzc2lnbiBhIHZhbHVlLlxuICpcbiAqICMjIyBFeGFtcGxlXG4gKlxuICogYGBgdHN4XG4gKiAvLyBEZWNsYXJlIHRoZSBDb250ZXh0IHR5cGUuXG4gKiBpbnRlcmZhY2UgVG9kb3NTdG9yZSB7XG4gKiAgIGl0ZW1zOiBzdHJpbmdbXTtcbiAqIH1cbiAqIC8vIENyZWF0ZSBhIENvbnRleHQgSUQgKG5vIGRhdGEgaXMgc2F2ZWQgaGVyZS4pXG4gKiAvLyBZb3Ugd2lsbCB1c2UgdGhpcyBJRCB0byBib3RoIGNyZWF0ZSBhbmQgcmV0cmlldmUgdGhlIENvbnRleHQuXG4gKiBleHBvcnQgY29uc3QgVG9kb3NDb250ZXh0ID0gY3JlYXRlQ29udGV4dElkPFRvZG9zU3RvcmU+KCdUb2RvcycpO1xuICpcbiAqIC8vIEV4YW1wbGUgb2YgcHJvdmlkaW5nIGNvbnRleHQgdG8gY2hpbGQgY29tcG9uZW50cy5cbiAqIGV4cG9ydCBjb25zdCBBcHAgPSBjb21wb25lbnQkKCgpID0+IHtcbiAqICAgdXNlQ29udGV4dFByb3ZpZGVyKFxuICogICAgIFRvZG9zQ29udGV4dCxcbiAqICAgICB1c2VTdG9yZTxUb2Rvc1N0b3JlPih7XG4gKiAgICAgICBpdGVtczogWydMZWFybiBRd2lrJywgJ0J1aWxkIFF3aWsgYXBwJywgJ1Byb2ZpdCddLFxuICogICAgIH0pXG4gKiAgICk7XG4gKlxuICogICByZXR1cm4gPEl0ZW1zIC8+O1xuICogfSk7XG4gKlxuICogLy8gRXhhbXBsZSBvZiByZXRyaWV2aW5nIHRoZSBjb250ZXh0IHByb3ZpZGVkIGJ5IGEgcGFyZW50IGNvbXBvbmVudC5cbiAqIGV4cG9ydCBjb25zdCBJdGVtcyA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICogICBjb25zdCB0b2RvcyA9IHVzZUNvbnRleHQoVG9kb3NDb250ZXh0KTtcbiAqICAgcmV0dXJuIChcbiAqICAgICA8dWw+XG4gKiAgICAgICB7dG9kb3MuaXRlbXMubWFwKChpdGVtKSA9PiAoXG4gKiAgICAgICAgIDxsaT57aXRlbX08L2xpPlxuICogICAgICAgKSl9XG4gKiAgICAgPC91bD5cbiAqICAgKTtcbiAqIH0pO1xuICpcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBjb250ZXh0IC0gVGhlIGNvbnRleHQgdG8gcmV0cmlldmUgYSB2YWx1ZSBmcm9tLlxuICogQHB1YmxpY1xuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgY29uc3QgdXNlQ29udGV4dDogVXNlQ29udGV4dCA9IDxTVEFURT4oXG4gIGNvbnRleHQ6IENvbnRleHRJZDxTVEFURT4sXG4gIGRlZmF1bHRWYWx1ZT86IFNUQVRFIHwgKChjdXJyZW50OiBTVEFURSB8IHVuZGVmaW5lZCkgPT4gU1RBVEUpXG4pID0+IHtcbiAgY29uc3QgeyB2YWwsIHNldCwgaUN0eCB9ID0gdXNlU2VxdWVudGlhbFNjb3BlPFNUQVRFPigpO1xuICBpZiAodmFsICE9PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gdmFsO1xuICB9XG4gIGlmIChxRGV2KSB7XG4gICAgdmFsaWRhdGVDb250ZXh0KGNvbnRleHQpO1xuICB9XG5cbiAgY29uc3QgdmFsdWU6IFNUQVRFIHwgdW5kZWZpbmVkID0gaUN0eC4kY29udGFpbmVyJC5yZXNvbHZlQ29udGV4dChpQ3R4LiRob3N0RWxlbWVudCQsIGNvbnRleHQpO1xuICBpZiAodHlwZW9mIGRlZmF1bHRWYWx1ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBzZXQoaW52b2tlKHVuZGVmaW5lZCwgZGVmYXVsdFZhbHVlIGFzIGFueSwgdmFsdWUpKTtcbiAgfVxuICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBzZXQodmFsdWUpO1xuICB9XG4gIGlmIChkZWZhdWx0VmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBzZXQoZGVmYXVsdFZhbHVlKTtcbiAgfVxuICB0aHJvdyBxRXJyb3IoUUVycm9yX25vdEZvdW5kQ29udGV4dCwgY29udGV4dC5pZCk7XG59O1xuXG5leHBvcnQgY29uc3QgdmFsaWRhdGVDb250ZXh0ID0gKGNvbnRleHQ6IENvbnRleHRJZDxhbnk+KSA9PiB7XG4gIGlmICghaXNPYmplY3QoY29udGV4dCkgfHwgdHlwZW9mIGNvbnRleHQuaWQgIT09ICdzdHJpbmcnIHx8IGNvbnRleHQuaWQubGVuZ3RoID09PSAwKSB7XG4gICAgdGhyb3cgcUVycm9yKFFFcnJvcl9pbnZhbGlkQ29udGV4dCwgY29udGV4dCk7XG4gIH1cbn07XG4iXX0=","import { createContextId } from '../../use/use-context';\nexport const ERROR_CONTEXT = /*#__PURE__*/ createContextId('qk-error');\nexport const isRecoverable = (err) => {\n    if (err && err instanceof Error) {\n        if ('plugin' in err) {\n            return false;\n        }\n    }\n    return true;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXJyb3ItaGFuZGxpbmcuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvc2hhcmVkL2Vycm9yL2Vycm9yLWhhbmRsaW5nLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQU94RCxNQUFNLENBQUMsTUFBTSxhQUFhLEdBQUcsYUFBYSxDQUFDLGVBQWUsQ0FBcUIsVUFBVSxDQUFDLENBQUM7QUFFM0YsTUFBTSxDQUFDLE1BQU0sYUFBYSxHQUFHLENBQUMsR0FBUSxFQUFFLEVBQUU7SUFDeEMsSUFBSSxHQUFHLElBQUksR0FBRyxZQUFZLEtBQUssRUFBRSxDQUFDO1FBQ2hDLElBQUksUUFBUSxJQUFJLEdBQUcsRUFBRSxDQUFDO1lBQ3BCLE9BQU8sS0FBSyxDQUFDO1FBQ2YsQ0FBQztJQUNILENBQUM7SUFDRCxPQUFPLElBQUksQ0FBQztBQUNkLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNvbnRleHRJZCB9IGZyb20gJy4uLy4uL3VzZS91c2UtY29udGV4dCc7XG5cbi8qKiBAcHVibGljICovXG5leHBvcnQgaW50ZXJmYWNlIEVycm9yQm91bmRhcnlTdG9yZSB7XG4gIGVycm9yOiBhbnkgfCB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCBjb25zdCBFUlJPUl9DT05URVhUID0gLyojX19QVVJFX18qLyBjcmVhdGVDb250ZXh0SWQ8RXJyb3JCb3VuZGFyeVN0b3JlPigncWstZXJyb3InKTtcblxuZXhwb3J0IGNvbnN0IGlzUmVjb3ZlcmFibGUgPSAoZXJyOiBhbnkpID0+IHtcbiAgaWYgKGVyciAmJiBlcnIgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgIGlmICgncGx1Z2luJyBpbiBlcnIpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59O1xuIl19","// NOTE: we want to move this function to qwikloader, and therefore this function should not have any external dependencies\nimport { VNodeDataChar, VNodeDataSeparator } from '../shared/vnode-data-types';\n/**\n * Process the VNodeData script tags and store the VNodeData in the VNodeDataMap.\n *\n * The end result of this function is that each DOM element has the associated `VNodeData` attached\n * to it, to be used later `VNode` materialization. The \"attachment\" is done through the\n * `VNodeDataMap`.\n *\n * Run this function on startup to process the `<script type=\"qwik/vnode\">` tags. The data in the\n * tags needs to be parsed and attached to the DOM elements. (We do this through `VNodeDataMap`)\n * `VNodeDataMap` is then used to lazily materialize the VNodes.\n *\n * Only one invocation of this function is needed per document/browser session.\n *\n * Below is an example of the kinds of constructs which need to be handled when dealing with\n * VNodeData deserialization.\n *\n * ```\n * <html q:container=\"paused\">\n *   <body>\n *     <div q:container=\"paused\">\n *       <script type=\"qwik/vnode\">...</script>\n *     </div>\n *     <div q:container=\"html\">...</div>\n *     before\n *     <!--q:container=ABC-->\n *     ...\n *     <!--/q:container-->\n *     after\n *     <!--q:ignore=FOO-->\n *     ...\n *        <!--q:container-island=BAR-->\n *        <div>some interactive island</div>\n *        <!--/q:container-island-->\n *     ...\n *     <!--/q:ignore-->\n *     <textarea q:container=\"text\">...</textarea>\n *     <script type=\"qwik/vnode\">...</script>\n *   </body>\n * </html>\n * ```\n *\n * Each `qwik/vnode` script assumes that the elements are numbered in depth first order. For this\n * reason, whenever the `processVNodeData` comes across a `q:container` it must ignore its\n * children.\n *\n * IMPLEMENTATION:\n *\n * - Stack to keep track of the current `q:container` being processed.\n * - Attach all `qwik/vnode` scripts (not the data contain within them) to the `q:container` element.\n * - Walk the tree and process each `q:container` element.\n */\nexport function processVNodeData(document) {\n    const Q_CONTAINER = 'q:container';\n    const Q_CONTAINER_END = '/' + Q_CONTAINER;\n    const Q_PROPS_SEPARATOR = ':';\n    const Q_SHADOW_ROOT = 'q:shadowroot';\n    const Q_IGNORE = 'q:ignore';\n    const Q_IGNORE_END = '/' + Q_IGNORE;\n    const Q_CONTAINER_ISLAND = 'q:container-island';\n    const Q_CONTAINER_ISLAND_END = '/' + Q_CONTAINER_ISLAND;\n    const qDocument = document;\n    const vNodeDataMap = qDocument.qVNodeData || (qDocument.qVNodeData = new WeakMap());\n    const prototype = document.body;\n    const getter = (prototype, name) => {\n        let getter;\n        while (prototype && !(getter = Object.getOwnPropertyDescriptor(prototype, name)?.get)) {\n            prototype = Object.getPrototypeOf(prototype);\n        }\n        return (getter ||\n            function () {\n                return this[name];\n            });\n    };\n    const getAttribute = prototype.getAttribute;\n    const hasAttribute = prototype.hasAttribute;\n    const getNodeType = getter(prototype, 'nodeType');\n    // Process all of the `qwik/vnode` script tags by attaching them to the corresponding containers.\n    const attachVnodeDataAndRefs = (element) => {\n        Array.from(element.querySelectorAll('script[type=\"qwik/vnode\"]')).forEach((script) => {\n            script.setAttribute('type', 'x-qwik/vnode');\n            const qContainerElement = script.closest('[q\\\\:container]');\n            qContainerElement.qVnodeData = script.textContent;\n            qContainerElement.qVNodeRefs = new Map();\n        });\n        element.querySelectorAll('[q\\\\:shadowroot]').forEach((parent) => {\n            const shadowRoot = parent.shadowRoot;\n            shadowRoot && attachVnodeDataAndRefs(shadowRoot);\n        });\n    };\n    attachVnodeDataAndRefs(document);\n    ///////////////////////////////\n    // Functions to consume the tree.\n    ///////////////////////////////\n    let NodeType;\n    (function (NodeType) {\n        NodeType[NodeType[\"CONTAINER_MASK\"] = 1] = \"CONTAINER_MASK\";\n        NodeType[NodeType[\"ELEMENT\"] = 2] = \"ELEMENT\";\n        NodeType[NodeType[\"ELEMENT_CONTAINER\"] = 3] = \"ELEMENT_CONTAINER\";\n        NodeType[NodeType[\"ELEMENT_SHADOW_ROOT\"] = 6] = \"ELEMENT_SHADOW_ROOT\";\n        NodeType[NodeType[\"COMMENT_SKIP_START\"] = 5] = \"COMMENT_SKIP_START\";\n        NodeType[NodeType[\"COMMENT_SKIP_END\"] = 8] = \"COMMENT_SKIP_END\";\n        NodeType[NodeType[\"COMMENT_IGNORE_START\"] = 16] = \"COMMENT_IGNORE_START\";\n        NodeType[NodeType[\"COMMENT_IGNORE_END\"] = 32] = \"COMMENT_IGNORE_END\";\n        NodeType[NodeType[\"COMMENT_ISLAND_START\"] = 65] = \"COMMENT_ISLAND_START\";\n        NodeType[NodeType[\"COMMENT_ISLAND_END\"] = 128] = \"COMMENT_ISLAND_END\";\n        NodeType[NodeType[\"OTHER\"] = 0] = \"OTHER\";\n    })(NodeType || (NodeType = {}));\n    /**\n     * Looks up which type of node this is in a monomorphic way which should be faster.\n     *\n     * See: https://mhevery.github.io/perf-tests/DOM-megamorphic.html\n     */\n    const getFastNodeType = (node) => {\n        const nodeType = getNodeType.call(node);\n        if (nodeType === 1 /* Node.ELEMENT_NODE */) {\n            const qContainer = getAttribute.call(node, Q_CONTAINER);\n            if (qContainer === null) {\n                if (hasAttribute.call(node, Q_SHADOW_ROOT)) {\n                    return NodeType.ELEMENT_SHADOW_ROOT;\n                }\n                const isQElement = hasAttribute.call(node, Q_PROPS_SEPARATOR);\n                return isQElement ? NodeType.ELEMENT : NodeType.OTHER;\n            }\n            else {\n                return NodeType.ELEMENT_CONTAINER;\n            }\n        }\n        else if (nodeType === 8 /* Node.COMMENT_NODE */) {\n            const nodeValue = node.nodeValue || ''; // nodeValue is monomorphic so it does not need fast path\n            if (nodeValue.startsWith(Q_CONTAINER_ISLAND)) {\n                return NodeType.COMMENT_ISLAND_START;\n            }\n            else if (nodeValue.startsWith(Q_IGNORE)) {\n                return NodeType.COMMENT_IGNORE_START;\n            }\n            else if (nodeValue.startsWith(Q_CONTAINER)) {\n                return NodeType.COMMENT_SKIP_START;\n            }\n            else if (nodeValue.startsWith(Q_CONTAINER_ISLAND_END)) {\n                return NodeType.COMMENT_ISLAND_END;\n            }\n            else if (nodeValue.startsWith(Q_IGNORE_END)) {\n                return NodeType.COMMENT_IGNORE_END;\n            }\n            else if (nodeValue.startsWith(Q_CONTAINER_END)) {\n                return NodeType.COMMENT_SKIP_END;\n            }\n        }\n        return NodeType.OTHER;\n    };\n    const isSeparator = (ch) => \n    /* `!` */ VNodeDataSeparator.ADVANCE_1 <= ch && ch <= VNodeDataSeparator.ADVANCE_8192; /* `.` */\n    /**\n     * Given the `vData` string, `start` index, and `end` index, find the end of the VNodeData\n     * section.\n     */\n    const findVDataSectionEnd = (vData, start, end) => {\n        let depth = 0;\n        while (true) {\n            // look for the end of VNodeData\n            if (start < end) {\n                const ch = vData.charCodeAt(start);\n                if (depth === 0 && isSeparator(ch)) {\n                    break;\n                }\n                else {\n                    if (ch === VNodeDataChar.OPEN) {\n                        depth++;\n                    }\n                    else if (ch === VNodeDataChar.CLOSE) {\n                        depth--;\n                    }\n                    start++;\n                }\n            }\n            else {\n                break;\n            }\n        }\n        return start;\n    };\n    const nextSibling = (node) => {\n        // eslint-disable-next-line no-empty\n        while (node && (node = node.nextSibling) && getFastNodeType(node) === NodeType.OTHER) { }\n        return node;\n    };\n    const firstChild = (node) => {\n        // eslint-disable-next-line no-empty\n        while (node && (node = node.firstChild) && getFastNodeType(node) === NodeType.OTHER) { }\n        return node;\n    };\n    /**\n     * Process the container\n     *\n     * @param walker TreeWalker\n     * @param containerNode The root of container element\n     * @param exitNode The node which represents the last node and we should exit.\n     * @param qVNodeRefs Place to store the VNodeRefs\n     */\n    const walkContainer = (walker, containerNode, node, exitNode, vData, qVNodeRefs, prefix) => {\n        const vData_length = vData.length;\n        /// Stores the current element index as the TreeWalker traverses the DOM.\n        let elementIdx = 0;\n        /// Stores the current VNode index as derived from the VNodeData script tag.\n        let vNodeElementIndex = -1;\n        let vData_start = 0;\n        let vData_end = 0;\n        let ch = 0;\n        let needsToStoreRef = -1;\n        let nextNode = null;\n        /** Computes number of elements which need to be skipped to get to the next VNodeData section. */\n        const howManyElementsToSkip = () => {\n            let elementsToSkip = 0;\n            while (isSeparator((ch = vData.charCodeAt(vData_start)))) {\n                // Keep consuming the separators and incrementing the vNodeIndex\n                // console.log('ADVANCE', vNodeElementIndex, ch, ch - 33);\n                elementsToSkip += 1 << (ch - VNodeDataSeparator.ADVANCE_1);\n                vData_start++;\n                if (vData_start >= vData_length) {\n                    // we reached the end of the vNodeData stop.\n                    break;\n                }\n            }\n            return elementsToSkip;\n        };\n        do {\n            if (node === exitNode) {\n                return;\n            }\n            nextNode = null;\n            const nodeType = node == containerNode ? NodeType.ELEMENT : getFastNodeType(node);\n            if (nodeType === NodeType.ELEMENT_CONTAINER) {\n                // If we are in a container, we need to skip the children.\n                const container = node;\n                let cursor = node;\n                while (cursor && !(nextNode = nextSibling(cursor))) {\n                    cursor = cursor.parentNode;\n                }\n                // console.log('EXIT', nextNode?.outerHTML);\n                walkContainer(walker, container, node, nextNode, container.qVnodeData || '', container.qVNodeRefs, prefix + '  ');\n            }\n            else if (nodeType === NodeType.COMMENT_IGNORE_START) {\n                let islandNode = node;\n                do {\n                    islandNode = walker.nextNode();\n                    if (!islandNode) {\n                        throw new Error(`Island inside <!--${node?.nodeValue}--> not found!`);\n                    }\n                } while (getFastNodeType(islandNode) !== NodeType.COMMENT_ISLAND_START);\n                nextNode = null;\n            }\n            else if (nodeType === NodeType.COMMENT_ISLAND_END) {\n                nextNode = node;\n                do {\n                    nextNode = walker.nextNode();\n                    if (!nextNode) {\n                        throw new Error(`Ignore block not closed!`);\n                    }\n                } while (getFastNodeType(nextNode) !== NodeType.COMMENT_IGNORE_END);\n                nextNode = null;\n            }\n            else if (nodeType === NodeType.COMMENT_SKIP_START) {\n                // If we are in a container, we need to skip the children.\n                nextNode = node;\n                do {\n                    nextNode = nextSibling(nextNode);\n                    if (!nextNode) {\n                        throw new Error(`<!--${node?.nodeValue}--> not closed!`);\n                    }\n                } while (getFastNodeType(nextNode) !== NodeType.COMMENT_SKIP_END);\n                // console.log('EXIT', nextNode?.outerHTML);\n                walkContainer(walker, node, node, nextNode, '', null, prefix + '  ');\n            }\n            else if (nodeType === NodeType.ELEMENT_SHADOW_ROOT) {\n                // If we are in a shadow root, we need to get the shadow root element.\n                nextNode = nextSibling(node);\n                const shadowRootContainer = node;\n                const shadowRoot = shadowRootContainer?.shadowRoot;\n                if (shadowRoot) {\n                    walkContainer(\n                    // we need to create a new walker for the shadow root\n                    document.createTreeWalker(shadowRoot, 0x1 /* NodeFilter.SHOW_ELEMENT  */ | 0x80 /*  NodeFilter.SHOW_COMMENT */), null, firstChild(shadowRoot), null, '', null, prefix + '  ');\n                }\n            }\n            if ((nodeType & NodeType.ELEMENT) === NodeType.ELEMENT) {\n                if (vNodeElementIndex < elementIdx) {\n                    // VNodeData needs to catch up with the elementIdx\n                    if (vNodeElementIndex === -1) {\n                        vNodeElementIndex = 0;\n                    }\n                    vData_start = vData_end;\n                    if (vData_start < vData_length) {\n                        vNodeElementIndex += howManyElementsToSkip();\n                        const shouldStoreRef = ch === VNodeDataSeparator.REFERENCE;\n                        if (shouldStoreRef) {\n                            // if we need to store the ref handle it here.\n                            needsToStoreRef = vNodeElementIndex;\n                            vData_start++;\n                            if (vData_start < vData_length) {\n                                ch = vData.charCodeAt(vData_end);\n                            }\n                            else {\n                                // assume separator on end.\n                                ch = VNodeDataSeparator.ADVANCE_1;\n                            }\n                        }\n                        vData_end = findVDataSectionEnd(vData, vData_start, vData_length);\n                    }\n                    else {\n                        vNodeElementIndex = Number.MAX_SAFE_INTEGER;\n                    }\n                }\n                // console.log(\n                //   prefix,\n                //   'ELEMENT',\n                //   nodeType,\n                //   elementIdx,\n                //   vNodeElementIndex,\n                //   (node as any).outerHTML,\n                //   elementIdx === vNodeElementIndex ? vData.substring(vData_start, vData_end) : ''\n                // );\n                if (elementIdx === vNodeElementIndex) {\n                    if (needsToStoreRef === elementIdx) {\n                        qVNodeRefs.set(elementIdx, node);\n                    }\n                    const instructions = vData.substring(vData_start, vData_end);\n                    vNodeDataMap.set(node, instructions);\n                }\n                elementIdx++;\n            }\n        } while ((node = nextNode || walker.nextNode()));\n    };\n    // Walk the tree and process each `q:container` element.\n    const walker = document.createTreeWalker(document, 0x1 /* NodeFilter.SHOW_ELEMENT  */ | 0x80 /*  NodeFilter.SHOW_COMMENT */);\n    walkContainer(walker, null, walker.firstChild(), null, '', null, '');\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvY2Vzcy12bm9kZS1kYXRhLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL2NsaWVudC9wcm9jZXNzLXZub2RlLWRhdGEudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsMkhBQTJIO0FBQzNILE9BQU8sRUFBRSxhQUFhLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSw0QkFBNEIsQ0FBQztBQUcvRTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7R0FrREc7QUFDSCxNQUFNLFVBQVUsZ0JBQWdCLENBQUMsUUFBa0I7SUFDakQsTUFBTSxXQUFXLEdBQUcsYUFBYSxDQUFDO0lBQ2xDLE1BQU0sZUFBZSxHQUFHLEdBQUcsR0FBRyxXQUFXLENBQUM7SUFDMUMsTUFBTSxpQkFBaUIsR0FBRyxHQUFHLENBQUM7SUFDOUIsTUFBTSxhQUFhLEdBQUcsY0FBYyxDQUFDO0lBQ3JDLE1BQU0sUUFBUSxHQUFHLFVBQVUsQ0FBQztJQUM1QixNQUFNLFlBQVksR0FBRyxHQUFHLEdBQUcsUUFBUSxDQUFDO0lBQ3BDLE1BQU0sa0JBQWtCLEdBQUcsb0JBQW9CLENBQUM7SUFDaEQsTUFBTSxzQkFBc0IsR0FBRyxHQUFHLEdBQUcsa0JBQWtCLENBQUM7SUFDeEQsTUFBTSxTQUFTLEdBQUcsUUFBcUIsQ0FBQztJQUN4QyxNQUFNLFlBQVksR0FDaEIsU0FBUyxDQUFDLFVBQVUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxVQUFVLEdBQUcsSUFBSSxPQUFPLEVBQW1CLENBQUMsQ0FBQztJQUNsRixNQUFNLFNBQVMsR0FBUSxRQUFRLENBQUMsSUFBSSxDQUFDO0lBQ3JDLE1BQU0sTUFBTSxHQUFHLENBQUMsU0FBYyxFQUFFLElBQVksRUFBRSxFQUFFO1FBQzlDLElBQUksTUFBVyxDQUFDO1FBQ2hCLE9BQU8sU0FBUyxJQUFJLENBQUMsQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLHdCQUF3QixDQUFD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LEVBQ1IsR0FBRyxDQUFDLDhCQUE4QixHQUFHLElBQUksQ0FBQyw4QkFBOEIsQ0FDekUsQ0FBQztJQUVGLGFBQWEsQ0FBQyxNQUFNLEVBQUUsSUFBSSxFQUFFLE1BQU0sQ0FBQyxVQUFVLEVBQUUsRUFBRSxJQUFJLEVBQUUsRUFBRSxFQUFFLElBQUssRUFBRSxFQUFFLENBQUMsQ0FBQztBQUN4RSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLy8gTk9URTogd2Ugd2FudCB0byBtb3ZlIHRoaXMgZnVuY3Rpb24gdG8gcXdpa2xvYWRlciwgYW5kIHRoZXJlZm9yZSB0aGlzIGZ1bmN0aW9uIHNob3VsZCBub3QgaGF2ZSBhbnkgZXh0ZXJuYWwgZGVwZW5kZW5jaWVzXG5pbXBvcnQgeyBWTm9kZURhdGFDaGFyLCBWTm9kZURhdGFTZXBhcmF0b3IgfSBmcm9tICcuLi9zaGFyZWQvdm5vZGUtZGF0YS10eXBlcyc7XG5pbXBvcnQgdHlwZSB7IENvbnRhaW5lckVsZW1lbnQsIEVsZW1lbnRWTm9kZSwgUURvY3VtZW50IH0gZnJvbSAnLi90eXBlcyc7XG5cbi8qKlxuICogUHJvY2VzcyB0aGUgVk5vZGVEYXRhIHNjcmlwdCB0YWdzIGFuZCBzdG9yZSB0aGUgVk5vZGVEYXRhIGluIHRoZSBWTm9kZURhdGFNYXAuXG4gKlxuICogVGhlIGVuZCByZXN1bHQgb2YgdGhpcyBmdW5jdGlvbiBpcyB0aGF0IGVhY2ggRE9NIGVsZW1lbnQgaGFzIHRoZSBhc3NvY2lhdGVkIGBWTm9kZURhdGFgIGF0dGFjaGVkXG4gKiB0byBpdCwgdG8gYmUgdXNlZCBsYXRlciBgVk5vZGVgIG1hdGVyaWFsaXphdGlvbi4gVGhlIFwiYXR0YWNobWVudFwiIGlzIGRvbmUgdGhyb3VnaCB0aGVcbiAqIGBWTm9kZURhdGFNYXBgLlxuICpcbiAqIFJ1biB0aGlzIGZ1bmN0aW9uIG9uIHN0YXJ0dXAgdG8gcHJvY2VzcyB0aGUgYDxzY3JpcHQgdHlwZT1cInF3aWsvdm5vZGVcIj5gIHRhZ3MuIFRoZSBkYXRhIGluIHRoZVxuICogdGFncyBuZWVkcyB0byBiZSBwYXJzZWQgYW5kIGF0dGFjaGVkIHRvIHRoZSBET00gZWxlbWVudHMuIChXZSBkbyB0aGlzIHRocm91Z2ggYFZOb2RlRGF0YU1hcGApXG4gKiBgVk5vZGVEYXRhTWFwYCBpcyB0aGVuIHVzZWQgdG8gbGF6aWx5IG1hdGVyaWFsaXplIHRoZSBWTm9kZXMuXG4gKlxuICogT25seSBvbmUgaW52b2NhdGlvbiBvZiB0aGlzIGZ1bmN0aW9uIGlzIG5lZWRlZCBwZXIgZG9jdW1lbnQvYnJvd3NlciBzZXNzaW9uLlxuICpcbiAqIEJlbG93IGlzIGFuIGV4YW1wbGUgb2YgdGhlIGtpbmRzIG9mIGNvbnN0cnVjdHMgd2hpY2ggbmVlZCB0byBiZSBoYW5kbGVkIHdoZW4gZGVhbGluZyB3aXRoXG4gKiBWTm9kZURhdGEgZGVzZXJpYWxpemF0aW9uLlxuICpcbiAqIGBgYFxuICogPGh0bWwgcTpjb250YWluZXI9XCJwYXVzZWRcIj5cbiAqICAgPGJvZHk+XG4gKiAgICAgPGRpdiBxOmNvbnRhaW5lcj1cInBhdXNlZFwiPlxuICogICAgICAgPHNjcmlwdCB0eXBlPVwicXdpay92bm9kZVwiPi4uLjwvc2NyaXB0PlxuICogICAgIDwvZGl2PlxuICogICAgIDxkaXYgcTpjb250YWluZXI9XCJodG1sXCI+Li4uPC9kaXY+XG4gKiAgICAgYmVmb3JlXG4gKiAgICAgPCEtLXE6Y29udGFpbmVyPUFCQy0tPlxuICogICAgIC4uLlxuICogICAgIDwhLS0vcTpjb250YWluZXItLT5cbiAqICAgICBhZnRlclxuICogICAgIDwhLS1xOmlnbm9yZT1GT08tLT5cbiAqICAgICAuLi5cbiAqICAgICAgICA8IS0tcTpjb250YWluZXItaXNsYW5kPUJBUi0tPlxuICogICAgICAgIDxkaXY+c29tZSBpbnRlcmFjdGl2ZSBpc2xhbmQ8L2Rpdj5cbiAqICAgICAgICA8IS0tL3E6Y29udGFpbmVyLWlzbGFuZC0tPlxuICogICAgIC4uLlxuICogICAgIDwhLS0vcTppZ25vcmUtLT5cbiAqICAgICA8dGV4dGFyZWEgcTpjb250YWluZXI9XCJ0ZXh0XCI+Li4uPC90ZXh0YXJlYT5cbiAqICAgICA8c2NyaXB0IHR5cGU9XCJxd2lrL3Zub2RlXCI+Li4uPC9zY3JpcHQ+XG4gKiAgIDwvYm9keT5cbiAqIDwvaHRtbD5cbiAqIGBgYFxuICpcbiAqIEVhY2ggYHF3aWsvdm5vZGVgIHNjcmlwdCBhc3N1bWVzIHRoYXQgdGhlIGVsZW1lbnRzIGFyZSBudW1iZXJlZCBpbiBkZXB0aCBmaXJzdCBvcmRlci4gRm9yIHRoaXNcbiAqIHJlYXNvbiwgd2hlbmV2ZXIgdGhlIGBwcm9jZXNzVk5vZGVEYXRhYCBjb21lcyBhY3Jvc3MgYSBgcTpjb250YWluZXJgIGl0IG11c3QgaWdub3JlIGl0c1xuICogY2hpbGRyZW4uXG4gKlxuICogSU1QTEVNRU5UQVRJT046XG4gKlxuICogLSBTdGFjayB0byBrZWVwIHRyYWNrIG9mIHRoZSBjdXJyZW50IGBxOmNvbnRhaW5lcmAgYmVpbmcgcHJvY2Vzc2VkLlxuICogLSBBdHRhY2ggYWxsIGBxd2lrL3Zub2RlYCBzY3JpcHRzIChub3QgdGhlIGRhdGEgY29udGFpbiB3aXRoaW4gdGhlbSkgdG8gdGhlIGBxOmNvbnRhaW5lcmAgZWxlbWVudC5cbiAqIC0gV2FsayB0aGUgdHJlZSBhbmQgcHJvY2VzcyBlYWNoIGBxOmNvbnRhaW5lcmAgZWxlbWVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHByb2Nlc3NWTm9kZURhdGEoZG9jdW1lbnQ6IERvY3VtZW50KSB7XG4gIGNvbnN0IFFfQ09OVEFJTkVSID0gJ3E6Y29udGFpbmVyJztcbiAgY29uc3QgUV9DT05UQUlORVJfRU5EID0gJy8nICsgUV9DT05UQUlORVI7XG4gIGNvbnN0IFFfUFJPUFNfU0VQQVJBVE9SID0gJzonO1xuICBjb25zdCBRX1NIQURPV19ST09UID0gJ3E6c2hhZG93cm9vdCc7XG4gIGNvbnN0IFFfSUdOT1JFID0gJ3E6aWdub3JlJztcbiAgY29uc3QgUV9JR05PUkVfRU5EID0gJy8nICsgUV9JR05PUkU7XG4gIGNvbnN0IFFfQ09OVEFJTkVSX0lTTEFORCA9ICdxOmNvbnRhaW5lci1pc2xhbmQnO1xuICBjb25zdCBRX0NPTlRBSU5FUl9JU0xBTkRfRU5EID0gJy8nICsgUV9DT05UQUlORVJfSVNMQU5EO1xuICBjb25zdCBxRG9jdW1lbnQgPSBkb2N1bWVudCBhcyBRRG9jdW1lbnQ7XG4gIGNvbnN0IHZOb2RlRGF0YU1hcCA9XG4gICAgcURvY3VtZW50LnFWTm9kZURhdGEgfHwgKHFEb2N1bWVudC5xVk5vZGVEYXRhID0gbmV3IFdlYWtNYXA8RWxlbWVudCwgc3RyaW5nPigpKTtcbiAgY29uc3QgcHJvdG90eXBlOiBhbnkgPSBkb2N1bWVudC5ib2R5O1xuICBjb25zdCBnZXR0ZXIgPSAocHJvdG90eXBlOiBhbnksIG5hbWU6IHN0cmluZykgPT4ge1xuICAgIGxldCBnZXR0ZXI6IGFueTtcbiAgICB3aGlsZSAocHJvdG90eXBlICYmICEoZ2V0dGVyID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihwcm90b3R5cGUsIG5hbWUpPy5nZXQpKSB7XG4gICAgICBwcm90b3R5cGUgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YocHJvdG90eXBlKTtcbiAgICB9XG4gICAgcmV0dXJuIChcbiAgICAgIGdldHRlciB8fFxuICAgICAgZnVuY3Rpb24gKHRoaXM6IGFueSkge1xuICAgICAgICByZXR1cm4gdGhpc1tuYW1lXTtcbiAgICAgIH1cbiAgICApO1xuICB9O1xuICBjb25zdCBnZXRBdHRyaWJ1dGUgPSBwcm90b3R5cGUuZ2V0QXR0cmlidXRlIGFzICh0aGlzOiBOb2RlLCBuYW1lOiBzdHJpbmcpID0+IHN0cmluZyB8IG51bGw7XG4gIGNvbnN0IGhhc0F0dHJpYnV0ZSA9IHByb3RvdHlwZS5oYXNBdHRyaWJ1dGUgYXMgKHRoaXM6IE5vZGUsIG5hbWU6IHN0cmluZykgPT4gYm9vbGVhbjtcbiAgY29uc3QgZ2V0Tm9kZVR5cGUgPSBnZXR0ZXIocHJvdG90eXBlLCAnbm9kZVR5cGUnKSBhcyAodGhpczogTm9kZSkgPT4gbnVtYmVyO1xuXG4gIC8vIFByb2Nlc3MgYWxsIG9mIHRoZSBgcXdpay92bm9kZWAgc2NyaXB0IHRhZ3MgYnkgYXR0YWNoaW5nIHRoZW0gdG8gdGhlIGNvcnJlc3BvbmRpbmcgY29udGFpbmVycy5cbiAgY29uc3QgYXR0YWNoVm5vZGVEYXRhQW5kUmVmcyA9IChlbGVtZW50OiBEb2N1bWVudCB8IFNoYWRvd1Jvb3QpID0+IHtcbiAgICBBcnJheS5mcm9tKGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnc2NyaXB0W3R5cGU9XCJxd2lrL3Zub2RlXCJdJykpLmZvckVhY2goKHNjcmlwdCkgPT4ge1xuICAgICAgc2NyaXB0LnNldEF0dHJpYnV0ZSgndHlwZScsICd4LXF3aWsvdm5vZGUnKTtcbiAgICAgIGNvbnN0IHFDb250YWluZXJFbGVtZW50ID0gc2NyaXB0LmNsb3Nlc3QoJ1txXFxcXDpjb250YWluZXJdJykgYXMgQ29udGFpbmVyRWxlbWVudCB8IG51bGw7XG4gICAgICBxQ29udGFpbmVyRWxlbWVudCEucVZub2RlRGF0YSA9IHNjcmlwdC50ZXh0Q29udGVudCE7XG4gICAgICBxQ29udGFpbmVyRWxlbWVudCEucVZOb2RlUmVmcyA9IG5ldyBNYXA8bnVtYmVyLCBFbGVtZW50IHwgRWxlbWVudFZOb2RlPigpO1xuICAgIH0pO1xuICAgIGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW3FcXFxcOnNoYWRvd3Jvb3RdJykuZm9yRWFjaCgocGFyZW50KSA9PiB7XG4gICAgICBjb25zdCBzaGFkb3dSb290ID0gcGFyZW50LnNoYWRvd1Jvb3Q7XG4gICAgICBzaGFkb3dSb290ICYmIGF0dGFjaFZub2RlRGF0YUFuZFJlZnMoc2hhZG93Um9vdCk7XG4gICAgfSk7XG4gIH07XG4gIGF0dGFjaFZub2RlRGF0YUFuZFJlZnMoZG9jdW1lbnQpO1xuXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8gRnVuY3Rpb25zIHRvIGNvbnN1bWUgdGhlIHRyZWUuXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICBjb25zdCBlbnVtIE5vZGVUeXBlIHtcbiAgICBDT05UQUlORVJfTUFTSyAvKiAqKioqKioqKioqKioqKioqKiAqLyA9IDBiMDAwMDAwMDEsXG4gICAgRUxFTUVOVCAvKiAqKioqKioqKioqKioqKioqKioqKioqKiogKi8gPSAwYjAwMDAwMDEwLCAvLyByZWd1bGFyIGVsZW1lbnRcbiAgICBFTEVNRU5UX0NPTlRBSU5FUiAvKiAqKioqKioqKioqKioqKiAqLyA9IDBiMDAwMDAwMTEsIC8vIGNvbnRhaW5lciBlbGVtZW50IG5lZWQgdG8gZGVzY2VuZCBpbnRvIGl0XG4gICAgRUxFTUVOVF9TSEFET1dfUk9PVCAvKiAqKioqKioqKioqKiogKi8gPSAwYjAwMDAwMTEwLCAvLyBzaGFkb3cgcm9vdCBlbGVtZW50XG4gICAgQ09NTUVOVF9TS0lQX1NUQVJUIC8qICoqKioqKioqKioqKiogKi8gPSAwYjAwMDAwMTAxLCAvLyBDb21tZW50IGJ1dCBza2lwIHRoZSBjb250ZW50IHVudGlsIENPTU1FTlRfU0tJUF9FTkRcbiAgICBDT01NRU5UX1NLSVBfRU5EIC8qICoqKioqKioqKioqKioqKiAqLyA9IDBiMDAwMDEwMDAsIC8vIENvbW1lbnQgZW5kXG4gICAgQ09NTUVOVF9JR05PUkVfU1RBUlQgLyogKioqKioqKioqKiogKi8gPSAwYjAwMDEwMDAwLCAvLyBDb21tZW50IGlnbm9yZSwgZGVzY2VuZCBpbnRvIGNoaWxkcmVuIGFuZCBza2lwIHRoZSBjb250ZW50IHVudGlsIENPTU1FTlRfSVNMQU5EX1NUQVJUXG4gICAgQ09NTUVOVF9JR05PUkVfRU5EIC8qICoqKioqKioqKioqKiogKi8gPSAwYjAwMTAwMDAwLCAvLyBDb21tZW50IGlnbm9yZSBlbmRcbiAgICBDT01NRU5UX0lTTEFORF9TVEFSVCAvKiAqKioqKioqKioqKiAqLyA9IDBiMDEwMDAwMDEsIC8vIENvbW1lbnQgaXNsYW5kLCBjb3VudCBlbGVtZW50cyBmb3IgcGFyZW50IGNvbnRhaW5lciB1bnRpbCBDT01NRU5UX0lTTEFORF9FTkRcbiAgICBDT01NRU5UX0lTTEFORF9FTkQgLyogKioqKioqKioqKioqKiAqLyA9IDBiMTAwMDAwMDAsIC8vIENvbW1lbnQgaXNsYW5kIGVuZFxuICAgIE9USEVSIC8qICoqKioqKioqKioqKioqKioqKioqKioqKioqICovID0gMGIwMDAwMDAwMCxcbiAgfVxuXG4gIC8qKlxuICAgKiBMb29rcyB1cCB3aGljaCB0eXBlIG9mIG5vZGUgdGhpcyBpcyBpbiBhIG1vbm9tb3JwaGljIHdheSB3aGljaCBzaG91bGQgYmUgZmFzdGVyLlxuICAgKlxuICAgKiBTZWU6IGh0dHBzOi8vbWhldmVyeS5naXRodWIuaW8vcGVyZi10ZXN0cy9ET00tbWVnYW1vcnBoaWMuaHRtbFxuICAgKi9cbiAgY29uc3QgZ2V0RmFzdE5vZGVUeXBlID0gKG5vZGU6IE5vZGUpOiBOb2RlVHlwZSA9PiB7XG4gICAgY29uc3Qgbm9kZVR5cGUgPSBnZXROb2RlVHlwZS5jYWxsKG5vZGUpO1xuICAgIGlmIChub2RlVHlwZSA9PT0gMSAvKiBOb2RlLkVMRU1FTlRfTk9ERSAqLykge1xuICAgICAgY29uc3QgcUNvbnRhaW5lciA9IGdldEF0dHJpYnV0ZS5jYWxsKG5vZGUsIFFfQ09OVEFJTkVSKTtcbiAgICAgIGlmIChxQ29udGFpbmVyID09PSBudWxsKSB7XG4gICAgICAgIGlmIChoYXNBdHRyaWJ1dGUuY2FsbChub2RlLCBRX1NIQURPV19ST09UKSkge1xuICAgICAgICAgIHJldHVybiBOb2RlVHlwZS5FTEVNRU5UX1NIQURPV19ST09UO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGlzUUVsZW1lbnQgPSBoYXNBdHRyaWJ1dGUuY2FsbChub2RlLCBRX1BST1BTX1NFUEFSQVRPUik7XG4gICAgICAgIHJldHVybiBpc1FFbGVtZW50ID8gTm9kZVR5cGUuRUxFTUVOVCA6IE5vZGVUeXBlLk9USEVSO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIE5vZGVUeXBlLkVMRU1FTlRfQ09OVEFJTkVSO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAobm9kZVR5cGUgPT09IDggLyogTm9kZS5DT01NRU5UX05PREUgKi8pIHtcbiAgICAgIGNvbnN0IG5vZGVWYWx1ZSA9IG5vZGUubm9kZVZhbHVlIHx8ICcnOyAvLyBub2RlVmFsdWUgaXMgbW9ub21vcnBoaWMgc28gaXQgZG9lcyBub3QgbmVlZCBmYXN0IHBhdGhcbiAgICAgIGlmIChub2RlVmFsdWUuc3RhcnRzV2l0aChRX0NPTlRBSU5FUl9JU0xBTkQpKSB7XG4gICAgICAgIHJldHVybiBOb2RlVHlwZS5DT01NRU5UX0lTTEFORF9TVEFSVDtcbiAgICAgIH0gZWxzZSBpZiAobm9kZVZhbHVlLnN0YXJ0c1dpdGgoUV9JR05PUkUpKSB7XG4gICAgICAgIHJldHVybiBOb2RlVHlwZS5DT01NRU5UX0lHTk9SRV9TVEFSVDtcbiAgICAgIH0gZWxzZSBpZiAobm9kZVZhbHVlLnN0YXJ0c1dpdGgoUV9DT05UQUlORVIpKSB7XG4gICAgICAgIHJldHVybiBOb2RlVHlwZS5DT01NRU5UX1NLSVBfU1RBUlQ7XG4gICAgICB9IGVsc2UgaWYgKG5vZGVWYWx1ZS5zdGFydHNXaXRoKFFfQ09OVEFJTkVSX0lTTEFORF9FTkQpKSB7XG4gICAgICAgIHJldHVybiBOb2RlVHlwZS5DT01NRU5UX0lTTEFORF9FTkQ7XG4gICAgICB9IGVsc2UgaWYgKG5vZGVWYWx1ZS5zdGFydHNXaXRoKFFfSUdOT1JFX0VORCkpIHtcbiAgICAgICAgcmV0dXJuIE5vZGVUeXBlLkNPTU1FTlRfSUdOT1JFX0VORDtcbiAgICAgIH0gZWxzZSBpZiAobm9kZVZhbHVlLnN0YXJ0c1dpdGgoUV9DT05UQUlORVJfRU5EKSkge1xuICAgICAgICByZXR1cm4gTm9kZVR5cGUuQ09NTUVOVF9TS0lQX0VORDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIE5vZGVUeXBlLk9USEVSO1xuICB9O1xuXG4gIGNvbnN0IGlzU2VwYXJhdG9yID0gKGNoOiBudW1iZXIpID0+XG4gICAgLyogYCFgICovIFZOb2RlRGF0YVNlcGFyYXRvci5BRFZBTkNFXzEgPD0gY2ggJiYgY2ggPD0gVk5vZGVEYXRhU2VwYXJhdG9yLkFEVkFOQ0VfODE5MjsgLyogYC5gICovXG4gIC8qKlxuICAgKiBHaXZlbiB0aGUgYHZEYXRhYCBzdHJpbmcsIGBzdGFydGAgaW5kZXgsIGFuZCBgZW5kYCBpbmRleCwgZmluZCB0aGUgZW5kIG9mIHRoZSBWTm9kZURhdGFcbiAgICogc2VjdGlvbi5cbiAgICovXG4gIGNvbnN0IGZpbmRWRGF0YVNlY3Rpb25FbmQgPSAodkRhdGE6IHN0cmluZywgc3RhcnQ6IG51bWJlciwgZW5kOiBudW1iZXIpOiBudW1iZXIgPT4ge1xuICAgIGxldCBkZXB0aCA9IDA7XG4gICAgd2hpbGUgKHRydWUgYXMgYm9vbGVhbikge1xuICAgICAgLy8gbG9vayBmb3IgdGhlIGVuZCBvZiBWTm9kZURhdGFcbiAgICAgIGlmIChzdGFydCA8IGVuZCkge1xuICAgICAgICBjb25zdCBjaCA9IHZEYXRhLmNoYXJDb2RlQXQoc3RhcnQpO1xuICAgICAgICBpZiAoZGVwdGggPT09IDAgJiYgaXNTZXBhcmF0b3IoY2gpKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKGNoID09PSBWTm9kZURhdGFDaGFyLk9QRU4pIHtcbiAgICAgICAgICAgIGRlcHRoKys7XG4gICAgICAgICAgfSBlbHNlIGlmIChjaCA9PT0gVk5vZGVEYXRhQ2hhci5DTE9TRSkge1xuICAgICAgICAgICAgZGVwdGgtLTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc3RhcnQrKztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzdGFydDtcbiAgfTtcblxuICBjb25zdCBuZXh0U2libGluZyA9IChub2RlOiBOb2RlIHwgbnVsbCkgPT4ge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1lbXB0eVxuICAgIHdoaWxlIChub2RlICYmIChub2RlID0gbm9kZS5uZXh0U2libGluZykgJiYgZ2V0RmFzdE5vZGVUeXBlKG5vZGUpID09PSBOb2RlVHlwZS5PVEhFUikge31cbiAgICByZXR1cm4gbm9kZTtcbiAgfTtcblxuICBjb25zdCBmaXJzdENoaWxkID0gKG5vZGU6IE5vZGUgfCBudWxsKSA9PiB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVtcHR5XG4gICAgd2hpbGUgKG5vZGUgJiYgKG5vZGUgPSBub2RlLmZpcnN0Q2hpbGQpICYmIGdldEZhc3ROb2RlVHlwZShub2RlKSA9PT0gTm9kZVR5cGUuT1RIRVIpIHt9XG4gICAgcmV0dXJuIG5vZGU7XG4gIH07XG5cbiAgLyoqXG4gICAqIFByb2Nlc3MgdGhlIGNvbnRhaW5lclxuICAgKlxuICAgKiBAcGFyYW0gd2Fsa2VyIFRyZWVXYWxrZXJcbiAgICogQHBhcmFtIGNvbnRhaW5lck5vZGUgVGhlIHJvb3Qgb2YgY29udGFpbmVyIGVsZW1lbnRcbiAgICogQHBhcmFtIGV4aXROb2RlIFRoZSBub2RlIHdoaWNoIHJlcHJlc2VudHMgdGhlIGxhc3Qgbm9kZSBhbmQgd2Ugc2hvdWxkIGV4aXQuXG4gICAqIEBwYXJhbSBxVk5vZGVSZWZzIFBsYWNlIHRvIHN0b3JlIHRoZSBWTm9kZVJlZnNcbiAgICovXG4gIGNvbnN0IHdhbGtDb250YWluZXIgPSAoXG4gICAgd2Fsa2VyOiBUcmVlV2Fsa2VyLFxuICAgIGNvbnRhaW5lck5vZGU6IE5vZGUgfCBudWxsLFxuICAgIG5vZGU6IE5vZGUgfCBudWxsLFxuICAgIGV4aXROb2RlOiBOb2RlIHwgbnVsbCxcbiAgICB2RGF0YTogc3RyaW5nLFxuICAgIHFWTm9kZVJlZnM6IE1hcDxudW1iZXIsIEVsZW1lbnQgfCBFbGVtZW50Vk5vZGU+LFxuICAgIHByZWZpeDogc3RyaW5nXG4gICkgPT4ge1xuICAgIGNvbnN0IHZEYXRhX2xlbmd0aCA9IHZEYXRhLmxlbmd0aDtcbiAgICAvLy8gU3RvcmVzIHRoZSBjdXJyZW50IGVsZW1lbnQgaW5kZXggYXMgdGhlIFRyZWVXYWxrZXIgdHJhdmVyc2VzIHRoZSBET00uXG4gICAgbGV0IGVsZW1lbnRJZHggPSAwO1xuICAgIC8vLyBTdG9yZXMgdGhlIGN1cnJlbnQgVk5vZGUgaW5kZXggYXMgZGVyaXZlZCBmcm9tIHRoZSBWTm9kZURhdGEgc2NyaXB0IHRhZy5cbiAgICBsZXQgdk5vZGVFbGVtZW50SW5kZXggPSAtMTtcbiAgICBsZXQgdkRhdGFfc3RhcnQgPSAwO1xuICAgIGxldCB2RGF0YV9lbmQgPSAwO1xuICAgIGxldCBjaCA9IDA7XG4gICAgbGV0IG5lZWRzVG9TdG9yZVJlZiA9IC0xO1xuICAgIGxldCBuZXh0Tm9kZTogTm9kZSB8IG51bGwgPSBudWxsO1xuXG4gICAgLyoqIENvbXB1dGVzIG51bWJlciBvZiBlbGVtZW50cyB3aGljaCBuZWVkIHRvIGJlIHNraXBwZWQgdG8gZ2V0IHRvIHRoZSBuZXh0IFZOb2RlRGF0YSBzZWN0aW9uLiAqL1xuICAgIGNvbnN0IGhvd01hbnlFbGVtZW50c1RvU2tpcCA9ICgpID0+IHtcbiAgICAgIGxldCBlbGVtZW50c1RvU2tpcCA9IDA7XG4gICAgICB3aGlsZSAoaXNTZXBhcmF0b3IoKGNoID0gdkRhdGEuY2hhckNvZGVBdCh2RGF0YV9zdGFydCkpKSkge1xuICAgICAgICAvLyBLZWVwIGNvbnN1bWluZyB0aGUgc2VwYXJhdG9ycyBhbmQgaW5jcmVtZW50aW5nIHRoZSB2Tm9kZUluZGV4XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdBRFZBTkNFJywgdk5vZGVFbGVtZW50SW5kZXgsIGNoLCBjaCAtIDMzKTtcbiAgICAgICAgZWxlbWVudHNUb1NraXAgKz0gMSA8PCAoY2ggLSBWTm9kZURhdGFTZXBhcmF0b3IuQURWQU5DRV8xKTtcbiAgICAgICAgdkRhdGFfc3RhcnQrKztcbiAgICAgICAgaWYgKHZEYXRhX3N0YXJ0ID49IHZEYXRhX2xlbmd0aCkge1xuICAgICAgICAgIC8vIHdlIHJlYWNoZWQgdGhlIGVuZCBvZiB0aGUgdk5vZGVEYXRhIHN0b3AuXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBlbGVtZW50c1RvU2tpcDtcbiAgICB9O1xuXG4gICAgZG8ge1xuICAgICAgaWYgKG5vZGUgPT09IGV4aXROb2RlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIG5leHROb2RlID0gbnVsbDtcbiAgICAgIGNvbnN0IG5vZGVUeXBlID0gbm9kZSA9PSBjb250YWluZXJOb2RlID8gTm9kZVR5cGUuRUxFTUVOVCA6IGdldEZhc3ROb2RlVHlwZShub2RlISk7XG4gICAgICBpZiAobm9kZVR5cGUgPT09IE5vZGVUeXBlLkVMRU1FTlRfQ09OVEFJTkVSKSB7XG4gICAgICAgIC8vIElmIHdlIGFyZSBpbiBhIGNvbnRhaW5lciwgd2UgbmVlZCB0byBza2lwIHRoZSBjaGlsZHJlbi5cbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gbm9kZSBhcyBDb250YWluZXJFbGVtZW50O1xuICAgICAgICBsZXQgY3Vyc29yID0gbm9kZTtcbiAgICAgICAgd2hpbGUgKGN1cnNvciAmJiAhKG5leHROb2RlID0gbmV4dFNpYmxpbmcoY3Vyc29yKSkpIHtcbiAgICAgICAgICBjdXJzb3IgPSBjdXJzb3IhLnBhcmVudE5vZGU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY29uc29sZS5sb2coJ0VYSVQnLCBuZXh0Tm9kZT8ub3V0ZXJIVE1MKTtcbiAgICAgICAgd2Fsa0NvbnRhaW5lcihcbiAgICAgICAgICB3YWxrZXIsXG4gICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgIG5vZGUsXG4gICAgICAgICAgbmV4dE5vZGUsXG4gICAgICAgICAgY29udGFpbmVyLnFWbm9kZURhdGEgfHwgJycsXG4gICAgICAgICAgY29udGFpbmVyLnFWTm9kZVJlZnMhLFxuICAgICAgICAgIHByZWZpeCArICcgICdcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSBpZiAobm9kZVR5cGUgPT09IE5vZGVUeXBlLkNPTU1FTlRfSUdOT1JFX1NUQVJUKSB7XG4gICAgICAgIGxldCBpc2xhbmROb2RlID0gbm9kZTtcbiAgICAgICAgZG8ge1xuICAgICAgICAgIGlzbGFuZE5vZGUgPSB3YWxrZXIubmV4dE5vZGUoKTtcbiAgICAgICAgICBpZiAoIWlzbGFuZE5vZGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSXNsYW5kIGluc2lkZSA8IS0tJHtub2RlPy5ub2RlVmFsdWV9LS0+IG5vdCBmb3VuZCFgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gd2hpbGUgKGdldEZhc3ROb2RlVHlwZShpc2xhbmROb2RlKSAhPT0gTm9kZVR5cGUuQ09NTUVOVF9JU0xBTkRfU1RBUlQpO1xuICAgICAgICBuZXh0Tm9kZSA9IG51bGw7XG4gICAgICB9IGVsc2UgaWYgKG5vZGVUeXBlID09PSBOb2RlVHlwZS5DT01NRU5UX0lTTEFORF9FTkQpIHtcbiAgICAgICAgbmV4dE5vZGUgPSBub2RlO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgbmV4dE5vZGUgPSB3YWxrZXIubmV4dE5vZGUoKTtcbiAgICAgICAgICBpZiAoIW5leHROb2RlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYElnbm9yZSBibG9jayBub3QgY2xvc2VkIWApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSB3aGlsZSAoZ2V0RmFzdE5vZGVUeXBlKG5leHROb2RlKSAhPT0gTm9kZVR5cGUuQ09NTUVOVF9JR05PUkVfRU5EKTtcbiAgICAgICAgbmV4dE5vZGUgPSBudWxsO1xuICAgICAgfSBlbHNlIGlmIChub2RlVHlwZSA9PT0gTm9kZVR5cGUuQ09NTUVOVF9TS0lQX1NUQVJUKSB7XG4gICAgICAgIC8vIElmIHdlIGFyZSBpbiBhIGNvbnRhaW5lciwgd2UgbmVlZCB0byBza2lwIHRoZSBjaGlsZHJlbi5cbiAgICAgICAgbmV4dE5vZGUgPSBub2RlO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgbmV4dE5vZGUgPSBuZXh0U2libGluZyhuZXh0Tm9kZSk7XG4gICAgICAgICAgaWYgKCFuZXh0Tm9kZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGA8IS0tJHtub2RlPy5ub2RlVmFsdWV9LS0+IG5vdCBjbG9zZWQhYCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IHdoaWxlIChnZXRGYXN0Tm9kZVR5cGUobmV4dE5vZGUpICE9PSBOb2RlVHlwZS5DT01NRU5UX1NLSVBfRU5EKTtcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ0VYSVQnLCBuZXh0Tm9kZT8ub3V0ZXJIVE1MKTtcbiAgICAgICAgd2Fsa0NvbnRhaW5lcih3YWxrZXIsIG5vZGUsIG5vZGUsIG5leHROb2RlLCAnJywgbnVsbCEsIHByZWZpeCArICcgICcpO1xuICAgICAgfSBlbHNlIGlmIChub2RlVHlwZSA9PT0gTm9kZVR5cGUuRUxFTUVOVF9TSEFET1dfUk9PVCkge1xuICAgICAgICAvLyBJZiB3ZSBhcmUgaW4gYSBzaGFkb3cgcm9vdCwgd2UgbmVlZCB0byBnZXQgdGhlIHNoYWRvdyByb290IGVsZW1lbnQuXG4gICAgICAgIG5leHROb2RlID0gbmV4dFNpYmxpbmcobm9kZSk7XG4gICAgICAgIGNvbnN0IHNoYWRvd1Jvb3RDb250YWluZXIgPSBub2RlIGFzIEVsZW1lbnQgfCBudWxsO1xuICAgICAgICBjb25zdCBzaGFkb3dSb290ID0gc2hhZG93Um9vdENvbnRhaW5lcj8uc2hhZG93Um9vdDtcbiAgICAgICAgaWYgKHNoYWRvd1Jvb3QpIHtcbiAgICAgICAgICB3YWxrQ29udGFpbmVyKFxuICAgICAgICAgICAgLy8gd2UgbmVlZCB0byBjcmVhdGUgYSBuZXcgd2Fsa2VyIGZvciB0aGUgc2hhZG93IHJvb3RcbiAgICAgICAgICAgIGRvY3VtZW50LmNyZWF0ZVRyZWVXYWxrZXIoXG4gICAgICAgICAgICAgIHNoYWRvd1Jvb3QsXG4gICAgICAgICAgICAgIDB4MSAvKiBOb2RlRmlsdGVyLlNIT1dfRUxFTUVOVCAgKi8gfCAweDgwIC8qICBOb2RlRmlsdGVyLlNIT1dfQ09NTUVOVCAqL1xuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICBmaXJzdENoaWxkKHNoYWRvd1Jvb3QpLFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICcnLFxuICAgICAgICAgICAgbnVsbCEsXG4gICAgICAgICAgICBwcmVmaXggKyAnICAnXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoKG5vZGVUeXBlICYgTm9kZVR5cGUuRUxFTUVOVCkgPT09IE5vZGVUeXBlLkVMRU1FTlQpIHtcbiAgICAgICAgaWYgKHZOb2RlRWxlbWVudEluZGV4IDwgZWxlbWVudElkeCkge1xuICAgICAgICAgIC8vIFZOb2RlRGF0YSBuZWVkcyB0byBjYXRjaCB1cCB3aXRoIHRoZSBlbGVtZW50SWR4XG4gICAgICAgICAgaWYgKHZOb2RlRWxlbWVudEluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgdk5vZGVFbGVtZW50SW5kZXggPSAwO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2RGF0YV9zdGFydCA9IHZEYXRhX2VuZDtcbiAgICAgICAgICBpZiAodkRhdGFfc3RhcnQgPCB2RGF0YV9sZW5ndGgpIHtcbiAgICAgICAgICAgIHZOb2RlRWxlbWVudEluZGV4ICs9IGhvd01hbnlFbGVtZW50c1RvU2tpcCgpO1xuICAgICAgICAgICAgY29uc3Qgc2hvdWxkU3RvcmVSZWYgPSBjaCA9PT0gVk5vZGVEYXRhU2VwYXJhdG9yLlJFRkVSRU5DRTtcbiAgICAgICAgICAgIGlmIChzaG91bGRTdG9yZVJlZikge1xuICAgICAgICAgICAgICAvLyBpZiB3ZSBuZWVkIHRvIHN0b3JlIHRoZSByZWYgaGFuZGxlIGl0IGhlcmUuXG4gICAgICAgICAgICAgIG5lZWRzVG9TdG9yZVJlZiA9IHZOb2RlRWxlbWVudEluZGV4O1xuICAgICAgICAgICAgICB2RGF0YV9zdGFydCsrO1xuICAgICAgICAgICAgICBpZiAodkRhdGFfc3RhcnQgPCB2RGF0YV9sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBjaCA9IHZEYXRhLmNoYXJDb2RlQXQodkRhdGFfZW5kKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBhc3N1bWUgc2VwYXJhdG9yIG9uIGVuZC5cbiAgICAgICAgICAgICAgICBjaCA9IFZOb2RlRGF0YVNlcGFyYXRvci5BRFZBTkNFXzE7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZEYXRhX2VuZCA9IGZpbmRWRGF0YVNlY3Rpb25FbmQodkRhdGEsIHZEYXRhX3N0YXJ0LCB2RGF0YV9sZW5ndGgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2Tm9kZUVsZW1lbnRJbmRleCA9IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcbiAgICAgICAgLy8gICBwcmVmaXgsXG4gICAgICAgIC8vICAgJ0VMRU1FTlQnLFxuICAgICAgICAvLyAgIG5vZGVUeXBlLFxuICAgICAgICAvLyAgIGVsZW1lbnRJZHgsXG4gICAgICAgIC8vICAgdk5vZGVFbGVtZW50SW5kZXgsXG4gICAgICAgIC8vICAgKG5vZGUgYXMgYW55KS5vdXRlckhUTUwsXG4gICAgICAgIC8vICAgZWxlbWVudElkeCA9PT0gdk5vZGVFbGVtZW50SW5kZXggPyB2RGF0YS5zdWJzdHJpbmcodkRhdGFfc3RhcnQsIHZEYXRhX2VuZCkgOiAnJ1xuICAgICAgICAvLyApO1xuICAgICAgICBpZiAoZWxlbWVudElkeCA9PT0gdk5vZGVFbGVtZW50SW5kZXgpIHtcbiAgICAgICAgICBpZiAobmVlZHNUb1N0b3JlUmVmID09PSBlbGVtZW50SWR4KSB7XG4gICAgICAgICAgICBxVk5vZGVSZWZzLnNldChlbGVtZW50SWR4LCBub2RlIGFzIEVsZW1lbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBpbnN0cnVjdGlvbnMgPSB2RGF0YS5zdWJzdHJpbmcodkRhdGFfc3RhcnQsIHZEYXRhX2VuZCk7XG4gICAgICAgICAgdk5vZGVEYXRhTWFwLnNldChub2RlIGFzIEVsZW1lbnQsIGluc3RydWN0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxlbWVudElkeCsrO1xuICAgICAgfVxuICAgIH0gd2hpbGUgKChub2RlID0gbmV4dE5vZGUgfHwgd2Fsa2VyLm5leHROb2RlKCkpKTtcbiAgfTtcblxuICAvLyBXYWxrIHRoZSB0cmVlIGFuZCBwcm9jZXNzIGVhY2ggYHE6Y29udGFpbmVyYCBlbGVtZW50LlxuICBjb25zdCB3YWxrZXIgPSBkb2N1bWVudC5jcmVhdGVUcmVlV2Fsa2VyKFxuICAgIGRvY3VtZW50LFxuICAgIDB4MSAvKiBOb2RlRmlsdGVyLlNIT1dfRUxFTUVOVCAgKi8gfCAweDgwIC8qICBOb2RlRmlsdGVyLlNIT1dfQ09NTUVOVCAqL1xuICApO1xuXG4gIHdhbGtDb250YWluZXIod2Fsa2VyLCBudWxsLCB3YWxrZXIuZmlyc3RDaGlsZCgpLCBudWxsLCAnJywgbnVsbCEsICcnKTtcbn1cbiJdfQ==","/** @file Public APIs for the SSR */\nimport { assertTrue } from '../shared/error/assert';\nimport { getPlatform } from '../shared/platform/platform';\nimport { ERROR_CONTEXT, isRecoverable } from '../shared/error/error-handling';\nimport { EMPTY_ARRAY } from '../shared/utils/flyweight';\nimport { throwErrorAndStop } from '../shared/utils/log';\nimport { ELEMENT_PROPS, ELEMENT_SEQ, ELEMENT_SEQ_IDX, getQFuncs, OnRenderProp, Q_PROPS_SEPARATOR, QBaseAttr, QContainerAttr, QContainerSelector, QCtxAttr, QInstanceAttr, QScopedStyle, QSlotParent, QStyle, QStyleSelector, QSubscribers, USE_ON_LOCAL_SEQ_IDX, } from '../shared/utils/markers';\nimport { isPromise } from '../shared/utils/promises';\nimport { isSlotProp } from '../shared/utils/prop';\nimport { qDev } from '../shared/utils/qdev';\nimport { ChoreType } from '../shared/scheduler';\nimport { addComponentStylePrefix, convertScopedStyleIdsToArray, convertStyleIdsToString, } from '../shared/utils/scoped-styles';\nimport { _SharedContainer } from '../shared/shared-container';\nimport { inflateQRL, parseQRL, wrapDeserializerProxy } from '../shared/shared-serialization';\nimport {} from '../shared/types';\nimport { processVNodeData } from './process-vnode-data';\nimport { VNodeFlags, VNodeProps, } from './types';\nimport { VNodeJournalOpCode, mapArray_get, mapArray_set, vnode_applyJournal, vnode_getDOMChildNodes, vnode_getDomParent, vnode_getParent, vnode_getProp, vnode_getPropStartIndex, vnode_insertBefore, vnode_isVirtualVNode, vnode_locate, vnode_newElement, vnode_newUnMaterializedElement, vnode_setProp, } from './vnode';\nimport { vnode_diff } from './vnode-diff';\n/** @public */\nexport function getDomContainer(element) {\n    const qContainerElement = _getQContainerElement(element);\n    if (!qContainerElement) {\n        throwErrorAndStop('Unable to find q:container.');\n    }\n    return getDomContainerFromQContainerElement(qContainerElement);\n}\nexport function getDomContainerFromQContainerElement(qContainerElement) {\n    const qElement = qContainerElement;\n    let container = qElement.qContainer;\n    if (!container) {\n        container = new DomContainer(qElement);\n        const containerAttributes = {};\n        if (qElement) {\n            const attrs = qElement.attributes;\n            if (attrs) {\n                for (let index = 0; index < attrs.length; index++) {\n                    const attr = attrs[index];\n                    if (attr.name === Q_PROPS_SEPARATOR) {\n                        continue;\n                    }\n                    containerAttributes[attr.name] = attr.value;\n                }\n            }\n        }\n        container.$serverData$ = { containerAttributes };\n        qElement.qContainer = container;\n    }\n    return container;\n}\n/** @internal */\nexport function _getQContainerElement(element) {\n    const qContainerElement = Array.isArray(element)\n        ? vnode_getDomParent(element)\n        : element;\n    return qContainerElement.closest(QContainerSelector);\n}\nexport const isDomContainer = (container) => {\n    return container instanceof DomContainer;\n};\n/** @internal */\nexport class DomContainer extends _SharedContainer {\n    constructor(element) {\n        super(() => this.scheduleRender(), () => vnode_applyJournal(this.$journal$), {}, element.getAttribute('q:locale'));\n        this.renderDone = null;\n        this.$storeProxyMap$ = new WeakMap();\n        this.$styleIds$ = null;\n        this.$vnodeLocate$ = (id) => vnode_locate(this.rootVNode, id);\n        this.$renderCount$ = 0;\n        this.$getObjectById$ = (id) => {\n            if (typeof id === 'string') {\n                id = parseFloat(id);\n            }\n            assertTrue(id < this.$rawStateData$.length / 2, `Invalid reference: ${id} >= ${this.$rawStateData$.length / 2}`);\n            return this.stateData[id];\n        };\n        this.qContainer = element.getAttribute(QContainerAttr);\n        if (!this.qContainer) {\n            throwErrorAndStop(\"Element must have 'q:container' attribute.\");\n        }\n        this.$journal$ = [\n            // The first time we render we need to hoist the styles.\n            // (Meaning we need to move all styles from component inline to <head>)\n            // We bulk move all of the styles, because the expensive part is\n            // for the browser to recompute the styles, (not the actual DOM manipulation.)\n            // By moving all of them at once we can minimize the reflow.\n            VNodeJournalOpCode.HoistStyles,\n            element.ownerDocument,\n        ];\n        this.document = element.ownerDocument;\n        this.element = element;\n        this.qBase = element.getAttribute(QBaseAttr);\n        this.$instanceHash$ = element.getAttribute(QInstanceAttr);\n        // this.containerState = createContainerState(element, this.qBase);\n        this.qManifestHash = element.getAttribute('q:manifest-hash');\n        this.rootVNode = vnode_newUnMaterializedElement(this.element);\n        // These are here to initialize all properties at once for single class transition\n        this.$rawStateData$ = null;\n        this.stateData = null;\n        const document = this.element.ownerDocument;\n        if (!document.qVNodeData) {\n            processVNodeData(document);\n        }\n        this.$rawStateData$ = [];\n        this.stateData = [];\n        const qwikStates = element.querySelectorAll('script[type=\"qwik/state\"]');\n        if (qwikStates.length !== 0) {\n            const lastState = qwikStates[qwikStates.length - 1];\n            this.$rawStateData$ = JSON.parse(lastState.textContent);\n            this.stateData = wrapDeserializerProxy(this, this.$rawStateData$);\n        }\n        this.$qFuncs$ = getQFuncs(document, this.$instanceHash$) || EMPTY_ARRAY;\n    }\n    $setRawState$(id, vParent) {\n        this.stateData[id] = vParent;\n    }\n    parseQRL(qrl) {\n        return inflateQRL(this, parseQRL(qrl));\n    }\n    processJsx(host, jsx) {\n        // console.log('>>>> processJsx', String(host));\n        const styleScopedId = this.getHostProp(host, QScopedStyle);\n        return vnode_diff(this, jsx, host, addComponentStylePrefix(styleScopedId));\n    }\n    handleError(err, host) {\n        if (qDev) {\n            // Clean vdom\n            if (typeof document !== 'undefined') {\n                const vHost = host;\n                const errorDiv = document.createElement('errored-host');\n                if (err && err instanceof Error) {\n                    errorDiv.props = { error: err };\n                }\n                errorDiv.setAttribute('q:key', '_error_');\n                const journal = [];\n                vnode_getDOMChildNodes(journal, vHost).forEach((child) => errorDiv.appendChild(child));\n                const vErrorDiv = vnode_newElement(errorDiv, 'error-host');\n                vnode_insertBefore(journal, vHost, vErrorDiv, null);\n                vnode_applyJournal(journal);\n            }\n            if (err && err instanceof Error) {\n                if (!('hostElement' in err)) {\n                    err['hostElement'] = host;\n                }\n            }\n            if (!isRecoverable(err)) {\n                throw err;\n            }\n        }\n        const errorStore = this.resolveContext(host, ERROR_CONTEXT);\n        if (!errorStore) {\n            throw err;\n        }\n        errorStore.error = err;\n    }\n    setContext(host, context, value) {\n        let ctx = this.getHostProp(host, QCtxAttr);\n        if (!ctx) {\n            this.setHostProp(host, QCtxAttr, (ctx = []));\n        }\n        mapArray_set(ctx, context.id, value, 0);\n    }\n    resolveContext(host, contextId) {\n        while (host) {\n            const ctx = this.getHostProp(host, QCtxAttr);\n            if (ctx) {\n                const value = mapArray_get(ctx, contextId.id, 0);\n                if (value) {\n                    return value;\n                }\n            }\n            host = this.getParentHost(host);\n        }\n        return undefined;\n    }\n    getParentHost(host) {\n        let vNode = vnode_getParent(host);\n        while (vNode) {\n            if (vnode_isVirtualVNode(vNode)) {\n                if (vnode_getProp(vNode, OnRenderProp, null) !== null) {\n                    return vNode;\n                }\n                // If virtual node, than it could be a slot so we need to read its parent.\n                const parent = vnode_getProp(vNode, QSlotParent, this.$vnodeLocate$);\n                if (parent) {\n                    vNode = parent;\n                    continue;\n                }\n            }\n            vNode = vnode_getParent(vNode);\n        }\n        return null;\n    }\n    setHostProp(host, name, value) {\n        const vNode = host;\n        vnode_setProp(vNode, name, value);\n    }\n    getHostProp(host, name) {\n        const vNode = host;\n        let getObjectById = null;\n        switch (name) {\n            case ELEMENT_SEQ:\n            case ELEMENT_PROPS:\n            case OnRenderProp:\n            case QCtxAttr:\n            case QSubscribers:\n                getObjectById = this.$getObjectById$;\n                break;\n            case ELEMENT_SEQ_IDX:\n            case USE_ON_LOCAL_SEQ_IDX:\n                getObjectById = parseInt;\n                break;\n        }\n        return vnode_getProp(vNode, name, getObjectById);\n    }\n    scheduleRender() {\n        this.$renderCount$++;\n        this.renderDone || (this.renderDone = getPlatform().nextTick(() => this.processChores()));\n        return this.renderDone;\n    }\n    processChores() {\n        let renderCount = this.$renderCount$;\n        const result = this.$scheduler$(ChoreType.WAIT_FOR_ALL);\n        if (isPromise(result)) {\n            return result.then(async () => {\n                while (renderCount !== this.$renderCount$) {\n                    renderCount = this.$renderCount$;\n                    await this.$scheduler$(ChoreType.WAIT_FOR_ALL);\n                }\n                this.renderDone = null;\n            });\n        }\n        if (renderCount !== this.$renderCount$) {\n            this.processChores();\n            return;\n        }\n        this.renderDone = null;\n    }\n    ensureProjectionResolved(vNode) {\n        if ((vNode[VNodeProps.flags] & VNodeFlags.Resolved) === 0) {\n            vNode[VNodeProps.flags] |= VNodeFlags.Resolved;\n            for (let i = vnode_getPropStartIndex(vNode); i < vNode.length; i = i + 2) {\n                const prop = vNode[i];\n                if (isSlotProp(prop)) {\n                    const value = vNode[i + 1];\n                    if (typeof value == 'string') {\n                        vNode[i + 1] = this.$vnodeLocate$(value);\n                    }\n                }\n            }\n        }\n    }\n    getSyncFn(id) {\n        const fn = this.$qFuncs$[id];\n        assertTrue(typeof fn === 'function', 'Invalid reference: ' + id);\n        return fn;\n    }\n    $appendStyle$(content, styleId, host, scoped) {\n        if (scoped) {\n            const scopedStyleIdsString = this.getHostProp(host, QScopedStyle);\n            const scopedStyleIds = new Set(convertScopedStyleIdsToArray(scopedStyleIdsString));\n            scopedStyleIds.add(styleId);\n            this.setHostProp(host, QScopedStyle, convertStyleIdsToString(scopedStyleIds));\n        }\n        if (this.$styleIds$ == null) {\n            this.$styleIds$ = new Set();\n            this.element.querySelectorAll(QStyleSelector).forEach((style) => {\n                this.$styleIds$.add(style.getAttribute(QStyle));\n            });\n        }\n        if (!this.$styleIds$.has(styleId)) {\n            this.$styleIds$.add(styleId);\n            const styleElement = this.document.createElement('style');\n            styleElement.setAttribute(QStyle, styleId);\n            styleElement.textContent = content;\n            this.$journal$.push(VNodeJournalOpCode.Insert, this.document.head, null, styleElement);\n        }\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZG9tLWNvbnRhaW5lci5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9jbGllbnQvZG9tLWNvbnRhaW5lci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxvQ0FBb0M7QUFFcEMsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLHdCQUF3QixDQUFDO0FBQ3BELE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSw2QkFBNkIsQ0FBQztBQUUxRCxPQUFPLEVBQUUsYUFBYSxFQUFFLGFBQWEsRUFBRSxNQUFNLGdDQUFnQyxDQUFDO0FBRzlFLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSwyQkFBMkIsQ0FBQztBQUN4RCxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUN4RCxPQUFPLEVBQ0wsYUFBYSxFQUNiLFdBQVcsRUFDWCxlQUFlLEVBQ2YsU0FBUyxFQUNULFlBQVksRUFDWixpQkFBaUIsRUFDakIsU0FBUyxFQUNULGNBQWMsRUFDZCxrQkFBa0IsRUFDbEIsUUFBUSxFQUNSLGFBQWEsRUFDYixZQUFZLEVBQ1osV0FBVyxFQUNYLE1BQU0sRUFDTixjQUFjLEVBQ2QsWUFBWSxFQUNaLG9CQUFvQixHQUNyQixNQUFNLHlCQUF5QixDQUFDO0FBQ2pDLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQztBQUNyRCxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFDbEQsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBRTVDLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUNoRCxPQUFPLEVBQ0wsdUJBQXVCLEVBQ3ZCLDRCQUE0QixFQUM1Qix1QkFBdUIsR0FDeEIsTUFBTSwrQkFBK0IsQ0FBQztBQUN2QyxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSw0QkFBNEIsQ0FBQztBQUM5RCxPQUFPLEVBQUUsVUFB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QzVCLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxHQUFHLEVBQUUsQ0FBQztZQUM1QixJQUFJLENBQUMsT0FBTyxDQUFDLGdCQUFnQixDQUFDLGNBQWMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLEtBQUssRUFBRSxFQUFFO2dCQUM5RCxJQUFJLENBQUMsVUFBVyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBRSxDQUFDLENBQUM7WUFDcEQsQ0FBQyxDQUFDLENBQUM7UUFDTCxDQUFDO1FBQ0QsSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUM7WUFDbEMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDN0IsTUFBTSxZQUFZLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDMUQsWUFBWSxDQUFDLFlBQVksQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7WUFDM0MsWUFBWSxDQUFDLFdBQVcsR0FBRyxPQUFPLENBQUM7WUFDbkMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsa0JBQWtCLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxZQUFZLENBQUMsQ0FBQztRQUN6RixDQUFDO0lBQ0gsQ0FBQztDQUNGIiwic291cmNlc0NvbnRlbnQiOlsiLyoqIEBmaWxlIFB1YmxpYyBBUElzIGZvciB0aGUgU1NSICovXG5cbmltcG9ydCB7IGFzc2VydFRydWUgfSBmcm9tICcuLi9zaGFyZWQvZXJyb3IvYXNzZXJ0JztcbmltcG9ydCB7IGdldFBsYXRmb3JtIH0gZnJvbSAnLi4vc2hhcmVkL3BsYXRmb3JtL3BsYXRmb3JtJztcbmltcG9ydCB0eXBlIHsgUVJMIH0gZnJvbSAnLi4vc2hhcmVkL3FybC9xcmwucHVibGljJztcbmltcG9ydCB7IEVSUk9SX0NPTlRFWFQsIGlzUmVjb3ZlcmFibGUgfSBmcm9tICcuLi9zaGFyZWQvZXJyb3IvZXJyb3ItaGFuZGxpbmcnO1xuaW1wb3J0IHR5cGUgeyBKU1hPdXRwdXQgfSBmcm9tICcuLi9zaGFyZWQvanN4L3R5cGVzL2pzeC1ub2RlJztcbmltcG9ydCB0eXBlIHsgQ29udGV4dElkIH0gZnJvbSAnLi4vdXNlL3VzZS1jb250ZXh0JztcbmltcG9ydCB7IEVNUFRZX0FSUkFZIH0gZnJvbSAnLi4vc2hhcmVkL3V0aWxzL2ZseXdlaWdodCc7XG5pbXBvcnQgeyB0aHJvd0Vycm9yQW5kU3RvcCB9IGZyb20gJy4uL3NoYXJlZC91dGlscy9sb2cnO1xuaW1wb3J0IHtcbiAgRUxFTUVOVF9QUk9QUyxcbiAgRUxFTUVOVF9TRVEsXG4gIEVMRU1FTlRfU0VRX0lEWCxcbiAgZ2V0UUZ1bmNzLFxuICBPblJlbmRlclByb3AsXG4gIFFfUFJPUFNfU0VQQVJBVE9SLFxuICBRQmFzZUF0dHIsXG4gIFFDb250YWluZXJBdHRyLFxuICBRQ29udGFpbmVyU2VsZWN0b3IsXG4gIFFDdHhBdHRyLFxuICBRSW5zdGFuY2VBdHRyLFxuICBRU2NvcGVkU3R5bGUsXG4gIFFTbG90UGFyZW50LFxuICBRU3R5bGUsXG4gIFFTdHlsZVNlbGVjdG9yLFxuICBRU3Vic2NyaWJlcnMsXG4gIFVTRV9PTl9MT0NBTF9TRVFfSURYLFxufSBmcm9tICcuLi9zaGFyZWQvdXRpbHMvbWFya2Vycyc7XG5pbXBvcnQgeyBpc1Byb21pc2UgfSBmcm9tICcuLi9zaGFyZWQvdXRpbHMvcHJvbWlzZXMnO1xuaW1wb3J0IHsgaXNTbG90UHJvcCB9IGZyb20gJy4uL3NoYXJlZC91dGlscy9wcm9wJztcbmltcG9ydCB7IHFEZXYgfSBmcm9tICcuLi9zaGFyZWQvdXRpbHMvcWRldic7XG5pbXBvcnQgdHlwZSB7IFZhbHVlT3JQcm9taXNlIH0gZnJvbSAnLi4vc2hhcmVkL3V0aWxzL3R5cGVzJztcbmltcG9ydCB7IENob3JlVHlwZSB9IGZyb20gJy4uL3NoYXJlZC9zY2hlZHVsZXInO1xuaW1wb3J0IHtcbiAgYWRkQ29tcG9uZW50U3R5bGVQcmVmaXgsXG4gIGNvbnZlcnRTY29wZWRTdHlsZUlkc1RvQXJyYXksXG4gIGNvbnZlcnRTdHlsZUlkc1RvU3RyaW5nLFxufSBmcm9tICcuLi9zaGFyZWQvdXRpbHMvc2NvcGVkLXN0eWxlcyc7XG5pbXBvcnQgeyBfU2hhcmVkQ29udGFpbmVyIH0gZnJvbSAnLi4vc2hhcmVkL3NoYXJlZC1jb250YWluZXInO1xuaW1wb3J0IHsgaW5mbGF0ZVFSTCwgcGFyc2VRUkwsIHdyYXBEZXNlcmlhbGl6ZXJQcm94eSB9IGZyb20gJy4uL3NoYXJlZC9zaGFyZWQtc2VyaWFsaXphdGlvbic7XG5pbXBvcnQgeyB0eXBlIEhvc3RFbGVtZW50LCB0eXBlIE9ialRvUHJveHlNYXAgfSBmcm9tICcuLi9zaGFyZWQvdHlwZXMnO1xuaW1wb3J0IHsgcHJvY2Vzc1ZOb2RlRGF0YSB9IGZyb20gJy4vcHJvY2Vzcy12bm9kZS1kYXRhJztcbmltcG9ydCB7XG4gIFZOb2RlRmxhZ3MsXG4gIFZOb2RlUHJvcHMsXG4gIHR5cGUgQ29udGFpbmVyRWxlbWVudCxcbiAgdHlwZSBFbGVtZW50Vk5vZGUsXG4gIHR5cGUgQ2xpZW50Q29udGFpbmVyIGFzIElDbGllbnRDb250YWluZXIsXG4gIHR5cGUgUURvY3VtZW50LFxuICB0eXBlIFZOb2RlLFxuICB0eXBlIFZpcnR1YWxWTm9kZSxcbn0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQge1xuICBWTm9kZUpvdXJuYWxPcENvZGUsXG4gIG1hcEFycmF5X2dldCxcbiAgbWFwQXJyYXlfc2V0LFxuICB2bm9kZV9hcHBseUpvdXJuYWwsXG4gIHZub2RlX2dldERPTUNoaWxkTm9kZXMsXG4gIHZub2RlX2dldERvbVBhcmVudCxcbiAgdm5vZGVfZ2V0UGFyZW50LFxuICB2bm9kZV9nZXRQcm9wLFxuICB2bm9kZV9nZXRQcm9wU3RhcnRJbmRleCxcbiAgdm5vZGVfaW5zZXJ0QmVmb3JlLFxuICB2bm9kZV9pc1ZpcnR1YWxWTm9kZSxcbiAgdm5vZGVfbG9jYXRlLFxuICB2bm9kZV9uZXdFbGVtZW50LFxuICB2bm9kZV9uZXdVbk1hdGVyaWFsaXplZEVsZW1lbnQsXG4gIHZub2RlX3NldFByb3AsXG4gIHR5cGUgVk5vZGVKb3VybmFsLFxufSBmcm9tICcuL3Zub2RlJztcbmltcG9ydCB7IHZub2RlX2RpZmYgfSBmcm9tICcuL3Zub2RlLWRpZmYnO1xuXG4vKiogQHB1YmxpYyAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldERvbUNvbnRhaW5lcihlbGVtZW50OiBFbGVtZW50IHwgVk5vZGUpOiBJQ2xpZW50Q29udGFpbmVyIHtcbiAgY29uc3QgcUNvbnRhaW5lckVsZW1lbnQgPSBfZ2V0UUNvbnRhaW5lckVsZW1lbnQoZWxlbWVudCk7XG4gIGlmICghcUNvbnRhaW5lckVsZW1lbnQpIHtcbiAgICB0aHJvd0Vycm9yQW5kU3RvcCgnVW5hYmxlIHRvIGZpbmQgcTpjb250YWluZXIuJyk7XG4gIH1cbiAgcmV0dXJuIGdldERvbUNvbnRhaW5lckZyb21RQ29udGFpbmVyRWxlbWVudChxQ29udGFpbmVyRWxlbWVudCEpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RG9tQ29udGFpbmVyRnJvbVFDb250YWluZXJFbGVtZW50KHFDb250YWluZXJFbGVtZW50OiBFbGVtZW50KTogSUNsaWVudENvbnRhaW5lciB7XG4gIGNvbnN0IHFFbGVtZW50ID0gcUNvbnRhaW5lckVsZW1lbnQgYXMgQ29udGFpbmVyRWxlbWVudDtcbiAgbGV0IGNvbnRhaW5lciA9IHFFbGVtZW50LnFDb250YWluZXI7XG4gIGlmICghY29udGFpbmVyKSB7XG4gICAgY29udGFpbmVyID0gbmV3IERvbUNvbnRhaW5lcihxRWxlbWVudCk7XG5cbiAgICBjb25zdCBjb250YWluZXJBdHRyaWJ1dGVzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XG4gICAgaWYgKHFFbGVtZW50KSB7XG4gICAgICBjb25zdCBhdHRycyA9IHFFbGVtZW50LmF0dHJpYnV0ZXM7XG4gICAgICBpZiAoYXR0cnMpIHtcbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGF0dHJzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgIGNvbnN0IGF0dHIgPSBhdHRyc1tpbmRleF07XG4gICAgICAgICAgaWYgKGF0dHIubmFtZSA9PT0gUV9QUk9QU19TRVBBUkFUT1IpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb250YWluZXJBdHRyaWJ1dGVzW2F0dHIubmFtZV0gPSBhdHRyLnZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIChjb250YWluZXIgYXMgRG9tQ29udGFpbmVyKS4kc2VydmVyRGF0YSQgPSB7IGNvbnRhaW5lckF0dHJpYnV0ZXMgfTtcbiAgICBxRWxlbWVudC5xQ29udGFpbmVyID0gY29udGFpbmVyO1xuICB9XG4gIHJldHVybiBjb250YWluZXI7XG59XG5cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBmdW5jdGlvbiBfZ2V0UUNvbnRhaW5lckVsZW1lbnQoZWxlbWVudDogRWxlbWVudCB8IFZOb2RlKTogRWxlbWVudCB8IG51bGwge1xuICBjb25zdCBxQ29udGFpbmVyRWxlbWVudDogRWxlbWVudCB8IG51bGwgPSBBcnJheS5pc0FycmF5KGVsZW1lbnQpXG4gICAgPyAodm5vZGVfZ2V0RG9tUGFyZW50KGVsZW1lbnQpIGFzIEVsZW1lbnQpXG4gICAgOiBlbGVtZW50O1xuICByZXR1cm4gcUNvbnRhaW5lckVsZW1lbnQuY2xvc2VzdChRQ29udGFpbmVyU2VsZWN0b3IpO1xufVxuXG5leHBvcnQgY29uc3QgaXNEb21Db250YWluZXIgPSAoY29udGFpbmVyOiBhbnkpOiBjb250YWluZXIgaXMgRG9tQ29udGFpbmVyID0+IHtcbiAgcmV0dXJuIGNvbnRhaW5lciBpbnN0YW5jZW9mIERvbUNvbnRhaW5lcjtcbn07XG5cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjbGFzcyBEb21Db250YWluZXIgZXh0ZW5kcyBfU2hhcmVkQ29udGFpbmVyIGltcGxlbWVudHMgSUNsaWVudENvbnRhaW5lciB7XG4gIHB1YmxpYyBlbGVtZW50OiBDb250YWluZXJFbGVtZW50O1xuICBwdWJsaWMgcUNvbnRhaW5lcjogc3RyaW5nO1xuICBwdWJsaWMgcUJhc2U6IHN0cmluZztcbiAgcHVibGljIHFNYW5pZmVzdEhhc2g6IHN0cmluZztcbiAgcHVibGljIHJvb3RWTm9kZTogRWxlbWVudFZOb2RlO1xuICBwdWJsaWMgZG9jdW1lbnQ6IFFEb2N1bWVudDtcbiAgcHVibGljICRqb3VybmFsJDogVk5vZGVKb3VybmFsO1xuICBwdWJsaWMgcmVuZGVyRG9uZTogUHJvbWlzZTx2b2lkPiB8IG51bGwgPSBudWxsO1xuICBwdWJsaWMgJHJhd1N0YXRlRGF0YSQ6IHVua25vd25bXTtcbiAgcHVibGljICRzdG9yZVByb3h5TWFwJDogT2JqVG9Qcm94eU1hcCA9IG5ldyBXZWFrTWFwKCk7XG4gIHB1YmxpYyAkcUZ1bmNzJDogQXJyYXk8KC4uLmFyZ3M6IHVua25vd25bXSkgPT4gdW5rbm93bj47XG4gIHB1YmxpYyAkaW5zdGFuY2VIYXNoJDogc3RyaW5nO1xuXG4gIHByaXZhdGUgc3RhdGVEYXRhOiB1bmtub3duW107XG4gIHByaXZhdGUgJHN0eWxlSWRzJDogU2V0PHN0cmluZz4gfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSAkdm5vZGVMb2NhdGUkOiAoaWQ6IHN0cmluZykgPT4gVk5vZGUgPSAoaWQpID0+IHZub2RlX2xvY2F0ZSh0aGlzLnJvb3RWTm9kZSwgaWQpO1xuICBwcml2YXRlICRyZW5kZXJDb3VudCQgPSAwO1xuXG4gIGNvbnN0cnVjdG9yKGVsZW1lbnQ6IENvbnRhaW5lckVsZW1lbnQpIHtcbiAgICBzdXBlcihcbiAgICAgICgpID0+IHRoaXMuc2NoZWR1bGVSZW5kZXIoKSxcbiAgICAgICgpID0+IHZub2RlX2FwcGx5Sm91cm5hbCh0aGlzLiRqb3VybmFsJCksXG4gICAgICB7fSxcbiAgICAgIGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdxOmxvY2FsZScpIVxuICAgICk7XG4gICAgdGhpcy5xQ29udGFpbmVyID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoUUNvbnRhaW5lckF0dHIpITtcbiAgICBpZiAoIXRoaXMucUNvbnRhaW5lcikge1xuICAgICAgdGhyb3dFcnJvckFuZFN0b3AoXCJFbGVtZW50IG11c3QgaGF2ZSAncTpjb250YWluZXInIGF0dHJpYnV0ZS5cIik7XG4gICAgfVxuICAgIHRoaXMuJGpvdXJuYWwkID0gW1xuICAgICAgLy8gVGhlIGZpcnN0IHRpbWUgd2UgcmVuZGVyIHdlIG5lZWQgdG8gaG9pc3QgdGhlIHN0eWxlcy5cbiAgICAgIC8vIChNZWFuaW5nIHdlIG5lZWQgdG8gbW92ZSBhbGwgc3R5bGVzIGZyb20gY29tcG9uZW50IGlubGluZSB0byA8aGVhZD4pXG4gICAgICAvLyBXZSBidWxrIG1vdmUgYWxsIG9mIHRoZSBzdHlsZXMsIGJlY2F1c2UgdGhlIGV4cGVuc2l2ZSBwYXJ0IGlzXG4gICAgICAvLyBmb3IgdGhlIGJyb3dzZXIgdG8gcmVjb21wdXRlIHRoZSBzdHlsZXMsIChub3QgdGhlIGFjdHVhbCBET00gbWFuaXB1bGF0aW9uLilcbiAgICAgIC8vIEJ5IG1vdmluZyBhbGwgb2YgdGhlbSBhdCBvbmNlIHdlIGNhbiBtaW5pbWl6ZSB0aGUgcmVmbG93LlxuICAgICAgVk5vZGVKb3VybmFsT3BDb2RlLkhvaXN0U3R5bGVzLFxuICAgICAgZWxlbWVudC5vd25lckRvY3VtZW50LFxuICAgIF07XG4gICAgdGhpcy5kb2N1bWVudCA9IGVsZW1lbnQub3duZXJEb2N1bWVudCBhcyBRRG9jdW1lbnQ7XG4gICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICB0aGlzLnFCYXNlID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoUUJhc2VBdHRyKSE7XG4gICAgdGhpcy4kaW5zdGFuY2VIYXNoJCA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKFFJbnN0YW5jZUF0dHIpITtcbiAgICAvLyB0aGlzLmNvbnRhaW5lclN0YXRlID0gY3JlYXRlQ29udGFpbmVyU3RhdGUoZWxlbWVudCwgdGhpcy5xQmFzZSk7XG4gICAgdGhpcy5xTWFuaWZlc3RIYXNoID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3E6bWFuaWZlc3QtaGFzaCcpITtcbiAgICB0aGlzLnJvb3RWTm9kZSA9IHZub2RlX25ld1VuTWF0ZXJpYWxpemVkRWxlbWVudCh0aGlzLmVsZW1lbnQpO1xuICAgIC8vIFRoZXNlIGFyZSBoZXJlIHRvIGluaXRpYWxpemUgYWxsIHByb3BlcnRpZXMgYXQgb25jZSBmb3Igc2luZ2xlIGNsYXNzIHRyYW5zaXRpb25cbiAgICB0aGlzLiRyYXdTdGF0ZURhdGEkID0gbnVsbCE7XG4gICAgdGhpcy5zdGF0ZURhdGEgPSBudWxsITtcbiAgICBjb25zdCBkb2N1bWVudCA9IHRoaXMuZWxlbWVudC5vd25lckRvY3VtZW50IGFzIFFEb2N1bWVudDtcbiAgICBpZiAoIWRvY3VtZW50LnFWTm9kZURhdGEpIHtcbiAgICAgIHByb2Nlc3NWTm9kZURhdGEoZG9jdW1lbnQpO1xuICAgIH1cbiAgICB0aGlzLiRyYXdTdGF0ZURhdGEkID0gW107XG4gICAgdGhpcy5zdGF0ZURhdGEgPSBbXTtcbiAgICBjb25zdCBxd2lrU3RhdGVzID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCdzY3JpcHRbdHlwZT1cInF3aWsvc3RhdGVcIl0nKTtcbiAgICBpZiAocXdpa1N0YXRlcy5sZW5ndGggIT09IDApIHtcbiAgICAgIGNvbnN0IGxhc3RTdGF0ZSA9IHF3aWtTdGF0ZXNbcXdpa1N0YXRlcy5sZW5ndGggLSAxXTtcbiAgICAgIHRoaXMuJHJhd1N0YXRlRGF0YSQgPSBKU09OLnBhcnNlKGxhc3RTdGF0ZS50ZXh0Q29udGVudCEpO1xuICAgICAgdGhpcy5zdGF0ZURhdGEgPSB3cmFwRGVzZXJpYWxpemVyUHJveHkodGhpcywgdGhpcy4kcmF3U3RhdGVEYXRhJCkgYXMgdW5rbm93bltdO1xuICAgIH1cbiAgICB0aGlzLiRxRnVuY3MkID0gZ2V0UUZ1bmNzKGRvY3VtZW50LCB0aGlzLiRpbnN0YW5jZUhhc2gkKSB8fCBFTVBUWV9BUlJBWTtcbiAgfVxuXG4gICRzZXRSYXdTdGF0ZSQoaWQ6IG51bWJlciwgdlBhcmVudDogRWxlbWVudFZOb2RlIHwgVmlydHVhbFZOb2RlKTogdm9pZCB7XG4gICAgdGhpcy5zdGF0ZURhdGFbaWRdID0gdlBhcmVudDtcbiAgfVxuXG4gIHBhcnNlUVJMPFQgPSB1bmtub3duPihxcmw6IHN0cmluZyk6IFFSTDxUPiB7XG4gICAgcmV0dXJuIGluZmxhdGVRUkwodGhpcywgcGFyc2VRUkwocXJsKSkgYXMgUVJMPFQ+O1xuICB9XG5cbiAgcHJvY2Vzc0pzeChob3N0OiBIb3N0RWxlbWVudCwganN4OiBKU1hPdXRwdXQpOiBWYWx1ZU9yUHJvbWlzZTx2b2lkPiB7XG4gICAgLy8gY29uc29sZS5sb2coJz4+Pj4gcHJvY2Vzc0pzeCcsIFN0cmluZyhob3N0KSk7XG4gICAgY29uc3Qgc3R5bGVTY29wZWRJZCA9IHRoaXMuZ2V0SG9zdFByb3A8c3RyaW5nPihob3N0LCBRU2NvcGVkU3R5bGUpO1xuICAgIHJldHVybiB2bm9kZV9kaWZmKHRoaXMsIGpzeCwgaG9zdCBhcyBWaXJ0dWFsVk5vZGUsIGFkZENvbXBvbmVudFN0eWxlUHJlZml4KHN0eWxlU2NvcGVkSWQpKTtcbiAgfVxuXG4gIGhhbmRsZUVycm9yKGVycjogYW55LCBob3N0OiBIb3N0RWxlbWVudCk6IHZvaWQge1xuICAgIGlmIChxRGV2KSB7XG4gICAgICAvLyBDbGVhbiB2ZG9tXG4gICAgICBpZiAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBjb25zdCB2SG9zdCA9IGhvc3QgYXMgVmlydHVhbFZOb2RlO1xuICAgICAgICBjb25zdCBlcnJvckRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Vycm9yZWQtaG9zdCcpO1xuICAgICAgICBpZiAoZXJyICYmIGVyciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgKGVycm9yRGl2IGFzIGFueSkucHJvcHMgPSB7IGVycm9yOiBlcnIgfTtcbiAgICAgICAgfVxuICAgICAgICBlcnJvckRpdi5zZXRBdHRyaWJ1dGUoJ3E6a2V5JywgJ19lcnJvcl8nKTtcbiAgICAgICAgY29uc3Qgam91cm5hbDogVk5vZGVKb3VybmFsID0gW107XG4gICAgICAgIHZub2RlX2dldERPTUNoaWxkTm9kZXMoam91cm5hbCwgdkhvc3QpLmZvckVhY2goKGNoaWxkKSA9PiBlcnJvckRpdi5hcHBlbmRDaGlsZChjaGlsZCkpO1xuICAgICAgICBjb25zdCB2RXJyb3JEaXYgPSB2bm9kZV9uZXdFbGVtZW50KGVycm9yRGl2LCAnZXJyb3ItaG9zdCcpO1xuICAgICAgICB2bm9kZV9pbnNlcnRCZWZvcmUoam91cm5hbCwgdkhvc3QsIHZFcnJvckRpdiwgbnVsbCk7XG4gICAgICAgIHZub2RlX2FwcGx5Sm91cm5hbChqb3VybmFsKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGVyciAmJiBlcnIgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICBpZiAoISgnaG9zdEVsZW1lbnQnIGluIGVycikpIHtcbiAgICAgICAgICAoZXJyIGFzIGFueSlbJ2hvc3RFbGVtZW50J10gPSBob3N0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoIWlzUmVjb3ZlcmFibGUoZXJyKSkge1xuICAgICAgICB0aHJvdyBlcnI7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGVycm9yU3RvcmUgPSB0aGlzLnJlc29sdmVDb250ZXh0KGhvc3QsIEVSUk9SX0NPTlRFWFQpO1xuICAgIGlmICghZXJyb3JTdG9yZSkge1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgICBlcnJvclN0b3JlLmVycm9yID0gZXJyO1xuICB9XG5cbiAgc2V0Q29udGV4dDxUPihob3N0OiBIb3N0RWxlbWVudCwgY29udGV4dDogQ29udGV4dElkPFQ+LCB2YWx1ZTogVCk6IHZvaWQge1xuICAgIGxldCBjdHggPSB0aGlzLmdldEhvc3RQcm9wPEFycmF5PHN0cmluZyB8IHVua25vd24+Pihob3N0LCBRQ3R4QXR0cik7XG4gICAgaWYgKCFjdHgpIHtcbiAgICAgIHRoaXMuc2V0SG9zdFByb3AoaG9zdCwgUUN0eEF0dHIsIChjdHggPSBbXSkpO1xuICAgIH1cbiAgICBtYXBBcnJheV9zZXQoY3R4LCBjb250ZXh0LmlkLCB2YWx1ZSwgMCk7XG4gIH1cblxuICByZXNvbHZlQ29udGV4dDxUPihob3N0OiBIb3N0RWxlbWVudCwgY29udGV4dElkOiBDb250ZXh0SWQ8VD4pOiBUIHwgdW5kZWZpbmVkIHtcbiAgICB3aGlsZSAoaG9zdCkge1xuICAgICAgY29uc3QgY3R4ID0gdGhpcy5nZXRIb3N0UHJvcDxBcnJheTxzdHJpbmcgfCB1bmtub3duPj4oaG9zdCwgUUN0eEF0dHIpO1xuICAgICAgaWYgKGN0eCkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IG1hcEFycmF5X2dldChjdHgsIGNvbnRleHRJZC5pZCwgMCkgYXMgVDtcbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlIGFzIFQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGhvc3QgPSB0aGlzLmdldFBhcmVudEhvc3QoaG9zdCkhO1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgZ2V0UGFyZW50SG9zdChob3N0OiBIb3N0RWxlbWVudCk6IEhvc3RFbGVtZW50IHwgbnVsbCB7XG4gICAgbGV0IHZOb2RlID0gdm5vZGVfZ2V0UGFyZW50KGhvc3QgYXMgYW55KTtcbiAgICB3aGlsZSAodk5vZGUpIHtcbiAgICAgIGlmICh2bm9kZV9pc1ZpcnR1YWxWTm9kZSh2Tm9kZSkpIHtcbiAgICAgICAgaWYgKHZub2RlX2dldFByb3Aodk5vZGUsIE9uUmVuZGVyUHJvcCwgbnVsbCkgIT09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gdk5vZGUgYXMgYW55IGFzIEhvc3RFbGVtZW50O1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIHZpcnR1YWwgbm9kZSwgdGhhbiBpdCBjb3VsZCBiZSBhIHNsb3Qgc28gd2UgbmVlZCB0byByZWFkIGl0cyBwYXJlbnQuXG4gICAgICAgIGNvbnN0IHBhcmVudCA9IHZub2RlX2dldFByb3A8Vk5vZGU+KHZOb2RlLCBRU2xvdFBhcmVudCwgdGhpcy4kdm5vZGVMb2NhdGUkKTtcbiAgICAgICAgaWYgKHBhcmVudCkge1xuICAgICAgICAgIHZOb2RlID0gcGFyZW50O1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2Tm9kZSA9IHZub2RlX2dldFBhcmVudCh2Tm9kZSk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgc2V0SG9zdFByb3A8VD4oaG9zdDogSG9zdEVsZW1lbnQsIG5hbWU6IHN0cmluZywgdmFsdWU6IFQpOiB2b2lkIHtcbiAgICBjb25zdCB2Tm9kZTogVmlydHVhbFZOb2RlID0gaG9zdCBhcyBhbnk7XG4gICAgdm5vZGVfc2V0UHJvcCh2Tm9kZSwgbmFtZSwgdmFsdWUpO1xuICB9XG5cbiAgZ2V0SG9zdFByb3A8VD4oaG9zdDogSG9zdEVsZW1lbnQsIG5hbWU6IHN0cmluZyk6IFQgfCBudWxsIHtcbiAgICBjb25zdCB2Tm9kZTogVmlydHVhbFZOb2RlID0gaG9zdCBhcyBhbnk7XG4gICAgbGV0IGdldE9iamVjdEJ5SWQ6ICgoaWQ6IHN0cmluZykgPT4gYW55KSB8IG51bGwgPSBudWxsO1xuICAgIHN3aXRjaCAobmFtZSkge1xuICAgICAgY2FzZSBFTEVNRU5UX1NFUTpcbiAgICAgIGNhc2UgRUxFTUVOVF9QUk9QUzpcbiAgICAgIGNhc2UgT25SZW5kZXJQcm9wOlxuICAgICAgY2FzZSBRQ3R4QXR0cjpcbiAgICAgIGNhc2UgUVN1YnNjcmliZXJzOlxuICAgICAgICBnZXRPYmplY3RCeUlkID0gdGhpcy4kZ2V0T2JqZWN0QnlJZCQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBFTEVNRU5UX1NFUV9JRFg6XG4gICAgICBjYXNlIFVTRV9PTl9MT0NBTF9TRVFfSURYOlxuICAgICAgICBnZXRPYmplY3RCeUlkID0gcGFyc2VJbnQ7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gdm5vZGVfZ2V0UHJvcCh2Tm9kZSwgbmFtZSwgZ2V0T2JqZWN0QnlJZCk7XG4gIH1cblxuICBzY2hlZHVsZVJlbmRlcigpIHtcbiAgICB0aGlzLiRyZW5kZXJDb3VudCQrKztcbiAgICB0aGlzLnJlbmRlckRvbmUgfHw9IGdldFBsYXRmb3JtKCkubmV4dFRpY2soKCkgPT4gdGhpcy5wcm9jZXNzQ2hvcmVzKCkpO1xuICAgIHJldHVybiB0aGlzLnJlbmRlckRvbmU7XG4gIH1cblxuICBwcml2YXRlIHByb2Nlc3NDaG9yZXMoKSB7XG4gICAgbGV0IHJlbmRlckNvdW50ID0gdGhpcy4kcmVuZGVyQ291bnQkO1xuICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuJHNjaGVkdWxlciQoQ2hvcmVUeXBlLldBSVRfRk9SX0FMTCk7XG4gICAgaWYgKGlzUHJvbWlzZShyZXN1bHQpKSB7XG4gICAgICByZXR1cm4gcmVzdWx0LnRoZW4oYXN5bmMgKCkgPT4ge1xuICAgICAgICB3aGlsZSAocmVuZGVyQ291bnQgIT09IHRoaXMuJHJlbmRlckNvdW50JCkge1xuICAgICAgICAgIHJlbmRlckNvdW50ID0gdGhpcy4kcmVuZGVyQ291bnQkO1xuICAgICAgICAgIGF3YWl0IHRoaXMuJHNjaGVkdWxlciQoQ2hvcmVUeXBlLldBSVRfRk9SX0FMTCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZW5kZXJEb25lID0gbnVsbDtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAocmVuZGVyQ291bnQgIT09IHRoaXMuJHJlbmRlckNvdW50JCkge1xuICAgICAgdGhpcy5wcm9jZXNzQ2hvcmVzKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMucmVuZGVyRG9uZSA9IG51bGw7XG4gIH1cblxuICBlbnN1cmVQcm9qZWN0aW9uUmVzb2x2ZWQodk5vZGU6IFZpcnR1YWxWTm9kZSk6IHZvaWQge1xuICAgIGlmICgodk5vZGVbVk5vZGVQcm9wcy5mbGFnc10gJiBWTm9kZUZsYWdzLlJlc29sdmVkKSA9PT0gMCkge1xuICAgICAgdk5vZGVbVk5vZGVQcm9wcy5mbGFnc10gfD0gVk5vZGVGbGFncy5SZXNvbHZlZDtcbiAgICAgIGZvciAobGV0IGkgPSB2bm9kZV9nZXRQcm9wU3RhcnRJbmRleCh2Tm9kZSk7IGkgPCB2Tm9kZS5sZW5ndGg7IGkgPSBpICsgMikge1xuICAgICAgICBjb25zdCBwcm9wID0gdk5vZGVbaV0gYXMgc3RyaW5nO1xuICAgICAgICBpZiAoaXNTbG90UHJvcChwcm9wKSkge1xuICAgICAgICAgIGNvbnN0IHZhbHVlID0gdk5vZGVbaSArIDFdO1xuICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHZOb2RlW2kgKyAxXSA9IHRoaXMuJHZub2RlTG9jYXRlJCh2YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgJGdldE9iamVjdEJ5SWQkID0gKGlkOiBudW1iZXIgfCBzdHJpbmcpOiB1bmtub3duID0+IHtcbiAgICBpZiAodHlwZW9mIGlkID09PSAnc3RyaW5nJykge1xuICAgICAgaWQgPSBwYXJzZUZsb2F0KGlkKTtcbiAgICB9XG4gICAgYXNzZXJ0VHJ1ZShcbiAgICAgIGlkIDwgdGhpcy4kcmF3U3RhdGVEYXRhJC5sZW5ndGggLyAyLFxuICAgICAgYEludmFsaWQgcmVmZXJlbmNlOiAke2lkfSA+PSAke3RoaXMuJHJhd1N0YXRlRGF0YSQubGVuZ3RoIC8gMn1gXG4gICAgKTtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZURhdGFbaWRdO1xuICB9O1xuXG4gIGdldFN5bmNGbihpZDogbnVtYmVyKTogKC4uLmFyZ3M6IHVua25vd25bXSkgPT4gdW5rbm93biB7XG4gICAgY29uc3QgZm4gPSB0aGlzLiRxRnVuY3MkW2lkXTtcbiAgICBhc3NlcnRUcnVlKHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJywgJ0ludmFsaWQgcmVmZXJlbmNlOiAnICsgaWQpO1xuICAgIHJldHVybiBmbjtcbiAgfVxuXG4gICRhcHBlbmRTdHlsZSQoY29udGVudDogc3RyaW5nLCBzdHlsZUlkOiBzdHJpbmcsIGhvc3Q6IFZpcnR1YWxWTm9kZSwgc2NvcGVkOiBib29sZWFuKTogdm9pZCB7XG4gICAgaWYgKHNjb3BlZCkge1xuICAgICAgY29uc3Qgc2NvcGVkU3R5bGVJZHNTdHJpbmcgPSB0aGlzLmdldEhvc3RQcm9wPHN0cmluZz4oaG9zdCwgUVNjb3BlZFN0eWxlKTtcbiAgICAgIGNvbnN0IHNjb3BlZFN0eWxlSWRzID0gbmV3IFNldChjb252ZXJ0U2NvcGVkU3R5bGVJZHNUb0FycmF5KHNjb3BlZFN0eWxlSWRzU3RyaW5nKSk7XG4gICAgICBzY29wZWRTdHlsZUlkcy5hZGQoc3R5bGVJZCk7XG4gICAgICB0aGlzLnNldEhvc3RQcm9wKGhvc3QsIFFTY29wZWRTdHlsZSwgY29udmVydFN0eWxlSWRzVG9TdHJpbmcoc2NvcGVkU3R5bGVJZHMpKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy4kc3R5bGVJZHMkID09IG51bGwpIHtcbiAgICAgIHRoaXMuJHN0eWxlSWRzJCA9IG5ldyBTZXQoKTtcbiAgICAgIHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFFTdHlsZVNlbGVjdG9yKS5mb3JFYWNoKChzdHlsZSkgPT4ge1xuICAgICAgICB0aGlzLiRzdHlsZUlkcyQhLmFkZChzdHlsZS5nZXRBdHRyaWJ1dGUoUVN0eWxlKSEpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGlmICghdGhpcy4kc3R5bGVJZHMkLmhhcyhzdHlsZUlkKSkge1xuICAgICAgdGhpcy4kc3R5bGVJZHMkLmFkZChzdHlsZUlkKTtcbiAgICAgIGNvbnN0IHN0eWxlRWxlbWVudCA9IHRoaXMuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICAgIHN0eWxlRWxlbWVudC5zZXRBdHRyaWJ1dGUoUVN0eWxlLCBzdHlsZUlkKTtcbiAgICAgIHN0eWxlRWxlbWVudC50ZXh0Q29udGVudCA9IGNvbnRlbnQ7XG4gICAgICB0aGlzLiRqb3VybmFsJC5wdXNoKFZOb2RlSm91cm5hbE9wQ29kZS5JbnNlcnQsIHRoaXMuZG9jdW1lbnQuaGVhZCwgbnVsbCwgc3R5bGVFbGVtZW50KTtcbiAgICB9XG4gIH1cbn1cbiJdfQ==","/** There's [documentation](./serialization.md) */\nimport { isDev } from '../../build/index.dev';\nimport {} from '../client/dom-container';\nimport { vnode_getNode, vnode_isVNode, vnode_locate, vnode_toString } from '../client/vnode';\nimport { ComputedSignal, EffectData, NEEDS_COMPUTATION, Signal, WrappedSignal, } from '../signal/signal';\nimport { STORE_ARRAY_PROP, createStore, getStoreHandler, getStoreTarget, isStore, } from '../signal/store';\nimport { createResourceReturn } from '../use/use-resource';\nimport { Task, isTask } from '../use/use-task';\nimport { SERIALIZABLE_STATE, componentQrl, isQwikComponent } from './component.public';\nimport { assertDefined, assertTrue } from './error/assert';\nimport { Fragment, JSXNodeImpl, createPropsProxy, isJSXNode, isPropsProxy, } from './jsx/jsx-runtime';\nimport { Slot } from './jsx/slot.public';\nimport { getPlatform } from './platform/platform';\nimport { createQRL, isQrl, isSyncQrl, } from './qrl/qrl-class';\nimport { ChoreType } from './scheduler';\nimport { _CONST_PROPS, _VAR_PROPS } from './utils/constants';\nimport { isElement, isNode } from './utils/element';\nimport { EMPTY_ARRAY, EMPTY_OBJ } from './utils/flyweight';\nimport { throwErrorAndStop } from './utils/log';\nimport { ELEMENT_ID } from './utils/markers';\nimport { isPromise } from './utils/promises';\nimport { fastSkipSerialize } from './utils/serialize-utils';\nimport {} from './utils/types';\nconst deserializedProxyMap = new WeakMap();\nexport const unwrapDeserializerProxy = (value) => {\n    const unwrapped = typeof value === 'object' &&\n        value !== null &&\n        value[SERIALIZER_PROXY_UNWRAP];\n    return unwrapped ? unwrapped : value;\n};\nexport const isDeserializerProxy = (value) => {\n    return typeof value === 'object' && value !== null && SERIALIZER_PROXY_UNWRAP in value;\n};\nexport const SERIALIZER_PROXY_UNWRAP = Symbol('UNWRAP');\n/** Call this on the serialized root state */\nexport const wrapDeserializerProxy = (container, data) => {\n    if (!Array.isArray(data) || // must be an array\n        vnode_isVNode(data) || // and not a VNode or Slot\n        isDeserializerProxy(data) // and not already wrapped\n    ) {\n        return data;\n    }\n    let proxy = deserializedProxyMap.get(data);\n    if (!proxy) {\n        const target = Array(data.length / 2).fill(undefined);\n        proxy = new Proxy(target, new DeserializationHandler(container, data));\n        deserializedProxyMap.set(data, proxy);\n    }\n    return proxy;\n};\nclass DeserializationHandler {\n    constructor($container$, $data$) {\n        this.$container$ = $container$;\n        this.$data$ = $data$;\n        this.$length$ = this.$data$.length / 2;\n    }\n    get(target, property, receiver) {\n        if (property === SERIALIZER_PROXY_UNWRAP) {\n            // Note that this will only be partially filled in\n            return target;\n        }\n        const i = typeof property === 'number'\n            ? property\n            : typeof property === 'string'\n                ? parseInt(property, 10)\n                : NaN;\n        if (Number.isNaN(i) || i < 0 || i >= this.$length$) {\n            const out = Reflect.get(target, property, receiver);\n            return out;\n        }\n        // The serialized data is an array with 2 values for each item\n        const idx = i * 2;\n        const typeId = this.$data$[idx];\n        const value = this.$data$[idx + 1];\n        if (typeId === undefined) {\n            // The value is already cached\n            return value;\n        }\n        const container = this.$container$;\n        const propValue = allocate(container, typeId, value);\n        Reflect.set(target, property, propValue);\n        this.$data$[idx] = undefined;\n        this.$data$[idx + 1] = propValue;\n        /** We stored the reference, so now we can inflate, allowing cycles. */\n        if (typeId >= TypeIds.Error) {\n            inflate(container, propValue, typeId, value);\n        }\n        return propValue;\n    }\n    has(target, property) {\n        if (property === SERIALIZER_PROXY_UNWRAP) {\n            return true;\n        }\n        return Object.prototype.hasOwnProperty.call(target, property);\n    }\n    set(target, property, value, receiver) {\n        if (property === SERIALIZER_PROXY_UNWRAP) {\n            return false;\n        }\n        const out = Reflect.set(target, property, value, receiver);\n        const i = typeof property === 'number' ? property : parseInt(property, 10);\n        if (Number.isNaN(i) || i < 0 || i >= this.$data$.length / 2) {\n            return out;\n        }\n        const idx = i * 2;\n        this.$data$[idx] = undefined;\n        this.$data$[idx + 1] = value;\n        return true;\n    }\n}\n/**\n * Restores an array eagerly. If you need it lazily, use `deserializeData(container, TypeIds.Array,\n * array)` instead\n */\nexport const _eagerDeserializeArray = (container, data) => {\n    const out = Array(data.length / 2);\n    for (let i = 0; i < data.length; i += 2) {\n        out[i / 2] = deserializeData(container, data[i], data[i + 1]);\n    }\n    return out;\n};\nconst resolvers = new WeakMap();\nconst inflate = (container, target, typeId, data) => {\n    if (typeId === undefined) {\n        // Already processed\n        return;\n    }\n    // restore the complex data, except for plain objects\n    if (typeId !== TypeIds.Object && Array.isArray(data)) {\n        data = _eagerDeserializeArray(container, data);\n    }\n    switch (typeId) {\n        case TypeIds.Object:\n            // We use getters for making complex values lazy\n            for (let i = 0; i < data.length; i += 4) {\n                const key = deserializeData(container, data[i], data[i + 1]);\n                const valType = data[i + 2];\n                const valData = data[i + 3];\n                if (valType === TypeIds.RootRef || valType >= TypeIds.Error) {\n                    Object.defineProperty(target, key, {\n                        get() {\n                            return deserializeData(container, valType, valData);\n                        },\n                        set(value) {\n                            Object.defineProperty(target, key, {\n                                value,\n                                writable: true,\n                                enumerable: true,\n                                configurable: true,\n                            });\n                        },\n                        enumerable: true,\n                        configurable: true,\n                    });\n                }\n                else {\n                    target[key] = deserializeData(container, valType, valData);\n                }\n            }\n            break;\n        case TypeIds.QRL:\n            inflateQRL(container, target);\n            break;\n        case TypeIds.Task:\n            const task = target;\n            const v = data;\n            task.$qrl$ = inflateQRL(container, v[0]);\n            task.$flags$ = v[1];\n            task.$index$ = v[2];\n            task.$el$ = v[3];\n            task.$effectDependencies$ = v[4];\n            task.$state$ = v[5];\n            break;\n        case TypeIds.Resource:\n            const [resolved, result, effects] = data;\n            const resource = target;\n            if (resolved) {\n                resource.value = Promise.resolve(result);\n                resource._resolved = result;\n                resource._state = 'resolved';\n            }\n            else {\n                resource.value = Promise.reject(result);\n                resource._error = result;\n                resource._state = 'rejected';\n            }\n            getStoreHandler(target).$effects$ = effects;\n            break;\n        case TypeIds.Component:\n            target[SERIALIZABLE_STATE][0] = data[0];\n            break;\n        case TypeIds.Store:\n        case TypeIds.StoreArray: {\n            const [value, flags, effects, storeEffect] = data;\n            const handler = getStoreHandler(target);\n            handler.$flags$ = flags;\n            // First assign so it sets up the deep stores\n            Object.assign(getStoreTarget(target), value);\n            // Afterwards restore the effects so they don't get triggered\n            if (storeEffect) {\n                effects[STORE_ARRAY_PROP] = storeEffect;\n            }\n            handler.$effects$ = effects;\n            container.$storeProxyMap$.set(value, target);\n            break;\n        }\n        case TypeIds.Signal: {\n            const signal = target;\n            const d = data;\n            signal.$untrackedValue$ = d[0];\n            signal.$effects$ = d.slice(1);\n            break;\n        }\n        case TypeIds.WrappedSignal: {\n            const signal = target;\n            const d = data;\n            signal.$func$ = container.getSyncFn(d[0]);\n            signal.$args$ = d[1];\n            signal.$effectDependencies$ = d[2];\n            signal.$untrackedValue$ = d[3];\n            signal.$effects$ = d.slice(4);\n            break;\n        }\n        case TypeIds.ComputedSignal: {\n            const computed = target;\n            const d = data;\n            computed.$computeQrl$ = d[0];\n            computed.$untrackedValue$ = d[1];\n            computed.$invalid$ = d[2];\n            computed.$effects$ = d.slice(3);\n            if (computed.$invalid$) {\n                /**\n                 * If we try to compute value and the qrl is not resolved, then system throws an error with\n                 * qrl promise. To prevent that we should early resolve computed qrl while computed\n                 * deserialization. This also prevents anything from firing while computed qrls load,\n                 * because of scheduler\n                 */\n                // try to download qrl in this tick\n                computed.$computeQrl$.resolve();\n                container.$scheduler$?.(ChoreType.QRL_RESOLVE, null, computed.$computeQrl$);\n            }\n            break;\n        }\n        case TypeIds.Error: {\n            const d = data;\n            target.message = d[0];\n            const second = d[1];\n            if (second && Array.isArray(second)) {\n                for (let i = 0; i < second.length; i++) {\n                    target[second[i++]] = d[i];\n                }\n                target.stack = d[2];\n            }\n            else {\n                target.stack = second;\n            }\n            break;\n        }\n        case TypeIds.FormData: {\n            const formData = target;\n            const d = data;\n            for (let i = 0; i < d.length; i++) {\n                formData.append(d[i++], d[i]);\n            }\n            break;\n        }\n        case TypeIds.JSXNode: {\n            const jsx = target;\n            const [type, varProps, constProps, children, flags, key] = data;\n            jsx.type = type;\n            jsx.varProps = varProps;\n            jsx.constProps = constProps;\n            jsx.children = children;\n            jsx.flags = flags;\n            jsx.key = key;\n            break;\n        }\n        case TypeIds.Set: {\n            const set = target;\n            const d = data;\n            for (let i = 0; i < d.length; i++) {\n                set.add(d[i]);\n            }\n            break;\n        }\n        case TypeIds.Map: {\n            const map = target;\n            const d = data;\n            for (let i = 0; i < d.length; i++) {\n                map.set(d[i++], d[i]);\n            }\n            break;\n        }\n        case TypeIds.Promise: {\n            const promise = target;\n            const [resolved, result] = data;\n            const [resolve, reject] = resolvers.get(promise);\n            if (resolved) {\n                resolve(result);\n            }\n            else {\n                reject(result);\n            }\n            break;\n        }\n        case TypeIds.Uint8Array:\n            const bytes = target;\n            const buf = atob(data);\n            let i = 0;\n            for (const s of buf) {\n                bytes[i++] = s.charCodeAt(0);\n            }\n            break;\n        case TypeIds.PropsProxy:\n            const propsProxy = target;\n            propsProxy[_VAR_PROPS] = data[0];\n            propsProxy[_CONST_PROPS] = data[1];\n            break;\n        case TypeIds.EffectData: {\n            const effectData = target;\n            effectData.data = data[0];\n            break;\n        }\n        default:\n            return throwErrorAndStop('Not implemented');\n    }\n};\nexport const _constants = [\n    undefined,\n    null,\n    true,\n    false,\n    '',\n    EMPTY_ARRAY,\n    EMPTY_OBJ,\n    NEEDS_COMPUTATION,\n    Slot,\n    Fragment,\n    NaN,\n    Infinity,\n    -Infinity,\n    Number.MAX_SAFE_INTEGER,\n    Number.MAX_SAFE_INTEGER - 1,\n    Number.MIN_SAFE_INTEGER,\n];\nconst _constantNames = [\n    'undefined',\n    'null',\n    'true',\n    'false',\n    \"''\",\n    'EMPTY_ARRAY',\n    'EMPTY_OBJ',\n    'NEEDS_COMPUTATION',\n    'Slot',\n    'Fragment',\n    'NaN',\n    'Infinity',\n    '-Infinity',\n    'MAX_SAFE_INTEGER',\n    'MAX_SAFE_INTEGER-1',\n    'MIN_SAFE_INTEGER',\n];\nconst allocate = (container, typeId, value) => {\n    if (value === undefined) {\n        // When a value was already processed, the result is stored in type\n        return typeId;\n    }\n    switch (typeId) {\n        case TypeIds.RootRef:\n            return container.$getObjectById$(value);\n        case TypeIds.Constant:\n            return _constants[value];\n        case TypeIds.Number:\n            return value;\n        case TypeIds.Array:\n            return wrapDeserializerProxy(container, value);\n        case TypeIds.Object:\n            return {};\n        case TypeIds.QRL:\n            return parseQRL(value);\n        case TypeIds.Task:\n            return new Task(-1, -1, null, null, null, null);\n        case TypeIds.Resource: {\n            const res = createResourceReturn(container, \n            // we don't care about the timeout value\n            undefined, undefined);\n            res.loading = false;\n            return res;\n        }\n        case TypeIds.URL:\n            return new URL(value);\n        case TypeIds.Date:\n            return new Date(value);\n        case TypeIds.Regex:\n            const idx = value.lastIndexOf('/');\n            return new RegExp(value.slice(1, idx), value.slice(idx + 1));\n        case TypeIds.Error:\n            return new Error();\n        case TypeIds.Component:\n            return componentQrl(null);\n        case TypeIds.Signal:\n            return new Signal(container, 0);\n        case TypeIds.WrappedSignal:\n            return new WrappedSignal(container, null, null, null);\n        case TypeIds.ComputedSignal:\n            return new ComputedSignal(container, null);\n        case TypeIds.Store:\n            return createStore(container, {}, 0);\n        case TypeIds.StoreArray:\n            return createStore(container, [], 0);\n        case TypeIds.URLSearchParams:\n            return new URLSearchParams(value);\n        case TypeIds.FormData:\n            return new FormData();\n        case TypeIds.JSXNode:\n            return new JSXNodeImpl(null, null, null, null, -1, null);\n        case TypeIds.BigInt:\n            return BigInt(value);\n        case TypeIds.Set:\n            return new Set();\n        case TypeIds.Map:\n            return new Map();\n        case TypeIds.String:\n            return value;\n        case TypeIds.Promise:\n            let resolve;\n            let reject;\n            const promise = new Promise((res, rej) => {\n                resolve = res;\n                reject = rej;\n            });\n            resolvers.set(promise, [resolve, reject]);\n            return promise;\n        case TypeIds.Uint8Array:\n            const encodedLength = value.length;\n            const blocks = encodedLength >>> 2;\n            const rest = encodedLength & 3;\n            const decodedLength = blocks * 3 + (rest ? rest - 1 : 0);\n            return new Uint8Array(decodedLength);\n        case TypeIds.PropsProxy:\n            return createPropsProxy(null, null);\n        case TypeIds.VNode:\n            // Retrieve the VNode from the container\n            return retrieveVNodeOrDocument(container, value);\n        case TypeIds.RefVNode:\n            const vNode = retrieveVNodeOrDocument(container, value);\n            if (vnode_isVNode(vNode)) {\n                return vnode_getNode(vNode);\n            }\n            else {\n                return throwErrorAndStop('expected vnode for ref prop, but got ' + typeof vNode);\n            }\n        case TypeIds.EffectData:\n            return new EffectData(null);\n        default:\n            return throwErrorAndStop('unknown allocate type: ' + typeId);\n    }\n};\nfunction retrieveVNodeOrDocument(container, value) {\n    return value\n        ? container.rootVNode\n            ? vnode_locate(container.rootVNode, value)\n            : undefined\n        : container.element?.ownerDocument;\n}\n/** Parses \"chunk#hash[...rootRef]\" */\nexport function parseQRL(qrl) {\n    const hashIdx = qrl.indexOf('#');\n    const captureStart = qrl.indexOf('[', hashIdx);\n    const captureEnd = qrl.indexOf(']', captureStart);\n    const chunk = hashIdx > -1 ? qrl.slice(0, hashIdx) : qrl.slice(0, captureStart);\n    const symbol = captureStart > -1 ? qrl.slice(hashIdx + 1, captureStart) : qrl.slice(hashIdx + 1);\n    const captureIds = captureStart > -1 && captureEnd > -1\n        ? qrl\n            .slice(captureStart + 1, captureEnd)\n            .split(' ')\n            .filter((v) => v.length)\n            .map((s) => parseInt(s, 10))\n        : null;\n    let qrlRef = null;\n    if (isDev && chunk === QRL_RUNTIME_CHUNK) {\n        const backChannel = globalThis[QRL_RUNTIME_CHUNK];\n        assertDefined(backChannel, 'Missing QRL_RUNTIME_CHUNK');\n        qrlRef = backChannel.get(symbol);\n    }\n    return createQRL(chunk, symbol, qrlRef, null, captureIds, null, null);\n}\nexport function inflateQRL(container, qrl) {\n    const captureIds = qrl.$capture$;\n    qrl.$captureRef$ = captureIds ? captureIds.map((id) => container.$getObjectById$(id)) : null;\n    if (container.element) {\n        qrl.$setContainer$(container.element);\n    }\n    return qrl;\n}\n/** A ref to a DOM element */\nclass DomVRef {\n    constructor(id) {\n        this.id = id;\n    }\n}\nexport const createSerializationContext = (\n/**\n * Node constructor, for instanceof checks.\n *\n * A node constructor can be null. For example on the client we can't serialize DOM nodes as\n * server will not know what to do with them.\n */\nNodeConstructor, symbolToChunkResolver, getProp, setProp, storeProxyMap, writer) => {\n    if (!writer) {\n        const buffer = [];\n        writer = {\n            write: (text) => buffer.push(text),\n            toString: () => buffer.join(''),\n        };\n    }\n    const map = new Map();\n    const syncFnMap = new Map();\n    const syncFns = [];\n    const roots = [];\n    const $wasSeen$ = (obj) => map.get(obj);\n    const $seen$ = (obj) => map.set(obj, -1);\n    const $addRoot$ = (obj) => {\n        let id = map.get(obj);\n        if (typeof id !== 'number' || id === -1) {\n            id = roots.length;\n            map.set(obj, id);\n            roots.push(obj);\n        }\n        return id;\n    };\n    const isSsrNode = (NodeConstructor ? (obj) => obj instanceof NodeConstructor : () => false);\n    return {\n        $serialize$() {\n            serialize(this);\n        },\n        $isSsrNode$: isSsrNode,\n        $symbolToChunkResolver$: symbolToChunkResolver,\n        $wasSeen$,\n        $roots$: roots,\n        $seen$,\n        $hasRootId$: (obj) => {\n            const id = map.get(obj);\n            return id === undefined || id === -1 ? undefined : id;\n        },\n        $addRoot$,\n        $getRootId$: (obj) => {\n            const id = map.get(obj);\n            if (!id || id === -1) {\n                return throwErrorAndStop('Missing root id for: ' + obj);\n            }\n            return id;\n        },\n        $syncFns$: syncFns,\n        $addSyncFn$: (funcStr, argCount, fn) => {\n            const isFullFn = funcStr == null;\n            if (isFullFn) {\n                funcStr = fn.serialized || fn.toString();\n            }\n            let id = syncFnMap.get(funcStr);\n            if (id === undefined) {\n                id = syncFns.length;\n                syncFnMap.set(funcStr, id);\n                if (isFullFn) {\n                    syncFns.push(funcStr);\n                }\n                else {\n                    let code = '(';\n                    for (let i = 0; i < argCount; i++) {\n                        code += (i == 0 ? 'p' : ',p') + i;\n                    }\n                    syncFns.push((code += ')=>' + funcStr));\n                }\n            }\n            return id;\n        },\n        $writer$: writer,\n        $breakCircularDepsAndAwaitPromises$: breakCircularDependenciesAndResolvePromises,\n        $eventQrls$: new Set(),\n        $eventNames$: new Set(),\n        $resources$: new Set(),\n        $renderSymbols$: new Set(),\n        $storeProxyMap$: storeProxyMap,\n        $getProp$: getProp,\n        $setProp$: setProp,\n    };\n    async function breakCircularDependenciesAndResolvePromises() {\n        // As we walk the object graph we insert newly discovered objects which need to be scanned here.\n        const discoveredValues = [];\n        const promises = [];\n        /**\n         * Note on out of order streaming:\n         *\n         * When we implement that, we may need to send a reference to an object that was streamed\n         * earlier but wasn't a root. This means we'll have to keep track of all objects on both send\n         * and receive ends, which means we'll just have to make everything a root anyway, so `visit()`\n         * won't be needed.\n         */\n        /** Visit an object, adding anything that will be serialized as to scan */\n        const visit = (obj) => {\n            if (typeof obj === 'function') {\n                if (isQrl(obj)) {\n                    if (obj.$captureRef$) {\n                        discoveredValues.push(...obj.$captureRef$);\n                    }\n                }\n                else if (isQwikComponent(obj)) {\n                    const [qrl] = obj[SERIALIZABLE_STATE];\n                    discoveredValues.push(qrl);\n                }\n            }\n            else if (\n            // skip as these are primitives\n            typeof obj !== 'object' ||\n                obj === null ||\n                obj instanceof URL ||\n                obj instanceof Date ||\n                obj instanceof RegExp ||\n                obj instanceof Uint8Array ||\n                obj instanceof URLSearchParams ||\n                (typeof FormData !== 'undefined' && obj instanceof FormData) ||\n                // Ignore the no serialize objects\n                fastSkipSerialize(obj)) {\n                // ignore\n            }\n            else if (obj instanceof Error) {\n                discoveredValues.push(...Object.values(obj));\n            }\n            else if (isStore(obj)) {\n                const target = getStoreTarget(obj);\n                const effects = getStoreHandler(obj).$effects$;\n                discoveredValues.push(target, effects);\n                for (const prop in target) {\n                    const propValue = target[prop];\n                    if (storeProxyMap.has(propValue)) {\n                        discoveredValues.push(prop, storeProxyMap.get(propValue));\n                    }\n                }\n            }\n            else if (obj instanceof Set) {\n                discoveredValues.push(...obj.values());\n            }\n            else if (obj instanceof Map) {\n                obj.forEach((v, k) => {\n                    discoveredValues.push(k, v);\n                });\n            }\n            else if (obj instanceof Signal) {\n                /**\n                 * WrappedSignal might not be calculated yet so we need to use `untrackedValue` to get the\n                 * value. ComputedSignal can be left uncalculated.\n                 */\n                const v = obj instanceof WrappedSignal\n                    ? obj.untrackedValue\n                    : obj instanceof ComputedSignal && (obj.$invalid$ || fastSkipSerialize(obj))\n                        ? NEEDS_COMPUTATION\n                        : obj.$untrackedValue$;\n                if (v !== NEEDS_COMPUTATION && !isSsrNode(v)) {\n                    discoveredValues.push(obj.$untrackedValue$);\n                }\n                if (obj.$effects$) {\n                    discoveredValues.push(...obj.$effects$);\n                }\n                // WrappedSignal uses syncQrl which has no captured refs\n                if (obj instanceof WrappedSignal) {\n                    if (obj.$effectDependencies$) {\n                        discoveredValues.push(...obj.$effectDependencies$);\n                    }\n                }\n                else if (obj instanceof ComputedSignal) {\n                    discoveredValues.push(obj.$computeQrl$);\n                }\n            }\n            else if (obj instanceof Task) {\n                discoveredValues.push(obj.$el$, obj.$qrl$, obj.$state$, obj.$effectDependencies$);\n            }\n            else if (isSsrNode(obj)) {\n                // ignore the nodes\n                // debugger;\n            }\n            else if (isJSXNode(obj)) {\n                discoveredValues.push(obj.type, obj.props, obj.constProps, obj.children);\n            }\n            else if (Array.isArray(obj)) {\n                discoveredValues.push(...obj);\n            }\n            else if (isQrl(obj)) {\n                obj.$captureRef$ && obj.$captureRef$.length && discoveredValues.push(...obj.$captureRef$);\n            }\n            else if (isPropsProxy(obj)) {\n                discoveredValues.push(obj[_VAR_PROPS], obj[_CONST_PROPS]);\n            }\n            else if (isPromise(obj)) {\n                obj.then((value) => {\n                    promiseResults.set(obj, [true, value]);\n                    discoveredValues.push(value);\n                }, (error) => {\n                    promiseResults.set(obj, [false, error]);\n                    discoveredValues.push(error);\n                });\n                promises.push(obj);\n            }\n            else if (obj instanceof EffectData) {\n                discoveredValues.push(obj.data);\n            }\n            else if (isObjectLiteral(obj)) {\n                Object.entries(obj).forEach(([key, value]) => {\n                    discoveredValues.push(key, value);\n                });\n            }\n            else {\n                return throwErrorAndStop('Unknown type: ' + obj);\n            }\n        };\n        // Prime the pump with the root objects.\n        for (const root of roots) {\n            visit(root);\n        }\n        do {\n            while (discoveredValues.length) {\n                const obj = discoveredValues.pop();\n                if (!(shouldTrackObj(obj) || frameworkType(obj))) {\n                    continue;\n                }\n                const id = $wasSeen$(obj);\n                if (id === undefined) {\n                    // Object has not been seen yet, must scan content\n                    $seen$(obj);\n                    visit(obj);\n                }\n                else if (id === -1) {\n                    // We are seeing this object second time => promote it.\n                    $addRoot$(obj);\n                    // we don't need to scan the children, since we have already seen them.\n                }\n            }\n            // We have scanned all the objects, but we still have promises to resolve.\n            await Promise.allSettled(promises);\n            promises.length = 0;\n        } while (discoveredValues.length);\n    }\n};\nconst promiseResults = new WeakMap();\n/**\n * Format:\n *\n * - This encodes the $roots$ array.\n * - The output is a string of comma separated JSON values.\n * - Even values are always numbers, specifying the type of the next value.\n * - Odd values are numbers, strings (JSON stringified with `</` escaping) or arrays (same format).\n * - Therefore root indexes need to be doubled to get the actual index.\n */\nfunction serialize(serializationContext) {\n    const { $writer$, $isSsrNode$, $setProp$, $storeProxyMap$ } = serializationContext;\n    let depth = -1;\n    // Skip the type for the roots output\n    let writeType = false;\n    const output = (type, value) => {\n        if (writeType) {\n            $writer$.write(`${type},`);\n        }\n        else {\n            writeType = true;\n        }\n        if (typeof value === 'number') {\n            $writer$.write(value.toString());\n        }\n        else if (typeof value === 'string') {\n            const s = JSON.stringify(value);\n            let angleBracketIdx = -1;\n            let lastIdx = 0;\n            while ((angleBracketIdx = s.indexOf('</', lastIdx)) !== -1) {\n                $writer$.write(s.slice(lastIdx, angleBracketIdx));\n                $writer$.write('<\\\\/');\n                lastIdx = angleBracketIdx + 2;\n            }\n            $writer$.write(lastIdx === 0 ? s : s.slice(lastIdx));\n        }\n        else {\n            depth++;\n            $writer$.write('[');\n            let separator = false;\n            // TODO only until last non-null value\n            for (let i = 0; i < value.length; i++) {\n                if (separator) {\n                    $writer$.write(',');\n                }\n                else {\n                    separator = true;\n                }\n                writeValue(value[i], i);\n            }\n            $writer$.write(']');\n            depth--;\n        }\n    };\n    const writeValue = (value, idx) => {\n        if (fastSkipSerialize(value)) {\n            output(TypeIds.Constant, Constants.Undefined);\n        }\n        else if (typeof value === 'bigint') {\n            output(TypeIds.BigInt, value.toString());\n        }\n        else if (typeof value === 'boolean') {\n            output(TypeIds.Constant, value ? Constants.True : Constants.False);\n        }\n        else if (typeof value === 'function') {\n            if (value === Slot) {\n                output(TypeIds.Constant, Constants.Slot);\n            }\n            else if (value === Fragment) {\n                output(TypeIds.Constant, Constants.Fragment);\n            }\n            else if (isQrl(value)) {\n                // TODO deduplicate the string\n                output(TypeIds.QRL, qrlToString(serializationContext, value));\n            }\n            else if (isQwikComponent(value)) {\n                const [qrl] = value[SERIALIZABLE_STATE];\n                serializationContext.$renderSymbols$.add(qrl.$symbol$);\n                output(TypeIds.Component, [qrl]);\n            }\n            else {\n                // TODO this happens for inline components with render props like Resource\n                console.error('Cannot serialize function (ignoring for now): ' + value.toString());\n                output(TypeIds.Constant, Constants.Undefined);\n            }\n        }\n        else if (typeof value === 'number') {\n            if (Number.isNaN(value)) {\n                output(TypeIds.Constant, Constants.NaN);\n            }\n            else if (!Number.isFinite(value)) {\n                output(TypeIds.Constant, value < 0 ? Constants.NegativeInfinity : Constants.PositiveInfinity);\n            }\n            else if (value === Number.MAX_SAFE_INTEGER) {\n                output(TypeIds.Constant, Constants.MaxSafeInt);\n            }\n            else if (value === Number.MAX_SAFE_INTEGER - 1) {\n                output(TypeIds.Constant, Constants.AlmostMaxSafeInt);\n            }\n            else if (value === Number.MIN_SAFE_INTEGER) {\n                output(TypeIds.Constant, Constants.MinSafeInt);\n            }\n            else {\n                output(TypeIds.Number, value);\n            }\n        }\n        else if (typeof value === 'object') {\n            if (value === EMPTY_ARRAY) {\n                output(TypeIds.Constant, Constants.EMPTY_ARRAY);\n            }\n            else if (value === EMPTY_OBJ) {\n                output(TypeIds.Constant, Constants.EMPTY_OBJ);\n            }\n            else {\n                depth++;\n                if (value === null) {\n                    output(TypeIds.Constant, Constants.Null);\n                }\n                else {\n                    writeObjectValue(value, idx);\n                }\n                depth--;\n            }\n        }\n        else if (typeof value === 'string') {\n            if (value.length === 0) {\n                output(TypeIds.Constant, Constants.EmptyString);\n            }\n            else {\n                // Note, in v1 we were reusing DOM text, but that is too dangerous with translation extensions changing the text\n                const seen = depth > 1 && serializationContext.$wasSeen$(value);\n                if (typeof seen === 'number' && seen >= 0) {\n                    output(TypeIds.RootRef, seen);\n                }\n                else {\n                    output(TypeIds.String, value);\n                }\n            }\n        }\n        else if (typeof value === 'undefined') {\n            output(TypeIds.Constant, Constants.Undefined);\n        }\n        else if (value === NEEDS_COMPUTATION) {\n            output(TypeIds.Constant, Constants.NEEDS_COMPUTATION);\n        }\n        else {\n            throwErrorAndStop('Unknown type: ' + typeof value);\n        }\n    };\n    const writeObjectValue = (value, idx) => {\n        /**\n         * We start at -1 and then serialize the roots array, which is an object so increases depth to\n         * 0. The object writer then outputs an array object (without type prefix) and this increases\n         * the depth for the objects within (depth 1). Then when writeValue encounters each root object,\n         * it will increase the depth again, so it's at 2.\n         */\n        const isRootObject = depth === 2;\n        // Objects are the only way to create circular dependencies.\n        // So the first thing to to is to see if we have a circular dependency.\n        // (NOTE: For root objects we need to serialize them regardless if we have seen\n        //        them before, otherwise the root object reference will point to itself.)\n        // Also note that depth will be 2 for objects in root\n        if (depth > 2) {\n            const seen = serializationContext.$wasSeen$(value);\n            if (typeof seen === 'number' && seen >= 0) {\n                // We have seen this object before, so we can serialize it as a reference.\n                // Otherwise serialize as normal\n                output(TypeIds.RootRef, seen);\n                return;\n            }\n        }\n        if (isPropsProxy(value)) {\n            const varProps = value[_VAR_PROPS];\n            const constProps = value[_CONST_PROPS];\n            output(TypeIds.PropsProxy, [varProps, constProps]);\n        }\n        else if (value instanceof EffectData) {\n            output(TypeIds.EffectData, [value.data]);\n        }\n        else if (isStore(value)) {\n            if (isResource(value)) {\n                // let render know about the resource\n                serializationContext.$resources$.add(value);\n                const res = promiseResults.get(value.value);\n                if (!res) {\n                    return throwErrorAndStop('Unvisited Resource');\n                }\n                output(TypeIds.Resource, [...res, getStoreHandler(value).$effects$]);\n            }\n            else {\n                const storeHandler = getStoreHandler(value);\n                const storeTarget = getStoreTarget(value);\n                const flags = storeHandler.$flags$;\n                const effects = storeHandler.$effects$;\n                const storeEffect = effects?.[STORE_ARRAY_PROP] ?? null;\n                const innerStores = [];\n                for (const prop in storeTarget) {\n                    const propValue = storeTarget[prop];\n                    if ($storeProxyMap$.has(propValue)) {\n                        const innerStore = $storeProxyMap$.get(propValue);\n                        innerStores.push(innerStore);\n                        serializationContext.$addRoot$(innerStore);\n                    }\n                }\n                const out = [storeTarget, flags, effects, storeEffect, ...innerStores];\n                while (out[out.length - 1] == null) {\n                    out.pop();\n                }\n                output(Array.isArray(storeTarget) ? TypeIds.StoreArray : TypeIds.Store, out);\n            }\n        }\n        else if (isObjectLiteral(value)) {\n            if (Array.isArray(value)) {\n                output(TypeIds.Array, value);\n            }\n            else {\n                const out = [];\n                for (const key in value) {\n                    if (Object.prototype.hasOwnProperty.call(value, key) &&\n                        !fastSkipSerialize(value[key])) {\n                        out.push(key, value[key]);\n                    }\n                }\n                // TODO if !out.length, output 0 and restore as {}\n                output(TypeIds.Object, out);\n            }\n        }\n        else if (value instanceof DomVRef) {\n            output(TypeIds.RefVNode, value.id);\n        }\n        else if (value instanceof Signal) {\n            /**\n             * Special case: when a Signal value is an SSRNode, it always needs to be a DOM ref instead.\n             * It can never be meant to become a vNode, because vNodes are internal only.\n             */\n            let v = value instanceof ComputedSignal &&\n                (value.$invalid$ || fastSkipSerialize(value.$untrackedValue$))\n                ? NEEDS_COMPUTATION\n                : value.$untrackedValue$;\n            if ($isSsrNode$(v)) {\n                v = new DomVRef(v.id);\n            }\n            if (value instanceof WrappedSignal) {\n                output(TypeIds.WrappedSignal, [\n                    ...serializeWrappingFn(serializationContext, value),\n                    value.$effectDependencies$,\n                    v,\n                    ...(value.$effects$ || []),\n                ]);\n            }\n            else if (value instanceof ComputedSignal) {\n                output(TypeIds.ComputedSignal, [\n                    value.$computeQrl$,\n                    v,\n                    v === NEEDS_COMPUTATION,\n                    // TODO check if we can use domVRef for effects\n                    ...(value.$effects$ || []),\n                ]);\n            }\n            else {\n                output(TypeIds.Signal, [v, ...(value.$effects$ || [])]);\n            }\n        }\n        else if (value instanceof URL) {\n            output(TypeIds.URL, value.href);\n        }\n        else if (value instanceof Date) {\n            output(TypeIds.Date, Number.isNaN(value.valueOf()) ? '' : value.valueOf());\n        }\n        else if (value instanceof RegExp) {\n            output(TypeIds.Regex, value.toString());\n        }\n        else if (value instanceof Error) {\n            const out = [value.message];\n            const extraProps = Object.entries(value).flat();\n            if (extraProps.length) {\n                out.push(extraProps);\n            }\n            /// In production we don't want to leak the stack trace.\n            if (isDev) {\n                out.push(value.stack);\n            }\n            output(TypeIds.Error, out);\n        }\n        else if ($isSsrNode$(value)) {\n            if (isRootObject) {\n                // Tell the SsrNode which root id it is\n                $setProp$(value, ELEMENT_ID, String(idx));\n                output(TypeIds.VNode, value.id);\n            }\n            else {\n                // Promote the vnode to a root\n                serializationContext.$addRoot$(value);\n                output(TypeIds.RootRef, serializationContext.$roots$.length - 1);\n            }\n        }\n        else if (typeof FormData !== 'undefined' && value instanceof FormData) {\n            // FormData is generally used only once so don't bother with references\n            const array = [];\n            value.forEach((value, key) => {\n                if (typeof value === 'string') {\n                    array.push(key, value);\n                }\n                else {\n                    array.push(key, value.name);\n                }\n            });\n            output(TypeIds.FormData, array);\n        }\n        else if (value instanceof URLSearchParams) {\n            output(TypeIds.URLSearchParams, value.toString());\n        }\n        else if (value instanceof Set) {\n            output(TypeIds.Set, [...value.values()]);\n        }\n        else if (value instanceof Map) {\n            const combined = [];\n            for (const [k, v] of value.entries()) {\n                combined.push(k, v);\n            }\n            output(TypeIds.Map, combined);\n        }\n        else if (isJSXNode(value)) {\n            output(TypeIds.JSXNode, [\n                value.type,\n                value.varProps,\n                value.constProps,\n                value.children,\n                value.flags,\n                value.key,\n            ]);\n        }\n        else if (value instanceof Task) {\n            const out = [\n                value.$qrl$,\n                value.$flags$,\n                value.$index$,\n                value.$el$,\n                value.$effectDependencies$,\n                value.$state$,\n            ];\n            while (out[out.length - 1] == null) {\n                out.pop();\n            }\n            output(TypeIds.Task, out);\n        }\n        else if (isPromise(value)) {\n            const res = promiseResults.get(value);\n            if (!res) {\n                return throwErrorAndStop('Unvisited Promise');\n            }\n            output(TypeIds.Promise, res);\n        }\n        else if (value instanceof Uint8Array) {\n            let buf = '';\n            for (const c of value) {\n                buf += String.fromCharCode(c);\n            }\n            const out = btoa(buf).replace(/=+$/, '');\n            output(TypeIds.Uint8Array, out);\n        }\n        else {\n            return throwErrorAndStop('implement');\n        }\n    };\n    writeValue(serializationContext.$roots$, -1);\n}\nfunction serializeWrappingFn(serializationContext, value) {\n    // if value is an object then we need to wrap this in ()\n    if (value.$funcStr$ && value.$funcStr$[0] === '{') {\n        value.$funcStr$ = `(${value.$funcStr$})`;\n    }\n    const syncFnId = serializationContext.$addSyncFn$(value.$funcStr$, value.$args$.length, value.$func$);\n    // TODO null if no args\n    return [syncFnId, value.$args$];\n}\nexport function qrlToString(serializationContext, value) {\n    let symbol = value.$symbol$;\n    let chunk = value.$chunk$;\n    const refSymbol = value.$refSymbol$ ?? symbol;\n    const platform = getPlatform();\n    if (platform) {\n        const result = platform.chunkForSymbol(refSymbol, chunk, value.dev?.file);\n        if (result) {\n            chunk = result[1];\n            if (!value.$refSymbol$) {\n                symbol = result[0];\n            }\n        }\n    }\n    const isSync = isSyncQrl(value);\n    if (!isSync) {\n        // If we have a symbol we need to resolve the chunk.\n        if (!chunk) {\n            chunk = serializationContext.$symbolToChunkResolver$(value.$hash$);\n        }\n        // in Dev mode we need to keep track of the symbols\n        if (isDev) {\n            let backChannel = globalThis[QRL_RUNTIME_CHUNK];\n            if (!backChannel) {\n                backChannel = globalThis[QRL_RUNTIME_CHUNK] = new Map();\n            }\n            backChannel.set(value.$symbol$, value._devOnlySymbolRef);\n            if (!chunk) {\n                chunk = QRL_RUNTIME_CHUNK;\n            }\n        }\n        if (!chunk) {\n            throwErrorAndStop('Missing chunk for: ' + value.$symbol$);\n        }\n        if (chunk.startsWith('./')) {\n            chunk = chunk.slice(2);\n        }\n    }\n    else {\n        const fn = value.resolved;\n        chunk = '';\n        // TODO test that provided stringified fn is used\n        symbol = String(serializationContext.$addSyncFn$(null, 0, fn));\n    }\n    let qrlStringInline = `${chunk}#${symbol}`;\n    if (Array.isArray(value.$captureRef$) && value.$captureRef$.length > 0) {\n        let serializedReferences = '';\n        // hot-path optimization\n        for (let i = 0; i < value.$captureRef$.length; i++) {\n            if (i > 0) {\n                serializedReferences += ' ';\n            }\n            // We refer by id so every capture needs to be a root\n            serializedReferences += serializationContext.$addRoot$(value.$captureRef$[i]);\n        }\n        qrlStringInline += `[${serializedReferences}]`;\n    }\n    else if (value.$capture$ && value.$capture$.length > 0) {\n        qrlStringInline += `[${value.$capture$.join(' ')}]`;\n    }\n    return qrlStringInline;\n}\n/**\n * Serialize data to string using SerializationContext.\n *\n * @param data - Data to serialize\n * @internal\n */\nexport async function _serialize(data) {\n    const serializationContext = createSerializationContext(null, () => '', () => '', () => { }, new WeakMap());\n    for (const root of data) {\n        serializationContext.$addRoot$(root);\n    }\n    await serializationContext.$breakCircularDepsAndAwaitPromises$();\n    serializationContext.$serialize$();\n    return serializationContext.$writer$.toString();\n}\n/**\n * Deserialize data from string to an array of objects.\n *\n * @param rawStateData - Data to deserialize\n * @param element - Container element\n * @internal\n */\nexport function _deserialize(rawStateData, element) {\n    if (rawStateData == null) {\n        return [];\n    }\n    const stateData = JSON.parse(rawStateData);\n    if (!Array.isArray(stateData)) {\n        return [];\n    }\n    let container = undefined;\n    if (isNode(element) && isElement(element)) {\n        container = _createDeserializeContainer(stateData, element);\n    }\n    else {\n        container = _createDeserializeContainer(stateData);\n    }\n    const output = [];\n    for (let i = 0; i < stateData.length; i += 2) {\n        output[i / 2] = deserializeData(container, stateData[i], stateData[i + 1]);\n    }\n    return output;\n}\nfunction deserializeData(container, typeId, propValue) {\n    if (typeId === undefined) {\n        return propValue;\n    }\n    const value = allocate(container, typeId, propValue);\n    if (typeId >= TypeIds.Error) {\n        inflate(container, value, typeId, propValue);\n    }\n    return value;\n}\nfunction getObjectById(id, stateData) {\n    if (typeof id === 'string') {\n        id = parseInt(id, 10);\n    }\n    assertTrue(id < stateData.length, `Invalid reference ${id} >= ${stateData.length}`);\n    return stateData[id];\n}\nexport function _createDeserializeContainer(stateData, element) {\n    // eslint-disable-next-line prefer-const\n    let state;\n    const container = {\n        $getObjectById$: (id) => getObjectById(id, state),\n        getSyncFn: (_) => {\n            const fn = () => { };\n            return fn;\n        },\n        $storeProxyMap$: new WeakMap(),\n        element: null,\n    };\n    state = wrapDeserializerProxy(container, stateData);\n    container.$state$ = state;\n    if (element) {\n        container.element = element;\n    }\n    return container;\n}\n/**\n * Tracking all objects in the map would be expensive. For this reason we only track some of the\n * objects.\n *\n * For example we skip:\n *\n * - Short strings\n * - Anything which is not an object. (ie. number, boolean, null, undefined)\n *\n * @param obj\n * @returns\n */\nfunction shouldTrackObj(obj) {\n    return ((typeof obj === 'object' && obj !== null) ||\n        /**\n         * We track all strings greater than 1 character, because those take at least 6 bytes to encode\n         * and even with 999 root objects it saves one byte per reference. Tracking more objects makes\n         * the map bigger so we want to strike a balance\n         */\n        (typeof obj === 'string' && obj.length > 1)\n    // THINK: Not sure if we need to keep track of functions (QRLs) Let's skip them for now.\n    // and see if we have a test case which requires them.\n    );\n}\n/**\n * When serializing the object we need check if it is URL, RegExp, Map, Set, etc. This is time\n * consuming. So if we could know that this is a basic object literal we could skip the check, and\n * only run the checks for objects which are not object literals.\n *\n * So this function is here for performance to short circuit many checks later.\n *\n * @param obj\n */\nfunction isObjectLiteral(obj) {\n    // We are an object literal if:\n    // - we are a direct instance of object OR\n    // - we are an array\n    // In all other cases it is a subclass which requires more checks.\n    const prototype = Object.getPrototypeOf(obj);\n    return prototype == null || prototype === Object.prototype || prototype === Array.prototype;\n}\nfunction isResource(value) {\n    return '__brand' in value && value.__brand === 'resource';\n}\nconst frameworkType = (obj) => {\n    return ((typeof obj === 'object' &&\n        obj !== null &&\n        (obj instanceof Signal || obj instanceof Task || isJSXNode(obj))) ||\n        isQrl(obj));\n};\nexport const canSerialize = (value) => {\n    if (value == null ||\n        typeof value === 'string' ||\n        typeof value === 'number' ||\n        typeof value === 'boolean' ||\n        typeof value === 'bigint') {\n        return true;\n    }\n    else if (typeof value === 'object') {\n        const proto = Object.getPrototypeOf(value);\n        if (isStore(value)) {\n            value = getStoreTarget(value);\n        }\n        if (proto == Object.prototype) {\n            for (const key in value) {\n                if (!canSerialize(value[key])) {\n                    return false;\n                }\n            }\n            return true;\n        }\n        else if (proto == Array.prototype) {\n            for (let i = 0; i < value.length; i++) {\n                if (!canSerialize(value[i])) {\n                    return false;\n                }\n            }\n            return true;\n        }\n        else if (isTask(value)) {\n            return true;\n        }\n        else if (isPropsProxy(value)) {\n            return true;\n        }\n        else if (isPromise(value)) {\n            return true;\n        }\n        else if (isJSXNode(value)) {\n            return true;\n        }\n        else if (value instanceof Error) {\n            return true;\n        }\n        else if (value instanceof URL) {\n            return true;\n        }\n        else if (value instanceof Date) {\n            return true;\n        }\n        else if (value instanceof RegExp) {\n            return true;\n        }\n        else if (value instanceof URLSearchParams) {\n            return true;\n        }\n        else if (value instanceof FormData) {\n            return true;\n        }\n        else if (value instanceof Set) {\n            return true;\n        }\n        else if (value instanceof Map) {\n            return true;\n        }\n        else if (value instanceof Uint8Array) {\n            return true;\n        }\n    }\n    else if (typeof value === 'function') {\n        if (isQrl(value) || isQwikComponent(value)) {\n            return true;\n        }\n    }\n    return false;\n};\nconst QRL_RUNTIME_CHUNK = 'mock-chunk';\nexport var TypeIds;\n(function (TypeIds) {\n    TypeIds[TypeIds[\"RootRef\"] = 0] = \"RootRef\";\n    /** Undefined, null, true, false, NaN, +Inf, -Inf, Slot, Fragment */\n    TypeIds[TypeIds[\"Constant\"] = 1] = \"Constant\";\n    TypeIds[TypeIds[\"Number\"] = 2] = \"Number\";\n    TypeIds[TypeIds[\"String\"] = 3] = \"String\";\n    TypeIds[TypeIds[\"Array\"] = 4] = \"Array\";\n    TypeIds[TypeIds[\"URL\"] = 5] = \"URL\";\n    TypeIds[TypeIds[\"Date\"] = 6] = \"Date\";\n    TypeIds[TypeIds[\"Regex\"] = 7] = \"Regex\";\n    TypeIds[TypeIds[\"VNode\"] = 8] = \"VNode\";\n    TypeIds[TypeIds[\"RefVNode\"] = 9] = \"RefVNode\";\n    TypeIds[TypeIds[\"BigInt\"] = 10] = \"BigInt\";\n    TypeIds[TypeIds[\"URLSearchParams\"] = 11] = \"URLSearchParams\";\n    /// All values below need inflation because they may have reference cycles\n    TypeIds[TypeIds[\"Error\"] = 12] = \"Error\";\n    TypeIds[TypeIds[\"Object\"] = 13] = \"Object\";\n    TypeIds[TypeIds[\"Promise\"] = 14] = \"Promise\";\n    TypeIds[TypeIds[\"Set\"] = 15] = \"Set\";\n    TypeIds[TypeIds[\"Map\"] = 16] = \"Map\";\n    TypeIds[TypeIds[\"Uint8Array\"] = 17] = \"Uint8Array\";\n    TypeIds[TypeIds[\"QRL\"] = 18] = \"QRL\";\n    TypeIds[TypeIds[\"Task\"] = 19] = \"Task\";\n    TypeIds[TypeIds[\"Resource\"] = 20] = \"Resource\";\n    TypeIds[TypeIds[\"Component\"] = 21] = \"Component\";\n    TypeIds[TypeIds[\"Signal\"] = 22] = \"Signal\";\n    TypeIds[TypeIds[\"WrappedSignal\"] = 23] = \"WrappedSignal\";\n    TypeIds[TypeIds[\"ComputedSignal\"] = 24] = \"ComputedSignal\";\n    TypeIds[TypeIds[\"Store\"] = 25] = \"Store\";\n    TypeIds[TypeIds[\"StoreArray\"] = 26] = \"StoreArray\";\n    TypeIds[TypeIds[\"FormData\"] = 27] = \"FormData\";\n    TypeIds[TypeIds[\"JSXNode\"] = 28] = \"JSXNode\";\n    TypeIds[TypeIds[\"PropsProxy\"] = 29] = \"PropsProxy\";\n    TypeIds[TypeIds[\"EffectData\"] = 30] = \"EffectData\";\n})(TypeIds || (TypeIds = {}));\nexport const _typeIdNames = [\n    'RootRef',\n    'Constant',\n    'Number',\n    'String',\n    'Array',\n    'URL',\n    'Date',\n    'Regex',\n    'VNode',\n    'RefVNode',\n    'BigInt',\n    'URLSearchParams',\n    'Error',\n    'Object',\n    'Promise',\n    'Set',\n    'Map',\n    'Uint8Array',\n    'QRL',\n    'Task',\n    'Resource',\n    'Component',\n    'Signal',\n    'WrappedSignal',\n    'ComputedSignal',\n    'Store',\n    'StoreArray',\n    'FormData',\n    'JSXNode',\n    'PropsProxy',\n    'EffectData',\n];\nexport var Constants;\n(function (Constants) {\n    Constants[Constants[\"Undefined\"] = 0] = \"Undefined\";\n    Constants[Constants[\"Null\"] = 1] = \"Null\";\n    Constants[Constants[\"True\"] = 2] = \"True\";\n    Constants[Constants[\"False\"] = 3] = \"False\";\n    Constants[Constants[\"EmptyString\"] = 4] = \"EmptyString\";\n    Constants[Constants[\"EMPTY_ARRAY\"] = 5] = \"EMPTY_ARRAY\";\n    Constants[Constants[\"EMPTY_OBJ\"] = 6] = \"EMPTY_OBJ\";\n    Constants[Constants[\"NEEDS_COMPUTATION\"] = 7] = \"NEEDS_COMPUTATION\";\n    Constants[Constants[\"Slot\"] = 8] = \"Slot\";\n    Constants[Constants[\"Fragment\"] = 9] = \"Fragment\";\n    Constants[Constants[\"NaN\"] = 10] = \"NaN\";\n    Constants[Constants[\"PositiveInfinity\"] = 11] = \"PositiveInfinity\";\n    Constants[Constants[\"NegativeInfinity\"] = 12] = \"NegativeInfinity\";\n    Constants[Constants[\"MaxSafeInt\"] = 13] = \"MaxSafeInt\";\n    // used for close fragment\n    Constants[Constants[\"AlmostMaxSafeInt\"] = 14] = \"AlmostMaxSafeInt\";\n    Constants[Constants[\"MinSafeInt\"] = 15] = \"MinSafeInt\";\n})(Constants || (Constants = {}));\nconst circularProofJson = (obj, indent) => {\n    const seen = new WeakSet();\n    return JSON.stringify(obj, (key, value) => {\n        if (typeof value === 'object' && value !== null) {\n            if (seen.has(value)) {\n                return `[Circular ${value.constructor.name}]`;\n            }\n            seen.add(value);\n        }\n        return value;\n    }, indent);\n};\nconst printRaw = (value, prefix) => {\n    let result = vnode_isVNode(value)\n        ? vnode_toString.call(value, 1, '', true).replaceAll(/\\n.*/gm, '')\n        : typeof value === 'function'\n            ? String(value)\n            : circularProofJson(value, 2);\n    if (result.length > 500) {\n        result = result.slice(0, 500) + '\"...';\n    }\n    result = result.replace(/\\n/g, '\\n' + prefix);\n    return result.includes('\\n') ? (result = `\\n${prefix}${result}`) : result;\n};\nlet hasRaw = false;\nexport const dumpState = (state, color = false, prefix = '', limit = 20) => {\n    const RED = color ? '\\x1b[31m' : '';\n    const RESET = color ? '\\x1b[0m' : '';\n    const isRoot = prefix === '';\n    const out = [];\n    for (let i = 0; i < state.length; i++) {\n        if (limit && i > 2 * limit) {\n            out.push('...');\n            break;\n        }\n        const key = state[i];\n        let value = state[++i];\n        if (key === undefined) {\n            hasRaw = true;\n            out.push(`${RED}[raw${typeof value === 'object' && value ? ` ${value.constructor.name}` : ''}]${RESET} ${printRaw(value, `${prefix}  `)}`);\n        }\n        else {\n            if (key === TypeIds.Constant) {\n                value = constantToName(value);\n            }\n            else if (typeof value === 'string') {\n                value = JSON.stringify(value);\n                if (value.length > 120) {\n                    value = value.slice(0, 120) + '\"...';\n                }\n            }\n            else if (Array.isArray(value)) {\n                value = value.length ? `[\\n${dumpState(value, color, `${prefix}  `)}\\n${prefix}]` : '[]';\n            }\n            out.push(`${RED}${typeIdToName(key)}${RESET} ${value}`);\n        }\n    }\n    const result = out.map((v, i) => `${prefix}${isRoot ? `${i} ` : ''}${v}`).join('\\n');\n    if (isRoot) {\n        const count = hasRaw ? '' : `(${JSON.stringify(state).length} chars)`;\n        hasRaw = false;\n        return `\\n${result}\\n${count}`;\n    }\n    return result;\n};\nexport const typeIdToName = (code) => {\n    return _typeIdNames[code] || `Unknown(${code})`;\n};\nconst constantToName = (code) => {\n    return _constantNames[code] || `Unknown(${code})`;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2hhcmVkLXNlcmlhbGl6YXRpb24uanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvc2hhcmVkL3NoYXJlZC1zZXJpYWxpemF0aW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLGtEQUFrRDtBQUVsRCxPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFFOUMsT0FBTyxFQUFxQixNQUFNLHlCQUF5QixDQUFDO0FBRTVELE9BQU8sRUFBRSxhQUFhLEVBQUUsYUFBYSxFQUFFLFlBQVksRUFBRSxjQUFjLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUM3RixPQUFPLEVBQ0wsY0FBYyxFQUNkLFVBQVUsRUFDVixpQkFBaUIsRUFDakIsTUFBTSxFQUNOLGFBQWEsR0FDZCxNQUFNLGtCQUFrQixDQUFDO0FBRTFCLE9BQU8sRUFDTCxnQkFBZ0IsRUFDaEIsV0FBVyxFQUNYLGVBQWUsRUFDZixjQUFjLEVBQ2QsT0FBTyxHQUNSLE1BQU0saUJBQWlCLENBQUM7QUFFekIsT0FBTyxFQUFFLG9CQUFvQixFQUErQixNQUFNLHFCQUFxQixDQUFDO0FBQ3hGLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDL0MsT0FBTyxFQUFFLGtCQUFrQixFQUFFLFlBQVksRUFBRSxlQUFlLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUN2RixPQUFPLEVBQUUsYUFBYSxFQUFFLFVBQVUsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQzNELE9BQU8sRUFDTCxRQUFRLEVBQ1IsV0FBVyxFQUNYLGdCQUFnQixFQUNoQixTQUFTLEVBQ1QsWUFBWSxHQUNiLE1BQU0sbUJBQW1CLENBQUM7QUFDM0IsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBQ3pDLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUNsRCxPQUFPLEVBQ0wsU0FBUyxFQUNULEtBQUssRUFDTCxTQUFTLEdBR1YsTUFBTSxpQkFBaUIsQ0FBQztBQUV6QixPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sYUFBYSxDQUFDO0FBRXhDLE9BQU8sRUFBRSxZQUFZLEVBQUUsVUFBVSxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFDN0QsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUNwRCxPQUFPLEVBQUUsV0FBVyxFQUFFLFNBQVMsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBQzNELE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUNoRCxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDN0MsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBQzdDLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBQzVELE9BQU8sRUFBdUIsTUFBTSxlQUFlLENBQUM7QUFFcEQsTUFBTSxvQkFBb0IsR0FBRyxJQUFJLE9BQU8sRUFBcUIsQ0FBQztBQUk5RCxNQUFNLENBQUMsTUFBTSx1QkFBdUIsR0FBRyxDQUFDLEtBQWMsRUFBRSxFQUFFO0lBQ3hELE1BQU0sU0FBUyxHQUNiLE9BQU8sS0FBSyxLQUFLLFFBQVE7UUFDekIsS0FBSyxLQUFLLElBQUk7UUFDYixLQUEyQixDQUFDLHVCQUF1QixDQUFDLENBQUM7SUFDeEQsT0FBTyxTQUFTLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDO0FBQ3ZDLENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLG1CQUFtQixHQUFHLENBQUMsS0FBYyxFQUE4QixFQUFFO0lBQ2hGLE9BQU8sT0FBTyxLQUFLLEtBQUssUUFBUSxJQUFJLEtBQUssS0FBSyxJQUFJLElBQUksdUJBQXVCLElBQUksS0FBSyxDQUFDO0FBQ3pGLENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLHVCQUF1QixHQUFHLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUN4RCw2Q0FBNkM7QUFDN0MsTUFBTSxDQUFDLE1BQU0scUJBQXFCLEdBQUcsQ0FBQyxTQUF1QixFQUFFLElBQWEsRUFBYSxFQUFFO0lBQ3pGLElBQ0UsQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLG1CQUFtQjtRQUMzQyxhQUFhLENBQUMsSUFBSSxDQUFDLElBQUksMEJBQTBCO1FBQ2pELG1CQUFtQixDQUFDLElBQUksQ0FBQyxDQUFDLDBCQUEwQjtNQUNwRCxDQUFDO1FBQ0QsT0FBTyxJQUFXLENBQUM7SUFDckIsQ0FBQztJQUNELElBQUksS0FBSyxHQUFHLG9CQUFvQixDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUMzQyxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDWCxNQUFNLE1BQU0sR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDdEQsS0FBSyxHQUFHLElBQUksS0FBSyxDQUFDLE1BQU0sRUFBRSxJQUFJLHNCQUFzQixDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsQ0FBYyxDQUFDO1FBQ3BGLG9CQUFvQixDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDeEMsQ0FBQztJQUNELE9BQU8sS0FBSyxDQUFDO0FBQ2YsQ0FBQyxDQUFDO0FBRUYsTUFBTSxzQkFBc0I7SUFDMUIsWUFDUyxXQUF5QixFQUN6QixNQUFpQjtRQURqQixnQkFBVyxHQUFYLFdBQVcsQ0FBYztRQUN6QixXQUFNLEdBQU4sTUFBTSxDQUFXO1FBR25CLGFBQVEsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7SUFGdEMsQ0FBQztJQUlKLEdBQUcsQ0FBQyxNQUFpQixFQUFFLFFBQXFCLEVBQUUsUUFBZ0I7UUFDNUQsSUFBSSxRQUFRLEtBQUssdUJBQXVCLEVBQUUsQ0FBQztZQUN6QyxrREFBa0Q7WUFDbEQsT0FBTyxNQUFNLENBQUM7UUFDaEIsQ0FBQztRQUNELE1BQU0sQ0FBQyxHQUNMLE9BQU8sUUFBUSxLQUFLLFFBQVE7WUFDMUIsQ0FBQyxDQUFDLFFBQVE7WUFDVixDQUFDLENBQUMsT0FBTyxRQUFRLEtBQUssUUFBUTtnQkFDNUIsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxRQUFrQixFQUFFLEVBQUUsQ0FBQztnQkFDbEMsQ0FBQyxDQUFDLEdBQUcsQ0FBQztRQUNaLElBQUksTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7WUFDbkQsTUFBTSxHQUFHLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUUsUUFBUSxFQUFFLFFBQVEsQ0FBQyxDQUFDO1lBQ3BELE9BQU8sR0FBRyxDQUFDO1FBQ2IsQ0FBQztRQUNELDhEQUE4RDtRQUM5RCxNQUFNLEdBQUcsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ2xCLE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFXLENBQUM7UUFDMUMsTUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDbkMsSUFBSSxNQUFNLEtBQUssU0FBUyxFQUFFLENBQUM7WUFDekIsOEJBQThCO1lBQzlCLE9BQU8sS0FBSyxDQUFDO1FBQ2YsQ0FBQztRQUVELE1BQU0sU0FBUyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUM7UUFDbkMsTUFBTSxTQUFTLEdBQUcsUUFBUSxDQUFDLFNBQVMsRUFBRSxNQUFNLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDckQsT0FBTyxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUUsUUFBUSxFQUFFLFNBQVMsQ0FBQyxDQUFDO1FBQ3pDLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLEdBQUcsU0FBUyxDQUFDO1FBQzdCLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLFNBQVMsQ0FBQztRQUNqQyx1RUFBdUU7UUFDdkUsSUFBSSxNQUFNLElBQUksT0FBTyxDQUFDLEtBQUssRUFBRSxDQUFDO1lBQzVCLE9BQU8sQ0FBQyxTQUFTLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxLQUFLLENBQUMsQ0FBQztRQUMvQyxDQUFDO1FBQ0QsT0FBTyxTQUFTLENBQUM7SUFDbkIsQ0FBQztJQUVELEdBQUcsQ0FBQyxNQUFjLEVBQUUsUUFBcUI7UUFDdkMsSUFBSSxRQUFRLEtBQUssdUJBQXVCLEVBQUUsQ0FBQztZQUN6QyxPQUFPLElBQUksQ0FBQztRQUNkLENBQUM7UUFDRCxPQUFPLE1BQU0sQ0FBQyxTQUFTLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsUUFBUSxDQUFDLENBQUM7SUFDaEUsQ0FBQztJQUVELEdBQUcsQ0FBQyxNQUFjLEVBQUUsUUFBcUIsRUFBRSxLQUFVLEVBQUUsUUFBZ0I7UUFDckUsSUFBSSxRQUFRLEtBQUssdUJBQXVCLEVBQUUsQ0FBQztZQUN6QyxPQUFPLEtBQUssQ0FBQztRQUNmLENBQUM7UUFDRCxNQUFNLEdBQUcsR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSxRQUFRLEVBQUUsS0FBSyxFQUFFLFFBQVEsQ0FBQyxDQUFDO1FBQzNELE1BQU0sQ0FBQyxHQUFHLE9BQU8sUUFBUSxLQUFLLFFBQVEsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsUUFBa0IsRUFBRSxFQUFFLENBQUMsQ0FBQztRQUNyRixJQUFJLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFLENBQUM7WUFDNUQsT0FBTyxHQUFHLENBQUM7UUFDYixDQUFDO1FBQ0QsTUFBTSxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNsQixJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxHQUFHLFNBQVMsQ0FBQztRQUM3QixJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUM7UUFDN0IsT0FBTyxJQUFJLENBQUM7SUFDZCxDQUFDO0NBQ0Y7QUFFRDs7O0dBR0c7QUFDSCxNQUFNLENBQUMsTUFBTSxzQkFBc0IsR0FBRyxDQUNwQyxTQUErQixFQUMvQixJQUFlLEVBQ0osRUFBRTtJQUNiLE1BQU0sR0FBRyxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBQ25DLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQztRQUN4QyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLGVBQWUsQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBWSxFQUFFLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUMzRSxDQUFDO0lBQ0QsT0FBTyxHQUFHLENBQUM7QUFDYixDQUFDLENBQUM7QUFFRixNQUFNLFNBQVMsR0FBRyxJQUFJLE9BQU8sRUFBc0MsQ0FBQztBQUVwRSxNQUFNLE9BQU8sR0FBRyxDQUFDLFNBQStCLEVBQUUsTUFBVyxFQUFFLE1BQWUsRUFBRSxJQUFhLEVBQUUsRUFBRTtJQUMvRixJQUFJLE1BQU0sS0FBSyxTQUFTLEVBQUUsQ0FBQztRQUN6QixvQkFBb0I7UUFDcEIsT0FBTztJQUNULENBQUM7SUFDRCxxREFBcUQ7SUFDckQsSUFBSSxNQUFNLEtBQUssT0FBTyxDQUFDLE1BQU0sSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUM7UUFDckQsSUFBSSxHQUFHLHNCQUFzQixDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUNqRCxDQUFDO0lBQ0QsUUFBUSxNQUFNLEVBQUUsQ0FBQztRQUNmLEtBQUssT0FBTyxDQUFDLE1BQU07WUFDakIsZ0RBQWdEO1lBQ2hELEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBSSxJQUFjLENBQUMsTUFBTSxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQztnQkFDbkQsTUFBTSxHQUFHLEdBQUcsZUFBZSxDQUN6QixTQUFTLEVBQ1IsSUFBYyxDQUFDLENBQUMsQ0FBWSxFQUM1QixJQUFjLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUN2QixDQUFDO2dCQUNGLE1BQU0sT0FBTyxHQUFJLElBQWtCLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO2dCQUMzQyxNQUFNLE9BQU8sR0FBSSxJQUFjLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO2dCQUN2QyxJQUFJLE9BQU8sS0FBSyxPQUFPLENBQUMsT0FBTyxJQUFJLE9BQU8sSUFBSSxPQUFPLENBQUMsS0FBSyxFQUFFLENBQUM7b0JBQzVELE1BQU0sQ0FBQyxjQUFjLENBQUMsTUFBTSxFQUFFLEdBQUcsRUFBRTt3QkFDakMsR0FBRzs0QkFDRCxPQUFPLGVBQWUsQ0FBQyxTQUFTLEVBQUUsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDO3dCQUN0RCxDQUFDO3dCQUNELEdBQUcsQ0FBQyxLQUFjOzRCQUNoQixNQUFNLENBQUMsY0FBYyxDQUFDLE1BQU0sRUFBRSxHQUFHLEVBQUU7Z0NBQ2pDLEtBQUs7Z0NBQ0wsUUFBUSxFQUFFLElBQUk7Z0NBQ2QsVUFBVSxFQUFFLElBQUk7Z0NBQ2hCLFlBQVksRUFBRSxJQUFJOzZCQUNuQixDQUFDLENBQUM7d0JBQ0wsQ0FBQzt3QkFDRCxVQUFVLEVBQUUsSUFBSTt3QkFDaEIsWUFBWSxFQUFFLElBQUk7cUJBQ25CLENBQUMsQ0FBQztnQkFDTCxDQUFDO3FCQUFNLENBQUM7b0JBQ04sTUFBTSxDQUFDLEdBQUcsQ0FBQyxHQUFHLGVBQWUsQ0FBQyxTQUFTLEVBQUUsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDO2dCQUM3RCxDQUFDO1lBQ0gsQ0FBQztZQUNELE1BQU07UUFDUixLQUFLLE9BQU8sQ0FBQyxHQUFHO1lBQ2QsVUFBVSxDQUFDLFNBQVMsRUFBRSxNQUFNLENBQUMsQ0FBQztZQUM5QixNQUFNO1FBQ1IsS0FBSyxPQUFPLENBQUMsSUFBSTtZQUNmLE1BQU0sSUFBSSxHQUFHLE1BQWMsQ0FBQztZQUM1QixNQUFNLENBQUMsR0FBRyxJQUFhLENBQUM7WUFDeEIsSUFBSSxDQUFDLEtBQUssR0FBRyxVQUFVLENBQUMsU0FBUyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3pDLElBQUksQ0FBQyxPQUFPLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3BCLElBQUksQ0FBQyxPQUFPLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3BCLElBQUksQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBZ0IsQ0FBQztZQUNoQyxJQUFJLENBQUMsb0JBQW9CLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBd0IsQ0FBQztZQUN4RCxJQUFJLENBQUMsT0FBTyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNwQixNQUFNO1FBQ1IsS0FBSyxPQUFPLENBQUMsUUFBUTtZQUNuQixNQUFNLENBQUMsUUFBUSxFQUFFLE1BQU0sRUFBRSxPQUFPLENBQUMsR0FBRyxJQUErQixDQUFDO1lBQ3BFLE1BQU0sUUFBUSxHQUFHLE1BQXlDLENBQUM7WUFDM0QsSUFBSSxRQUFRLEVBQUUsQ0FBQztnQkFDYixRQUFRLENBQUMsS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUM7Z0JBQ3pDLFFBQVEsQ0FBQyxTQUFTLEdBQUcsTUFBTSxDQUFDO2dCQUM1QixRQUFRLENBQUMsTUFBTSxHQUFHLFVBQVUsQ0FBQztZQUMvQixDQUFDO2lCQUFNLENBQUM7Z0JBQ04sUUFBUSxDQUFDLEtBQUssR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDO2dCQUN4QyxRQUFRLENBQUMsTUFBTSxHQUFHLE1BQWUsQ0FBQztnQkFDbEMsUUFBUSxDQUFDLE1BQU0sR0FBRyxVQUFVLENBQUM7WUFDL0IsQ0FBQztZQUNELGVBQWUsQ0FBQyxNQUFNLENBQUUsQ0FBQyxTQUFTLEdBQUcsT0FBTyxDQUFDO1lBQzdDLE1BQU07UUFDUixLQUFLLE9BQU8sQ0FBQyxTQUFTO1lBQ3BCLE1BQU0sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFJLElBQWMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNuRCxNQUFNO1FBQ1IsS0FBSyxPQUFPLENBQUMsS0FBSyxDQUFDO1FBQ25CLEtBQUssT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUM7WUFDeEIsTUFBTSxDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUUsT0FBTyxFQUFFLFdBQVcsQ0FBQyxHQUFHLElBQWlCLENBQUM7WUFDL0QsTUFBTSxPQUFPLEdBQUcsZUFBZSxDQUFDLE1BQU0sQ0FBRSxDQUFDO1lBQ3pDLE9BQU8sQ0FBQyxPQUFPLEdBQUcsS0FBZSxDQUFDO1lBQ2xDLDZDQUE2QztZQUM3QyxNQUFNLENBQUMsTUFBTSxDQUFDLGNBQWMsQ0FBQyxNQUFNLENBQUMsRUFBRSxLQUFlLENBQUMsQ0FBQztZQUN2RCw2REFBNkQ7WUFDN0QsSUFBSSxXQUFXLEVBQUUsQ0FBQztnQkFDZixPQUFlLENBQUMsZ0JBQWdCLENBQUMsR0FBRyxXQUFXLENBQUM7WUFDbkQsQ0FBQztZQUNELE9BQU8sQ0FBQyxTQUFTLEdBQUcsT0FBYyxDQUFDO1lBRW5DLFNBQVMsQ0FBQyxlQUFlLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsQ0FBQztZQUM3QyxNQUFNO1FBQ1IsQ0FBQztRQUNELEtBQUssT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7WUFDcEIsTUFBTSxNQUFNLEdBQUcsTUFBeUIsQ0FBQztZQUN6QyxNQUFNLENBQUMsR0FBRyxJQUEyQixDQUFDO1lBQ3RDLE1BQU0sQ0FBQyxnQkFBZ0IsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDL0IsTUFBTSxDQUFDLFNBQVMsR0FBRyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzlCLE1BQU07UUFDUixDQUFDO1FBQ0QsS0FBSyxPQUFPLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQztZQUMzQixNQUFNLE1BQU0sR0FBRyxNQUFnQyxDQUFDO1lBQ2hELE1BQU0sQ0FBQyxHQUFHLElBQTRELENBQUM7WUFDdkUsTUFBTSxDQUFDLE1BQU0sR0FBRyxTQUFTLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzFDLE1BQU0sQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3JCLE1BQU0sQ0FBQyxvQkFBb0IsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDbkMsTUFBTSxDQUFDLGdCQUFnQixHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUMvQixNQUFNLENBQUMsU0FBUyxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDOUIsTUFBTTtRQUNSLENBQUM7UUFDRCxLQUFLLE9BQU8sQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDO1lBQzVCLE1BQU0sUUFBUSxHQUFHLE1BQWlDLENBQUM7WUFDbkQsTUFBTSxDQUFDLEdBQUcsSUFBMkQsQ0FBQztZQUN0RSxRQUFRLENBQUMsWUFBWSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUM3QixRQUFRLENBQUMsZ0JBQWdCLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2pDLFFBQVEsQ0FBQyxTQUFTLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzFCLFFBQVEsQ0FBQyxTQUFTLEdBQUcsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNoQyxJQUFJLFFBQVEsQ0FBQyxTQUFTLEVBQUUsQ0FBQztnQkFDdkI7Ozs7O21CQUtHO2dCQUNILG1DQUFtQztnQkFDbkMsUUFBUSxDQUFDLFlBQVksQ0FBQyxPQUFPLEVBQUUsQ0FBQztnQkFDL0IsU0FBMEIsQ0FBQyxXQUFXLEVBQUUsQ0FDdkMsU0FBUyxDQUFDLFdBQVcsRUFDckIsSUFBSSxFQUNKLFFBQVEsQ0FBQyxZQUFZLENBQ3RCLENBQUM7WUFDSixDQUFDO1lBQ0QsTUFBTTtRQUNSLENBQUM7UUFDRCxLQUFLLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO1lBQ25CLE1BQU0sQ0FBQyxHQUFHLElBQWlCLENBQUM7WUFDNUIsTUFBTSxDQUFDLE9BQU8sR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDdEIsTUFBTSxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3BCLElBQUksTUFBTSxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQztnQkFDcEMsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQztvQkFDdkMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUM3QixDQUFDO2dCQUNELE1BQU0sQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3RCLENBQUM7aUJBQU0sQ0FBQztnQkFDTixNQUFNLENBQUMsS0FBSyxHQUFHLE1BQU0sQ0FBQztZQUN4QixDQUFDO1lBQ0QsTUFBTTtRQUNSLENBQUM7UUFDRCxLQUFLLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO1lBQ3RCLE1BQU0sUUFBUSxHQUFHLE1BQWtCLENBQUM7WUFDcEMsTUFBTSxDQUFDLEdBQUcsSUFBYSxDQUFDO1lBQ3hCLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUM7Z0JBQ2xDLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDaEMsQ0FBQztZQUNELE1BQU07UUFDUixDQUFDO1FBQ0QsS0FBSyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztZQUNyQixNQUFNLEdBQUcsR0FBRyxNQUE4QixDQUFDO1lBQzNDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsUUFBUSxFQUFFLFVBQVUsRUFBRSxRQUFRLEVBQUUsS0FBSyxFQUFFLEdBQUcsQ0FBQyxHQUFHLElBQWEsQ0FBQztZQUN6RSxHQUFHLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztZQUNoQixHQUFHLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztZQUN4QixHQUFHLENBQUMsVUFBVSxHQUFHLFVBQVUsQ0FBQztZQUM1QixHQUFHLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztZQUN4QixHQUFHLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztZQUNsQixHQUFHLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQztZQUNkLE1BQU07UUFDUixDQUFDO1FBQ0QsS0FBSyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztZQUNqQixNQUFNLEdBQUcsR0FBRyxNQUFzQixDQUFDO1lBQ25DLE1BQU0sQ0FBQyxHQUFHLElBQWEsQ0FBQztZQUN4QixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDO2dCQUNsQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2hCLENBQUM7WUFDRCxNQUFNO1FBQ1IsQ0FBQztRQUNELEtBQUssT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7WUFDakIsTUFBTSxHQUFHLEdBQUcsTUFBK0IsQ0FBQztZQUM1QyxNQUFNLENBQUMsR0FBRyxJQUFhLENBQUM7WUFDeEIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQztnQkFDbEMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN4QixDQUFDO1lBQ0QsTUFBTTtRQUNSLENBQUM7UUFDRCxLQUFLLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO1lBQ3JCLE1BQU0sT0FBTyxHQUFHLE1BQTBCLENBQUM7WUFDM0MsTUFBTSxDQUFDLFFBQVEsRUFBRSxNQUFNLENBQUMsR0FBRyxJQUEwQixDQUFDO1lBQ3RELE1BQU0sQ0FBQyxPQUFPLEVBQUUsTUFBTSxDQUFDLEdBQUcsU0FBUyxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUUsQ0FBQztZQUNsRCxJQUFJLFFBQVEsRUFBRSxDQUFDO2dCQUNiLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUNsQixDQUFDO2lCQUFNLENBQUM7Z0JBQ04sTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQ2pCLENBQUM7WUFDRCxNQUFNO1FBQ1IsQ0FBQztRQUNELEtBQUssT0FBTyxDQUFDLFVBQVU7WUFDckIsTUFBTSxLQUFLLEdBQUcsTUFBb0IsQ0FBQztZQUNuQyxNQUFNLEdBQUcsR0FBRyxJQUFJLENBQUMsSUFBYyxDQUFDLENBQUM7WUFDakMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ1YsS0FBSyxNQUFNLENBQUMsSUFBSSxHQUFHLEVBQUUsQ0FBQztnQkFDcEIsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUMvQixDQUFDO1lBQ0QsTUFBTTtRQUNSLEtBQUssT0FBTyxDQUFDLFVBQVU7WUFDckIsTUFBTSxVQUFVLEdBQUcsTUFBYSxDQUFDO1lBQ2pDLFVBQVUsQ0FBQyxVQUFVLENBQUMsR0FBSSxJQUFZLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDMUMsVUFBVSxDQUFDLFlBQVksQ0FBQyxHQUFJLElBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUM1QyxNQUFNO1FBQ1IsS0FBSyxPQUFPLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQztZQUN4QixNQUFNLFVBQVUsR0FBRyxNQUFvQixDQUFDO1lBQ3hDLFVBQVUsQ0FBQyxJQUFJLEdBQUksSUFBYyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3JDLE1BQU07UUFDUixDQUFDO1FBQ0Q7WUFDRSxPQUFPLGlCQUFpQixDQUFDLGlCQUFpQixDQUFDLENBQUM7SUFDaEQsQ0FBQztBQUNILENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLFVBQVUsR0FBRztJQUN4QixTQUFTO0lBQ1QsSUFBSTtJQUNKLElBQUk7SUFDSixLQUFLO0lBQ0wsRUFBRTtJQUNGLFdBQVc7SUFDWCxTQUFTO0lBQ1QsaUJBQWlCO0lBQ2pCLElBQUk7SUFDSixRQUFRO0lBQ1IsR0FBRztJQUNILFFBQVE7SUFDUixDQUFDLFFBQVE7SUFDVCxNQUFNLENBQUMsZ0JBQWdCO0lBQ3ZCLE1BQU0sQ0FBQyxnQkFBZ0IsR0FBRyxDQUFDO0lBQzNCLE1BQU0sQ0FBQyxnQkFBZ0I7Q0FDZixDQUFDO0FBQ1gsTUFBTSxjQUFjLEdBQUc7SUFDckIsV0FBVztJQUNYLE1BQU07SUFDTixNQUFNO0lBQ04sT0FBTztJQUNQLElBQUk7SUFDSixhQUFhO0lBQ2IsV0FBVztJQUNYLG1CQUFtQjtJQUNuQixNQUFNO0lBQ04sVUFBVTtJQUNWLEtBQUs7SUFDTCxVQUFVO0lBQ1YsV0FBVztJQUNYLGtCQUFrQjtJQUNsQixvQkFBb0I7SUFDcEIsa0JBQWtCO0NBQ1YsQ0FBQztBQUVYLE1BQU0sUUFBUSxHQUFHLENBQUMsU0FBK0IsRUFBRSxNQUFjLEVBQUUsS0FBYyxFQUFPLEVBQUU7SUFDeEYsSUFBSSxLQUFLLEtBQUssU0FBUyxFQUFFLENBQUM7UUFDeEIsbUVBQW1FO1FBQ25FLE9BQU8sTUFBTSxDQUFDO0lBQ2hCLENBQUM7SUFDRCxRQUFRLE1BQU0sRUFBRSxDQUFDO1FBQ2YsS0FBSyxPQUFPLENBQUMsT0FBTztZQUNsQixPQUFPLFNBQVMsQ0FBQyxlQUFlLENBQUMsS0FBZSxDQUFDLENBQUM7UUFDcEQsS0FBSyxPQUFPLENBQUMsUUFBUTtZQUNuQixPQUFPLFVBQVUsQ0FBQyxLQUFrQixDQUFDLENBQUM7UUFDeEMsS0FBSyxPQUFPLENBQUMsTUFBTTtZQUNqQixPQUFPLEtBQWUsQ0FBQztRQUN6QixLQUFLLE9BQU8sQ0FBQyxLQUFLO1lBQ2hCLE9BQU8scUJBQXFCLENBQUMsU0FBZ0IsRUFBRSxLQUFjLENBQUMsQ0FBQztRQUNqRSxLQUFLLE9BQU8sQ0FBQyxNQUFNO1lBQ2pCLE9BQU8sRUFBRSxDQUFDO1FBQ1osS0FBSyxPQUFPLENBQUMsR0FBRztZQUNkLE9BQU8sUUFBUSxDQUFDLEtBQWUsQ0FBQyxDQUFDO1FBQ25DLEtBQUssT0FBTyxDQUFDLElBQUk7WUFDZixPQUFPLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLElBQUssRUFBRSxJQUFLLEVBQUUsSUFBSyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3JELEtBQUssT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7WUFDdEIsTUFBTSxHQUFHLEdBQUcsb0JBQW9CLENBQzlCLFNBQWdCO1lBQ2hCLHdDQUF3QztZQUN4QyxTQUFTLEVBQ1QsU0FBUyxDQUNWLENBQUM7WUFDRixHQUFHLENBQUMsT0FBTyxHQUFHLEtBQUssQ0FBQztZQUNwQixPQUFPLEdBQUcsQ0FBQztRQUNiLENBQUM7UUFDRCxLQUFLLE9BQU8sQ0FBQyxHQUFHO1lBQ2QsT0FBTyxJQUFJLEdBQUcsQ0FBQyxLQUFlLENBQUMsQ0FBQztRQUNsQyxLQUFLLE9BQU8sQ0FBQyxJQUFJO1lBQ2YsT0FBTyxJQUFJLElBQUksQ0FBQyxLQUFlLENBQUMsQ0FBQztRQUNuQyxLQUFLLE9BQU8sQ0FBQyxLQUFLO1lBQ2hCLE1BQU0sR0FBRyxHQUFJLEtBQWdCLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQy9DLE9BQU8sSUFBSSxNQUFNLENBQUUsS0FBZ0IsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxFQUFHLEtBQWdCLENBQUMsS0FBSyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3ZGLEtBQUssT0FBTyxDQUFDLEtBQUs7WUFDaEIsT0FBTyxJQUFJLEtBQUssRUFBRSxDQUFDO1FBQ3JCLEtBQUssT0FBTyxDQUFDLFNBQVM7WUFDcEIsT0FBTyxZQUFZLENBQUMsSUFBSyxDQUFDLENBQUM7UUFDN0IsS0FBSyxPQUFPLENBQUMsTUFBTTtZQUNqQixPQUFPLElBQUksTUFBTSxDQUFDLFNBQWdCLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDekMsS0FBSyxPQUFPLENBQUMsYUFBYTtZQUN4QixPQUFPLElBQUksYUFBYSxDQUFDLFNBQWdCLEVBQUUsSUFBSyxFQUFFLElBQUssRUFBRSxJQUFLLENBQUMsQ0FBQztRQUNsRSxLQUFLLE9BQU8sQ0FBQyxjQUFjO1lBQ3pCLE9BQU8sSUFBSSxjQUFjLENBQUMsU0FBZ0IsRUFBRSxJQUFLLENBQUMsQ0FBQztRQUNyRCxLQUFLLE9BQU8sQ0FBQyxLQUFLO1lBQ2hCLE9BQU8sV0FBVyxDQUFDLFNBQWdCLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQzlDLEtBQUssT0FBTyxDQUFDLFVBQVU7WUFDckIsT0FBTyxXQUFXLENBQUMsU0FBZ0IsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDOUMsS0FBSyxPQUFPLENBQUMsZUFBZTtZQUMxQixPQUFPLElBQUksZUFBZSxDQUFDLEtBQWUsQ0FBQyxDQUFDO1FBQzlDLEtBQUssT0FBTyxDQUFDLFFBQVE7WUFDbkIsT0FBTyxJQUFJLFFBQVEsRUFBRSxDQUFDO1FBQ3hCLEtBQUssT0FBTyxDQUFDLE9BQU87WUFDbEIsT0FBTyxJQUFJLFdBQVcsQ0FBQyxJQUFLLEVBQUUsSUFBSyxFQUFFLElBQUssRUFBRSxJQUFLLEVBQUUsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDL0QsS0FBSyxPQUFPLENBQUMsTUFBTTtZQUNqQixPQUFPLE1BQU0sQ0FBQyxLQUFlLENBQUMsQ0FBQztRQUNqQyxLQUFLLE9BQU8sQ0FBQyxHQUFHO1lBQ2QsT0FBTyxJQUFJLEdBQUcsRUFBRSxDQUFDO1FBQ25CLEtBQUssT0FBTyxDQUFDLEdBQUc7WUFDZCxPQUFPLElBQUksR0FBRyxFQUFFLENBQUM7UUFDbkIsS0FBSyxPQUFPLENBQUMsTUFBTTtZQUNqQixPQUFPLEtBQWUsQ0FBQztRQUN6QixLQUFLLE9BQU8sQ0FBQyxPQUFPO1lBQ2xCLElBQUksT0FBOEIsQ0FBQztZQUNuQyxJQUFJLE1BQTZCLENBQUM7WUFDbEMsTUFBTSxPQUFPLEdBQUcsSUFBSSxPQUFPLENBQUMsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEVBQUU7Z0JBQ3ZDLE9BQU8sR0FBRyxHQUFHLENBQUM7Z0JBQ2QsTUFBTSxHQUFHLEdBQUcsQ0FBQztZQUNmLENBQUMsQ0FBQyxDQUFDO1lBQ0gsU0FBUyxDQUFDLEdBQUcsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQztZQUMxQyxPQUFPLE9BQU8sQ0FBQztRQUNqQixLQUFLLE9BQU8sQ0FBQyxVQUFVO1lBQ3JCLE1BQU0sYUFBYSxHQUFJLEtBQWdCLENBQUMsTUFBTSxDQUFDO1lBQy9DLE1BQU0sTUFBTSxHQUFHLGFBQWEsS0FBSyxDQUFDLENBQUM7WUFDbkMsTUFBTSxJQUFJLEdBQUcsYUFBYSxHQUFHLENBQUMsQ0FBQztZQUMvQixNQUFNLGFBQWEsR0FBRyxNQUFNLEdBQUcsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN6RCxPQUFPLElBQUksVUFBVSxDQUFDLGFBQWEsQ0FBQyxDQUFDO1FBQ3ZDLEtBQUssT0FBTyxDQUFDLFVBQVU7WUFDckIsT0FBTyxnQkFBZ0IsQ0FBQyxJQUFLLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDdkMsS0FBSyxPQUFPLENBQUMsS0FBSztZQUNoQix3Q0FBd0M7WUFDeEMsT0FBTyx1QkFBdUIsQ0FBQyxTQUFTLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDbkQsS0FBSyxPQUFPLENBQUMsUUFBUTtZQUNuQixNQUFNLEtBQUssR0FBRyx1QkFBdUIsQ0FBQyxTQUFTLEVBQUUsS0FBSyxDQUFDLENBQUM7WUFDeEQsSUFBSSxhQUFhLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQztnQkFDekIsT0FBTyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDOUIsQ0FBQztpQkFBTSxDQUFDO2dCQUNOLE9BQU8saUJBQWlCLENBQUMsdUNBQXVDLEdBQUcsT0FBTyxLQUFLLENBQUMsQ0FBQztZQUNuRixDQUFDO1FBQ0gsS0FBSyxPQUFPLENBQUMsVUFBVTtZQUNyQixPQUFPLElBQUksVUFBVSxDQUFDLElBQUssQ0FBQyxDQUFDO1FBRS9CO1lBQ0UsT0FBTyxpQkFBaUIsQ0FBQyx5QkFBeUIsR0FBRyxNQUFNLENBQUMsQ0FBQztJQUNqRSxDQUFDO0FBQ0gsQ0FBQyxDQUFDO0FBRUYsU0FBUyx1QkFBdUIsQ0FDOUIsU0FBK0IsRUFDL0IsS0FBcUI7SUFFckIsT0FBTyxLQUFLO1FBQ1YsQ0FBQyxDQUFFLFNBQWlCLENBQUMsU0FBUztZQUM1QixDQUFDLENBQUMsWUFBWSxDQUFFLFNBQWlCLENBQUMsU0FBUyxFQUFFLEtBQWUsQ0FBQztZQUM3RCxDQUFDLENBQUMsU0FBUztRQUNiLENBQUMsQ0FBQyxTQUFTLENBQUMsT0FBTyxFQUFFLGFBQWEsQ0FBQztBQUN2QyxDQUFDO0FBRUQsc0NBQXNDO0FBQ3RDLE1BQU0sVUFBVSxRQUFRLENBQUMsR0FBVztJQUNsQyxNQUFNLE9BQU8sR0FBRyxHQUFHLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ2pDLE1BQU0sWUFBWSxHQUFHLEdBQUcsQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQy9DLE1BQU0sVUFBVSxHQUFHLEdBQUcsQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLFlBQVksQ0FBQyxDQUFDO0lBQ2xELE1BQU0sS0FBSyxHQUFHLE9BQU8sR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLFlBQVksQ0FBQyxDQUFDO0lBRWhGLE1BQU0sTUFBTSxHQUFHLFlBQVksR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxPQUFPLEdBQUcsQ0FBQyxFQUFFLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLE9BQU8sR0FBRyxDQUFDLENBQUMsQ0FBQztJQUNqRyxNQUFNLFVBQVUsR0FDZCxZQUFZLEdBQUcsQ0FBQyxDQUFDLElBQUksVUFBVSxHQUFHLENBQUMsQ0FBQztRQUNsQyxDQUFDLENBQUMsR0FBRzthQUNBLEtBQUssQ0FBQyxZQUFZLEdBQUcsQ0FBQyxFQUFFLFVBQVUsQ0FBQzthQUNuQyxLQUFLLENBQUMsR0FBRyxDQUFDO2FBQ1YsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDO2FBQ3ZCLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztRQUNoQyxDQUFDLENBQUMsSUFBSSxDQUFDO0lBQ1gsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDO0lBQ2xCLElBQUksS0FBSyxJQUFJLEtBQUssS0FBSyxpQkFBaUIsRUFBRSxDQUFDO1FBQ3pDLE1BQU0sV0FBVyxHQUEyQixVQUFrQixDQUFDLGlCQUFpQixDQUFDLENBQUM7UUFDbEYsYUFBYSxDQUFDLFdBQVcsRUFBRSwyQkFBMkIsQ0FBQyxDQUFDO1FBQ3hELE1BQU0sR0FBRyxXQUFXLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ25DLENBQUM7SUFDRCxPQUFPLFNBQVMsQ0FBQyxLQUFLLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsVUFBVSxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztBQUN4RSxDQUFDO0FBRUQsTUFBTSxVQUFVLFVBQVUsQ0FBQyxTQUErQixFQUFFLEdBQXFCO0lBQy9FLE1BQU0sVUFBVSxHQUFHLEdBQUcsQ0FBQyxTQUFTLENBQUM7SUFDakMsR0FBRyxDQUFDLFlBQVksR0FBRyxVQUFVLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLFNBQVMsQ0FBQyxlQUFlLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO0lBQzdGLElBQUksU0FBUyxDQUFDLE9BQU8sRUFBRSxDQUFDO1FBQ3RCLEdBQUcsQ0FBQyxjQUFjLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ3hDLENBQUM7SUFDRCxPQUFPLEdBQUcsQ0FBQztBQUNiLENBQUM7QUFTRCw2QkFBNkI7QUFDN0IsTUFBTSxPQUFPO0lBQ1gsWUFBbUIsRUFBVTtRQUFWLE9BQUUsR0FBRixFQUFFLENBQVE7SUFBRyxDQUFDO0NBQ2xDO0FBOERELE1BQU0sQ0FBQyxNQUFNLDBCQUEwQixHQUFHO0FBQ3hDOzs7OztHQUtHO0FBQ0gsZUFFUSxFQUNSLHFCQUE0QyxFQUM1QyxPQUF3QyxFQUN4QyxPQUFxRCxFQUNyRCxhQUE0QixFQUM1QixNQUFxQixFQUNDLEVBQUU7SUFDeEIsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO1FBQ1osTUFBTSxNQUFNLEdBQWEsRUFBRSxDQUFDO1FBQzVCLE1BQU0sR0FBRztZQUNQLEtBQUssRUFBRSxDQUFDLElBQVksRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7WUFDMUMsUUFBUSxFQUFFLEdBQUcsRUFBRSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDO1NBQ2hCLENBQUM7SUFDcEIsQ0FBQztJQUNELE1BQU0sR0FBRyxHQUFHLElBQUksR0FBRyxFQUFlLENBQUM7SUFDbkMsTUFBTSxTQUFTLEdBQUcsSUFBSSxHQUFHLEVBQWtCLENBQUM7SUFDNUMsTUFBTSxPQUFPLEdBQWEsRUFBRSxDQUFDO0lBQzdCLE1BQU0sS0FBSyxHQUFVLEVBQUUsQ0FBQztJQUN4QixNQUFNLFNBQVMsR0FBRyxDQUFDLEdBQVEsRUFBRSxFQUFFLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUM3QyxNQUFNLE1BQU0sR0FBRyxDQUFDLEdBQVEsRUFBRSxFQUFFLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUM5QyxNQUFNLFNBQVMsR0FBRyxDQUFDLEdBQVEsRUFBRSxFQUFFO1FBQzdCLElBQUksRUFBRSxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDdEIsSUFBSSxPQUFPLEVBQUUsS0FBSyxRQUFRLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUM7WUFDeEMsRUFBRSxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUM7WUFDbEIsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsRUFBRSxDQUFDLENBQUM7WUFDakIsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNsQixDQUFDO1FBQ0QsT0FBTyxFQUFFLENBQUM7SUFDWixDQUFDLENBQUM7SUFDRixNQUFNLFNBQVMsR0FBRyxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLEVBQUUsRUFBRSxDQUFDLEdBQUcsWUFBWSxlQUFlLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLEtBQUssQ0FFdkUsQ0FBQztJQUVwQixPQUFPO1FBQ0wsV0FBVztZQUNULFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNsQixDQUFDO1FBQ0QsV0FBVyxFQUFFLFNBQVM7UUFDdEIsdUJBQXVCLEVBQUUscUJBQXFCO1FBQzlDLFNBQVM7UUFDVCxPQUFPLEVBQUUsS0FBSztRQUNkLE1BQU07UUFDTixXQUFXLEVBQUUsQ0FBQyxHQUFRLEVBQUUsRUFBRTtZQUN4QixNQUFNLEVBQUUsR0FBRyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ3hCLE9BQU8sRUFBRSxLQUFLLFNBQVMsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO1FBQ3hELENBQUM7UUFDRCxTQUFTO1FBQ1QsV0FBVyxFQUFFLENBQUMsR0FBUSxFQUFFLEVBQUU7WUFDeEIsTUFBTSxFQUFFLEdBQUcsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUN4QixJQUFJLENBQUMsRUFBRSxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDO2dCQUNyQixPQUFPLGlCQUFpQixDQUFDLHVCQUF1QixHQUFHLEdBQUcsQ0FBQyxDQUFDO1lBQzFELENBQUM7WUFDRCxPQUFPLEVBQUUsQ0FBQztRQUNaLENBQUM7UUFDRCxTQUFTLEVBQUUsT0FBTztRQUNsQixXQUFXLEVBQUUsQ0FBQyxPQUFzQixFQUFFLFFBQWdCLEVBQUUsRUFBWSxFQUFFLEVBQUU7WUFDdEUsTUFBTSxRQUFRLEdBQUcsT0FBTyxJQUFJLElBQUksQ0FBQztZQUNqQyxJQUFJLFFBQVEsRUFBRSxDQUFDO2dCQUNiLE9BQU8sR0FBSyxFQUFVLENBQUMsVUFBcUIsSUFBSSxFQUFFLENBQUMsUUFBUSxFQUFFLENBQUM7WUFDaEUsQ0FBQztZQUNELElBQUksRUFBRSxHQUFHLFNBQVMsQ0FBQyxHQUFHLENBQUMsT0FBUSxDQUFDLENBQUM7WUFDakMsSUFBSSxFQUFFLEtBQUssU0FBUyxFQUFFLENBQUM7Z0JBQ3JCLEVBQUUsR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDO2dCQUNwQixTQUFTLENBQUMsR0FBRyxDQUFDLE9BQVEsRUFBRSxFQUFFLENBQUMsQ0FBQztnQkFDNUIsSUFBSSxRQUFRLEVBQUUsQ0FBQztvQkFDYixPQUFPLENBQUMsSUFBSSxDQUFDLE9BQVEsQ0FBQyxDQUFDO2dCQUN6QixDQUFDO3FCQUFNLENBQUM7b0JBQ04sSUFBSSxJQUFJLEdBQUcsR0FBRyxDQUFDO29CQUNmLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxRQUFRLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQzt3QkFDbEMsSUFBSSxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7b0JBQ3BDLENBQUM7b0JBQ0QsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksSUFBSSxLQUFLLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQztnQkFDMUMsQ0FBQztZQUNILENBQUM7WUFDRCxPQUFPLEVBQUUsQ0FBQztRQUNaLENBQUM7UUFDRCxRQUFRLEVBQUUsTUFBTTtRQUNoQixtQ0FBbUMsRUFBRSwyQ0FBMkM7UUFDaEYsV0FBVyxFQUFFLElBQUksR0FBRyxFQUFPO1FBQzNCLFlBQVksRUFBRSxJQUFJLEdBQUcsRUFBVTtRQUMvQixXQUFXLEVBQUUsSUFBSSxHQUFHLEVBQW1DO1FBQ3ZELGVBQWUsRUFBRSxJQUFJLEdBQUcsRUFBVTtRQUNsQyxlQUFlLEVBQUUsYUFBYTtRQUM5QixTQUFTLEVBQUUsT0FBTztRQUNsQixTQUFTLEVBQUUsT0FBTztLQUNuQixDQUFDO0lBRUYsS0FBSyxVQUFVLDJDQUEyQztRQUN4RCxnR0FBZ0c7UUFDaEcsTUFBTSxnQkFBZ0IsR0FBYyxFQUFFLENBQUM7UUFDdkMsTUFBTSxRQUFRLEdBQXVCLEVBQUUsQ0FBQztRQUV4Qzs7Ozs7OztXQU9HO1FBQ0gsMEVBQTBFO1FBQzFFLE1BQU0sS0FBSyxHQUFHLENBQUMsR0FBWSxFQUFFLEVBQUU7WUFDN0IsSUFBSSxPQUFPLEdBQUcsS0FBSyxVQUFVLEVBQUUsQ0FBQztnQkFDOUIsSUFBSSxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQztvQkFDZixJQUFJLEdBQUcsQ0FBQyxZQUFZLEVBQUUsQ0FBQzt3QkFDckIsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLEdBQUcsR0FBRyxDQUFDLFlBQVksQ0FBQyxDQUFDO29CQUM3QyxDQUFDO2dCQUNILENBQUM7cUJBQU0sSUFBSSxlQUFlLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQztvQkFDaEMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxHQUFtQixHQUFXLENBQUMsa0JBQWtCLENBQUMsQ0FBQztvQkFDOUQsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUM3QixDQUFDO1lBQ0gsQ0FBQztpQkFBTTtZQUNMLCtCQUErQjtZQUMvQixPQUFPLEdBQUcsS0FBSyxRQUFRO2dCQUN2QixHQUFHLEtBQUssSUFBSTtnQkFDWixHQUFHLFlBQVksR0FBRztnQkFDbEIsR0FBRyxZQUFZLElBQUk7Z0JBQ25CLEdBQUcsWUFBWSxNQUFNO2dCQUNyQixHQUFHLFlBQVksVUFBVTtnQkFDekIsR0FBRyxZQUFZLGVBQWU7Z0JBQzlCLENBQUMsT0FBTyxRQUFRLEtBQUssV0FBVyxJQUFJLEdBQUcsWUFBWSxRQUFRLENBQUM7Z0JBQzVELGtDQUFrQztnQkFDbEMsaUJBQWlCLENBQUMsR0FBYSxDQUFDLEVBQ2hDLENBQUM7Z0JBQ0QsU0FBUztZQUNYLENBQUM7aUJBQU0sSUFBSSxHQUFHLFlBQVksS0FBSyxFQUFFLENBQUM7Z0JBQ2hDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztZQUMvQyxDQUFDO2lCQUFNLElBQUksT0FBTyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUM7Z0JBQ3hCLE1BQU0sTUFBTSxHQUFHLGNBQWMsQ0FBQyxHQUFHLENBQUUsQ0FBQztnQkFDcEMsTUFBTSxPQUFPLEdBQUcsZUFBZSxDQUFDLEdBQUcsQ0FBRSxDQUFDLFNBQVMsQ0FBQztnQkFDaEQsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztnQkFFdkMsS0FBSyxNQUFNLElBQUksSUFBSSxNQUFNLEVBQUUsQ0FBQztvQkFDMUIsTUFBTSxTQUFTLEdBQUksTUFBYyxDQUFDLElBQUksQ0FBQyxDQUFDO29CQUN4QyxJQUFJLGFBQWEsQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQzt3QkFDakMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxhQUFhLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7b0JBQzVELENBQUM7Z0JBQ0gsQ0FBQztZQUNILENBQUM7aUJBQU0sSUFBSSxHQUFHLFlBQVksR0FBRyxFQUFFLENBQUM7Z0JBQzlCLGdCQUFnQixDQUFDLElBQUksQ0FBQyxHQUFHLEdBQUcsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDO1lBQ3pDLENBQUM7aUJBQU0sSUFBSSxHQUFHLFlBQVksR0FBRyxFQUFFLENBQUM7Z0JBQzlCLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUU7b0JBQ25CLGdCQUFnQixDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7Z0JBQzlCLENBQUMsQ0FBQyxDQUFDO1lBQ0wsQ0FBQztpQkFBTSxJQUFJLEdBQUcsWUFBWSxNQUFNLEVBQUUsQ0FBQztnQkFDakM7OzttQkFHRztnQkFDSCxNQUFNLENBQUMsR0FDTCxHQUFHLFlBQVksYUFBYTtvQkFDMUIsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxjQUFjO29CQUNwQixDQUFDLENBQUMsR0FBRyxZQUFZLGNBQWMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxTQUFTLElBQUksaUJBQWlCLENBQUMsR0FBRyxDQUFDLENBQUM7d0JBQzFFLENBQUMsQ0FBQyxpQkFBaUI7d0JBQ25CLENBQUMsQ0FBQyxHQUFHLENBQUMsZ0JBQWdCLENBQUM7Z0JBQzdCLElBQUksQ0FBQyxLQUFLLGlCQUFpQixJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7b0JBQzdDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztnQkFDOUMsQ0FBQztnQkFDRCxJQUFJLEdBQUcsQ0FBQyxTQUFTLEVBQUUsQ0FBQztvQkFDbEIsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLEdBQUcsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFDO2dCQUMxQyxDQUFDO2dCQUNELHdEQUF3RDtnQkFDeEQsSUFBSSxHQUFHLFlBQVksYUFBYSxFQUFFLENBQUM7b0JBQ2pDLElBQUksR0FBRyxDQUFDLG9CQUFvQixFQUFFLENBQUM7d0JBQzdCLGdCQUFnQixDQUFDLElBQUksQ0FBQyxHQUFHLEdBQUcsQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO29CQUNyRCxDQUFDO2dCQUNILENBQUM7cUJBQU0sSUFBSSxHQUFHLFlBQVksY0FBYyxFQUFFLENBQUM7b0JBQ3pDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsWUFBWSxDQUFDLENBQUM7Z0JBQzFDLENBQUM7WUFDSCxDQUFDO2lCQUFNLElBQUksR0FBRyxZQUFZLElBQUksRUFBRSxDQUFDO2dCQUMvQixnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxHQUFHLENBQUMsS0FBSyxFQUFFLEdBQUcsQ0FBQyxPQUFPLEVBQUUsR0FBRyxDQUFDLG9CQUFvQixDQUFDLENBQUM7WUFDcEYsQ0FBQztpQkFBTSxJQUFJLFNBQVMsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDO2dCQUMxQixtQkFBbUI7Z0JBQ25CLFlBQVk7WUFDZCxDQUFDO2lCQUFNLElBQUksU0FBUyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUM7Z0JBQzFCLGdCQUFnQixDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLEdBQUcsQ0FBQyxLQUFLLEVBQUUsR0FBRyxDQUFDLFVBQVUsRUFBRSxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDM0UsQ0FBQztpQkFBTSxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQztnQkFDOUIsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUM7WUFDaEMsQ0FBQztpQkFBTSxJQUFJLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDO2dCQUN0QixHQUFHLENBQUMsWUFBWSxJQUFJLEdBQUcsQ0FBQyxZQUFZLENBQUMsTUFBTSxJQUFJLGdCQUFnQixDQUFDLElBQUksQ0FBQyxHQUFHLEdBQUcsQ0FBQyxZQUFZLENBQUMsQ0FBQztZQUM1RixDQUFDO2lCQUFNLElBQUksWUFBWSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUM7Z0JBQzdCLGdCQUFnQixDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLEVBQUUsR0FBRyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUM7WUFDNUQsQ0FBQztpQkFBTSxJQUFJLFNBQVMsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDO2dCQUMxQixHQUFHLENBQUMsSUFBSSxDQUNOLENBQUMsS0FBSyxFQUFFLEVBQUU7b0JBQ1IsY0FBYyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQztvQkFDdkMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO2dCQUMvQixDQUFDLEVBQ0QsQ0FBQyxLQUFLLEVBQUUsRUFBRTtvQkFDUixjQUFjLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDO29CQUN4QyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7Z0JBQy9CLENBQUMsQ0FDRixDQUFDO2dCQUNGLFFBQVEsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDckIsQ0FBQztpQkFBTSxJQUFJLEdBQUcsWUFBWSxVQUFVLEVBQUUsQ0FBQztnQkFDckMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUNsQyxDQUFDO2lCQUFNLElBQUksZUFBZSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUM7Z0JBQ2hDLE1BQU0sQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxHQUFHLEVBQUUsS0FBSyxDQUFDLEVBQUUsRUFBRTtvQkFDM0MsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxLQUFLLENBQUMsQ0FBQztnQkFDcEMsQ0FBQyxDQUFDLENBQUM7WUFDTCxDQUFDO2lCQUFNLENBQUM7Z0JBQ04sT0FBTyxpQkFBaUIsQ0FBQyxnQkFBZ0IsR0FBRyxHQUFHLENBQUMsQ0FBQztZQUNuRCxDQUFDO1FBQ0gsQ0FBQyxDQUFDO1FBRUYsd0NBQXdDO1FBQ3hDLEtBQUssTUFBTSxJQUFJLElBQUksS0FBSyxFQUFFLENBQUM7WUFDekIsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ2QsQ0FBQztRQUVELEdBQUcsQ0FBQztZQUNGLE9BQU8sZ0JBQWdCLENBQUMsTUFBTSxFQUFFLENBQUM7Z0JBQy9CLE1BQU0sR0FBRyxHQUFHLGdCQUFnQixDQUFDLEdBQUcsRUFBRSxDQUFDO2dCQUNuQyxJQUFJLENBQUMsQ0FBQyxjQUFjLENBQUMsR0FBRyxDQUFDLElBQUksYUFBYSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQztvQkFDakQsU0FBUztnQkFDWCxDQUFDO2dCQUNELE1BQU0sRUFBRSxHQUFHLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFDMUIsSUFBSSxFQUFFLEtBQUssU0FBUyxFQUFFLENBQUM7b0JBQ3JCLGtEQUFrRDtvQkFDbEQsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO29CQUNaLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFDYixDQUFDO3FCQUFNLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUM7b0JBQ3JCLHVEQUF1RDtvQkFDdkQsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDO29CQUNmLHVFQUF1RTtnQkFDekUsQ0FBQztZQUNILENBQUM7WUFDRCwwRUFBMEU7WUFDMUUsTUFBTSxPQUFPLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQ25DLFFBQVEsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO1FBQ3RCLENBQUMsUUFBUSxnQkFBZ0IsQ0FBQyxNQUFNLEVBQUU7SUFDcEMsQ0FBQztBQUNILENBQUMsQ0FBQztBQUVGLE1BQU0sY0FBYyxHQUFHLElBQUksT0FBTyxFQUFvQyxDQUFDO0FBRXZFOzs7Ozs7OztHQVFHO0FBQ0gsU0FBUyxTQUFTLENBQUMsb0JBQTBDO0lBQzNELE1BQU0sRUFBRSxRQUFRLEVBQUUsV0FBVyxFQUFFLFNBQVMsRUFBRSxlQUFlLEVBQUUsR0FBRyxvQkFBb0IsQ0FBQztJQUNuRixJQUFJLEtBQUssR0FBRyxDQUFDLENBQUMsQ0FBQztJQUNmLHFDQUFxQztJQUNyQyxJQUFJLFNBQVMsR0FBRyxLQUFLLENBQUM7SUFFdEIsTUFBTSxNQUFNLEdBQUcsQ0FBQyxJQUFZLEVBQUUsS0FBOEIsRUFBRSxFQUFFO1FBQzlELElBQUksU0FBUyxFQUFFLENBQUM7WUFDZCxRQUFRLENBQUMsS0FBSyxDQUFDLEdBQUcsSUFBSSxHQUFHLENBQUMsQ0FBQztRQUM3QixDQUFDO2FBQU0sQ0FBQztZQUNOLFNBQVMsR0FBRyxJQUFJLENBQUM7UUFDbkIsQ0FBQztRQUNELElBQUksT0FBTyxLQUFLLEtBQUssUUFBUSxFQUFFLENBQUM7WUFDOUIsUUFBUSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQztRQUNuQyxDQUFDO2FBQU0sSUFBSSxPQUFPLEtBQUssS0FBSyxRQUFRLEVBQUUsQ0FBQztZQUNyQyxNQUFNLENBQUMsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ2hDLElBQUksZUFBZSxHQUFXLENBQUMsQ0FBQyxDQUFDO1lBQ2pDLElBQUksT0FBTyxHQUFHLENBQUMsQ0FBQztZQUNoQixPQUFPLENBQUMsZUFBZSxHQUFHLENBQUMsQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLE9BQU8sQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQztnQkFDM0QsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLE9BQU8sRUFBRSxlQUFlLENBQUMsQ0FBQyxDQUFDO2dCQUNsRCxRQUFRLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDO2dCQUN2QixPQUFPLEdBQUcsZUFBZSxHQUFHLENBQUMsQ0FBQztZQUNoQyxDQUFDO1lBQ0QsUUFBUSxDQUFDLEtBQUssQ0FBQyxPQUFPLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztRQUN2RCxDQUFDO2FBQU0sQ0FBQztZQUNOLEtBQUssRUFBRSxDQUFDO1lBQ1IsUUFBUSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUNwQixJQUFJLFNBQVMsR0FBRyxLQUFLLENBQUM7WUFDdEIsc0NBQXNDO1lBQ3RDLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxLQUFLLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUM7Z0JBQ3RDLElBQUksU0FBUyxFQUFFLENBQUM7b0JBQ2QsUUFBUSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFDdEIsQ0FBQztxQkFBTSxDQUFDO29CQUNOLFNBQVMsR0FBRyxJQUFJLENBQUM7Z0JBQ25CLENBQUM7Z0JBQ0QsVUFBVSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUMxQixDQUFDO1lBQ0QsUUFBUSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUNwQixLQUFLLEVBQUUsQ0FBQztRQUNWLENBQUM7SUFDSCxDQUFDLENBQUM7SUFFRixNQUFNLFVBQVUsR0FBRyxDQUFDLEtBQWMsRUFBRSxHQUFXLEVBQUUsRUFBRTtRQUNqRCxJQUFJLGlCQUFpQixDQUFDLEtBQWUsQ0FBQyxFQUFFLENBQUM7WUFDdkMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxRQUFRLEVBQUUsU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ2hELENBQUM7YUFBTSxJQUFJLE9BQU8sS0FBSyxLQUFLLFFBQVEsRUFBRSxDQUFDO1lBQ3JDLE1BQU0sQ0FBQyxPQUFPLENBQUMsTUFBTSxFQUFFLEtBQUssQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDO1FBQzNDLENBQUM7YUFBTSxJQUFJLE9BQU8sS0FBSyxLQUFLLFNBQVMsRUFBRSxDQUFDO1lBQ3RDLE1BQU0sQ0FBQyxPQUFPLENBQUMsUUFBUSxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3JFLENBQUM7YUFBTSxJQUFJLE9BQU8sS0FBSyxLQUFLLFVBQVUsRUFBRSxDQUFDO1lBQ3ZDLElBQUksS0FBSyxLQUFLLElBQUksRUFBRSxDQUFDO2dCQUNuQixNQUFNLENBQUMsT0FBTyxDQUFDLFFBQVEsRUFBRSxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDM0MsQ0FBQztpQkFBTSxJQUFJLEtBQUssS0FBSyxRQUFRLEVBQUUsQ0FBQztnQkFDOUIsTUFBTSxDQUFDLE9BQU8sQ0FBQyxRQUFRLEVBQUUsU0FBUyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQy9DLENBQUM7aUJBQU0sSUFBSSxLQUFLLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQztnQkFDeEIsOEJBQThCO2dCQUM5QixNQUFNLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxXQUFXLENBQUMsb0JBQW9CLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQztZQUNoRSxDQUFDO2lCQUFNLElBQUksZUFBZSxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUM7Z0JBQ2xDLE1BQU0sQ0FBQyxHQUFHLENBQUMsR0FBbUIsS0FBYSxDQUFDLGtCQUFrQixDQUFDLENBQUM7Z0JBQ2hFLG9CQUFvQixDQUFDLGVBQWUsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO2dCQUN2RCxNQUFNLENBQUMsT0FBTyxDQUFDLFNBQVMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7WUFDbkMsQ0FBQztpQkFBTSxDQUFDO2dCQUNOLDBFQUEwRTtnQkFDMUUsT0FBTyxDQUFDLEtBQUssQ0FBQyxnREFBZ0QsR0FBRyxLQUFLLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQztnQkFDbkYsTUFBTSxDQUFDLE9BQU8sQ0FBQyxRQUFRLEVBQUUsU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBQ2hELENBQUM7UUFDSCxDQUFDO2FBQU0sSUFBSSxPQUFPLEtBQUssS0FBSyxRQUFRLEVBQUUsQ0FBQztZQUNyQyxJQUFJLE1BQU0sQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQztnQkFDeEIsTUFBTSxDQUFDLE9BQU8sQ0FBQyxRQUFRLEVBQUUsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQzFDLENBQUM7aUJBQU0sSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQztnQkFDbkMsTUFBTSxDQUNKLE9BQU8sQ0FBQyxRQUFRLEVBQ2hCLEtBQUssR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLGdCQUFnQixDQUNwRSxDQUFDO1lBQ0osQ0FBQztpQkFBTSxJQUFJLEtBQUssS0FBSyxNQUFNLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztnQkFDN0MsTUFBTSxDQUFDLE9BQU8sQ0FBQyxRQUFRLEVBQUUsU0FBUyxDQUFDLFVBQVUsQ0FBQyxDQUFDO1lBQ2pELENBQUM7aUJBQU0sSUFBSSxLQUFLLEtBQUssTUFBTSxDQUFDLGdCQUFnQixHQUFHLENBQUMsRUFBRSxDQUFDO2dCQUNqRCxNQUFNLENBQUMsT0FBTyxDQUFDLFFBQVEsRUFBRSxTQUFTLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztZQUN2RCxDQUFDO2lCQUFNLElBQUksS0FBSyxLQUFLLE1BQU0sQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDO2dCQUM3QyxNQUFNLENBQUMsT0FBTyxDQUFDLFFBQVEsRUFBRSxTQUFTLENBQUMsVUFBVSxDQUFDLENBQUM7WUFDakQsQ0FBQztpQkFBTSxDQUFDO2dCQUNOLE1BQU0sQ0FBQyxPQUFPLENBQUMsTUFBTSxFQUFFLEtBQUssQ0FBQyxDQUFDO1lBQ2hDLENBQUM7UUFDSCxDQUFDO2FBQU0sSUFBSSxPQUFPLEtBQUssS0FBSyxRQUFRLEVBQUUsQ0FBQztZQUNyQyxJQUFJLEtBQUssS0FBSyxXQUFXLEVBQUUsQ0FBQztnQkFDMUIsTUFBTSxDQUFDLE9BQU8sQ0FBQyxRQUFRLEVBQUUsU0FBUyxDQUFDLFdBQVcsQ0FBQyxDQUFDO1lBQ2xELENBQUM7aUJBQU0sSUFBSSxLQUFLLEtBQUssU0FBUyxFQUFFLENBQUM7Z0JBQy9CLE1BQU0sQ0FBQyxPQUFPLENBQUMsUUFBUSxFQUFFLFNBQVMsQ0FBQyxTQUFTLENBQUMsQ0FBQztZQUNoRCxDQUFDO2lCQUFNLENBQUM7Z0JBQ04sS0FBSyxFQUFFLENBQUM7Z0JBQ1IsSUFBSSxLQUFLLEtBQUssSUFBSSxFQUFFLENBQUM7b0JBQ25CLE1BQU0sQ0FBQyxPQUFPLENBQUMsUUFBUSxFQUFFLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFDM0MsQ0FBQztxQkFBTSxDQUFDO29CQUNOLGdCQUFnQixDQUFDLEtBQUssRUFBRSxHQUFHLENBQUMsQ0FBQztnQkFDL0IsQ0FBQztnQkFDRCxLQUFLLEVBQUUsQ0FBQztZQUNWLENBQUM7UUFDSCxDQUFDO2FBQU0sSUFBSSxPQUFPLEtBQUssS0FBSyxRQUFRLEVBQUUsQ0FBQztZQUNyQyxJQUFJLEtBQUssQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFLENBQUM7Z0JBQ3ZCLE1BQU0sQ0FBQyxPQUFPLENBQUMsUUFBUSxFQUFFLFNBQVMsQ0FBQyxXQUFXLENBQUMsQ0FBQztZQUNsRCxDQUFDO2lCQUFNLENBQUM7Z0JBQ04sZ0hBQWdIO2dCQUNoSCxNQUFNLElBQUksR0FBRyxLQUFLLEdBQUcsQ0FBQyxJQUFJLG9CQUFvQixDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQztnQkFDaEUsSUFBSSxPQUFPLElBQUksS0FBSyxRQUFRLElBQUksSUFBSSxJQUFJLENBQUMsRUFBRSxDQUFDO29CQUMxQyxNQUFNLENBQUMsT0FBTyxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsQ0FBQztnQkFDaEMsQ0FBQztxQkFBTSxDQUFDO29CQUNOLE1BQU0sQ0FBQyxPQUFPLENBQUMsTUFBTSxFQUFFLEtBQUssQ0FBQyxDQUFDO2dCQUNoQyxDQUFDO1lBQ0gsQ0FBQztRQUNILENBQUM7YUFBTSxJQUFJLE9BQU8sS0FBSyxLQUFLLFdBQVcsRUFBRSxDQUFDO1lBQ3hDLE1BQU0sQ0FBQyxPQUFPLENBQUMsUUFBUSxFQUFFLFNBQVMsQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUNoRCxDQUFDO2FBQU0sSUFBSSxLQUFLLEtBQUssaUJBQWlCLEVBQUUsQ0FBQztZQUN2QyxNQUFNLENBQUMsT0FBTyxDQUFDLFFBQVEsRUFBRSxTQUFTLENBQUMsaUJBQWlCLENBQUMsQ0FBQztRQUN4RCxDQUFDO2FBQU0sQ0FBQztZQUNOLGlCQUFpQixDQUFDLGdCQUFnQixHQUFHLE9BQU8sS0FBSyxDQUFDLENBQUM7UUFDckQsQ0FBQztJQUNILENBQUMsQ0FBQztJQUVGLE1BQU0sZ0JBQWdCLEdBQUcsQ0FBQyxLQUFTLEVBQUUsR0FBVyxFQUFFLEVBQUU7UUFDbEQ7Ozs7O1dBS0c7UUFDSCxNQUFNLFlBQVksR0FBRyxLQUFLLEtBQUssQ0FBQyxDQUFDO1FBQ2pDLDREQUE0RDtRQUM1RCx1RUFBdUU7UUFDdkUsK0VBQStFO1FBQy9FLGlGQUFpRjtRQUNqRixxREFBcUQ7UUFDckQsSUFBSSxLQUFLLEdBQUcsQ0FBQyxFQUFFLENBQUM7WUFDZCxNQUFNLElBQUksR0FBRyxvQkFBb0IsQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDbkQsSUFBSSxPQUFPLElBQUksS0FBSyxRQUFRLElBQUksSUFBSSxJQUFJLENBQUMsRUFBRSxDQUFDO2dCQUMxQywwRUFBMEU7Z0JBQzFFLGdDQUFnQztnQkFDaEMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLENBQUM7Z0JBQzlCLE9BQU87WUFDVCxDQUFDO1FBQ0gsQ0FBQztRQUNELElBQUksWUFBWSxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUM7WUFDeEIsTUFBTSxRQUFRLEdBQUcsS0FBSyxDQUFDLFVBQVUsQ0FBQyxDQUFDO1lBQ25DLE1BQU0sVUFBVSxHQUFHLEtBQUssQ0FBQyxZQUFZLENBQUMsQ0FBQztZQUN2QyxNQUFNLENBQUMsT0FBTyxDQUFDLFVBQVUsRUFBRSxDQUFDLFFBQVEsRUFBRSxVQUFVLENBQUMsQ0FBQyxDQUFDO1FBQ3JELENBQUM7YUFBTSxJQUFJLEtBQUssWUFBWSxVQUFVLEVBQUUsQ0FBQztZQUN2QyxNQUFNLENBQUMsT0FBTyxDQUFDLFVBQVUsRUFBRSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQzNDLENBQUM7YUFBTSxJQUFJLE9BQU8sQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDO1lBQzFCLElBQUksVUFBVSxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUM7Z0JBQ3RCLHFDQUFxQztnQkFDckMsb0JBQW9CLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQztnQkFDNUMsTUFBTSxHQUFHLEdBQUcsY0FBYyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUM7Z0JBQzVDLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQztvQkFDVCxPQUFPLGlCQUFpQixDQUFDLG9CQUFvQixDQUFDLENBQUM7Z0JBQ2pELENBQUM7Z0JBQ0QsTUFBTSxDQUFDLE9BQU8sQ0FBQyxRQUFRLEVBQUUsQ0FBQyxHQUFHLEdBQUcsRUFBRSxlQUFlLENBQUMsS0FBSyxDQUFFLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQztZQUN4RSxDQUFDO2lCQUFNLENBQUM7Z0JBQ04sTUFBTSxZQUFZLEdBQUcsZUFBZSxDQUFDLEtBQUssQ0FBRSxDQUFDO2dCQUM3QyxNQUFNLFdBQVcsR0FBRyxjQUFjLENBQUMsS0FBSyxDQUFDLENBQUM7Z0JBQzFDLE1BQU0sS0FBSyxHQUFHLFlBQVksQ0FBQyxPQUFPLENBQUM7Z0JBQ25DLE1BQU0sT0FBTyxHQUFHLFlBQVksQ0FBQyxTQUFTLENBQUM7Z0JBQ3ZDLE1BQU0sV0FBVyxHQUFHLE9BQU8sRUFBRSxDQUFDLGdCQUFnQixDQUFDLElBQUksSUFBSSxDQUFDO2dCQUV4RCxNQUFNLFdBQVcsR0FBRyxFQUFFLENBQUM7Z0JBQ3ZCLEtBQUssTUFBTSxJQUFJLElBQUksV0FBVyxFQUFFLENBQUM7b0JBQy9CLE1BQU0sU0FBUyxHQUFJLFdBQW1CLENBQUMsSUFBSSxDQUFDLENBQUM7b0JBQzdDLElBQUksZUFBZSxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDO3dCQUNuQyxNQUFNLFVBQVUsR0FBRyxlQUFlLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFDO3dCQUNsRCxXQUFXLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO3dCQUM3QixvQkFBb0IsQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLENBQUM7b0JBQzdDLENBQUM7Z0JBQ0gsQ0FBQztnQkFFRCxNQUFNLEdBQUcsR0FBRyxDQUFDLFdBQVcsRUFBRSxLQUFLLEVBQUUsT0FBTyxFQUFFLFdBQVcsRUFBRSxHQUFHLFdBQVcsQ0FBQyxDQUFDO2dCQUN2RSxPQUFPLEdBQUcsQ0FBQyxHQUFHLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxJQUFJLElBQUksRUFBRSxDQUFDO29CQUNuQyxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUM7Z0JBQ1osQ0FBQztnQkFDRCxNQUFNLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBRSxHQUFHLENBQUMsQ0FBQztZQUMvRSxDQUFDO1FBQ0gsQ0FBQzthQUFNLElBQUksZUFBZSxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUM7WUFDbEMsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUM7Z0JBQ3pCLE1BQU0sQ0FBQyxPQUFPLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxDQUFDO1lBQy9CLENBQUM7aUJBQU0sQ0FBQztnQkFDTixNQUFNLEdBQUcsR0FBVSxFQUFFLENBQUM7Z0JBQ3RCLEtBQUssTUFBTSxHQUFHLElBQUksS0FBSyxFQUFFLENBQUM7b0JBQ3hCLElBQ0UsTUFBTSxDQUFDLFNBQVMsQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxHQUFHLENBQUM7d0JBQ2hELENBQUMsaUJBQWlCLENBQUUsS0FBYSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQ3ZDLENBQUM7d0JBQ0QsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUcsS0FBYSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7b0JBQ3JDLENBQUM7Z0JBQ0gsQ0FBQztnQkFDRCxrREFBa0Q7Z0JBQ2xELE1BQU0sQ0FBQyxPQUFPLENBQUMsTUFBTSxFQUFFLEdBQUcsQ0FBQyxDQUFDO1lBQzlCLENBQUM7UUFDSCxDQUFDO2FBQU0sSUFBSSxLQUFLLFlBQVksT0FBTyxFQUFFLENBQUM7WUFDcEMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxRQUFRLEVBQUUsS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3JDLENBQUM7YUFBTSxJQUFJLEtBQUssWUFBWSxNQUFNLEVBQUUsQ0FBQztZQUNuQzs7O2VBR0c7WUFDSCxJQUFJLENBQUMsR0FDSCxLQUFLLFlBQVksY0FBYztnQkFDL0IsQ0FBQyxLQUFLLENBQUMsU0FBUyxJQUFJLGlCQUFpQixDQUFDLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO2dCQUM1RCxDQUFDLENBQUMsaUJBQWlCO2dCQUNuQixDQUFDLENBQUMsS0FBSyxDQUFDLGdCQUFnQixDQUFDO1lBQzdCLElBQUksV0FBVyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7Z0JBQ25CLENBQUMsR0FBRyxJQUFJLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUM7WUFDeEIsQ0FBQztZQUNELElBQUksS0FBSyxZQUFZLGFBQWEsRUFBRSxDQUFDO2dCQUNuQyxNQUFNLENBQUMsT0FBTyxDQUFDLGFBQWEsRUFBRTtvQkFDNUIsR0FBRyxtQkFBbUIsQ0FBQyxvQkFBb0IsRUFBRSxLQUFLLENBQUM7b0JBQ25ELEtBQUssQ0FBQyxvQkFBb0I7b0JBQzFCLENBQUM7b0JBQ0QsR0FBRyxDQUFDLEtBQUssQ0FBQyxTQUFTLElBQUksRUFBRSxDQUFDO2lCQUMzQixDQUFDLENBQUM7WUFDTCxDQUFDO2lCQUFNLElBQUksS0FBSyxZQUFZLGNBQWMsRUFBRSxDQUFDO2dCQUMzQyxNQUFNLENBQUMsT0FBTyxDQUFDLGNBQWMsRUFBRTtvQkFDN0IsS0FBSyxDQUFDLFlBQVk7b0JBQ2xCLENBQUM7b0JBQ0QsQ0FBQyxLQUFLLGlCQUFpQjtvQkFDdkIsK0NBQStDO29CQUMvQyxHQUFHLENBQUMsS0FBSyxDQUFDLFNBQVMsSUFBSSxFQUFFLENBQUM7aUJBQzNCLENBQUMsQ0FBQztZQUNMLENBQUM7aUJBQU0sQ0FBQztnQkFDTixNQUFNLENBQUMsT0FBTyxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsS0FBSyxDQUFDLFNBQVMsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDMUQsQ0FBQztRQUNILENBQUM7YUFBTSxJQUFJLEtBQUssWUFBWSxHQUFHLEVBQUUsQ0FBQztZQUNoQyxNQUFNLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDbEMsQ0FBQzthQUFNLElBQUksS0FBSyxZQUFZLElBQUksRUFBRSxDQUFDO1lBQ2pDLE1BQU0sQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLE1BQU0sQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUM7UUFDN0UsQ0FBQzthQUFNLElBQUksS0FBSyxZQUFZLE1BQU0sRUFBRSxDQUFDO1lBQ25DLE1BQU0sQ0FBQyxPQUFPLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDO1FBQzFDLENBQUM7YUFBTSxJQUFJLEtBQUssWUFBWSxLQUFLLEVBQUUsQ0FBQztZQUNsQyxNQUFNLEdBQUcsR0FBVSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUNuQyxNQUFNLFVBQVUsR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDO1lBQ2hELElBQUksVUFBVSxDQUFDLE1BQU0sRUFBRSxDQUFDO2dCQUN0QixHQUFHLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1lBQ3ZCLENBQUM7WUFDRCx3REFBd0Q7WUFDeEQsSUFBSSxLQUFLLEVBQUUsQ0FBQztnQkFDVixHQUFHLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUN4QixDQUFDO1lBQ0QsTUFBTSxDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQUUsR0FBRyxDQUFDLENBQUM7UUFDN0IsQ0FBQzthQUFNLElBQUksV0FBVyxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUM7WUFDOUIsSUFBSSxZQUFZLEVBQUUsQ0FBQztnQkFDakIsdUNBQXVDO2dCQUN2QyxTQUFTLENBQUMsS0FBSyxFQUFFLFVBQVUsRUFBRSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztnQkFDMUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQUUsS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBQ2xDLENBQUM7aUJBQU0sQ0FBQztnQkFDTiw4QkFBOEI7Z0JBQzlCLG9CQUFvQixDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQztnQkFDdEMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxPQUFPLEVBQUUsb0JBQW9CLENBQUMsT0FBTyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQztZQUNuRSxDQUFDO1FBQ0gsQ0FBQzthQUFNLElBQUksT0FBTyxRQUFRLEtBQUssV0FBVyxJQUFJLEtBQUssWUFBWSxRQUFRLEVBQUUsQ0FBQztZQUN4RSx1RUFBdUU7WUFDdkUsTUFBTSxLQUFLLEdBQWEsRUFBRSxDQUFDO1lBQzNCLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxLQUFLLEVBQUUsR0FBRyxFQUFFLEVBQUU7Z0JBQzNCLElBQUksT0FBTyxLQUFLLEtBQUssUUFBUSxFQUFFLENBQUM7b0JBQzlCLEtBQUssQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxDQUFDO2dCQUN6QixDQUFDO3FCQUFNLENBQUM7b0JBQ04sS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUM5QixDQUFDO1lBQ0gsQ0FBQyxDQUFDLENBQUM7WUFDSCxNQUFNLENBQUMsT0FBTyxDQUFDLFFBQVEsRUFBRSxLQUFLLENBQUMsQ0FBQztRQUNsQyxDQUFDO2FBQU0sSUFBSSxLQUFLLFlBQVksZUFBZSxFQUFFLENBQUM7WUFDNUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxlQUFlLEVBQUUsS0FBSyxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUM7UUFDcEQsQ0FBQzthQUFNLElBQUksS0FBSyxZQUFZLEdBQUcsRUFBRSxDQUFDO1lBQ2hDLE1BQU0sQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxLQUFLLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQzNDLENBQUM7YUFBTSxJQUFJLEtBQUssWUFBWSxHQUFHLEVBQUUsQ0FBQztZQUNoQyxNQUFNLFFBQVEsR0FBRyxFQUFFLENBQUM7WUFDcEIsS0FBSyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxJQUFJLEtBQUssQ0FBQyxPQUFPLEVBQUUsRUFBRSxDQUFDO2dCQUNyQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUN0QixDQUFDO1lBQ0QsTUFBTSxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsUUFBUSxDQUFDLENBQUM7UUFDaEMsQ0FBQzthQUFNLElBQUksU0FBUyxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUM7WUFDNUIsTUFBTSxDQUFDLE9BQU8sQ0FBQyxPQUFPLEVBQUU7Z0JBQ3RCLEtBQUssQ0FBQyxJQUFJO2dCQUNWLEtBQUssQ0FBQyxRQUFRO2dCQUNkLEtBQUssQ0FBQyxVQUFVO2dCQUNoQixLQUFLLENBQUMsUUFBUTtnQkFDZCxLQUFLLENBQUMsS0FBSztnQkFDWCxLQUFLLENBQUMsR0FBRzthQUNWLENBQUMsQ0FBQztRQUNMLENBQUM7YUFBTSxJQUFJLEtBQUssWUFBWSxJQUFJLEVBQUUsQ0FBQztZQUNqQyxNQUFNLEdBQUcsR0FBYztnQkFDckIsS0FBSyxDQUFDLEtBQUs7Z0JBQ1gsS0FBSyxDQUFDLE9BQU87Z0JBQ2IsS0FBSyxDQUFDLE9BQU87Z0JBQ2IsS0FBSyxDQUFDLElBQUk7Z0JBQ1YsS0FBSyxDQUFDLG9CQUFvQjtnQkFDMUIsS0FBSyxDQUFDLE9BQU87YUFDZCxDQUFDO1lBQ0YsT0FBTyxHQUFHLENBQUMsR0FBRyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQztnQkFDbkMsR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDO1lBQ1osQ0FBQztZQUNELE1BQU0sQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBQzVCLENBQUM7YUFBTSxJQUFJLFNBQVMsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDO1lBQzVCLE1BQU0sR0FBRyxHQUFHLGNBQWMsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDdEMsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDO2dCQUNULE9BQU8saUJBQWlCLENBQUMsbUJBQW1CLENBQUMsQ0FBQztZQUNoRCxDQUFDO1lBQ0QsTUFBTSxDQUFDLE9BQU8sQ0FBQyxPQUFPLEVBQUUsR0FBRyxDQUFDLENBQUM7UUFDL0IsQ0FBQzthQUFNLElBQUksS0FBSyxZQUFZLFVBQVUsRUFBRSxDQUFDO1lBQ3ZDLElBQUksR0FBRyxHQUFHLEVBQUUsQ0FBQztZQUNiLEtBQUssTUFBTSxDQUFDLElBQUksS0FBSyxFQUFFLENBQUM7Z0JBQ3RCLEdBQUcsSUFBSSxNQUFNLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2hDLENBQUM7WUFDRCxNQUFNLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBRSxFQUFFLENBQUMsQ0FBQztZQUN6QyxNQUFNLENBQUMsT0FBTyxDQUFDLFVBQVUsRUFBRSxHQUFHLENBQUMsQ0FBQztRQUNsQyxDQUFDO2FBQU0sQ0FBQztZQUNOLE9BQU8saUJBQWlCLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDeEMsQ0FBQztJQUNILENBQUMsQ0FBQztJQUVGLFVBQVUsQ0FBQyxvQkFBb0IsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUMvQyxDQUFDO0FBRUQsU0FBUyxtQkFBbUIsQ0FDMUIsb0JBQTBDLEVBQzFDLEtBQXlCO0lBRXpCLHdEQUF3RDtJQUN4RCxJQUFJLEtBQUssQ0FBQyxTQUFTLElBQUksS0FBSyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLEVBQUUsQ0FBQztRQUNsRCxLQUFLLENBQUMsU0FBUyxHQUFHLElBQUksS0FBSyxDQUFDLFNBQVMsR0FBRyxDQUFDO0lBQzNDLENBQUM7SUFDRCxNQUFNLFFBQVEsR0FBRyxvQkFBb0IsQ0FBQyxXQUFXLENBQy9DLEtBQUssQ0FBQyxTQUFTLEVBQ2YsS0FBSyxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQ25CLEtBQUssQ0FBQyxNQUFNLENBQ2IsQ0FBQztJQUNGLHVCQUF1QjtJQUN2QixPQUFPLENBQUMsUUFBUSxFQUFFLEtBQUssQ0FBQyxNQUFNLENBQVUsQ0FBQztBQUMzQyxDQUFDO0FBRUQsTUFBTSxVQUFVLFdBQVcsQ0FDekIsb0JBQTBDLEVBQzFDLEtBQW9DO0lBRXBDLElBQUksTUFBTSxHQUFHLEtBQUssQ0FBQyxRQUFRLENBQUM7SUFDNUIsSUFBSSxLQUFLLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQztJQUUxQixNQUFNLFNBQVMsR0FBRyxLQUFLLENBQUMsV0FBVyxJQUFJLE1BQU0sQ0FBQztJQUM5QyxNQUFNLFFBQVEsR0FBRyxXQUFXLEVBQUUsQ0FBQztJQUMvQixJQUFJLFFBQVEsRUFBRSxDQUFDO1FBQ2IsTUFBTSxNQUFNLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxTQUFTLEVBQUUsS0FBSyxFQUFFLEtBQUssQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDMUUsSUFBSSxNQUFNLEVBQUUsQ0FBQztZQUNYLEtBQUssR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDbEIsSUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLEVBQUUsQ0FBQztnQkFDdkIsTUFBTSxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNyQixDQUFDO1FBQ0gsQ0FBQztJQUNILENBQUM7SUFFRCxNQUFNLE1BQU0sR0FBRyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDaEMsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO1FBQ1osb0RBQW9EO1FBQ3BELElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztZQUNYLEtBQUssR0FBRyxvQkFBb0IsQ0FBQyx1QkFBdUIsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDckUsQ0FBQztRQUNELG1EQUFtRDtRQUNuRCxJQUFJLEtBQUssRUFBRSxDQUFDO1lBQ1YsSUFBSSxXQUFXLEdBQTJCLFVBQWtCLENBQUMsaUJBQWlCLENBQUMsQ0FBQztZQUNoRixJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7Z0JBQ2pCLFdBQVcsR0FBSSxVQUFrQixDQUFDLGlCQUFpQixDQUFDLEdBQUcsSUFBSSxHQUFHLEVBQUUsQ0FBQztZQUNuRSxDQUFDO1lBQ0QsV0FBVyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsUUFBUSxFQUFHLEtBQWEsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO1lBQ2xFLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztnQkFDWCxLQUFLLEdBQUcsaUJBQWlCLENBQUM7WUFDNUIsQ0FBQztRQUNILENBQUM7UUFDRCxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7WUFDWCxpQkFBaUIsQ0FBQyxxQkFBcUIsR0FBRyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDNUQsQ0FBQztRQUNELElBQUksS0FBSyxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDO1lBQzNCLEtBQUssR0FBRyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3pCLENBQUM7SUFDSCxDQUFDO1NBQU0sQ0FBQztRQUNOLE1BQU0sRUFBRSxHQUFHLEtBQUssQ0FBQyxRQUFvQixDQUFDO1FBQ3RDLEtBQUssR0FBRyxFQUFFLENBQUM7UUFDWCxpREFBaUQ7UUFDakQsTUFBTSxHQUFHLE1BQU0sQ0FBQyxvQkFBb0IsQ0FBQyxXQUFXLENBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ2pFLENBQUM7SUFFRCxJQUFJLGVBQWUsR0FBRyxHQUFHLEtBQUssSUFBSSxNQUFNLEVBQUUsQ0FBQztJQUMzQyxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxJQUFJLEtBQUssQ0FBQyxZQUFZLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRSxDQUFDO1FBQ3ZFLElBQUksb0JBQW9CLEdBQUcsRUFBRSxDQUFDO1FBQzlCLHdCQUF3QjtRQUN4QixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsS0FBSyxDQUFDLFlBQVksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQztZQUNuRCxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQztnQkFDVixvQkFBb0IsSUFBSSxHQUFHLENBQUM7WUFDOUIsQ0FBQztZQUNELHFEQUFxRDtZQUNyRCxvQkFBb0IsSUFBSSxvQkFBb0IsQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2hGLENBQUM7UUFDRCxlQUFlLElBQUksSUFBSSxvQkFBb0IsR0FBRyxDQUFDO0lBQ2pELENBQUM7U0FBTSxJQUFJLEtBQUssQ0FBQyxTQUFTLElBQUksS0FBSyxDQUFDLFNBQVMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFLENBQUM7UUFDekQsZUFBZSxJQUFJLElBQUksS0FBSyxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQztJQUN0RCxDQUFDO0lBQ0QsT0FBTyxlQUFlLENBQUM7QUFDekIsQ0FBQztBQUVEOzs7OztHQUtHO0FBQ0gsTUFBTSxDQUFDLEtBQUssVUFBVSxVQUFVLENBQUMsSUFBZTtJQUM5QyxNQUFNLG9CQUFvQixHQUFHLDBCQUEwQixDQUNyRCxJQUFJLEVBQ0osR0FBRyxFQUFFLENBQUMsRUFBRSxFQUNSLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFDUixHQUFHLEVBQUUsR0FBRSxDQUFDLEVBQ1IsSUFBSSxPQUFPLEVBQVksQ0FDeEIsQ0FBQztJQUVGLEtBQUssTUFBTSxJQUFJLElBQUksSUFBSSxFQUFFLENBQUM7UUFDeEIsb0JBQW9CLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3ZDLENBQUM7SUFDRCxNQUFNLG9CQUFvQixDQUFDLG1DQUFtQyxFQUFFLENBQUM7SUFDakUsb0JBQW9CLENBQUMsV0FBVyxFQUFFLENBQUM7SUFDbkMsT0FBTyxvQkFBb0IsQ0FBQyxRQUFRLENBQUMsUUFBUSxFQUFFLENBQUM7QUFDbEQsQ0FBQztBQUVEOzs7Ozs7R0FNRztBQUNILE1BQU0sVUFBVSxZQUFZLENBQUMsWUFBMkIsRUFBRSxPQUFpQjtJQUN6RSxJQUFJLFlBQVksSUFBSSxJQUFJLEVBQUUsQ0FBQztRQUN6QixPQUFPLEVBQUUsQ0FBQztJQUNaLENBQUM7SUFDRCxNQUFNLFNBQVMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxDQUFDO0lBQzNDLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUM7UUFDOUIsT0FBTyxFQUFFLENBQUM7SUFDWixDQUFDO0lBRUQsSUFBSSxTQUFTLEdBQXFDLFNBQVMsQ0FBQztJQUM1RCxJQUFJLE1BQU0sQ0FBQyxPQUFPLENBQUMsSUFBSSxTQUFTLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQztRQUMxQyxTQUFTLEdBQUcsMkJBQTJCLENBQUMsU0FBUyxFQUFFLE9BQXNCLENBQUMsQ0FBQztJQUM3RSxDQUFDO1NBQU0sQ0FBQztRQUNOLFNBQVMsR0FBRywyQkFBMkIsQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUNyRCxDQUFDO0lBQ0QsTUFBTSxNQUFNLEdBQUcsRUFBRSxDQUFDO0lBQ2xCLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxTQUFTLENBQUMsTUFBTSxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQztRQUM3QyxNQUFNLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLGVBQWUsQ0FBQyxTQUFTLEVBQUUsU0FBUyxDQUFDLENBQUMsQ0FBQyxFQUFFLFNBQVMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUM3RSxDQUFDO0lBQ0QsT0FBTyxNQUFNLENBQUM7QUFDaEIsQ0FBQztBQUVELFNBQVMsZUFBZSxDQUFDLFNBQStCLEVBQUUsTUFBYyxFQUFFLFNBQWtCO0lBQzFGLElBQUksTUFBTSxLQUFLLFNBQVMsRUFBRSxDQUFDO1FBQ3pCLE9BQU8sU0FBUyxDQUFDO0lBQ25CLENBQUM7SUFDRCxNQUFNLEtBQUssR0FBRyxRQUFRLENBQUMsU0FBUyxFQUFFLE1BQU0sRUFBRSxTQUFTLENBQUMsQ0FBQztJQUNyRCxJQUFJLE1BQU0sSUFBSSxPQUFPLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDNUIsT0FBTyxDQUFDLFNBQVMsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLFNBQVMsQ0FBQyxDQUFDO0lBQy9DLENBQUM7SUFDRCxPQUFPLEtBQUssQ0FBQztBQUNmLENBQUM7QUFFRCxTQUFTLGFBQWEsQ0FBQyxFQUFtQixFQUFFLFNBQW9CO0lBQzlELElBQUksT0FBTyxFQUFFLEtBQUssUUFBUSxFQUFFLENBQUM7UUFDM0IsRUFBRSxHQUFHLFFBQVEsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDeEIsQ0FBQztJQUNELFVBQVUsQ0FBQyxFQUFFLEdBQUcsU0FBUyxDQUFDLE1BQU0sRUFBRSxxQkFBcUIsRUFBRSxPQUFPLFNBQVMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDO0lBQ3BGLE9BQU8sU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0FBQ3ZCLENBQUM7QUFFRCxNQUFNLFVBQVUsMkJBQTJCLENBQ3pDLFNBQW9CLEVBQ3BCLE9BQXFCO0lBRXJCLHdDQUF3QztJQUN4QyxJQUFJLEtBQWdCLENBQUM7SUFDckIsTUFBTSxTQUFTLEdBQXlCO1FBQ3RDLGVBQWUsRUFBRSxDQUFDLEVBQW1CLEVBQUUsRUFBRSxDQUFDLGFBQWEsQ0FBQyxFQUFFLEVBQUUsS0FBSyxDQUFDO1FBQ2xFLFNBQVMsRUFBRSxDQUFDLENBQVMsRUFBRSxFQUFFO1lBQ3ZCLE1BQU0sRUFBRSxHQUFHLEdBQUcsRUFBRSxHQUFFLENBQUMsQ0FBQztZQUNwQixPQUFPLEVBQUUsQ0FBQztRQUNaLENBQUM7UUFDRCxlQUFlLEVBQUUsSUFBSSxPQUFPLEVBQUU7UUFDOUIsT0FBTyxFQUFFLElBQUk7S0FDZCxDQUFDO0lBQ0YsS0FBSyxHQUFHLHFCQUFxQixDQUFDLFNBQWdCLEVBQUUsU0FBUyxDQUFDLENBQUM7SUFDM0QsU0FBUyxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUM7SUFDMUIsSUFBSSxPQUFPLEVBQUUsQ0FBQztRQUNaLFNBQVMsQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO0lBQzlCLENBQUM7SUFDRCxPQUFPLFNBQVMsQ0FBQztBQUNuQixDQUFDO0FBRUQ7Ozs7Ozs7Ozs7O0dBV0c7QUFDSCxTQUFTLGNBQWMsQ0FBQyxHQUFZO0lBQ2xDLE9BQU8sQ0FDTCxDQUFDLE9BQU8sR0FBRyxLQUFLLFFBQVEsSUFBSSxHQUFHLEtBQUssSUFBSSxDQUFDO1FBQ3pDOzs7O1dBSUc7UUFDSCxDQUFDLE9BQU8sR0FBRyxLQUFLLFFBQVEsSUFBSSxHQUFHLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQztJQUMzQyx3RkFBd0Y7SUFDeEYsc0RBQXNEO0tBQ3ZELENBQUM7QUFDSixDQUFDO0FBRUQ7Ozs7Ozs7O0dBUUc7QUFDSCxTQUFTLGVBQWUsQ0FBQyxHQUFZO0lBQ25DLCtCQUErQjtJQUMvQiwwQ0FBMEM7SUFDMUMsb0JBQW9CO0lBQ3BCLGtFQUFrRTtJQUNsRSxNQUFNLFNBQVMsR0FBRyxNQUFNLENBQUMsY0FBYyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQzdDLE9BQU8sU0FBUyxJQUFJLElBQUksSUFBSSxTQUFTLEtBQUssTUFBTSxDQUFDLFNBQVMsSUFBSSxTQUFTLEtBQUssS0FBSyxDQUFDLFNBQVMsQ0FBQztBQUM5RixDQUFDO0FBRUQsU0FBUyxVQUFVLENBQWMsS0FBYTtJQUM1QyxPQUFPLFNBQVMsSUFBSSxLQUFLLElBQUksS0FBSyxDQUFDLE9BQU8sS0FBSyxVQUFVLENBQUM7QUFDNUQsQ0FBQztBQUVELE1BQU0sYUFBYSxHQUFHLENBQUMsR0FBUSxFQUFFLEVBQUU7SUFDakMsT0FBTyxDQUNMLENBQUMsT0FBTyxHQUFHLEtBQUssUUFBUTtRQUN0QixHQUFHLEtBQUssSUFBSTtRQUNaLENBQUMsR0FBRyxZQUFZLE1BQU0sSUFBSSxHQUFHLFlBQVksSUFBSSxJQUFJLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ25FLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FDWCxDQUFDO0FBQ0osQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sWUFBWSxHQUFHLENBQUMsS0FBVSxFQUFXLEVBQUU7SUFDbEQsSUFDRSxLQUFLLElBQUksSUFBSTtRQUNiLE9BQU8sS0FBSyxLQUFLLFFBQVE7UUFDekIsT0FBTyxLQUFLLEtBQUssUUFBUTtRQUN6QixPQUFPLEtBQUssS0FBSyxTQUFTO1FBQzFCLE9BQU8sS0FBSyxLQUFLLFFBQVEsRUFDekIsQ0FBQztRQUNELE9BQU8sSUFBSSxDQUFDO0lBQ2QsQ0FBQztTQUFNLElBQUksT0FBTyxLQUFLLEtBQUssUUFBUSxFQUFFLENBQUM7UUFDckMsTUFBTSxLQUFLLEdBQUcsTUFBTSxDQUFDLGNBQWMsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUMzQyxJQUFJLE9BQU8sQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDO1lBQ25CLEtBQUssR0FBRyxjQUFjLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDaEMsQ0FBQztRQUNELElBQUksS0FBSyxJQUFJLE1BQU0sQ0FBQyxTQUFTLEVBQUUsQ0FBQztZQUM5QixLQUFLLE1BQU0sR0FBRyxJQUFJLEtBQUssRUFBRSxDQUFDO2dCQUN4QixJQUFJLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUM7b0JBQzlCLE9BQU8sS0FBSyxDQUFDO2dCQUNmLENBQUM7WUFDSCxDQUFDO1lBQ0QsT0FBTyxJQUFJLENBQUM7UUFDZCxDQUFDO2FBQU0sSUFBSSxLQUFLLElBQUksS0FBSyxDQUFDLFNBQVMsRUFBRSxDQUFDO1lBQ3BDLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxLQUFLLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUM7Z0JBQ3RDLElBQUksQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztvQkFDNUIsT0FBTyxLQUFLLENBQUM7Z0JBQ2YsQ0FBQztZQUNILENBQUM7WUFDRCxPQUFPLElBQUksQ0FBQztRQUNkLENBQUM7YUFBTSxJQUFJLE1BQU0sQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDO1lBQ3pCLE9BQU8sSUFBSSxDQUFDO1FBQ2QsQ0FBQzthQUFNLElBQUksWUFBWSxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUM7WUFDL0IsT0FBTyxJQUFJLENBQUM7UUFDZCxDQUFDO2FBQU0sSUFBSSxTQUFTLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQztZQUM1QixPQUFPLElBQUksQ0FBQztRQUNkLENBQUM7YUFBTSxJQUFJLFNBQVMsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDO1lBQzVCLE9BQU8sSUFBSSxDQUFDO1FBQ2QsQ0FBQzthQUFNLElBQUksS0FBSyxZQUFZLEtBQUssRUFBRSxDQUFDO1lBQ2xDLE9BQU8sSUFBSSxDQUFDO1FBQ2QsQ0FBQzthQUFNLElBQUksS0FBSyxZQUFZLEdBQUcsRUFBRSxDQUFDO1lBQ2hDLE9BQU8sSUFBSSxDQUFDO1FBQ2QsQ0FBQzthQUFNLElBQUksS0FBSyxZQUFZLElBQUksRUFBRSxDQUFDO1lBQ2pDLE9BQU8sSUFBSSxDQUFDO1FBQ2QsQ0FBQzthQUFNLElBQUksS0FBSyxZQUFZLE1BQU0sRUFBRSxDQUFDO1lBQ25DLE9BQU8sSUFBSSxDQUFDO1FBQ2QsQ0FBQzthQUFNLElBQUksS0FBSyxZQUFZLGVBQWUsRUFBRSxDQUFDO1lBQzVDLE9BQU8sSUFBSSxDQUFDO1FBQ2QsQ0FBQzthQUFNLElBQUksS0FBSyxZQUFZLFFBQVEsRUFBRSxDQUFDO1lBQ3JDLE9BQU8sSUFBSSxDQUFDO1FBQ2QsQ0FBQzthQUFNLElBQUksS0FBSyxZQUFZLEdBQUcsRUFBRSxDQUFDO1lBQ2hDLE9BQU8sSUFBSSxDQUFDO1FBQ2QsQ0FBQzthQUFNLElBQUksS0FBSyxZQUFZLEdBQUcsRUFBRSxDQUFDO1lBQ2hDLE9BQU8sSUFBSSxDQUFDO1FBQ2QsQ0FBQzthQUFNLElBQUksS0FBSyxZQUFZLFVBQVUsRUFBRSxDQUFDO1lBQ3ZDLE9BQU8sSUFBSSxDQUFDO1FBQ2QsQ0FBQztJQUNILENBQUM7U0FBTSxJQUFJLE9BQU8sS0FBSyxLQUFLLFVBQVUsRUFBRSxDQUFDO1FBQ3ZDLElBQUksS0FBSyxDQUFDLEtBQUssQ0FBQyxJQUFJLGVBQWUsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDO1lBQzNDLE9BQU8sSUFBSSxDQUFDO1FBQ2QsQ0FBQztJQUNILENBQUM7SUFDRCxPQUFPLEtBQUssQ0FBQztBQUNmLENBQUMsQ0FBQztBQUVGLE1BQU0saUJBQWlCLEdBQUcsWUFBWSxDQUFDO0FBRXZDLE1BQU0sQ0FBTixJQUFrQixPQWtDakI7QUFsQ0QsV0FBa0IsT0FBTztJQUN2QiwyQ0FBTyxDQUFBO0lBQ1Asb0VBQW9FO0lBQ3BFLDZDQUFRLENBQUE7SUFDUix5Q0FBTSxDQUFBO0lBQ04seUNBQU0sQ0FBQTtJQUNOLHVDQUFLLENBQUE7SUFDTCxtQ0FBRyxDQUFBO0lBQ0gscUNBQUksQ0FBQTtJQUNKLHVDQUFLLENBQUE7SUFDTCx1Q0FBSyxDQUFBO0lBQ0wsNkNBQVEsQ0FBQTtJQUNSLDBDQUFNLENBQUE7SUFDTiw0REFBZSxDQUFBO0lBQ2YsMEVBQTBFO0lBQzFFLHdDQUFLLENBQUE7SUFDTCwwQ0FBTSxDQUFBO0lBQ04sNENBQU8sQ0FBQTtJQUNQLG9DQUFHLENBQUE7SUFDSCxvQ0FBRyxDQUFBO0lBQ0gsa0RBQVUsQ0FBQTtJQUNWLG9DQUFHLENBQUE7SUFDSCxzQ0FBSSxDQUFBO0lBQ0osOENBQVEsQ0FBQTtJQUNSLGdEQUFTLENBQUE7SUFDVCwwQ0FBTSxDQUFBO0lBQ04sd0RBQWEsQ0FBQTtJQUNiLDBEQUFjLENBQUE7SUFDZCx3Q0FBSyxDQUFBO0lBQ0wsa0RBQVUsQ0FBQTtJQUNWLDhDQUFRLENBQUE7SUFDUiw0Q0FBTyxDQUFBO0lBQ1Asa0RBQVUsQ0FBQTtJQUNWLGtEQUFVLENBQUE7QUFDWixDQUFDLEVBbENpQixPQUFPLEtBQVAsT0FBTyxRQWtDeEI7QUFDRCxNQUFNLENBQUMsTUFBTSxZQUFZLEdBQUc7SUFDMUIsU0FBUztJQUNULFVBQVU7SUFDVixRQUFRO0lBQ1IsUUFBUTtJQUNSLE9BQU87SUFDUCxLQUFLO0lBQ0wsTUFBTTtJQUNOLE9BQU87SUFDUCxPQUFPO0lBQ1AsVUFBVTtJQUNWLFFBQVE7SUFDUixpQkFBaUI7SUFDakIsT0FBTztJQUNQLFFBQVE7SUFDUixTQUFTO0lBQ1QsS0FBSztJQUNMLEtBQUs7SUFDTCxZQUFZO0lBQ1osS0FBSztJQUNMLE1BQU07SUFDTixVQUFVO0lBQ1YsV0FBVztJQUNYLFFBQVE7SUFDUixlQUFlO0lBQ2YsZ0JBQWdCO0lBQ2hCLE9BQU87SUFDUCxZQUFZO0lBQ1osVUFBVTtJQUNWLFNBQVM7SUFDVCxZQUFZO0lBQ1osWUFBWTtDQUNiLENBQUM7QUFFRixNQUFNLENBQU4sSUFBa0IsU0FrQmpCO0FBbEJELFdBQWtCLFNBQVM7SUFDekIsbURBQVMsQ0FBQTtJQUNULHlDQUFJLENBQUE7SUFDSix5Q0FBSSxDQUFBO0lBQ0osMkNBQUssQ0FBQTtJQUNMLHVEQUFXLENBQUE7SUFDWCx1REFBVyxDQUFBO0lBQ1gsbURBQVMsQ0FBQTtJQUNULG1FQUFpQixDQUFBO0lBQ2pCLHlDQUFJLENBQUE7SUFDSixpREFBUSxDQUFBO0lBQ1Isd0NBQUcsQ0FBQTtJQUNILGtFQUFnQixDQUFBO0lBQ2hCLGtFQUFnQixDQUFBO0lBQ2hCLHNEQUFVLENBQUE7SUFDViwwQkFBMEI7SUFDMUIsa0VBQWdCLENBQUE7SUFDaEIsc0RBQVUsQ0FBQTtBQUNaLENBQUMsRUFsQmlCLFNBQVMsS0FBVCxTQUFTLFFBa0IxQjtBQUVELE1BQU0saUJBQWlCLEdBQUcsQ0FBQyxHQUFZLEVBQUUsTUFBd0IsRUFBRSxFQUFFO0lBQ25FLE1BQU0sSUFBSSxHQUFHLElBQUksT0FBTyxFQUFFLENBQUM7SUFDM0IsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUNuQixHQUFHLEVBQ0gsQ0FBQyxHQUFHLEVBQUUsS0FBSyxFQUFFLEVBQUU7UUFDYixJQUFJLE9BQU8sS0FBSyxLQUFLLFFBQVEsSUFBSSxLQUFLLEtBQUssSUFBSSxFQUFFLENBQUM7WUFDaEQsSUFBSSxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUM7Z0JBQ3BCLE9BQU8sYUFBYSxLQUFLLENBQUMsV0FBVyxDQUFDLElBQUksR0FBRyxDQUFDO1lBQ2hELENBQUM7WUFDRCxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ2xCLENBQUM7UUFDRCxPQUFPLEtBQUssQ0FBQztJQUNmLENBQUMsRUFDRCxNQUFNLENBQ1AsQ0FBQztBQUNKLENBQUMsQ0FBQztBQUNGLE1BQU0sUUFBUSxHQUFHLENBQUMsS0FBVSxFQUFFLE1BQWMsRUFBRSxFQUFFO0lBQzlDLElBQUksTUFBTSxHQUFHLGFBQWEsQ0FBQyxLQUFLLENBQUM7UUFDL0IsQ0FBQyxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsSUFBSSxDQUFDLENBQUMsVUFBVSxDQUFDLFFBQVEsRUFBRSxFQUFFLENBQUM7UUFDbEUsQ0FBQyxDQUFDLE9BQU8sS0FBSyxLQUFLLFVBQVU7WUFDM0IsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUM7WUFDZixDQUFDLENBQUMsaUJBQWlCLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ2xDLElBQUksTUFBTSxDQUFDLE1BQU0sR0FBRyxHQUFHLEVBQUUsQ0FBQztRQUN4QixNQUFNLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLEdBQUcsTUFBTSxDQUFDO0lBQ3pDLENBQUM7SUFDRCxNQUFNLEdBQUcsTUFBTSxDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQUUsSUFBSSxHQUFHLE1BQU0sQ0FBQyxDQUFDO0lBQzlDLE9BQU8sTUFBTSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLEdBQUcsS0FBSyxNQUFNLEdBQUcsTUFBTSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDO0FBQzVFLENBQUMsQ0FBQztBQUNGLElBQUksTUFBTSxHQUFHLEtBQUssQ0FBQztBQUNuQixNQUFNLENBQUMsTUFBTSxTQUFTLEdBQUcsQ0FDdkIsS0FBZ0IsRUFDaEIsS0FBSyxHQUFHLEtBQUssRUFDYixNQUFNLEdBQUcsRUFBRSxFQUNYLFFBQXVCLEVBQUUsRUFDekIsRUFBRTtJQUNGLE1BQU0sR0FBRyxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7SUFDcEMsTUFBTSxLQUFLLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztJQUNyQyxNQUFNLE1BQU0sR0FBRyxNQUFNLEtBQUssRUFBRSxDQUFDO0lBQzdCLE1BQU0sR0FBRyxHQUFVLEVBQUUsQ0FBQztJQUN0QixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsS0FBSyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDO1FBQ3RDLElBQUksS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsS0FBSyxFQUFFLENBQUM7WUFDM0IsR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUNoQixNQUFNO1FBQ1IsQ0FBQztRQUNELE1BQU0sR0FBRyxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNyQixJQUFJLEtBQUssR0FBRyxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsS0FBSyxTQUFTLEVBQUUsQ0FBQztZQUN0QixNQUFNLEdBQUcsSUFBSSxDQUFDO1lBQ2QsR0FBRyxDQUFDLElBQUksQ0FDTixHQUFHLEdBQUcsT0FBTyxPQUFPLEtBQUssS0FBSyxRQUFRLElBQUksS0FBSyxDQUFDLENBQUMsQ0FBQyxJQUFJLEtBQUssQ0FBQyxXQUFXLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxLQUFLLElBQUksUUFBUSxDQUFDLEtBQUssRUFBRSxHQUFHLE1BQU0sSUFBSSxDQUFDLEVBQUUsQ0FDakksQ0FBQztRQUNKLENBQUM7YUFBTSxDQUFDO1lBQ04sSUFBSSxHQUFHLEtBQUssT0FBTyxDQUFDLFFBQVEsRUFBRSxDQUFDO2dCQUM3QixLQUFLLEdBQUcsY0FBYyxDQUFDLEtBQWtCLENBQUMsQ0FBQztZQUM3QyxDQUFDO2lCQUFNLElBQUksT0FBTyxLQUFLLEtBQUssUUFBUSxFQUFFLENBQUM7Z0JBQ3JDLEtBQUssR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDO2dCQUM5QixJQUFLLEtBQWdCLENBQUMsTUFBTSxHQUFHLEdBQUcsRUFBRSxDQUFDO29CQUNuQyxLQUFLLEdBQUksS0FBZ0IsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxHQUFHLE1BQU0sQ0FBQztnQkFDbkQsQ0FBQztZQUNILENBQUM7aUJBQU0sSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUM7Z0JBQ2hDLEtBQUssR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxNQUFNLFNBQVMsQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLEdBQUcsTUFBTSxJQUFJLENBQUMsS0FBSyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO1lBQzNGLENBQUM7WUFDRCxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsR0FBRyxHQUFHLFlBQVksQ0FBQyxHQUFjLENBQUMsR0FBRyxLQUFLLElBQUksS0FBSyxFQUFFLENBQUMsQ0FBQztRQUNyRSxDQUFDO0lBQ0gsQ0FBQztJQUNELE1BQU0sTUFBTSxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxHQUFHLE1BQU0sR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNyRixJQUFJLE1BQU0sRUFBRSxDQUFDO1FBQ1gsTUFBTSxLQUFLLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxNQUFNLFNBQVMsQ0FBQztRQUN0RSxNQUFNLEdBQUcsS0FBSyxDQUFDO1FBQ2YsT0FBTyxLQUFLLE1BQU0sS0FBSyxLQUFLLEVBQUUsQ0FBQztJQUNqQyxDQUFDO0lBQ0QsT0FBTyxNQUFNLENBQUM7QUFDaEIsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sWUFBWSxHQUFHLENBQUMsSUFBYSxFQUFFLEVBQUU7SUFDNUMsT0FBTyxZQUFZLENBQUMsSUFBSSxDQUFDLElBQUksV0FBVyxJQUFJLEdBQUcsQ0FBQztBQUNsRCxDQUFDLENBQUM7QUFFRixNQUFNLGNBQWMsR0FBRyxDQUFDLElBQWUsRUFBRSxFQUFFO0lBQ3pDLE9BQU8sY0FBYyxDQUFDLElBQUksQ0FBQyxJQUFJLFdBQVcsSUFBSSxHQUFHLENBQUM7QUFDcEQsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLyoqIFRoZXJlJ3MgW2RvY3VtZW50YXRpb25dKC4vc2VyaWFsaXphdGlvbi5tZCkgKi9cblxuaW1wb3J0IHsgaXNEZXYgfSBmcm9tICcuLi8uLi9idWlsZC9pbmRleC5kZXYnO1xuaW1wb3J0IHR5cGUgeyBTdHJlYW1Xcml0ZXIgfSBmcm9tICcuLi8uLi9zZXJ2ZXIvdHlwZXMnO1xuaW1wb3J0IHsgdHlwZSBEb21Db250YWluZXIgfSBmcm9tICcuLi9jbGllbnQvZG9tLWNvbnRhaW5lcic7XG5pbXBvcnQgdHlwZSB7IFZOb2RlIH0gZnJvbSAnLi4vY2xpZW50L3R5cGVzJztcbmltcG9ydCB7IHZub2RlX2dldE5vZGUsIHZub2RlX2lzVk5vZGUsIHZub2RlX2xvY2F0ZSwgdm5vZGVfdG9TdHJpbmcgfSBmcm9tICcuLi9jbGllbnQvdm5vZGUnO1xuaW1wb3J0IHtcbiAgQ29tcHV0ZWRTaWduYWwsXG4gIEVmZmVjdERhdGEsXG4gIE5FRURTX0NPTVBVVEFUSU9OLFxuICBTaWduYWwsXG4gIFdyYXBwZWRTaWduYWwsXG59IGZyb20gJy4uL3NpZ25hbC9zaWduYWwnO1xuaW1wb3J0IHR5cGUgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vc2lnbmFsL3NpZ25hbC1zdWJzY3JpYmVyJztcbmltcG9ydCB7XG4gIFNUT1JFX0FSUkFZX1BST1AsXG4gIGNyZWF0ZVN0b3JlLFxuICBnZXRTdG9yZUhhbmRsZXIsXG4gIGdldFN0b3JlVGFyZ2V0LFxuICBpc1N0b3JlLFxufSBmcm9tICcuLi9zaWduYWwvc3RvcmUnO1xuaW1wb3J0IHR5cGUgeyBTeW1ib2xUb0NodW5rUmVzb2x2ZXIgfSBmcm9tICcuLi9zc3Ivc3NyLXR5cGVzJztcbmltcG9ydCB7IGNyZWF0ZVJlc291cmNlUmV0dXJuLCB0eXBlIFJlc291cmNlUmV0dXJuSW50ZXJuYWwgfSBmcm9tICcuLi91c2UvdXNlLXJlc291cmNlJztcbmltcG9ydCB7IFRhc2ssIGlzVGFzayB9IGZyb20gJy4uL3VzZS91c2UtdGFzayc7XG5pbXBvcnQgeyBTRVJJQUxJWkFCTEVfU1RBVEUsIGNvbXBvbmVudFFybCwgaXNRd2lrQ29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnQucHVibGljJztcbmltcG9ydCB7IGFzc2VydERlZmluZWQsIGFzc2VydFRydWUgfSBmcm9tICcuL2Vycm9yL2Fzc2VydCc7XG5pbXBvcnQge1xuICBGcmFnbWVudCxcbiAgSlNYTm9kZUltcGwsXG4gIGNyZWF0ZVByb3BzUHJveHksXG4gIGlzSlNYTm9kZSxcbiAgaXNQcm9wc1Byb3h5LFxufSBmcm9tICcuL2pzeC9qc3gtcnVudGltZSc7XG5pbXBvcnQgeyBTbG90IH0gZnJvbSAnLi9qc3gvc2xvdC5wdWJsaWMnO1xuaW1wb3J0IHsgZ2V0UGxhdGZvcm0gfSBmcm9tICcuL3BsYXRmb3JtL3BsYXRmb3JtJztcbmltcG9ydCB7XG4gIGNyZWF0ZVFSTCxcbiAgaXNRcmwsXG4gIGlzU3luY1FybCxcbiAgdHlwZSBRUkxJbnRlcm5hbCxcbiAgdHlwZSBTeW5jUVJMSW50ZXJuYWwsXG59IGZyb20gJy4vcXJsL3FybC1jbGFzcyc7XG5pbXBvcnQgdHlwZSB7IFFSTCB9IGZyb20gJy4vcXJsL3FybC5wdWJsaWMnO1xuaW1wb3J0IHsgQ2hvcmVUeXBlIH0gZnJvbSAnLi9zY2hlZHVsZXInO1xuaW1wb3J0IHR5cGUgeyBEZXNlcmlhbGl6ZUNvbnRhaW5lciwgSG9zdEVsZW1lbnQsIE9ialRvUHJveHlNYXAgfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IF9DT05TVF9QUk9QUywgX1ZBUl9QUk9QUyB9IGZyb20gJy4vdXRpbHMvY29uc3RhbnRzJztcbmltcG9ydCB7IGlzRWxlbWVudCwgaXNOb2RlIH0gZnJvbSAnLi91dGlscy9lbGVtZW50JztcbmltcG9ydCB7IEVNUFRZX0FSUkFZLCBFTVBUWV9PQkogfSBmcm9tICcuL3V0aWxzL2ZseXdlaWdodCc7XG5pbXBvcnQgeyB0aHJvd0Vycm9yQW5kU3RvcCB9IGZyb20gJy4vdXRpbHMvbG9nJztcbmltcG9ydCB7IEVMRU1FTlRfSUQgfSBmcm9tICcuL3V0aWxzL21hcmtlcnMnO1xuaW1wb3J0IHsgaXNQcm9taXNlIH0gZnJvbSAnLi91dGlscy9wcm9taXNlcyc7XG5pbXBvcnQgeyBmYXN0U2tpcFNlcmlhbGl6ZSB9IGZyb20gJy4vdXRpbHMvc2VyaWFsaXplLXV0aWxzJztcbmltcG9ydCB7IHR5cGUgVmFsdWVPclByb21pc2UgfSBmcm9tICcuL3V0aWxzL3R5cGVzJztcblxuY29uc3QgZGVzZXJpYWxpemVkUHJveHlNYXAgPSBuZXcgV2Vha01hcDxvYmplY3QsIHVua25vd25bXT4oKTtcblxudHlwZSBEZXNlcmlhbGl6ZXJQcm94eTxUIGV4dGVuZHMgb2JqZWN0ID0gb2JqZWN0PiA9IFQgJiB7IFtTRVJJQUxJWkVSX1BST1hZX1VOV1JBUF06IG9iamVjdCB9O1xuXG5leHBvcnQgY29uc3QgdW53cmFwRGVzZXJpYWxpemVyUHJveHkgPSAodmFsdWU6IHVua25vd24pID0+IHtcbiAgY29uc3QgdW53cmFwcGVkID1cbiAgICB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmXG4gICAgdmFsdWUgIT09IG51bGwgJiZcbiAgICAodmFsdWUgYXMgRGVzZXJpYWxpemVyUHJveHkpW1NFUklBTElaRVJfUFJPWFlfVU5XUkFQXTtcbiAgcmV0dXJuIHVud3JhcHBlZCA/IHVud3JhcHBlZCA6IHZhbHVlO1xufTtcblxuZXhwb3J0IGNvbnN0IGlzRGVzZXJpYWxpemVyUHJveHkgPSAodmFsdWU6IHVua25vd24pOiB2YWx1ZSBpcyBEZXNlcmlhbGl6ZXJQcm94eSA9PiB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICE9PSBudWxsICYmIFNFUklBTElaRVJfUFJPWFlfVU5XUkFQIGluIHZhbHVlO1xufTtcblxuZXhwb3J0IGNvbnN0IFNFUklBTElaRVJfUFJPWFlfVU5XUkFQID0gU3ltYm9sKCdVTldSQVAnKTtcbi8qKiBDYWxsIHRoaXMgb24gdGhlIHNlcmlhbGl6ZWQgcm9vdCBzdGF0ZSAqL1xuZXhwb3J0IGNvbnN0IHdyYXBEZXNlcmlhbGl6ZXJQcm94eSA9IChjb250YWluZXI6IERvbUNvbnRhaW5lciwgZGF0YTogdW5rbm93bik6IHVua25vd25bXSA9PiB7XG4gIGlmIChcbiAgICAhQXJyYXkuaXNBcnJheShkYXRhKSB8fCAvLyBtdXN0IGJlIGFuIGFycmF5XG4gICAgdm5vZGVfaXNWTm9kZShkYXRhKSB8fCAvLyBhbmQgbm90IGEgVk5vZGUgb3IgU2xvdFxuICAgIGlzRGVzZXJpYWxpemVyUHJveHkoZGF0YSkgLy8gYW5kIG5vdCBhbHJlYWR5IHdyYXBwZWRcbiAgKSB7XG4gICAgcmV0dXJuIGRhdGEgYXMgYW55O1xuICB9XG4gIGxldCBwcm94eSA9IGRlc2VyaWFsaXplZFByb3h5TWFwLmdldChkYXRhKTtcbiAgaWYgKCFwcm94eSkge1xuICAgIGNvbnN0IHRhcmdldCA9IEFycmF5KGRhdGEubGVuZ3RoIC8gMikuZmlsbCh1bmRlZmluZWQpO1xuICAgIHByb3h5ID0gbmV3IFByb3h5KHRhcmdldCwgbmV3IERlc2VyaWFsaXphdGlvbkhhbmRsZXIoY29udGFpbmVyLCBkYXRhKSkgYXMgdW5rbm93bltdO1xuICAgIGRlc2VyaWFsaXplZFByb3h5TWFwLnNldChkYXRhLCBwcm94eSk7XG4gIH1cbiAgcmV0dXJuIHByb3h5O1xufTtcblxuY2xhc3MgRGVzZXJpYWxpemF0aW9uSGFuZGxlciBpbXBsZW1lbnRzIFByb3h5SGFuZGxlcjxvYmplY3Q+IHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljICRjb250YWluZXIkOiBEb21Db250YWluZXIsXG4gICAgcHVibGljICRkYXRhJDogdW5rbm93bltdXG4gICkge31cblxuICBwdWJsaWMgJGxlbmd0aCQgPSB0aGlzLiRkYXRhJC5sZW5ndGggLyAyO1xuXG4gIGdldCh0YXJnZXQ6IHVua25vd25bXSwgcHJvcGVydHk6IFByb3BlcnR5S2V5LCByZWNlaXZlcjogb2JqZWN0KSB7XG4gICAgaWYgKHByb3BlcnR5ID09PSBTRVJJQUxJWkVSX1BST1hZX1VOV1JBUCkge1xuICAgICAgLy8gTm90ZSB0aGF0IHRoaXMgd2lsbCBvbmx5IGJlIHBhcnRpYWxseSBmaWxsZWQgaW5cbiAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfVxuICAgIGNvbnN0IGkgPVxuICAgICAgdHlwZW9mIHByb3BlcnR5ID09PSAnbnVtYmVyJ1xuICAgICAgICA/IHByb3BlcnR5XG4gICAgICAgIDogdHlwZW9mIHByb3BlcnR5ID09PSAnc3RyaW5nJ1xuICAgICAgICAgID8gcGFyc2VJbnQocHJvcGVydHkgYXMgc3RyaW5nLCAxMClcbiAgICAgICAgICA6IE5hTjtcbiAgICBpZiAoTnVtYmVyLmlzTmFOKGkpIHx8IGkgPCAwIHx8IGkgPj0gdGhpcy4kbGVuZ3RoJCkge1xuICAgICAgY29uc3Qgb3V0ID0gUmVmbGVjdC5nZXQodGFyZ2V0LCBwcm9wZXJ0eSwgcmVjZWl2ZXIpO1xuICAgICAgcmV0dXJuIG91dDtcbiAgICB9XG4gICAgLy8gVGhlIHNlcmlhbGl6ZWQgZGF0YSBpcyBhbiBhcnJheSB3aXRoIDIgdmFsdWVzIGZvciBlYWNoIGl0ZW1cbiAgICBjb25zdCBpZHggPSBpICogMjtcbiAgICBjb25zdCB0eXBlSWQgPSB0aGlzLiRkYXRhJFtpZHhdIGFzIG51bWJlcjtcbiAgICBjb25zdCB2YWx1ZSA9IHRoaXMuJGRhdGEkW2lkeCArIDFdO1xuICAgIGlmICh0eXBlSWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gVGhlIHZhbHVlIGlzIGFscmVhZHkgY2FjaGVkXG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgY29uc3QgY29udGFpbmVyID0gdGhpcy4kY29udGFpbmVyJDtcbiAgICBjb25zdCBwcm9wVmFsdWUgPSBhbGxvY2F0ZShjb250YWluZXIsIHR5cGVJZCwgdmFsdWUpO1xuICAgIFJlZmxlY3Quc2V0KHRhcmdldCwgcHJvcGVydHksIHByb3BWYWx1ZSk7XG4gICAgdGhpcy4kZGF0YSRbaWR4XSA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLiRkYXRhJFtpZHggKyAxXSA9IHByb3BWYWx1ZTtcbiAgICAvKiogV2Ugc3RvcmVkIHRoZSByZWZlcmVuY2UsIHNvIG5vdyB3ZSBjYW4gaW5mbGF0ZSwgYWxsb3dpbmcgY3ljbGVzLiAqL1xuICAgIGlmICh0eXBlSWQgPj0gVHlwZUlkcy5FcnJvcikge1xuICAgICAgaW5mbGF0ZShjb250YWluZXIsIHByb3BWYWx1ZSwgdHlwZUlkLCB2YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiBwcm9wVmFsdWU7XG4gIH1cblxuICBoYXModGFyZ2V0OiBvYmplY3QsIHByb3BlcnR5OiBQcm9wZXJ0eUtleSkge1xuICAgIGlmIChwcm9wZXJ0eSA9PT0gU0VSSUFMSVpFUl9QUk9YWV9VTldSQVApIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRhcmdldCwgcHJvcGVydHkpO1xuICB9XG5cbiAgc2V0KHRhcmdldDogb2JqZWN0LCBwcm9wZXJ0eTogUHJvcGVydHlLZXksIHZhbHVlOiBhbnksIHJlY2VpdmVyOiBvYmplY3QpIHtcbiAgICBpZiAocHJvcGVydHkgPT09IFNFUklBTElaRVJfUFJPWFlfVU5XUkFQKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IG91dCA9IFJlZmxlY3Quc2V0KHRhcmdldCwgcHJvcGVydHksIHZhbHVlLCByZWNlaXZlcik7XG4gICAgY29uc3QgaSA9IHR5cGVvZiBwcm9wZXJ0eSA9PT0gJ251bWJlcicgPyBwcm9wZXJ0eSA6IHBhcnNlSW50KHByb3BlcnR5IGFzIHN0cmluZywgMTApO1xuICAgIGlmIChOdW1iZXIuaXNOYU4oaSkgfHwgaSA8IDAgfHwgaSA+PSB0aGlzLiRkYXRhJC5sZW5ndGggLyAyKSB7XG4gICAgICByZXR1cm4gb3V0O1xuICAgIH1cbiAgICBjb25zdCBpZHggPSBpICogMjtcbiAgICB0aGlzLiRkYXRhJFtpZHhdID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuJGRhdGEkW2lkeCArIDFdID0gdmFsdWU7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn1cblxuLyoqXG4gKiBSZXN0b3JlcyBhbiBhcnJheSBlYWdlcmx5LiBJZiB5b3UgbmVlZCBpdCBsYXppbHksIHVzZSBgZGVzZXJpYWxpemVEYXRhKGNvbnRhaW5lciwgVHlwZUlkcy5BcnJheSxcbiAqIGFycmF5KWAgaW5zdGVhZFxuICovXG5leHBvcnQgY29uc3QgX2VhZ2VyRGVzZXJpYWxpemVBcnJheSA9IChcbiAgY29udGFpbmVyOiBEZXNlcmlhbGl6ZUNvbnRhaW5lcixcbiAgZGF0YTogdW5rbm93bltdXG4pOiB1bmtub3duW10gPT4ge1xuICBjb25zdCBvdXQgPSBBcnJheShkYXRhLmxlbmd0aCAvIDIpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpICs9IDIpIHtcbiAgICBvdXRbaSAvIDJdID0gZGVzZXJpYWxpemVEYXRhKGNvbnRhaW5lciwgZGF0YVtpXSBhcyBUeXBlSWRzLCBkYXRhW2kgKyAxXSk7XG4gIH1cbiAgcmV0dXJuIG91dDtcbn07XG5cbmNvbnN0IHJlc29sdmVycyA9IG5ldyBXZWFrTWFwPFByb21pc2U8YW55PiwgW0Z1bmN0aW9uLCBGdW5jdGlvbl0+KCk7XG5cbmNvbnN0IGluZmxhdGUgPSAoY29udGFpbmVyOiBEZXNlcmlhbGl6ZUNvbnRhaW5lciwgdGFyZ2V0OiBhbnksIHR5cGVJZDogVHlwZUlkcywgZGF0YTogdW5rbm93bikgPT4ge1xuICBpZiAodHlwZUlkID09PSB1bmRlZmluZWQpIHtcbiAgICAvLyBBbHJlYWR5IHByb2Nlc3NlZFxuICAgIHJldHVybjtcbiAgfVxuICAvLyByZXN0b3JlIHRoZSBjb21wbGV4IGRhdGEsIGV4Y2VwdCBmb3IgcGxhaW4gb2JqZWN0c1xuICBpZiAodHlwZUlkICE9PSBUeXBlSWRzLk9iamVjdCAmJiBBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgZGF0YSA9IF9lYWdlckRlc2VyaWFsaXplQXJyYXkoY29udGFpbmVyLCBkYXRhKTtcbiAgfVxuICBzd2l0Y2ggKHR5cGVJZCkge1xuICAgIGNhc2UgVHlwZUlkcy5PYmplY3Q6XG4gICAgICAvLyBXZSB1c2UgZ2V0dGVycyBmb3IgbWFraW5nIGNvbXBsZXggdmFsdWVzIGxhenlcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgKGRhdGEgYXMgYW55W10pLmxlbmd0aDsgaSArPSA0KSB7XG4gICAgICAgIGNvbnN0IGtleSA9IGRlc2VyaWFsaXplRGF0YShcbiAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgKGRhdGEgYXMgYW55W10pW2ldIGFzIFR5cGVJZHMsXG4gICAgICAgICAgKGRhdGEgYXMgYW55W10pW2kgKyAxXVxuICAgICAgICApO1xuICAgICAgICBjb25zdCB2YWxUeXBlID0gKGRhdGEgYXMgVHlwZUlkc1tdKVtpICsgMl07XG4gICAgICAgIGNvbnN0IHZhbERhdGEgPSAoZGF0YSBhcyBhbnlbXSlbaSArIDNdO1xuICAgICAgICBpZiAodmFsVHlwZSA9PT0gVHlwZUlkcy5Sb290UmVmIHx8IHZhbFR5cGUgPj0gVHlwZUlkcy5FcnJvcikge1xuICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwge1xuICAgICAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgICByZXR1cm4gZGVzZXJpYWxpemVEYXRhKGNvbnRhaW5lciwgdmFsVHlwZSwgdmFsRGF0YSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0KHZhbHVlOiB1bmtub3duKSB7XG4gICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwge1xuICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRhcmdldFtrZXldID0gZGVzZXJpYWxpemVEYXRhKGNvbnRhaW5lciwgdmFsVHlwZSwgdmFsRGF0YSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgVHlwZUlkcy5RUkw6XG4gICAgICBpbmZsYXRlUVJMKGNvbnRhaW5lciwgdGFyZ2V0KTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgVHlwZUlkcy5UYXNrOlxuICAgICAgY29uc3QgdGFzayA9IHRhcmdldCBhcyBUYXNrO1xuICAgICAgY29uc3QgdiA9IGRhdGEgYXMgYW55W107XG4gICAgICB0YXNrLiRxcmwkID0gaW5mbGF0ZVFSTChjb250YWluZXIsIHZbMF0pO1xuICAgICAgdGFzay4kZmxhZ3MkID0gdlsxXTtcbiAgICAgIHRhc2suJGluZGV4JCA9IHZbMl07XG4gICAgICB0YXNrLiRlbCQgPSB2WzNdIGFzIEhvc3RFbGVtZW50O1xuICAgICAgdGFzay4kZWZmZWN0RGVwZW5kZW5jaWVzJCA9IHZbNF0gYXMgU3Vic2NyaWJlcltdIHwgbnVsbDtcbiAgICAgIHRhc2suJHN0YXRlJCA9IHZbNV07XG4gICAgICBicmVhaztcbiAgICBjYXNlIFR5cGVJZHMuUmVzb3VyY2U6XG4gICAgICBjb25zdCBbcmVzb2x2ZWQsIHJlc3VsdCwgZWZmZWN0c10gPSBkYXRhIGFzIFtib29sZWFuLCB1bmtub3duLCBhbnldO1xuICAgICAgY29uc3QgcmVzb3VyY2UgPSB0YXJnZXQgYXMgUmVzb3VyY2VSZXR1cm5JbnRlcm5hbDx1bmtub3duPjtcbiAgICAgIGlmIChyZXNvbHZlZCkge1xuICAgICAgICByZXNvdXJjZS52YWx1ZSA9IFByb21pc2UucmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICByZXNvdXJjZS5fcmVzb2x2ZWQgPSByZXN1bHQ7XG4gICAgICAgIHJlc291cmNlLl9zdGF0ZSA9ICdyZXNvbHZlZCc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXNvdXJjZS52YWx1ZSA9IFByb21pc2UucmVqZWN0KHJlc3VsdCk7XG4gICAgICAgIHJlc291cmNlLl9lcnJvciA9IHJlc3VsdCBhcyBFcnJvcjtcbiAgICAgICAgcmVzb3VyY2UuX3N0YXRlID0gJ3JlamVjdGVkJztcbiAgICAgIH1cbiAgICAgIGdldFN0b3JlSGFuZGxlcih0YXJnZXQpIS4kZWZmZWN0cyQgPSBlZmZlY3RzO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBUeXBlSWRzLkNvbXBvbmVudDpcbiAgICAgIHRhcmdldFtTRVJJQUxJWkFCTEVfU1RBVEVdWzBdID0gKGRhdGEgYXMgYW55W10pWzBdO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBUeXBlSWRzLlN0b3JlOlxuICAgIGNhc2UgVHlwZUlkcy5TdG9yZUFycmF5OiB7XG4gICAgICBjb25zdCBbdmFsdWUsIGZsYWdzLCBlZmZlY3RzLCBzdG9yZUVmZmVjdF0gPSBkYXRhIGFzIHVua25vd25bXTtcbiAgICAgIGNvbnN0IGhhbmRsZXIgPSBnZXRTdG9yZUhhbmRsZXIodGFyZ2V0KSE7XG4gICAgICBoYW5kbGVyLiRmbGFncyQgPSBmbGFncyBhcyBudW1iZXI7XG4gICAgICAvLyBGaXJzdCBhc3NpZ24gc28gaXQgc2V0cyB1cCB0aGUgZGVlcCBzdG9yZXNcbiAgICAgIE9iamVjdC5hc3NpZ24oZ2V0U3RvcmVUYXJnZXQodGFyZ2V0KSwgdmFsdWUgYXMgb2JqZWN0KTtcbiAgICAgIC8vIEFmdGVyd2FyZHMgcmVzdG9yZSB0aGUgZWZmZWN0cyBzbyB0aGV5IGRvbid0IGdldCB0cmlnZ2VyZWRcbiAgICAgIGlmIChzdG9yZUVmZmVjdCkge1xuICAgICAgICAoZWZmZWN0cyBhcyBhbnkpW1NUT1JFX0FSUkFZX1BST1BdID0gc3RvcmVFZmZlY3Q7XG4gICAgICB9XG4gICAgICBoYW5kbGVyLiRlZmZlY3RzJCA9IGVmZmVjdHMgYXMgYW55O1xuXG4gICAgICBjb250YWluZXIuJHN0b3JlUHJveHlNYXAkLnNldCh2YWx1ZSwgdGFyZ2V0KTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBjYXNlIFR5cGVJZHMuU2lnbmFsOiB7XG4gICAgICBjb25zdCBzaWduYWwgPSB0YXJnZXQgYXMgU2lnbmFsPHVua25vd24+O1xuICAgICAgY29uc3QgZCA9IGRhdGEgYXMgW3Vua25vd24sIC4uLmFueVtdXTtcbiAgICAgIHNpZ25hbC4kdW50cmFja2VkVmFsdWUkID0gZFswXTtcbiAgICAgIHNpZ25hbC4kZWZmZWN0cyQgPSBkLnNsaWNlKDEpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGNhc2UgVHlwZUlkcy5XcmFwcGVkU2lnbmFsOiB7XG4gICAgICBjb25zdCBzaWduYWwgPSB0YXJnZXQgYXMgV3JhcHBlZFNpZ25hbDx1bmtub3duPjtcbiAgICAgIGNvbnN0IGQgPSBkYXRhIGFzIFtudW1iZXIsIHVua25vd25bXSwgU3Vic2NyaWJlcltdLCB1bmtub3duLCAuLi5hbnlbXV07XG4gICAgICBzaWduYWwuJGZ1bmMkID0gY29udGFpbmVyLmdldFN5bmNGbihkWzBdKTtcbiAgICAgIHNpZ25hbC4kYXJncyQgPSBkWzFdO1xuICAgICAgc2lnbmFsLiRlZmZlY3REZXBlbmRlbmNpZXMkID0gZFsyXTtcbiAgICAgIHNpZ25hbC4kdW50cmFja2VkVmFsdWUkID0gZFszXTtcbiAgICAgIHNpZ25hbC4kZWZmZWN0cyQgPSBkLnNsaWNlKDQpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGNhc2UgVHlwZUlkcy5Db21wdXRlZFNpZ25hbDoge1xuICAgICAgY29uc3QgY29tcHV0ZWQgPSB0YXJnZXQgYXMgQ29tcHV0ZWRTaWduYWw8dW5rbm93bj47XG4gICAgICBjb25zdCBkID0gZGF0YSBhcyBbUVJMSW50ZXJuYWw8KCkgPT4ge30+LCB1bmtub3duLCBib29sZWFuLCAuLi5hbnlbXV07XG4gICAgICBjb21wdXRlZC4kY29tcHV0ZVFybCQgPSBkWzBdO1xuICAgICAgY29tcHV0ZWQuJHVudHJhY2tlZFZhbHVlJCA9IGRbMV07XG4gICAgICBjb21wdXRlZC4kaW52YWxpZCQgPSBkWzJdO1xuICAgICAgY29tcHV0ZWQuJGVmZmVjdHMkID0gZC5zbGljZSgzKTtcbiAgICAgIGlmIChjb21wdXRlZC4kaW52YWxpZCQpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHdlIHRyeSB0byBjb21wdXRlIHZhbHVlIGFuZCB0aGUgcXJsIGlzIG5vdCByZXNvbHZlZCwgdGhlbiBzeXN0ZW0gdGhyb3dzIGFuIGVycm9yIHdpdGhcbiAgICAgICAgICogcXJsIHByb21pc2UuIFRvIHByZXZlbnQgdGhhdCB3ZSBzaG91bGQgZWFybHkgcmVzb2x2ZSBjb21wdXRlZCBxcmwgd2hpbGUgY29tcHV0ZWRcbiAgICAgICAgICogZGVzZXJpYWxpemF0aW9uLiBUaGlzIGFsc28gcHJldmVudHMgYW55dGhpbmcgZnJvbSBmaXJpbmcgd2hpbGUgY29tcHV0ZWQgcXJscyBsb2FkLFxuICAgICAgICAgKiBiZWNhdXNlIG9mIHNjaGVkdWxlclxuICAgICAgICAgKi9cbiAgICAgICAgLy8gdHJ5IHRvIGRvd25sb2FkIHFybCBpbiB0aGlzIHRpY2tcbiAgICAgICAgY29tcHV0ZWQuJGNvbXB1dGVRcmwkLnJlc29sdmUoKTtcbiAgICAgICAgKGNvbnRhaW5lciBhcyBEb21Db250YWluZXIpLiRzY2hlZHVsZXIkPy4oXG4gICAgICAgICAgQ2hvcmVUeXBlLlFSTF9SRVNPTFZFLFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgY29tcHV0ZWQuJGNvbXB1dGVRcmwkXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgY2FzZSBUeXBlSWRzLkVycm9yOiB7XG4gICAgICBjb25zdCBkID0gZGF0YSBhcyB1bmtub3duW107XG4gICAgICB0YXJnZXQubWVzc2FnZSA9IGRbMF07XG4gICAgICBjb25zdCBzZWNvbmQgPSBkWzFdO1xuICAgICAgaWYgKHNlY29uZCAmJiBBcnJheS5pc0FycmF5KHNlY29uZCkpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWNvbmQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB0YXJnZXRbc2Vjb25kW2krK11dID0gZFtpXTtcbiAgICAgICAgfVxuICAgICAgICB0YXJnZXQuc3RhY2sgPSBkWzJdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGFyZ2V0LnN0YWNrID0gc2Vjb25kO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGNhc2UgVHlwZUlkcy5Gb3JtRGF0YToge1xuICAgICAgY29uc3QgZm9ybURhdGEgPSB0YXJnZXQgYXMgRm9ybURhdGE7XG4gICAgICBjb25zdCBkID0gZGF0YSBhcyBhbnlbXTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZC5sZW5ndGg7IGkrKykge1xuICAgICAgICBmb3JtRGF0YS5hcHBlbmQoZFtpKytdLCBkW2ldKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBjYXNlIFR5cGVJZHMuSlNYTm9kZToge1xuICAgICAgY29uc3QganN4ID0gdGFyZ2V0IGFzIEpTWE5vZGVJbXBsPHVua25vd24+O1xuICAgICAgY29uc3QgW3R5cGUsIHZhclByb3BzLCBjb25zdFByb3BzLCBjaGlsZHJlbiwgZmxhZ3MsIGtleV0gPSBkYXRhIGFzIGFueVtdO1xuICAgICAganN4LnR5cGUgPSB0eXBlO1xuICAgICAganN4LnZhclByb3BzID0gdmFyUHJvcHM7XG4gICAgICBqc3guY29uc3RQcm9wcyA9IGNvbnN0UHJvcHM7XG4gICAgICBqc3guY2hpbGRyZW4gPSBjaGlsZHJlbjtcbiAgICAgIGpzeC5mbGFncyA9IGZsYWdzO1xuICAgICAganN4LmtleSA9IGtleTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBjYXNlIFR5cGVJZHMuU2V0OiB7XG4gICAgICBjb25zdCBzZXQgPSB0YXJnZXQgYXMgU2V0PHVua25vd24+O1xuICAgICAgY29uc3QgZCA9IGRhdGEgYXMgYW55W107XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgc2V0LmFkZChkW2ldKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBjYXNlIFR5cGVJZHMuTWFwOiB7XG4gICAgICBjb25zdCBtYXAgPSB0YXJnZXQgYXMgTWFwPHVua25vd24sIHVua25vd24+O1xuICAgICAgY29uc3QgZCA9IGRhdGEgYXMgYW55W107XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbWFwLnNldChkW2krK10sIGRbaV0pO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGNhc2UgVHlwZUlkcy5Qcm9taXNlOiB7XG4gICAgICBjb25zdCBwcm9taXNlID0gdGFyZ2V0IGFzIFByb21pc2U8dW5rbm93bj47XG4gICAgICBjb25zdCBbcmVzb2x2ZWQsIHJlc3VsdF0gPSBkYXRhIGFzIFtib29sZWFuLCB1bmtub3duXTtcbiAgICAgIGNvbnN0IFtyZXNvbHZlLCByZWplY3RdID0gcmVzb2x2ZXJzLmdldChwcm9taXNlKSE7XG4gICAgICBpZiAocmVzb2x2ZWQpIHtcbiAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVqZWN0KHJlc3VsdCk7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgY2FzZSBUeXBlSWRzLlVpbnQ4QXJyYXk6XG4gICAgICBjb25zdCBieXRlcyA9IHRhcmdldCBhcyBVaW50OEFycmF5O1xuICAgICAgY29uc3QgYnVmID0gYXRvYihkYXRhIGFzIHN0cmluZyk7XG4gICAgICBsZXQgaSA9IDA7XG4gICAgICBmb3IgKGNvbnN0IHMgb2YgYnVmKSB7XG4gICAgICAgIGJ5dGVzW2krK10gPSBzLmNoYXJDb2RlQXQoMCk7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlIFR5cGVJZHMuUHJvcHNQcm94eTpcbiAgICAgIGNvbnN0IHByb3BzUHJveHkgPSB0YXJnZXQgYXMgYW55O1xuICAgICAgcHJvcHNQcm94eVtfVkFSX1BST1BTXSA9IChkYXRhIGFzIGFueSlbMF07XG4gICAgICBwcm9wc1Byb3h5W19DT05TVF9QUk9QU10gPSAoZGF0YSBhcyBhbnkpWzFdO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBUeXBlSWRzLkVmZmVjdERhdGE6IHtcbiAgICAgIGNvbnN0IGVmZmVjdERhdGEgPSB0YXJnZXQgYXMgRWZmZWN0RGF0YTtcbiAgICAgIGVmZmVjdERhdGEuZGF0YSA9IChkYXRhIGFzIGFueVtdKVswXTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHRocm93RXJyb3JBbmRTdG9wKCdOb3QgaW1wbGVtZW50ZWQnKTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IF9jb25zdGFudHMgPSBbXG4gIHVuZGVmaW5lZCxcbiAgbnVsbCxcbiAgdHJ1ZSxcbiAgZmFsc2UsXG4gICcnLFxuICBFTVBUWV9BUlJBWSxcbiAgRU1QVFlfT0JKLFxuICBORUVEU19DT01QVVRBVElPTixcbiAgU2xvdCxcbiAgRnJhZ21lbnQsXG4gIE5hTixcbiAgSW5maW5pdHksXG4gIC1JbmZpbml0eSxcbiAgTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIsXG4gIE51bWJlci5NQVhfU0FGRV9JTlRFR0VSIC0gMSxcbiAgTnVtYmVyLk1JTl9TQUZFX0lOVEVHRVIsXG5dIGFzIGNvbnN0O1xuY29uc3QgX2NvbnN0YW50TmFtZXMgPSBbXG4gICd1bmRlZmluZWQnLFxuICAnbnVsbCcsXG4gICd0cnVlJyxcbiAgJ2ZhbHNlJyxcbiAgXCInJ1wiLFxuICAnRU1QVFlfQVJSQVknLFxuICAnRU1QVFlfT0JKJyxcbiAgJ05FRURTX0NPTVBVVEFUSU9OJyxcbiAgJ1Nsb3QnLFxuICAnRnJhZ21lbnQnLFxuICAnTmFOJyxcbiAgJ0luZmluaXR5JyxcbiAgJy1JbmZpbml0eScsXG4gICdNQVhfU0FGRV9JTlRFR0VSJyxcbiAgJ01BWF9TQUZFX0lOVEVHRVItMScsXG4gICdNSU5fU0FGRV9JTlRFR0VSJyxcbl0gYXMgY29uc3Q7XG5cbmNvbnN0IGFsbG9jYXRlID0gKGNvbnRhaW5lcjogRGVzZXJpYWxpemVDb250YWluZXIsIHR5cGVJZDogbnVtYmVyLCB2YWx1ZTogdW5rbm93bik6IGFueSA9PiB7XG4gIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gV2hlbiBhIHZhbHVlIHdhcyBhbHJlYWR5IHByb2Nlc3NlZCwgdGhlIHJlc3VsdCBpcyBzdG9yZWQgaW4gdHlwZVxuICAgIHJldHVybiB0eXBlSWQ7XG4gIH1cbiAgc3dpdGNoICh0eXBlSWQpIHtcbiAgICBjYXNlIFR5cGVJZHMuUm9vdFJlZjpcbiAgICAgIHJldHVybiBjb250YWluZXIuJGdldE9iamVjdEJ5SWQkKHZhbHVlIGFzIG51bWJlcik7XG4gICAgY2FzZSBUeXBlSWRzLkNvbnN0YW50OlxuICAgICAgcmV0dXJuIF9jb25zdGFudHNbdmFsdWUgYXMgQ29uc3RhbnRzXTtcbiAgICBjYXNlIFR5cGVJZHMuTnVtYmVyOlxuICAgICAgcmV0dXJuIHZhbHVlIGFzIG51bWJlcjtcbiAgICBjYXNlIFR5cGVJZHMuQXJyYXk6XG4gICAgICByZXR1cm4gd3JhcERlc2VyaWFsaXplclByb3h5KGNvbnRhaW5lciBhcyBhbnksIHZhbHVlIGFzIGFueVtdKTtcbiAgICBjYXNlIFR5cGVJZHMuT2JqZWN0OlxuICAgICAgcmV0dXJuIHt9O1xuICAgIGNhc2UgVHlwZUlkcy5RUkw6XG4gICAgICByZXR1cm4gcGFyc2VRUkwodmFsdWUgYXMgc3RyaW5nKTtcbiAgICBjYXNlIFR5cGVJZHMuVGFzazpcbiAgICAgIHJldHVybiBuZXcgVGFzaygtMSwgLTEsIG51bGwhLCBudWxsISwgbnVsbCEsIG51bGwpO1xuICAgIGNhc2UgVHlwZUlkcy5SZXNvdXJjZToge1xuICAgICAgY29uc3QgcmVzID0gY3JlYXRlUmVzb3VyY2VSZXR1cm4oXG4gICAgICAgIGNvbnRhaW5lciBhcyBhbnksXG4gICAgICAgIC8vIHdlIGRvbid0IGNhcmUgYWJvdXQgdGhlIHRpbWVvdXQgdmFsdWVcbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICB1bmRlZmluZWRcbiAgICAgICk7XG4gICAgICByZXMubG9hZGluZyA9IGZhbHNlO1xuICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG4gICAgY2FzZSBUeXBlSWRzLlVSTDpcbiAgICAgIHJldHVybiBuZXcgVVJMKHZhbHVlIGFzIHN0cmluZyk7XG4gICAgY2FzZSBUeXBlSWRzLkRhdGU6XG4gICAgICByZXR1cm4gbmV3IERhdGUodmFsdWUgYXMgbnVtYmVyKTtcbiAgICBjYXNlIFR5cGVJZHMuUmVnZXg6XG4gICAgICBjb25zdCBpZHggPSAodmFsdWUgYXMgc3RyaW5nKS5sYXN0SW5kZXhPZignLycpO1xuICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoKHZhbHVlIGFzIHN0cmluZykuc2xpY2UoMSwgaWR4KSwgKHZhbHVlIGFzIHN0cmluZykuc2xpY2UoaWR4ICsgMSkpO1xuICAgIGNhc2UgVHlwZUlkcy5FcnJvcjpcbiAgICAgIHJldHVybiBuZXcgRXJyb3IoKTtcbiAgICBjYXNlIFR5cGVJZHMuQ29tcG9uZW50OlxuICAgICAgcmV0dXJuIGNvbXBvbmVudFFybChudWxsISk7XG4gICAgY2FzZSBUeXBlSWRzLlNpZ25hbDpcbiAgICAgIHJldHVybiBuZXcgU2lnbmFsKGNvbnRhaW5lciBhcyBhbnksIDApO1xuICAgIGNhc2UgVHlwZUlkcy5XcmFwcGVkU2lnbmFsOlxuICAgICAgcmV0dXJuIG5ldyBXcmFwcGVkU2lnbmFsKGNvbnRhaW5lciBhcyBhbnksIG51bGwhLCBudWxsISwgbnVsbCEpO1xuICAgIGNhc2UgVHlwZUlkcy5Db21wdXRlZFNpZ25hbDpcbiAgICAgIHJldHVybiBuZXcgQ29tcHV0ZWRTaWduYWwoY29udGFpbmVyIGFzIGFueSwgbnVsbCEpO1xuICAgIGNhc2UgVHlwZUlkcy5TdG9yZTpcbiAgICAgIHJldHVybiBjcmVhdGVTdG9yZShjb250YWluZXIgYXMgYW55LCB7fSwgMCk7XG4gICAgY2FzZSBUeXBlSWRzLlN0b3JlQXJyYXk6XG4gICAgICByZXR1cm4gY3JlYXRlU3RvcmUoY29udGFpbmVyIGFzIGFueSwgW10sIDApO1xuICAgIGNhc2UgVHlwZUlkcy5VUkxTZWFyY2hQYXJhbXM6XG4gICAgICByZXR1cm4gbmV3IFVSTFNlYXJjaFBhcmFtcyh2YWx1ZSBhcyBzdHJpbmcpO1xuICAgIGNhc2UgVHlwZUlkcy5Gb3JtRGF0YTpcbiAgICAgIHJldHVybiBuZXcgRm9ybURhdGEoKTtcbiAgICBjYXNlIFR5cGVJZHMuSlNYTm9kZTpcbiAgICAgIHJldHVybiBuZXcgSlNYTm9kZUltcGwobnVsbCEsIG51bGwhLCBudWxsISwgbnVsbCEsIC0xLCBudWxsKTtcbiAgICBjYXNlIFR5cGVJZHMuQmlnSW50OlxuICAgICAgcmV0dXJuIEJpZ0ludCh2YWx1ZSBhcyBzdHJpbmcpO1xuICAgIGNhc2UgVHlwZUlkcy5TZXQ6XG4gICAgICByZXR1cm4gbmV3IFNldCgpO1xuICAgIGNhc2UgVHlwZUlkcy5NYXA6XG4gICAgICByZXR1cm4gbmV3IE1hcCgpO1xuICAgIGNhc2UgVHlwZUlkcy5TdHJpbmc6XG4gICAgICByZXR1cm4gdmFsdWUgYXMgc3RyaW5nO1xuICAgIGNhc2UgVHlwZUlkcy5Qcm9taXNlOlxuICAgICAgbGV0IHJlc29sdmUhOiAodmFsdWU6IGFueSkgPT4gdm9pZDtcbiAgICAgIGxldCByZWplY3QhOiAoZXJyb3I6IGFueSkgPT4gdm9pZDtcbiAgICAgIGNvbnN0IHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzLCByZWopID0+IHtcbiAgICAgICAgcmVzb2x2ZSA9IHJlcztcbiAgICAgICAgcmVqZWN0ID0gcmVqO1xuICAgICAgfSk7XG4gICAgICByZXNvbHZlcnMuc2V0KHByb21pc2UsIFtyZXNvbHZlLCByZWplY3RdKTtcbiAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIGNhc2UgVHlwZUlkcy5VaW50OEFycmF5OlxuICAgICAgY29uc3QgZW5jb2RlZExlbmd0aCA9ICh2YWx1ZSBhcyBzdHJpbmcpLmxlbmd0aDtcbiAgICAgIGNvbnN0IGJsb2NrcyA9IGVuY29kZWRMZW5ndGggPj4+IDI7XG4gICAgICBjb25zdCByZXN0ID0gZW5jb2RlZExlbmd0aCAmIDM7XG4gICAgICBjb25zdCBkZWNvZGVkTGVuZ3RoID0gYmxvY2tzICogMyArIChyZXN0ID8gcmVzdCAtIDEgOiAwKTtcbiAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShkZWNvZGVkTGVuZ3RoKTtcbiAgICBjYXNlIFR5cGVJZHMuUHJvcHNQcm94eTpcbiAgICAgIHJldHVybiBjcmVhdGVQcm9wc1Byb3h5KG51bGwhLCBudWxsKTtcbiAgICBjYXNlIFR5cGVJZHMuVk5vZGU6XG4gICAgICAvLyBSZXRyaWV2ZSB0aGUgVk5vZGUgZnJvbSB0aGUgY29udGFpbmVyXG4gICAgICByZXR1cm4gcmV0cmlldmVWTm9kZU9yRG9jdW1lbnQoY29udGFpbmVyLCB2YWx1ZSk7XG4gICAgY2FzZSBUeXBlSWRzLlJlZlZOb2RlOlxuICAgICAgY29uc3Qgdk5vZGUgPSByZXRyaWV2ZVZOb2RlT3JEb2N1bWVudChjb250YWluZXIsIHZhbHVlKTtcbiAgICAgIGlmICh2bm9kZV9pc1ZOb2RlKHZOb2RlKSkge1xuICAgICAgICByZXR1cm4gdm5vZGVfZ2V0Tm9kZSh2Tm9kZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhyb3dFcnJvckFuZFN0b3AoJ2V4cGVjdGVkIHZub2RlIGZvciByZWYgcHJvcCwgYnV0IGdvdCAnICsgdHlwZW9mIHZOb2RlKTtcbiAgICAgIH1cbiAgICBjYXNlIFR5cGVJZHMuRWZmZWN0RGF0YTpcbiAgICAgIHJldHVybiBuZXcgRWZmZWN0RGF0YShudWxsISk7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHRocm93RXJyb3JBbmRTdG9wKCd1bmtub3duIGFsbG9jYXRlIHR5cGU6ICcgKyB0eXBlSWQpO1xuICB9XG59O1xuXG5mdW5jdGlvbiByZXRyaWV2ZVZOb2RlT3JEb2N1bWVudChcbiAgY29udGFpbmVyOiBEZXNlcmlhbGl6ZUNvbnRhaW5lcixcbiAgdmFsdWU6IHVua25vd24gfCBudWxsXG4pOiBWTm9kZSB8IERvY3VtZW50IHwgdW5kZWZpbmVkIHtcbiAgcmV0dXJuIHZhbHVlXG4gICAgPyAoY29udGFpbmVyIGFzIGFueSkucm9vdFZOb2RlXG4gICAgICA/IHZub2RlX2xvY2F0ZSgoY29udGFpbmVyIGFzIGFueSkucm9vdFZOb2RlLCB2YWx1ZSBhcyBzdHJpbmcpXG4gICAgICA6IHVuZGVmaW5lZFxuICAgIDogY29udGFpbmVyLmVsZW1lbnQ/Lm93bmVyRG9jdW1lbnQ7XG59XG5cbi8qKiBQYXJzZXMgXCJjaHVuayNoYXNoWy4uLnJvb3RSZWZdXCIgKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVFSTChxcmw6IHN0cmluZyk6IFFSTEludGVybmFsPGFueT4ge1xuICBjb25zdCBoYXNoSWR4ID0gcXJsLmluZGV4T2YoJyMnKTtcbiAgY29uc3QgY2FwdHVyZVN0YXJ0ID0gcXJsLmluZGV4T2YoJ1snLCBoYXNoSWR4KTtcbiAgY29uc3QgY2FwdHVyZUVuZCA9IHFybC5pbmRleE9mKCddJywgY2FwdHVyZVN0YXJ0KTtcbiAgY29uc3QgY2h1bmsgPSBoYXNoSWR4ID4gLTEgPyBxcmwuc2xpY2UoMCwgaGFzaElkeCkgOiBxcmwuc2xpY2UoMCwgY2FwdHVyZVN0YXJ0KTtcblxuICBjb25zdCBzeW1ib2wgPSBjYXB0dXJlU3RhcnQgPiAtMSA/IHFybC5zbGljZShoYXNoSWR4ICsgMSwgY2FwdHVyZVN0YXJ0KSA6IHFybC5zbGljZShoYXNoSWR4ICsgMSk7XG4gIGNvbnN0IGNhcHR1cmVJZHMgPVxuICAgIGNhcHR1cmVTdGFydCA+IC0xICYmIGNhcHR1cmVFbmQgPiAtMVxuICAgICAgPyBxcmxcbiAgICAgICAgICAuc2xpY2UoY2FwdHVyZVN0YXJ0ICsgMSwgY2FwdHVyZUVuZClcbiAgICAgICAgICAuc3BsaXQoJyAnKVxuICAgICAgICAgIC5maWx0ZXIoKHYpID0+IHYubGVuZ3RoKVxuICAgICAgICAgIC5tYXAoKHMpID0+IHBhcnNlSW50KHMsIDEwKSlcbiAgICAgIDogbnVsbDtcbiAgbGV0IHFybFJlZiA9IG51bGw7XG4gIGlmIChpc0RldiAmJiBjaHVuayA9PT0gUVJMX1JVTlRJTUVfQ0hVTkspIHtcbiAgICBjb25zdCBiYWNrQ2hhbm5lbDogTWFwPHN0cmluZywgRnVuY3Rpb24+ID0gKGdsb2JhbFRoaXMgYXMgYW55KVtRUkxfUlVOVElNRV9DSFVOS107XG4gICAgYXNzZXJ0RGVmaW5lZChiYWNrQ2hhbm5lbCwgJ01pc3NpbmcgUVJMX1JVTlRJTUVfQ0hVTksnKTtcbiAgICBxcmxSZWYgPSBiYWNrQ2hhbm5lbC5nZXQoc3ltYm9sKTtcbiAgfVxuICByZXR1cm4gY3JlYXRlUVJMKGNodW5rLCBzeW1ib2wsIHFybFJlZiwgbnVsbCwgY2FwdHVyZUlkcywgbnVsbCwgbnVsbCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbmZsYXRlUVJMKGNvbnRhaW5lcjogRGVzZXJpYWxpemVDb250YWluZXIsIHFybDogUVJMSW50ZXJuYWw8YW55Pikge1xuICBjb25zdCBjYXB0dXJlSWRzID0gcXJsLiRjYXB0dXJlJDtcbiAgcXJsLiRjYXB0dXJlUmVmJCA9IGNhcHR1cmVJZHMgPyBjYXB0dXJlSWRzLm1hcCgoaWQpID0+IGNvbnRhaW5lci4kZ2V0T2JqZWN0QnlJZCQoaWQpKSA6IG51bGw7XG4gIGlmIChjb250YWluZXIuZWxlbWVudCkge1xuICAgIHFybC4kc2V0Q29udGFpbmVyJChjb250YWluZXIuZWxlbWVudCk7XG4gIH1cbiAgcmV0dXJuIHFybDtcbn1cblxuLyoqIEEgc2VsZWN0aW9uIG9mIGF0dHJpYnV0ZXMgb2YgdGhlIHJlYWwgdGhpbmcgKi9cbnR5cGUgU3NyTm9kZSA9IHtcbiAgbm9kZVR5cGU6IG51bWJlcjtcbiAgaWQ6IHN0cmluZztcbiAgdm5vZGVEYXRhPzogVk5vZGU7XG59O1xuXG4vKiogQSByZWYgdG8gYSBET00gZWxlbWVudCAqL1xuY2xhc3MgRG9tVlJlZiB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBpZDogc3RyaW5nKSB7fVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFNlcmlhbGl6YXRpb25Db250ZXh0IHtcbiAgJHNlcmlhbGl6ZSQ6ICgpID0+IHZvaWQ7XG5cbiAgJHN5bWJvbFRvQ2h1bmtSZXNvbHZlciQ6IFN5bWJvbFRvQ2h1bmtSZXNvbHZlcjtcblxuICAvKipcbiAgICogTWFwIGZyb20gb2JqZWN0IHRvIHJvb3QgaW5kZXguXG4gICAqXG4gICAqIElmIG9iamVjdCBpcyBmb3VuZCBpbiBgb2JqTWFwYCB3aWxsIHJldHVybiB0aGUgaW5kZXggb2YgdGhlIG9iamVjdCBpbiB0aGUgYG9ialJvb3RzYCBvclxuICAgKiBgc2Vjb25kYXJ5T2JqUm9vdHNgLlxuICAgKlxuICAgKiBgb2JqTWFwYCByZXR1cm46XG4gICAqXG4gICAqIC0gYD49MGAgLSBpbmRleCBvZiB0aGUgb2JqZWN0IGluIGBvYmpSb290c2AuXG4gICAqIC0gYC0xYCAtIG9iamVjdCBoYXMgYmVlbiBzZWVuLCBvbmx5IG9uY2UsIGFuZCB0aGVyZWZvcmUgZG9lcyBub3QgbmVlZCB0byBiZSBwcm9tb3RlZCBpbnRvIGEgcm9vdFxuICAgKiAgIHlldC5cbiAgICovXG4gICR3YXNTZWVuJDogKG9iajogdW5rbm93bikgPT4gbnVtYmVyIHwgdW5kZWZpbmVkO1xuXG4gICRoYXNSb290SWQkOiAob2JqOiB1bmtub3duKSA9PiBudW1iZXIgfCB1bmRlZmluZWQ7XG5cbiAgLyoqXG4gICAqIFJvb3Qgb2JqZWN0cyB3aGljaCBuZWVkIHRvIGJlIHNlcmlhbGl6ZWQuXG4gICAqXG4gICAqIFJvb3RzIGFyZSBlbnRyeSBwb2ludHMgaW50byB0aGUgb2JqZWN0IGdyYXBoLiBUeXBpY2FsbHkgdGhlIHJvb3RzIGFyZSBoZWxkIGJ5IHRoZSBsaXN0ZW5lcnMuXG4gICAqL1xuICAkYWRkUm9vdCQ6IChvYmo6IHVua25vd24pID0+IG51bWJlcjtcblxuICAvKipcbiAgICogR2V0IHJvb3QgaW5kZXggb2YgdGhlIG9iamVjdCB3aXRob3V0IGNyZWF0ZSBhIG5ldyByb290LlxuICAgKlxuICAgKiBUaGlzIGlzIHVzZWQgZHVyaW5nIHNlcmlhbGl6YXRpb24sIGFzIG5ldyByb290cyBjYW4ndCBiZSBjcmVhdGVkIGR1cmluZyBzZXJpYWxpemF0aW9uLlxuICAgKlxuICAgKiBUaGUgZnVuY3Rpb24gdGhyb3dzIGlmIHRoZSByb290IHdhcyBub3QgZm91bmQuXG4gICAqL1xuICAkZ2V0Um9vdElkJDogKG9iajogdW5rbm93bikgPT4gbnVtYmVyO1xuXG4gICRzZWVuJDogKG9iajogdW5rbm93bikgPT4gdm9pZDtcblxuICAkcm9vdHMkOiB1bmtub3duW107XG5cbiAgJGFkZFN5bmNGbiQoJGZ1bmNTdHIkOiBzdHJpbmcgfCBudWxsLCBhcmdzQ291bnQ6IG51bWJlciwgZm46IEZ1bmN0aW9uKTogbnVtYmVyO1xuXG4gICRicmVha0NpcmN1bGFyRGVwc0FuZEF3YWl0UHJvbWlzZXMkOiAoKSA9PiBWYWx1ZU9yUHJvbWlzZTx2b2lkPjtcblxuICAkaXNTc3JOb2RlJDogKG9iajogdW5rbm93bikgPT4gb2JqIGlzIFNzck5vZGU7XG5cbiAgJHdyaXRlciQ6IFN0cmVhbVdyaXRlcjtcbiAgJHN5bmNGbnMkOiBzdHJpbmdbXTtcblxuICAkZXZlbnRRcmxzJDogU2V0PFFSTD47XG4gICRldmVudE5hbWVzJDogU2V0PHN0cmluZz47XG4gICRyZXNvdXJjZXMkOiBTZXQ8UmVzb3VyY2VSZXR1cm5JbnRlcm5hbDx1bmtub3duPj47XG4gICRyZW5kZXJTeW1ib2xzJDogU2V0PHN0cmluZz47XG4gICRzdG9yZVByb3h5TWFwJDogT2JqVG9Qcm94eU1hcDtcblxuICAkZ2V0UHJvcCQ6IChvYmo6IGFueSwgcHJvcDogc3RyaW5nKSA9PiBhbnk7XG4gICRzZXRQcm9wJDogKG9iajogYW55LCBwcm9wOiBzdHJpbmcsIHZhbHVlOiBhbnkpID0+IHZvaWQ7XG59XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVTZXJpYWxpemF0aW9uQ29udGV4dCA9IChcbiAgLyoqXG4gICAqIE5vZGUgY29uc3RydWN0b3IsIGZvciBpbnN0YW5jZW9mIGNoZWNrcy5cbiAgICpcbiAgICogQSBub2RlIGNvbnN0cnVjdG9yIGNhbiBiZSBudWxsLiBGb3IgZXhhbXBsZSBvbiB0aGUgY2xpZW50IHdlIGNhbid0IHNlcmlhbGl6ZSBET00gbm9kZXMgYXNcbiAgICogc2VydmVyIHdpbGwgbm90IGtub3cgd2hhdCB0byBkbyB3aXRoIHRoZW0uXG4gICAqL1xuICBOb2RlQ29uc3RydWN0b3I6IHtcbiAgICBuZXcgKC4uLnJlc3Q6IGFueVtdKTogeyBub2RlVHlwZTogbnVtYmVyOyBpZDogc3RyaW5nIH07XG4gIH0gfCBudWxsLFxuICBzeW1ib2xUb0NodW5rUmVzb2x2ZXI6IFN5bWJvbFRvQ2h1bmtSZXNvbHZlcixcbiAgZ2V0UHJvcDogKG9iajogYW55LCBwcm9wOiBzdHJpbmcpID0+IGFueSxcbiAgc2V0UHJvcDogKG9iajogYW55LCBwcm9wOiBzdHJpbmcsIHZhbHVlOiBhbnkpID0+IHZvaWQsXG4gIHN0b3JlUHJveHlNYXA6IE9ialRvUHJveHlNYXAsXG4gIHdyaXRlcj86IFN0cmVhbVdyaXRlclxuKTogU2VyaWFsaXphdGlvbkNvbnRleHQgPT4ge1xuICBpZiAoIXdyaXRlcikge1xuICAgIGNvbnN0IGJ1ZmZlcjogc3RyaW5nW10gPSBbXTtcbiAgICB3cml0ZXIgPSB7XG4gICAgICB3cml0ZTogKHRleHQ6IHN0cmluZykgPT4gYnVmZmVyLnB1c2godGV4dCksXG4gICAgICB0b1N0cmluZzogKCkgPT4gYnVmZmVyLmpvaW4oJycpLFxuICAgIH0gYXMgU3RyZWFtV3JpdGVyO1xuICB9XG4gIGNvbnN0IG1hcCA9IG5ldyBNYXA8YW55LCBudW1iZXI+KCk7XG4gIGNvbnN0IHN5bmNGbk1hcCA9IG5ldyBNYXA8c3RyaW5nLCBudW1iZXI+KCk7XG4gIGNvbnN0IHN5bmNGbnM6IHN0cmluZ1tdID0gW107XG4gIGNvbnN0IHJvb3RzOiBhbnlbXSA9IFtdO1xuICBjb25zdCAkd2FzU2VlbiQgPSAob2JqOiBhbnkpID0+IG1hcC5nZXQob2JqKTtcbiAgY29uc3QgJHNlZW4kID0gKG9iajogYW55KSA9PiBtYXAuc2V0KG9iaiwgLTEpO1xuICBjb25zdCAkYWRkUm9vdCQgPSAob2JqOiBhbnkpID0+IHtcbiAgICBsZXQgaWQgPSBtYXAuZ2V0KG9iaik7XG4gICAgaWYgKHR5cGVvZiBpZCAhPT0gJ251bWJlcicgfHwgaWQgPT09IC0xKSB7XG4gICAgICBpZCA9IHJvb3RzLmxlbmd0aDtcbiAgICAgIG1hcC5zZXQob2JqLCBpZCk7XG4gICAgICByb290cy5wdXNoKG9iaik7XG4gICAgfVxuICAgIHJldHVybiBpZDtcbiAgfTtcbiAgY29uc3QgaXNTc3JOb2RlID0gKE5vZGVDb25zdHJ1Y3RvciA/IChvYmopID0+IG9iaiBpbnN0YW5jZW9mIE5vZGVDb25zdHJ1Y3RvciA6ICgpID0+IGZhbHNlKSBhcyAoXG4gICAgb2JqOiB1bmtub3duXG4gICkgPT4gb2JqIGlzIFNzck5vZGU7XG5cbiAgcmV0dXJuIHtcbiAgICAkc2VyaWFsaXplJCgpOiB2b2lkIHtcbiAgICAgIHNlcmlhbGl6ZSh0aGlzKTtcbiAgICB9LFxuICAgICRpc1Nzck5vZGUkOiBpc1Nzck5vZGUsXG4gICAgJHN5bWJvbFRvQ2h1bmtSZXNvbHZlciQ6IHN5bWJvbFRvQ2h1bmtSZXNvbHZlcixcbiAgICAkd2FzU2VlbiQsXG4gICAgJHJvb3RzJDogcm9vdHMsXG4gICAgJHNlZW4kLFxuICAgICRoYXNSb290SWQkOiAob2JqOiBhbnkpID0+IHtcbiAgICAgIGNvbnN0IGlkID0gbWFwLmdldChvYmopO1xuICAgICAgcmV0dXJuIGlkID09PSB1bmRlZmluZWQgfHwgaWQgPT09IC0xID8gdW5kZWZpbmVkIDogaWQ7XG4gICAgfSxcbiAgICAkYWRkUm9vdCQsXG4gICAgJGdldFJvb3RJZCQ6IChvYmo6IGFueSkgPT4ge1xuICAgICAgY29uc3QgaWQgPSBtYXAuZ2V0KG9iaik7XG4gICAgICBpZiAoIWlkIHx8IGlkID09PSAtMSkge1xuICAgICAgICByZXR1cm4gdGhyb3dFcnJvckFuZFN0b3AoJ01pc3Npbmcgcm9vdCBpZCBmb3I6ICcgKyBvYmopO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGlkO1xuICAgIH0sXG4gICAgJHN5bmNGbnMkOiBzeW5jRm5zLFxuICAgICRhZGRTeW5jRm4kOiAoZnVuY1N0cjogc3RyaW5nIHwgbnVsbCwgYXJnQ291bnQ6IG51bWJlciwgZm46IEZ1bmN0aW9uKSA9PiB7XG4gICAgICBjb25zdCBpc0Z1bGxGbiA9IGZ1bmNTdHIgPT0gbnVsbDtcbiAgICAgIGlmIChpc0Z1bGxGbikge1xuICAgICAgICBmdW5jU3RyID0gKChmbiBhcyBhbnkpLnNlcmlhbGl6ZWQgYXMgc3RyaW5nKSB8fCBmbi50b1N0cmluZygpO1xuICAgICAgfVxuICAgICAgbGV0IGlkID0gc3luY0ZuTWFwLmdldChmdW5jU3RyISk7XG4gICAgICBpZiAoaWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZCA9IHN5bmNGbnMubGVuZ3RoO1xuICAgICAgICBzeW5jRm5NYXAuc2V0KGZ1bmNTdHIhLCBpZCk7XG4gICAgICAgIGlmIChpc0Z1bGxGbikge1xuICAgICAgICAgIHN5bmNGbnMucHVzaChmdW5jU3RyISk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbGV0IGNvZGUgPSAnKCc7XG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcmdDb3VudDsgaSsrKSB7XG4gICAgICAgICAgICBjb2RlICs9IChpID09IDAgPyAncCcgOiAnLHAnKSArIGk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHN5bmNGbnMucHVzaCgoY29kZSArPSAnKT0+JyArIGZ1bmNTdHIpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGlkO1xuICAgIH0sXG4gICAgJHdyaXRlciQ6IHdyaXRlcixcbiAgICAkYnJlYWtDaXJjdWxhckRlcHNBbmRBd2FpdFByb21pc2VzJDogYnJlYWtDaXJjdWxhckRlcGVuZGVuY2llc0FuZFJlc29sdmVQcm9taXNlcyxcbiAgICAkZXZlbnRRcmxzJDogbmV3IFNldDxRUkw+KCksXG4gICAgJGV2ZW50TmFtZXMkOiBuZXcgU2V0PHN0cmluZz4oKSxcbiAgICAkcmVzb3VyY2VzJDogbmV3IFNldDxSZXNvdXJjZVJldHVybkludGVybmFsPHVua25vd24+PigpLFxuICAgICRyZW5kZXJTeW1ib2xzJDogbmV3IFNldDxzdHJpbmc+KCksXG4gICAgJHN0b3JlUHJveHlNYXAkOiBzdG9yZVByb3h5TWFwLFxuICAgICRnZXRQcm9wJDogZ2V0UHJvcCxcbiAgICAkc2V0UHJvcCQ6IHNldFByb3AsXG4gIH07XG5cbiAgYXN5bmMgZnVuY3Rpb24gYnJlYWtDaXJjdWxhckRlcGVuZGVuY2llc0FuZFJlc29sdmVQcm9taXNlcygpIHtcbiAgICAvLyBBcyB3ZSB3YWxrIHRoZSBvYmplY3QgZ3JhcGggd2UgaW5zZXJ0IG5ld2x5IGRpc2NvdmVyZWQgb2JqZWN0cyB3aGljaCBuZWVkIHRvIGJlIHNjYW5uZWQgaGVyZS5cbiAgICBjb25zdCBkaXNjb3ZlcmVkVmFsdWVzOiB1bmtub3duW10gPSBbXTtcbiAgICBjb25zdCBwcm9taXNlczogUHJvbWlzZTx1bmtub3duPltdID0gW107XG5cbiAgICAvKipcbiAgICAgKiBOb3RlIG9uIG91dCBvZiBvcmRlciBzdHJlYW1pbmc6XG4gICAgICpcbiAgICAgKiBXaGVuIHdlIGltcGxlbWVudCB0aGF0LCB3ZSBtYXkgbmVlZCB0byBzZW5kIGEgcmVmZXJlbmNlIHRvIGFuIG9iamVjdCB0aGF0IHdhcyBzdHJlYW1lZFxuICAgICAqIGVhcmxpZXIgYnV0IHdhc24ndCBhIHJvb3QuIFRoaXMgbWVhbnMgd2UnbGwgaGF2ZSB0byBrZWVwIHRyYWNrIG9mIGFsbCBvYmplY3RzIG9uIGJvdGggc2VuZFxuICAgICAqIGFuZCByZWNlaXZlIGVuZHMsIHdoaWNoIG1lYW5zIHdlJ2xsIGp1c3QgaGF2ZSB0byBtYWtlIGV2ZXJ5dGhpbmcgYSByb290IGFueXdheSwgc28gYHZpc2l0KClgXG4gICAgICogd29uJ3QgYmUgbmVlZGVkLlxuICAgICAqL1xuICAgIC8qKiBWaXNpdCBhbiBvYmplY3QsIGFkZGluZyBhbnl0aGluZyB0aGF0IHdpbGwgYmUgc2VyaWFsaXplZCBhcyB0byBzY2FuICovXG4gICAgY29uc3QgdmlzaXQgPSAob2JqOiB1bmtub3duKSA9PiB7XG4gICAgICBpZiAodHlwZW9mIG9iaiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBpZiAoaXNRcmwob2JqKSkge1xuICAgICAgICAgIGlmIChvYmouJGNhcHR1cmVSZWYkKSB7XG4gICAgICAgICAgICBkaXNjb3ZlcmVkVmFsdWVzLnB1c2goLi4ub2JqLiRjYXB0dXJlUmVmJCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGlzUXdpa0NvbXBvbmVudChvYmopKSB7XG4gICAgICAgICAgY29uc3QgW3FybF06IFtRUkxJbnRlcm5hbF0gPSAob2JqIGFzIGFueSlbU0VSSUFMSVpBQkxFX1NUQVRFXTtcbiAgICAgICAgICBkaXNjb3ZlcmVkVmFsdWVzLnB1c2gocXJsKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgLy8gc2tpcCBhcyB0aGVzZSBhcmUgcHJpbWl0aXZlc1xuICAgICAgICB0eXBlb2Ygb2JqICE9PSAnb2JqZWN0JyB8fFxuICAgICAgICBvYmogPT09IG51bGwgfHxcbiAgICAgICAgb2JqIGluc3RhbmNlb2YgVVJMIHx8XG4gICAgICAgIG9iaiBpbnN0YW5jZW9mIERhdGUgfHxcbiAgICAgICAgb2JqIGluc3RhbmNlb2YgUmVnRXhwIHx8XG4gICAgICAgIG9iaiBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkgfHxcbiAgICAgICAgb2JqIGluc3RhbmNlb2YgVVJMU2VhcmNoUGFyYW1zIHx8XG4gICAgICAgICh0eXBlb2YgRm9ybURhdGEgIT09ICd1bmRlZmluZWQnICYmIG9iaiBpbnN0YW5jZW9mIEZvcm1EYXRhKSB8fFxuICAgICAgICAvLyBJZ25vcmUgdGhlIG5vIHNlcmlhbGl6ZSBvYmplY3RzXG4gICAgICAgIGZhc3RTa2lwU2VyaWFsaXplKG9iaiBhcyBvYmplY3QpXG4gICAgICApIHtcbiAgICAgICAgLy8gaWdub3JlXG4gICAgICB9IGVsc2UgaWYgKG9iaiBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIGRpc2NvdmVyZWRWYWx1ZXMucHVzaCguLi5PYmplY3QudmFsdWVzKG9iaikpO1xuICAgICAgfSBlbHNlIGlmIChpc1N0b3JlKG9iaikpIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gZ2V0U3RvcmVUYXJnZXQob2JqKSE7XG4gICAgICAgIGNvbnN0IGVmZmVjdHMgPSBnZXRTdG9yZUhhbmRsZXIob2JqKSEuJGVmZmVjdHMkO1xuICAgICAgICBkaXNjb3ZlcmVkVmFsdWVzLnB1c2godGFyZ2V0LCBlZmZlY3RzKTtcblxuICAgICAgICBmb3IgKGNvbnN0IHByb3AgaW4gdGFyZ2V0KSB7XG4gICAgICAgICAgY29uc3QgcHJvcFZhbHVlID0gKHRhcmdldCBhcyBhbnkpW3Byb3BdO1xuICAgICAgICAgIGlmIChzdG9yZVByb3h5TWFwLmhhcyhwcm9wVmFsdWUpKSB7XG4gICAgICAgICAgICBkaXNjb3ZlcmVkVmFsdWVzLnB1c2gocHJvcCwgc3RvcmVQcm94eU1hcC5nZXQocHJvcFZhbHVlKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKG9iaiBpbnN0YW5jZW9mIFNldCkge1xuICAgICAgICBkaXNjb3ZlcmVkVmFsdWVzLnB1c2goLi4ub2JqLnZhbHVlcygpKTtcbiAgICAgIH0gZWxzZSBpZiAob2JqIGluc3RhbmNlb2YgTWFwKSB7XG4gICAgICAgIG9iai5mb3JFYWNoKCh2LCBrKSA9PiB7XG4gICAgICAgICAgZGlzY292ZXJlZFZhbHVlcy5wdXNoKGssIHYpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAob2JqIGluc3RhbmNlb2YgU2lnbmFsKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXcmFwcGVkU2lnbmFsIG1pZ2h0IG5vdCBiZSBjYWxjdWxhdGVkIHlldCBzbyB3ZSBuZWVkIHRvIHVzZSBgdW50cmFja2VkVmFsdWVgIHRvIGdldCB0aGVcbiAgICAgICAgICogdmFsdWUuIENvbXB1dGVkU2lnbmFsIGNhbiBiZSBsZWZ0IHVuY2FsY3VsYXRlZC5cbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IHYgPVxuICAgICAgICAgIG9iaiBpbnN0YW5jZW9mIFdyYXBwZWRTaWduYWxcbiAgICAgICAgICAgID8gb2JqLnVudHJhY2tlZFZhbHVlXG4gICAgICAgICAgICA6IG9iaiBpbnN0YW5jZW9mIENvbXB1dGVkU2lnbmFsICYmIChvYmouJGludmFsaWQkIHx8IGZhc3RTa2lwU2VyaWFsaXplKG9iaikpXG4gICAgICAgICAgICAgID8gTkVFRFNfQ09NUFVUQVRJT05cbiAgICAgICAgICAgICAgOiBvYmouJHVudHJhY2tlZFZhbHVlJDtcbiAgICAgICAgaWYgKHYgIT09IE5FRURTX0NPTVBVVEFUSU9OICYmICFpc1Nzck5vZGUodikpIHtcbiAgICAgICAgICBkaXNjb3ZlcmVkVmFsdWVzLnB1c2gob2JqLiR1bnRyYWNrZWRWYWx1ZSQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvYmouJGVmZmVjdHMkKSB7XG4gICAgICAgICAgZGlzY292ZXJlZFZhbHVlcy5wdXNoKC4uLm9iai4kZWZmZWN0cyQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFdyYXBwZWRTaWduYWwgdXNlcyBzeW5jUXJsIHdoaWNoIGhhcyBubyBjYXB0dXJlZCByZWZzXG4gICAgICAgIGlmIChvYmogaW5zdGFuY2VvZiBXcmFwcGVkU2lnbmFsKSB7XG4gICAgICAgICAgaWYgKG9iai4kZWZmZWN0RGVwZW5kZW5jaWVzJCkge1xuICAgICAgICAgICAgZGlzY292ZXJlZFZhbHVlcy5wdXNoKC4uLm9iai4kZWZmZWN0RGVwZW5kZW5jaWVzJCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKG9iaiBpbnN0YW5jZW9mIENvbXB1dGVkU2lnbmFsKSB7XG4gICAgICAgICAgZGlzY292ZXJlZFZhbHVlcy5wdXNoKG9iai4kY29tcHV0ZVFybCQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKG9iaiBpbnN0YW5jZW9mIFRhc2spIHtcbiAgICAgICAgZGlzY292ZXJlZFZhbHVlcy5wdXNoKG9iai4kZWwkLCBvYmouJHFybCQsIG9iai4kc3RhdGUkLCBvYmouJGVmZmVjdERlcGVuZGVuY2llcyQpO1xuICAgICAgfSBlbHNlIGlmIChpc1Nzck5vZGUob2JqKSkge1xuICAgICAgICAvLyBpZ25vcmUgdGhlIG5vZGVzXG4gICAgICAgIC8vIGRlYnVnZ2VyO1xuICAgICAgfSBlbHNlIGlmIChpc0pTWE5vZGUob2JqKSkge1xuICAgICAgICBkaXNjb3ZlcmVkVmFsdWVzLnB1c2gob2JqLnR5cGUsIG9iai5wcm9wcywgb2JqLmNvbnN0UHJvcHMsIG9iai5jaGlsZHJlbik7XG4gICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkge1xuICAgICAgICBkaXNjb3ZlcmVkVmFsdWVzLnB1c2goLi4ub2JqKTtcbiAgICAgIH0gZWxzZSBpZiAoaXNRcmwob2JqKSkge1xuICAgICAgICBvYmouJGNhcHR1cmVSZWYkICYmIG9iai4kY2FwdHVyZVJlZiQubGVuZ3RoICYmIGRpc2NvdmVyZWRWYWx1ZXMucHVzaCguLi5vYmouJGNhcHR1cmVSZWYkKTtcbiAgICAgIH0gZWxzZSBpZiAoaXNQcm9wc1Byb3h5KG9iaikpIHtcbiAgICAgICAgZGlzY292ZXJlZFZhbHVlcy5wdXNoKG9ialtfVkFSX1BST1BTXSwgb2JqW19DT05TVF9QUk9QU10pO1xuICAgICAgfSBlbHNlIGlmIChpc1Byb21pc2Uob2JqKSkge1xuICAgICAgICBvYmoudGhlbihcbiAgICAgICAgICAodmFsdWUpID0+IHtcbiAgICAgICAgICAgIHByb21pc2VSZXN1bHRzLnNldChvYmosIFt0cnVlLCB2YWx1ZV0pO1xuICAgICAgICAgICAgZGlzY292ZXJlZFZhbHVlcy5wdXNoKHZhbHVlKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIChlcnJvcikgPT4ge1xuICAgICAgICAgICAgcHJvbWlzZVJlc3VsdHMuc2V0KG9iaiwgW2ZhbHNlLCBlcnJvcl0pO1xuICAgICAgICAgICAgZGlzY292ZXJlZFZhbHVlcy5wdXNoKGVycm9yKTtcbiAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgICAgIHByb21pc2VzLnB1c2gob2JqKTtcbiAgICAgIH0gZWxzZSBpZiAob2JqIGluc3RhbmNlb2YgRWZmZWN0RGF0YSkge1xuICAgICAgICBkaXNjb3ZlcmVkVmFsdWVzLnB1c2gob2JqLmRhdGEpO1xuICAgICAgfSBlbHNlIGlmIChpc09iamVjdExpdGVyYWwob2JqKSkge1xuICAgICAgICBPYmplY3QuZW50cmllcyhvYmopLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgIGRpc2NvdmVyZWRWYWx1ZXMucHVzaChrZXksIHZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhyb3dFcnJvckFuZFN0b3AoJ1Vua25vd24gdHlwZTogJyArIG9iaik7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIFByaW1lIHRoZSBwdW1wIHdpdGggdGhlIHJvb3Qgb2JqZWN0cy5cbiAgICBmb3IgKGNvbnN0IHJvb3Qgb2Ygcm9vdHMpIHtcbiAgICAgIHZpc2l0KHJvb3QpO1xuICAgIH1cblxuICAgIGRvIHtcbiAgICAgIHdoaWxlIChkaXNjb3ZlcmVkVmFsdWVzLmxlbmd0aCkge1xuICAgICAgICBjb25zdCBvYmogPSBkaXNjb3ZlcmVkVmFsdWVzLnBvcCgpO1xuICAgICAgICBpZiAoIShzaG91bGRUcmFja09iaihvYmopIHx8IGZyYW1ld29ya1R5cGUob2JqKSkpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpZCA9ICR3YXNTZWVuJChvYmopO1xuICAgICAgICBpZiAoaWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIC8vIE9iamVjdCBoYXMgbm90IGJlZW4gc2VlbiB5ZXQsIG11c3Qgc2NhbiBjb250ZW50XG4gICAgICAgICAgJHNlZW4kKG9iaik7XG4gICAgICAgICAgdmlzaXQob2JqKTtcbiAgICAgICAgfSBlbHNlIGlmIChpZCA9PT0gLTEpIHtcbiAgICAgICAgICAvLyBXZSBhcmUgc2VlaW5nIHRoaXMgb2JqZWN0IHNlY29uZCB0aW1lID0+IHByb21vdGUgaXQuXG4gICAgICAgICAgJGFkZFJvb3QkKG9iaik7XG4gICAgICAgICAgLy8gd2UgZG9uJ3QgbmVlZCB0byBzY2FuIHRoZSBjaGlsZHJlbiwgc2luY2Ugd2UgaGF2ZSBhbHJlYWR5IHNlZW4gdGhlbS5cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gV2UgaGF2ZSBzY2FubmVkIGFsbCB0aGUgb2JqZWN0cywgYnV0IHdlIHN0aWxsIGhhdmUgcHJvbWlzZXMgdG8gcmVzb2x2ZS5cbiAgICAgIGF3YWl0IFByb21pc2UuYWxsU2V0dGxlZChwcm9taXNlcyk7XG4gICAgICBwcm9taXNlcy5sZW5ndGggPSAwO1xuICAgIH0gd2hpbGUgKGRpc2NvdmVyZWRWYWx1ZXMubGVuZ3RoKTtcbiAgfVxufTtcblxuY29uc3QgcHJvbWlzZVJlc3VsdHMgPSBuZXcgV2Vha01hcDxQcm9taXNlPGFueT4sIFtib29sZWFuLCB1bmtub3duXT4oKTtcblxuLyoqXG4gKiBGb3JtYXQ6XG4gKlxuICogLSBUaGlzIGVuY29kZXMgdGhlICRyb290cyQgYXJyYXkuXG4gKiAtIFRoZSBvdXRwdXQgaXMgYSBzdHJpbmcgb2YgY29tbWEgc2VwYXJhdGVkIEpTT04gdmFsdWVzLlxuICogLSBFdmVuIHZhbHVlcyBhcmUgYWx3YXlzIG51bWJlcnMsIHNwZWNpZnlpbmcgdGhlIHR5cGUgb2YgdGhlIG5leHQgdmFsdWUuXG4gKiAtIE9kZCB2YWx1ZXMgYXJlIG51bWJlcnMsIHN0cmluZ3MgKEpTT04gc3RyaW5naWZpZWQgd2l0aCBgPC9gIGVzY2FwaW5nKSBvciBhcnJheXMgKHNhbWUgZm9ybWF0KS5cbiAqIC0gVGhlcmVmb3JlIHJvb3QgaW5kZXhlcyBuZWVkIHRvIGJlIGRvdWJsZWQgdG8gZ2V0IHRoZSBhY3R1YWwgaW5kZXguXG4gKi9cbmZ1bmN0aW9uIHNlcmlhbGl6ZShzZXJpYWxpemF0aW9uQ29udGV4dDogU2VyaWFsaXphdGlvbkNvbnRleHQpOiB2b2lkIHtcbiAgY29uc3QgeyAkd3JpdGVyJCwgJGlzU3NyTm9kZSQsICRzZXRQcm9wJCwgJHN0b3JlUHJveHlNYXAkIH0gPSBzZXJpYWxpemF0aW9uQ29udGV4dDtcbiAgbGV0IGRlcHRoID0gLTE7XG4gIC8vIFNraXAgdGhlIHR5cGUgZm9yIHRoZSByb290cyBvdXRwdXRcbiAgbGV0IHdyaXRlVHlwZSA9IGZhbHNlO1xuXG4gIGNvbnN0IG91dHB1dCA9ICh0eXBlOiBudW1iZXIsIHZhbHVlOiBudW1iZXIgfCBzdHJpbmcgfCBhbnlbXSkgPT4ge1xuICAgIGlmICh3cml0ZVR5cGUpIHtcbiAgICAgICR3cml0ZXIkLndyaXRlKGAke3R5cGV9LGApO1xuICAgIH0gZWxzZSB7XG4gICAgICB3cml0ZVR5cGUgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xuICAgICAgJHdyaXRlciQud3JpdGUodmFsdWUudG9TdHJpbmcoKSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICBjb25zdCBzID0gSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xuICAgICAgbGV0IGFuZ2xlQnJhY2tldElkeDogbnVtYmVyID0gLTE7XG4gICAgICBsZXQgbGFzdElkeCA9IDA7XG4gICAgICB3aGlsZSAoKGFuZ2xlQnJhY2tldElkeCA9IHMuaW5kZXhPZignPC8nLCBsYXN0SWR4KSkgIT09IC0xKSB7XG4gICAgICAgICR3cml0ZXIkLndyaXRlKHMuc2xpY2UobGFzdElkeCwgYW5nbGVCcmFja2V0SWR4KSk7XG4gICAgICAgICR3cml0ZXIkLndyaXRlKCc8XFxcXC8nKTtcbiAgICAgICAgbGFzdElkeCA9IGFuZ2xlQnJhY2tldElkeCArIDI7XG4gICAgICB9XG4gICAgICAkd3JpdGVyJC53cml0ZShsYXN0SWR4ID09PSAwID8gcyA6IHMuc2xpY2UobGFzdElkeCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZXB0aCsrO1xuICAgICAgJHdyaXRlciQud3JpdGUoJ1snKTtcbiAgICAgIGxldCBzZXBhcmF0b3IgPSBmYWxzZTtcbiAgICAgIC8vIFRPRE8gb25seSB1bnRpbCBsYXN0IG5vbi1udWxsIHZhbHVlXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChzZXBhcmF0b3IpIHtcbiAgICAgICAgICAkd3JpdGVyJC53cml0ZSgnLCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlcGFyYXRvciA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgd3JpdGVWYWx1ZSh2YWx1ZVtpXSwgaSk7XG4gICAgICB9XG4gICAgICAkd3JpdGVyJC53cml0ZSgnXScpO1xuICAgICAgZGVwdGgtLTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3Qgd3JpdGVWYWx1ZSA9ICh2YWx1ZTogdW5rbm93biwgaWR4OiBudW1iZXIpID0+IHtcbiAgICBpZiAoZmFzdFNraXBTZXJpYWxpemUodmFsdWUgYXMgb2JqZWN0KSkge1xuICAgICAgb3V0cHV0KFR5cGVJZHMuQ29uc3RhbnQsIENvbnN0YW50cy5VbmRlZmluZWQpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSAnYmlnaW50Jykge1xuICAgICAgb3V0cHV0KFR5cGVJZHMuQmlnSW50LCB2YWx1ZS50b1N0cmluZygpKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICBvdXRwdXQoVHlwZUlkcy5Db25zdGFudCwgdmFsdWUgPyBDb25zdGFudHMuVHJ1ZSA6IENvbnN0YW50cy5GYWxzZSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGlmICh2YWx1ZSA9PT0gU2xvdCkge1xuICAgICAgICBvdXRwdXQoVHlwZUlkcy5Db25zdGFudCwgQ29uc3RhbnRzLlNsb3QpO1xuICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gRnJhZ21lbnQpIHtcbiAgICAgICAgb3V0cHV0KFR5cGVJZHMuQ29uc3RhbnQsIENvbnN0YW50cy5GcmFnbWVudCk7XG4gICAgICB9IGVsc2UgaWYgKGlzUXJsKHZhbHVlKSkge1xuICAgICAgICAvLyBUT0RPIGRlZHVwbGljYXRlIHRoZSBzdHJpbmdcbiAgICAgICAgb3V0cHV0KFR5cGVJZHMuUVJMLCBxcmxUb1N0cmluZyhzZXJpYWxpemF0aW9uQ29udGV4dCwgdmFsdWUpKTtcbiAgICAgIH0gZWxzZSBpZiAoaXNRd2lrQ29tcG9uZW50KHZhbHVlKSkge1xuICAgICAgICBjb25zdCBbcXJsXTogW1FSTEludGVybmFsXSA9ICh2YWx1ZSBhcyBhbnkpW1NFUklBTElaQUJMRV9TVEFURV07XG4gICAgICAgIHNlcmlhbGl6YXRpb25Db250ZXh0LiRyZW5kZXJTeW1ib2xzJC5hZGQocXJsLiRzeW1ib2wkKTtcbiAgICAgICAgb3V0cHV0KFR5cGVJZHMuQ29tcG9uZW50LCBbcXJsXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBUT0RPIHRoaXMgaGFwcGVucyBmb3IgaW5saW5lIGNvbXBvbmVudHMgd2l0aCByZW5kZXIgcHJvcHMgbGlrZSBSZXNvdXJjZVxuICAgICAgICBjb25zb2xlLmVycm9yKCdDYW5ub3Qgc2VyaWFsaXplIGZ1bmN0aW9uIChpZ25vcmluZyBmb3Igbm93KTogJyArIHZhbHVlLnRvU3RyaW5nKCkpO1xuICAgICAgICBvdXRwdXQoVHlwZUlkcy5Db25zdGFudCwgQ29uc3RhbnRzLlVuZGVmaW5lZCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgICBpZiAoTnVtYmVyLmlzTmFOKHZhbHVlKSkge1xuICAgICAgICBvdXRwdXQoVHlwZUlkcy5Db25zdGFudCwgQ29uc3RhbnRzLk5hTik7XG4gICAgICB9IGVsc2UgaWYgKCFOdW1iZXIuaXNGaW5pdGUodmFsdWUpKSB7XG4gICAgICAgIG91dHB1dChcbiAgICAgICAgICBUeXBlSWRzLkNvbnN0YW50LFxuICAgICAgICAgIHZhbHVlIDwgMCA/IENvbnN0YW50cy5OZWdhdGl2ZUluZmluaXR5IDogQ29uc3RhbnRzLlBvc2l0aXZlSW5maW5pdHlcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT09IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSKSB7XG4gICAgICAgIG91dHB1dChUeXBlSWRzLkNvbnN0YW50LCBDb25zdGFudHMuTWF4U2FmZUludCk7XG4gICAgICB9IGVsc2UgaWYgKHZhbHVlID09PSBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUiAtIDEpIHtcbiAgICAgICAgb3V0cHV0KFR5cGVJZHMuQ29uc3RhbnQsIENvbnN0YW50cy5BbG1vc3RNYXhTYWZlSW50KTtcbiAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT09IE51bWJlci5NSU5fU0FGRV9JTlRFR0VSKSB7XG4gICAgICAgIG91dHB1dChUeXBlSWRzLkNvbnN0YW50LCBDb25zdGFudHMuTWluU2FmZUludCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvdXRwdXQoVHlwZUlkcy5OdW1iZXIsIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGlmICh2YWx1ZSA9PT0gRU1QVFlfQVJSQVkpIHtcbiAgICAgICAgb3V0cHV0KFR5cGVJZHMuQ29uc3RhbnQsIENvbnN0YW50cy5FTVBUWV9BUlJBWSk7XG4gICAgICB9IGVsc2UgaWYgKHZhbHVlID09PSBFTVBUWV9PQkopIHtcbiAgICAgICAgb3V0cHV0KFR5cGVJZHMuQ29uc3RhbnQsIENvbnN0YW50cy5FTVBUWV9PQkopO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGVwdGgrKztcbiAgICAgICAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgb3V0cHV0KFR5cGVJZHMuQ29uc3RhbnQsIENvbnN0YW50cy5OdWxsKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB3cml0ZU9iamVjdFZhbHVlKHZhbHVlLCBpZHgpO1xuICAgICAgICB9XG4gICAgICAgIGRlcHRoLS07XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICBpZiAodmFsdWUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIG91dHB1dChUeXBlSWRzLkNvbnN0YW50LCBDb25zdGFudHMuRW1wdHlTdHJpbmcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gTm90ZSwgaW4gdjEgd2Ugd2VyZSByZXVzaW5nIERPTSB0ZXh0LCBidXQgdGhhdCBpcyB0b28gZGFuZ2Vyb3VzIHdpdGggdHJhbnNsYXRpb24gZXh0ZW5zaW9ucyBjaGFuZ2luZyB0aGUgdGV4dFxuICAgICAgICBjb25zdCBzZWVuID0gZGVwdGggPiAxICYmIHNlcmlhbGl6YXRpb25Db250ZXh0LiR3YXNTZWVuJCh2YWx1ZSk7XG4gICAgICAgIGlmICh0eXBlb2Ygc2VlbiA9PT0gJ251bWJlcicgJiYgc2VlbiA+PSAwKSB7XG4gICAgICAgICAgb3V0cHV0KFR5cGVJZHMuUm9vdFJlZiwgc2Vlbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb3V0cHV0KFR5cGVJZHMuU3RyaW5nLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIG91dHB1dChUeXBlSWRzLkNvbnN0YW50LCBDb25zdGFudHMuVW5kZWZpbmVkKTtcbiAgICB9IGVsc2UgaWYgKHZhbHVlID09PSBORUVEU19DT01QVVRBVElPTikge1xuICAgICAgb3V0cHV0KFR5cGVJZHMuQ29uc3RhbnQsIENvbnN0YW50cy5ORUVEU19DT01QVVRBVElPTik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93RXJyb3JBbmRTdG9wKCdVbmtub3duIHR5cGU6ICcgKyB0eXBlb2YgdmFsdWUpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCB3cml0ZU9iamVjdFZhbHVlID0gKHZhbHVlOiB7fSwgaWR4OiBudW1iZXIpID0+IHtcbiAgICAvKipcbiAgICAgKiBXZSBzdGFydCBhdCAtMSBhbmQgdGhlbiBzZXJpYWxpemUgdGhlIHJvb3RzIGFycmF5LCB3aGljaCBpcyBhbiBvYmplY3Qgc28gaW5jcmVhc2VzIGRlcHRoIHRvXG4gICAgICogMC4gVGhlIG9iamVjdCB3cml0ZXIgdGhlbiBvdXRwdXRzIGFuIGFycmF5IG9iamVjdCAod2l0aG91dCB0eXBlIHByZWZpeCkgYW5kIHRoaXMgaW5jcmVhc2VzXG4gICAgICogdGhlIGRlcHRoIGZvciB0aGUgb2JqZWN0cyB3aXRoaW4gKGRlcHRoIDEpLiBUaGVuIHdoZW4gd3JpdGVWYWx1ZSBlbmNvdW50ZXJzIGVhY2ggcm9vdCBvYmplY3QsXG4gICAgICogaXQgd2lsbCBpbmNyZWFzZSB0aGUgZGVwdGggYWdhaW4sIHNvIGl0J3MgYXQgMi5cbiAgICAgKi9cbiAgICBjb25zdCBpc1Jvb3RPYmplY3QgPSBkZXB0aCA9PT0gMjtcbiAgICAvLyBPYmplY3RzIGFyZSB0aGUgb25seSB3YXkgdG8gY3JlYXRlIGNpcmN1bGFyIGRlcGVuZGVuY2llcy5cbiAgICAvLyBTbyB0aGUgZmlyc3QgdGhpbmcgdG8gdG8gaXMgdG8gc2VlIGlmIHdlIGhhdmUgYSBjaXJjdWxhciBkZXBlbmRlbmN5LlxuICAgIC8vIChOT1RFOiBGb3Igcm9vdCBvYmplY3RzIHdlIG5lZWQgdG8gc2VyaWFsaXplIHRoZW0gcmVnYXJkbGVzcyBpZiB3ZSBoYXZlIHNlZW5cbiAgICAvLyAgICAgICAgdGhlbSBiZWZvcmUsIG90aGVyd2lzZSB0aGUgcm9vdCBvYmplY3QgcmVmZXJlbmNlIHdpbGwgcG9pbnQgdG8gaXRzZWxmLilcbiAgICAvLyBBbHNvIG5vdGUgdGhhdCBkZXB0aCB3aWxsIGJlIDIgZm9yIG9iamVjdHMgaW4gcm9vdFxuICAgIGlmIChkZXB0aCA+IDIpIHtcbiAgICAgIGNvbnN0IHNlZW4gPSBzZXJpYWxpemF0aW9uQ29udGV4dC4kd2FzU2VlbiQodmFsdWUpO1xuICAgICAgaWYgKHR5cGVvZiBzZWVuID09PSAnbnVtYmVyJyAmJiBzZWVuID49IDApIHtcbiAgICAgICAgLy8gV2UgaGF2ZSBzZWVuIHRoaXMgb2JqZWN0IGJlZm9yZSwgc28gd2UgY2FuIHNlcmlhbGl6ZSBpdCBhcyBhIHJlZmVyZW5jZS5cbiAgICAgICAgLy8gT3RoZXJ3aXNlIHNlcmlhbGl6ZSBhcyBub3JtYWxcbiAgICAgICAgb3V0cHV0KFR5cGVJZHMuUm9vdFJlZiwgc2Vlbik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGlzUHJvcHNQcm94eSh2YWx1ZSkpIHtcbiAgICAgIGNvbnN0IHZhclByb3BzID0gdmFsdWVbX1ZBUl9QUk9QU107XG4gICAgICBjb25zdCBjb25zdFByb3BzID0gdmFsdWVbX0NPTlNUX1BST1BTXTtcbiAgICAgIG91dHB1dChUeXBlSWRzLlByb3BzUHJveHksIFt2YXJQcm9wcywgY29uc3RQcm9wc10pO1xuICAgIH0gZWxzZSBpZiAodmFsdWUgaW5zdGFuY2VvZiBFZmZlY3REYXRhKSB7XG4gICAgICBvdXRwdXQoVHlwZUlkcy5FZmZlY3REYXRhLCBbdmFsdWUuZGF0YV0pO1xuICAgIH0gZWxzZSBpZiAoaXNTdG9yZSh2YWx1ZSkpIHtcbiAgICAgIGlmIChpc1Jlc291cmNlKHZhbHVlKSkge1xuICAgICAgICAvLyBsZXQgcmVuZGVyIGtub3cgYWJvdXQgdGhlIHJlc291cmNlXG4gICAgICAgIHNlcmlhbGl6YXRpb25Db250ZXh0LiRyZXNvdXJjZXMkLmFkZCh2YWx1ZSk7XG4gICAgICAgIGNvbnN0IHJlcyA9IHByb21pc2VSZXN1bHRzLmdldCh2YWx1ZS52YWx1ZSk7XG4gICAgICAgIGlmICghcmVzKSB7XG4gICAgICAgICAgcmV0dXJuIHRocm93RXJyb3JBbmRTdG9wKCdVbnZpc2l0ZWQgUmVzb3VyY2UnKTtcbiAgICAgICAgfVxuICAgICAgICBvdXRwdXQoVHlwZUlkcy5SZXNvdXJjZSwgWy4uLnJlcywgZ2V0U3RvcmVIYW5kbGVyKHZhbHVlKSEuJGVmZmVjdHMkXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBzdG9yZUhhbmRsZXIgPSBnZXRTdG9yZUhhbmRsZXIodmFsdWUpITtcbiAgICAgICAgY29uc3Qgc3RvcmVUYXJnZXQgPSBnZXRTdG9yZVRhcmdldCh2YWx1ZSk7XG4gICAgICAgIGNvbnN0IGZsYWdzID0gc3RvcmVIYW5kbGVyLiRmbGFncyQ7XG4gICAgICAgIGNvbnN0IGVmZmVjdHMgPSBzdG9yZUhhbmRsZXIuJGVmZmVjdHMkO1xuICAgICAgICBjb25zdCBzdG9yZUVmZmVjdCA9IGVmZmVjdHM/LltTVE9SRV9BUlJBWV9QUk9QXSA/PyBudWxsO1xuXG4gICAgICAgIGNvbnN0IGlubmVyU3RvcmVzID0gW107XG4gICAgICAgIGZvciAoY29uc3QgcHJvcCBpbiBzdG9yZVRhcmdldCkge1xuICAgICAgICAgIGNvbnN0IHByb3BWYWx1ZSA9IChzdG9yZVRhcmdldCBhcyBhbnkpW3Byb3BdO1xuICAgICAgICAgIGlmICgkc3RvcmVQcm94eU1hcCQuaGFzKHByb3BWYWx1ZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGlubmVyU3RvcmUgPSAkc3RvcmVQcm94eU1hcCQuZ2V0KHByb3BWYWx1ZSk7XG4gICAgICAgICAgICBpbm5lclN0b3Jlcy5wdXNoKGlubmVyU3RvcmUpO1xuICAgICAgICAgICAgc2VyaWFsaXphdGlvbkNvbnRleHQuJGFkZFJvb3QkKGlubmVyU3RvcmUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG91dCA9IFtzdG9yZVRhcmdldCwgZmxhZ3MsIGVmZmVjdHMsIHN0b3JlRWZmZWN0LCAuLi5pbm5lclN0b3Jlc107XG4gICAgICAgIHdoaWxlIChvdXRbb3V0Lmxlbmd0aCAtIDFdID09IG51bGwpIHtcbiAgICAgICAgICBvdXQucG9wKCk7XG4gICAgICAgIH1cbiAgICAgICAgb3V0cHV0KEFycmF5LmlzQXJyYXkoc3RvcmVUYXJnZXQpID8gVHlwZUlkcy5TdG9yZUFycmF5IDogVHlwZUlkcy5TdG9yZSwgb3V0KTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGlzT2JqZWN0TGl0ZXJhbCh2YWx1ZSkpIHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICBvdXRwdXQoVHlwZUlkcy5BcnJheSwgdmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3Qgb3V0OiBhbnlbXSA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB2YWx1ZSkge1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwga2V5KSAmJlxuICAgICAgICAgICAgIWZhc3RTa2lwU2VyaWFsaXplKCh2YWx1ZSBhcyBhbnkpW2tleV0pXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBvdXQucHVzaChrZXksICh2YWx1ZSBhcyBhbnkpW2tleV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBUT0RPIGlmICFvdXQubGVuZ3RoLCBvdXRwdXQgMCBhbmQgcmVzdG9yZSBhcyB7fVxuICAgICAgICBvdXRwdXQoVHlwZUlkcy5PYmplY3QsIG91dCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIERvbVZSZWYpIHtcbiAgICAgIG91dHB1dChUeXBlSWRzLlJlZlZOb2RlLCB2YWx1ZS5pZCk7XG4gICAgfSBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFNpZ25hbCkge1xuICAgICAgLyoqXG4gICAgICAgKiBTcGVjaWFsIGNhc2U6IHdoZW4gYSBTaWduYWwgdmFsdWUgaXMgYW4gU1NSTm9kZSwgaXQgYWx3YXlzIG5lZWRzIHRvIGJlIGEgRE9NIHJlZiBpbnN0ZWFkLlxuICAgICAgICogSXQgY2FuIG5ldmVyIGJlIG1lYW50IHRvIGJlY29tZSBhIHZOb2RlLCBiZWNhdXNlIHZOb2RlcyBhcmUgaW50ZXJuYWwgb25seS5cbiAgICAgICAqL1xuICAgICAgbGV0IHYgPVxuICAgICAgICB2YWx1ZSBpbnN0YW5jZW9mIENvbXB1dGVkU2lnbmFsICYmXG4gICAgICAgICh2YWx1ZS4kaW52YWxpZCQgfHwgZmFzdFNraXBTZXJpYWxpemUodmFsdWUuJHVudHJhY2tlZFZhbHVlJCkpXG4gICAgICAgICAgPyBORUVEU19DT01QVVRBVElPTlxuICAgICAgICAgIDogdmFsdWUuJHVudHJhY2tlZFZhbHVlJDtcbiAgICAgIGlmICgkaXNTc3JOb2RlJCh2KSkge1xuICAgICAgICB2ID0gbmV3IERvbVZSZWYodi5pZCk7XG4gICAgICB9XG4gICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBXcmFwcGVkU2lnbmFsKSB7XG4gICAgICAgIG91dHB1dChUeXBlSWRzLldyYXBwZWRTaWduYWwsIFtcbiAgICAgICAgICAuLi5zZXJpYWxpemVXcmFwcGluZ0ZuKHNlcmlhbGl6YXRpb25Db250ZXh0LCB2YWx1ZSksXG4gICAgICAgICAgdmFsdWUuJGVmZmVjdERlcGVuZGVuY2llcyQsXG4gICAgICAgICAgdixcbiAgICAgICAgICAuLi4odmFsdWUuJGVmZmVjdHMkIHx8IFtdKSxcbiAgICAgICAgXSk7XG4gICAgICB9IGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgQ29tcHV0ZWRTaWduYWwpIHtcbiAgICAgICAgb3V0cHV0KFR5cGVJZHMuQ29tcHV0ZWRTaWduYWwsIFtcbiAgICAgICAgICB2YWx1ZS4kY29tcHV0ZVFybCQsXG4gICAgICAgICAgdixcbiAgICAgICAgICB2ID09PSBORUVEU19DT01QVVRBVElPTixcbiAgICAgICAgICAvLyBUT0RPIGNoZWNrIGlmIHdlIGNhbiB1c2UgZG9tVlJlZiBmb3IgZWZmZWN0c1xuICAgICAgICAgIC4uLih2YWx1ZS4kZWZmZWN0cyQgfHwgW10pLFxuICAgICAgICBdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG91dHB1dChUeXBlSWRzLlNpZ25hbCwgW3YsIC4uLih2YWx1ZS4kZWZmZWN0cyQgfHwgW10pXSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFVSTCkge1xuICAgICAgb3V0cHV0KFR5cGVJZHMuVVJMLCB2YWx1ZS5ocmVmKTtcbiAgICB9IGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgb3V0cHV0KFR5cGVJZHMuRGF0ZSwgTnVtYmVyLmlzTmFOKHZhbHVlLnZhbHVlT2YoKSkgPyAnJyA6IHZhbHVlLnZhbHVlT2YoKSk7XG4gICAgfSBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFJlZ0V4cCkge1xuICAgICAgb3V0cHV0KFR5cGVJZHMuUmVnZXgsIHZhbHVlLnRvU3RyaW5nKCkpO1xuICAgIH0gZWxzZSBpZiAodmFsdWUgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgY29uc3Qgb3V0OiBhbnlbXSA9IFt2YWx1ZS5tZXNzYWdlXTtcbiAgICAgIGNvbnN0IGV4dHJhUHJvcHMgPSBPYmplY3QuZW50cmllcyh2YWx1ZSkuZmxhdCgpO1xuICAgICAgaWYgKGV4dHJhUHJvcHMubGVuZ3RoKSB7XG4gICAgICAgIG91dC5wdXNoKGV4dHJhUHJvcHMpO1xuICAgICAgfVxuICAgICAgLy8vIEluIHByb2R1Y3Rpb24gd2UgZG9uJ3Qgd2FudCB0byBsZWFrIHRoZSBzdGFjayB0cmFjZS5cbiAgICAgIGlmIChpc0Rldikge1xuICAgICAgICBvdXQucHVzaCh2YWx1ZS5zdGFjayk7XG4gICAgICB9XG4gICAgICBvdXRwdXQoVHlwZUlkcy5FcnJvciwgb3V0KTtcbiAgICB9IGVsc2UgaWYgKCRpc1Nzck5vZGUkKHZhbHVlKSkge1xuICAgICAgaWYgKGlzUm9vdE9iamVjdCkge1xuICAgICAgICAvLyBUZWxsIHRoZSBTc3JOb2RlIHdoaWNoIHJvb3QgaWQgaXQgaXNcbiAgICAgICAgJHNldFByb3AkKHZhbHVlLCBFTEVNRU5UX0lELCBTdHJpbmcoaWR4KSk7XG4gICAgICAgIG91dHB1dChUeXBlSWRzLlZOb2RlLCB2YWx1ZS5pZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBQcm9tb3RlIHRoZSB2bm9kZSB0byBhIHJvb3RcbiAgICAgICAgc2VyaWFsaXphdGlvbkNvbnRleHQuJGFkZFJvb3QkKHZhbHVlKTtcbiAgICAgICAgb3V0cHV0KFR5cGVJZHMuUm9vdFJlZiwgc2VyaWFsaXphdGlvbkNvbnRleHQuJHJvb3RzJC5sZW5ndGggLSAxKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBGb3JtRGF0YSAhPT0gJ3VuZGVmaW5lZCcgJiYgdmFsdWUgaW5zdGFuY2VvZiBGb3JtRGF0YSkge1xuICAgICAgLy8gRm9ybURhdGEgaXMgZ2VuZXJhbGx5IHVzZWQgb25seSBvbmNlIHNvIGRvbid0IGJvdGhlciB3aXRoIHJlZmVyZW5jZXNcbiAgICAgIGNvbnN0IGFycmF5OiBzdHJpbmdbXSA9IFtdO1xuICAgICAgdmFsdWUuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIGFycmF5LnB1c2goa2V5LCB2YWx1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYXJyYXkucHVzaChrZXksIHZhbHVlLm5hbWUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIG91dHB1dChUeXBlSWRzLkZvcm1EYXRhLCBhcnJheSk7XG4gICAgfSBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFVSTFNlYXJjaFBhcmFtcykge1xuICAgICAgb3V0cHV0KFR5cGVJZHMuVVJMU2VhcmNoUGFyYW1zLCB2YWx1ZS50b1N0cmluZygpKTtcbiAgICB9IGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgU2V0KSB7XG4gICAgICBvdXRwdXQoVHlwZUlkcy5TZXQsIFsuLi52YWx1ZS52YWx1ZXMoKV0pO1xuICAgIH0gZWxzZSBpZiAodmFsdWUgaW5zdGFuY2VvZiBNYXApIHtcbiAgICAgIGNvbnN0IGNvbWJpbmVkID0gW107XG4gICAgICBmb3IgKGNvbnN0IFtrLCB2XSBvZiB2YWx1ZS5lbnRyaWVzKCkpIHtcbiAgICAgICAgY29tYmluZWQucHVzaChrLCB2KTtcbiAgICAgIH1cbiAgICAgIG91dHB1dChUeXBlSWRzLk1hcCwgY29tYmluZWQpO1xuICAgIH0gZWxzZSBpZiAoaXNKU1hOb2RlKHZhbHVlKSkge1xuICAgICAgb3V0cHV0KFR5cGVJZHMuSlNYTm9kZSwgW1xuICAgICAgICB2YWx1ZS50eXBlLFxuICAgICAgICB2YWx1ZS52YXJQcm9wcyxcbiAgICAgICAgdmFsdWUuY29uc3RQcm9wcyxcbiAgICAgICAgdmFsdWUuY2hpbGRyZW4sXG4gICAgICAgIHZhbHVlLmZsYWdzLFxuICAgICAgICB2YWx1ZS5rZXksXG4gICAgICBdKTtcbiAgICB9IGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgVGFzaykge1xuICAgICAgY29uc3Qgb3V0OiB1bmtub3duW10gPSBbXG4gICAgICAgIHZhbHVlLiRxcmwkLFxuICAgICAgICB2YWx1ZS4kZmxhZ3MkLFxuICAgICAgICB2YWx1ZS4kaW5kZXgkLFxuICAgICAgICB2YWx1ZS4kZWwkLFxuICAgICAgICB2YWx1ZS4kZWZmZWN0RGVwZW5kZW5jaWVzJCxcbiAgICAgICAgdmFsdWUuJHN0YXRlJCxcbiAgICAgIF07XG4gICAgICB3aGlsZSAob3V0W291dC5sZW5ndGggLSAxXSA9PSBudWxsKSB7XG4gICAgICAgIG91dC5wb3AoKTtcbiAgICAgIH1cbiAgICAgIG91dHB1dChUeXBlSWRzLlRhc2ssIG91dCk7XG4gICAgfSBlbHNlIGlmIChpc1Byb21pc2UodmFsdWUpKSB7XG4gICAgICBjb25zdCByZXMgPSBwcm9taXNlUmVzdWx0cy5nZXQodmFsdWUpO1xuICAgICAgaWYgKCFyZXMpIHtcbiAgICAgICAgcmV0dXJuIHRocm93RXJyb3JBbmRTdG9wKCdVbnZpc2l0ZWQgUHJvbWlzZScpO1xuICAgICAgfVxuICAgICAgb3V0cHV0KFR5cGVJZHMuUHJvbWlzZSwgcmVzKTtcbiAgICB9IGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgVWludDhBcnJheSkge1xuICAgICAgbGV0IGJ1ZiA9ICcnO1xuICAgICAgZm9yIChjb25zdCBjIG9mIHZhbHVlKSB7XG4gICAgICAgIGJ1ZiArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGMpO1xuICAgICAgfVxuICAgICAgY29uc3Qgb3V0ID0gYnRvYShidWYpLnJlcGxhY2UoLz0rJC8sICcnKTtcbiAgICAgIG91dHB1dChUeXBlSWRzLlVpbnQ4QXJyYXksIG91dCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aHJvd0Vycm9yQW5kU3RvcCgnaW1wbGVtZW50Jyk7XG4gICAgfVxuICB9O1xuXG4gIHdyaXRlVmFsdWUoc2VyaWFsaXphdGlvbkNvbnRleHQuJHJvb3RzJCwgLTEpO1xufVxuXG5mdW5jdGlvbiBzZXJpYWxpemVXcmFwcGluZ0ZuKFxuICBzZXJpYWxpemF0aW9uQ29udGV4dDogU2VyaWFsaXphdGlvbkNvbnRleHQsXG4gIHZhbHVlOiBXcmFwcGVkU2lnbmFsPGFueT5cbikge1xuICAvLyBpZiB2YWx1ZSBpcyBhbiBvYmplY3QgdGhlbiB3ZSBuZWVkIHRvIHdyYXAgdGhpcyBpbiAoKVxuICBpZiAodmFsdWUuJGZ1bmNTdHIkICYmIHZhbHVlLiRmdW5jU3RyJFswXSA9PT0gJ3snKSB7XG4gICAgdmFsdWUuJGZ1bmNTdHIkID0gYCgke3ZhbHVlLiRmdW5jU3RyJH0pYDtcbiAgfVxuICBjb25zdCBzeW5jRm5JZCA9IHNlcmlhbGl6YXRpb25Db250ZXh0LiRhZGRTeW5jRm4kKFxuICAgIHZhbHVlLiRmdW5jU3RyJCxcbiAgICB2YWx1ZS4kYXJncyQubGVuZ3RoLFxuICAgIHZhbHVlLiRmdW5jJFxuICApO1xuICAvLyBUT0RPIG51bGwgaWYgbm8gYXJnc1xuICByZXR1cm4gW3N5bmNGbklkLCB2YWx1ZS4kYXJncyRdIGFzIGNvbnN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcXJsVG9TdHJpbmcoXG4gIHNlcmlhbGl6YXRpb25Db250ZXh0OiBTZXJpYWxpemF0aW9uQ29udGV4dCxcbiAgdmFsdWU6IFFSTEludGVybmFsIHwgU3luY1FSTEludGVybmFsXG4pIHtcbiAgbGV0IHN5bWJvbCA9IHZhbHVlLiRzeW1ib2wkO1xuICBsZXQgY2h1bmsgPSB2YWx1ZS4kY2h1bmskO1xuXG4gIGNvbnN0IHJlZlN5bWJvbCA9IHZhbHVlLiRyZWZTeW1ib2wkID8/IHN5bWJvbDtcbiAgY29uc3QgcGxhdGZvcm0gPSBnZXRQbGF0Zm9ybSgpO1xuICBpZiAocGxhdGZvcm0pIHtcbiAgICBjb25zdCByZXN1bHQgPSBwbGF0Zm9ybS5jaHVua0ZvclN5bWJvbChyZWZTeW1ib2wsIGNodW5rLCB2YWx1ZS5kZXY/LmZpbGUpO1xuICAgIGlmIChyZXN1bHQpIHtcbiAgICAgIGNodW5rID0gcmVzdWx0WzFdO1xuICAgICAgaWYgKCF2YWx1ZS4kcmVmU3ltYm9sJCkge1xuICAgICAgICBzeW1ib2wgPSByZXN1bHRbMF07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY29uc3QgaXNTeW5jID0gaXNTeW5jUXJsKHZhbHVlKTtcbiAgaWYgKCFpc1N5bmMpIHtcbiAgICAvLyBJZiB3ZSBoYXZlIGEgc3ltYm9sIHdlIG5lZWQgdG8gcmVzb2x2ZSB0aGUgY2h1bmsuXG4gICAgaWYgKCFjaHVuaykge1xuICAgICAgY2h1bmsgPSBzZXJpYWxpemF0aW9uQ29udGV4dC4kc3ltYm9sVG9DaHVua1Jlc29sdmVyJCh2YWx1ZS4kaGFzaCQpO1xuICAgIH1cbiAgICAvLyBpbiBEZXYgbW9kZSB3ZSBuZWVkIHRvIGtlZXAgdHJhY2sgb2YgdGhlIHN5bWJvbHNcbiAgICBpZiAoaXNEZXYpIHtcbiAgICAgIGxldCBiYWNrQ2hhbm5lbDogTWFwPHN0cmluZywgRnVuY3Rpb24+ID0gKGdsb2JhbFRoaXMgYXMgYW55KVtRUkxfUlVOVElNRV9DSFVOS107XG4gICAgICBpZiAoIWJhY2tDaGFubmVsKSB7XG4gICAgICAgIGJhY2tDaGFubmVsID0gKGdsb2JhbFRoaXMgYXMgYW55KVtRUkxfUlVOVElNRV9DSFVOS10gPSBuZXcgTWFwKCk7XG4gICAgICB9XG4gICAgICBiYWNrQ2hhbm5lbC5zZXQodmFsdWUuJHN5bWJvbCQsICh2YWx1ZSBhcyBhbnkpLl9kZXZPbmx5U3ltYm9sUmVmKTtcbiAgICAgIGlmICghY2h1bmspIHtcbiAgICAgICAgY2h1bmsgPSBRUkxfUlVOVElNRV9DSFVOSztcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFjaHVuaykge1xuICAgICAgdGhyb3dFcnJvckFuZFN0b3AoJ01pc3NpbmcgY2h1bmsgZm9yOiAnICsgdmFsdWUuJHN5bWJvbCQpO1xuICAgIH1cbiAgICBpZiAoY2h1bmsuc3RhcnRzV2l0aCgnLi8nKSkge1xuICAgICAgY2h1bmsgPSBjaHVuay5zbGljZSgyKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgZm4gPSB2YWx1ZS5yZXNvbHZlZCBhcyBGdW5jdGlvbjtcbiAgICBjaHVuayA9ICcnO1xuICAgIC8vIFRPRE8gdGVzdCB0aGF0IHByb3ZpZGVkIHN0cmluZ2lmaWVkIGZuIGlzIHVzZWRcbiAgICBzeW1ib2wgPSBTdHJpbmcoc2VyaWFsaXphdGlvbkNvbnRleHQuJGFkZFN5bmNGbiQobnVsbCwgMCwgZm4pKTtcbiAgfVxuXG4gIGxldCBxcmxTdHJpbmdJbmxpbmUgPSBgJHtjaHVua30jJHtzeW1ib2x9YDtcbiAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUuJGNhcHR1cmVSZWYkKSAmJiB2YWx1ZS4kY2FwdHVyZVJlZiQubGVuZ3RoID4gMCkge1xuICAgIGxldCBzZXJpYWxpemVkUmVmZXJlbmNlcyA9ICcnO1xuICAgIC8vIGhvdC1wYXRoIG9wdGltaXphdGlvblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWUuJGNhcHR1cmVSZWYkLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgc2VyaWFsaXplZFJlZmVyZW5jZXMgKz0gJyAnO1xuICAgICAgfVxuICAgICAgLy8gV2UgcmVmZXIgYnkgaWQgc28gZXZlcnkgY2FwdHVyZSBuZWVkcyB0byBiZSBhIHJvb3RcbiAgICAgIHNlcmlhbGl6ZWRSZWZlcmVuY2VzICs9IHNlcmlhbGl6YXRpb25Db250ZXh0LiRhZGRSb290JCh2YWx1ZS4kY2FwdHVyZVJlZiRbaV0pO1xuICAgIH1cbiAgICBxcmxTdHJpbmdJbmxpbmUgKz0gYFske3NlcmlhbGl6ZWRSZWZlcmVuY2VzfV1gO1xuICB9IGVsc2UgaWYgKHZhbHVlLiRjYXB0dXJlJCAmJiB2YWx1ZS4kY2FwdHVyZSQubGVuZ3RoID4gMCkge1xuICAgIHFybFN0cmluZ0lubGluZSArPSBgWyR7dmFsdWUuJGNhcHR1cmUkLmpvaW4oJyAnKX1dYDtcbiAgfVxuICByZXR1cm4gcXJsU3RyaW5nSW5saW5lO1xufVxuXG4vKipcbiAqIFNlcmlhbGl6ZSBkYXRhIHRvIHN0cmluZyB1c2luZyBTZXJpYWxpemF0aW9uQ29udGV4dC5cbiAqXG4gKiBAcGFyYW0gZGF0YSAtIERhdGEgdG8gc2VyaWFsaXplXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIF9zZXJpYWxpemUoZGF0YTogdW5rbm93bltdKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgY29uc3Qgc2VyaWFsaXphdGlvbkNvbnRleHQgPSBjcmVhdGVTZXJpYWxpemF0aW9uQ29udGV4dChcbiAgICBudWxsLFxuICAgICgpID0+ICcnLFxuICAgICgpID0+ICcnLFxuICAgICgpID0+IHt9LFxuICAgIG5ldyBXZWFrTWFwPGFueSwgYW55PigpXG4gICk7XG5cbiAgZm9yIChjb25zdCByb290IG9mIGRhdGEpIHtcbiAgICBzZXJpYWxpemF0aW9uQ29udGV4dC4kYWRkUm9vdCQocm9vdCk7XG4gIH1cbiAgYXdhaXQgc2VyaWFsaXphdGlvbkNvbnRleHQuJGJyZWFrQ2lyY3VsYXJEZXBzQW5kQXdhaXRQcm9taXNlcyQoKTtcbiAgc2VyaWFsaXphdGlvbkNvbnRleHQuJHNlcmlhbGl6ZSQoKTtcbiAgcmV0dXJuIHNlcmlhbGl6YXRpb25Db250ZXh0LiR3cml0ZXIkLnRvU3RyaW5nKCk7XG59XG5cbi8qKlxuICogRGVzZXJpYWxpemUgZGF0YSBmcm9tIHN0cmluZyB0byBhbiBhcnJheSBvZiBvYmplY3RzLlxuICpcbiAqIEBwYXJhbSByYXdTdGF0ZURhdGEgLSBEYXRhIHRvIGRlc2VyaWFsaXplXG4gKiBAcGFyYW0gZWxlbWVudCAtIENvbnRhaW5lciBlbGVtZW50XG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIF9kZXNlcmlhbGl6ZShyYXdTdGF0ZURhdGE6IHN0cmluZyB8IG51bGwsIGVsZW1lbnQ/OiB1bmtub3duKTogdW5rbm93bltdIHtcbiAgaWYgKHJhd1N0YXRlRGF0YSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIGNvbnN0IHN0YXRlRGF0YSA9IEpTT04ucGFyc2UocmF3U3RhdGVEYXRhKTtcbiAgaWYgKCFBcnJheS5pc0FycmF5KHN0YXRlRGF0YSkpIHtcbiAgICByZXR1cm4gW107XG4gIH1cblxuICBsZXQgY29udGFpbmVyOiBEZXNlcmlhbGl6ZUNvbnRhaW5lciB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbiAgaWYgKGlzTm9kZShlbGVtZW50KSAmJiBpc0VsZW1lbnQoZWxlbWVudCkpIHtcbiAgICBjb250YWluZXIgPSBfY3JlYXRlRGVzZXJpYWxpemVDb250YWluZXIoc3RhdGVEYXRhLCBlbGVtZW50IGFzIEhUTUxFbGVtZW50KTtcbiAgfSBlbHNlIHtcbiAgICBjb250YWluZXIgPSBfY3JlYXRlRGVzZXJpYWxpemVDb250YWluZXIoc3RhdGVEYXRhKTtcbiAgfVxuICBjb25zdCBvdXRwdXQgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdGF0ZURhdGEubGVuZ3RoOyBpICs9IDIpIHtcbiAgICBvdXRwdXRbaSAvIDJdID0gZGVzZXJpYWxpemVEYXRhKGNvbnRhaW5lciwgc3RhdGVEYXRhW2ldLCBzdGF0ZURhdGFbaSArIDFdKTtcbiAgfVxuICByZXR1cm4gb3V0cHV0O1xufVxuXG5mdW5jdGlvbiBkZXNlcmlhbGl6ZURhdGEoY29udGFpbmVyOiBEZXNlcmlhbGl6ZUNvbnRhaW5lciwgdHlwZUlkOiBudW1iZXIsIHByb3BWYWx1ZTogdW5rbm93bikge1xuICBpZiAodHlwZUlkID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gcHJvcFZhbHVlO1xuICB9XG4gIGNvbnN0IHZhbHVlID0gYWxsb2NhdGUoY29udGFpbmVyLCB0eXBlSWQsIHByb3BWYWx1ZSk7XG4gIGlmICh0eXBlSWQgPj0gVHlwZUlkcy5FcnJvcikge1xuICAgIGluZmxhdGUoY29udGFpbmVyLCB2YWx1ZSwgdHlwZUlkLCBwcm9wVmFsdWUpO1xuICB9XG4gIHJldHVybiB2YWx1ZTtcbn1cblxuZnVuY3Rpb24gZ2V0T2JqZWN0QnlJZChpZDogbnVtYmVyIHwgc3RyaW5nLCBzdGF0ZURhdGE6IHVua25vd25bXSk6IHVua25vd24ge1xuICBpZiAodHlwZW9mIGlkID09PSAnc3RyaW5nJykge1xuICAgIGlkID0gcGFyc2VJbnQoaWQsIDEwKTtcbiAgfVxuICBhc3NlcnRUcnVlKGlkIDwgc3RhdGVEYXRhLmxlbmd0aCwgYEludmFsaWQgcmVmZXJlbmNlICR7aWR9ID49ICR7c3RhdGVEYXRhLmxlbmd0aH1gKTtcbiAgcmV0dXJuIHN0YXRlRGF0YVtpZF07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfY3JlYXRlRGVzZXJpYWxpemVDb250YWluZXIoXG4gIHN0YXRlRGF0YTogdW5rbm93bltdLFxuICBlbGVtZW50PzogSFRNTEVsZW1lbnRcbik6IERlc2VyaWFsaXplQ29udGFpbmVyIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1jb25zdFxuICBsZXQgc3RhdGU6IHVua25vd25bXTtcbiAgY29uc3QgY29udGFpbmVyOiBEZXNlcmlhbGl6ZUNvbnRhaW5lciA9IHtcbiAgICAkZ2V0T2JqZWN0QnlJZCQ6IChpZDogbnVtYmVyIHwgc3RyaW5nKSA9PiBnZXRPYmplY3RCeUlkKGlkLCBzdGF0ZSksXG4gICAgZ2V0U3luY0ZuOiAoXzogbnVtYmVyKSA9PiB7XG4gICAgICBjb25zdCBmbiA9ICgpID0+IHt9O1xuICAgICAgcmV0dXJuIGZuO1xuICAgIH0sXG4gICAgJHN0b3JlUHJveHlNYXAkOiBuZXcgV2Vha01hcCgpLFxuICAgIGVsZW1lbnQ6IG51bGwsXG4gIH07XG4gIHN0YXRlID0gd3JhcERlc2VyaWFsaXplclByb3h5KGNvbnRhaW5lciBhcyBhbnksIHN0YXRlRGF0YSk7XG4gIGNvbnRhaW5lci4kc3RhdGUkID0gc3RhdGU7XG4gIGlmIChlbGVtZW50KSB7XG4gICAgY29udGFpbmVyLmVsZW1lbnQgPSBlbGVtZW50O1xuICB9XG4gIHJldHVybiBjb250YWluZXI7XG59XG5cbi8qKlxuICogVHJhY2tpbmcgYWxsIG9iamVjdHMgaW4gdGhlIG1hcCB3b3VsZCBiZSBleHBlbnNpdmUuIEZvciB0aGlzIHJlYXNvbiB3ZSBvbmx5IHRyYWNrIHNvbWUgb2YgdGhlXG4gKiBvYmplY3RzLlxuICpcbiAqIEZvciBleGFtcGxlIHdlIHNraXA6XG4gKlxuICogLSBTaG9ydCBzdHJpbmdzXG4gKiAtIEFueXRoaW5nIHdoaWNoIGlzIG5vdCBhbiBvYmplY3QuIChpZS4gbnVtYmVyLCBib29sZWFuLCBudWxsLCB1bmRlZmluZWQpXG4gKlxuICogQHBhcmFtIG9ialxuICogQHJldHVybnNcbiAqL1xuZnVuY3Rpb24gc2hvdWxkVHJhY2tPYmoob2JqOiB1bmtub3duKSB7XG4gIHJldHVybiAoXG4gICAgKHR5cGVvZiBvYmogPT09ICdvYmplY3QnICYmIG9iaiAhPT0gbnVsbCkgfHxcbiAgICAvKipcbiAgICAgKiBXZSB0cmFjayBhbGwgc3RyaW5ncyBncmVhdGVyIHRoYW4gMSBjaGFyYWN0ZXIsIGJlY2F1c2UgdGhvc2UgdGFrZSBhdCBsZWFzdCA2IGJ5dGVzIHRvIGVuY29kZVxuICAgICAqIGFuZCBldmVuIHdpdGggOTk5IHJvb3Qgb2JqZWN0cyBpdCBzYXZlcyBvbmUgYnl0ZSBwZXIgcmVmZXJlbmNlLiBUcmFja2luZyBtb3JlIG9iamVjdHMgbWFrZXNcbiAgICAgKiB0aGUgbWFwIGJpZ2dlciBzbyB3ZSB3YW50IHRvIHN0cmlrZSBhIGJhbGFuY2VcbiAgICAgKi9cbiAgICAodHlwZW9mIG9iaiA9PT0gJ3N0cmluZycgJiYgb2JqLmxlbmd0aCA+IDEpXG4gICAgLy8gVEhJTks6IE5vdCBzdXJlIGlmIHdlIG5lZWQgdG8ga2VlcCB0cmFjayBvZiBmdW5jdGlvbnMgKFFSTHMpIExldCdzIHNraXAgdGhlbSBmb3Igbm93LlxuICAgIC8vIGFuZCBzZWUgaWYgd2UgaGF2ZSBhIHRlc3QgY2FzZSB3aGljaCByZXF1aXJlcyB0aGVtLlxuICApO1xufVxuXG4vKipcbiAqIFdoZW4gc2VyaWFsaXppbmcgdGhlIG9iamVjdCB3ZSBuZWVkIGNoZWNrIGlmIGl0IGlzIFVSTCwgUmVnRXhwLCBNYXAsIFNldCwgZXRjLiBUaGlzIGlzIHRpbWVcbiAqIGNvbnN1bWluZy4gU28gaWYgd2UgY291bGQga25vdyB0aGF0IHRoaXMgaXMgYSBiYXNpYyBvYmplY3QgbGl0ZXJhbCB3ZSBjb3VsZCBza2lwIHRoZSBjaGVjaywgYW5kXG4gKiBvbmx5IHJ1biB0aGUgY2hlY2tzIGZvciBvYmplY3RzIHdoaWNoIGFyZSBub3Qgb2JqZWN0IGxpdGVyYWxzLlxuICpcbiAqIFNvIHRoaXMgZnVuY3Rpb24gaXMgaGVyZSBmb3IgcGVyZm9ybWFuY2UgdG8gc2hvcnQgY2lyY3VpdCBtYW55IGNoZWNrcyBsYXRlci5cbiAqXG4gKiBAcGFyYW0gb2JqXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0TGl0ZXJhbChvYmo6IHVua25vd24pOiBvYmogaXMgb2JqZWN0IHtcbiAgLy8gV2UgYXJlIGFuIG9iamVjdCBsaXRlcmFsIGlmOlxuICAvLyAtIHdlIGFyZSBhIGRpcmVjdCBpbnN0YW5jZSBvZiBvYmplY3QgT1JcbiAgLy8gLSB3ZSBhcmUgYW4gYXJyYXlcbiAgLy8gSW4gYWxsIG90aGVyIGNhc2VzIGl0IGlzIGEgc3ViY2xhc3Mgd2hpY2ggcmVxdWlyZXMgbW9yZSBjaGVja3MuXG4gIGNvbnN0IHByb3RvdHlwZSA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmopO1xuICByZXR1cm4gcHJvdG90eXBlID09IG51bGwgfHwgcHJvdG90eXBlID09PSBPYmplY3QucHJvdG90eXBlIHx8IHByb3RvdHlwZSA9PT0gQXJyYXkucHJvdG90eXBlO1xufVxuXG5mdW5jdGlvbiBpc1Jlc291cmNlPFQgPSB1bmtub3duPih2YWx1ZTogb2JqZWN0KTogdmFsdWUgaXMgUmVzb3VyY2VSZXR1cm5JbnRlcm5hbDxUPiB7XG4gIHJldHVybiAnX19icmFuZCcgaW4gdmFsdWUgJiYgdmFsdWUuX19icmFuZCA9PT0gJ3Jlc291cmNlJztcbn1cblxuY29uc3QgZnJhbWV3b3JrVHlwZSA9IChvYmo6IGFueSkgPT4ge1xuICByZXR1cm4gKFxuICAgICh0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJlxuICAgICAgb2JqICE9PSBudWxsICYmXG4gICAgICAob2JqIGluc3RhbmNlb2YgU2lnbmFsIHx8IG9iaiBpbnN0YW5jZW9mIFRhc2sgfHwgaXNKU1hOb2RlKG9iaikpKSB8fFxuICAgIGlzUXJsKG9iailcbiAgKTtcbn07XG5cbmV4cG9ydCBjb25zdCBjYW5TZXJpYWxpemUgPSAodmFsdWU6IGFueSk6IGJvb2xlYW4gPT4ge1xuICBpZiAoXG4gICAgdmFsdWUgPT0gbnVsbCB8fFxuICAgIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgfHxcbiAgICB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInIHx8XG4gICAgdHlwZW9mIHZhbHVlID09PSAnYm9vbGVhbicgfHxcbiAgICB0eXBlb2YgdmFsdWUgPT09ICdiaWdpbnQnXG4gICkge1xuICAgIHJldHVybiB0cnVlO1xuICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICBjb25zdCBwcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZih2YWx1ZSk7XG4gICAgaWYgKGlzU3RvcmUodmFsdWUpKSB7XG4gICAgICB2YWx1ZSA9IGdldFN0b3JlVGFyZ2V0KHZhbHVlKTtcbiAgICB9XG4gICAgaWYgKHByb3RvID09IE9iamVjdC5wcm90b3R5cGUpIHtcbiAgICAgIGZvciAoY29uc3Qga2V5IGluIHZhbHVlKSB7XG4gICAgICAgIGlmICghY2FuU2VyaWFsaXplKHZhbHVlW2tleV0pKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKHByb3RvID09IEFycmF5LnByb3RvdHlwZSkge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoIWNhblNlcmlhbGl6ZSh2YWx1ZVtpXSkpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSBpZiAoaXNUYXNrKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIGlmIChpc1Byb3BzUHJveHkodmFsdWUpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKGlzUHJvbWlzZSh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSBpZiAoaXNKU1hOb2RlKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgVVJMKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFJlZ0V4cCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFVSTFNlYXJjaFBhcmFtcykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEZvcm1EYXRhKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgU2V0KSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgTWFwKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgVWludDhBcnJheSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGlmIChpc1FybCh2YWx1ZSkgfHwgaXNRd2lrQ29tcG9uZW50KHZhbHVlKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn07XG5cbmNvbnN0IFFSTF9SVU5USU1FX0NIVU5LID0gJ21vY2stY2h1bmsnO1xuXG5leHBvcnQgY29uc3QgZW51bSBUeXBlSWRzIHtcbiAgUm9vdFJlZixcbiAgLyoqIFVuZGVmaW5lZCwgbnVsbCwgdHJ1ZSwgZmFsc2UsIE5hTiwgK0luZiwgLUluZiwgU2xvdCwgRnJhZ21lbnQgKi9cbiAgQ29uc3RhbnQsXG4gIE51bWJlcixcbiAgU3RyaW5nLFxuICBBcnJheSxcbiAgVVJMLFxuICBEYXRlLFxuICBSZWdleCxcbiAgVk5vZGUsXG4gIFJlZlZOb2RlLFxuICBCaWdJbnQsXG4gIFVSTFNlYXJjaFBhcmFtcyxcbiAgLy8vIEFsbCB2YWx1ZXMgYmVsb3cgbmVlZCBpbmZsYXRpb24gYmVjYXVzZSB0aGV5IG1heSBoYXZlIHJlZmVyZW5jZSBjeWNsZXNcbiAgRXJyb3IsXG4gIE9iamVjdCxcbiAgUHJvbWlzZSxcbiAgU2V0LFxuICBNYXAsXG4gIFVpbnQ4QXJyYXksXG4gIFFSTCxcbiAgVGFzayxcbiAgUmVzb3VyY2UsXG4gIENvbXBvbmVudCxcbiAgU2lnbmFsLFxuICBXcmFwcGVkU2lnbmFsLFxuICBDb21wdXRlZFNpZ25hbCxcbiAgU3RvcmUsXG4gIFN0b3JlQXJyYXksXG4gIEZvcm1EYXRhLFxuICBKU1hOb2RlLFxuICBQcm9wc1Byb3h5LFxuICBFZmZlY3REYXRhLFxufVxuZXhwb3J0IGNvbnN0IF90eXBlSWROYW1lcyA9IFtcbiAgJ1Jvb3RSZWYnLFxuICAnQ29uc3RhbnQnLFxuICAnTnVtYmVyJyxcbiAgJ1N0cmluZycsXG4gICdBcnJheScsXG4gICdVUkwnLFxuICAnRGF0ZScsXG4gICdSZWdleCcsXG4gICdWTm9kZScsXG4gICdSZWZWTm9kZScsXG4gICdCaWdJbnQnLFxuICAnVVJMU2VhcmNoUGFyYW1zJyxcbiAgJ0Vycm9yJyxcbiAgJ09iamVjdCcsXG4gICdQcm9taXNlJyxcbiAgJ1NldCcsXG4gICdNYXAnLFxuICAnVWludDhBcnJheScsXG4gICdRUkwnLFxuICAnVGFzaycsXG4gICdSZXNvdXJjZScsXG4gICdDb21wb25lbnQnLFxuICAnU2lnbmFsJyxcbiAgJ1dyYXBwZWRTaWduYWwnLFxuICAnQ29tcHV0ZWRTaWduYWwnLFxuICAnU3RvcmUnLFxuICAnU3RvcmVBcnJheScsXG4gICdGb3JtRGF0YScsXG4gICdKU1hOb2RlJyxcbiAgJ1Byb3BzUHJveHknLFxuICAnRWZmZWN0RGF0YScsXG5dO1xuXG5leHBvcnQgY29uc3QgZW51bSBDb25zdGFudHMge1xuICBVbmRlZmluZWQsXG4gIE51bGwsXG4gIFRydWUsXG4gIEZhbHNlLFxuICBFbXB0eVN0cmluZyxcbiAgRU1QVFlfQVJSQVksXG4gIEVNUFRZX09CSixcbiAgTkVFRFNfQ09NUFVUQVRJT04sXG4gIFNsb3QsXG4gIEZyYWdtZW50LFxuICBOYU4sXG4gIFBvc2l0aXZlSW5maW5pdHksXG4gIE5lZ2F0aXZlSW5maW5pdHksXG4gIE1heFNhZmVJbnQsXG4gIC8vIHVzZWQgZm9yIGNsb3NlIGZyYWdtZW50XG4gIEFsbW9zdE1heFNhZmVJbnQsXG4gIE1pblNhZmVJbnQsXG59XG5cbmNvbnN0IGNpcmN1bGFyUHJvb2ZKc29uID0gKG9iajogdW5rbm93biwgaW5kZW50Pzogc3RyaW5nIHwgbnVtYmVyKSA9PiB7XG4gIGNvbnN0IHNlZW4gPSBuZXcgV2Vha1NldCgpO1xuICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoXG4gICAgb2JqLFxuICAgIChrZXksIHZhbHVlKSA9PiB7XG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICBpZiAoc2Vlbi5oYXModmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuIGBbQ2lyY3VsYXIgJHt2YWx1ZS5jb25zdHJ1Y3Rvci5uYW1lfV1gO1xuICAgICAgICB9XG4gICAgICAgIHNlZW4uYWRkKHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9LFxuICAgIGluZGVudFxuICApO1xufTtcbmNvbnN0IHByaW50UmF3ID0gKHZhbHVlOiBhbnksIHByZWZpeDogc3RyaW5nKSA9PiB7XG4gIGxldCByZXN1bHQgPSB2bm9kZV9pc1ZOb2RlKHZhbHVlKVxuICAgID8gdm5vZGVfdG9TdHJpbmcuY2FsbCh2YWx1ZSwgMSwgJycsIHRydWUpLnJlcGxhY2VBbGwoL1xcbi4qL2dtLCAnJylcbiAgICA6IHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgPyBTdHJpbmcodmFsdWUpXG4gICAgICA6IGNpcmN1bGFyUHJvb2ZKc29uKHZhbHVlLCAyKTtcbiAgaWYgKHJlc3VsdC5sZW5ndGggPiA1MDApIHtcbiAgICByZXN1bHQgPSByZXN1bHQuc2xpY2UoMCwgNTAwKSArICdcIi4uLic7XG4gIH1cbiAgcmVzdWx0ID0gcmVzdWx0LnJlcGxhY2UoL1xcbi9nLCAnXFxuJyArIHByZWZpeCk7XG4gIHJldHVybiByZXN1bHQuaW5jbHVkZXMoJ1xcbicpID8gKHJlc3VsdCA9IGBcXG4ke3ByZWZpeH0ke3Jlc3VsdH1gKSA6IHJlc3VsdDtcbn07XG5sZXQgaGFzUmF3ID0gZmFsc2U7XG5leHBvcnQgY29uc3QgZHVtcFN0YXRlID0gKFxuICBzdGF0ZTogdW5rbm93bltdLFxuICBjb2xvciA9IGZhbHNlLFxuICBwcmVmaXggPSAnJyxcbiAgbGltaXQ6IG51bWJlciB8IG51bGwgPSAyMFxuKSA9PiB7XG4gIGNvbnN0IFJFRCA9IGNvbG9yID8gJ1xceDFiWzMxbScgOiAnJztcbiAgY29uc3QgUkVTRVQgPSBjb2xvciA/ICdcXHgxYlswbScgOiAnJztcbiAgY29uc3QgaXNSb290ID0gcHJlZml4ID09PSAnJztcbiAgY29uc3Qgb3V0OiBhbnlbXSA9IFtdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHN0YXRlLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGxpbWl0ICYmIGkgPiAyICogbGltaXQpIHtcbiAgICAgIG91dC5wdXNoKCcuLi4nKTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBjb25zdCBrZXkgPSBzdGF0ZVtpXTtcbiAgICBsZXQgdmFsdWUgPSBzdGF0ZVsrK2ldO1xuICAgIGlmIChrZXkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgaGFzUmF3ID0gdHJ1ZTtcbiAgICAgIG91dC5wdXNoKFxuICAgICAgICBgJHtSRUR9W3JhdyR7dHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSA/IGAgJHt2YWx1ZS5jb25zdHJ1Y3Rvci5uYW1lfWAgOiAnJ31dJHtSRVNFVH0gJHtwcmludFJhdyh2YWx1ZSwgYCR7cHJlZml4fSAgYCl9YFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGtleSA9PT0gVHlwZUlkcy5Db25zdGFudCkge1xuICAgICAgICB2YWx1ZSA9IGNvbnN0YW50VG9OYW1lKHZhbHVlIGFzIENvbnN0YW50cyk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdmFsdWUgPSBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG4gICAgICAgIGlmICgodmFsdWUgYXMgc3RyaW5nKS5sZW5ndGggPiAxMjApIHtcbiAgICAgICAgICB2YWx1ZSA9ICh2YWx1ZSBhcyBzdHJpbmcpLnNsaWNlKDAsIDEyMCkgKyAnXCIuLi4nO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIHZhbHVlID0gdmFsdWUubGVuZ3RoID8gYFtcXG4ke2R1bXBTdGF0ZSh2YWx1ZSwgY29sb3IsIGAke3ByZWZpeH0gIGApfVxcbiR7cHJlZml4fV1gIDogJ1tdJztcbiAgICAgIH1cbiAgICAgIG91dC5wdXNoKGAke1JFRH0ke3R5cGVJZFRvTmFtZShrZXkgYXMgVHlwZUlkcyl9JHtSRVNFVH0gJHt2YWx1ZX1gKTtcbiAgICB9XG4gIH1cbiAgY29uc3QgcmVzdWx0ID0gb3V0Lm1hcCgodiwgaSkgPT4gYCR7cHJlZml4fSR7aXNSb290ID8gYCR7aX0gYCA6ICcnfSR7dn1gKS5qb2luKCdcXG4nKTtcbiAgaWYgKGlzUm9vdCkge1xuICAgIGNvbnN0IGNvdW50ID0gaGFzUmF3ID8gJycgOiBgKCR7SlNPTi5zdHJpbmdpZnkoc3RhdGUpLmxlbmd0aH0gY2hhcnMpYDtcbiAgICBoYXNSYXcgPSBmYWxzZTtcbiAgICByZXR1cm4gYFxcbiR7cmVzdWx0fVxcbiR7Y291bnR9YDtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuZXhwb3J0IGNvbnN0IHR5cGVJZFRvTmFtZSA9IChjb2RlOiBUeXBlSWRzKSA9PiB7XG4gIHJldHVybiBfdHlwZUlkTmFtZXNbY29kZV0gfHwgYFVua25vd24oJHtjb2RlfSlgO1xufTtcblxuY29uc3QgY29uc3RhbnRUb05hbWUgPSAoY29kZTogQ29uc3RhbnRzKSA9PiB7XG4gIHJldHVybiBfY29uc3RhbnROYW1lc1tjb2RlXSB8fCBgVW5rbm93bigke2NvZGV9KWA7XG59O1xuIl19","import { QError_verifySerializable, qError } from '../error/error';\nimport { isNode } from './element';\nimport { throwErrorAndStop } from './log';\nimport { isPromise } from './promises';\nimport { isArray, isFunction, isObject, isSerializableObject } from './types';\nimport { canSerialize } from '../shared-serialization';\nimport { isSignal } from '../../signal/signal';\nimport { unwrapStore } from '../../signal/store';\n/** @internal */\nexport const verifySerializable = (value, preMessage) => {\n    const seen = new Set();\n    return _verifySerializable(value, seen, '_', preMessage);\n};\nconst _verifySerializable = (value, seen, ctx, preMessage) => {\n    const unwrapped = unwrapStore(value);\n    if (unwrapped == null) {\n        return value;\n    }\n    if (shouldSerialize(unwrapped)) {\n        if (seen.has(unwrapped)) {\n            return value;\n        }\n        seen.add(unwrapped);\n        if (isSignal(unwrapped)) {\n            return value;\n        }\n        if (canSerialize(unwrapped)) {\n            return value;\n        }\n        const typeObj = typeof unwrapped;\n        switch (typeObj) {\n            case 'object':\n                if (isPromise(unwrapped)) {\n                    return value;\n                }\n                if (isNode(unwrapped)) {\n                    return value;\n                }\n                if (isArray(unwrapped)) {\n                    let expectIndex = 0;\n                    // Make sure the array has no holes\n                    unwrapped.forEach((v, i) => {\n                        if (i !== expectIndex) {\n                            throw qError(QError_verifySerializable, unwrapped);\n                        }\n                        _verifySerializable(v, seen, ctx + '[' + i + ']');\n                        expectIndex = i + 1;\n                    });\n                    return value;\n                }\n                if (isSerializableObject(unwrapped)) {\n                    for (const [key, item] of Object.entries(unwrapped)) {\n                        _verifySerializable(item, seen, ctx + '.' + key);\n                    }\n                    return value;\n                }\n                break;\n            case 'boolean':\n            case 'string':\n            case 'number':\n                return value;\n        }\n        let message = '';\n        if (preMessage) {\n            message = preMessage;\n        }\n        else {\n            message = 'Value cannot be serialized';\n        }\n        if (ctx !== '_') {\n            message += ` in ${ctx},`;\n        }\n        if (typeObj === 'object') {\n            message += ` because it's an instance of \"${value?.constructor.name}\". You might need to use 'noSerialize()' or use an object literal instead. Check out https://qwik.dev/docs/advanced/dollar/`;\n        }\n        else if (typeObj === 'function') {\n            const fnName = value.name;\n            message += ` because it's a function named \"${fnName}\". You might need to convert it to a QRL using $(fn):\\n\\nconst ${fnName} = $(${String(value)});\\n\\nPlease check out https://qwik.dev/docs/advanced/qrl/ for more information.`;\n        }\n        console.error('Trying to serialize', value);\n        throwErrorAndStop(message);\n    }\n    return value;\n};\nconst noSerializeSet = /*#__PURE__*/ new WeakSet();\nconst weakSerializeSet = /*#__PURE__*/ new WeakSet();\nexport const shouldSerialize = (obj) => {\n    if (isObject(obj) || isFunction(obj)) {\n        return !noSerializeSet.has(obj);\n    }\n    return true;\n};\nexport const fastSkipSerialize = (obj) => {\n    return noSerializeSet.has(obj);\n};\nexport const fastWeakSerialize = (obj) => {\n    return weakSerializeSet.has(obj);\n};\n// <docs markdown=\"../readme.md#noSerialize\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#noSerialize instead)\n/**\n * Marks a property on a store as non-serializable.\n *\n * At times it is necessary to store values on a store that are non-serializable. Normally this is a\n * runtime error as Store wants to eagerly report when a non-serializable property is assigned to\n * it.\n *\n * You can use `noSerialize()` to mark a value as non-serializable. The value is persisted in the\n * Store but does not survive serialization. The implication is that when your application is\n * resumed, the value of this object will be `undefined`. You will be responsible for recovering\n * from this.\n *\n * See: [noSerialize Tutorial](http://qwik.dev/tutorial/store/no-serialize)\n *\n * @public\n */\n// </docs>\nexport const noSerialize = (input) => {\n    if (input != null) {\n        noSerializeSet.add(input);\n    }\n    return input;\n};\n/** @internal */\nexport const _weakSerialize = (input) => {\n    weakSerializeSet.add(input);\n    return input;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VyaWFsaXplLXV0aWxzLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3NoYXJlZC91dGlscy9zZXJpYWxpemUtdXRpbHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLHlCQUF5QixFQUFFLE1BQU0sRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQ25FLE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSxXQUFXLENBQUM7QUFDbkMsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sT0FBTyxDQUFDO0FBQzFDLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxZQUFZLENBQUM7QUFDdkMsT0FBTyxFQUFFLE9BQU8sRUFBRSxVQUFVLEVBQUUsUUFBUSxFQUFFLG9CQUFvQixFQUFFLE1BQU0sU0FBUyxDQUFDO0FBQzlFLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSx5QkFBeUIsQ0FBQztBQUN2RCxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFDL0MsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBRWpELGdCQUFnQjtBQUNoQixNQUFNLENBQUMsTUFBTSxrQkFBa0IsR0FBRyxDQUFJLEtBQVEsRUFBRSxVQUFtQixFQUFLLEVBQUU7SUFDeEUsTUFBTSxJQUFJLEdBQUcsSUFBSSxHQUFHLEVBQUUsQ0FBQztJQUN2QixPQUFPLG1CQUFtQixDQUFDLEtBQUssRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLFVBQVUsQ0FBQyxDQUFDO0FBQzNELENBQUMsQ0FBQztBQUVGLE1BQU0sbUJBQW1CLEdBQUcsQ0FBSSxLQUFRLEVBQUUsSUFBYyxFQUFFLEdBQVcsRUFBRSxVQUFtQixFQUFLLEVBQUU7SUFDL0YsTUFBTSxTQUFTLEdBQUcsV0FBVyxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3JDLElBQUksU0FBUyxJQUFJLElBQUksRUFBRSxDQUFDO1FBQ3RCLE9BQU8s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RCxPQUFPLEtBQVksQ0FBQztBQUN0QixDQUFDLENBQUM7QUFFRixnQkFBZ0I7QUFDaEIsTUFBTSxDQUFDLE1BQU0sY0FBYyxHQUFHLENBQW1CLEtBQVEsRUFBYyxFQUFFO0lBQ3ZFLGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUM1QixPQUFPLEtBQVksQ0FBQztBQUN0QixDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBRRXJyb3JfdmVyaWZ5U2VyaWFsaXphYmxlLCBxRXJyb3IgfSBmcm9tICcuLi9lcnJvci9lcnJvcic7XG5pbXBvcnQgeyBpc05vZGUgfSBmcm9tICcuL2VsZW1lbnQnO1xuaW1wb3J0IHsgdGhyb3dFcnJvckFuZFN0b3AgfSBmcm9tICcuL2xvZyc7XG5pbXBvcnQgeyBpc1Byb21pc2UgfSBmcm9tICcuL3Byb21pc2VzJztcbmltcG9ydCB7IGlzQXJyYXksIGlzRnVuY3Rpb24sIGlzT2JqZWN0LCBpc1NlcmlhbGl6YWJsZU9iamVjdCB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgY2FuU2VyaWFsaXplIH0gZnJvbSAnLi4vc2hhcmVkLXNlcmlhbGl6YXRpb24nO1xuaW1wb3J0IHsgaXNTaWduYWwgfSBmcm9tICcuLi8uLi9zaWduYWwvc2lnbmFsJztcbmltcG9ydCB7IHVud3JhcFN0b3JlIH0gZnJvbSAnLi4vLi4vc2lnbmFsL3N0b3JlJztcblxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IHZlcmlmeVNlcmlhbGl6YWJsZSA9IDxUPih2YWx1ZTogVCwgcHJlTWVzc2FnZT86IHN0cmluZyk6IFQgPT4ge1xuICBjb25zdCBzZWVuID0gbmV3IFNldCgpO1xuICByZXR1cm4gX3ZlcmlmeVNlcmlhbGl6YWJsZSh2YWx1ZSwgc2VlbiwgJ18nLCBwcmVNZXNzYWdlKTtcbn07XG5cbmNvbnN0IF92ZXJpZnlTZXJpYWxpemFibGUgPSA8VD4odmFsdWU6IFQsIHNlZW46IFNldDxhbnk+LCBjdHg6IHN0cmluZywgcHJlTWVzc2FnZT86IHN0cmluZyk6IFQgPT4ge1xuICBjb25zdCB1bndyYXBwZWQgPSB1bndyYXBTdG9yZSh2YWx1ZSk7XG4gIGlmICh1bndyYXBwZWQgPT0gbnVsbCkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBpZiAoc2hvdWxkU2VyaWFsaXplKHVud3JhcHBlZCkpIHtcbiAgICBpZiAoc2Vlbi5oYXModW53cmFwcGVkKSkge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBzZWVuLmFkZCh1bndyYXBwZWQpO1xuICAgIGlmIChpc1NpZ25hbCh1bndyYXBwZWQpKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGlmIChjYW5TZXJpYWxpemUodW53cmFwcGVkKSkge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBjb25zdCB0eXBlT2JqID0gdHlwZW9mIHVud3JhcHBlZDtcbiAgICBzd2l0Y2ggKHR5cGVPYmopIHtcbiAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgIGlmIChpc1Byb21pc2UodW53cmFwcGVkKSkge1xuICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNOb2RlKHVud3JhcHBlZCkpIHtcbiAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQXJyYXkodW53cmFwcGVkKSkge1xuICAgICAgICAgIGxldCBleHBlY3RJbmRleCA9IDA7XG4gICAgICAgICAgLy8gTWFrZSBzdXJlIHRoZSBhcnJheSBoYXMgbm8gaG9sZXNcbiAgICAgICAgICB1bndyYXBwZWQuZm9yRWFjaCgodiwgaSkgPT4ge1xuICAgICAgICAgICAgaWYgKGkgIT09IGV4cGVjdEluZGV4KSB7XG4gICAgICAgICAgICAgIHRocm93IHFFcnJvcihRRXJyb3JfdmVyaWZ5U2VyaWFsaXphYmxlLCB1bndyYXBwZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3ZlcmlmeVNlcmlhbGl6YWJsZSh2LCBzZWVuLCBjdHggKyAnWycgKyBpICsgJ10nKTtcbiAgICAgICAgICAgIGV4cGVjdEluZGV4ID0gaSArIDE7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1NlcmlhbGl6YWJsZU9iamVjdCh1bndyYXBwZWQpKSB7XG4gICAgICAgICAgZm9yIChjb25zdCBba2V5LCBpdGVtXSBvZiBPYmplY3QuZW50cmllcyh1bndyYXBwZWQpKSB7XG4gICAgICAgICAgICBfdmVyaWZ5U2VyaWFsaXphYmxlKGl0ZW0sIHNlZW4sIGN0eCArICcuJyArIGtleSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgIGNhc2UgJ251bWJlcic6XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgbGV0IG1lc3NhZ2UgPSAnJztcbiAgICBpZiAocHJlTWVzc2FnZSkge1xuICAgICAgbWVzc2FnZSA9IHByZU1lc3NhZ2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1lc3NhZ2UgPSAnVmFsdWUgY2Fubm90IGJlIHNlcmlhbGl6ZWQnO1xuICAgIH1cbiAgICBpZiAoY3R4ICE9PSAnXycpIHtcbiAgICAgIG1lc3NhZ2UgKz0gYCBpbiAke2N0eH0sYDtcbiAgICB9XG4gICAgaWYgKHR5cGVPYmogPT09ICdvYmplY3QnKSB7XG4gICAgICBtZXNzYWdlICs9IGAgYmVjYXVzZSBpdCdzIGFuIGluc3RhbmNlIG9mIFwiJHt2YWx1ZT8uY29uc3RydWN0b3IubmFtZX1cIi4gWW91IG1pZ2h0IG5lZWQgdG8gdXNlICdub1NlcmlhbGl6ZSgpJyBvciB1c2UgYW4gb2JqZWN0IGxpdGVyYWwgaW5zdGVhZC4gQ2hlY2sgb3V0IGh0dHBzOi8vcXdpay5kZXYvZG9jcy9hZHZhbmNlZC9kb2xsYXIvYDtcbiAgICB9IGVsc2UgaWYgKHR5cGVPYmogPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNvbnN0IGZuTmFtZSA9ICh2YWx1ZSBhcyBGdW5jdGlvbikubmFtZTtcbiAgICAgIG1lc3NhZ2UgKz0gYCBiZWNhdXNlIGl0J3MgYSBmdW5jdGlvbiBuYW1lZCBcIiR7Zm5OYW1lfVwiLiBZb3UgbWlnaHQgbmVlZCB0byBjb252ZXJ0IGl0IHRvIGEgUVJMIHVzaW5nICQoZm4pOlxcblxcbmNvbnN0ICR7Zm5OYW1lfSA9ICQoJHtTdHJpbmcoXG4gICAgICAgIHZhbHVlXG4gICAgICApfSk7XFxuXFxuUGxlYXNlIGNoZWNrIG91dCBodHRwczovL3F3aWsuZGV2L2RvY3MvYWR2YW5jZWQvcXJsLyBmb3IgbW9yZSBpbmZvcm1hdGlvbi5gO1xuICAgIH1cbiAgICBjb25zb2xlLmVycm9yKCdUcnlpbmcgdG8gc2VyaWFsaXplJywgdmFsdWUpO1xuICAgIHRocm93RXJyb3JBbmRTdG9wKG1lc3NhZ2UpO1xuICB9XG4gIHJldHVybiB2YWx1ZTtcbn07XG5jb25zdCBub1NlcmlhbGl6ZVNldCA9IC8qI19fUFVSRV9fKi8gbmV3IFdlYWtTZXQ8b2JqZWN0PigpO1xuY29uc3Qgd2Vha1NlcmlhbGl6ZVNldCA9IC8qI19fUFVSRV9fKi8gbmV3IFdlYWtTZXQ8b2JqZWN0PigpO1xuXG5leHBvcnQgY29uc3Qgc2hvdWxkU2VyaWFsaXplID0gKG9iajogdW5rbm93bik6IGJvb2xlYW4gPT4ge1xuICBpZiAoaXNPYmplY3Qob2JqKSB8fCBpc0Z1bmN0aW9uKG9iaikpIHtcbiAgICByZXR1cm4gIW5vU2VyaWFsaXplU2V0LmhhcyhvYmopO1xuICB9XG4gIHJldHVybiB0cnVlO1xufTtcblxuZXhwb3J0IGNvbnN0IGZhc3RTa2lwU2VyaWFsaXplID0gKG9iajogb2JqZWN0KTogYm9vbGVhbiA9PiB7XG4gIHJldHVybiBub1NlcmlhbGl6ZVNldC5oYXMob2JqKTtcbn07XG5cbmV4cG9ydCBjb25zdCBmYXN0V2Vha1NlcmlhbGl6ZSA9IChvYmo6IG9iamVjdCk6IGJvb2xlYW4gPT4ge1xuICByZXR1cm4gd2Vha1NlcmlhbGl6ZVNldC5oYXMob2JqKTtcbn07XG5cbi8qKlxuICogUmV0dXJuZWQgdHlwZSBvZiB0aGUgYG5vU2VyaWFsaXplKClgIGZ1bmN0aW9uLiBJdCB3aWxsIGJlIFRZUEUgb3IgdW5kZWZpbmVkLlxuICpcbiAqIEBwdWJsaWNcbiAqIEBzZWUgbm9TZXJpYWxpemVcbiAqL1xuZXhwb3J0IHR5cGUgTm9TZXJpYWxpemU8VD4gPSAoVCAmIHsgX19ub19zZXJpYWxpemVfXzogdHJ1ZSB9KSB8IHVuZGVmaW5lZDtcblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi9yZWFkbWUubWQjbm9TZXJpYWxpemVcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjbm9TZXJpYWxpemUgaW5zdGVhZClcbi8qKlxuICogTWFya3MgYSBwcm9wZXJ0eSBvbiBhIHN0b3JlIGFzIG5vbi1zZXJpYWxpemFibGUuXG4gKlxuICogQXQgdGltZXMgaXQgaXMgbmVjZXNzYXJ5IHRvIHN0b3JlIHZhbHVlcyBvbiBhIHN0b3JlIHRoYXQgYXJlIG5vbi1zZXJpYWxpemFibGUuIE5vcm1hbGx5IHRoaXMgaXMgYVxuICogcnVudGltZSBlcnJvciBhcyBTdG9yZSB3YW50cyB0byBlYWdlcmx5IHJlcG9ydCB3aGVuIGEgbm9uLXNlcmlhbGl6YWJsZSBwcm9wZXJ0eSBpcyBhc3NpZ25lZCB0b1xuICogaXQuXG4gKlxuICogWW91IGNhbiB1c2UgYG5vU2VyaWFsaXplKClgIHRvIG1hcmsgYSB2YWx1ZSBhcyBub24tc2VyaWFsaXphYmxlLiBUaGUgdmFsdWUgaXMgcGVyc2lzdGVkIGluIHRoZVxuICogU3RvcmUgYnV0IGRvZXMgbm90IHN1cnZpdmUgc2VyaWFsaXphdGlvbi4gVGhlIGltcGxpY2F0aW9uIGlzIHRoYXQgd2hlbiB5b3VyIGFwcGxpY2F0aW9uIGlzXG4gKiByZXN1bWVkLCB0aGUgdmFsdWUgb2YgdGhpcyBvYmplY3Qgd2lsbCBiZSBgdW5kZWZpbmVkYC4gWW91IHdpbGwgYmUgcmVzcG9uc2libGUgZm9yIHJlY292ZXJpbmdcbiAqIGZyb20gdGhpcy5cbiAqXG4gKiBTZWU6IFtub1NlcmlhbGl6ZSBUdXRvcmlhbF0oaHR0cDovL3F3aWsuZGV2L3R1dG9yaWFsL3N0b3JlL25vLXNlcmlhbGl6ZSlcbiAqXG4gKiBAcHVibGljXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBjb25zdCBub1NlcmlhbGl6ZSA9IDxUIGV4dGVuZHMgb2JqZWN0IHwgdW5kZWZpbmVkPihpbnB1dDogVCk6IE5vU2VyaWFsaXplPFQ+ID0+IHtcbiAgaWYgKGlucHV0ICE9IG51bGwpIHtcbiAgICBub1NlcmlhbGl6ZVNldC5hZGQoaW5wdXQpO1xuICB9XG4gIHJldHVybiBpbnB1dCBhcyBhbnk7XG59O1xuXG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgX3dlYWtTZXJpYWxpemUgPSA8VCBleHRlbmRzIG9iamVjdD4oaW5wdXQ6IFQpOiBQYXJ0aWFsPFQ+ID0+IHtcbiAgd2Vha1NlcmlhbGl6ZVNldC5hZGQoaW5wdXQpO1xuICByZXR1cm4gaW5wdXQgYXMgYW55O1xufTtcbiJdfQ==","import { isDev } from '@qwik.dev/core/build';\nimport { assertDefined } from '../error/assert';\nimport { qError, QError_qrlIsNotFunction } from '../error/error';\nimport { getPlatform, isServerPlatform } from '../platform/platform';\nimport { verifySerializable } from '../utils/serialize-utils';\nimport { invoke, newInvokeContext, newInvokeContextFromTuple, tryGetInvokeContext, } from '../../use/use-core';\nimport { getQFuncs, QInstanceAttr } from '../utils/markers';\nimport { isPromise, maybeThen } from '../utils/promises';\nimport { qDev, qSerialize, qTest, seal } from '../utils/qdev';\nimport { isArray, isFunction } from '../utils/types';\nimport { isSignal } from '../../signal/signal';\nexport const isQrl = (value) => {\n    return typeof value === 'function' && typeof value.getSymbol === 'function';\n};\n// Make sure this value is same as value in `platform.ts`\nexport const SYNC_QRL = '<sync>';\n/** Sync QRL is a function which is serialized into `<script q:func=\"qwik/json\">` tag. */\nexport const isSyncQrl = (value) => {\n    return isQrl(value) && value.$symbol$ == SYNC_QRL;\n};\nexport const createQRL = (chunk, symbol, symbolRef, symbolFn, capture, captureRef, refSymbol) => {\n    if (qDev && qSerialize) {\n        if (captureRef) {\n            for (const item of captureRef) {\n                verifySerializable(item, 'Captured variable in the closure can not be serialized');\n            }\n        }\n    }\n    let _containerEl;\n    const qrl = async function (...args) {\n        const fn = invokeFn.call(this, tryGetInvokeContext());\n        const result = await fn(...args);\n        return result;\n    };\n    const setContainer = (el) => {\n        if (!_containerEl) {\n            _containerEl = el;\n        }\n        return _containerEl;\n    };\n    // Wrap functions to provide their lexical scope\n    const wrapFn = (fn) => {\n        if (typeof fn !== 'function' || (!capture?.length && !captureRef?.length)) {\n            return fn;\n        }\n        return function (...args) {\n            let context = tryGetInvokeContext();\n            if (context) {\n                return fn.apply(this, args);\n            }\n            context = newInvokeContext();\n            context.$qrl$ = qrl;\n            context.$event$ = this;\n            return invoke.call(this, context, fn, ...args);\n        };\n    };\n    const resolve = async (containerEl) => {\n        if (symbolRef !== null) {\n            // Resolving (Promise) or already resolved (value)\n            return symbolRef;\n        }\n        if (containerEl) {\n            setContainer(containerEl);\n        }\n        if (chunk === '') {\n            // Sync QRL\n            assertDefined(_containerEl, 'Sync QRL must have container element');\n            const hash = _containerEl.getAttribute(QInstanceAttr);\n            const doc = _containerEl.ownerDocument;\n            const qFuncs = getQFuncs(doc, hash);\n            // No need to wrap, syncQRLs can't have captured scope\n            return (qrl.resolved = symbolRef = qFuncs[Number(symbol)]);\n        }\n        const start = now();\n        const ctx = tryGetInvokeContext();\n        if (symbolFn !== null) {\n            symbolRef = symbolFn().then((module) => (qrl.resolved = symbolRef = wrapFn(module[symbol])));\n        }\n        else {\n            const imported = getPlatform().importSymbol(_containerEl, chunk, symbol);\n            symbolRef = maybeThen(imported, (ref) => (qrl.resolved = symbolRef = wrapFn(ref)));\n        }\n        if (typeof symbolRef === 'object' && isPromise(symbolRef)) {\n            symbolRef.then(() => emitUsedSymbol(symbol, ctx?.$element$, start), (err) => {\n                console.error(`qrl ${symbol} failed to load`, err);\n                // We shouldn't cache rejections, we can try again later\n                symbolRef = null;\n                throw err;\n            });\n        }\n        return symbolRef;\n    };\n    const resolveLazy = (containerEl) => {\n        return symbolRef !== null ? symbolRef : resolve(containerEl);\n    };\n    function invokeFn(currentCtx, beforeFn) {\n        // Note that we bind the current `this`\n        return (...args) => maybeThen(resolveLazy(), (f) => {\n            if (!isFunction(f)) {\n                throw qError(QError_qrlIsNotFunction);\n            }\n            if (beforeFn && beforeFn() === false) {\n                return;\n            }\n            const context = createOrReuseInvocationContext(currentCtx);\n            const prevQrl = context.$qrl$;\n            const prevEvent = context.$event$;\n            // Note that we set the qrl here instead of in wrapFn because\n            // it is possible we're called on a copied qrl\n            context.$qrl$ = qrl;\n            context.$event$ || (context.$event$ = this);\n            try {\n                return invoke.call(this, context, f, ...args);\n            }\n            finally {\n                context.$qrl$ = prevQrl;\n                context.$event$ = prevEvent;\n            }\n        });\n    }\n    const createOrReuseInvocationContext = (invoke) => {\n        if (invoke == null) {\n            return newInvokeContext();\n        }\n        else if (isArray(invoke)) {\n            return newInvokeContextFromTuple(invoke);\n        }\n        else {\n            return invoke;\n        }\n    };\n    const resolvedSymbol = refSymbol ?? symbol;\n    const hash = getSymbolHash(resolvedSymbol);\n    Object.assign(qrl, {\n        getSymbol: () => resolvedSymbol,\n        getHash: () => hash,\n        getCaptured: () => captureRef,\n        resolve,\n        $resolveLazy$: resolveLazy,\n        $setContainer$: setContainer,\n        $chunk$: chunk,\n        $symbol$: symbol,\n        $refSymbol$: refSymbol,\n        $hash$: hash,\n        getFn: invokeFn,\n        $capture$: capture,\n        $captureRef$: captureRef,\n        dev: null,\n        resolved: undefined,\n    });\n    if (symbolRef) {\n        // Replace symbolRef with (a promise for) the value or wrapped function\n        symbolRef = maybeThen(symbolRef, (resolved) => (qrl.resolved = symbolRef = wrapFn(resolved)));\n    }\n    if (isDev) {\n        Object.defineProperty(qrl, '_devOnlySymbolRef', {\n            get() {\n                return symbolRef;\n            },\n        });\n    }\n    if (qDev) {\n        seal(qrl);\n    }\n    return qrl;\n};\nexport const getSymbolHash = (symbolName) => {\n    const index = symbolName.lastIndexOf('_');\n    if (index > -1) {\n        return symbolName.slice(index + 1);\n    }\n    return symbolName;\n};\nexport function assertQrl(qrl) {\n    if (qDev) {\n        if (!isQrl(qrl)) {\n            throw new Error('Not a QRL');\n        }\n    }\n}\nexport function assertSignal(obj) {\n    if (qDev) {\n        if (!isSignal(obj) && !isSignal(obj)) {\n            throw new Error('Not a Signal');\n        }\n    }\n}\nconst EMITTED = /*#__PURE__*/ new Set();\nexport const emitUsedSymbol = (symbol, element, reqTime) => {\n    if (!EMITTED.has(symbol)) {\n        EMITTED.add(symbol);\n        emitEvent('qsymbol', {\n            symbol,\n            element,\n            reqTime,\n        });\n    }\n};\nexport const emitEvent = (eventName, detail) => {\n    if (!qTest && !isServerPlatform() && typeof document === 'object') {\n        document.dispatchEvent(new CustomEvent(eventName, {\n            bubbles: false,\n            detail,\n        }));\n    }\n};\nconst now = () => {\n    if (qTest || isServerPlatform()) {\n        return 0;\n    }\n    if (typeof performance === 'object') {\n        return performance.now();\n    }\n    return 0;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicXJsLWNsYXNzLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3NoYXJlZC9xcmwvcXJsLWNsYXNzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUM3QyxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDaEQsT0FBTyxFQUFFLE1BQU0sRUFBRSx1QkFBdUIsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQ2pFLE9BQU8sRUFBRSxXQUFXLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUNyRSxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQztBQUM5RCxPQUFPLEVBQ0wsTUFBTSxFQUNOLGdCQUFnQixFQUNoQix5QkFBeUIsRUFDekIsbUJBQW1CLEdBR3BCLE1BQU0sb0JBQW9CLENBQUM7QUFDNUIsT0FBTyxFQUFFLFNBQVMsRUFBRSxhQUFhLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUM1RCxPQUFPLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBQ3pELE9BQU8sRUFBRSxJQUFJLEVBQUUsVUFBVSxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDOUQsT0FBTyxFQUFFLE9BQU8sRUFBRSxVQUFVLEVBQXVCLE1BQU0sZ0JBQWdCLENBQUM7QUFDMUUsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBSy9DLE1BQU0sQ0FBQyxNQUFNLEtBQUssR0FBRyxDQUFjLEtBQWMsRUFBMkIsRUFBRTtJQUM1RSxPQUFPLE9BQU8sS0FBSyxLQUFLLFVBQVUsSUFBSSxPQUFRLEtBQWEsQ0FBQyxTQUFTLEtBQUssVUFBVSxDQUFDO0FBQ3ZGLENBQUMsQ0FBQztBQUVGLHlEQUF5RDtBQUN6RCxNQUFNLENBQUMsTUFBTSxRQUFRLEdBQUcsUUFBUSxDQUFDO0FBUWpDLHlGQUF5RjtBQUN6RixNQUFNLENBQUMsTUFBTSxTQUFTLEdBQUcsQ0FBQyxLQUFVLEVBQTRCLEVBQUU7SUFDaEUsT0FBTyxLQUFLLENBQUMsS0FBSyxDQUFDLElBQUksS0FBSyxDQUFDLFFBQVEsSUFBSSxRQUFRLENBQUM7QUFDcEQsQ0FBQyxDQUFDO0FBZ0NGLE1BQU0sQ0FBQyxNQUFNLFNBQVMsR0FBRyxDQUN2QixLQUFvQixFQUNwQixNQUFjLEVBQ2QsU0FBc0MsRUFDdEMsUUFBc0QsRUFDdEQsT0FBa0MsRUFDbEMsVUFBc0MsRUFDdEMsU0FBd0IsRUFDTCxFQUFFO0lBQ3JCLElBQUksSUFBSSxJQUFJLFVBQVUsRUFBRSxDQUFDO1FBQ3ZCLElBQUksVUFBVSxFQUFFLENBQUM7WUFDZixLQUFLLE1BQU0sSUFBSSxJQUFJLFVBQVUsRUFBRSxDQUFDO2dCQUM5QixrQkFBa0IsQ0FBQyxJQUFJLEVBQUUsd0RBQXdELENBQUMsQ0FBQztZQUNyRixDQUFDO1FBQ0gsQ0FBQztJQUNILENBQUM7SUFFRCxJQUFJLFlBQWlDLENBQUM7SUFFdEMsTUFBTSxHQUFHLEdBQUcsS0FBSyxXQUEwQixHQUFHLElBQW1CO1FBQy9ELE1BQU0sRUFBRSxHQUFHLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLG1CQUFtQixFQUFFLENBQUMsQ0FBQztRQUN0RCxNQUFNLE1BQU0sR0FBRyxNQUFNLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDO1FBQ2pDLE9BQU8sTUFBTSxDQUFDO0lBQ2hCLENBQXNCLENBQUM7SUFFdkIsTUFBTSxZQUFZLEdBQUcsQ0FBQyxFQUF1QixFQUFFLEVBQUU7UUFDL0MsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDO1lBQ2xCLFlBQVksR0FBRyxFQUFFLENBQUM7UUFDcEIsQ0FBQztRQUNELE9BQU8sWUFBWSxDQUFDO0lBQ3RCLENBQUMsQ0FBQztJQUVGLGdEQUFnRDtJQUNoRCxNQUFNLE1BQU0sR0FBRyxDQUFDLEVBQVEsRUFBUSxFQUFFO1FBQ2hDLElBQUksT0FBTyxFQUFFLEtBQUssVUFBVSxJQUFJLENBQUMsQ0FBQyxPQUFPLEVBQUUsTUFBTSxJQUFJLENBQUMsVUFBVSxFQUFFLE1BQU0sQ0FBQyxFQUFFLENBQUM7WUFDMUUsT0FBTyxFQUFFLENBQUM7UUFDWixDQUFDO1FBQ0QsT0FBTyxVQUF5QixHQUFHLElBQW1CO1lBQ3BELElBQUksT0FBTyxHQUFHLG1CQUFtQixFQUFFLENBQUM7WUFDcEMsSUFBSSxPQUFPLEVBQUUsQ0FBQztnQkFDWixPQUFPLEVBQUUsQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO1lBQzlCLENBQUM7WUFDRCxPQUFPLEdBQUcsZ0JBQWdCLEVBQUUsQ0FBQztZQUM3QixPQUFPLENBQUMsS0FBSyxHQUFHLEdBQUcsQ0FBQztZQUNwQixPQUFPLENBQUMsT0FBTyxHQUFHLElBQWEsQ0FBQztZQUNoQyxPQUFPLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLE9BQU8sRUFBRSxFQUFTLEVBQUUsR0FBRyxJQUFJLENBQUMsQ0FBQztRQUN4RCxDQUFTLENBQUM7SUFDWixDQUFDLENBQUM7SUFFRixNQUFNLE9BQU8sR0FBRyxLQUFLLEVBQUUsV0FBcUIsRUFBaUIsRUFBRTtRQUM3RCxJQUFJLFNBQVMsS0FBSyxJQUFJLEVBQUUsQ0FBQztZQUN2QixrREFBa0Q7WUFDbEQsT0FBTyxTQUFTLENBQUM7UUFDbkIsQ0FBQztRQUNELElBQUksV0FBVyxFQUFFLENBQUM7WUFDaEIsWUFBWSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQzVCLENBQUM7UUFDRCxJQUFJLEtBQUssS0FBSyxFQUFFLEVBQUUsQ0FBQztZQUNqQixXQUFXO1lBQ1gsYUFBYSxDQUFDLFlBQVksRUFBRSxzQ0FBc0MsQ0FBQyxDQUFDO1lBQ3BFLE1BQU0sSUFBSSxHQUFHLFlBQVksQ0FBQyxZQUFZLENBQUMsYUFBYSxDQUFFLENBQUM7WUFDdkQsTUFBTSxHQUFHLEdBQUcsWUFBWSxDQUFDLGFBQWMsQ0FBQztZQUN4QyxNQUFNLE1BQU0sR0FBRyxTQUFTLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxDQUFDO1lBQ3BDLHNEQUFzRDtZQUN0RCxPQUFPLENBQUMsR0FBRyxDQUFDLFFBQVEsR0FBRyxTQUFTLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBUyxDQUFDLENBQUM7UUFDckUsQ0FBQztRQUVELE1BQU0sS0FBSyxHQUFHLEdBQUcsRUFBRSxDQUFDO1FBQ3BCLE1BQU0sR0FBRyxHQUFHLG1CQUFtQixFQUFFLENBQUM7UUFDbEMsSUFBSSxRQUFRLEtBQUssSUFBSSxFQUFFLENBQUM7WUFDdEIsU0FBUyxHQUFHLFFBQVEsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDLE1BQU0sRUFBRSxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsUUFBUSxHQUFHLFNBQVMsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQy9GLENBQUM7YUFBTSxDQUFDO1lBQ04sTUFBTSxRQUFRLEdBQUcsV0FBVyxFQUFFLENBQUMsWUFBWSxDQUFDLFlBQVksRUFBRSxLQUFLLEVBQUUsTUFBTSxDQUFDLENBQUM7WUFDekUsU0FBUyxHQUFHLFNBQVMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxHQUFHLEVBQUUsRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLFFBQVEsR0FBRyxTQUFTLEdBQUcsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNyRixDQUFDO1FBQ0QsSUFBSSxPQUFPLFNBQVMsS0FBSyxRQUFRLElBQUksU0FBUyxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUM7WUFDMUQsU0FBUyxDQUFDLElBQUksQ0FDWixHQUFHLEVBQUUsQ0FBQyxjQUFjLENBQUMsTUFBTSxFQUFFLEdBQUcsRUFBRSxTQUFTLEVBQUUsS0FBSyxDQUFDLEVBQ25ELENBQUMsR0FBRyxFQUFFLEVBQUU7Z0JBQ04sT0FBTyxDQUFDLEtBQUssQ0FBQyxPQUFPLE1BQU0saUJBQWlCLEVBQUUsR0FBRyxDQUFDLENBQUM7Z0JBQ25ELHdEQUF3RDtnQkFDeEQsU0FBUyxHQUFHLElBQUksQ0FBQztnQkFDakIsTUFBTSxHQUFHLENBQUM7WUFDWixDQUFDLENBQ0YsQ0FBQztRQUNKLENBQUM7UUFDRCxPQUFPLFNBQVMsQ0FBQztJQUNuQixDQUFDLENBQUM7SUFFRixNQUFNLFdBQVcsR0FBRyxDQUFDLFdBQXFCLEVBQXdCLEVBQUU7UUFDbEUsT0FBTyxTQUFTLEtBQUssSUFBSSxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsQ0FBQztJQUMvRCxDQUFDLENBQUM7SUFFRixTQUFTLFFBQVEsQ0FFZixVQUF3QyxFQUN4QyxRQUErQjtRQUUvQix1Q0FBdUM7UUFDdkMsT0FBTyxDQUFDLEdBQUcsSUFBbUIsRUFBbUIsRUFBRSxDQUNqRCxTQUFTLENBQUMsV0FBVyxFQUFFLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRTtZQUM3QixJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7Z0JBQ25CLE1BQU0sTUFBTSxDQUFDLHVCQUF1QixDQUFDLENBQUM7WUFDeEMsQ0FBQztZQUNELElBQUksUUFBUSxJQUFJLFFBQVEsRUFBRSxLQUFLLEtBQUssRUFBRSxDQUFDO2dCQUNyQyxPQUFPO1lBQ1QsQ0FBQztZQUNELE1BQU0sT0FBTyxHQUFHLDhCQUE4QixDQUFDLFVBQVUsQ0FBQyxDQUFDO1lBQzNELE1BQU0sT0FBTyxHQUFHLE9BQU8sQ0FBQyxLQUFLLENBQUM7WUFDOUIsTUFBTSxTQUFTLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQztZQUNsQyw2REFBNkQ7WUFDN0QsOENBQThDO1lBQzlDLE9BQU8sQ0FBQyxLQUFLLEdBQUcsR0FBRyxDQUFDO1lBQ3BCLE9BQU8sQ0FBQyxPQUFPLEtBQWYsT0FBTyxDQUFDLE9BQU8sR0FBSyxJQUFhLEVBQUM7WUFDbEMsSUFBSSxDQUFDO2dCQUNILE9BQU8sTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsT0FBTyxFQUFFLENBQUMsRUFBRSxHQUFJLElBQTZCLENBQUMsQ0FBQztZQUMxRSxDQUFDO29CQUFTLENBQUM7Z0JBQ1QsT0FBTyxDQUFDLEtBQUssR0FBRyxPQUFPLENBQUM7Z0JBQ3hCLE9BQU8sQ0FBQyxPQUFPLEdBQUcsU0FBUyxDQUFDO1lBQzlCLENBQUM7UUFDSCxDQUFDLENBQUMsQ0FBQztJQUNQLENBQUM7SUFFRCxNQUFNLDhCQUE4QixHQUFHLENBQUMsTUFBK0MsRUFBRSxFQUFFO1FBQ3pGLElBQUksTUFBTSxJQUFJLElBQUksRUFBRSxDQUFDO1lBQ25CLE9BQU8sZ0JBQWdCLEVBQUUsQ0FBQztRQUM1QixDQUFDO2FBQU0sSUFBSSxPQUFPLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQztZQUMzQixPQUFPLHlCQUF5QixDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQzNDLENBQUM7YUFBTSxDQUFDO1lBQ04sT0FBTyxNQUFNLENBQUM7UUFDaEIsQ0FBQztJQUNILENBQUMsQ0FBQztJQUVGLE1BQU0sY0FBYyxHQUFHLFNBQVMsSUFBSSxNQUFNLENBQUM7SUFDM0MsTUFBTSxJQUFJLEdBQUcsYUFBYSxDQUFDLGNBQWMsQ0FBQyxDQUFDO0lBRTNDLE1BQU0sQ0FBQyxNQUFNLENBQUMsR0FBRyxFQUFFO1FBQ2pCLFNBQVMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxjQUFjO1FBQy9CLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxJQUFJO1FBQ25CLFdBQVcsRUFBRSxHQUFHLEVBQUUsQ0FBQyxVQUFVO1FBQzdCLE9BQU87UUFDUCxhQUFhLEVBQUUsV0FBVztRQUMxQixjQUFjLEVBQUUsWUFBWTtRQUM1QixPQUFPLEVBQUUsS0FBSztRQUNkLFFBQVEsRUFBRSxNQUFNO1FBQ2hCLFdBQVcsRUFBRSxTQUFTO1FBQ3RCLE1BQU0sRUFBRSxJQUFJO1FBQ1osS0FBSyxFQUFFLFFBQVE7UUFFZixTQUFTLEVBQUUsT0FBTztRQUNsQixZQUFZLEVBQUUsVUFBVTtRQUN4QixHQUFHLEVBQUUsSUFBSTtRQUNULFFBQVEsRUFBRSxTQUFTO0tBQ3BCLENBQUMsQ0FBQztJQUNILElBQUksU0FBUyxFQUFFLENBQUM7UUFDZCx1RUFBdUU7UUFDdkUsU0FBUyxHQUFHLFNBQVMsQ0FBQyxTQUFTLEVBQUUsQ0FBQyxRQUFRLEVBQUUsRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLFFBQVEsR0FBRyxTQUFTLEdBQUcsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNoRyxDQUFDO0lBQ0QsSUFBSSxLQUFLLEVBQUUsQ0FBQztRQUNWLE1BQU0sQ0FBQyxjQUFjLENBQUMsR0FBRyxFQUFFLG1CQUFtQixFQUFFO1lBQzlDLEdBQUc7Z0JBQ0QsT0FBTyxTQUFTLENBQUM7WUFDbkIsQ0FBQztTQUNGLENBQUMsQ0FBQztJQUNMLENBQUM7SUFDRCxJQUFJLElBQUksRUFBRSxDQUFDO1FBQ1QsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ1osQ0FBQztJQUNELE9BQU8sR0FBRyxDQUFDO0FBQ2IsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sYUFBYSxHQUFHLENBQUMsVUFBa0IsRUFBRSxFQUFFO0lBQ2xELE1BQU0sS0FBSyxHQUFHLFVBQVUsQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDMUMsSUFBSSxLQUFLLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQztRQUNmLE9BQU8sVUFBVSxDQUFDLEtBQUssQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDckMsQ0FBQztJQUNELE9BQU8sVUFBVSxDQUFDO0FBQ3BCLENBQUMsQ0FBQztBQUVGLE1BQU0sVUFBVSxTQUFTLENBQUksR0FBVztJQUN0QyxJQUFJLElBQUksRUFBRSxDQUFDO1FBQ1QsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDO1lBQ2hCLE1BQU0sSUFBSSxLQUFLLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDL0IsQ0FBQztJQUNILENBQUM7QUFDSCxDQUFDO0FBRUQsTUFBTSxVQUFVLFlBQVksQ0FBSSxHQUFZO0lBQzFDLElBQUksSUFBSSxFQUFFLENBQUM7UUFDVCxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUM7WUFDckMsTUFBTSxJQUFJLEtBQUssQ0FBQyxjQUFjLENBQUMsQ0FBQztRQUNsQyxDQUFDO0lBQ0gsQ0FBQztBQUNILENBQUM7QUFFRCxNQUFNLE9BQU8sR0FBRyxhQUFhLENBQUMsSUFBSSxHQUFHLEVBQUUsQ0FBQztBQUV4QyxNQUFNLENBQUMsTUFBTSxjQUFjLEdBQUcsQ0FBQyxNQUFjLEVBQUUsT0FBNEIsRUFBRSxPQUFlLEVBQUUsRUFBRTtJQUM5RixJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDO1FBQ3pCLE9BQU8sQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDcEIsU0FBUyxDQUFDLFNBQVMsRUFBRTtZQUNuQixNQUFNO1lBQ04sT0FBTztZQUNQLE9BQU87U0FDUixDQUFDLENBQUM7SUFDTCxDQUFDO0FBQ0gsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sU0FBUyxHQUFHLENBQThCLFNBQWlCLEVBQUUsTUFBbUIsRUFBRSxFQUFFO0lBQy9GLElBQUksQ0FBQyxLQUFLLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxJQUFJLE9BQU8sUUFBUSxLQUFLLFFBQVEsRUFBRSxDQUFDO1FBQ2xFLFFBQVEsQ0FBQyxhQUFhLENBQ3BCLElBQUksV0FBVyxDQUFDLFNBQVMsRUFBRTtZQUN6QixPQUFPLEVBQUUsS0FBSztZQUNkLE1BQU07U0FDUCxDQUFNLENBQ1IsQ0FBQztJQUNKLENBQUM7QUFDSCxDQUFDLENBQUM7QUFFRixNQUFNLEdBQUcsR0FBRyxHQUFHLEVBQUU7SUFDZixJQUFJLEtBQUssSUFBSSxnQkFBZ0IsRUFBRSxFQUFFLENBQUM7UUFDaEMsT0FBTyxDQUFDLENBQUM7SUFDWCxDQUFDO0lBQ0QsSUFBSSxPQUFPLFdBQVcsS0FBSyxRQUFRLEVBQUUsQ0FBQztRQUNwQyxPQUFPLFdBQVcsQ0FBQyxHQUFHLEVBQUUsQ0FBQztJQUMzQixDQUFDO0lBQ0QsT0FBTyxDQUFDLENBQUM7QUFDWCxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc0RldiB9IGZyb20gJ0Bxd2lrLmRldi9jb3JlL2J1aWxkJztcbmltcG9ydCB7IGFzc2VydERlZmluZWQgfSBmcm9tICcuLi9lcnJvci9hc3NlcnQnO1xuaW1wb3J0IHsgcUVycm9yLCBRRXJyb3JfcXJsSXNOb3RGdW5jdGlvbiB9IGZyb20gJy4uL2Vycm9yL2Vycm9yJztcbmltcG9ydCB7IGdldFBsYXRmb3JtLCBpc1NlcnZlclBsYXRmb3JtIH0gZnJvbSAnLi4vcGxhdGZvcm0vcGxhdGZvcm0nO1xuaW1wb3J0IHsgdmVyaWZ5U2VyaWFsaXphYmxlIH0gZnJvbSAnLi4vdXRpbHMvc2VyaWFsaXplLXV0aWxzJztcbmltcG9ydCB7XG4gIGludm9rZSxcbiAgbmV3SW52b2tlQ29udGV4dCxcbiAgbmV3SW52b2tlQ29udGV4dEZyb21UdXBsZSxcbiAgdHJ5R2V0SW52b2tlQ29udGV4dCxcbiAgdHlwZSBJbnZva2VDb250ZXh0LFxuICB0eXBlIEludm9rZVR1cGxlLFxufSBmcm9tICcuLi8uLi91c2UvdXNlLWNvcmUnO1xuaW1wb3J0IHsgZ2V0UUZ1bmNzLCBRSW5zdGFuY2VBdHRyIH0gZnJvbSAnLi4vdXRpbHMvbWFya2Vycyc7XG5pbXBvcnQgeyBpc1Byb21pc2UsIG1heWJlVGhlbiB9IGZyb20gJy4uL3V0aWxzL3Byb21pc2VzJztcbmltcG9ydCB7IHFEZXYsIHFTZXJpYWxpemUsIHFUZXN0LCBzZWFsIH0gZnJvbSAnLi4vdXRpbHMvcWRldic7XG5pbXBvcnQgeyBpc0FycmF5LCBpc0Z1bmN0aW9uLCB0eXBlIFZhbHVlT3JQcm9taXNlIH0gZnJvbSAnLi4vdXRpbHMvdHlwZXMnO1xuaW1wb3J0IHsgaXNTaWduYWwgfSBmcm9tICcuLi8uLi9zaWduYWwvc2lnbmFsJztcbmltcG9ydCB0eXBlIHsgUVJMRGV2IH0gZnJvbSAnLi9xcmwnO1xuaW1wb3J0IHR5cGUgeyBRUkwsIFFybEFyZ3MsIFFybFJldHVybiB9IGZyb20gJy4vcXJsLnB1YmxpYyc7XG5pbXBvcnQgdHlwZSB7IFNpZ25hbCB9IGZyb20gJy4uLy4uL3NpZ25hbC9zaWduYWwucHVibGljJztcblxuZXhwb3J0IGNvbnN0IGlzUXJsID0gPFQgPSB1bmtub3duPih2YWx1ZTogdW5rbm93bik6IHZhbHVlIGlzIFFSTEludGVybmFsPFQ+ID0+IHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgKHZhbHVlIGFzIGFueSkuZ2V0U3ltYm9sID09PSAnZnVuY3Rpb24nO1xufTtcblxuLy8gTWFrZSBzdXJlIHRoaXMgdmFsdWUgaXMgc2FtZSBhcyB2YWx1ZSBpbiBgcGxhdGZvcm0udHNgXG5leHBvcnQgY29uc3QgU1lOQ19RUkwgPSAnPHN5bmM+JztcblxuaW50ZXJmYWNlIFN5bmNRUkxTeW1ib2wge1xuICAkc3ltYm9sJDogdHlwZW9mIFNZTkNfUVJMO1xufVxuXG5leHBvcnQgdHlwZSBTeW5jUVJMSW50ZXJuYWwgPSBRUkxJbnRlcm5hbCAmIFN5bmNRUkxTeW1ib2w7XG5cbi8qKiBTeW5jIFFSTCBpcyBhIGZ1bmN0aW9uIHdoaWNoIGlzIHNlcmlhbGl6ZWQgaW50byBgPHNjcmlwdCBxOmZ1bmM9XCJxd2lrL2pzb25cIj5gIHRhZy4gKi9cbmV4cG9ydCBjb25zdCBpc1N5bmNRcmwgPSAodmFsdWU6IGFueSk6IHZhbHVlIGlzIFN5bmNRUkxJbnRlcm5hbCA9PiB7XG4gIHJldHVybiBpc1FybCh2YWx1ZSkgJiYgdmFsdWUuJHN5bWJvbCQgPT0gU1lOQ19RUkw7XG59O1xuXG5leHBvcnQgdHlwZSBRUkxJbnRlcm5hbE1ldGhvZHM8VFlQRT4gPSB7XG4gIHJlYWRvbmx5ICRjaHVuayQ6IHN0cmluZyB8IG51bGw7XG4gIHJlYWRvbmx5ICRzeW1ib2wkOiBzdHJpbmc7XG4gIHJlYWRvbmx5ICRyZWZTeW1ib2wkOiBzdHJpbmcgfCBudWxsO1xuICByZWFkb25seSAkaGFzaCQ6IHN0cmluZztcblxuICAkY2FwdHVyZSQ6IHN0cmluZ1tdIHwgbnVsbDtcbiAgJGNhcHR1cmVSZWYkOiB1bmtub3duW10gfCBudWxsO1xuICBkZXY6IFFSTERldiB8IG51bGw7XG5cbiAgcmVzb2x2ZWQ6IHVuZGVmaW5lZCB8IFRZUEU7XG5cbiAgcmVzb2x2ZSgpOiBQcm9taXNlPFRZUEU+O1xuICBnZXRTeW1ib2woKTogc3RyaW5nO1xuICBnZXRIYXNoKCk6IHN0cmluZztcbiAgZ2V0Q2FwdHVyZWQoKTogdW5rbm93bltdIHwgbnVsbDtcbiAgZ2V0Rm4oXG4gICAgY3VycmVudEN0eD86IEludm9rZUNvbnRleHQgfCBJbnZva2VUdXBsZSxcbiAgICBiZWZvcmVGbj86ICgpID0+IHZvaWRcbiAgKTogVFlQRSBleHRlbmRzICguLi5hcmdzOiBhbnkpID0+IGFueVxuICAgID8gKC4uLmFyZ3M6IFBhcmFtZXRlcnM8VFlQRT4pID0+IFZhbHVlT3JQcm9taXNlPFJldHVyblR5cGU8VFlQRT4+XG4gICAgOiAvLyB1bmtub3duIHNvIHdlIGFsbG93IGFzc2lnbmluZyBmdW5jdGlvbiBRUkxzIHRvIGFueVxuICAgICAgdW5rbm93bjtcblxuICAkc2V0Q29udGFpbmVyJChjb250YWluZXJFbDogRWxlbWVudCB8IHVuZGVmaW5lZCk6IEVsZW1lbnQgfCB1bmRlZmluZWQ7XG4gICRyZXNvbHZlTGF6eSQoY29udGFpbmVyRWw/OiBFbGVtZW50KTogVmFsdWVPclByb21pc2U8VFlQRT47XG59O1xuXG5leHBvcnQgdHlwZSBRUkxJbnRlcm5hbDxUWVBFID0gdW5rbm93bj4gPSBRUkw8VFlQRT4gJiBRUkxJbnRlcm5hbE1ldGhvZHM8VFlQRT47XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVRUkwgPSA8VFlQRT4oXG4gIGNodW5rOiBzdHJpbmcgfCBudWxsLFxuICBzeW1ib2w6IHN0cmluZyxcbiAgc3ltYm9sUmVmOiBudWxsIHwgVmFsdWVPclByb21pc2U8VFlQRT4sXG4gIHN5bWJvbEZuOiBudWxsIHwgKCgpID0+IFByb21pc2U8UmVjb3JkPHN0cmluZywgVFlQRT4+KSxcbiAgY2FwdHVyZTogbnVsbCB8IFJlYWRvbmx5PG51bWJlcltdPixcbiAgY2FwdHVyZVJlZjogUmVhZG9ubHk8dW5rbm93bltdPiB8IG51bGwsXG4gIHJlZlN5bWJvbDogc3RyaW5nIHwgbnVsbFxuKTogUVJMSW50ZXJuYWw8VFlQRT4gPT4ge1xuICBpZiAocURldiAmJiBxU2VyaWFsaXplKSB7XG4gICAgaWYgKGNhcHR1cmVSZWYpIHtcbiAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBjYXB0dXJlUmVmKSB7XG4gICAgICAgIHZlcmlmeVNlcmlhbGl6YWJsZShpdGVtLCAnQ2FwdHVyZWQgdmFyaWFibGUgaW4gdGhlIGNsb3N1cmUgY2FuIG5vdCBiZSBzZXJpYWxpemVkJyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgbGV0IF9jb250YWluZXJFbDogRWxlbWVudCB8IHVuZGVmaW5lZDtcblxuICBjb25zdCBxcmwgPSBhc3luYyBmdW5jdGlvbiAodGhpczogdW5rbm93biwgLi4uYXJnczogUXJsQXJnczxUWVBFPikge1xuICAgIGNvbnN0IGZuID0gaW52b2tlRm4uY2FsbCh0aGlzLCB0cnlHZXRJbnZva2VDb250ZXh0KCkpO1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGZuKC4uLmFyZ3MpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH0gYXMgUVJMSW50ZXJuYWw8VFlQRT47XG5cbiAgY29uc3Qgc2V0Q29udGFpbmVyID0gKGVsOiBFbGVtZW50IHwgdW5kZWZpbmVkKSA9PiB7XG4gICAgaWYgKCFfY29udGFpbmVyRWwpIHtcbiAgICAgIF9jb250YWluZXJFbCA9IGVsO1xuICAgIH1cbiAgICByZXR1cm4gX2NvbnRhaW5lckVsO1xuICB9O1xuXG4gIC8vIFdyYXAgZnVuY3Rpb25zIHRvIHByb3ZpZGUgdGhlaXIgbGV4aWNhbCBzY29wZVxuICBjb25zdCB3cmFwRm4gPSAoZm46IFRZUEUpOiBUWVBFID0+IHtcbiAgICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nIHx8ICghY2FwdHVyZT8ubGVuZ3RoICYmICFjYXB0dXJlUmVmPy5sZW5ndGgpKSB7XG4gICAgICByZXR1cm4gZm47XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiAodGhpczogdW5rbm93biwgLi4uYXJnczogUXJsQXJnczxUWVBFPikge1xuICAgICAgbGV0IGNvbnRleHQgPSB0cnlHZXRJbnZva2VDb250ZXh0KCk7XG4gICAgICBpZiAoY29udGV4dCkge1xuICAgICAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJncyk7XG4gICAgICB9XG4gICAgICBjb250ZXh0ID0gbmV3SW52b2tlQ29udGV4dCgpO1xuICAgICAgY29udGV4dC4kcXJsJCA9IHFybDtcbiAgICAgIGNvbnRleHQuJGV2ZW50JCA9IHRoaXMgYXMgRXZlbnQ7XG4gICAgICByZXR1cm4gaW52b2tlLmNhbGwodGhpcywgY29udGV4dCwgZm4gYXMgYW55LCAuLi5hcmdzKTtcbiAgICB9IGFzIFRZUEU7XG4gIH07XG5cbiAgY29uc3QgcmVzb2x2ZSA9IGFzeW5jIChjb250YWluZXJFbD86IEVsZW1lbnQpOiBQcm9taXNlPFRZUEU+ID0+IHtcbiAgICBpZiAoc3ltYm9sUmVmICE9PSBudWxsKSB7XG4gICAgICAvLyBSZXNvbHZpbmcgKFByb21pc2UpIG9yIGFscmVhZHkgcmVzb2x2ZWQgKHZhbHVlKVxuICAgICAgcmV0dXJuIHN5bWJvbFJlZjtcbiAgICB9XG4gICAgaWYgKGNvbnRhaW5lckVsKSB7XG4gICAgICBzZXRDb250YWluZXIoY29udGFpbmVyRWwpO1xuICAgIH1cbiAgICBpZiAoY2h1bmsgPT09ICcnKSB7XG4gICAgICAvLyBTeW5jIFFSTFxuICAgICAgYXNzZXJ0RGVmaW5lZChfY29udGFpbmVyRWwsICdTeW5jIFFSTCBtdXN0IGhhdmUgY29udGFpbmVyIGVsZW1lbnQnKTtcbiAgICAgIGNvbnN0IGhhc2ggPSBfY29udGFpbmVyRWwuZ2V0QXR0cmlidXRlKFFJbnN0YW5jZUF0dHIpITtcbiAgICAgIGNvbnN0IGRvYyA9IF9jb250YWluZXJFbC5vd25lckRvY3VtZW50ITtcbiAgICAgIGNvbnN0IHFGdW5jcyA9IGdldFFGdW5jcyhkb2MsIGhhc2gpO1xuICAgICAgLy8gTm8gbmVlZCB0byB3cmFwLCBzeW5jUVJMcyBjYW4ndCBoYXZlIGNhcHR1cmVkIHNjb3BlXG4gICAgICByZXR1cm4gKHFybC5yZXNvbHZlZCA9IHN5bWJvbFJlZiA9IHFGdW5jc1tOdW1iZXIoc3ltYm9sKV0gYXMgVFlQRSk7XG4gICAgfVxuXG4gICAgY29uc3Qgc3RhcnQgPSBub3coKTtcbiAgICBjb25zdCBjdHggPSB0cnlHZXRJbnZva2VDb250ZXh0KCk7XG4gICAgaWYgKHN5bWJvbEZuICE9PSBudWxsKSB7XG4gICAgICBzeW1ib2xSZWYgPSBzeW1ib2xGbigpLnRoZW4oKG1vZHVsZSkgPT4gKHFybC5yZXNvbHZlZCA9IHN5bWJvbFJlZiA9IHdyYXBGbihtb2R1bGVbc3ltYm9sXSkpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgaW1wb3J0ZWQgPSBnZXRQbGF0Zm9ybSgpLmltcG9ydFN5bWJvbChfY29udGFpbmVyRWwsIGNodW5rLCBzeW1ib2wpO1xuICAgICAgc3ltYm9sUmVmID0gbWF5YmVUaGVuKGltcG9ydGVkLCAocmVmKSA9PiAocXJsLnJlc29sdmVkID0gc3ltYm9sUmVmID0gd3JhcEZuKHJlZikpKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBzeW1ib2xSZWYgPT09ICdvYmplY3QnICYmIGlzUHJvbWlzZShzeW1ib2xSZWYpKSB7XG4gICAgICBzeW1ib2xSZWYudGhlbihcbiAgICAgICAgKCkgPT4gZW1pdFVzZWRTeW1ib2woc3ltYm9sLCBjdHg/LiRlbGVtZW50JCwgc3RhcnQpLFxuICAgICAgICAoZXJyKSA9PiB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihgcXJsICR7c3ltYm9sfSBmYWlsZWQgdG8gbG9hZGAsIGVycik7XG4gICAgICAgICAgLy8gV2Ugc2hvdWxkbid0IGNhY2hlIHJlamVjdGlvbnMsIHdlIGNhbiB0cnkgYWdhaW4gbGF0ZXJcbiAgICAgICAgICBzeW1ib2xSZWYgPSBudWxsO1xuICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHN5bWJvbFJlZjtcbiAgfTtcblxuICBjb25zdCByZXNvbHZlTGF6eSA9IChjb250YWluZXJFbD86IEVsZW1lbnQpOiBWYWx1ZU9yUHJvbWlzZTxUWVBFPiA9PiB7XG4gICAgcmV0dXJuIHN5bWJvbFJlZiAhPT0gbnVsbCA/IHN5bWJvbFJlZiA6IHJlc29sdmUoY29udGFpbmVyRWwpO1xuICB9O1xuXG4gIGZ1bmN0aW9uIGludm9rZUZuKFxuICAgIHRoaXM6IHVua25vd24sXG4gICAgY3VycmVudEN0eD86IEludm9rZUNvbnRleHQgfCBJbnZva2VUdXBsZSxcbiAgICBiZWZvcmVGbj86ICgpID0+IHZvaWQgfCBib29sZWFuXG4gICkge1xuICAgIC8vIE5vdGUgdGhhdCB3ZSBiaW5kIHRoZSBjdXJyZW50IGB0aGlzYFxuICAgIHJldHVybiAoLi4uYXJnczogUXJsQXJnczxUWVBFPik6IFFybFJldHVybjxUWVBFPiA9PlxuICAgICAgbWF5YmVUaGVuKHJlc29sdmVMYXp5KCksIChmKSA9PiB7XG4gICAgICAgIGlmICghaXNGdW5jdGlvbihmKSkge1xuICAgICAgICAgIHRocm93IHFFcnJvcihRRXJyb3JfcXJsSXNOb3RGdW5jdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJlZm9yZUZuICYmIGJlZm9yZUZuKCkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSBjcmVhdGVPclJldXNlSW52b2NhdGlvbkNvbnRleHQoY3VycmVudEN0eCk7XG4gICAgICAgIGNvbnN0IHByZXZRcmwgPSBjb250ZXh0LiRxcmwkO1xuICAgICAgICBjb25zdCBwcmV2RXZlbnQgPSBjb250ZXh0LiRldmVudCQ7XG4gICAgICAgIC8vIE5vdGUgdGhhdCB3ZSBzZXQgdGhlIHFybCBoZXJlIGluc3RlYWQgb2YgaW4gd3JhcEZuIGJlY2F1c2VcbiAgICAgICAgLy8gaXQgaXMgcG9zc2libGUgd2UncmUgY2FsbGVkIG9uIGEgY29waWVkIHFybFxuICAgICAgICBjb250ZXh0LiRxcmwkID0gcXJsO1xuICAgICAgICBjb250ZXh0LiRldmVudCQgfHw9IHRoaXMgYXMgRXZlbnQ7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIGludm9rZS5jYWxsKHRoaXMsIGNvbnRleHQsIGYsIC4uLihhcmdzIGFzIFBhcmFtZXRlcnM8dHlwZW9mIGY+KSk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgY29udGV4dC4kcXJsJCA9IHByZXZRcmw7XG4gICAgICAgICAgY29udGV4dC4kZXZlbnQkID0gcHJldkV2ZW50O1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgfVxuXG4gIGNvbnN0IGNyZWF0ZU9yUmV1c2VJbnZvY2F0aW9uQ29udGV4dCA9IChpbnZva2U6IEludm9rZUNvbnRleHQgfCBJbnZva2VUdXBsZSB8IHVuZGVmaW5lZCkgPT4ge1xuICAgIGlmIChpbnZva2UgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIG5ld0ludm9rZUNvbnRleHQoKTtcbiAgICB9IGVsc2UgaWYgKGlzQXJyYXkoaW52b2tlKSkge1xuICAgICAgcmV0dXJuIG5ld0ludm9rZUNvbnRleHRGcm9tVHVwbGUoaW52b2tlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGludm9rZTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgcmVzb2x2ZWRTeW1ib2wgPSByZWZTeW1ib2wgPz8gc3ltYm9sO1xuICBjb25zdCBoYXNoID0gZ2V0U3ltYm9sSGFzaChyZXNvbHZlZFN5bWJvbCk7XG5cbiAgT2JqZWN0LmFzc2lnbihxcmwsIHtcbiAgICBnZXRTeW1ib2w6ICgpID0+IHJlc29sdmVkU3ltYm9sLFxuICAgIGdldEhhc2g6ICgpID0+IGhhc2gsXG4gICAgZ2V0Q2FwdHVyZWQ6ICgpID0+IGNhcHR1cmVSZWYsXG4gICAgcmVzb2x2ZSxcbiAgICAkcmVzb2x2ZUxhenkkOiByZXNvbHZlTGF6eSxcbiAgICAkc2V0Q29udGFpbmVyJDogc2V0Q29udGFpbmVyLFxuICAgICRjaHVuayQ6IGNodW5rLFxuICAgICRzeW1ib2wkOiBzeW1ib2wsXG4gICAgJHJlZlN5bWJvbCQ6IHJlZlN5bWJvbCxcbiAgICAkaGFzaCQ6IGhhc2gsXG4gICAgZ2V0Rm46IGludm9rZUZuLFxuXG4gICAgJGNhcHR1cmUkOiBjYXB0dXJlLFxuICAgICRjYXB0dXJlUmVmJDogY2FwdHVyZVJlZixcbiAgICBkZXY6IG51bGwsXG4gICAgcmVzb2x2ZWQ6IHVuZGVmaW5lZCxcbiAgfSk7XG4gIGlmIChzeW1ib2xSZWYpIHtcbiAgICAvLyBSZXBsYWNlIHN5bWJvbFJlZiB3aXRoIChhIHByb21pc2UgZm9yKSB0aGUgdmFsdWUgb3Igd3JhcHBlZCBmdW5jdGlvblxuICAgIHN5bWJvbFJlZiA9IG1heWJlVGhlbihzeW1ib2xSZWYsIChyZXNvbHZlZCkgPT4gKHFybC5yZXNvbHZlZCA9IHN5bWJvbFJlZiA9IHdyYXBGbihyZXNvbHZlZCkpKTtcbiAgfVxuICBpZiAoaXNEZXYpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocXJsLCAnX2Rldk9ubHlTeW1ib2xSZWYnLCB7XG4gICAgICBnZXQoKSB7XG4gICAgICAgIHJldHVybiBzeW1ib2xSZWY7XG4gICAgICB9LFxuICAgIH0pO1xuICB9XG4gIGlmIChxRGV2KSB7XG4gICAgc2VhbChxcmwpO1xuICB9XG4gIHJldHVybiBxcmw7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0U3ltYm9sSGFzaCA9IChzeW1ib2xOYW1lOiBzdHJpbmcpID0+IHtcbiAgY29uc3QgaW5kZXggPSBzeW1ib2xOYW1lLmxhc3RJbmRleE9mKCdfJyk7XG4gIGlmIChpbmRleCA+IC0xKSB7XG4gICAgcmV0dXJuIHN5bWJvbE5hbWUuc2xpY2UoaW5kZXggKyAxKTtcbiAgfVxuICByZXR1cm4gc3ltYm9sTmFtZTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRRcmw8VD4ocXJsOiBRUkw8VD4pOiBhc3NlcnRzIHFybCBpcyBRUkxJbnRlcm5hbDxUPiB7XG4gIGlmIChxRGV2KSB7XG4gICAgaWYgKCFpc1FybChxcmwpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vdCBhIFFSTCcpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0U2lnbmFsPFQ+KG9iajogdW5rbm93bik6IGFzc2VydHMgb2JqIGlzIFNpZ25hbDxUPiB7XG4gIGlmIChxRGV2KSB7XG4gICAgaWYgKCFpc1NpZ25hbChvYmopICYmICFpc1NpZ25hbChvYmopKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vdCBhIFNpZ25hbCcpO1xuICAgIH1cbiAgfVxufVxuXG5jb25zdCBFTUlUVEVEID0gLyojX19QVVJFX18qLyBuZXcgU2V0KCk7XG5cbmV4cG9ydCBjb25zdCBlbWl0VXNlZFN5bWJvbCA9IChzeW1ib2w6IHN0cmluZywgZWxlbWVudDogRWxlbWVudCB8IHVuZGVmaW5lZCwgcmVxVGltZTogbnVtYmVyKSA9PiB7XG4gIGlmICghRU1JVFRFRC5oYXMoc3ltYm9sKSkge1xuICAgIEVNSVRURUQuYWRkKHN5bWJvbCk7XG4gICAgZW1pdEV2ZW50KCdxc3ltYm9sJywge1xuICAgICAgc3ltYm9sLFxuICAgICAgZWxlbWVudCxcbiAgICAgIHJlcVRpbWUsXG4gICAgfSk7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBlbWl0RXZlbnQgPSA8VCBleHRlbmRzIEN1c3RvbUV2ZW50ID0gYW55PihldmVudE5hbWU6IHN0cmluZywgZGV0YWlsOiBUWydkZXRhaWwnXSkgPT4ge1xuICBpZiAoIXFUZXN0ICYmICFpc1NlcnZlclBsYXRmb3JtKCkgJiYgdHlwZW9mIGRvY3VtZW50ID09PSAnb2JqZWN0Jykge1xuICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoXG4gICAgICBuZXcgQ3VzdG9tRXZlbnQoZXZlbnROYW1lLCB7XG4gICAgICAgIGJ1YmJsZXM6IGZhbHNlLFxuICAgICAgICBkZXRhaWwsXG4gICAgICB9KSBhcyBUXG4gICAgKTtcbiAgfVxufTtcblxuY29uc3Qgbm93ID0gKCkgPT4ge1xuICBpZiAocVRlc3QgfHwgaXNTZXJ2ZXJQbGF0Zm9ybSgpKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgaWYgKHR5cGVvZiBwZXJmb3JtYW5jZSA9PT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gcGVyZm9ybWFuY2Uubm93KCk7XG4gIH1cbiAgcmV0dXJuIDA7XG59O1xuIl19","import { qDev, qRuntimeQrl } from '../utils/qdev';\nimport { SYNC_QRL, createQRL } from './qrl-class';\nlet runtimeSymbolId = 0;\n// <docs markdown=\"../readme.md#$\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#$ instead)\n/**\n * Qwik Optimizer marker function.\n *\n * Use `$(...)` to tell Qwik Optimizer to extract the expression in `$(...)` into a lazy-loadable\n * resource referenced by `QRL`.\n *\n * @param expression - Expression which should be lazy loaded\n * @public\n * @see `implicit$FirstArg` for additional `____$(...)` rules.\n *\n * In this example, `$(...)` is used to capture the callback function of `onmousemove` into a\n * lazy-loadable reference. This allows the code to refer to the function without actually\n * loading the function. In this example, the callback function does not get loaded until\n * `mousemove` event fires.\n *\n * ```tsx\n * useOnDocument(\n *   'mousemove',\n *   $((event) => console.log('mousemove', event))\n * );\n * ```\n *\n * In this code, the Qwik Optimizer detects `$(...)` and transforms the code into:\n *\n * ```tsx\n * // FILE: <current file>\n * useOnDocument('mousemove', qrl('./chunk-abc.js', 'onMousemove'));\n *\n * // FILE: chunk-abc.js\n * export const onMousemove = () => console.log('mousemove');\n * ```\n *\n * ## Special Rules\n *\n * The Qwik Optimizer places special rules on functions that can be lazy-loaded.\n *\n * 1. The expression of the `$(expression)` function must be importable by the system.\n * (expression shows up in `import` or has `export`)\n * 2. If inlined function, then all lexically captured values must be:\n *    - importable (vars show up in `import`s or `export`s)\n *    - const (The capturing process differs from JS capturing in that writing to captured\n * variables does not update them, and therefore writes are forbidden. The best practice is that\n * all captured variables are constants.)\n *    - Must be runtime serializable.\n *\n * ```tsx\n *\n * import { createContextId, useContext, useContextProvider } from './use/use-context';\n * import { Resource, useResource$ } from './use/use-resource';\n * import { useSignal } from './use/use-signal';\n *\n * export const greet = () => console.log('greet');\n * function topLevelFn() {}\n *\n * function myCode() {\n *   const store = useStore({});\n *   function localFn() {}\n *   // Valid Examples\n *   $(greet); // greet is importable\n *   $(() => greet()); // greet is importable;\n *   $(() => console.log(store)); // store is serializable.\n *\n *   // Compile time errors\n *   $(topLevelFn); // ERROR: `topLevelFn` not importable\n *   $(() => topLevelFn()); // ERROR: `topLevelFn` not importable\n *\n *   // Runtime errors\n *   $(localFn); // ERROR: `localFn` fails serialization\n *   $(() => localFn()); // ERROR: `localFn` fails serialization\n * }\n *\n * ```\n */\n// </docs>\nexport const $ = (expression) => {\n    if (!qRuntimeQrl && qDev) {\n        throw new Error('Optimizer should replace all usages of $() with some special syntax. If you need to create a QRL manually, use inlinedQrl() instead.');\n    }\n    return createQRL(null, 's' + runtimeSymbolId++, expression, null, null, null, null);\n};\n/** @private Use To avoid optimizer replacement */\nexport const dollar = $;\n/** @public */\nexport const eventQrl = (qrl) => {\n    return qrl;\n};\n/**\n * Extract function into a synchronously loadable QRL.\n *\n * NOTE: Synchronous QRLs functions can't close over any variables, including exports.\n *\n * @param fn - Function to extract.\n * @returns\n * @alpha\n */\nexport const sync$ = (fn) => {\n    if (!qRuntimeQrl && qDev) {\n        throw new Error('Optimizer should replace all usages of sync$() with some special syntax. If you need to create a QRL manually, use inlinedSyncQrl() instead.');\n    }\n    if (qDev) {\n        // To make sure that in dev mode we don't accidentally capture context in `sync$()` we serialize and deserialize the function.\n        // eslint-disable-next-line no-new-func\n        fn = new Function('return ' + fn.toString())();\n    }\n    return createQRL('', SYNC_QRL, fn, null, null, null, null);\n};\n/**\n * Extract function into a synchronously loadable QRL.\n *\n * NOTE: Synchronous QRLs functions can't close over any variables, including exports.\n *\n * @param fn - Extracted function\n * @param serializedFn - Serialized function in string form.\n * @returns\n * @alpha\n */\nexport const _qrlSync = function (fn, serializedFn) {\n    if (serializedFn === undefined) {\n        serializedFn = fn.toString();\n    }\n    fn.serialized = serializedFn;\n    return createQRL('', SYNC_QRL, fn, null, null, null, null);\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicXJsLnB1YmxpYy5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9zaGFyZWQvcXJsL3FybC5wdWJsaWMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLElBQUksRUFBRSxXQUFXLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFbEQsT0FBTyxFQUFFLFFBQVEsRUFBRSxTQUFTLEVBQUUsTUFBTSxhQUFhLENBQUM7QUF3S2xELElBQUksZUFBZSxHQUFHLENBQUMsQ0FBQztBQVN4QixtQ0FBbUM7QUFDbkMseUNBQXlDO0FBQ3pDLGdDQUFnQztBQUNoQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0dBd0VHO0FBQ0gsVUFBVTtBQUNWLE1BQU0sQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFJLFVBQWEsRUFBVSxFQUFFO0lBQzVDLElBQUksQ0FBQyxXQUFXLElBQUksSUFBSSxFQUFFLENBQUM7UUFDekIsTUFBTSxJQUFJLEtBQUssQ0FDYixzSUFBc0ksQ0FDdkksQ0FBQztJQUNKLENBQUM7SUFFRCxPQUFPLFNBQVMsQ0FBSSxJQUFJLEVBQUUsR0FBRyxHQUFHLGVBQWUsRUFBRSxFQUFFLFVBQVUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztBQUN6RixDQUFDLENBQUM7QUFDRixrREFBa0Q7QUFDbEQsTUFBTSxDQUFDLE1BQU0sTUFBTSxHQUFHLENBQUMsQ0FBQztBQUV4QixjQUFjO0FBQ2QsTUFBTSxDQUFDLE1BQU0sUUFBUSxHQUFHLENBQUksR0FBVyxFQUFVLEVBQUU7SUFDakQsT0FBTyxHQUFHLENBQUM7QUFDYixDQUFDLENBQUM7QUFvQkY7Ozs7Ozs7O0dBUUc7QUFDSCxNQUFNLENBQUMsTUFBTSxLQUFLLEdBQUcsQ0FBcUIsRUFBSyxFQUFjLEVBQUU7SUFDN0QsSUFBSSxDQUFDLFdBQVcsSUFBSSxJQUFJLEVBQUUsQ0FBQztRQUN6QixNQUFNLElBQUksS0FBSyxDQUNiLDhJQUE4SSxDQUMvSSxDQUFDO0lBQ0osQ0FBQztJQUNELElBQUksSUFBSSxFQUFFLENBQUM7UUFDVCw4SEFBOEg7UUFDOUgsdUNBQXVDO1FBQ3ZDLEVBQUUsR0FBRyxJQUFJLFFBQVEsQ0FBQyxTQUFTLEdBQUcsRUFBRSxDQUFDLFFBQVEsRUFBRSxDQUFDLEVBQVMsQ0FBQztJQUN4RCxDQUFDO0lBRUQsT0FBTyxTQUFTLENBQUksRUFBRSxFQUFFLFFBQVEsRUFBRSxFQUFFLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFRLENBQUM7QUFDdkUsQ0FBQyxDQUFDO0FBRUY7Ozs7Ozs7OztHQVNHO0FBQ0gsTUFBTSxDQUFDLE1BQU0sUUFBUSxHQUFHLFVBQ3RCLEVBQVEsRUFDUixZQUFxQjtJQUVyQixJQUFJLFlBQVksS0FBSyxTQUFTLEVBQUUsQ0FBQztRQUMvQixZQUFZLEdBQUcsRUFBRSxDQUFDLFFBQVEsRUFBRSxDQUFDO0lBQy9CLENBQUM7SUFDQSxFQUFVLENBQUMsVUFBVSxHQUFHLFlBQVksQ0FBQztJQUN0QyxPQUFPLFNBQVMsQ0FBTyxFQUFFLEVBQUUsUUFBUSxFQUFFLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLENBQVEsQ0FBQztBQUMxRSxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBxRGV2LCBxUnVudGltZVFybCB9IGZyb20gJy4uL3V0aWxzL3FkZXYnO1xuaW1wb3J0IHR5cGUgeyBRUkxEZXYgfSBmcm9tICcuL3FybCc7XG5pbXBvcnQgeyBTWU5DX1FSTCwgY3JlYXRlUVJMIH0gZnJvbSAnLi9xcmwtY2xhc3MnO1xuXG4vLyBXZSB1c2UgYHVua25vd25gIGluc3RlYWQgb2YgYG5ldmVyYCB3aGVuIGl0J3Mgbm90IGEgZnVuY3Rpb24gc28gd2UgYWxsb3cgYXNzaWduaW5nIFFSTDxmdW5jdGlvbj4gdG8gUVJMPGFueT5cbmV4cG9ydCB0eXBlIFFybEFyZ3M8VD4gPSBUIGV4dGVuZHMgKC4uLmFyZ3M6IGluZmVyIEFSR1MpID0+IGFueSA/IEFSR1MgOiB1bmtub3duW107XG5leHBvcnQgdHlwZSBRcmxSZXR1cm48VD4gPSBUIGV4dGVuZHMgKC4uLmFyZ3M6IGFueSkgPT4gaW5mZXIgUiA/IEF3YWl0ZWQ8Uj4gOiB1bmtub3duO1xuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4uL3JlYWRtZS5tZCNRUkxcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjUVJMIGluc3RlYWQpXG4vKipcbiAqIFRoZSBgUVJMYCB0eXBlIHJlcHJlc2VudHMgYSBsYXp5LWxvYWRhYmxlIEFORCBzZXJpYWxpemFibGUgcmVzb3VyY2UuXG4gKlxuICogUVJMIHN0YW5kcyBmb3IgUXdpayBVUkwuXG4gKlxuICogVXNlIGBRUkxgIHdoZW4geW91IHdhbnQgdG8gcmVmZXIgdG8gYSBsYXp5LWxvYWRlZCByZXNvdXJjZS4gYFFSTGBzIGFyZSBtb3N0IG9mdGVuIHVzZWQgZm9yIGNvZGVcbiAqIChmdW5jdGlvbnMpIGJ1dCBjYW4gYWxzbyBiZSB1c2VkIGZvciBvdGhlciByZXNvdXJjZXMgc3VjaCBhcyBgc3RyaW5nYHMgaW4gdGhlIGNhc2Ugb2Ygc3R5bGVzLlxuICpcbiAqIGBRUkxgIGlzIGFuIG9wYXF1ZSB0b2tlbiB0aGF0IGlzIGdlbmVyYXRlZCBieSB0aGUgUXdpayBPcHRpbWl6ZXIuIChEbyBub3QgcmVseSBvbiBhbnkgcHJvcGVydGllc1xuICogaW4gYFFSTGAgYXMgaXQgbWF5IGNoYW5nZSBiZXR3ZWVuIHZlcnNpb25zLilcbiAqXG4gKiAjIyBDcmVhdGluZyBgUVJMYCByZWZlcmVuY2VzXG4gKlxuICogQ3JlYXRpbmcgYFFSTGAgaXMgZG9uZSB1c2luZyBgJCguLi4pYCBmdW5jdGlvbi4gYCQoLi4uKWAgaXMgYSBzcGVjaWFsIG1hcmtlciBmb3IgdGhlIFF3aWtcbiAqIE9wdGltaXplciB0aGF0IG1hcmtzIHRoYXQgdGhlIGNvZGUgc2hvdWxkIGJlIGV4dHJhY3RlZCBpbnRvIGEgbGF6eS1sb2FkZWQgc3ltYm9sLlxuICpcbiAqIGBgYHRzeFxuICogdXNlT25Eb2N1bWVudChcbiAqICAgJ21vdXNlbW92ZScsXG4gKiAgICQoKGV2ZW50KSA9PiBjb25zb2xlLmxvZygnbW91c2Vtb3ZlJywgZXZlbnQpKVxuICogKTtcbiAqIGBgYFxuICpcbiAqIEluIHRoZSBhYm92ZSBjb2RlLCB0aGUgUXdpayBPcHRpbWl6ZXIgZGV0ZWN0cyBgJCguLi4pYCBhbmQgdHJhbnNmb3JtcyB0aGUgY29kZSBhcyBzaG93biBiZWxvdzpcbiAqXG4gKiBgYGB0c3hcbiAqIC8vIEZJTEU6IDxjdXJyZW50IGZpbGU+XG4gKiB1c2VPbkRvY3VtZW50KCdtb3VzZW1vdmUnLCBxcmwoJy4vY2h1bmstYWJjLmpzJywgJ29uTW91c2Vtb3ZlJykpO1xuICpcbiAqIC8vIEZJTEU6IGNodW5rLWFiYy5qc1xuICogZXhwb3J0IGNvbnN0IG9uTW91c2Vtb3ZlID0gKCkgPT4gY29uc29sZS5sb2coJ21vdXNlbW92ZScpO1xuICogYGBgXG4gKlxuICogTk9URTogYHFybCguLi4pYCBpcyBhIHJlc3VsdCBvZiBRd2lrIE9wdGltaXplciB0cmFuc2Zvcm1hdGlvbi4gWW91IHNob3VsZCBuZXZlciBoYXZlIHRvIGludm9rZVxuICogdGhpcyBmdW5jdGlvbiBkaXJlY3RseSBpbiB5b3VyIGFwcGxpY2F0aW9uLiBUaGUgYHFybCguLi4pYCBmdW5jdGlvbiBzaG91bGQgYmUgaW52b2tlZCBvbmx5IGFmdGVyXG4gKiB0aGUgUXdpayBPcHRpbWl6ZXIgdHJhbnNmb3JtYXRpb24uXG4gKlxuICogIyMgVXNpbmcgYFFSTGBzXG4gKlxuICogVXNlIGBRUkxgIHR5cGUgaW4geW91ciBhcHBsaWNhdGlvbiB3aGVuIHlvdSB3YW50IHRvIGdldCBhIGxhenktbG9hZGFibGUgcmVmZXJlbmNlIHRvIGEgcmVzb3VyY2VcbiAqIChtb3N0IGxpa2VseSBhIGZ1bmN0aW9uKS5cbiAqXG4gKiBgYGB0c3hcbiAqIC8vIEV4YW1wbGUgb2YgZGVjbGFyaW5nIGEgY3VzdG9tIGZ1bmN0aW9ucyB3aGljaCB0YWtlcyBjYWxsYmFjayBhcyBRUkwuXG4gKiBleHBvcnQgZnVuY3Rpb24gdXNlTXlGdW5jdGlvbihjYWxsYmFjazogUVJMPCgpID0+IHZvaWQ+KSB7XG4gKiAgIGRvRXh0cmFTdHVmZigpO1xuICogICAvLyBUaGUgY2FsbGJhY2sgcGFzc2VkIHRvIGBvbkRvY3VtZW50YCByZXF1aXJlcyBgUVJMYC5cbiAqICAgdXNlT25Eb2N1bWVudCgnbW91c2Vtb3ZlJywgY2FsbGJhY2spO1xuICogfVxuICogYGBgXG4gKlxuICogSW4gdGhlIGFib3ZlIGV4YW1wbGUsIHRoZSB3YXkgdG8gdGhpbmsgYWJvdXQgdGhlIGNvZGUgaXMgdGhhdCB5b3UgYXJlIG5vdCBhc2tpbmcgZm9yIGEgY2FsbGJhY2tcbiAqIGZ1bmN0aW9uIGJ1dCByYXRoZXIgYSByZWZlcmVuY2UgdG8gYSBsYXp5LWxvYWRhYmxlIGNhbGxiYWNrIGZ1bmN0aW9uLiBTcGVjaWZpY2FsbHksIHRoZSBmdW5jdGlvblxuICogbG9hZGluZyBzaG91bGQgYmUgZGVsYXllZCB1bnRpbCBpdCBpcyBhY3R1YWxseSBuZWVkZWQuIEluIHRoZSBhYm92ZSBleGFtcGxlLCB0aGUgZnVuY3Rpb24gd291bGRcbiAqIG5vdCBsb2FkIHVudGlsIGFmdGVyIGEgYG1vdXNlbW92ZWAgZXZlbnQgb24gYGRvY3VtZW50YCBmaXJlcy5cbiAqXG4gKiAjIyBSZXNvbHZpbmcgYFFSTGAgcmVmZXJlbmNlc1xuICpcbiAqIEF0IHRpbWVzIGl0IG1heSBiZSBuZWNlc3NhcnkgdG8gcmVzb2x2ZSBhIGBRUkxgIHJlZmVyZW5jZSB0byB0aGUgYWN0dWFsIHZhbHVlLiBUaGlzIGNhbiBiZVxuICogcGVyZm9ybWVkIHVzaW5nIGBRUkwucmVzb2x2ZSguLilgIGZ1bmN0aW9uLlxuICpcbiAqIGBgYHRzeFxuICogLy8gQXNzdW1lIHlvdSBoYXZlIFFSTCByZWZlcmVuY2UgdG8gYSBncmVldCBmdW5jdGlvblxuICogY29uc3QgbGF6eUdyZWV0OiBRUkw8KCkgPT4gdm9pZD4gPSAkKCgpID0+IGNvbnNvbGUubG9nKCdIZWxsbyBXb3JsZCEnKSk7XG4gKlxuICogLy8gVXNlIGBxcmxJbXBvcnRgIHRvIGxvYWQgLyByZXNvbHZlIHRoZSByZWZlcmVuY2UuXG4gKiBjb25zdCBncmVldDogKCkgPT4gdm9pZCA9IGF3YWl0IGxhenlHcmVldC5yZXNvbHZlKCk7XG4gKlxuICogLy8gIEludm9rZSBpdFxuICogZ3JlZXQoKTtcbiAqIGBgYFxuICpcbiAqIE5PVEU6IGBlbGVtZW50YCBpcyBuZWVkZWQgYmVjYXVzZSBgUVJMYHMgYXJlIHJlbGF0aXZlIGFuZCBuZWVkIGEgYmFzZSBsb2NhdGlvbiB0byByZXNvbHZlXG4gKiBhZ2FpbnN0LiBUaGUgYmFzZSBsb2NhdGlvbiBpcyBlbmNvZGVkIGluIHRoZSBIVE1MIGluIHRoZSBmb3JtIG9mIGA8ZGl2IHE6YmFzZT1cIi91cmxcIj5gLlxuICpcbiAqICMjIGBRUkwucmVzb2x2ZWRgXG4gKlxuICogT25jZSBgUVJMLnJlc29sdmUoKWAgcmV0dXJucywgdGhlIHZhbHVlIGlzIHN0b3JlZCB1bmRlciBgUVJMLnJlc29sdmVkYC4gVGhpcyBhbGxvd3MgdGhlIHZhbHVlIHRvXG4gKiBiZSB1c2VkIHdpdGhvdXQgaGF2aW5nIHRvIGF3YWl0IGBRUkwucmVzb2x2ZSgpYCBhZ2Fpbi5cbiAqXG4gKiAjIyBRdWVzdGlvbjogV2h5IG5vdCBqdXN0IHVzZSBgaW1wb3J0KClgP1xuICpcbiAqIEF0IGZpcnN0IGdsYW5jZSwgYFFSTGAgc2VydmVzIHRoZSBzYW1lIHB1cnBvc2UgYXMgYGltcG9ydCgpYC4gSG93ZXZlciwgdGhlcmUgYXJlIHRocmVlIHN1YnRsZVxuICogZGlmZmVyZW5jZXMgdGhhdCBuZWVkIHRvIGJlIHRha2VuIGludG8gYWNjb3VudC5cbiAqXG4gKiAxLiBgUVJMYHMgbXVzdCBiZSBzZXJpYWxpemFibGUgaW50byBIVE1MLlxuICogMi4gYFFSTGBzIG11c3QgYmUgcmVzb2x2ZWQgYnkgZnJhbWV3b3JrIHJlbGF0aXZlIHRvIGBxOmJhc2VgLlxuICogMy4gYFFSTGBzIG11c3QgYmUgYWJsZSB0byBjYXB0dXJlIGxleGljYWxseSBzY29wZWQgdmFyaWFibGVzLlxuICogNC4gYFFSTGBzIGVuY2Fwc3VsYXRlIHRoZSBkaWZmZXJlbmNlIGJldHdlZW4gcnVubmluZyB3aXRoIGFuZCB3aXRob3V0IFF3aWsgT3B0aW1pemVyLlxuICogNS4gYFFSTGBzIGFsbG93IGV4cHJlc3NpbmcgbGF6eS1sb2FkZWQgYm91bmRhcmllcyB3aXRob3V0IHRoaW5raW5nIGFib3V0IGNodW5rIGFuZCBzeW1ib2wgbmFtZXMuXG4gKlxuICogTGV0J3MgYXNzdW1lIHRoYXQgeW91IGludGVuZCB0byB3cml0ZSBjb2RlIHN1Y2ggYXMgdGhpczpcbiAqXG4gKiBgYGB0c3hcbiAqIHJldHVybiA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IChhd2FpdCBpbXBvcnQoJy4vY2h1bmstYWJjLmpzJykpLm9uQ2xpY2t9PlxuICogYGBgXG4gKlxuICogVGhlIGFib3ZlIGNvZGUgbmVlZHMgdG8gYmUgc2VyaWFsaXplZCBpbnRvIERPTSBzdWNoIGFzOlxuICpcbiAqIGBgYFxuICogPGRpdiBxOmJhc2U9XCIvYnVpbGQvXCI+XG4gKiAgIDxidXR0b24gb246Y2xpY2s9XCIuL2NodW5rLWFiYy5qcyNvbkNsaWNrXCI+Li4uPC9idXR0b24+XG4gKiA8L2Rpdj5cbiAqIGBgYFxuICpcbiAqIDEuIE5vdGljZSB0aGVyZSBpcyBubyBlYXN5IHdheSB0byBleHRyYWN0IGNodW5rIChgLi9jaHVuay1hYmMuanNgKSBhbmQgc3ltYm9sIChgb25DbGlja2ApIGludG8gSFRNTC5cbiAqIDIuIE5vdGljZSB0aGF0IGV2ZW4gaWYgeW91IGNvdWxkIGV4dHJhY3QgaXQsIHRoZSBgaW1wb3J0KCcuL2NodW5rLWFiYy5qcycpYCB3b3VsZCBiZWNvbWUgcmVsYXRpdmUgdG9cbiAqICAgIHdoZXJlIHRoZSBgaW1wb3J0KClgIGZpbGUgaXMgZGVjbGFyZWQuIEJlY2F1c2UgaXQgaXMgb3VyIGZyYW1ld29yayBkb2luZyB0aGUgbG9hZCwgdGhlXG4gKiAgICBgLi9jaHVuay1hYmMuanNgIHdvdWxkIGJlY29tZSByZWxhdGl2ZSB0byB0aGUgZnJhbWV3b3JrIGZpbGUuIFRoaXMgaXMgbm90IGNvcnJlY3QsIGFzIGl0XG4gKiAgICBzaG91bGQgYmUgcmVsYXRpdmUgdG8gdGhlIG9yaWdpbmFsIGZpbGUgZ2VuZXJhdGVkIGJ5IHRoZSBidW5kbGVyLlxuICogMy4gTmV4dCwgdGhlIGZyYW1ld29yayBuZWVkcyB0byByZXNvbHZlIHRoZSBgLi9jaHVuay1hYmMuanNgIGFuZCBuZWVkcyBhIGJhc2UgbG9jYXRpb24gdGhhdCBpc1xuICogICAgZW5jb2RlZCBpbiB0aGUgSFRNTC5cbiAqIDQuIFRoZSBRUkwgbmVlZHMgdG8gYmUgYWJsZSB0byBjYXB0dXJlIGxleGljYWxseSBzY29wZWQgdmFyaWFibGVzLiAoYGltcG9ydCgpYCBvbmx5IGFsbG93cyBsb2FkaW5nXG4gKiAgICB0b3AtbGV2ZWwgc3ltYm9scyB3aGljaCBkb24ndCBjYXB0dXJlIHZhcmlhYmxlcy4pXG4gKiA1LiBBcyBhIGRldmVsb3BlciwgeW91IGRvbid0IHdhbnQgdG8gdGhpbmsgYWJvdXQgYGltcG9ydGAgYW5kIG5hbWluZyB0aGUgY2h1bmtzIGFuZCBzeW1ib2xzLiBZb3VcbiAqICAgIGp1c3Qgd2FudCB0byBzYXk6IFwidGhpcyBzaG91bGQgYmUgbGF6eS5cIlxuICpcbiAqIFRoZXNlIGFyZSB0aGUgbWFpbiByZWFzb25zIHdoeSBRd2lrIGludHJvZHVjZXMgaXRzIG93biBjb25jZXB0IG9mIGBRUkxgLlxuICpcbiAqIEBwdWJsaWNcbiAqIEBzZWUgYCRgXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCB0eXBlIFFSTDxUWVBFID0gdW5rbm93bj4gPSB7XG4gIC8vIFNwZWNpYWwgdHlwZSBicmFuZCB0byBsZXQgZXNsaW50IHRoYXQgdGhlIFR5cGUgaXMgc2VyaWFsaXphYmxlXG4gIF9fcXdpa19zZXJpYWxpemFibGVfXz86IGFueTtcbiAgX19icmFuZF9fUVJMX186IFRZUEU7XG5cbiAgLyoqIFJlc29sdmUgdGhlIFFSTCBhbmQgcmV0dXJuIHRoZSBhY3R1YWwgdmFsdWUuICovXG4gIHJlc29sdmUoKTogUHJvbWlzZTxUWVBFPjtcbiAgLyoqIFRoZSByZXNvbHZlZCB2YWx1ZSwgb25jZSBgcmVzb2x2ZSgpYCByZXR1cm5zLiAqL1xuICByZXNvbHZlZDogdW5kZWZpbmVkIHwgVFlQRTtcblxuICBnZXRDYXB0dXJlZCgpOiB1bmtub3duW10gfCBudWxsO1xuICBnZXRTeW1ib2woKTogc3RyaW5nO1xuICBnZXRIYXNoKCk6IHN0cmluZztcbiAgZGV2OiBRUkxEZXYgfCBudWxsO1xufSAmIEJpdmFyaWFudFFybEZuPFFybEFyZ3M8VFlQRT4sIFFybFJldHVybjxUWVBFPj47XG5cbi8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzUyNjY3OTU5L3doYXQtaXMtdGhlLXB1cnBvc2Utb2YtYml2YXJpYW5jZWhhY2staW4tdHlwZXNjcmlwdC10eXBlcy81MjY2ODEzMyM1MjY2ODEzM1xudHlwZSBCaXZhcmlhbnRRcmxGbjxBUkdTIGV4dGVuZHMgYW55W10sIFJFVFVSTj4gPSB7XG4gIC8qKlxuICAgKiBSZXNvbHZlIHRoZSBRUkwgb2YgY2xvc3VyZSBhbmQgaW52b2tlIGl0LlxuICAgKlxuICAgKiBAcGFyYW0gYXJncyAtIENsb3N1cmUgYXJndW1lbnRzLlxuICAgKiBAcmV0dXJucyBBIHByb21pc2Ugb2YgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgY2xvc3VyZS5cbiAgICovXG4gIGJpdmFyaWFuY2VIYWNrKC4uLmFyZ3M6IEFSR1MpOiBQcm9taXNlPFJFVFVSTj47XG59WydiaXZhcmlhbmNlSGFjayddO1xuXG4vKipcbiAqIEBkZXByZWNhdGVkIFVzZSBgUVJMPD5gIGluc3RlYWRcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHR5cGUgUHJvcEZuSW50ZXJmYWNlPEFSR1MgZXh0ZW5kcyBhbnlbXSwgUkVUPiA9IHtcbiAgX19xd2lrX3NlcmlhbGl6YWJsZV9fPzogYW55O1xuICAoLi4uYXJnczogQVJHUyk6IFByb21pc2U8UkVUPjtcbn07XG5cbmxldCBydW50aW1lU3ltYm9sSWQgPSAwO1xuXG4vKipcbiAqIEFsaWFzIGZvciBgUVJMPFQ+YC4gT2YgaGlzdG9yaWMgcmVsZXZhbmNlIG9ubHkuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdHlwZSBQcm9wRnVuY3Rpb248VD4gPSBRUkw8VD47XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kIyRcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjJCBpbnN0ZWFkKVxuLyoqXG4gKiBRd2lrIE9wdGltaXplciBtYXJrZXIgZnVuY3Rpb24uXG4gKlxuICogVXNlIGAkKC4uLilgIHRvIHRlbGwgUXdpayBPcHRpbWl6ZXIgdG8gZXh0cmFjdCB0aGUgZXhwcmVzc2lvbiBpbiBgJCguLi4pYCBpbnRvIGEgbGF6eS1sb2FkYWJsZVxuICogcmVzb3VyY2UgcmVmZXJlbmNlZCBieSBgUVJMYC5cbiAqXG4gKiBAcGFyYW0gZXhwcmVzc2lvbiAtIEV4cHJlc3Npb24gd2hpY2ggc2hvdWxkIGJlIGxhenkgbG9hZGVkXG4gKiBAcHVibGljXG4gKiBAc2VlIGBpbXBsaWNpdCRGaXJzdEFyZ2AgZm9yIGFkZGl0aW9uYWwgYF9fX18kKC4uLilgIHJ1bGVzLlxuICpcbiAqIEluIHRoaXMgZXhhbXBsZSwgYCQoLi4uKWAgaXMgdXNlZCB0byBjYXB0dXJlIHRoZSBjYWxsYmFjayBmdW5jdGlvbiBvZiBgb25tb3VzZW1vdmVgIGludG8gYVxuICogbGF6eS1sb2FkYWJsZSByZWZlcmVuY2UuIFRoaXMgYWxsb3dzIHRoZSBjb2RlIHRvIHJlZmVyIHRvIHRoZSBmdW5jdGlvbiB3aXRob3V0IGFjdHVhbGx5XG4gKiBsb2FkaW5nIHRoZSBmdW5jdGlvbi4gSW4gdGhpcyBleGFtcGxlLCB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gZG9lcyBub3QgZ2V0IGxvYWRlZCB1bnRpbFxuICogYG1vdXNlbW92ZWAgZXZlbnQgZmlyZXMuXG4gKlxuICogYGBgdHN4XG4gKiB1c2VPbkRvY3VtZW50KFxuICogICAnbW91c2Vtb3ZlJyxcbiAqICAgJCgoZXZlbnQpID0+IGNvbnNvbGUubG9nKCdtb3VzZW1vdmUnLCBldmVudCkpXG4gKiApO1xuICogYGBgXG4gKlxuICogSW4gdGhpcyBjb2RlLCB0aGUgUXdpayBPcHRpbWl6ZXIgZGV0ZWN0cyBgJCguLi4pYCBhbmQgdHJhbnNmb3JtcyB0aGUgY29kZSBpbnRvOlxuICpcbiAqIGBgYHRzeFxuICogLy8gRklMRTogPGN1cnJlbnQgZmlsZT5cbiAqIHVzZU9uRG9jdW1lbnQoJ21vdXNlbW92ZScsIHFybCgnLi9jaHVuay1hYmMuanMnLCAnb25Nb3VzZW1vdmUnKSk7XG4gKlxuICogLy8gRklMRTogY2h1bmstYWJjLmpzXG4gKiBleHBvcnQgY29uc3Qgb25Nb3VzZW1vdmUgPSAoKSA9PiBjb25zb2xlLmxvZygnbW91c2Vtb3ZlJyk7XG4gKiBgYGBcbiAqXG4gKiAjIyBTcGVjaWFsIFJ1bGVzXG4gKlxuICogVGhlIFF3aWsgT3B0aW1pemVyIHBsYWNlcyBzcGVjaWFsIHJ1bGVzIG9uIGZ1bmN0aW9ucyB0aGF0IGNhbiBiZSBsYXp5LWxvYWRlZC5cbiAqXG4gKiAxLiBUaGUgZXhwcmVzc2lvbiBvZiB0aGUgYCQoZXhwcmVzc2lvbilgIGZ1bmN0aW9uIG11c3QgYmUgaW1wb3J0YWJsZSBieSB0aGUgc3lzdGVtLlxuICogKGV4cHJlc3Npb24gc2hvd3MgdXAgaW4gYGltcG9ydGAgb3IgaGFzIGBleHBvcnRgKVxuICogMi4gSWYgaW5saW5lZCBmdW5jdGlvbiwgdGhlbiBhbGwgbGV4aWNhbGx5IGNhcHR1cmVkIHZhbHVlcyBtdXN0IGJlOlxuICogICAgLSBpbXBvcnRhYmxlICh2YXJzIHNob3cgdXAgaW4gYGltcG9ydGBzIG9yIGBleHBvcnRgcylcbiAqICAgIC0gY29uc3QgKFRoZSBjYXB0dXJpbmcgcHJvY2VzcyBkaWZmZXJzIGZyb20gSlMgY2FwdHVyaW5nIGluIHRoYXQgd3JpdGluZyB0byBjYXB0dXJlZFxuICogdmFyaWFibGVzIGRvZXMgbm90IHVwZGF0ZSB0aGVtLCBhbmQgdGhlcmVmb3JlIHdyaXRlcyBhcmUgZm9yYmlkZGVuLiBUaGUgYmVzdCBwcmFjdGljZSBpcyB0aGF0XG4gKiBhbGwgY2FwdHVyZWQgdmFyaWFibGVzIGFyZSBjb25zdGFudHMuKVxuICogICAgLSBNdXN0IGJlIHJ1bnRpbWUgc2VyaWFsaXphYmxlLlxuICpcbiAqIGBgYHRzeFxuICpcbiAqIGltcG9ydCB7IGNyZWF0ZUNvbnRleHRJZCwgdXNlQ29udGV4dCwgdXNlQ29udGV4dFByb3ZpZGVyIH0gZnJvbSAnLi91c2UvdXNlLWNvbnRleHQnO1xuICogaW1wb3J0IHsgUmVzb3VyY2UsIHVzZVJlc291cmNlJCB9IGZyb20gJy4vdXNlL3VzZS1yZXNvdXJjZSc7XG4gKiBpbXBvcnQgeyB1c2VTaWduYWwgfSBmcm9tICcuL3VzZS91c2Utc2lnbmFsJztcbiAqXG4gKiBleHBvcnQgY29uc3QgZ3JlZXQgPSAoKSA9PiBjb25zb2xlLmxvZygnZ3JlZXQnKTtcbiAqIGZ1bmN0aW9uIHRvcExldmVsRm4oKSB7fVxuICpcbiAqIGZ1bmN0aW9uIG15Q29kZSgpIHtcbiAqICAgY29uc3Qgc3RvcmUgPSB1c2VTdG9yZSh7fSk7XG4gKiAgIGZ1bmN0aW9uIGxvY2FsRm4oKSB7fVxuICogICAvLyBWYWxpZCBFeGFtcGxlc1xuICogICAkKGdyZWV0KTsgLy8gZ3JlZXQgaXMgaW1wb3J0YWJsZVxuICogICAkKCgpID0+IGdyZWV0KCkpOyAvLyBncmVldCBpcyBpbXBvcnRhYmxlO1xuICogICAkKCgpID0+IGNvbnNvbGUubG9nKHN0b3JlKSk7IC8vIHN0b3JlIGlzIHNlcmlhbGl6YWJsZS5cbiAqXG4gKiAgIC8vIENvbXBpbGUgdGltZSBlcnJvcnNcbiAqICAgJCh0b3BMZXZlbEZuKTsgLy8gRVJST1I6IGB0b3BMZXZlbEZuYCBub3QgaW1wb3J0YWJsZVxuICogICAkKCgpID0+IHRvcExldmVsRm4oKSk7IC8vIEVSUk9SOiBgdG9wTGV2ZWxGbmAgbm90IGltcG9ydGFibGVcbiAqXG4gKiAgIC8vIFJ1bnRpbWUgZXJyb3JzXG4gKiAgICQobG9jYWxGbik7IC8vIEVSUk9SOiBgbG9jYWxGbmAgZmFpbHMgc2VyaWFsaXphdGlvblxuICogICAkKCgpID0+IGxvY2FsRm4oKSk7IC8vIEVSUk9SOiBgbG9jYWxGbmAgZmFpbHMgc2VyaWFsaXphdGlvblxuICogfVxuICpcbiAqIGBgYFxuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgY29uc3QgJCA9IDxUPihleHByZXNzaW9uOiBUKTogUVJMPFQ+ID0+IHtcbiAgaWYgKCFxUnVudGltZVFybCAmJiBxRGV2KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgJ09wdGltaXplciBzaG91bGQgcmVwbGFjZSBhbGwgdXNhZ2VzIG9mICQoKSB3aXRoIHNvbWUgc3BlY2lhbCBzeW50YXguIElmIHlvdSBuZWVkIHRvIGNyZWF0ZSBhIFFSTCBtYW51YWxseSwgdXNlIGlubGluZWRRcmwoKSBpbnN0ZWFkLidcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIGNyZWF0ZVFSTDxUPihudWxsLCAncycgKyBydW50aW1lU3ltYm9sSWQrKywgZXhwcmVzc2lvbiwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCk7XG59O1xuLyoqIEBwcml2YXRlIFVzZSBUbyBhdm9pZCBvcHRpbWl6ZXIgcmVwbGFjZW1lbnQgKi9cbmV4cG9ydCBjb25zdCBkb2xsYXIgPSAkO1xuXG4vKiogQHB1YmxpYyAqL1xuZXhwb3J0IGNvbnN0IGV2ZW50UXJsID0gPFQ+KHFybDogUVJMPFQ+KTogUVJMPFQ+ID0+IHtcbiAgcmV0dXJuIHFybDtcbn07XG5cbi8qKiBAYWxwaGEgKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3luY1FSTDxUWVBFIGV4dGVuZHMgRnVuY3Rpb24gPSBhbnk+IGV4dGVuZHMgUVJMPFRZUEU+IHtcbiAgX19icmFuZF9fU3luY1FSTF9fOiBUWVBFO1xuXG4gIC8qKlxuICAgKiBSZXNvbHZlIHRoZSBRUkwgb2YgY2xvc3VyZSBhbmQgaW52b2tlIGl0LlxuICAgKlxuICAgKiBAcGFyYW0gYXJncyAtIENsb3N1cmUgYXJndW1lbnRzLlxuICAgKiBAcmV0dXJucyBBIHJldHVybiB2YWx1ZSBvZiB0aGUgY2xvc3VyZS5cbiAgICovXG4gIChcbiAgICAuLi5hcmdzOiBUWVBFIGV4dGVuZHMgKC4uLmFyZ3M6IGluZmVyIEFSR1MpID0+IGFueSA/IEFSR1MgOiBuZXZlclxuICApOiBUWVBFIGV4dGVuZHMgKC4uLmFyZ3M6IGFueVtdKSA9PiBpbmZlciBSRVRVUk4gPyBSRVRVUk4gOiBuZXZlcjtcblxuICByZXNvbHZlZDogVFlQRTtcbiAgZGV2OiBRUkxEZXYgfCBudWxsO1xufVxuXG4vKipcbiAqIEV4dHJhY3QgZnVuY3Rpb24gaW50byBhIHN5bmNocm9ub3VzbHkgbG9hZGFibGUgUVJMLlxuICpcbiAqIE5PVEU6IFN5bmNocm9ub3VzIFFSTHMgZnVuY3Rpb25zIGNhbid0IGNsb3NlIG92ZXIgYW55IHZhcmlhYmxlcywgaW5jbHVkaW5nIGV4cG9ydHMuXG4gKlxuICogQHBhcmFtIGZuIC0gRnVuY3Rpb24gdG8gZXh0cmFjdC5cbiAqIEByZXR1cm5zXG4gKiBAYWxwaGFcbiAqL1xuZXhwb3J0IGNvbnN0IHN5bmMkID0gPFQgZXh0ZW5kcyBGdW5jdGlvbj4oZm46IFQpOiBTeW5jUVJMPFQ+ID0+IHtcbiAgaWYgKCFxUnVudGltZVFybCAmJiBxRGV2KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgJ09wdGltaXplciBzaG91bGQgcmVwbGFjZSBhbGwgdXNhZ2VzIG9mIHN5bmMkKCkgd2l0aCBzb21lIHNwZWNpYWwgc3ludGF4LiBJZiB5b3UgbmVlZCB0byBjcmVhdGUgYSBRUkwgbWFudWFsbHksIHVzZSBpbmxpbmVkU3luY1FybCgpIGluc3RlYWQuJ1xuICAgICk7XG4gIH1cbiAgaWYgKHFEZXYpIHtcbiAgICAvLyBUbyBtYWtlIHN1cmUgdGhhdCBpbiBkZXYgbW9kZSB3ZSBkb24ndCBhY2NpZGVudGFsbHkgY2FwdHVyZSBjb250ZXh0IGluIGBzeW5jJCgpYCB3ZSBzZXJpYWxpemUgYW5kIGRlc2VyaWFsaXplIHRoZSBmdW5jdGlvbi5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbmV3LWZ1bmNcbiAgICBmbiA9IG5ldyBGdW5jdGlvbigncmV0dXJuICcgKyBmbi50b1N0cmluZygpKSgpIGFzIGFueTtcbiAgfVxuXG4gIHJldHVybiBjcmVhdGVRUkw8VD4oJycsIFNZTkNfUVJMLCBmbiwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCkgYXMgYW55O1xufTtcblxuLyoqXG4gKiBFeHRyYWN0IGZ1bmN0aW9uIGludG8gYSBzeW5jaHJvbm91c2x5IGxvYWRhYmxlIFFSTC5cbiAqXG4gKiBOT1RFOiBTeW5jaHJvbm91cyBRUkxzIGZ1bmN0aW9ucyBjYW4ndCBjbG9zZSBvdmVyIGFueSB2YXJpYWJsZXMsIGluY2x1ZGluZyBleHBvcnRzLlxuICpcbiAqIEBwYXJhbSBmbiAtIEV4dHJhY3RlZCBmdW5jdGlvblxuICogQHBhcmFtIHNlcmlhbGl6ZWRGbiAtIFNlcmlhbGl6ZWQgZnVuY3Rpb24gaW4gc3RyaW5nIGZvcm0uXG4gKiBAcmV0dXJuc1xuICogQGFscGhhXG4gKi9cbmV4cG9ydCBjb25zdCBfcXJsU3luYyA9IGZ1bmN0aW9uIDxUWVBFIGV4dGVuZHMgRnVuY3Rpb24+KFxuICBmbjogVFlQRSxcbiAgc2VyaWFsaXplZEZuPzogc3RyaW5nXG4pOiBTeW5jUVJMPFRZUEU+IHtcbiAgaWYgKHNlcmlhbGl6ZWRGbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgc2VyaWFsaXplZEZuID0gZm4udG9TdHJpbmcoKTtcbiAgfVxuICAoZm4gYXMgYW55KS5zZXJpYWxpemVkID0gc2VyaWFsaXplZEZuO1xuICByZXR1cm4gY3JlYXRlUVJMPFRZUEU+KCcnLCBTWU5DX1FSTCwgZm4sIG51bGwsIG51bGwsIG51bGwsIG51bGwpIGFzIGFueTtcbn07XG4iXX0=","import { dollar } from './qrl/qrl.public';\nimport { _CONST_PROPS, _VAR_PROPS, _jsxSorted } from '../internal';\n// <docs markdown=\"../readme.md#component\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#component instead)\n/**\n * Declare a Qwik component that can be used to create UI.\n *\n * Use `component$` to declare a Qwik component. A Qwik component is a special kind of component\n * that allows the Qwik framework to lazy load and execute the component independently of other Qwik\n * components as well as lazy load the component's life-cycle hooks and event handlers.\n *\n * Side note: You can also declare regular (standard JSX) components that will have standard\n * synchronous behavior.\n *\n * Qwik component is a facade that describes how the component should be used without forcing the\n * implementation of the component to be eagerly loaded. A minimum Qwik definition consists of:\n *\n * ### Example\n *\n * An example showing how to create a counter component:\n *\n * ```tsx\n * export interface CounterProps {\n *   initialValue?: number;\n *   step?: number;\n * }\n * export const Counter = component$((props: CounterProps) => {\n *   const state = useStore({ count: props.initialValue || 0 });\n *   return (\n *     <div>\n *       <span>{state.count}</span>\n *       <button onClick$={() => (state.count += props.step || 1)}>+</button>\n *     </div>\n *   );\n * });\n * ```\n *\n * - `component$` is how a component gets declared.\n * - `{ value?: number; step?: number }` declares the public (props) interface of the component.\n * - `{ count: number }` declares the private (state) interface of the component.\n *\n * The above can then be used like so:\n *\n * ```tsx\n * export const OtherComponent = component$(() => {\n *   return <Counter initialValue={100} />;\n * });\n * ```\n *\n * See also: `component`, `useCleanup`, `onResume`, `onPause`, `useOn`, `useOnDocument`,\n * `useOnWindow`, `useStyles`\n *\n * @public\n */\n// </docs>\nexport const componentQrl = (componentQrl) => {\n    // Return a QComponent Factory function.\n    const QwikComponent = () => { };\n    QwikComponent[SERIALIZABLE_STATE] = [componentQrl];\n    return QwikComponent;\n};\nexport const SERIALIZABLE_STATE = Symbol('serializable-data');\nexport const isQwikComponent = (component) => {\n    return typeof component == 'function' && component[SERIALIZABLE_STATE] !== undefined;\n};\n// <docs markdown=\"../readme.md#component\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#component instead)\n/**\n * Declare a Qwik component that can be used to create UI.\n *\n * Use `component$` to declare a Qwik component. A Qwik component is a special kind of component\n * that allows the Qwik framework to lazy load and execute the component independently of other Qwik\n * components as well as lazy load the component's life-cycle hooks and event handlers.\n *\n * Side note: You can also declare regular (standard JSX) components that will have standard\n * synchronous behavior.\n *\n * Qwik component is a facade that describes how the component should be used without forcing the\n * implementation of the component to be eagerly loaded. A minimum Qwik definition consists of:\n *\n * ### Example\n *\n * An example showing how to create a counter component:\n *\n * ```tsx\n * export interface CounterProps {\n *   initialValue?: number;\n *   step?: number;\n * }\n * export const Counter = component$((props: CounterProps) => {\n *   const state = useStore({ count: props.initialValue || 0 });\n *   return (\n *     <div>\n *       <span>{state.count}</span>\n *       <button onClick$={() => (state.count += props.step || 1)}>+</button>\n *     </div>\n *   );\n * });\n * ```\n *\n * - `component$` is how a component gets declared.\n * - `{ value?: number; step?: number }` declares the public (props) interface of the component.\n * - `{ count: number }` declares the private (state) interface of the component.\n *\n * The above can then be used like so:\n *\n * ```tsx\n * export const OtherComponent = component$(() => {\n *   return <Counter initialValue={100} />;\n * });\n * ```\n *\n * See also: `component`, `useCleanup`, `onResume`, `onPause`, `useOn`, `useOnDocument`,\n * `useOnWindow`, `useStyles`\n *\n * @public\n */\n// </docs>\nexport const component$ = (onMount) => {\n    return componentQrl(dollar(onMount));\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tcG9uZW50LnB1YmxpYy5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9zaGFyZWQvY29tcG9uZW50LnB1YmxpYy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsTUFBTSxFQUFrQyxNQUFNLGtCQUFrQixDQUFDO0FBUzFFLE9BQU8sRUFBRSxZQUFZLEVBQUUsVUFBVSxFQUFFLFVBQVUsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQW1IbkUsMkNBQTJDO0FBQzNDLHlDQUF5QztBQUN6Qyx3Q0FBd0M7QUFDeEM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7R0FpREc7QUFDSCxVQUFVO0FBQ1YsTUFBTSxDQUFDLE1BQU0sWUFBWSxHQUFHLENBQzFCLFlBQW9DLEVBQ2xCLEVBQUU7SUFDcEIsd0NBQXdDO0lBQ3hDLE1BQU0sYUFBYSxHQUFHLEdBQUcsRUFBRSxHQUFFLENBQUMsQ0FBQztJQUM5QixhQUFxQixDQUFDLGtCQUFrQixDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsQ0FBQztJQUM1RCxPQUFPLGFBQW9CLENBQUM7QUFDOUIsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sa0JBQWtCLEdBQUcsTUFBTSxDQUFDLG1CQUFtQixDQUFDLENBQUM7QUFFOUQsTUFBTSxDQUFDLE1BQU0sZUFBZSxHQUFHLENBQTJCLFNBQWtCLEVBQWtCLEVBQUU7SUFDOUYsT0FBTyxPQUFPLFNBQVMsSUFBSSxVQUFVLElBQUssU0FBaUIsQ0FBQyxrQkFBa0IsQ0FBQyxLQUFLLFNBQVMsQ0FBQztBQUNoRyxDQUFDLENBQUM7QUFXRiwyQ0FBMkM7QUFDM0MseUNBQXlDO0FBQ3pDLHdDQUF3QztBQUN4Qzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQWlERztBQUNILFVBQVU7QUFDVixNQUFNLENBQUMsTUFBTSxVQUFVLEdBQUcsQ0FBa0IsT0FBMEIsRUFBb0IsRUFBRTtJQUMxRixPQUFPLFlBQVksQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztBQUN2QyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkb2xsYXIsIHR5cGUgUHJvcEZuSW50ZXJmYWNlLCB0eXBlIFFSTCB9IGZyb20gJy4vcXJsL3FybC5wdWJsaWMnO1xuaW1wb3J0IHR5cGUgeyBKU1hPdXRwdXQgfSBmcm9tICcuL2pzeC90eXBlcy9qc3gtbm9kZSc7XG5pbXBvcnQgdHlwZSB7XG4gIENvbXBvbmVudEJhc2VQcm9wcyxcbiAgRXZlbnRIYW5kbGVyLFxuICBKU1hDaGlsZHJlbixcbiAgUVJMRXZlbnRIYW5kbGVyTXVsdGksXG59IGZyb20gJy4vanN4L3R5cGVzL2pzeC1xd2lrLWF0dHJpYnV0ZXMnO1xuaW1wb3J0IHR5cGUgeyBGdW5jdGlvbkNvbXBvbmVudCB9IGZyb20gJy4vanN4L3R5cGVzL2pzeC1ub2RlJztcbmltcG9ydCB7IF9DT05TVF9QUk9QUywgX1ZBUl9QUk9QUywgX2pzeFNvcnRlZCB9IGZyb20gJy4uL2ludGVybmFsJztcbmltcG9ydCB0eXBlIHsgUXdpa0ludHJpbnNpY0VsZW1lbnRzIH0gZnJvbSAnLi9qc3gvdHlwZXMvanN4LXF3aWstZWxlbWVudHMnO1xuXG4vLyBUUyB3YXkgdG8gY2hlY2sgZm9yIGFueVxudHlwZSBJc0FueTxUPiA9IDAgZXh0ZW5kcyBUICYgMSA/IHRydWUgOiBmYWxzZTtcblxudHlwZSBPYmplY3RQcm9wczxUPiA9XG4gIElzQW55PFQ+IGV4dGVuZHMgdHJ1ZVxuICAgID8gYW55XG4gICAgOiAvLyB1bmtub3duIG1lYW5zIHdlIGRvbid0IGFjY2VwdCBhbnkgcHJvcHNcbiAgICAgIHVua25vd24gZXh0ZW5kcyBUXG4gICAgICA/IG5ldmVyXG4gICAgICA6IFQgZXh0ZW5kcyBSZWNvcmQ8YW55LCBhbnk+XG4gICAgICAgID8gVFxuICAgICAgICA6IG5ldmVyO1xuXG4vKipcbiAqIEluZmVycyBgUHJvcHNgIGZyb20gdGhlIGNvbXBvbmVudCBvciB0YWcuXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBgYGB0c3hcbiAqIGNvbnN0IERlc2MgPSBjb21wb25lbnQkKCh7ZGVzYywgLi4ucHJvcHN9OiB7IGRlc2M6IHN0cmluZyB9ICYgUHJvcHNPZjwnZGl2Jz4pID0+IHtcbiAqICByZXR1cm4gPGRpdiB7Li4ucHJvcHN9PntkZXNjfTwvZGl2PjtcbiAqIH0pO1xuICpcbiAqIGNvbnN0IFRpdGxlQm94ID0gY29tcG9uZW50JCgoe3RpdGxlLCAuLi5wcm9wc306IHsgdGl0bGU6IHN0cmluZyB9ICYgUHJvcHNPZjxCb3g+KSA9PiB7XG4gKiAgIHJldHVybiA8Qm94IHsuLi5wcm9wc30+PGgxPnt0aXRsZX08L2gxPjwvQm94PjtcbiAqIH0pO1xuICogYGBgXG4gKlxuICogQHB1YmxpY1xuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgdHlwZSBQcm9wc09mPENPTVA+ID0gQ09NUCBleHRlbmRzIHN0cmluZ1xuICA/IENPTVAgZXh0ZW5kcyBrZXlvZiBRd2lrSW50cmluc2ljRWxlbWVudHNcbiAgICA/IFF3aWtJbnRyaW5zaWNFbGVtZW50c1tDT01QXVxuICAgIDogLy8gYDxzcGFuLz5gIGhhcyBubyBzcGVjaWFsIGF0dHJpYnV0ZXNcbiAgICAgIFF3aWtJbnRyaW5zaWNFbGVtZW50c1snc3BhbiddXG4gIDogTm9uTnVsbGFibGU8Q09NUD4gZXh0ZW5kcyBuZXZlclxuICAgID8gbmV2ZXJcbiAgICA6IENPTVAgZXh0ZW5kcyBGdW5jdGlvbkNvbXBvbmVudDxpbmZlciBQUk9QUz5cbiAgICAgID8gUFJPUFMgZXh0ZW5kcyBSZWNvcmQ8YW55LCBpbmZlciBWPlxuICAgICAgICA/IElzQW55PFY+IGV4dGVuZHMgdHJ1ZVxuICAgICAgICAgID8gLy8gd2UgY291bGRuJ3QgZmlndXJlIGl0IG91dFxuICAgICAgICAgICAgbmV2ZXJcbiAgICAgICAgICA6IE9iamVjdFByb3BzPFBST1BTPlxuICAgICAgICA6IENPTVAgZXh0ZW5kcyBDb21wb25lbnQ8aW5mZXIgT3JpZ1Byb3BzPlxuICAgICAgICAgID8gT2JqZWN0UHJvcHM8T3JpZ1Byb3BzPlxuICAgICAgICAgIDogLy8gc29tZXRoaW5nIGNvbXBsZXgsIGp1c3QgcmV0dXJuIGFzLWlzXG4gICAgICAgICAgICBQUk9QU1xuICAgICAgOiBuZXZlcjtcblxuLyoqXG4gKiBUeXBlIHJlcHJlc2VudGluZyB0aGUgUXdpayBjb21wb25lbnQuXG4gKlxuICogYENvbXBvbmVudGAgaXMgdGhlIHR5cGUgcmV0dXJuZWQgYnkgaW52b2tpbmcgYGNvbXBvbmVudCRgLlxuICpcbiAqIGBgYHRzeFxuICogaW50ZXJmYWNlIE15Q29tcG9uZW50UHJvcHMge1xuICogICBzb21lUHJvcDogc3RyaW5nO1xuICogfVxuICogY29uc3QgTXlDb21wb25lbnQ6IENvbXBvbmVudDxNeUNvbXBvbmVudFByb3BzPiA9IGNvbXBvbmVudCQoKHByb3BzOiBNeUNvbXBvbmVudFByb3BzKSA9PiB7XG4gKiAgIHJldHVybiA8c3Bhbj57cHJvcHMuc29tZVByb3B9PC9zcGFuPjtcbiAqIH0pO1xuICogYGBgXG4gKlxuICogQHB1YmxpY1xuICovXG4vLyBJbiByZWFsaXR5LCBDb21wb25lbnQgaXMgYSBRUkwgYnV0IHRoYXQgbWFrZXMgdGhlIHR5cGVzIHRvbyBjb21wbGV4XG5leHBvcnQgdHlwZSBDb21wb25lbnQ8UFJPUFMgPSB1bmtub3duPiA9IEZ1bmN0aW9uQ29tcG9uZW50PFB1YmxpY1Byb3BzPFBST1BTPj47XG5cbmV4cG9ydCB0eXBlIENvbXBvbmVudENoaWxkcmVuPFBST1BTPiA9IFBST1BTIGV4dGVuZHMge1xuICBjaGlsZHJlbjogYW55O1xufVxuICA/IG5ldmVyXG4gIDogeyBjaGlsZHJlbj86IEpTWENoaWxkcmVuIH07XG4vKipcbiAqIEV4dGVuZHMgdGhlIGRlZmluZWQgY29tcG9uZW50IFBST1BTLCBhZGRpbmcgdGhlIGRlZmF1bHQgb25lcyAoY2hpbGRyZW4gYW5kIHE6c2xvdCkgYW5kIGFsbG93aW5nXG4gKiBwbGFpbiBmdW5jdGlvbnMgdG8gUVJMIGFyZ3VtZW50cy5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB0eXBlIFB1YmxpY1Byb3BzPFBST1BTPiA9XG4gIC8vIFVzZSBPbWl0ICsgX09ubHkkIHNvIHRoYXQgaW5mZXJyaW5nIHBvbHltb3JwaWMgY29tcG9uZW50cyB3b3Jrc1xuICAvLyBNYXBwaW5nIHRoZSBlbnRpcmUgUFJPUFMgZG9lc24ndCB3b3JrLCBtYXliZSBUUyBkb2Vzbid0IGxpa2UgaW5mZXJyaW5nIHRocm91Z2ggY29uZGl0aW9uYWwgdHlwZXNcbiAgKFBST1BTIGV4dGVuZHMgUmVjb3JkPGFueSwgYW55PlxuICAgID8gT21pdDxQUk9QUywgYCR7c3RyaW5nfSRgPiAmIF9Pbmx5JDxQUk9QUz5cbiAgICA6IHVua25vd24gZXh0ZW5kcyBQUk9QU1xuICAgICAgPyB7fVxuICAgICAgOiBQUk9QUykgJlxuICAgIENvbXBvbmVudEJhc2VQcm9wcyAmXG4gICAgQ29tcG9uZW50Q2hpbGRyZW48UFJPUFM+O1xuXG4vKiogQGludGVybmFsICovXG5leHBvcnQgdHlwZSBfQWxsb3dQbGFpblFybDxRPiA9XG4gIC8vIFFSTEV2ZW50SGFuZGxlck11bHRpIGdldHMgYSBzcGVjaWFsIGNhc2UgdG8gc2ltcGxpZnkgdGhlIHJlc3VsdFxuICAvLyBJdCBuZWVkcyB0byBiZSBoYW5kbGVkIGNhcmVmdWxseSBiZWNhdXNlIGl0IG1hdGNoZXMgcmVndWxhciBmdW5jdGlvbnMgdG9vXG4gIFFSTEV2ZW50SGFuZGxlck11bHRpPGFueSwgYW55PiBleHRlbmRzIFFcbiAgICA/IFEgZXh0ZW5kcyBRUkxFdmVudEhhbmRsZXJNdWx0aTxpbmZlciBFViwgaW5mZXIgRUw+XG4gICAgICA/XG4gICAgICAgICAgfCBRXG4gICAgICAgICAgLy8gSXQgY2FuIGluZmVyIHVua25vd24gYW5kIHRoYXQgYnJlYWtzIHRoaW5nc1xuICAgICAgICAgIHwgKEVMIGV4dGVuZHMgRWxlbWVudCA/IEV2ZW50SGFuZGxlcjxFViwgRUw+IDogbmV2ZXIpXG4gICAgICA6IFFcbiAgICA6IFEgZXh0ZW5kcyBRUkw8aW5mZXIgVT5cbiAgICAgID8gUSB8IFVcbiAgICAgIDogTm9uTnVsbGFibGU8UT4gZXh0ZW5kcyBuZXZlclxuICAgICAgICA/IFFcbiAgICAgICAgOiBRUkw8UT4gfCBRO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IHR5cGUgX09ubHkkPFA+ID0ge1xuICBbSyBpbiBrZXlvZiBQIGFzIEsgZXh0ZW5kcyBgJHtzdHJpbmd9JGAgPyBLIDogbmV2ZXJdOiBfQWxsb3dQbGFpblFybDxQW0tdPjtcbn07XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kI2NvbXBvbmVudFwiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IC4uL3JlYWRtZS5tZCNjb21wb25lbnQgaW5zdGVhZClcbi8qKlxuICogRGVjbGFyZSBhIFF3aWsgY29tcG9uZW50IHRoYXQgY2FuIGJlIHVzZWQgdG8gY3JlYXRlIFVJLlxuICpcbiAqIFVzZSBgY29tcG9uZW50JGAgdG8gZGVjbGFyZSBhIFF3aWsgY29tcG9uZW50LiBBIFF3aWsgY29tcG9uZW50IGlzIGEgc3BlY2lhbCBraW5kIG9mIGNvbXBvbmVudFxuICogdGhhdCBhbGxvd3MgdGhlIFF3aWsgZnJhbWV3b3JrIHRvIGxhenkgbG9hZCBhbmQgZXhlY3V0ZSB0aGUgY29tcG9uZW50IGluZGVwZW5kZW50bHkgb2Ygb3RoZXIgUXdpa1xuICogY29tcG9uZW50cyBhcyB3ZWxsIGFzIGxhenkgbG9hZCB0aGUgY29tcG9uZW50J3MgbGlmZS1jeWNsZSBob29rcyBhbmQgZXZlbnQgaGFuZGxlcnMuXG4gKlxuICogU2lkZSBub3RlOiBZb3UgY2FuIGFsc28gZGVjbGFyZSByZWd1bGFyIChzdGFuZGFyZCBKU1gpIGNvbXBvbmVudHMgdGhhdCB3aWxsIGhhdmUgc3RhbmRhcmRcbiAqIHN5bmNocm9ub3VzIGJlaGF2aW9yLlxuICpcbiAqIFF3aWsgY29tcG9uZW50IGlzIGEgZmFjYWRlIHRoYXQgZGVzY3JpYmVzIGhvdyB0aGUgY29tcG9uZW50IHNob3VsZCBiZSB1c2VkIHdpdGhvdXQgZm9yY2luZyB0aGVcbiAqIGltcGxlbWVudGF0aW9uIG9mIHRoZSBjb21wb25lbnQgdG8gYmUgZWFnZXJseSBsb2FkZWQuIEEgbWluaW11bSBRd2lrIGRlZmluaXRpb24gY29uc2lzdHMgb2Y6XG4gKlxuICogIyMjIEV4YW1wbGVcbiAqXG4gKiBBbiBleGFtcGxlIHNob3dpbmcgaG93IHRvIGNyZWF0ZSBhIGNvdW50ZXIgY29tcG9uZW50OlxuICpcbiAqIGBgYHRzeFxuICogZXhwb3J0IGludGVyZmFjZSBDb3VudGVyUHJvcHMge1xuICogICBpbml0aWFsVmFsdWU/OiBudW1iZXI7XG4gKiAgIHN0ZXA/OiBudW1iZXI7XG4gKiB9XG4gKiBleHBvcnQgY29uc3QgQ291bnRlciA9IGNvbXBvbmVudCQoKHByb3BzOiBDb3VudGVyUHJvcHMpID0+IHtcbiAqICAgY29uc3Qgc3RhdGUgPSB1c2VTdG9yZSh7IGNvdW50OiBwcm9wcy5pbml0aWFsVmFsdWUgfHwgMCB9KTtcbiAqICAgcmV0dXJuIChcbiAqICAgICA8ZGl2PlxuICogICAgICAgPHNwYW4+e3N0YXRlLmNvdW50fTwvc3Bhbj5cbiAqICAgICAgIDxidXR0b24gb25DbGljayQ9eygpID0+IChzdGF0ZS5jb3VudCArPSBwcm9wcy5zdGVwIHx8IDEpfT4rPC9idXR0b24+XG4gKiAgICAgPC9kaXY+XG4gKiAgICk7XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIC0gYGNvbXBvbmVudCRgIGlzIGhvdyBhIGNvbXBvbmVudCBnZXRzIGRlY2xhcmVkLlxuICogLSBgeyB2YWx1ZT86IG51bWJlcjsgc3RlcD86IG51bWJlciB9YCBkZWNsYXJlcyB0aGUgcHVibGljIChwcm9wcykgaW50ZXJmYWNlIG9mIHRoZSBjb21wb25lbnQuXG4gKiAtIGB7IGNvdW50OiBudW1iZXIgfWAgZGVjbGFyZXMgdGhlIHByaXZhdGUgKHN0YXRlKSBpbnRlcmZhY2Ugb2YgdGhlIGNvbXBvbmVudC5cbiAqXG4gKiBUaGUgYWJvdmUgY2FuIHRoZW4gYmUgdXNlZCBsaWtlIHNvOlxuICpcbiAqIGBgYHRzeFxuICogZXhwb3J0IGNvbnN0IE90aGVyQ29tcG9uZW50ID0gY29tcG9uZW50JCgoKSA9PiB7XG4gKiAgIHJldHVybiA8Q291bnRlciBpbml0aWFsVmFsdWU9ezEwMH0gLz47XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIFNlZSBhbHNvOiBgY29tcG9uZW50YCwgYHVzZUNsZWFudXBgLCBgb25SZXN1bWVgLCBgb25QYXVzZWAsIGB1c2VPbmAsIGB1c2VPbkRvY3VtZW50YCxcbiAqIGB1c2VPbldpbmRvd2AsIGB1c2VTdHlsZXNgXG4gKlxuICogQHB1YmxpY1xuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgY29uc3QgY29tcG9uZW50UXJsID0gPFBST1BTIGV4dGVuZHMgUmVjb3JkPGFueSwgYW55Pj4oXG4gIGNvbXBvbmVudFFybDogUVJMPE9uUmVuZGVyRm48UFJPUFM+PlxuKTogQ29tcG9uZW50PFBST1BTPiA9PiB7XG4gIC8vIFJldHVybiBhIFFDb21wb25lbnQgRmFjdG9yeSBmdW5jdGlvbi5cbiAgY29uc3QgUXdpa0NvbXBvbmVudCA9ICgpID0+IHt9O1xuICAoUXdpa0NvbXBvbmVudCBhcyBhbnkpW1NFUklBTElaQUJMRV9TVEFURV0gPSBbY29tcG9uZW50UXJsXTtcbiAgcmV0dXJuIFF3aWtDb21wb25lbnQgYXMgYW55O1xufTtcblxuZXhwb3J0IGNvbnN0IFNFUklBTElaQUJMRV9TVEFURSA9IFN5bWJvbCgnc2VyaWFsaXphYmxlLWRhdGEnKTtcblxuZXhwb3J0IGNvbnN0IGlzUXdpa0NvbXBvbmVudCA9IDxUIGV4dGVuZHMgQ29tcG9uZW50PGFueT4+KGNvbXBvbmVudDogdW5rbm93bik6IGNvbXBvbmVudCBpcyBUID0+IHtcbiAgcmV0dXJuIHR5cGVvZiBjb21wb25lbnQgPT0gJ2Z1bmN0aW9uJyAmJiAoY29tcG9uZW50IGFzIGFueSlbU0VSSUFMSVpBQkxFX1NUQVRFXSAhPT0gdW5kZWZpbmVkO1xufTtcblxuLyoqIEBwdWJsaWMgQGRlcHJlY2F0ZWQgVXNlIGBRUkw8PmAgb24geW91ciBmdW5jdGlvbiBwcm9wcyBpbnN0ZWFkICovXG5leHBvcnQgdHlwZSBQcm9wRnVuY3Rpb25Qcm9wczxQUk9QUyBleHRlbmRzIFJlY29yZDxhbnksIGFueT4+ID0ge1xuICBbSyBpbiBrZXlvZiBQUk9QU106IFBST1BTW0tdIGV4dGVuZHMgdW5kZWZpbmVkXG4gICAgPyBQUk9QU1tLXVxuICAgIDogUFJPUFNbS10gZXh0ZW5kcyAoKC4uLmFyZ3M6IGluZmVyIEFSR1MpID0+IGluZmVyIFJFVCkgfCB1bmRlZmluZWRcbiAgICAgID8gUHJvcEZuSW50ZXJmYWNlPEFSR1MsIEF3YWl0ZWQ8UkVUPj5cbiAgICAgIDogUFJPUFNbS107XG59O1xuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4uL3JlYWRtZS5tZCNjb21wb25lbnRcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjY29tcG9uZW50IGluc3RlYWQpXG4vKipcbiAqIERlY2xhcmUgYSBRd2lrIGNvbXBvbmVudCB0aGF0IGNhbiBiZSB1c2VkIHRvIGNyZWF0ZSBVSS5cbiAqXG4gKiBVc2UgYGNvbXBvbmVudCRgIHRvIGRlY2xhcmUgYSBRd2lrIGNvbXBvbmVudC4gQSBRd2lrIGNvbXBvbmVudCBpcyBhIHNwZWNpYWwga2luZCBvZiBjb21wb25lbnRcbiAqIHRoYXQgYWxsb3dzIHRoZSBRd2lrIGZyYW1ld29yayB0byBsYXp5IGxvYWQgYW5kIGV4ZWN1dGUgdGhlIGNvbXBvbmVudCBpbmRlcGVuZGVudGx5IG9mIG90aGVyIFF3aWtcbiAqIGNvbXBvbmVudHMgYXMgd2VsbCBhcyBsYXp5IGxvYWQgdGhlIGNvbXBvbmVudCdzIGxpZmUtY3ljbGUgaG9va3MgYW5kIGV2ZW50IGhhbmRsZXJzLlxuICpcbiAqIFNpZGUgbm90ZTogWW91IGNhbiBhbHNvIGRlY2xhcmUgcmVndWxhciAoc3RhbmRhcmQgSlNYKSBjb21wb25lbnRzIHRoYXQgd2lsbCBoYXZlIHN0YW5kYXJkXG4gKiBzeW5jaHJvbm91cyBiZWhhdmlvci5cbiAqXG4gKiBRd2lrIGNvbXBvbmVudCBpcyBhIGZhY2FkZSB0aGF0IGRlc2NyaWJlcyBob3cgdGhlIGNvbXBvbmVudCBzaG91bGQgYmUgdXNlZCB3aXRob3V0IGZvcmNpbmcgdGhlXG4gKiBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgY29tcG9uZW50IHRvIGJlIGVhZ2VybHkgbG9hZGVkLiBBIG1pbmltdW0gUXdpayBkZWZpbml0aW9uIGNvbnNpc3RzIG9mOlxuICpcbiAqICMjIyBFeGFtcGxlXG4gKlxuICogQW4gZXhhbXBsZSBzaG93aW5nIGhvdyB0byBjcmVhdGUgYSBjb3VudGVyIGNvbXBvbmVudDpcbiAqXG4gKiBgYGB0c3hcbiAqIGV4cG9ydCBpbnRlcmZhY2UgQ291bnRlclByb3BzIHtcbiAqICAgaW5pdGlhbFZhbHVlPzogbnVtYmVyO1xuICogICBzdGVwPzogbnVtYmVyO1xuICogfVxuICogZXhwb3J0IGNvbnN0IENvdW50ZXIgPSBjb21wb25lbnQkKChwcm9wczogQ291bnRlclByb3BzKSA9PiB7XG4gKiAgIGNvbnN0IHN0YXRlID0gdXNlU3RvcmUoeyBjb3VudDogcHJvcHMuaW5pdGlhbFZhbHVlIHx8IDAgfSk7XG4gKiAgIHJldHVybiAoXG4gKiAgICAgPGRpdj5cbiAqICAgICAgIDxzcGFuPntzdGF0ZS5jb3VudH08L3NwYW4+XG4gKiAgICAgICA8YnV0dG9uIG9uQ2xpY2skPXsoKSA9PiAoc3RhdGUuY291bnQgKz0gcHJvcHMuc3RlcCB8fCAxKX0+KzwvYnV0dG9uPlxuICogICAgIDwvZGl2PlxuICogICApO1xuICogfSk7XG4gKiBgYGBcbiAqXG4gKiAtIGBjb21wb25lbnQkYCBpcyBob3cgYSBjb21wb25lbnQgZ2V0cyBkZWNsYXJlZC5cbiAqIC0gYHsgdmFsdWU/OiBudW1iZXI7IHN0ZXA/OiBudW1iZXIgfWAgZGVjbGFyZXMgdGhlIHB1YmxpYyAocHJvcHMpIGludGVyZmFjZSBvZiB0aGUgY29tcG9uZW50LlxuICogLSBgeyBjb3VudDogbnVtYmVyIH1gIGRlY2xhcmVzIHRoZSBwcml2YXRlIChzdGF0ZSkgaW50ZXJmYWNlIG9mIHRoZSBjb21wb25lbnQuXG4gKlxuICogVGhlIGFib3ZlIGNhbiB0aGVuIGJlIHVzZWQgbGlrZSBzbzpcbiAqXG4gKiBgYGB0c3hcbiAqIGV4cG9ydCBjb25zdCBPdGhlckNvbXBvbmVudCA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICogICByZXR1cm4gPENvdW50ZXIgaW5pdGlhbFZhbHVlPXsxMDB9IC8+O1xuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBTZWUgYWxzbzogYGNvbXBvbmVudGAsIGB1c2VDbGVhbnVwYCwgYG9uUmVzdW1lYCwgYG9uUGF1c2VgLCBgdXNlT25gLCBgdXNlT25Eb2N1bWVudGAsXG4gKiBgdXNlT25XaW5kb3dgLCBgdXNlU3R5bGVzYFxuICpcbiAqIEBwdWJsaWNcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGNvbnN0IGNvbXBvbmVudCQgPSA8UFJPUFMgPSB1bmtub3duPihvbk1vdW50OiBPblJlbmRlckZuPFBST1BTPik6IENvbXBvbmVudDxQUk9QUz4gPT4ge1xuICByZXR1cm4gY29tcG9uZW50UXJsKGRvbGxhcihvbk1vdW50KSk7XG59O1xuXG4vKiogQHB1YmxpYyAqL1xuZXhwb3J0IHR5cGUgT25SZW5kZXJGbjxQUk9QUz4gPSAocHJvcHM6IFBST1BTKSA9PiBKU1hPdXRwdXQ7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVuZGVyRmFjdG9yeU91dHB1dDxQUk9QUz4ge1xuICByZW5kZXJRUkw6IFFSTDxPblJlbmRlckZuPFBST1BTPj47XG4gIHdhaXRPbjogYW55W107XG59XG4iXX0=","import { eventQrl } from './qrl.public';\nimport { implicit$FirstArg } from './implicit_dollar';\n/** @public */\nexport const event$ = implicit$FirstArg(eventQrl);\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicXJsLnB1YmxpYy5kb2xsYXIuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvc2hhcmVkL3FybC9xcmwucHVibGljLmRvbGxhci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sY0FBYyxDQUFDO0FBQ3hDLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBRXRELGNBQWM7QUFDZCxNQUFNLENBQUMsTUFBTSxNQUFNLEdBQUcsaUJBQWlCLENBQUMsUUFBUSxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBldmVudFFybCB9IGZyb20gJy4vcXJsLnB1YmxpYyc7XG5pbXBvcnQgeyBpbXBsaWNpdCRGaXJzdEFyZyB9IGZyb20gJy4vaW1wbGljaXRfZG9sbGFyJztcblxuLyoqIEBwdWJsaWMgKi9cbmV4cG9ydCBjb25zdCBldmVudCQgPSBpbXBsaWNpdCRGaXJzdEFyZyhldmVudFFybCk7XG4iXX0=","import { isDocument, isElement } from '../shared/utils/element';\nimport { ChoreType } from '../shared/scheduler';\nimport { QContainerValue } from '../shared/types';\nimport { DomContainer, getDomContainer } from './dom-container';\nimport { cleanup } from './vnode-diff';\nimport { QContainerAttr } from '../shared/utils/markers';\n/**\n * Render JSX.\n *\n * Use this method to render JSX. This function does reconciling which means it always tries to\n * reuse what is already in the DOM (rather then destroy and recreate content.) It returns a cleanup\n * function you could use for cleaning up subscriptions.\n *\n * @param parent - Element which will act as a parent to `jsxNode`. When possible the rendering will\n *   try to reuse existing nodes.\n * @param jsxNode - JSX to render\n * @returns An object containing a cleanup function.\n * @public\n */\nexport const render = async (parent, jsxNode, opts = {}) => {\n    if (isDocument(parent)) {\n        let child = parent.firstChild;\n        while (child && !isElement(child)) {\n            child = child.nextSibling;\n        }\n        parent = child;\n    }\n    parent.setAttribute(QContainerAttr, QContainerValue.RESUMED);\n    const container = getDomContainer(parent);\n    container.$serverData$ = opts.serverData || {};\n    const host = container.rootVNode;\n    container.$scheduler$(ChoreType.NODE_DIFF, host, host, jsxNode);\n    await container.$scheduler$(ChoreType.WAIT_FOR_ALL);\n    return {\n        cleanup: () => {\n            cleanup(container, container.rootVNode);\n        },\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZG9tLXJlbmRlci5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9jbGllbnQvZG9tLXJlbmRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQSxPQUFPLEVBQUUsVUFBVSxFQUFFLFNBQVMsRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBQ2hFLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUNoRCxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDbEQsT0FBTyxFQUFFLFlBQVksRUFBRSxlQUFlLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUNoRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sY0FBYyxDQUFDO0FBQ3ZDLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSx5QkFBeUIsQ0FBQztBQUV6RDs7Ozs7Ozs7Ozs7O0dBWUc7QUFDSCxNQUFNLENBQUMsTUFBTSxNQUFNLEdBQUcsS0FBSyxFQUN6QixNQUEwQixFQUMxQixPQUEyQyxFQUMzQyxPQUFzQixFQUFFLEVBQ0QsRUFBRTtJQUN6QixJQUFJLFVBQVUsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDO1FBQ3ZCLElBQUksS0FBSyxHQUFnQixNQUFNLENBQUMsVUFBVSxDQUFDO1FBQzNDLE9BQU8sS0FBSyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUM7WUFDbEMsS0FBSyxHQUFHLEtBQUssQ0FBQyxXQUFXLENBQUM7UUFDNUIsQ0FBQztRQUNELE1BQU0sR0FBRyxLQUFnQixDQUFDO0lBQzVCLENBQUM7SUFDQSxNQUFrQixDQUFDLFlBQVksQ0FBQyxjQUFjLEVBQUUsZUFBZSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBRTFFLE1BQU0sU0FBUyxHQUFHLGVBQWUsQ0FBQyxNQUFxQixDQUFpQixDQUFDO0lBQ3pFLFNBQVMsQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDLFVBQVUsSUFBSSxFQUFFLENBQUM7SUFDL0MsTUFBTSxJQUFJLEdBQUcsU0FBUyxDQUFDLFNBQVMsQ0FBQztJQUNqQyxTQUFTLENBQUMsV0FBVyxDQUFDLFNBQVMsQ0FBQyxTQUFTLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFrQixDQUFDLENBQUM7SUFDM0UsTUFBTSxTQUFTLENBQUMsV0FBVyxDQUFDLFNBQVMsQ0FBQyxZQUFZLENBQUMsQ0FBQztJQUNwRCxPQUFPO1FBQ0wsT0FBTyxFQUFFLEdBQUcsRUFBRTtZQUNaLE9BQU8sQ0FBQyxTQUFTLEVBQUUsU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQzFDLENBQUM7S0FDRixDQUFDO0FBQ0osQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBKU1hOb2RlLCBSZW5kZXJPcHRpb25zLCBSZW5kZXJSZXN1bHQgfSBmcm9tICdAcXdpay5kZXYvY29yZSc7XG5pbXBvcnQgdHlwZSB7IEZ1bmN0aW9uQ29tcG9uZW50LCBKU1hPdXRwdXQgfSBmcm9tICcuLi9zaGFyZWQvanN4L3R5cGVzL2pzeC1ub2RlJztcbmltcG9ydCB7IGlzRG9jdW1lbnQsIGlzRWxlbWVudCB9IGZyb20gJy4uL3NoYXJlZC91dGlscy9lbGVtZW50JztcbmltcG9ydCB7IENob3JlVHlwZSB9IGZyb20gJy4uL3NoYXJlZC9zY2hlZHVsZXInO1xuaW1wb3J0IHsgUUNvbnRhaW5lclZhbHVlIH0gZnJvbSAnLi4vc2hhcmVkL3R5cGVzJztcbmltcG9ydCB7IERvbUNvbnRhaW5lciwgZ2V0RG9tQ29udGFpbmVyIH0gZnJvbSAnLi9kb20tY29udGFpbmVyJztcbmltcG9ydCB7IGNsZWFudXAgfSBmcm9tICcuL3Zub2RlLWRpZmYnO1xuaW1wb3J0IHsgUUNvbnRhaW5lckF0dHIgfSBmcm9tICcuLi9zaGFyZWQvdXRpbHMvbWFya2Vycyc7XG5cbi8qKlxuICogUmVuZGVyIEpTWC5cbiAqXG4gKiBVc2UgdGhpcyBtZXRob2QgdG8gcmVuZGVyIEpTWC4gVGhpcyBmdW5jdGlvbiBkb2VzIHJlY29uY2lsaW5nIHdoaWNoIG1lYW5zIGl0IGFsd2F5cyB0cmllcyB0b1xuICogcmV1c2Ugd2hhdCBpcyBhbHJlYWR5IGluIHRoZSBET00gKHJhdGhlciB0aGVuIGRlc3Ryb3kgYW5kIHJlY3JlYXRlIGNvbnRlbnQuKSBJdCByZXR1cm5zIGEgY2xlYW51cFxuICogZnVuY3Rpb24geW91IGNvdWxkIHVzZSBmb3IgY2xlYW5pbmcgdXAgc3Vic2NyaXB0aW9ucy5cbiAqXG4gKiBAcGFyYW0gcGFyZW50IC0gRWxlbWVudCB3aGljaCB3aWxsIGFjdCBhcyBhIHBhcmVudCB0byBganN4Tm9kZWAuIFdoZW4gcG9zc2libGUgdGhlIHJlbmRlcmluZyB3aWxsXG4gKiAgIHRyeSB0byByZXVzZSBleGlzdGluZyBub2Rlcy5cbiAqIEBwYXJhbSBqc3hOb2RlIC0gSlNYIHRvIHJlbmRlclxuICogQHJldHVybnMgQW4gb2JqZWN0IGNvbnRhaW5pbmcgYSBjbGVhbnVwIGZ1bmN0aW9uLlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgcmVuZGVyID0gYXN5bmMgKFxuICBwYXJlbnQ6IEVsZW1lbnQgfCBEb2N1bWVudCxcbiAganN4Tm9kZTogSlNYT3V0cHV0IHwgRnVuY3Rpb25Db21wb25lbnQ8YW55PixcbiAgb3B0czogUmVuZGVyT3B0aW9ucyA9IHt9XG4pOiBQcm9taXNlPFJlbmRlclJlc3VsdD4gPT4ge1xuICBpZiAoaXNEb2N1bWVudChwYXJlbnQpKSB7XG4gICAgbGV0IGNoaWxkOiBOb2RlIHwgbnVsbCA9IHBhcmVudC5maXJzdENoaWxkO1xuICAgIHdoaWxlIChjaGlsZCAmJiAhaXNFbGVtZW50KGNoaWxkKSkge1xuICAgICAgY2hpbGQgPSBjaGlsZC5uZXh0U2libGluZztcbiAgICB9XG4gICAgcGFyZW50ID0gY2hpbGQgYXMgRWxlbWVudDtcbiAgfVxuICAocGFyZW50IGFzIEVsZW1lbnQpLnNldEF0dHJpYnV0ZShRQ29udGFpbmVyQXR0ciwgUUNvbnRhaW5lclZhbHVlLlJFU1VNRUQpO1xuXG4gIGNvbnN0IGNvbnRhaW5lciA9IGdldERvbUNvbnRhaW5lcihwYXJlbnQgYXMgSFRNTEVsZW1lbnQpIGFzIERvbUNvbnRhaW5lcjtcbiAgY29udGFpbmVyLiRzZXJ2ZXJEYXRhJCA9IG9wdHMuc2VydmVyRGF0YSB8fCB7fTtcbiAgY29uc3QgaG9zdCA9IGNvbnRhaW5lci5yb290Vk5vZGU7XG4gIGNvbnRhaW5lci4kc2NoZWR1bGVyJChDaG9yZVR5cGUuTk9ERV9ESUZGLCBob3N0LCBob3N0LCBqc3hOb2RlIGFzIEpTWE5vZGUpO1xuICBhd2FpdCBjb250YWluZXIuJHNjaGVkdWxlciQoQ2hvcmVUeXBlLldBSVRfRk9SX0FMTCk7XG4gIHJldHVybiB7XG4gICAgY2xlYW51cDogKCkgPT4ge1xuICAgICAgY2xlYW51cChjb250YWluZXIsIGNvbnRhaW5lci5yb290Vk5vZGUpO1xuICAgIH0sXG4gIH07XG59O1xuIl19","import { isFunction } from '../shared/utils/types';\nimport { StoreFlags, getOrCreateStore } from '../signal/store';\nimport { invoke } from './use-core';\nimport { useSequentialScope } from './use-sequential-scope';\n// <docs markdown=\"../readme.md#useStore\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useStore instead)\n/**\n * Creates an object that Qwik can track across serializations.\n *\n * Use `useStore` to create a state for your application. The returned object is a proxy that has a\n * unique ID. The ID of the object is used in the `QRL`s to refer to the store.\n *\n * ### Example\n *\n * Example showing how `useStore` is used in Counter example to keep track of the count.\n *\n * ```tsx\n * const Stores = component$(() => {\n *   const counter = useCounter(1);\n *\n *   // Reactivity happens even for nested objects and arrays\n *   const userData = useStore({\n *     name: 'Manu',\n *     address: {\n *       address: '',\n *       city: '',\n *     },\n *     orgs: [],\n *   });\n *\n *   // useStore() can also accept a function to calculate the initial value\n *   const state = useStore(() => {\n *     return {\n *       value: expensiveInitialValue(),\n *     };\n *   });\n *\n *   return (\n *     <div>\n *       <div>Counter: {counter.value}</div>\n *       <Child userData={userData} state={state} />\n *     </div>\n *   );\n * });\n *\n * function useCounter(step: number) {\n *   // Multiple stores can be created in custom hooks for convenience and composability\n *   const counterStore = useStore({\n *     value: 0,\n *   });\n *   useVisibleTask$(() => {\n *     // Only runs in the client\n *     const timer = setInterval(() => {\n *       counterStore.value += step;\n *     }, 500);\n *     return () => {\n *       clearInterval(timer);\n *     };\n *   });\n *   return counterStore;\n * }\n * ```\n *\n * @public\n */\n// </docs>\nexport const useStore = (initialState, opts) => {\n    const { val, set, iCtx } = useSequentialScope();\n    if (val != null) {\n        return val;\n    }\n    const value = isFunction(initialState) ? invoke(undefined, initialState) : initialState;\n    if (opts?.reactive === false) {\n        set(value);\n        return value;\n    }\n    else {\n        const containerState = iCtx.$container$;\n        const recursive = opts?.deep ?? true;\n        const flags = recursive ? StoreFlags.RECURSIVE : StoreFlags.NONE;\n        const newStore = getOrCreateStore(value, flags, containerState);\n        set(newStore);\n        return newStore;\n    }\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLXN0b3JlLnB1YmxpYy5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS91c2UvdXNlLXN0b3JlLnB1YmxpYy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFDbkQsT0FBTyxFQUFFLFVBQVUsRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQy9ELE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSxZQUFZLENBQUM7QUFDcEMsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0sd0JBQXdCLENBQUM7QUFXNUQsMENBQTBDO0FBQzFDLHlDQUF5QztBQUN6Qyx1Q0FBdUM7QUFDdkM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7R0EwREc7QUFDSCxVQUFVO0FBQ1YsTUFBTSxDQUFDLE1BQU0sUUFBUSxHQUFHLENBQ3RCLFlBQW1DLEVBQ25DLElBQXNCLEVBQ2YsRUFBRTtJQUNULE1BQU0sRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLGtCQUFrQixFQUFTLENBQUM7SUFDdkQsSUFBSSxHQUFHLElBQUksSUFBSSxFQUFFLENBQUM7UUFDaEIsT0FBTyxHQUFHLENBQUM7SUFDYixDQUFDO0lBQ0QsTUFBTSxLQUFLLEdBQUcsVUFBVSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsU0FBUyxFQUFFLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQyxZQUFZLENBQUM7SUFDeEYsSUFBSSxJQUFJLEVBQUUsUUFBUSxLQUFLLEtBQUssRUFBRSxDQUFDO1FBQzdCLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNYLE9BQU8sS0FBSyxDQUFDO0lBQ2YsQ0FBQztTQUFNLENBQUM7UUFDTixNQUFNLGNBQWMsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDO1FBQ3hDLE1BQU0sU0FBUyxHQUFHLElBQUksRUFBRSxJQUFJLElBQUksSUFBSSxDQUFDO1FBQ3JDLE1BQU0sS0FBSyxHQUFHLFNBQVMsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQztRQUNqRSxNQUFNLFFBQVEsR0FBRyxnQkFBZ0IsQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLGNBQWMsQ0FBQyxDQUFDO1FBQ2hFLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUNkLE9BQU8sUUFBUSxDQUFDO0lBQ2xCLENBQUM7QUFDSCxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi4vc2hhcmVkL3V0aWxzL3R5cGVzJztcbmltcG9ydCB7IFN0b3JlRmxhZ3MsIGdldE9yQ3JlYXRlU3RvcmUgfSBmcm9tICcuLi9zaWduYWwvc3RvcmUnO1xuaW1wb3J0IHsgaW52b2tlIH0gZnJvbSAnLi91c2UtY29yZSc7XG5pbXBvcnQgeyB1c2VTZXF1ZW50aWFsU2NvcGUgfSBmcm9tICcuL3VzZS1zZXF1ZW50aWFsLXNjb3BlJztcblxuLyoqIEBwdWJsaWMgKi9cbmV4cG9ydCBpbnRlcmZhY2UgVXNlU3RvcmVPcHRpb25zIHtcbiAgLyoqIElmIGB0cnVlYCB0aGVuIGFsbCBuZXN0ZWQgb2JqZWN0cyBhbmQgYXJyYXlzIHdpbGwgYmUgdHJhY2tlZCBhcyB3ZWxsLiBEZWZhdWx0IGlzIGB0cnVlYC4gKi9cbiAgZGVlcD86IGJvb2xlYW47XG5cbiAgLyoqIElmIGBmYWxzZWAgdGhlbiB0aGUgb2JqZWN0IHdpbGwgbm90IGJlIHRyYWNrZWQgZm9yIGNoYW5nZXMuIERlZmF1bHQgaXMgYHRydWVgLiAqL1xuICByZWFjdGl2ZT86IGJvb2xlYW47XG59XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kI3VzZVN0b3JlXCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi4vcmVhZG1lLm1kI3VzZVN0b3JlIGluc3RlYWQpXG4vKipcbiAqIENyZWF0ZXMgYW4gb2JqZWN0IHRoYXQgUXdpayBjYW4gdHJhY2sgYWNyb3NzIHNlcmlhbGl6YXRpb25zLlxuICpcbiAqIFVzZSBgdXNlU3RvcmVgIHRvIGNyZWF0ZSBhIHN0YXRlIGZvciB5b3VyIGFwcGxpY2F0aW9uLiBUaGUgcmV0dXJuZWQgb2JqZWN0IGlzIGEgcHJveHkgdGhhdCBoYXMgYVxuICogdW5pcXVlIElELiBUaGUgSUQgb2YgdGhlIG9iamVjdCBpcyB1c2VkIGluIHRoZSBgUVJMYHMgdG8gcmVmZXIgdG8gdGhlIHN0b3JlLlxuICpcbiAqICMjIyBFeGFtcGxlXG4gKlxuICogRXhhbXBsZSBzaG93aW5nIGhvdyBgdXNlU3RvcmVgIGlzIHVzZWQgaW4gQ291bnRlciBleGFtcGxlIHRvIGtlZXAgdHJhY2sgb2YgdGhlIGNvdW50LlxuICpcbiAqIGBgYHRzeFxuICogY29uc3QgU3RvcmVzID0gY29tcG9uZW50JCgoKSA9PiB7XG4gKiAgIGNvbnN0IGNvdW50ZXIgPSB1c2VDb3VudGVyKDEpO1xuICpcbiAqICAgLy8gUmVhY3Rpdml0eSBoYXBwZW5zIGV2ZW4gZm9yIG5lc3RlZCBvYmplY3RzIGFuZCBhcnJheXNcbiAqICAgY29uc3QgdXNlckRhdGEgPSB1c2VTdG9yZSh7XG4gKiAgICAgbmFtZTogJ01hbnUnLFxuICogICAgIGFkZHJlc3M6IHtcbiAqICAgICAgIGFkZHJlc3M6ICcnLFxuICogICAgICAgY2l0eTogJycsXG4gKiAgICAgfSxcbiAqICAgICBvcmdzOiBbXSxcbiAqICAgfSk7XG4gKlxuICogICAvLyB1c2VTdG9yZSgpIGNhbiBhbHNvIGFjY2VwdCBhIGZ1bmN0aW9uIHRvIGNhbGN1bGF0ZSB0aGUgaW5pdGlhbCB2YWx1ZVxuICogICBjb25zdCBzdGF0ZSA9IHVzZVN0b3JlKCgpID0+IHtcbiAqICAgICByZXR1cm4ge1xuICogICAgICAgdmFsdWU6IGV4cGVuc2l2ZUluaXRpYWxWYWx1ZSgpLFxuICogICAgIH07XG4gKiAgIH0pO1xuICpcbiAqICAgcmV0dXJuIChcbiAqICAgICA8ZGl2PlxuICogICAgICAgPGRpdj5Db3VudGVyOiB7Y291bnRlci52YWx1ZX08L2Rpdj5cbiAqICAgICAgIDxDaGlsZCB1c2VyRGF0YT17dXNlckRhdGF9IHN0YXRlPXtzdGF0ZX0gLz5cbiAqICAgICA8L2Rpdj5cbiAqICAgKTtcbiAqIH0pO1xuICpcbiAqIGZ1bmN0aW9uIHVzZUNvdW50ZXIoc3RlcDogbnVtYmVyKSB7XG4gKiAgIC8vIE11bHRpcGxlIHN0b3JlcyBjYW4gYmUgY3JlYXRlZCBpbiBjdXN0b20gaG9va3MgZm9yIGNvbnZlbmllbmNlIGFuZCBjb21wb3NhYmlsaXR5XG4gKiAgIGNvbnN0IGNvdW50ZXJTdG9yZSA9IHVzZVN0b3JlKHtcbiAqICAgICB2YWx1ZTogMCxcbiAqICAgfSk7XG4gKiAgIHVzZVZpc2libGVUYXNrJCgoKSA9PiB7XG4gKiAgICAgLy8gT25seSBydW5zIGluIHRoZSBjbGllbnRcbiAqICAgICBjb25zdCB0aW1lciA9IHNldEludGVydmFsKCgpID0+IHtcbiAqICAgICAgIGNvdW50ZXJTdG9yZS52YWx1ZSArPSBzdGVwO1xuICogICAgIH0sIDUwMCk7XG4gKiAgICAgcmV0dXJuICgpID0+IHtcbiAqICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXIpO1xuICogICAgIH07XG4gKiAgIH0pO1xuICogICByZXR1cm4gY291bnRlclN0b3JlO1xuICogfVxuICogYGBgXG4gKlxuICogQHB1YmxpY1xuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgY29uc3QgdXNlU3RvcmUgPSA8U1RBVEUgZXh0ZW5kcyBvYmplY3Q+KFxuICBpbml0aWFsU3RhdGU6IFNUQVRFIHwgKCgpID0+IFNUQVRFKSxcbiAgb3B0cz86IFVzZVN0b3JlT3B0aW9uc1xuKTogU1RBVEUgPT4ge1xuICBjb25zdCB7IHZhbCwgc2V0LCBpQ3R4IH0gPSB1c2VTZXF1ZW50aWFsU2NvcGU8U1RBVEU+KCk7XG4gIGlmICh2YWwgIT0gbnVsbCkge1xuICAgIHJldHVybiB2YWw7XG4gIH1cbiAgY29uc3QgdmFsdWUgPSBpc0Z1bmN0aW9uKGluaXRpYWxTdGF0ZSkgPyBpbnZva2UodW5kZWZpbmVkLCBpbml0aWFsU3RhdGUpIDogaW5pdGlhbFN0YXRlO1xuICBpZiAob3B0cz8ucmVhY3RpdmUgPT09IGZhbHNlKSB7XG4gICAgc2V0KHZhbHVlKTtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgY29udGFpbmVyU3RhdGUgPSBpQ3R4LiRjb250YWluZXIkO1xuICAgIGNvbnN0IHJlY3Vyc2l2ZSA9IG9wdHM/LmRlZXAgPz8gdHJ1ZTtcbiAgICBjb25zdCBmbGFncyA9IHJlY3Vyc2l2ZSA/IFN0b3JlRmxhZ3MuUkVDVVJTSVZFIDogU3RvcmVGbGFncy5OT05FO1xuICAgIGNvbnN0IG5ld1N0b3JlID0gZ2V0T3JDcmVhdGVTdG9yZSh2YWx1ZSwgZmxhZ3MsIGNvbnRhaW5lclN0YXRlKTtcbiAgICBzZXQobmV3U3RvcmUpO1xuICAgIHJldHVybiBuZXdTdG9yZTtcbiAgfVxufTtcbiJdfQ==","export const intToStr = (nu) => {\n    return nu.toString(36);\n};\nexport const getNextUniqueIndex = (container) => {\n    return intToStr(container.$currentUniqueId$++);\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidW5pcXVlLWluZGV4LWdlbmVyYXRvci5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9zaGFyZWQvdXRpbHMvdW5pcXVlLWluZGV4LWdlbmVyYXRvci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQSxNQUFNLENBQUMsTUFBTSxRQUFRLEdBQUcsQ0FBQyxFQUFVLEVBQUUsRUFBRTtJQUNyQyxPQUFPLEVBQUUsQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLENBQUM7QUFDekIsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sa0JBQWtCLEdBQUcsQ0FBQyxTQUFvQixFQUFFLEVBQUU7SUFDekQsT0FBTyxRQUFRLENBQUMsU0FBUyxDQUFDLGlCQUFpQixFQUFFLENBQUMsQ0FBQztBQUNqRCxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IENvbnRhaW5lciB9IGZyb20gJy4uL3R5cGVzJztcblxuZXhwb3J0IGNvbnN0IGludFRvU3RyID0gKG51OiBudW1iZXIpID0+IHtcbiAgcmV0dXJuIG51LnRvU3RyaW5nKDM2KTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXROZXh0VW5pcXVlSW5kZXggPSAoY29udGFpbmVyOiBDb250YWluZXIpID0+IHtcbiAgcmV0dXJuIGludFRvU3RyKGNvbnRhaW5lci4kY3VycmVudFVuaXF1ZUlkJCsrKTtcbn07XG4iXX0=","import { hashCode } from '../shared/utils/hash_code';\nimport { OnRenderProp } from '../shared/utils/markers';\nimport { isDomContainer } from '../client/dom-container';\nimport { useSequentialScope } from './use-sequential-scope';\nimport { getNextUniqueIndex } from '../shared/utils/unique-index-generator';\n/** @public */\nexport const useId = () => {\n    const { val, set, iCtx } = useSequentialScope();\n    if (val != null) {\n        return val;\n    }\n    const containerBase = isDomContainer(iCtx.$container$)\n        ? ''\n        : iCtx.$container$.buildBase || '';\n    const base = containerBase ? hashCode(containerBase) : '';\n    const componentQrl = iCtx.$container$.getHostProp(iCtx.$hostElement$, OnRenderProp);\n    const hash = componentQrl?.getHash() || '';\n    const counter = getNextUniqueIndex(iCtx.$container$) || '';\n    const id = `${base}-${hash}-${counter}`; // If no base and no hash, then \"--#\"\n    return set(id);\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLWlkLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3VzZS91c2UtaWQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLDJCQUEyQixDQUFDO0FBQ3JELE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSx5QkFBeUIsQ0FBQztBQUN2RCxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0seUJBQXlCLENBQUM7QUFFekQsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0sd0JBQXdCLENBQUM7QUFDNUQsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0sd0NBQXdDLENBQUM7QUFFNUUsY0FBYztBQUNkLE1BQU0sQ0FBQyxNQUFNLEtBQUssR0FBRyxHQUFXLEVBQUU7SUFDaEMsTUFBTSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsa0JBQWtCLEVBQVUsQ0FBQztJQUN4RCxJQUFJLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQztRQUNoQixPQUFPLEdBQUcsQ0FBQztJQUNiLENBQUM7SUFDRCxNQUFNLGFBQWEsR0FBRyxjQUFjLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQztRQUNwRCxDQUFDLENBQUMsRUFBRTtRQUNKLENBQUMsQ0FBRSxJQUFJLENBQUMsV0FBNEIsQ0FBQyxTQUFTLElBQUksRUFBRSxDQUFDO0lBQ3ZELE1BQU0sSUFBSSxHQUFHLGFBQWEsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7SUFDMUQsTUFBTSxZQUFZLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxXQUFXLENBQU0sSUFBSSxDQUFDLGFBQWEsRUFBRSxZQUFZLENBQUMsQ0FBQztJQUN6RixNQUFNLElBQUksR0FBRyxZQUFZLEVBQUUsT0FBTyxFQUFFLElBQUksRUFBRSxDQUFDO0lBQzNDLE1BQU0sT0FBTyxHQUFHLGtCQUFrQixDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDM0QsTUFBTSxFQUFFLEdBQUcsR0FBRyxJQUFJLElBQUksSUFBSSxJQUFJLE9BQU8sRUFBRSxDQUFDLENBQUMscUNBQXFDO0lBQzlFLE9BQU8sR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0FBQ2pCLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgUVJMIH0gZnJvbSAnLi4nO1xuaW1wb3J0IHsgaGFzaENvZGUgfSBmcm9tICcuLi9zaGFyZWQvdXRpbHMvaGFzaF9jb2RlJztcbmltcG9ydCB7IE9uUmVuZGVyUHJvcCB9IGZyb20gJy4uL3NoYXJlZC91dGlscy9tYXJrZXJzJztcbmltcG9ydCB7IGlzRG9tQ29udGFpbmVyIH0gZnJvbSAnLi4vY2xpZW50L2RvbS1jb250YWluZXInO1xuaW1wb3J0IHR5cGUgeyBTU1JDb250YWluZXIgfSBmcm9tICcuLi9zc3Ivc3NyLXR5cGVzJztcbmltcG9ydCB7IHVzZVNlcXVlbnRpYWxTY29wZSB9IGZyb20gJy4vdXNlLXNlcXVlbnRpYWwtc2NvcGUnO1xuaW1wb3J0IHsgZ2V0TmV4dFVuaXF1ZUluZGV4IH0gZnJvbSAnLi4vc2hhcmVkL3V0aWxzL3VuaXF1ZS1pbmRleC1nZW5lcmF0b3InO1xuXG4vKiogQHB1YmxpYyAqL1xuZXhwb3J0IGNvbnN0IHVzZUlkID0gKCk6IHN0cmluZyA9PiB7XG4gIGNvbnN0IHsgdmFsLCBzZXQsIGlDdHggfSA9IHVzZVNlcXVlbnRpYWxTY29wZTxzdHJpbmc+KCk7XG4gIGlmICh2YWwgIT0gbnVsbCkge1xuICAgIHJldHVybiB2YWw7XG4gIH1cbiAgY29uc3QgY29udGFpbmVyQmFzZSA9IGlzRG9tQ29udGFpbmVyKGlDdHguJGNvbnRhaW5lciQpXG4gICAgPyAnJ1xuICAgIDogKGlDdHguJGNvbnRhaW5lciQgYXMgU1NSQ29udGFpbmVyKS5idWlsZEJhc2UgfHwgJyc7XG4gIGNvbnN0IGJhc2UgPSBjb250YWluZXJCYXNlID8gaGFzaENvZGUoY29udGFpbmVyQmFzZSkgOiAnJztcbiAgY29uc3QgY29tcG9uZW50UXJsID0gaUN0eC4kY29udGFpbmVyJC5nZXRIb3N0UHJvcDxRUkw+KGlDdHguJGhvc3RFbGVtZW50JCwgT25SZW5kZXJQcm9wKTtcbiAgY29uc3QgaGFzaCA9IGNvbXBvbmVudFFybD8uZ2V0SGFzaCgpIHx8ICcnO1xuICBjb25zdCBjb3VudGVyID0gZ2V0TmV4dFVuaXF1ZUluZGV4KGlDdHguJGNvbnRhaW5lciQpIHx8ICcnO1xuICBjb25zdCBpZCA9IGAke2Jhc2V9LSR7aGFzaH0tJHtjb3VudGVyfWA7IC8vIElmIG5vIGJhc2UgYW5kIG5vIGhhc2gsIHRoZW4gXCItLSNcIlxuICByZXR1cm4gc2V0KGlkKTtcbn07XG4iXX0=","import { tryGetInvokeContext } from './use-core';\n/** @public */\nexport function useServerData(key, defaultValue) {\n    const ctx = tryGetInvokeContext();\n    return ctx?.$container$?.$serverData$[key] ?? defaultValue;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLWVudi1kYXRhLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3VzZS91c2UtZW52LWRhdGEudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLG1CQUFtQixFQUFFLE1BQU0sWUFBWSxDQUFDO0FBUWpELGNBQWM7QUFDZCxNQUFNLFVBQVUsYUFBYSxDQUFDLEdBQVcsRUFBRSxZQUFrQjtJQUMzRCxNQUFNLEdBQUcsR0FBRyxtQkFBbUIsRUFBRSxDQUFDO0lBQ2xDLE9BQU8sR0FBRyxFQUFFLFdBQVcsRUFBRSxZQUFZLENBQUMsR0FBRyxDQUFDLElBQUksWUFBWSxDQUFDO0FBQzdELENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB0cnlHZXRJbnZva2VDb250ZXh0IH0gZnJvbSAnLi91c2UtY29yZSc7XG5cbi8qKiBAcHVibGljICovXG5leHBvcnQgZnVuY3Rpb24gdXNlU2VydmVyRGF0YTxUPihrZXk6IHN0cmluZyk6IFQgfCB1bmRlZmluZWQ7XG5cbi8qKiBAcHVibGljICovXG5leHBvcnQgZnVuY3Rpb24gdXNlU2VydmVyRGF0YTxULCBCID0gVD4oa2V5OiBzdHJpbmcsIGRlZmF1bHRWYWx1ZTogQik6IFQgfCBCO1xuXG4vKiogQHB1YmxpYyAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZVNlcnZlckRhdGEoa2V5OiBzdHJpbmcsIGRlZmF1bHRWYWx1ZT86IGFueSkge1xuICBjb25zdCBjdHggPSB0cnlHZXRJbnZva2VDb250ZXh0KCk7XG4gIHJldHVybiBjdHg/LiRjb250YWluZXIkPy4kc2VydmVyRGF0YSRba2V5XSA/PyBkZWZhdWx0VmFsdWU7XG59XG4iXX0=","/* eslint-disable no-console */\nimport { ComponentStylesPrefixContent } from './markers';\nimport { qDev } from './qdev';\n// Make sure this is always set to `false` in production, but it is useful to set for `true` in development for debugging.\nconst DEBUG = false;\nexport const STYLE_CACHE = /*#__PURE__*/ new Map();\nexport const getScopedStyles = (css, scopeId) => {\n    if (qDev) {\n        return scopeStylesheet(css, scopeId);\n    }\n    let styleCss = STYLE_CACHE.get(scopeId);\n    if (!styleCss) {\n        STYLE_CACHE.set(scopeId, (styleCss = scopeStylesheet(css, scopeId)));\n    }\n    return styleCss;\n};\nexport const scopeStylesheet = (css, scopeId) => {\n    const end = css.length;\n    const out = [];\n    const stack = [];\n    let idx = 0;\n    let lastIdx = idx;\n    let mode = rule;\n    let lastCh = 0;\n    DEBUG && console.log('--------------------------');\n    while (idx < end) {\n        DEBUG && console.log(css);\n        DEBUG && console.log(new Array(idx).fill(' ').join('') + '^');\n        DEBUG && console.log('MODE', ...stack.map(modeToString), modeToString(mode));\n        const chIdx = idx;\n        let ch = css.charCodeAt(idx++);\n        if (ch === BACKSLASH) {\n            idx++;\n            ch = A; // Pretend it's a letter\n        }\n        const arcs = STATE_MACHINE[mode];\n        for (let i = 0; i < arcs.length; i++) {\n            const arc = arcs[i];\n            const [expectLastCh, expectCh, newMode] = arc;\n            if (expectLastCh === lastCh ||\n                expectLastCh === ANY ||\n                (expectLastCh === IDENT && isIdent(lastCh)) ||\n                (expectLastCh === WHITESPACE && isWhiteSpace(lastCh))) {\n                if (expectCh === ch ||\n                    expectCh === ANY ||\n                    (expectCh === IDENT && isIdent(ch)) ||\n                    (expectCh === NOT_IDENT && !isIdent(ch) && ch !== DOT) ||\n                    (expectCh === WHITESPACE && isWhiteSpace(ch))) {\n                    if (arc.length == 3 || lookAhead(arc)) {\n                        if (arc.length > 3) {\n                            // If matched on lookAhead than we we have to update current `ch`\n                            ch = css.charCodeAt(idx - 1);\n                        }\n                        DEBUG &&\n                            console.log('MATCH', charToString(expectLastCh), charToString(expectCh), modeToString(newMode));\n                        // We found a match!\n                        if (newMode === EXIT || newMode == EXIT_INSERT_SCOPE) {\n                            if (newMode === EXIT_INSERT_SCOPE) {\n                                if (mode === starSelector && !shouldNotInsertScoping()) {\n                                    // Replace `*` with the scoping elementClassIdSelector.\n                                    if (isChainedSelector(ch)) {\n                                        // *foo\n                                        flush(idx - 2);\n                                    }\n                                    else {\n                                        // * (by itself)\n                                        insertScopingSelector(idx - 2);\n                                    }\n                                    lastIdx++;\n                                }\n                                else {\n                                    if (!isChainedSelector(ch)) {\n                                        // We are exiting one of the Selector so we may need to\n                                        const offset = expectCh == NOT_IDENT ? 1 : expectCh == CLOSE_PARENTHESIS ? 2 : 0;\n                                        insertScopingSelector(idx - offset);\n                                    }\n                                }\n                            }\n                            if (expectCh === NOT_IDENT) {\n                                // NOT_IDENT is not a real character more like lack of what we expected.\n                                // if pseudoGlobal we need to give it a chance to exit as well.\n                                // For this reason we need to reparse the last character again.\n                                idx--;\n                                ch = lastCh;\n                            }\n                            do {\n                                mode = stack.pop() || rule;\n                                if (mode === pseudoGlobal) {\n                                    // Skip over the `)` in `:global(...)`.\n                                    flush(idx - 1);\n                                    lastIdx++;\n                                }\n                            } while (isSelfClosingRule(mode));\n                        }\n                        else {\n                            stack.push(mode);\n                            if (mode === pseudoGlobal && newMode === rule) {\n                                flush(idx - 8); // `:global(`.length\n                                lastIdx = idx; // skip over \":global(\"\n                            }\n                            else if (newMode === pseudoElement) {\n                                // We are entering pseudoElement `::foo`; insert scoping in front of it.\n                                insertScopingSelector(chIdx);\n                            }\n                            mode = newMode;\n                            ch == SPACE; // Pretend not an identifier so that we don't flush again on elementClassIdSelector\n                        }\n                        break; // get out of the for loop as we found a match\n                    }\n                }\n            }\n        }\n        lastCh = ch;\n    }\n    flush(idx);\n    return out.join('');\n    function flush(idx) {\n        out.push(css.substring(lastIdx, idx));\n        DEBUG && console.log('FLUSH', out.join(''));\n        lastIdx = idx;\n    }\n    function insertScopingSelector(idx) {\n        if (mode === pseudoGlobal || shouldNotInsertScoping()) {\n            return;\n        }\n        flush(idx);\n        out.push('.', ComponentStylesPrefixContent, scopeId);\n        DEBUG && console.log('INSERT', out.join(''));\n    }\n    function lookAhead(arc) {\n        let prefix = 0; // Ignore vendor prefixes such as `-webkit-`.\n        if (css.charCodeAt(idx) === DASH) {\n            for (let i = 1; i < 10; i++) {\n                // give up after 10 characters\n                if (css.charCodeAt(idx + i) === DASH) {\n                    prefix = i + 1;\n                    break;\n                }\n            }\n        }\n        words: for (let arcIndx = 3; arcIndx < arc.length; arcIndx++) {\n            const txt = arc[arcIndx];\n            for (let i = 0; i < txt.length; i++) {\n                if ((css.charCodeAt(idx + i + prefix) | LOWERCASE) !== txt.charCodeAt(i)) {\n                    continue words;\n                }\n            }\n            // we found a match;\n            idx += txt.length + prefix;\n            return true;\n        }\n        return false;\n    }\n    function shouldNotInsertScoping() {\n        return stack.indexOf(pseudoGlobal) !== -1 || stack.indexOf(atRuleSelector) !== -1;\n    }\n};\nconst isIdent = (ch) => {\n    return ((ch >= _0 && ch <= _9) ||\n        (ch >= A && ch <= Z) ||\n        (ch >= a && ch <= z) ||\n        ch >= 0x80 ||\n        ch === UNDERSCORE ||\n        ch === DASH);\n};\nconst isChainedSelector = (ch) => {\n    return ch === COLON || ch === DOT || ch === OPEN_BRACKET || ch === HASH || isIdent(ch);\n};\nconst isSelfClosingRule = (mode) => {\n    return (mode === atRuleBlock || mode === atRuleSelector || mode === atRuleInert || mode === pseudoGlobal);\n};\nconst isWhiteSpace = (ch) => {\n    return ch === SPACE || ch === TAB || ch === NEWLINE || ch === CARRIAGE_RETURN;\n};\nconst modeToString = (mode) => {\n    return [\n        'rule',\n        'elementClassIdSelector',\n        'starSelector',\n        'pseudoClassWithSelector',\n        'pseudoClass',\n        'pseudoGlobal',\n        'pseudoElement',\n        'attrSelector',\n        'inertParenthesis',\n        'inertBlock',\n        'atRuleSelector',\n        'atRuleBlock',\n        'atInert',\n        'body',\n        'stringSingle',\n        'stringDouble',\n        'commentMultiline',\n        'EXIT',\n        'EXIT_INSERT_SCOPE',\n    ][mode];\n};\nconst charToString = (ch) => {\n    return ['ANY', 'IDENT', 'NOT_IDENT', 'WHITESPACE'][ch] || String.fromCharCode(ch);\n};\nconst rule = 0; // top level initial space.\nconst elementClassIdSelector = 1; // .elementClassIdSelector {}\nconst starSelector = 2; // * {}\nconst pseudoClassWithSelector = 3; // :pseudoClass(elementClassIdSelector) {}\nconst pseudoClass = 4; // :pseudoClass {}\nconst pseudoGlobal = 5; // :global(elementClassIdSelector)\nconst pseudoElement = 6; // ::pseudoElement {}\nconst attrSelector = 7; // [attr] {}\nconst inertParenthesis = 8; // (ignored)\nconst inertBlock = 9; // {ignored}\nconst atRuleSelector = 10; // @keyframe elementClassIdSelector {}\nconst atRuleBlock = 11; // @media {elementClassIdSelector {}}\nconst atRuleInert = 12; // @atRule something;\nconst body = 13; // .elementClassIdSelector {body}\nconst stringSingle = 14; // 'text'\nconst stringDouble = 15; // 'text'\nconst commentMultiline = 16; // /* ... */\n// NOT REAL MODES\nconst EXIT = 17; // Exit the mode\nconst EXIT_INSERT_SCOPE = 18; // Exit the mode INSERT SCOPE\nconst ANY = 0;\nconst IDENT = 1;\nconst NOT_IDENT = 2;\nconst WHITESPACE = 3;\nconst TAB = 9; // `\\t`.charCodeAt(0);\nconst NEWLINE = 10; // `\\n`.charCodeAt(0);\nconst CARRIAGE_RETURN = 13; // `\\r`.charCodeAt(0);\nconst SPACE = 32; // ` `.charCodeAt(0);\nconst DOUBLE_QUOTE = 34; // `\"`.charCodeAt(0);\nconst HASH = 35; // `#`.charCodeAt(0);\nconst SINGLE_QUOTE = 39; // `'`.charCodeAt(0);\nconst OPEN_PARENTHESIS = 40; // `(`.charCodeAt(0);\nconst CLOSE_PARENTHESIS = 41; // `)`.charCodeAt(0);\nconst STAR = 42; // `*`.charCodeAt(0);\n// const COMMA = 44; // `,`.charCodeAt(0);\nconst DASH = 45; // `-`.charCodeAt(0);\nconst DOT = 46; // `.`.charCodeAt(0);\nconst FORWARD_SLASH = 47; // `/`.charCodeAt(0);\nconst _0 = 48; // `0`.charCodeAt(0);\nconst _9 = 57; // `9`.charCodeAt(0);\nconst COLON = 58; // `:`.charCodeAt(0);\nconst SEMICOLON = 59; // `;`.charCodeAt(0);\n// const LESS_THAN = 60; // `<`.charCodeAt(0);\nconst AT = 64; // `@`.charCodeAt(0);\nconst A = 65; // `A`.charCodeAt(0);\nconst Z = 90; // `Z`.charCodeAt(0);\nconst OPEN_BRACKET = 91; // `[`.charCodeAt(0);\nconst CLOSE_BRACKET = 93; // `]`.charCodeAt(0);\nconst BACKSLASH = 92; // `\\\\`.charCodeAt(0);\nconst UNDERSCORE = 95; // `_`.charCodeAt(0);\nconst LOWERCASE = 0x20; // `a`.charCodeAt(0);\nconst a = 97; // `a`.charCodeAt(0);\n// const d = 100; // `d`.charCodeAt(0);\n// const g = 103; // 'g'.charCodeAt(0);\n// const h = 104; // `h`.charCodeAt(0);\n// const i = 105; // `i`.charCodeAt(0);\n// const l = 108; // `l`.charCodeAt(0);\n// const t = 116; // `t`.charCodeAt(0);\nconst z = 122; // `z`.charCodeAt(0);\nconst OPEN_BRACE = 123; // `{`.charCodeAt(0);\nconst CLOSE_BRACE = 125; // `}`.charCodeAt(0);\nconst STRINGS_COMMENTS = /*__PURE__*/ (() => [\n    [ANY, SINGLE_QUOTE, stringSingle],\n    [ANY, DOUBLE_QUOTE, stringDouble],\n    [ANY, FORWARD_SLASH, commentMultiline, '*'],\n])();\nconst STATE_MACHINE = /*__PURE__*/ (() => [\n    [\n        /// rule\n        [ANY, STAR, starSelector],\n        [ANY, OPEN_BRACKET, attrSelector],\n        [ANY, COLON, pseudoElement, ':', 'before', 'after', 'first-letter', 'first-line'],\n        [ANY, COLON, pseudoGlobal, 'global'],\n        [\n            ANY,\n            COLON,\n            pseudoClassWithSelector,\n            'has',\n            'host-context',\n            'not',\n            'where',\n            'is',\n            'matches',\n            'any',\n        ],\n        [ANY, COLON, pseudoClass],\n        [ANY, IDENT, elementClassIdSelector],\n        [ANY, DOT, elementClassIdSelector],\n        [ANY, HASH, elementClassIdSelector],\n        [ANY, AT, atRuleSelector, 'keyframe'],\n        [ANY, AT, atRuleBlock, 'media', 'supports', 'container'],\n        [ANY, AT, atRuleInert],\n        [ANY, OPEN_BRACE, body],\n        [FORWARD_SLASH, STAR, commentMultiline],\n        [ANY, SEMICOLON, EXIT],\n        [ANY, CLOSE_BRACE, EXIT],\n        [ANY, CLOSE_PARENTHESIS, EXIT],\n        ...STRINGS_COMMENTS,\n    ],\n    [\n        /// elementClassIdSelector\n        [ANY, NOT_IDENT, EXIT_INSERT_SCOPE],\n    ],\n    [\n        /// starSelector\n        [ANY, NOT_IDENT, EXIT_INSERT_SCOPE],\n    ],\n    [\n        /// pseudoClassWithSelector\n        [ANY, OPEN_PARENTHESIS, rule],\n        [ANY, NOT_IDENT, EXIT_INSERT_SCOPE],\n    ],\n    [\n        /// pseudoClass\n        [ANY, OPEN_PARENTHESIS, inertParenthesis],\n        [ANY, NOT_IDENT, EXIT_INSERT_SCOPE],\n    ],\n    [\n        /// pseudoGlobal\n        [ANY, OPEN_PARENTHESIS, rule],\n        [ANY, NOT_IDENT, EXIT],\n    ],\n    [\n        /// pseudoElement\n        [ANY, NOT_IDENT, EXIT],\n    ],\n    [\n        /// attrSelector\n        [ANY, CLOSE_BRACKET, EXIT_INSERT_SCOPE],\n        [ANY, SINGLE_QUOTE, stringSingle],\n        [ANY, DOUBLE_QUOTE, stringDouble],\n    ],\n    [\n        /// inertParenthesis\n        [ANY, CLOSE_PARENTHESIS, EXIT],\n        ...STRINGS_COMMENTS,\n    ],\n    [\n        /// inertBlock\n        [ANY, CLOSE_BRACE, EXIT],\n        ...STRINGS_COMMENTS,\n    ],\n    [\n        /// atRuleSelector\n        [ANY, CLOSE_BRACE, EXIT],\n        [WHITESPACE, IDENT, elementClassIdSelector],\n        [ANY, COLON, pseudoGlobal, 'global'],\n        [ANY, OPEN_BRACE, body],\n        ...STRINGS_COMMENTS,\n    ],\n    [\n        /// atRuleBlock\n        [ANY, OPEN_BRACE, rule],\n        [ANY, SEMICOLON, EXIT],\n        ...STRINGS_COMMENTS,\n    ],\n    [\n        /// atRuleInert\n        [ANY, SEMICOLON, EXIT],\n        [ANY, OPEN_BRACE, inertBlock],\n        ...STRINGS_COMMENTS,\n    ],\n    [\n        /// body\n        [ANY, CLOSE_BRACE, EXIT],\n        [ANY, OPEN_BRACE, body],\n        [ANY, OPEN_PARENTHESIS, inertParenthesis],\n        ...STRINGS_COMMENTS,\n    ],\n    [\n        /// stringSingle\n        [ANY, SINGLE_QUOTE, EXIT],\n    ],\n    [\n        /// stringDouble\n        [ANY, DOUBLE_QUOTE, EXIT],\n    ],\n    [\n        /// commentMultiline\n        [STAR, FORWARD_SLASH, EXIT],\n    ],\n])();\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2NvcGVkLXN0eWxlc2hlZXQuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvc2hhcmVkL3V0aWxzL3Njb3BlZC1zdHlsZXNoZWV0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLCtCQUErQjtBQUMvQixPQUFPLEVBQUUsNEJBQTRCLEVBQUUsTUFBTSxXQUFXLENBQUM7QUFDekQsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLFFBQVEsQ0FBQztBQUU5QiwwSEFBMEg7QUFDMUgsTUFBTSxLQUFLLEdBQVksS0FBSyxDQUFDO0FBRTdCLE1BQU0sQ0FBQyxNQUFNLFdBQVcsR0FBRyxhQUFhLENBQUMsSUFBSSxHQUFHLEVBQUUsQ0FBQztBQUVuRCxNQUFNLENBQUMsTUFBTSxlQUFlLEdBQUcsQ0FBQyxHQUFXLEVBQUUsT0FBZSxFQUFVLEVBQUU7SUFDdEUsSUFBSSxJQUFJLEVBQUUsQ0FBQztRQUNULE9BQU8sZUFBZSxDQUFDLEdBQUcsRUFBRSxPQUFPLENBQUMsQ0FBQztJQUN2QyxDQUFDO0lBQ0QsSUFBSSxRQUFRLEdBQUcsV0FBVyxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUN4QyxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDZCxXQUFXLENBQUMsR0FBRyxDQUFDLE9BQU8sRUFBRSxDQUFDLFFBQVEsR0FBRyxlQUFlLENBQUMsR0FBRyxFQUFFLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUN2RSxDQUFDO0lBQ0QsT0FBTyxRQUFRLENBQUM7QUFDbEIsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sZUFBZSxHQUFHLENBQUMsR0FBVyxFQUFFLE9BQWUsRUFBVSxFQUFFO0lBQ3RFLE1BQU0sR0FBRyxHQUFHLEdBQUcsQ0FBQyxNQUFNLENBQUM7SUFDdkIsTUFBTSxHQUFHLEdBQWEsRUFBRSxDQUFDO0lBQ3pCLE1BQU0sS0FBSyxHQUFhLEVBQUUsQ0FBQztJQUMzQixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUM7SUFDWixJQUFJLE9BQU8sR0FBRyxHQUFHLENBQUM7SUFDbEIsSUFBSSxJQUFJLEdBQVcsSUFBSSxDQUFDO0lBQ3hCLElBQUksTUFBTSxHQUFHLENBQUMsQ0FBQztJQUNmLEtBQUssSUFBSSxPQUFPLENBQUMsR0FBRyxDQUFDLDRCQUE0QixDQUFDLENBQUM7SUFDbkQsT0FBTyxHQUFHLEdBQUcsR0FBRyxFQUFFLENBQUM7UUFDakIsS0FBSyxJQUFJLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDMUIsS0FBSyxJQUFJLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQztRQUM5RCxLQUFLLElBQUksT0FBTyxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUUsR0FBRyxLQUFLLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxFQUFFLFlBQVksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQzdFLE1BQU0sS0FBSyxHQUFHLEdBQUcsQ0FBQztRQUNsQixJQUFJLEVBQUUsR0FBRyxHQUFHLENBQUMsVUFBVSxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUM7UUFDL0IsSUFBSSxFQUFFLEtBQUssU0FBUyxFQUFFLENBQUM7WUFDckIsR0FBRyxFQUFFLENBQUM7WUFDTixFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsd0JBQXdCO1FBQ2xDLENBQUM7UUFDRCxNQUFNLElBQUksR0FBRyxhQUFhLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDakMsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQztZQUNyQyxNQUFNLEdBQUcsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDcEIsTUFBTSxDQUFDLFlBQVksRUFBRSxRQUFRLEVBQUUsT0FBTyxDQUFDLEdBQUcsR0FBRyxDQUFDO1lBQzlDLElBQ0UsWUFBWSxLQUFLLE1BQU07Z0JBQ3ZCLFlBQVksS0FBSyxHQUFHO2dCQUNwQixDQUFDLFlBQVksS0FBSyxLQUFLLElBQUksT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDO2dCQUMzQyxDQUFDLFlBQVksS0FBSyxVQUFVLElBQUksWUFBWSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQ3JELENBQUM7Z0JBQ0QsSUFDRSxRQUFRLEtBQUssRUFBRTtvQkFDZixRQUFRLEtBQUssR0FBRztvQkFDaEIsQ0FBQyxRQUFRLEtBQUssS0FBSyxJQUFJLE9BQU8sQ0FBQyxFQUFFLENBQUMsQ0FBQztvQkFDbkMsQ0FBQyxRQUFRLEtBQUssU0FBUyxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxJQUFJLEVBQUUsS0FBSyxHQUFHLENBQUM7b0JBQ3RELENBQUMsUUFBUSxLQUFLLFVBQVUsSUFBSSxZQUFZLENBQUMsRUFBRSxDQUFDLENBQUMsRUFDN0MsQ0FBQztvQkFDRCxJQUFJLEdBQUcsQ0FBQyxNQUFNLElBQUksQ0FBQyxJQUFJLFNBQVMsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDO3dCQUN0QyxJQUFJLEdBQUcsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFLENBQUM7NEJBQ25CLGlFQUFpRTs0QkFDakUsRUFBRSxHQUFHLEdBQUcsQ0FBQyxVQUFVLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDO3dCQUMvQixDQUFDO3dCQUNELEtBQUs7NEJBQ0gsT0FBTyxDQUFDLEdBQUcsQ0FDVCxPQUFPLEVBQ1AsWUFBWSxDQUFDLFlBQVksQ0FBQyxFQUMxQixZQUFZLENBQUMsUUFBUSxDQUFDLEVBQ3RCLFlBQVksQ0FBQyxPQUFPLENBQUMsQ0FDdEIsQ0FBQzt3QkFDSixvQkFBb0I7d0JBQ3BCLElBQUksT0FBTyxLQUFLLElBQUksSUFBSSxPQUFPLElBQUksaUJBQWlCLEVBQUUsQ0FBQzs0QkFDckQsSUFBSSxPQUFPLEtBQUssaUJBQWlCLEVBQUUsQ0FBQztnQ0FDbEMsSUFBSSxJQUFJLEtBQUssWUFBWSxJQUFJLENBQUMsc0JBQXNCLEVBQUUsRUFBRSxDQUFDO29DQUN2RCx1REFBdUQ7b0NBQ3ZELElBQUksaUJBQWlCLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQzt3Q0FDMUIsT0FBTzt3Q0FDUCxLQUFLLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDO29DQUNqQixDQUFDO3lDQUFNLENBQUM7d0NBQ04sZ0JBQWdCO3dDQUNoQixxQkFBcUIsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUM7b0NBQ2pDLENBQUM7b0NBQ0QsT0FBTyxFQUFFLENBQUM7Z0NBQ1osQ0FBQztxQ0FBTSxDQUFDO29DQUNOLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDO3dDQUMzQix1REFBdUQ7d0NBQ3ZELE1BQU0sTUFBTSxHQUNWLFFBQVEsSUFBSSxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxJQUFJLGlCQUFpQixDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQzt3Q0FDcEUscUJBQXFCLENBQUMsR0FBRyxHQUFHLE1BQU0sQ0FBQyxDQUFDO29DQUN0QyxDQUFDO2dDQUNILENBQUM7NEJBQ0gsQ0FBQzs0QkFDRCxJQUFJLFFBQVEsS0FBSyxTQUFTLEVBQUUsQ0FBQztnQ0FDM0Isd0VBQXdFO2dDQUN4RSwrREFBK0Q7Z0NBQy9ELCtEQUErRDtnQ0FDL0QsR0FBRyxFQUFFLENBQUM7Z0NBQ04sRUFBRSxHQUFHLE1BQU0sQ0FBQzs0QkFDZCxDQUFDOzRCQUNELEdBQUcsQ0FBQztnQ0FDRixJQUFJLEdBQUcsS0FBSyxDQUFDLEdBQUcsRUFBRSxJQUFJLElBQUksQ0FBQztnQ0FDM0IsSUFBSSxJQUFJLEtBQUssWUFBWSxFQUFFLENBQUM7b0NBQzFCLHVDQUF1QztvQ0FDdkMsS0FBSyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQztvQ0FDZixPQUFPLEVBQUUsQ0FBQztnQ0FDWixDQUFDOzRCQUNILENBQUMsUUFBUSxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsRUFBRTt3QkFDcEMsQ0FBQzs2QkFBTSxDQUFDOzRCQUNOLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7NEJBQ2pCLElBQUksSUFBSSxLQUFLLFlBQVksSUFBSSxPQUFPLEtBQUssSUFBSSxFQUFFLENBQUM7Z0NBQzlDLEtBQUssQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxvQkFBb0I7Z0NBQ3BDLE9BQU8sR0FBRyxHQUFHLENBQUMsQ0FBQyx1QkFBdUI7NEJBQ3hDLENBQUM7aUNBQU0sSUFBSSxPQUFPLEtBQUssYUFBYSxFQUFFLENBQUM7Z0NBQ3JDLHdFQUF3RTtnQ0FDeEUscUJBQXFCLENBQUMsS0FBSyxDQUFDLENBQUM7NEJBQy9CLENBQUM7NEJBQ0QsSUFBSSxHQUFHLE9BQU8sQ0FBQzs0QkFDZixFQUFFLElBQUksS0FBSyxDQUFDLENBQUMsbUZBQW1GO3dCQUNsRyxDQUFDO3dCQUNELE1BQU0sQ0FBQyw4Q0FBOEM7b0JBQ3ZELENBQUM7Z0JBQ0gsQ0FBQztZQUNILENBQUM7UUFDSCxDQUFDO1FBQ0QsTUFBTSxHQUFHLEVBQUUsQ0FBQztJQUNkLENBQUM7SUFDRCxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDWCxPQUFPLEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7SUFFcEIsU0FBUyxLQUFLLENBQUMsR0FBVztRQUN4QixHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsT0FBTyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDdEMsS0FBSyxJQUFJLE9BQU8sQ0FBQyxHQUFHLENBQUMsT0FBTyxFQUFFLEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUM1QyxPQUFPLEdBQUcsR0FBRyxDQUFDO0lBQ2hCLENBQUM7SUFDRCxTQUFTLHFCQUFxQixDQUFDLEdBQVc7UUFDeEMsSUFBSSxJQUFJLEtBQUssWUFBWSxJQUFJLHNCQUFzQixFQUFFLEVBQUUsQ0FBQztZQUN0RCxPQUFPO1FBQ1QsQ0FBQztRQUVELEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNYLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLDRCQUE0QixFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ3JELEtBQUssSUFBSSxPQUFPLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBRSxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDL0MsQ0FBQztJQUNELFNBQVMsU0FBUyxDQUFDLEdBQWE7UUFDOUIsSUFBSSxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUMsNkNBQTZDO1FBQzdELElBQUksR0FBRyxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsS0FBSyxJQUFJLEVBQUUsQ0FBQztZQUNqQyxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUM7Z0JBQzVCLDhCQUE4QjtnQkFDOUIsSUFBSSxHQUFHLENBQUMsVUFBVSxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsS0FBSyxJQUFJLEVBQUUsQ0FBQztvQkFDckMsTUFBTSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7b0JBQ2YsTUFBTTtnQkFDUixDQUFDO1lBQ0gsQ0FBQztRQUNILENBQUM7UUFDRCxLQUFLLEVBQUUsS0FBSyxJQUFJLE9BQU8sR0FBRyxDQUFDLEVBQUUsT0FBTyxHQUFHLEdBQUcsQ0FBQyxNQUFNLEVBQUUsT0FBTyxFQUFFLEVBQUUsQ0FBQztZQUM3RCxNQUFNLEdBQUcsR0FBRyxHQUFHLENBQUMsT0FBTyxDQUFXLENBQUM7WUFDbkMsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQztnQkFDcEMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxNQUFNLENBQUMsR0FBRyxTQUFTLENBQUMsS0FBSyxHQUFHLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7b0JBQ3pFLFNBQVMsS0FBSyxDQUFDO2dCQUNqQixDQUFDO1lBQ0gsQ0FBQztZQUNELG9CQUFvQjtZQUNwQixHQUFHLElBQUksR0FBRyxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7WUFDM0IsT0FBTyxJQUFJLENBQUM7UUFDZCxDQUFDO1FBQ0QsT0FBTyxLQUFLLENBQUM7SUFDZixDQUFDO0lBRUQsU0FBUyxzQkFBc0I7UUFDN0IsT0FBTyxLQUFLLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsY0FBYyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7SUFDcEYsQ0FBQztBQUNILENBQUMsQ0FBQztBQUVGLE1BQU0sT0FBTyxHQUFHLENBQUMsRUFBVSxFQUFXLEVBQUU7SUFDdEMsT0FBTyxDQUNMLENBQUMsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxDQUFDO1FBQ3RCLENBQUMsRUFBRSxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3BCLENBQUMsRUFBRSxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3BCLEVBQUUsSUFBSSxJQUFJO1FBQ1YsRUFBRSxLQUFLLFVBQVU7UUFDakIsRUFBRSxLQUFLLElBQUksQ0FDWixDQUFDO0FBQ0osQ0FBQyxDQUFDO0FBRUYsTUFBTSxpQkFBaUIsR0FBRyxDQUFDLEVBQVUsRUFBVyxFQUFFO0lBQ2hELE9BQU8sRUFBRSxLQUFLLEtBQUssSUFBSSxFQUFFLEtBQUssR0FBRyxJQUFJLEVBQUUsS0FBSyxZQUFZLElBQUksRUFBRSxLQUFLLElBQUksSUFBSSxPQUFPLENBQUMsRUFBRSxDQUFDLENBQUM7QUFDekYsQ0FBQyxDQUFDO0FBRUYsTUFBTSxpQkFBaUIsR0FBRyxDQUFDLElBQVksRUFBVyxFQUFFO0lBQ2xELE9BQU8sQ0FDTCxJQUFJLEtBQUssV0FBVyxJQUFJLElBQUksS0FBSyxjQUFjLElBQUksSUFBSSxLQUFLLFdBQVcsSUFBSSxJQUFJLEtBQUssWUFBWSxDQUNqRyxDQUFDO0FBQ0osQ0FBQyxDQUFDO0FBRUYsTUFBTSxZQUFZLEdBQUcsQ0FBQyxFQUFVLEVBQVcsRUFBRTtJQUMzQyxPQUFPLEVBQUUsS0FBSyxLQUFLLElBQUksRUFBRSxLQUFLLEdBQUcsSUFBSSxFQUFFLEtBQUssT0FBTyxJQUFJLEVBQUUsS0FBSyxlQUFlLENBQUM7QUFDaEYsQ0FBQyxDQUFDO0FBRUYsTUFBTSxZQUFZLEdBQUcsQ0FBQyxJQUFZLEVBQVUsRUFBRTtJQUM1QyxPQUFPO1FBQ0wsTUFBTTtRQUNOLHdCQUF3QjtRQUN4QixjQUFjO1FBQ2QseUJBQXlCO1FBQ3pCLGFBQWE7UUFDYixjQUFjO1FBQ2QsZUFBZTtRQUNmLGNBQWM7UUFDZCxrQkFBa0I7UUFDbEIsWUFBWTtRQUNaLGdCQUFnQjtRQUNoQixhQUFhO1FBQ2IsU0FBUztRQUNULE1BQU07UUFDTixjQUFjO1FBQ2QsY0FBYztRQUNkLGtCQUFrQjtRQUNsQixNQUFNO1FBQ04sbUJBQW1CO0tBQ3BCLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDVixDQUFDLENBQUM7QUFFRixNQUFNLFlBQVksR0FBRyxDQUFDLEVBQVUsRUFBVSxFQUFFO0lBQzFDLE9BQU8sQ0FBQyxLQUFLLEVBQUUsT0FBTyxFQUFFLFdBQVcsRUFBRSxZQUFZLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxNQUFNLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0FBQ3BGLENBQUMsQ0FBQztBQUVGLE1BQU0sSUFBSSxHQUFHLENBQUMsQ0FBQyxDQUFDLDJCQUEyQjtBQUMzQyxNQUFNLHNCQUFzQixHQUFHLENBQUMsQ0FBQyxDQUFDLDZCQUE2QjtBQUMvRCxNQUFNLFlBQVksR0FBRyxDQUFDLENBQUMsQ0FBQyxPQUFPO0FBQy9CLE1BQU0sdUJBQXVCLEdBQUcsQ0FBQyxDQUFDLENBQUMsMENBQTBDO0FBQzdFLE1BQU0sV0FBVyxHQUFHLENBQUMsQ0FBQyxDQUFDLGtCQUFrQjtBQUN6QyxNQUFNLFlBQVksR0FBRyxDQUFDLENBQUMsQ0FBQyxrQ0FBa0M7QUFDMUQsTUFBTSxhQUFhLEdBQUcsQ0FBQyxDQUFDLENBQUMscUJBQXFCO0FBQzlDLE1BQU0sWUFBWSxHQUFHLENBQUMsQ0FBQyxDQUFDLFlBQVk7QUFDcEMsTUFBTSxnQkFBZ0IsR0FBRyxDQUFDLENBQUMsQ0FBQyxZQUFZO0FBQ3hDLE1BQU0sVUFBVSxHQUFHLENBQUMsQ0FBQyxDQUFDLFlBQVk7QUFDbEMsTUFBTSxjQUFjLEdBQUcsRUFBRSxDQUFDLENBQUMsc0NBQXNDO0FBQ2pFLE1BQU0sV0FBVyxHQUFHLEVBQUUsQ0FBQyxDQUFDLHFDQUFxQztBQUM3RCxNQUFNLFdBQVcsR0FBRyxFQUFFLENBQUMsQ0FBQyxxQkFBcUI7QUFDN0MsTUFBTSxJQUFJLEdBQUcsRUFBRSxDQUFDLENBQUMsaUNBQWlDO0FBQ2xELE1BQU0sWUFBWSxHQUFHLEVBQUUsQ0FBQyxDQUFDLFNBQVM7QUFDbEMsTUFBTSxZQUFZLEdBQUcsRUFBRSxDQUFDLENBQUMsU0FBUztBQUNsQyxNQUFNLGdCQUFnQixHQUFHLEVBQUUsQ0FBQyxDQUFDLFlBQVk7QUFDekMsaUJBQWlCO0FBQ2pCLE1BQU0sSUFBSSxHQUFHLEVBQUUsQ0FBQyxDQUFDLGdCQUFnQjtBQUNqQyxNQUFNLGlCQUFpQixHQUFHLEVBQUUsQ0FBQyxDQUFDLDZCQUE2QjtBQUUzRCxNQUFNLEdBQUcsR0FBRyxDQUFDLENBQUM7QUFDZCxNQUFNLEtBQUssR0FBRyxDQUFDLENBQUM7QUFDaEIsTUFBTSxTQUFTLEdBQUcsQ0FBQyxDQUFDO0FBQ3BCLE1BQU0sVUFBVSxHQUFHLENBQUMsQ0FBQztBQUNyQixNQUFNLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxzQkFBc0I7QUFDckMsTUFBTSxPQUFPLEdBQUcsRUFBRSxDQUFDLENBQUMsc0JBQXNCO0FBQzFDLE1BQU0sZUFBZSxHQUFHLEVBQUUsQ0FBQyxDQUFDLHNCQUFzQjtBQUNsRCxNQUFNLEtBQUssR0FBRyxFQUFFLENBQUMsQ0FBQyxxQkFBcUI7QUFDdkMsTUFBTSxZQUFZLEdBQUcsRUFBRSxDQUFDLENBQUMscUJBQXFCO0FBQzlDLE1BQU0sSUFBSSxHQUFHLEVBQUUsQ0FBQyxDQUFDLHFCQUFxQjtBQUN0QyxNQUFNLFlBQVksR0FBRyxFQUFFLENBQUMsQ0FBQyxxQkFBcUI7QUFDOUMsTUFBTSxnQkFBZ0IsR0FBRyxFQUFFLENBQUMsQ0FBQyxxQkFBcUI7QUFDbEQsTUFBTSxpQkFBaUIsR0FBRyxFQUFFLENBQUMsQ0FBQyxxQkFBcUI7QUFDbkQsTUFBTSxJQUFJLEdBQUcsRUFBRSxDQUFDLENBQUMscUJBQXFCO0FBQ3RDLDBDQUEwQztBQUMxQyxNQUFNLElBQUksR0FBRyxFQUFFLENBQUMsQ0FBQyxxQkFBcUI7QUFDdEMsTUFBTSxHQUFHLEdBQUcsRUFBRSxDQUFDLENBQUMscUJBQXFCO0FBQ3JDLE1BQU0sYUFBYSxHQUFHLEVBQUUsQ0FBQyxDQUFDLHFCQUFxQjtBQUMvQyxNQUFNLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQyxxQkFBcUI7QUFDcEMsTUFBTSxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUMscUJBQXFCO0FBQ3BDLE1BQU0sS0FBSyxHQUFHLEVBQUUsQ0FBQyxDQUFDLHFCQUFxQjtBQUN2QyxNQUFNLFNBQVMsR0FBRyxFQUFFLENBQUMsQ0FBQyxxQkFBcUI7QUFDM0MsOENBQThDO0FBQzlDLE1BQU0sRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDLHFCQUFxQjtBQUNwQyxNQUFNLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxxQkFBcUI7QUFDbkMsTUFBTSxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMscUJBQXFCO0FBQ25DLE1BQU0sWUFBWSxHQUFHLEVBQUUsQ0FBQyxDQUFDLHFCQUFxQjtBQUM5QyxNQUFNLGFBQWEsR0FBRyxFQUFFLENBQUMsQ0FBQyxxQkFBcUI7QUFDL0MsTUFBTSxTQUFTLEdBQUcsRUFBRSxDQUFDLENBQUMsc0JBQXNCO0FBQzVDLE1BQU0sVUFBVSxHQUFHLEVBQUUsQ0FBQyxDQUFDLHFCQUFxQjtBQUM1QyxNQUFNLFNBQVMsR0FBRyxJQUFJLENBQUMsQ0FBQyxxQkFBcUI7QUFDN0MsTUFBTSxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMscUJBQXFCO0FBQ25DLHVDQUF1QztBQUN2Qyx1Q0FBdUM7QUFDdkMsdUNBQXVDO0FBQ3ZDLHVDQUF1QztBQUN2Qyx1Q0FBdUM7QUFDdkMsdUNBQXVDO0FBQ3ZDLE1BQU0sQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLHFCQUFxQjtBQUNwQyxNQUFNLFVBQVUsR0FBRyxHQUFHLENBQUMsQ0FBQyxxQkFBcUI7QUFDN0MsTUFBTSxXQUFXLEdBQUcsR0FBRyxDQUFDLENBQUMscUJBQXFCO0FBYTlDLE1BQU0sZ0JBQWdCLEdBQWUsWUFBWSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUM7SUFDdkQsQ0FBQyxHQUFHLEVBQUUsWUFBWSxFQUFFLFlBQVksQ0FBQztJQUNqQyxDQUFDLEdBQUcsRUFBRSxZQUFZLEVBQUUsWUFBWSxDQUFDO0lBQ2pDLENBQUMsR0FBRyxFQUFFLGFBQWEsRUFBRSxnQkFBZ0IsRUFBRSxHQUFHLENBQUM7Q0FDNUMsQ0FBQyxFQUFFLENBQUM7QUFFTCxNQUFNLGFBQWEsR0FBaUIsWUFBWSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUM7SUFDdEQ7UUFDRSxRQUFRO1FBQ1IsQ0FBQyxHQUFHLEVBQUUsSUFBSSxFQUFFLFlBQVksQ0FBQztRQUN6QixDQUFDLEdBQUcsRUFBRSxZQUFZLEVBQUUsWUFBWSxDQUFDO1FBQ2pDLENBQUMsR0FBRyxFQUFFLEtBQUssRUFBRSxhQUFhLEVBQUUsR0FBRyxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUUsY0FBYyxFQUFFLFlBQVksQ0FBQztRQUNqRixDQUFDLEdBQUcsRUFBRSxLQUFLLEVBQUUsWUFBWSxFQUFFLFFBQVEsQ0FBQztRQUNwQztZQUNFLEdBQUc7WUFDSCxLQUFLO1lBQ0wsdUJBQXVCO1lBQ3ZCLEtBQUs7WUFDTCxjQUFjO1lBQ2QsS0FBSztZQUNMLE9BQU87WUFDUCxJQUFJO1lBQ0osU0FBUztZQUNULEtBQUs7U0FDTjtRQUNELENBQUMsR0FBRyxFQUFFLEtBQUssRUFBRSxXQUFXLENBQUM7UUFDekIsQ0FBQyxHQUFHLEVBQUUsS0FBSyxFQUFFLHNCQUFzQixDQUFDO1FBQ3BDLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxzQkFBc0IsQ0FBQztRQUNsQyxDQUFDLEdBQUcsRUFBRSxJQUFJLEVBQUUsc0JBQXNCLENBQUM7UUFDbkMsQ0FBQyxHQUFHLEVBQUUsRUFBRSxFQUFFLGNBQWMsRUFBRSxVQUFVLENBQUM7UUFDckMsQ0FBQyxHQUFHLEVBQUUsRUFBRSxFQUFFLFdBQVcsRUFBRSxPQUFPLEVBQUUsVUFBVSxFQUFFLFdBQVcsQ0FBQztRQUN4RCxDQUFDLEdBQUcsRUFBRSxFQUFFLEVBQUUsV0FBVyxDQUFDO1FBQ3RCLENBQUMsR0FBRyxFQUFFLFVBQVUsRUFBRSxJQUFJLENBQUM7UUFDdkIsQ0FBQyxhQUFhLEVBQUUsSUFBSSxFQUFFLGdCQUFnQixDQUFDO1FBQ3ZDLENBQUMsR0FBRyxFQUFFLFNBQVMsRUFBRSxJQUFJLENBQUM7UUFDdEIsQ0FBQyxHQUFHLEVBQUUsV0FBVyxFQUFFLElBQUksQ0FBQztRQUN4QixDQUFDLEdBQUcsRUFBRSxpQkFBaUIsRUFBRSxJQUFJLENBQUM7UUFDOUIsR0FBRyxnQkFBZ0I7S0FDcEI7SUFDRDtRQUNFLDBCQUEwQjtRQUMxQixDQUFDLEdBQUcsRUFBRSxTQUFTLEVBQUUsaUJBQWlCLENBQUM7S0FDcEM7SUFDRDtRQUNFLGdCQUFnQjtRQUNoQixDQUFDLEdBQUcsRUFBRSxTQUFTLEVBQUUsaUJBQWlCLENBQUM7S0FDcEM7SUFDRDtRQUNFLDJCQUEyQjtRQUMzQixDQUFDLEdBQUcsRUFBRSxnQkFBZ0IsRUFBRSxJQUFJLENBQUM7UUFDN0IsQ0FBQyxHQUFHLEVBQUUsU0FBUyxFQUFFLGlCQUFpQixDQUFDO0tBQ3BDO0lBQ0Q7UUFDRSxlQUFlO1FBQ2YsQ0FBQyxHQUFHLEVBQUUsZ0JBQWdCLEVBQUUsZ0JBQWdCLENBQUM7UUFDekMsQ0FBQyxHQUFHLEVBQUUsU0FBUyxFQUFFLGlCQUFpQixDQUFDO0tBQ3BDO0lBQ0Q7UUFDRSxnQkFBZ0I7UUFDaEIsQ0FBQyxHQUFHLEVBQUUsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDO1FBQzdCLENBQUMsR0FBRyxFQUFFLFNBQVMsRUFBRSxJQUFJLENBQUM7S0FDdkI7SUFDRDtRQUNFLGlCQUFpQjtRQUNqQixDQUFDLEdBQUcsRUFBRSxTQUFTLEVBQUUsSUFBSSxDQUFDO0tBQ3ZCO0lBQ0Q7UUFDRSxnQkFBZ0I7UUFDaEIsQ0FBQyxHQUFHLEVBQUUsYUFBYSxFQUFFLGlCQUFpQixDQUFDO1FBQ3ZDLENBQUMsR0FBRyxFQUFFLFlBQVksRUFBRSxZQUFZLENBQUM7UUFDakMsQ0FBQyxHQUFHLEVBQUUsWUFBWSxFQUFFLFlBQVksQ0FBQztLQUNsQztJQUNEO1FBQ0Usb0JBQW9CO1FBQ3BCLENBQUMsR0FBRyxFQUFFLGlCQUFpQixFQUFFLElBQUksQ0FBQztRQUM5QixHQUFHLGdCQUFnQjtLQUNwQjtJQUNEO1FBQ0UsY0FBYztRQUNkLENBQUMsR0FBRyxFQUFFLFdBQVcsRUFBRSxJQUFJLENBQUM7UUFDeEIsR0FBRyxnQkFBZ0I7S0FDcEI7SUFDRDtRQUNFLGtCQUFrQjtRQUNsQixDQUFDLEdBQUcsRUFBRSxXQUFXLEVBQUUsSUFBSSxDQUFDO1FBQ3hCLENBQUMsVUFBVSxFQUFFLEtBQUssRUFBRSxzQkFBc0IsQ0FBQztRQUMzQyxDQUFDLEdBQUcsRUFBRSxLQUFLLEVBQUUsWUFBWSxFQUFFLFFBQVEsQ0FBQztRQUNwQyxDQUFDLEdBQUcsRUFBRSxVQUFVLEVBQUUsSUFBSSxDQUFDO1FBQ3ZCLEdBQUcsZ0JBQWdCO0tBQ3BCO0lBQ0Q7UUFDRSxlQUFlO1FBQ2YsQ0FBQyxHQUFHLEVBQUUsVUFBVSxFQUFFLElBQUksQ0FBQztRQUN2QixDQUFDLEdBQUcsRUFBRSxTQUFTLEVBQUUsSUFBSSxDQUFDO1FBQ3RCLEdBQUcsZ0JBQWdCO0tBQ3BCO0lBQ0Q7UUFDRSxlQUFlO1FBQ2YsQ0FBQyxHQUFHLEVBQUUsU0FBUyxFQUFFLElBQUksQ0FBQztRQUN0QixDQUFDLEdBQUcsRUFBRSxVQUFVLEVBQUUsVUFBVSxDQUFDO1FBQzdCLEdBQUcsZ0JBQWdCO0tBQ3BCO0lBQ0Q7UUFDRSxRQUFRO1FBQ1IsQ0FBQyxHQUFHLEVBQUUsV0FBVyxFQUFFLElBQUksQ0FBQztRQUN4QixDQUFDLEdBQUcsRUFBRSxVQUFVLEVBQUUsSUFBSSxDQUFDO1FBQ3ZCLENBQUMsR0FBRyxFQUFFLGdCQUFnQixFQUFFLGdCQUFnQixDQUFDO1FBQ3pDLEdBQUcsZ0JBQWdCO0tBQ3BCO0lBQ0Q7UUFDRSxnQkFBZ0I7UUFDaEIsQ0FBQyxHQUFHLEVBQUUsWUFBWSxFQUFFLElBQUksQ0FBQztLQUMxQjtJQUNEO1FBQ0UsZ0JBQWdCO1FBQ2hCLENBQUMsR0FBRyxFQUFFLFlBQVksRUFBRSxJQUFJLENBQUM7S0FDMUI7SUFDRDtRQUNFLG9CQUFvQjtRQUNwQixDQUFDLElBQUksRUFBRSxhQUFhLEVBQUUsSUFBSSxDQUFDO0tBQzVCO0NBQ0YsQ0FBQyxFQUFFLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovXG5pbXBvcnQgeyBDb21wb25lbnRTdHlsZXNQcmVmaXhDb250ZW50IH0gZnJvbSAnLi9tYXJrZXJzJztcbmltcG9ydCB7IHFEZXYgfSBmcm9tICcuL3FkZXYnO1xuXG4vLyBNYWtlIHN1cmUgdGhpcyBpcyBhbHdheXMgc2V0IHRvIGBmYWxzZWAgaW4gcHJvZHVjdGlvbiwgYnV0IGl0IGlzIHVzZWZ1bCB0byBzZXQgZm9yIGB0cnVlYCBpbiBkZXZlbG9wbWVudCBmb3IgZGVidWdnaW5nLlxuY29uc3QgREVCVUc6IGJvb2xlYW4gPSBmYWxzZTtcblxuZXhwb3J0IGNvbnN0IFNUWUxFX0NBQ0hFID0gLyojX19QVVJFX18qLyBuZXcgTWFwKCk7XG5cbmV4cG9ydCBjb25zdCBnZXRTY29wZWRTdHlsZXMgPSAoY3NzOiBzdHJpbmcsIHNjb3BlSWQ6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gIGlmIChxRGV2KSB7XG4gICAgcmV0dXJuIHNjb3BlU3R5bGVzaGVldChjc3MsIHNjb3BlSWQpO1xuICB9XG4gIGxldCBzdHlsZUNzcyA9IFNUWUxFX0NBQ0hFLmdldChzY29wZUlkKTtcbiAgaWYgKCFzdHlsZUNzcykge1xuICAgIFNUWUxFX0NBQ0hFLnNldChzY29wZUlkLCAoc3R5bGVDc3MgPSBzY29wZVN0eWxlc2hlZXQoY3NzLCBzY29wZUlkKSkpO1xuICB9XG4gIHJldHVybiBzdHlsZUNzcztcbn07XG5cbmV4cG9ydCBjb25zdCBzY29wZVN0eWxlc2hlZXQgPSAoY3NzOiBzdHJpbmcsIHNjb3BlSWQ6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gIGNvbnN0IGVuZCA9IGNzcy5sZW5ndGg7XG4gIGNvbnN0IG91dDogc3RyaW5nW10gPSBbXTtcbiAgY29uc3Qgc3RhY2s6IG51bWJlcltdID0gW107XG4gIGxldCBpZHggPSAwO1xuICBsZXQgbGFzdElkeCA9IGlkeDtcbiAgbGV0IG1vZGU6IG51bWJlciA9IHJ1bGU7XG4gIGxldCBsYXN0Q2ggPSAwO1xuICBERUJVRyAmJiBjb25zb2xlLmxvZygnLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0nKTtcbiAgd2hpbGUgKGlkeCA8IGVuZCkge1xuICAgIERFQlVHICYmIGNvbnNvbGUubG9nKGNzcyk7XG4gICAgREVCVUcgJiYgY29uc29sZS5sb2cobmV3IEFycmF5KGlkeCkuZmlsbCgnICcpLmpvaW4oJycpICsgJ14nKTtcbiAgICBERUJVRyAmJiBjb25zb2xlLmxvZygnTU9ERScsIC4uLnN0YWNrLm1hcChtb2RlVG9TdHJpbmcpLCBtb2RlVG9TdHJpbmcobW9kZSkpO1xuICAgIGNvbnN0IGNoSWR4ID0gaWR4O1xuICAgIGxldCBjaCA9IGNzcy5jaGFyQ29kZUF0KGlkeCsrKTtcbiAgICBpZiAoY2ggPT09IEJBQ0tTTEFTSCkge1xuICAgICAgaWR4Kys7XG4gICAgICBjaCA9IEE7IC8vIFByZXRlbmQgaXQncyBhIGxldHRlclxuICAgIH1cbiAgICBjb25zdCBhcmNzID0gU1RBVEVfTUFDSElORVttb2RlXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyY3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGFyYyA9IGFyY3NbaV07XG4gICAgICBjb25zdCBbZXhwZWN0TGFzdENoLCBleHBlY3RDaCwgbmV3TW9kZV0gPSBhcmM7XG4gICAgICBpZiAoXG4gICAgICAgIGV4cGVjdExhc3RDaCA9PT0gbGFzdENoIHx8XG4gICAgICAgIGV4cGVjdExhc3RDaCA9PT0gQU5ZIHx8XG4gICAgICAgIChleHBlY3RMYXN0Q2ggPT09IElERU5UICYmIGlzSWRlbnQobGFzdENoKSkgfHxcbiAgICAgICAgKGV4cGVjdExhc3RDaCA9PT0gV0hJVEVTUEFDRSAmJiBpc1doaXRlU3BhY2UobGFzdENoKSlcbiAgICAgICkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgZXhwZWN0Q2ggPT09IGNoIHx8XG4gICAgICAgICAgZXhwZWN0Q2ggPT09IEFOWSB8fFxuICAgICAgICAgIChleHBlY3RDaCA9PT0gSURFTlQgJiYgaXNJZGVudChjaCkpIHx8XG4gICAgICAgICAgKGV4cGVjdENoID09PSBOT1RfSURFTlQgJiYgIWlzSWRlbnQoY2gpICYmIGNoICE9PSBET1QpIHx8XG4gICAgICAgICAgKGV4cGVjdENoID09PSBXSElURVNQQUNFICYmIGlzV2hpdGVTcGFjZShjaCkpXG4gICAgICAgICkge1xuICAgICAgICAgIGlmIChhcmMubGVuZ3RoID09IDMgfHwgbG9va0FoZWFkKGFyYykpIHtcbiAgICAgICAgICAgIGlmIChhcmMubGVuZ3RoID4gMykge1xuICAgICAgICAgICAgICAvLyBJZiBtYXRjaGVkIG9uIGxvb2tBaGVhZCB0aGFuIHdlIHdlIGhhdmUgdG8gdXBkYXRlIGN1cnJlbnQgYGNoYFxuICAgICAgICAgICAgICBjaCA9IGNzcy5jaGFyQ29kZUF0KGlkeCAtIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgREVCVUcgJiZcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgICAgICAgJ01BVENIJyxcbiAgICAgICAgICAgICAgICBjaGFyVG9TdHJpbmcoZXhwZWN0TGFzdENoKSxcbiAgICAgICAgICAgICAgICBjaGFyVG9TdHJpbmcoZXhwZWN0Q2gpLFxuICAgICAgICAgICAgICAgIG1vZGVUb1N0cmluZyhuZXdNb2RlKVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgLy8gV2UgZm91bmQgYSBtYXRjaCFcbiAgICAgICAgICAgIGlmIChuZXdNb2RlID09PSBFWElUIHx8IG5ld01vZGUgPT0gRVhJVF9JTlNFUlRfU0NPUEUpIHtcbiAgICAgICAgICAgICAgaWYgKG5ld01vZGUgPT09IEVYSVRfSU5TRVJUX1NDT1BFKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1vZGUgPT09IHN0YXJTZWxlY3RvciAmJiAhc2hvdWxkTm90SW5zZXJ0U2NvcGluZygpKSB7XG4gICAgICAgICAgICAgICAgICAvLyBSZXBsYWNlIGAqYCB3aXRoIHRoZSBzY29waW5nIGVsZW1lbnRDbGFzc0lkU2VsZWN0b3IuXG4gICAgICAgICAgICAgICAgICBpZiAoaXNDaGFpbmVkU2VsZWN0b3IoY2gpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vICpmb29cbiAgICAgICAgICAgICAgICAgICAgZmx1c2goaWR4IC0gMik7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyAqIChieSBpdHNlbGYpXG4gICAgICAgICAgICAgICAgICAgIGluc2VydFNjb3BpbmdTZWxlY3RvcihpZHggLSAyKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGxhc3RJZHgrKztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgaWYgKCFpc0NoYWluZWRTZWxlY3RvcihjaCkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2UgYXJlIGV4aXRpbmcgb25lIG9mIHRoZSBTZWxlY3RvciBzbyB3ZSBtYXkgbmVlZCB0b1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBvZmZzZXQgPVxuICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdENoID09IE5PVF9JREVOVCA/IDEgOiBleHBlY3RDaCA9PSBDTE9TRV9QQVJFTlRIRVNJUyA/IDIgOiAwO1xuICAgICAgICAgICAgICAgICAgICBpbnNlcnRTY29waW5nU2VsZWN0b3IoaWR4IC0gb2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKGV4cGVjdENoID09PSBOT1RfSURFTlQpIHtcbiAgICAgICAgICAgICAgICAvLyBOT1RfSURFTlQgaXMgbm90IGEgcmVhbCBjaGFyYWN0ZXIgbW9yZSBsaWtlIGxhY2sgb2Ygd2hhdCB3ZSBleHBlY3RlZC5cbiAgICAgICAgICAgICAgICAvLyBpZiBwc2V1ZG9HbG9iYWwgd2UgbmVlZCB0byBnaXZlIGl0IGEgY2hhbmNlIHRvIGV4aXQgYXMgd2VsbC5cbiAgICAgICAgICAgICAgICAvLyBGb3IgdGhpcyByZWFzb24gd2UgbmVlZCB0byByZXBhcnNlIHRoZSBsYXN0IGNoYXJhY3RlciBhZ2Fpbi5cbiAgICAgICAgICAgICAgICBpZHgtLTtcbiAgICAgICAgICAgICAgICBjaCA9IGxhc3RDaDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgbW9kZSA9IHN0YWNrLnBvcCgpIHx8IHJ1bGU7XG4gICAgICAgICAgICAgICAgaWYgKG1vZGUgPT09IHBzZXVkb0dsb2JhbCkge1xuICAgICAgICAgICAgICAgICAgLy8gU2tpcCBvdmVyIHRoZSBgKWAgaW4gYDpnbG9iYWwoLi4uKWAuXG4gICAgICAgICAgICAgICAgICBmbHVzaChpZHggLSAxKTtcbiAgICAgICAgICAgICAgICAgIGxhc3RJZHgrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gd2hpbGUgKGlzU2VsZkNsb3NpbmdSdWxlKG1vZGUpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHN0YWNrLnB1c2gobW9kZSk7XG4gICAgICAgICAgICAgIGlmIChtb2RlID09PSBwc2V1ZG9HbG9iYWwgJiYgbmV3TW9kZSA9PT0gcnVsZSkge1xuICAgICAgICAgICAgICAgIGZsdXNoKGlkeCAtIDgpOyAvLyBgOmdsb2JhbChgLmxlbmd0aFxuICAgICAgICAgICAgICAgIGxhc3RJZHggPSBpZHg7IC8vIHNraXAgb3ZlciBcIjpnbG9iYWwoXCJcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChuZXdNb2RlID09PSBwc2V1ZG9FbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgLy8gV2UgYXJlIGVudGVyaW5nIHBzZXVkb0VsZW1lbnQgYDo6Zm9vYDsgaW5zZXJ0IHNjb3BpbmcgaW4gZnJvbnQgb2YgaXQuXG4gICAgICAgICAgICAgICAgaW5zZXJ0U2NvcGluZ1NlbGVjdG9yKGNoSWR4KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBtb2RlID0gbmV3TW9kZTtcbiAgICAgICAgICAgICAgY2ggPT0gU1BBQ0U7IC8vIFByZXRlbmQgbm90IGFuIGlkZW50aWZpZXIgc28gdGhhdCB3ZSBkb24ndCBmbHVzaCBhZ2FpbiBvbiBlbGVtZW50Q2xhc3NJZFNlbGVjdG9yXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhazsgLy8gZ2V0IG91dCBvZiB0aGUgZm9yIGxvb3AgYXMgd2UgZm91bmQgYSBtYXRjaFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBsYXN0Q2ggPSBjaDtcbiAgfVxuICBmbHVzaChpZHgpO1xuICByZXR1cm4gb3V0LmpvaW4oJycpO1xuXG4gIGZ1bmN0aW9uIGZsdXNoKGlkeDogbnVtYmVyKSB7XG4gICAgb3V0LnB1c2goY3NzLnN1YnN0cmluZyhsYXN0SWR4LCBpZHgpKTtcbiAgICBERUJVRyAmJiBjb25zb2xlLmxvZygnRkxVU0gnLCBvdXQuam9pbignJykpO1xuICAgIGxhc3RJZHggPSBpZHg7XG4gIH1cbiAgZnVuY3Rpb24gaW5zZXJ0U2NvcGluZ1NlbGVjdG9yKGlkeDogbnVtYmVyKSB7XG4gICAgaWYgKG1vZGUgPT09IHBzZXVkb0dsb2JhbCB8fCBzaG91bGROb3RJbnNlcnRTY29waW5nKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmbHVzaChpZHgpO1xuICAgIG91dC5wdXNoKCcuJywgQ29tcG9uZW50U3R5bGVzUHJlZml4Q29udGVudCwgc2NvcGVJZCk7XG4gICAgREVCVUcgJiYgY29uc29sZS5sb2coJ0lOU0VSVCcsIG91dC5qb2luKCcnKSk7XG4gIH1cbiAgZnVuY3Rpb24gbG9va0FoZWFkKGFyYzogU3RhdGVBcmMpOiBib29sZWFuIHtcbiAgICBsZXQgcHJlZml4ID0gMDsgLy8gSWdub3JlIHZlbmRvciBwcmVmaXhlcyBzdWNoIGFzIGAtd2Via2l0LWAuXG4gICAgaWYgKGNzcy5jaGFyQ29kZUF0KGlkeCkgPT09IERBU0gpIHtcbiAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgMTA7IGkrKykge1xuICAgICAgICAvLyBnaXZlIHVwIGFmdGVyIDEwIGNoYXJhY3RlcnNcbiAgICAgICAgaWYgKGNzcy5jaGFyQ29kZUF0KGlkeCArIGkpID09PSBEQVNIKSB7XG4gICAgICAgICAgcHJlZml4ID0gaSArIDE7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgd29yZHM6IGZvciAobGV0IGFyY0luZHggPSAzOyBhcmNJbmR4IDwgYXJjLmxlbmd0aDsgYXJjSW5keCsrKSB7XG4gICAgICBjb25zdCB0eHQgPSBhcmNbYXJjSW5keF0gYXMgc3RyaW5nO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0eHQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKChjc3MuY2hhckNvZGVBdChpZHggKyBpICsgcHJlZml4KSB8IExPV0VSQ0FTRSkgIT09IHR4dC5jaGFyQ29kZUF0KGkpKSB7XG4gICAgICAgICAgY29udGludWUgd29yZHM7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIHdlIGZvdW5kIGEgbWF0Y2g7XG4gICAgICBpZHggKz0gdHh0Lmxlbmd0aCArIHByZWZpeDtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBmdW5jdGlvbiBzaG91bGROb3RJbnNlcnRTY29waW5nKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBzdGFjay5pbmRleE9mKHBzZXVkb0dsb2JhbCkgIT09IC0xIHx8IHN0YWNrLmluZGV4T2YoYXRSdWxlU2VsZWN0b3IpICE9PSAtMTtcbiAgfVxufTtcblxuY29uc3QgaXNJZGVudCA9IChjaDogbnVtYmVyKTogYm9vbGVhbiA9PiB7XG4gIHJldHVybiAoXG4gICAgKGNoID49IF8wICYmIGNoIDw9IF85KSB8fFxuICAgIChjaCA+PSBBICYmIGNoIDw9IFopIHx8XG4gICAgKGNoID49IGEgJiYgY2ggPD0geikgfHxcbiAgICBjaCA+PSAweDgwIHx8XG4gICAgY2ggPT09IFVOREVSU0NPUkUgfHxcbiAgICBjaCA9PT0gREFTSFxuICApO1xufTtcblxuY29uc3QgaXNDaGFpbmVkU2VsZWN0b3IgPSAoY2g6IG51bWJlcik6IGJvb2xlYW4gPT4ge1xuICByZXR1cm4gY2ggPT09IENPTE9OIHx8IGNoID09PSBET1QgfHwgY2ggPT09IE9QRU5fQlJBQ0tFVCB8fCBjaCA9PT0gSEFTSCB8fCBpc0lkZW50KGNoKTtcbn07XG5cbmNvbnN0IGlzU2VsZkNsb3NpbmdSdWxlID0gKG1vZGU6IG51bWJlcik6IGJvb2xlYW4gPT4ge1xuICByZXR1cm4gKFxuICAgIG1vZGUgPT09IGF0UnVsZUJsb2NrIHx8IG1vZGUgPT09IGF0UnVsZVNlbGVjdG9yIHx8IG1vZGUgPT09IGF0UnVsZUluZXJ0IHx8IG1vZGUgPT09IHBzZXVkb0dsb2JhbFxuICApO1xufTtcblxuY29uc3QgaXNXaGl0ZVNwYWNlID0gKGNoOiBudW1iZXIpOiBib29sZWFuID0+IHtcbiAgcmV0dXJuIGNoID09PSBTUEFDRSB8fCBjaCA9PT0gVEFCIHx8IGNoID09PSBORVdMSU5FIHx8IGNoID09PSBDQVJSSUFHRV9SRVRVUk47XG59O1xuXG5jb25zdCBtb2RlVG9TdHJpbmcgPSAobW9kZTogbnVtYmVyKTogc3RyaW5nID0+IHtcbiAgcmV0dXJuIFtcbiAgICAncnVsZScsXG4gICAgJ2VsZW1lbnRDbGFzc0lkU2VsZWN0b3InLFxuICAgICdzdGFyU2VsZWN0b3InLFxuICAgICdwc2V1ZG9DbGFzc1dpdGhTZWxlY3RvcicsXG4gICAgJ3BzZXVkb0NsYXNzJyxcbiAgICAncHNldWRvR2xvYmFsJyxcbiAgICAncHNldWRvRWxlbWVudCcsXG4gICAgJ2F0dHJTZWxlY3RvcicsXG4gICAgJ2luZXJ0UGFyZW50aGVzaXMnLFxuICAgICdpbmVydEJsb2NrJyxcbiAgICAnYXRSdWxlU2VsZWN0b3InLFxuICAgICdhdFJ1bGVCbG9jaycsXG4gICAgJ2F0SW5lcnQnLFxuICAgICdib2R5JyxcbiAgICAnc3RyaW5nU2luZ2xlJyxcbiAgICAnc3RyaW5nRG91YmxlJyxcbiAgICAnY29tbWVudE11bHRpbGluZScsXG4gICAgJ0VYSVQnLFxuICAgICdFWElUX0lOU0VSVF9TQ09QRScsXG4gIF1bbW9kZV07XG59O1xuXG5jb25zdCBjaGFyVG9TdHJpbmcgPSAoY2g6IG51bWJlcik6IHN0cmluZyA9PiB7XG4gIHJldHVybiBbJ0FOWScsICdJREVOVCcsICdOT1RfSURFTlQnLCAnV0hJVEVTUEFDRSddW2NoXSB8fCBTdHJpbmcuZnJvbUNoYXJDb2RlKGNoKTtcbn07XG5cbmNvbnN0IHJ1bGUgPSAwOyAvLyB0b3AgbGV2ZWwgaW5pdGlhbCBzcGFjZS5cbmNvbnN0IGVsZW1lbnRDbGFzc0lkU2VsZWN0b3IgPSAxOyAvLyAuZWxlbWVudENsYXNzSWRTZWxlY3RvciB7fVxuY29uc3Qgc3RhclNlbGVjdG9yID0gMjsgLy8gKiB7fVxuY29uc3QgcHNldWRvQ2xhc3NXaXRoU2VsZWN0b3IgPSAzOyAvLyA6cHNldWRvQ2xhc3MoZWxlbWVudENsYXNzSWRTZWxlY3Rvcikge31cbmNvbnN0IHBzZXVkb0NsYXNzID0gNDsgLy8gOnBzZXVkb0NsYXNzIHt9XG5jb25zdCBwc2V1ZG9HbG9iYWwgPSA1OyAvLyA6Z2xvYmFsKGVsZW1lbnRDbGFzc0lkU2VsZWN0b3IpXG5jb25zdCBwc2V1ZG9FbGVtZW50ID0gNjsgLy8gOjpwc2V1ZG9FbGVtZW50IHt9XG5jb25zdCBhdHRyU2VsZWN0b3IgPSA3OyAvLyBbYXR0cl0ge31cbmNvbnN0IGluZXJ0UGFyZW50aGVzaXMgPSA4OyAvLyAoaWdub3JlZClcbmNvbnN0IGluZXJ0QmxvY2sgPSA5OyAvLyB7aWdub3JlZH1cbmNvbnN0IGF0UnVsZVNlbGVjdG9yID0gMTA7IC8vIEBrZXlmcmFtZSBlbGVtZW50Q2xhc3NJZFNlbGVjdG9yIHt9XG5jb25zdCBhdFJ1bGVCbG9jayA9IDExOyAvLyBAbWVkaWEge2VsZW1lbnRDbGFzc0lkU2VsZWN0b3Ige319XG5jb25zdCBhdFJ1bGVJbmVydCA9IDEyOyAvLyBAYXRSdWxlIHNvbWV0aGluZztcbmNvbnN0IGJvZHkgPSAxMzsgLy8gLmVsZW1lbnRDbGFzc0lkU2VsZWN0b3Ige2JvZHl9XG5jb25zdCBzdHJpbmdTaW5nbGUgPSAxNDsgLy8gJ3RleHQnXG5jb25zdCBzdHJpbmdEb3VibGUgPSAxNTsgLy8gJ3RleHQnXG5jb25zdCBjb21tZW50TXVsdGlsaW5lID0gMTY7IC8vIC8qIC4uLiAqL1xuLy8gTk9UIFJFQUwgTU9ERVNcbmNvbnN0IEVYSVQgPSAxNzsgLy8gRXhpdCB0aGUgbW9kZVxuY29uc3QgRVhJVF9JTlNFUlRfU0NPUEUgPSAxODsgLy8gRXhpdCB0aGUgbW9kZSBJTlNFUlQgU0NPUEVcblxuY29uc3QgQU5ZID0gMDtcbmNvbnN0IElERU5UID0gMTtcbmNvbnN0IE5PVF9JREVOVCA9IDI7XG5jb25zdCBXSElURVNQQUNFID0gMztcbmNvbnN0IFRBQiA9IDk7IC8vIGBcXHRgLmNoYXJDb2RlQXQoMCk7XG5jb25zdCBORVdMSU5FID0gMTA7IC8vIGBcXG5gLmNoYXJDb2RlQXQoMCk7XG5jb25zdCBDQVJSSUFHRV9SRVRVUk4gPSAxMzsgLy8gYFxccmAuY2hhckNvZGVBdCgwKTtcbmNvbnN0IFNQQUNFID0gMzI7IC8vIGAgYC5jaGFyQ29kZUF0KDApO1xuY29uc3QgRE9VQkxFX1FVT1RFID0gMzQ7IC8vIGBcImAuY2hhckNvZGVBdCgwKTtcbmNvbnN0IEhBU0ggPSAzNTsgLy8gYCNgLmNoYXJDb2RlQXQoMCk7XG5jb25zdCBTSU5HTEVfUVVPVEUgPSAzOTsgLy8gYCdgLmNoYXJDb2RlQXQoMCk7XG5jb25zdCBPUEVOX1BBUkVOVEhFU0lTID0gNDA7IC8vIGAoYC5jaGFyQ29kZUF0KDApO1xuY29uc3QgQ0xPU0VfUEFSRU5USEVTSVMgPSA0MTsgLy8gYClgLmNoYXJDb2RlQXQoMCk7XG5jb25zdCBTVEFSID0gNDI7IC8vIGAqYC5jaGFyQ29kZUF0KDApO1xuLy8gY29uc3QgQ09NTUEgPSA0NDsgLy8gYCxgLmNoYXJDb2RlQXQoMCk7XG5jb25zdCBEQVNIID0gNDU7IC8vIGAtYC5jaGFyQ29kZUF0KDApO1xuY29uc3QgRE9UID0gNDY7IC8vIGAuYC5jaGFyQ29kZUF0KDApO1xuY29uc3QgRk9SV0FSRF9TTEFTSCA9IDQ3OyAvLyBgL2AuY2hhckNvZGVBdCgwKTtcbmNvbnN0IF8wID0gNDg7IC8vIGAwYC5jaGFyQ29kZUF0KDApO1xuY29uc3QgXzkgPSA1NzsgLy8gYDlgLmNoYXJDb2RlQXQoMCk7XG5jb25zdCBDT0xPTiA9IDU4OyAvLyBgOmAuY2hhckNvZGVBdCgwKTtcbmNvbnN0IFNFTUlDT0xPTiA9IDU5OyAvLyBgO2AuY2hhckNvZGVBdCgwKTtcbi8vIGNvbnN0IExFU1NfVEhBTiA9IDYwOyAvLyBgPGAuY2hhckNvZGVBdCgwKTtcbmNvbnN0IEFUID0gNjQ7IC8vIGBAYC5jaGFyQ29kZUF0KDApO1xuY29uc3QgQSA9IDY1OyAvLyBgQWAuY2hhckNvZGVBdCgwKTtcbmNvbnN0IFogPSA5MDsgLy8gYFpgLmNoYXJDb2RlQXQoMCk7XG5jb25zdCBPUEVOX0JSQUNLRVQgPSA5MTsgLy8gYFtgLmNoYXJDb2RlQXQoMCk7XG5jb25zdCBDTE9TRV9CUkFDS0VUID0gOTM7IC8vIGBdYC5jaGFyQ29kZUF0KDApO1xuY29uc3QgQkFDS1NMQVNIID0gOTI7IC8vIGBcXFxcYC5jaGFyQ29kZUF0KDApO1xuY29uc3QgVU5ERVJTQ09SRSA9IDk1OyAvLyBgX2AuY2hhckNvZGVBdCgwKTtcbmNvbnN0IExPV0VSQ0FTRSA9IDB4MjA7IC8vIGBhYC5jaGFyQ29kZUF0KDApO1xuY29uc3QgYSA9IDk3OyAvLyBgYWAuY2hhckNvZGVBdCgwKTtcbi8vIGNvbnN0IGQgPSAxMDA7IC8vIGBkYC5jaGFyQ29kZUF0KDApO1xuLy8gY29uc3QgZyA9IDEwMzsgLy8gJ2cnLmNoYXJDb2RlQXQoMCk7XG4vLyBjb25zdCBoID0gMTA0OyAvLyBgaGAuY2hhckNvZGVBdCgwKTtcbi8vIGNvbnN0IGkgPSAxMDU7IC8vIGBpYC5jaGFyQ29kZUF0KDApO1xuLy8gY29uc3QgbCA9IDEwODsgLy8gYGxgLmNoYXJDb2RlQXQoMCk7XG4vLyBjb25zdCB0ID0gMTE2OyAvLyBgdGAuY2hhckNvZGVBdCgwKTtcbmNvbnN0IHogPSAxMjI7IC8vIGB6YC5jaGFyQ29kZUF0KDApO1xuY29uc3QgT1BFTl9CUkFDRSA9IDEyMzsgLy8gYHtgLmNoYXJDb2RlQXQoMCk7XG5jb25zdCBDTE9TRV9CUkFDRSA9IDEyNTsgLy8gYH1gLmNoYXJDb2RlQXQoMCk7XG5cbnR5cGUgU3RhdGVBcmMgPSBbXG4gIC8vLyBJZiB0aGUgbGFzdCBjaGFyYWN0ZXIgaXMgdGhpczpcbiAgbnVtYmVyLFxuICAvLy8gSWYgdGhlIGN1cnJlbnQgY2hhcmFjdGVyIGlzIHRoaXM6XG4gIG51bWJlcixcbiAgLy8vIFRoZW4gdHJhbnNpdGlvbiB0byB0aGlzIHN0YXRlOlxuICBudW1iZXIsXG4gIC8vLyBPcHRpb25hbCBsb29rIGFoZWFkIHN0cmluZ3NcbiAgLi4uc3RyaW5nW10sXG5dO1xuXG5jb25zdCBTVFJJTkdTX0NPTU1FTlRTOiBTdGF0ZUFyY1tdID0gLypfX1BVUkVfXyovICgoKSA9PiBbXG4gIFtBTlksIFNJTkdMRV9RVU9URSwgc3RyaW5nU2luZ2xlXSxcbiAgW0FOWSwgRE9VQkxFX1FVT1RFLCBzdHJpbmdEb3VibGVdLFxuICBbQU5ZLCBGT1JXQVJEX1NMQVNILCBjb21tZW50TXVsdGlsaW5lLCAnKiddLFxuXSkoKTtcblxuY29uc3QgU1RBVEVfTUFDSElORTogU3RhdGVBcmNbXVtdID0gLypfX1BVUkVfXyovICgoKSA9PiBbXG4gIFtcbiAgICAvLy8gcnVsZVxuICAgIFtBTlksIFNUQVIsIHN0YXJTZWxlY3Rvcl0sXG4gICAgW0FOWSwgT1BFTl9CUkFDS0VULCBhdHRyU2VsZWN0b3JdLFxuICAgIFtBTlksIENPTE9OLCBwc2V1ZG9FbGVtZW50LCAnOicsICdiZWZvcmUnLCAnYWZ0ZXInLCAnZmlyc3QtbGV0dGVyJywgJ2ZpcnN0LWxpbmUnXSxcbiAgICBbQU5ZLCBDT0xPTiwgcHNldWRvR2xvYmFsLCAnZ2xvYmFsJ10sXG4gICAgW1xuICAgICAgQU5ZLFxuICAgICAgQ09MT04sXG4gICAgICBwc2V1ZG9DbGFzc1dpdGhTZWxlY3RvcixcbiAgICAgICdoYXMnLFxuICAgICAgJ2hvc3QtY29udGV4dCcsXG4gICAgICAnbm90JyxcbiAgICAgICd3aGVyZScsXG4gICAgICAnaXMnLFxuICAgICAgJ21hdGNoZXMnLFxuICAgICAgJ2FueScsXG4gICAgXSxcbiAgICBbQU5ZLCBDT0xPTiwgcHNldWRvQ2xhc3NdLFxuICAgIFtBTlksIElERU5ULCBlbGVtZW50Q2xhc3NJZFNlbGVjdG9yXSxcbiAgICBbQU5ZLCBET1QsIGVsZW1lbnRDbGFzc0lkU2VsZWN0b3JdLFxuICAgIFtBTlksIEhBU0gsIGVsZW1lbnRDbGFzc0lkU2VsZWN0b3JdLFxuICAgIFtBTlksIEFULCBhdFJ1bGVTZWxlY3RvciwgJ2tleWZyYW1lJ10sXG4gICAgW0FOWSwgQVQsIGF0UnVsZUJsb2NrLCAnbWVkaWEnLCAnc3VwcG9ydHMnLCAnY29udGFpbmVyJ10sXG4gICAgW0FOWSwgQVQsIGF0UnVsZUluZXJ0XSxcbiAgICBbQU5ZLCBPUEVOX0JSQUNFLCBib2R5XSxcbiAgICBbRk9SV0FSRF9TTEFTSCwgU1RBUiwgY29tbWVudE11bHRpbGluZV0sXG4gICAgW0FOWSwgU0VNSUNPTE9OLCBFWElUXSxcbiAgICBbQU5ZLCBDTE9TRV9CUkFDRSwgRVhJVF0sXG4gICAgW0FOWSwgQ0xPU0VfUEFSRU5USEVTSVMsIEVYSVRdLFxuICAgIC4uLlNUUklOR1NfQ09NTUVOVFMsXG4gIF0sXG4gIFtcbiAgICAvLy8gZWxlbWVudENsYXNzSWRTZWxlY3RvclxuICAgIFtBTlksIE5PVF9JREVOVCwgRVhJVF9JTlNFUlRfU0NPUEVdLFxuICBdLFxuICBbXG4gICAgLy8vIHN0YXJTZWxlY3RvclxuICAgIFtBTlksIE5PVF9JREVOVCwgRVhJVF9JTlNFUlRfU0NPUEVdLFxuICBdLFxuICBbXG4gICAgLy8vIHBzZXVkb0NsYXNzV2l0aFNlbGVjdG9yXG4gICAgW0FOWSwgT1BFTl9QQVJFTlRIRVNJUywgcnVsZV0sXG4gICAgW0FOWSwgTk9UX0lERU5ULCBFWElUX0lOU0VSVF9TQ09QRV0sXG4gIF0sXG4gIFtcbiAgICAvLy8gcHNldWRvQ2xhc3NcbiAgICBbQU5ZLCBPUEVOX1BBUkVOVEhFU0lTLCBpbmVydFBhcmVudGhlc2lzXSxcbiAgICBbQU5ZLCBOT1RfSURFTlQsIEVYSVRfSU5TRVJUX1NDT1BFXSxcbiAgXSxcbiAgW1xuICAgIC8vLyBwc2V1ZG9HbG9iYWxcbiAgICBbQU5ZLCBPUEVOX1BBUkVOVEhFU0lTLCBydWxlXSxcbiAgICBbQU5ZLCBOT1RfSURFTlQsIEVYSVRdLFxuICBdLFxuICBbXG4gICAgLy8vIHBzZXVkb0VsZW1lbnRcbiAgICBbQU5ZLCBOT1RfSURFTlQsIEVYSVRdLFxuICBdLFxuICBbXG4gICAgLy8vIGF0dHJTZWxlY3RvclxuICAgIFtBTlksIENMT1NFX0JSQUNLRVQsIEVYSVRfSU5TRVJUX1NDT1BFXSxcbiAgICBbQU5ZLCBTSU5HTEVfUVVPVEUsIHN0cmluZ1NpbmdsZV0sXG4gICAgW0FOWSwgRE9VQkxFX1FVT1RFLCBzdHJpbmdEb3VibGVdLFxuICBdLFxuICBbXG4gICAgLy8vIGluZXJ0UGFyZW50aGVzaXNcbiAgICBbQU5ZLCBDTE9TRV9QQVJFTlRIRVNJUywgRVhJVF0sXG4gICAgLi4uU1RSSU5HU19DT01NRU5UUyxcbiAgXSxcbiAgW1xuICAgIC8vLyBpbmVydEJsb2NrXG4gICAgW0FOWSwgQ0xPU0VfQlJBQ0UsIEVYSVRdLFxuICAgIC4uLlNUUklOR1NfQ09NTUVOVFMsXG4gIF0sXG4gIFtcbiAgICAvLy8gYXRSdWxlU2VsZWN0b3JcbiAgICBbQU5ZLCBDTE9TRV9CUkFDRSwgRVhJVF0sXG4gICAgW1dISVRFU1BBQ0UsIElERU5ULCBlbGVtZW50Q2xhc3NJZFNlbGVjdG9yXSxcbiAgICBbQU5ZLCBDT0xPTiwgcHNldWRvR2xvYmFsLCAnZ2xvYmFsJ10sXG4gICAgW0FOWSwgT1BFTl9CUkFDRSwgYm9keV0sXG4gICAgLi4uU1RSSU5HU19DT01NRU5UUyxcbiAgXSxcbiAgW1xuICAgIC8vLyBhdFJ1bGVCbG9ja1xuICAgIFtBTlksIE9QRU5fQlJBQ0UsIHJ1bGVdLFxuICAgIFtBTlksIFNFTUlDT0xPTiwgRVhJVF0sXG4gICAgLi4uU1RSSU5HU19DT01NRU5UUyxcbiAgXSxcbiAgW1xuICAgIC8vLyBhdFJ1bGVJbmVydFxuICAgIFtBTlksIFNFTUlDT0xPTiwgRVhJVF0sXG4gICAgW0FOWSwgT1BFTl9CUkFDRSwgaW5lcnRCbG9ja10sXG4gICAgLi4uU1RSSU5HU19DT01NRU5UUyxcbiAgXSxcbiAgW1xuICAgIC8vLyBib2R5XG4gICAgW0FOWSwgQ0xPU0VfQlJBQ0UsIEVYSVRdLFxuICAgIFtBTlksIE9QRU5fQlJBQ0UsIGJvZHldLFxuICAgIFtBTlksIE9QRU5fUEFSRU5USEVTSVMsIGluZXJ0UGFyZW50aGVzaXNdLFxuICAgIC4uLlNUUklOR1NfQ09NTUVOVFMsXG4gIF0sXG4gIFtcbiAgICAvLy8gc3RyaW5nU2luZ2xlXG4gICAgW0FOWSwgU0lOR0xFX1FVT1RFLCBFWElUXSxcbiAgXSxcbiAgW1xuICAgIC8vLyBzdHJpbmdEb3VibGVcbiAgICBbQU5ZLCBET1VCTEVfUVVPVEUsIEVYSVRdLFxuICBdLFxuICBbXG4gICAgLy8vIGNvbW1lbnRNdWx0aWxpbmVcbiAgICBbU1RBUiwgRk9SV0FSRF9TTEFTSCwgRVhJVF0sXG4gIF0sXG5dKSgpO1xuIl19","import {} from '../shared/qrl/qrl.public';\nimport { implicit$FirstArg } from '../shared/qrl/implicit_dollar';\nimport { getScopedStyles } from '../shared/utils/scoped-stylesheet';\nimport { useSequentialScope } from './use-sequential-scope';\nimport { assertQrl } from '../shared/qrl/qrl-class';\nimport { isPromise } from '../shared/utils/promises';\nimport { ComponentStylesPrefixContent } from '../shared/utils/markers';\nimport { styleKey } from '../shared/utils/styles';\n// <docs markdown=\"../readme.md#useStyles\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useStyles instead)\n/**\n * A lazy-loadable reference to a component's styles.\n *\n * Component styles allow Qwik to lazy load the style information for the component only when\n * needed. (And avoid double loading it in case of SSR hydration.)\n *\n * ```tsx\n * import styles from './code-block.css?inline';\n *\n * export const CmpStyles = component$(() => {\n *   useStyles$(styles);\n *\n *   return <div>Some text</div>;\n * });\n * ```\n *\n * @public\n * @see `useStylesScoped`\n */\n// </docs>\nexport const useStylesQrl = (styles) => {\n    return {\n        styleId: _useStyles(styles, (str) => str, false),\n    };\n};\n// <docs markdown=\"../readme.md#useStyles\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useStyles instead)\n/**\n * A lazy-loadable reference to a component's styles.\n *\n * Component styles allow Qwik to lazy load the style information for the component only when\n * needed. (And avoid double loading it in case of SSR hydration.)\n *\n * ```tsx\n * import styles from './code-block.css?inline';\n *\n * export const CmpStyles = component$(() => {\n *   useStyles$(styles);\n *\n *   return <div>Some text</div>;\n * });\n * ```\n *\n * @public\n * @see `useStylesScoped`\n */\n// </docs>\nexport const useStyles$ = /*#__PURE__*/ implicit$FirstArg(useStylesQrl);\n// <docs markdown=\"../readme.md#useStylesScoped\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useStylesScoped instead)\n/**\n * A lazy-loadable reference to a component's styles, that is scoped to the component.\n *\n * Component styles allow Qwik to lazy load the style information for the component only when\n * needed. (And avoid double loading it in case of SSR hydration.)\n *\n * ```tsx\n * import scoped from './code-block.css?inline';\n *\n * export const CmpScopedStyles = component$(() => {\n *   useStylesScoped$(scoped);\n *\n *   return <div>Some text</div>;\n * });\n * ```\n *\n * @public\n * @see `useStyles`\n */\n// </docs>\nexport const useStylesScopedQrl = (styles) => {\n    return {\n        scopeId: ComponentStylesPrefixContent + _useStyles(styles, getScopedStyles, true),\n    };\n};\n// <docs markdown=\"../readme.md#useStylesScoped\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useStylesScoped instead)\n/**\n * A lazy-loadable reference to a component's styles, that is scoped to the component.\n *\n * Component styles allow Qwik to lazy load the style information for the component only when\n * needed. (And avoid double loading it in case of SSR hydration.)\n *\n * ```tsx\n * import scoped from './code-block.css?inline';\n *\n * export const CmpScopedStyles = component$(() => {\n *   useStylesScoped$(scoped);\n *\n *   return <div>Some text</div>;\n * });\n * ```\n *\n * @public\n * @see `useStyles`\n */\n// </docs>\nexport const useStylesScoped$ = /*#__PURE__*/ implicit$FirstArg(useStylesScopedQrl);\nconst _useStyles = (styleQrl, transform, scoped) => {\n    assertQrl(styleQrl);\n    const { val, set, iCtx, i } = useSequentialScope();\n    if (val) {\n        return val;\n    }\n    const styleId = styleKey(styleQrl, i);\n    const host = iCtx.$hostElement$;\n    set(styleId);\n    const value = styleQrl.$resolveLazy$(iCtx.$element$);\n    if (isPromise(value)) {\n        value.then((val) => iCtx.$container$.$appendStyle$(transform(val, styleId), styleId, host, scoped));\n        throw value;\n    }\n    else {\n        iCtx.$container$.$appendStyle$(transform(value, styleId), styleId, host, scoped);\n    }\n    return styleId;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLXN0eWxlcy5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS91c2UvdXNlLXN0eWxlcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQVksTUFBTSwwQkFBMEIsQ0FBQztBQUNwRCxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSwrQkFBK0IsQ0FBQztBQUNsRSxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sbUNBQW1DLENBQUM7QUFDcEUsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0sd0JBQXdCLENBQUM7QUFDNUQsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBQ3BELE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQztBQUNyRCxPQUFPLEVBQUUsNEJBQTRCLEVBQUUsTUFBTSx5QkFBeUIsQ0FBQztBQUN2RSxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sd0JBQXdCLENBQUM7QUFZbEQsMkNBQTJDO0FBQzNDLHlDQUF5QztBQUN6Qyx3Q0FBd0M7QUFDeEM7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQWtCRztBQUNILFVBQVU7QUFDVixNQUFNLENBQUMsTUFBTSxZQUFZLEdBQUcsQ0FBQyxNQUFtQixFQUFhLEVBQUU7SUFDN0QsT0FBTztRQUNMLE9BQU8sRUFBRSxVQUFVLENBQUMsTUFBTSxFQUFFLENBQUMsR0FBRyxFQUFFLEVBQUUsQ0FBQyxHQUFHLEVBQUUsS0FBSyxDQUFDO0tBQ2pELENBQUM7QUFDSixDQUFDLENBQUM7QUFFRiwyQ0FBMkM7QUFDM0MseUNBQXlDO0FBQ3pDLHdDQUF3QztBQUN4Qzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0dBa0JHO0FBQ0gsVUFBVTtBQUNWLE1BQU0sQ0FBQyxNQUFNLFVBQVUsR0FBRyxhQUFhLENBQUMsaUJBQWlCLENBQUMsWUFBWSxDQUFDLENBQUM7QUFFeEUsaURBQWlEO0FBQ2pELHlDQUF5QztBQUN6Qyw4Q0FBOEM7QUFDOUM7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQWtCRztBQUNILFVBQVU7QUFDVixNQUFNLENBQUMsTUFBTSxrQkFBa0IsR0FBRyxDQUFDLE1BQW1CLEVBQW1CLEVBQUU7SUFDekUsT0FBTztRQUNMLE9BQU8sRUFBRSw0QkFBNEIsR0FBRyxVQUFVLENBQUMsTUFBTSxFQUFFLGVBQWUsRUFBRSxJQUFJLENBQUM7S0FDbEYsQ0FBQztBQUNKLENBQUMsQ0FBQztBQUVGLGlEQUFpRDtBQUNqRCx5Q0FBeUM7QUFDekMsOENBQThDO0FBQzlDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7R0FrQkc7QUFDSCxVQUFVO0FBQ1YsTUFBTSxDQUFDLE1BQU0sZ0JBQWdCLEdBQUcsYUFBYSxDQUFDLGlCQUFpQixDQUFDLGtCQUFrQixDQUFDLENBQUM7QUFFcEYsTUFBTSxVQUFVLEdBQUcsQ0FDakIsUUFBcUIsRUFDckIsU0FBbUQsRUFDbkQsTUFBZSxFQUNQLEVBQUU7SUFDVixTQUFTLENBQUMsUUFBUSxDQUFDLENBQUM7SUFFcEIsTUFBTSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLENBQUMsRUFBRSxHQUFHLGtCQUFrQixFQUFVLENBQUM7SUFDM0QsSUFBSSxHQUFHLEVBQUUsQ0FBQztRQUNSLE9BQU8sR0FBRyxDQUFDO0lBQ2IsQ0FBQztJQUNELE1BQU0sT0FBTyxHQUFHLFFBQVEsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDdEMsTUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQztJQUNoQyxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUM7SUFFYixNQUFNLEtBQUssR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUNyRCxJQUFJLFNBQVMsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDO1FBQ3JCLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLEVBQUUsRUFBRSxDQUNqQixJQUFJLENBQUMsV0FBVyxDQUFDLGFBQWEsQ0FBQyxTQUFTLENBQUMsR0FBRyxFQUFFLE9BQU8sQ0FBQyxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxDQUFDLENBQy9FLENBQUM7UUFDRixNQUFNLEtBQUssQ0FBQztJQUNkLENBQUM7U0FBTSxDQUFDO1FBQ04sSUFBSSxDQUFDLFdBQVcsQ0FBQyxhQUFhLENBQUMsU0FBUyxDQUFDLEtBQUssRUFBRSxPQUFPLENBQUMsRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sQ0FBQyxDQUFDO0lBQ25GLENBQUM7SUFFRCxPQUFPLE9BQU8sQ0FBQztBQUNqQixDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB0eXBlIFFSTCB9IGZyb20gJy4uL3NoYXJlZC9xcmwvcXJsLnB1YmxpYyc7XG5pbXBvcnQgeyBpbXBsaWNpdCRGaXJzdEFyZyB9IGZyb20gJy4uL3NoYXJlZC9xcmwvaW1wbGljaXRfZG9sbGFyJztcbmltcG9ydCB7IGdldFNjb3BlZFN0eWxlcyB9IGZyb20gJy4uL3NoYXJlZC91dGlscy9zY29wZWQtc3R5bGVzaGVldCc7XG5pbXBvcnQgeyB1c2VTZXF1ZW50aWFsU2NvcGUgfSBmcm9tICcuL3VzZS1zZXF1ZW50aWFsLXNjb3BlJztcbmltcG9ydCB7IGFzc2VydFFybCB9IGZyb20gJy4uL3NoYXJlZC9xcmwvcXJsLWNsYXNzJztcbmltcG9ydCB7IGlzUHJvbWlzZSB9IGZyb20gJy4uL3NoYXJlZC91dGlscy9wcm9taXNlcyc7XG5pbXBvcnQgeyBDb21wb25lbnRTdHlsZXNQcmVmaXhDb250ZW50IH0gZnJvbSAnLi4vc2hhcmVkL3V0aWxzL21hcmtlcnMnO1xuaW1wb3J0IHsgc3R5bGVLZXkgfSBmcm9tICcuLi9zaGFyZWQvdXRpbHMvc3R5bGVzJztcblxuLyoqIEBwdWJsaWMgKi9cbmV4cG9ydCBpbnRlcmZhY2UgVXNlU3R5bGVzU2NvcGVkIHtcbiAgc2NvcGVJZDogc3RyaW5nO1xufVxuXG4vKiogQHB1YmxpYyAqL1xuZXhwb3J0IGludGVyZmFjZSBVc2VTdHlsZXMge1xuICBzdHlsZUlkOiBzdHJpbmc7XG59XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kI3VzZVN0eWxlc1wiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IC4uL3JlYWRtZS5tZCN1c2VTdHlsZXMgaW5zdGVhZClcbi8qKlxuICogQSBsYXp5LWxvYWRhYmxlIHJlZmVyZW5jZSB0byBhIGNvbXBvbmVudCdzIHN0eWxlcy5cbiAqXG4gKiBDb21wb25lbnQgc3R5bGVzIGFsbG93IFF3aWsgdG8gbGF6eSBsb2FkIHRoZSBzdHlsZSBpbmZvcm1hdGlvbiBmb3IgdGhlIGNvbXBvbmVudCBvbmx5IHdoZW5cbiAqIG5lZWRlZC4gKEFuZCBhdm9pZCBkb3VibGUgbG9hZGluZyBpdCBpbiBjYXNlIG9mIFNTUiBoeWRyYXRpb24uKVxuICpcbiAqIGBgYHRzeFxuICogaW1wb3J0IHN0eWxlcyBmcm9tICcuL2NvZGUtYmxvY2suY3NzP2lubGluZSc7XG4gKlxuICogZXhwb3J0IGNvbnN0IENtcFN0eWxlcyA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICogICB1c2VTdHlsZXMkKHN0eWxlcyk7XG4gKlxuICogICByZXR1cm4gPGRpdj5Tb21lIHRleHQ8L2Rpdj47XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBwdWJsaWNcbiAqIEBzZWUgYHVzZVN0eWxlc1Njb3BlZGBcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGNvbnN0IHVzZVN0eWxlc1FybCA9IChzdHlsZXM6IFFSTDxzdHJpbmc+KTogVXNlU3R5bGVzID0+IHtcbiAgcmV0dXJuIHtcbiAgICBzdHlsZUlkOiBfdXNlU3R5bGVzKHN0eWxlcywgKHN0cikgPT4gc3RyLCBmYWxzZSksXG4gIH07XG59O1xuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4uL3JlYWRtZS5tZCN1c2VTdHlsZXNcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjdXNlU3R5bGVzIGluc3RlYWQpXG4vKipcbiAqIEEgbGF6eS1sb2FkYWJsZSByZWZlcmVuY2UgdG8gYSBjb21wb25lbnQncyBzdHlsZXMuXG4gKlxuICogQ29tcG9uZW50IHN0eWxlcyBhbGxvdyBRd2lrIHRvIGxhenkgbG9hZCB0aGUgc3R5bGUgaW5mb3JtYXRpb24gZm9yIHRoZSBjb21wb25lbnQgb25seSB3aGVuXG4gKiBuZWVkZWQuIChBbmQgYXZvaWQgZG91YmxlIGxvYWRpbmcgaXQgaW4gY2FzZSBvZiBTU1IgaHlkcmF0aW9uLilcbiAqXG4gKiBgYGB0c3hcbiAqIGltcG9ydCBzdHlsZXMgZnJvbSAnLi9jb2RlLWJsb2NrLmNzcz9pbmxpbmUnO1xuICpcbiAqIGV4cG9ydCBjb25zdCBDbXBTdHlsZXMgPSBjb21wb25lbnQkKCgpID0+IHtcbiAqICAgdXNlU3R5bGVzJChzdHlsZXMpO1xuICpcbiAqICAgcmV0dXJuIDxkaXY+U29tZSB0ZXh0PC9kaXY+O1xuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBAcHVibGljXG4gKiBAc2VlIGB1c2VTdHlsZXNTY29wZWRgXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBjb25zdCB1c2VTdHlsZXMkID0gLyojX19QVVJFX18qLyBpbXBsaWNpdCRGaXJzdEFyZyh1c2VTdHlsZXNRcmwpO1xuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4uL3JlYWRtZS5tZCN1c2VTdHlsZXNTY29wZWRcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjdXNlU3R5bGVzU2NvcGVkIGluc3RlYWQpXG4vKipcbiAqIEEgbGF6eS1sb2FkYWJsZSByZWZlcmVuY2UgdG8gYSBjb21wb25lbnQncyBzdHlsZXMsIHRoYXQgaXMgc2NvcGVkIHRvIHRoZSBjb21wb25lbnQuXG4gKlxuICogQ29tcG9uZW50IHN0eWxlcyBhbGxvdyBRd2lrIHRvIGxhenkgbG9hZCB0aGUgc3R5bGUgaW5mb3JtYXRpb24gZm9yIHRoZSBjb21wb25lbnQgb25seSB3aGVuXG4gKiBuZWVkZWQuIChBbmQgYXZvaWQgZG91YmxlIGxvYWRpbmcgaXQgaW4gY2FzZSBvZiBTU1IgaHlkcmF0aW9uLilcbiAqXG4gKiBgYGB0c3hcbiAqIGltcG9ydCBzY29wZWQgZnJvbSAnLi9jb2RlLWJsb2NrLmNzcz9pbmxpbmUnO1xuICpcbiAqIGV4cG9ydCBjb25zdCBDbXBTY29wZWRTdHlsZXMgPSBjb21wb25lbnQkKCgpID0+IHtcbiAqICAgdXNlU3R5bGVzU2NvcGVkJChzY29wZWQpO1xuICpcbiAqICAgcmV0dXJuIDxkaXY+U29tZSB0ZXh0PC9kaXY+O1xuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBAcHVibGljXG4gKiBAc2VlIGB1c2VTdHlsZXNgXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBjb25zdCB1c2VTdHlsZXNTY29wZWRRcmwgPSAoc3R5bGVzOiBRUkw8c3RyaW5nPik6IFVzZVN0eWxlc1Njb3BlZCA9PiB7XG4gIHJldHVybiB7XG4gICAgc2NvcGVJZDogQ29tcG9uZW50U3R5bGVzUHJlZml4Q29udGVudCArIF91c2VTdHlsZXMoc3R5bGVzLCBnZXRTY29wZWRTdHlsZXMsIHRydWUpLFxuICB9O1xufTtcblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi9yZWFkbWUubWQjdXNlU3R5bGVzU2NvcGVkXCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi4vcmVhZG1lLm1kI3VzZVN0eWxlc1Njb3BlZCBpbnN0ZWFkKVxuLyoqXG4gKiBBIGxhenktbG9hZGFibGUgcmVmZXJlbmNlIHRvIGEgY29tcG9uZW50J3Mgc3R5bGVzLCB0aGF0IGlzIHNjb3BlZCB0byB0aGUgY29tcG9uZW50LlxuICpcbiAqIENvbXBvbmVudCBzdHlsZXMgYWxsb3cgUXdpayB0byBsYXp5IGxvYWQgdGhlIHN0eWxlIGluZm9ybWF0aW9uIGZvciB0aGUgY29tcG9uZW50IG9ubHkgd2hlblxuICogbmVlZGVkLiAoQW5kIGF2b2lkIGRvdWJsZSBsb2FkaW5nIGl0IGluIGNhc2Ugb2YgU1NSIGh5ZHJhdGlvbi4pXG4gKlxuICogYGBgdHN4XG4gKiBpbXBvcnQgc2NvcGVkIGZyb20gJy4vY29kZS1ibG9jay5jc3M/aW5saW5lJztcbiAqXG4gKiBleHBvcnQgY29uc3QgQ21wU2NvcGVkU3R5bGVzID0gY29tcG9uZW50JCgoKSA9PiB7XG4gKiAgIHVzZVN0eWxlc1Njb3BlZCQoc2NvcGVkKTtcbiAqXG4gKiAgIHJldHVybiA8ZGl2PlNvbWUgdGV4dDwvZGl2PjtcbiAqIH0pO1xuICogYGBgXG4gKlxuICogQHB1YmxpY1xuICogQHNlZSBgdXNlU3R5bGVzYFxuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgY29uc3QgdXNlU3R5bGVzU2NvcGVkJCA9IC8qI19fUFVSRV9fKi8gaW1wbGljaXQkRmlyc3RBcmcodXNlU3R5bGVzU2NvcGVkUXJsKTtcblxuY29uc3QgX3VzZVN0eWxlcyA9IChcbiAgc3R5bGVRcmw6IFFSTDxzdHJpbmc+LFxuICB0cmFuc2Zvcm06IChzdHI6IHN0cmluZywgc3R5bGVJZDogc3RyaW5nKSA9PiBzdHJpbmcsXG4gIHNjb3BlZDogYm9vbGVhblxuKTogc3RyaW5nID0+IHtcbiAgYXNzZXJ0UXJsKHN0eWxlUXJsKTtcblxuICBjb25zdCB7IHZhbCwgc2V0LCBpQ3R4LCBpIH0gPSB1c2VTZXF1ZW50aWFsU2NvcGU8c3RyaW5nPigpO1xuICBpZiAodmFsKSB7XG4gICAgcmV0dXJuIHZhbDtcbiAgfVxuICBjb25zdCBzdHlsZUlkID0gc3R5bGVLZXkoc3R5bGVRcmwsIGkpO1xuICBjb25zdCBob3N0ID0gaUN0eC4kaG9zdEVsZW1lbnQkO1xuICBzZXQoc3R5bGVJZCk7XG5cbiAgY29uc3QgdmFsdWUgPSBzdHlsZVFybC4kcmVzb2x2ZUxhenkkKGlDdHguJGVsZW1lbnQkKTtcbiAgaWYgKGlzUHJvbWlzZSh2YWx1ZSkpIHtcbiAgICB2YWx1ZS50aGVuKCh2YWwpID0+XG4gICAgICBpQ3R4LiRjb250YWluZXIkLiRhcHBlbmRTdHlsZSQodHJhbnNmb3JtKHZhbCwgc3R5bGVJZCksIHN0eWxlSWQsIGhvc3QsIHNjb3BlZClcbiAgICApO1xuICAgIHRocm93IHZhbHVlO1xuICB9IGVsc2Uge1xuICAgIGlDdHguJGNvbnRhaW5lciQuJGFwcGVuZFN0eWxlJCh0cmFuc2Zvcm0odmFsdWUsIHN0eWxlSWQpLCBzdHlsZUlkLCBob3N0LCBzY29wZWQpO1xuICB9XG5cbiAgcmV0dXJuIHN0eWxlSWQ7XG59O1xuIl19","import { isQwikComponent } from '../shared/component.public';\nimport { isFunction } from '../shared/utils/types';\nimport { createSignal } from '../signal/signal.public';\nimport { invoke } from './use-core';\nimport { useSequentialScope } from './use-sequential-scope';\n/** @public */\nexport const useSignal = (initialState) => {\n    return useConstant(() => {\n        const value = isFunction(initialState) && !isQwikComponent(initialState)\n            ? invoke(undefined, initialState)\n            : initialState;\n        return createSignal(value);\n    });\n};\n/**\n * Stores a value which is retained for the lifetime of the component. Subsequent calls to\n * `useConstant` will always return the first value given.\n *\n * If the value is a function, the function is invoked once to calculate the actual value.\n *\n * @public\n */\nexport const useConstant = (value) => {\n    const { val, set } = useSequentialScope();\n    if (val != null) {\n        return val;\n    }\n    // Note: We are not using `invoke` here because we don't want to clear the context\n    value = isFunction(value) && !isQwikComponent(value) ? value() : value;\n    return set(value);\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLXNpZ25hbC5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS91c2UvdXNlLXNpZ25hbC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sNEJBQTRCLENBQUM7QUFDN0QsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLHVCQUF1QixDQUFDO0FBQ25ELE9BQU8sRUFBRSxZQUFZLEVBQWUsTUFBTSx5QkFBeUIsQ0FBQztBQUNwRSxPQUFPLEVBQUUsTUFBTSxFQUFFLE1BQU0sWUFBWSxDQUFDO0FBQ3BDLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLHdCQUF3QixDQUFDO0FBUTVELGNBQWM7QUFDZCxNQUFNLENBQUMsTUFBTSxTQUFTLEdBQWMsQ0FBUSxZQUFvQixFQUFpQixFQUFFO0lBQ2pGLE9BQU8sV0FBVyxDQUFDLEdBQUcsRUFBRTtRQUN0QixNQUFNLEtBQUssR0FDVCxVQUFVLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsWUFBWSxDQUFDO1lBQ3hELENBQUMsQ0FBQyxNQUFNLENBQUMsU0FBUyxFQUFFLFlBQW1CLENBQUM7WUFDeEMsQ0FBQyxDQUFDLFlBQVksQ0FBQztRQUNuQixPQUFPLFlBQVksQ0FBUSxLQUFLLENBQUMsQ0FBQztJQUNwQyxDQUFDLENBQUMsQ0FBQztBQUNMLENBQUMsQ0FBQztBQUVGOzs7Ozs7O0dBT0c7QUFDSCxNQUFNLENBQUMsTUFBTSxXQUFXLEdBQUcsQ0FBSSxLQUFvQixFQUFLLEVBQUU7SUFDeEQsTUFBTSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxrQkFBa0IsRUFBSyxDQUFDO0lBQzdDLElBQUksR0FBRyxJQUFJLElBQUksRUFBRSxDQUFDO1FBQ2hCLE9BQU8sR0FBRyxDQUFDO0lBQ2IsQ0FBQztJQUNELGtGQUFrRjtJQUNsRixLQUFLLEdBQUcsVUFBVSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDO0lBQ3ZFLE9BQU8sR0FBRyxDQUFDLEtBQVUsQ0FBQyxDQUFDO0FBQ3pCLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzUXdpa0NvbXBvbmVudCB9IGZyb20gJy4uL3NoYXJlZC9jb21wb25lbnQucHVibGljJztcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuLi9zaGFyZWQvdXRpbHMvdHlwZXMnO1xuaW1wb3J0IHsgY3JlYXRlU2lnbmFsLCB0eXBlIFNpZ25hbCB9IGZyb20gJy4uL3NpZ25hbC9zaWduYWwucHVibGljJztcbmltcG9ydCB7IGludm9rZSB9IGZyb20gJy4vdXNlLWNvcmUnO1xuaW1wb3J0IHsgdXNlU2VxdWVudGlhbFNjb3BlIH0gZnJvbSAnLi91c2Utc2VxdWVudGlhbC1zY29wZSc7XG5cbi8qKiBAcHVibGljICovXG5leHBvcnQgaW50ZXJmYWNlIFVzZVNpZ25hbCB7XG4gIDxUPigpOiBTaWduYWw8VCB8IHVuZGVmaW5lZD47XG4gIDxUPih2YWx1ZTogVCB8ICgoKSA9PiBUKSk6IFNpZ25hbDxUPjtcbn1cblxuLyoqIEBwdWJsaWMgKi9cbmV4cG9ydCBjb25zdCB1c2VTaWduYWw6IFVzZVNpZ25hbCA9IDxTVEFURT4oaW5pdGlhbFN0YXRlPzogU1RBVEUpOiBTaWduYWw8U1RBVEU+ID0+IHtcbiAgcmV0dXJuIHVzZUNvbnN0YW50KCgpID0+IHtcbiAgICBjb25zdCB2YWx1ZSA9XG4gICAgICBpc0Z1bmN0aW9uKGluaXRpYWxTdGF0ZSkgJiYgIWlzUXdpa0NvbXBvbmVudChpbml0aWFsU3RhdGUpXG4gICAgICAgID8gaW52b2tlKHVuZGVmaW5lZCwgaW5pdGlhbFN0YXRlIGFzIGFueSlcbiAgICAgICAgOiBpbml0aWFsU3RhdGU7XG4gICAgcmV0dXJuIGNyZWF0ZVNpZ25hbDxTVEFURT4odmFsdWUpO1xuICB9KTtcbn07XG5cbi8qKlxuICogU3RvcmVzIGEgdmFsdWUgd2hpY2ggaXMgcmV0YWluZWQgZm9yIHRoZSBsaWZldGltZSBvZiB0aGUgY29tcG9uZW50LiBTdWJzZXF1ZW50IGNhbGxzIHRvXG4gKiBgdXNlQ29uc3RhbnRgIHdpbGwgYWx3YXlzIHJldHVybiB0aGUgZmlyc3QgdmFsdWUgZ2l2ZW4uXG4gKlxuICogSWYgdGhlIHZhbHVlIGlzIGEgZnVuY3Rpb24sIHRoZSBmdW5jdGlvbiBpcyBpbnZva2VkIG9uY2UgdG8gY2FsY3VsYXRlIHRoZSBhY3R1YWwgdmFsdWUuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgdXNlQ29uc3RhbnQgPSA8VD4odmFsdWU6ICgoKSA9PiBUKSB8IFQpOiBUID0+IHtcbiAgY29uc3QgeyB2YWwsIHNldCB9ID0gdXNlU2VxdWVudGlhbFNjb3BlPFQ+KCk7XG4gIGlmICh2YWwgIT0gbnVsbCkge1xuICAgIHJldHVybiB2YWw7XG4gIH1cbiAgLy8gTm90ZTogV2UgYXJlIG5vdCB1c2luZyBgaW52b2tlYCBoZXJlIGJlY2F1c2Ugd2UgZG9uJ3Qgd2FudCB0byBjbGVhciB0aGUgY29udGV4dFxuICB2YWx1ZSA9IGlzRnVuY3Rpb24odmFsdWUpICYmICFpc1F3aWtDb21wb25lbnQodmFsdWUpID8gdmFsdWUoKSA6IHZhbHVlO1xuICByZXR1cm4gc2V0KHZhbHVlIGFzIFQpO1xufTtcbiJdfQ==","import { assertQrl } from '../shared/qrl/qrl-class';\nimport { ComputedSignal, throwIfQRLNotResolved } from '../signal/signal';\nimport { useSequentialScope } from './use-sequential-scope';\n/** @public */\nexport const useComputedQrl = (qrl) => {\n    const { val, set } = useSequentialScope();\n    if (val) {\n        return val;\n    }\n    assertQrl(qrl);\n    const signal = new ComputedSignal(null, qrl);\n    set(signal);\n    // Note that we first save the signal\n    // and then we throw to load the qrl\n    // This is why we can't use useConstant, we need to keep using the same qrl object\n    throwIfQRLNotResolved(qrl);\n    return signal;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLWNvbXB1dGVkLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3VzZS91c2UtY29tcHV0ZWQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBRXBELE9BQU8sRUFBRSxjQUFjLEVBQUUscUJBQXFCLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUV6RSxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQUs1RCxjQUFjO0FBQ2QsTUFBTSxDQUFDLE1BQU0sY0FBYyxHQUFHLENBQzVCLEdBQXVCLEVBQzZCLEVBQUU7SUFDdEQsTUFBTSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxrQkFBa0IsRUFBYSxDQUFDO0lBQ3JELElBQUksR0FBRyxFQUFFLENBQUM7UUFDUixPQUFPLEdBQVUsQ0FBQztJQUNwQixDQUFDO0lBQ0QsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ2YsTUFBTSxNQUFNLEdBQUcsSUFBSSxjQUFjLENBQUMsSUFBSSxFQUFFLEdBQUcsQ0FBQyxDQUFDO0lBQzdDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUVaLHFDQUFxQztJQUNyQyxvQ0FBb0M7SUFDcEMsa0ZBQWtGO0lBQ2xGLHFCQUFxQixDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQzNCLE9BQU8sTUFBYSxDQUFDO0FBQ3ZCLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFzc2VydFFybCB9IGZyb20gJy4uL3NoYXJlZC9xcmwvcXJsLWNsYXNzJztcbmltcG9ydCB0eXBlIHsgUVJMIH0gZnJvbSAnLi4vc2hhcmVkL3FybC9xcmwucHVibGljJztcbmltcG9ydCB7IENvbXB1dGVkU2lnbmFsLCB0aHJvd0lmUVJMTm90UmVzb2x2ZWQgfSBmcm9tICcuLi9zaWduYWwvc2lnbmFsJztcbmltcG9ydCB0eXBlIHsgUmVhZG9ubHlTaWduYWwsIFNpZ25hbCB9IGZyb20gJy4uL3NpZ25hbC9zaWduYWwucHVibGljJztcbmltcG9ydCB7IHVzZVNlcXVlbnRpYWxTY29wZSB9IGZyb20gJy4vdXNlLXNlcXVlbnRpYWwtc2NvcGUnO1xuXG4vKiogQHB1YmxpYyAqL1xuZXhwb3J0IHR5cGUgQ29tcHV0ZWRGbjxUPiA9ICgpID0+IFQ7XG5cbi8qKiBAcHVibGljICovXG5leHBvcnQgY29uc3QgdXNlQ29tcHV0ZWRRcmwgPSA8VD4oXG4gIHFybDogUVJMPENvbXB1dGVkRm48VD4+XG4pOiBUIGV4dGVuZHMgUHJvbWlzZTxhbnk+ID8gbmV2ZXIgOiBSZWFkb25seVNpZ25hbDxUPiA9PiB7XG4gIGNvbnN0IHsgdmFsLCBzZXQgfSA9IHVzZVNlcXVlbnRpYWxTY29wZTxTaWduYWw8VD4+KCk7XG4gIGlmICh2YWwpIHtcbiAgICByZXR1cm4gdmFsIGFzIGFueTtcbiAgfVxuICBhc3NlcnRRcmwocXJsKTtcbiAgY29uc3Qgc2lnbmFsID0gbmV3IENvbXB1dGVkU2lnbmFsKG51bGwsIHFybCk7XG4gIHNldChzaWduYWwpO1xuXG4gIC8vIE5vdGUgdGhhdCB3ZSBmaXJzdCBzYXZlIHRoZSBzaWduYWxcbiAgLy8gYW5kIHRoZW4gd2UgdGhyb3cgdG8gbG9hZCB0aGUgcXJsXG4gIC8vIFRoaXMgaXMgd2h5IHdlIGNhbid0IHVzZSB1c2VDb25zdGFudCwgd2UgbmVlZCB0byBrZWVwIHVzaW5nIHRoZSBzYW1lIHFybCBvYmplY3RcbiAgdGhyb3dJZlFSTE5vdFJlc29sdmVkKHFybCk7XG4gIHJldHVybiBzaWduYWwgYXMgYW55O1xufTtcbiJdfQ==","import { isServerPlatform } from '../shared/platform/platform';\nimport { assertQrl } from '../shared/qrl/qrl-class';\nimport { ChoreType } from '../shared/scheduler';\nimport { useSequentialScope } from './use-sequential-scope';\nimport { Task, TaskFlags, useRunTask } from './use-task';\n// <docs markdown=\"../readme.md#useVisibleTask\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useVisibleTask instead)\n/**\n * ```tsx\n * const Timer = component$(() => {\n *   const store = useStore({\n *     count: 0,\n *   });\n *\n *   useVisibleTask$(() => {\n *     // Only runs in the client\n *     const timer = setInterval(() => {\n *       store.count++;\n *     }, 500);\n *     return () => {\n *       clearInterval(timer);\n *     };\n *   });\n *\n *   return <div>{store.count}</div>;\n * });\n * ```\n *\n * @public\n */\n// </docs>\nexport const useVisibleTaskQrl = (qrl, opts) => {\n    const { val, set, i, iCtx } = useSequentialScope();\n    const eagerness = opts?.strategy ?? 'intersection-observer';\n    if (val) {\n        if (isServerPlatform()) {\n            useRunTask(val, eagerness);\n        }\n        return;\n    }\n    assertQrl(qrl);\n    const task = new Task(TaskFlags.VISIBLE_TASK, i, iCtx.$hostElement$, qrl, undefined, null);\n    set(task);\n    useRunTask(task, eagerness);\n    if (!isServerPlatform()) {\n        qrl.$resolveLazy$(iCtx.$element$);\n        iCtx.$container$.$scheduler$(ChoreType.VISIBLE, task);\n    }\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLXZpc2libGUtdGFzay5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS91c2UvdXNlLXZpc2libGUtdGFzay50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSw2QkFBNkIsQ0FBQztBQUMvRCxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0seUJBQXlCLENBQUM7QUFFcEQsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBQ2hELE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLHdCQUF3QixDQUFDO0FBQzVELE9BQU8sRUFBRSxJQUFJLEVBQUUsU0FBUyxFQUFFLFVBQVUsRUFBZSxNQUFNLFlBQVksQ0FBQztBQW9CdEUsZ0RBQWdEO0FBQ2hELHlDQUF5QztBQUN6Qyw2Q0FBNkM7QUFDN0M7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7R0FzQkc7QUFDSCxVQUFVO0FBQ1YsTUFBTSxDQUFDLE1BQU0saUJBQWlCLEdBQUcsQ0FBQyxHQUFnQixFQUFFLElBQTJCLEVBQVEsRUFBRTtJQUN2RixNQUFNLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLEdBQUcsa0JBQWtCLEVBQWdCLENBQUM7SUFDakUsTUFBTSxTQUFTLEdBQUcsSUFBSSxFQUFFLFFBQVEsSUFBSSx1QkFBdUIsQ0FBQztJQUM1RCxJQUFJLEdBQUcsRUFBRSxDQUFDO1FBQ1IsSUFBSSxnQkFBZ0IsRUFBRSxFQUFFLENBQUM7WUFDdkIsVUFBVSxDQUFDLEdBQUcsRUFBRSxTQUFTLENBQUMsQ0FBQztRQUM3QixDQUFDO1FBQ0QsT0FBTztJQUNULENBQUM7SUFDRCxTQUFTLENBQUMsR0FBRyxDQUFDLENBQUM7SUFFZixNQUFNLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsWUFBWSxFQUFFLENBQUMsRUFBRSxJQUFJLENBQUMsYUFBYSxFQUFFLEdBQUcsRUFBRSxTQUFTLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDM0YsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ1YsVUFBVSxDQUFDLElBQUksRUFBRSxTQUFTLENBQUMsQ0FBQztJQUM1QixJQUFJLENBQUMsZ0JBQWdCLEVBQUUsRUFBRSxDQUFDO1FBQ3hCLEdBQUcsQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ2xDLElBQUksQ0FBQyxXQUFXLENBQUMsV0FBVyxDQUFDLFNBQVMsQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDeEQsQ0FBQztBQUNILENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzU2VydmVyUGxhdGZvcm0gfSBmcm9tICcuLi9zaGFyZWQvcGxhdGZvcm0vcGxhdGZvcm0nO1xuaW1wb3J0IHsgYXNzZXJ0UXJsIH0gZnJvbSAnLi4vc2hhcmVkL3FybC9xcmwtY2xhc3MnO1xuaW1wb3J0IHR5cGUgeyBRUkwgfSBmcm9tICcuLi9zaGFyZWQvcXJsL3FybC5wdWJsaWMnO1xuaW1wb3J0IHsgQ2hvcmVUeXBlIH0gZnJvbSAnLi4vc2hhcmVkL3NjaGVkdWxlcic7XG5pbXBvcnQgeyB1c2VTZXF1ZW50aWFsU2NvcGUgfSBmcm9tICcuL3VzZS1zZXF1ZW50aWFsLXNjb3BlJztcbmltcG9ydCB7IFRhc2ssIFRhc2tGbGFncywgdXNlUnVuVGFzaywgdHlwZSBUYXNrRm4gfSBmcm9tICcuL3VzZS10YXNrJztcblxuLyoqIEBwdWJsaWMgKi9cbmV4cG9ydCB0eXBlIFZpc2libGVUYXNrU3RyYXRlZ3kgPSAnaW50ZXJzZWN0aW9uLW9ic2VydmVyJyB8ICdkb2N1bWVudC1yZWFkeScgfCAnZG9jdW1lbnQtaWRsZSc7XG5cbi8qKiBAcHVibGljICovXG5leHBvcnQgaW50ZXJmYWNlIE9uVmlzaWJsZVRhc2tPcHRpb25zIHtcbiAgLyoqXG4gICAqIFRoZSBzdHJhdGVneSB0byB1c2UgdG8gZGV0ZXJtaW5lIHdoZW4gdGhlIFwiVmlzaWJsZVRhc2tcIiBzaG91bGQgZmlyc3QgZXhlY3V0ZS5cbiAgICpcbiAgICogLSBgaW50ZXJzZWN0aW9uLW9ic2VydmVyYDogdGhlIHRhc2sgd2lsbCBmaXJzdCBleGVjdXRlIHdoZW4gdGhlIGVsZW1lbnQgaXMgdmlzaWJsZSBpbiB0aGVcbiAgICogICB2aWV3cG9ydCwgdW5kZXIgdGhlIGhvb2QgaXQgdXNlcyB0aGUgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgQVBJLlxuICAgKiAtIGBkb2N1bWVudC1yZWFkeWA6IHRoZSB0YXNrIHdpbGwgZmlyc3QgZXhlY3V0ZSB3aGVuIHRoZSBkb2N1bWVudCBpcyByZWFkeSwgdW5kZXIgdGhlIGhvb2QgaXRcbiAgICogICB1c2VzIHRoZSBkb2N1bWVudCBgbG9hZGAgZXZlbnQuXG4gICAqIC0gYGRvY3VtZW50LWlkbGVgOiB0aGUgdGFzayB3aWxsIGZpcnN0IGV4ZWN1dGUgd2hlbiB0aGUgZG9jdW1lbnQgaXMgaWRsZSwgdW5kZXIgdGhlIGhvb2QgaXQgdXNlc1xuICAgKiAgIHRoZSByZXF1ZXN0SWRsZUNhbGxiYWNrIEFQSS5cbiAgICovXG4gIHN0cmF0ZWd5PzogVmlzaWJsZVRhc2tTdHJhdGVneTtcbn1cblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi9yZWFkbWUubWQjdXNlVmlzaWJsZVRhc2tcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjdXNlVmlzaWJsZVRhc2sgaW5zdGVhZClcbi8qKlxuICogYGBgdHN4XG4gKiBjb25zdCBUaW1lciA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICogICBjb25zdCBzdG9yZSA9IHVzZVN0b3JlKHtcbiAqICAgICBjb3VudDogMCxcbiAqICAgfSk7XG4gKlxuICogICB1c2VWaXNpYmxlVGFzayQoKCkgPT4ge1xuICogICAgIC8vIE9ubHkgcnVucyBpbiB0aGUgY2xpZW50XG4gKiAgICAgY29uc3QgdGltZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gKiAgICAgICBzdG9yZS5jb3VudCsrO1xuICogICAgIH0sIDUwMCk7XG4gKiAgICAgcmV0dXJuICgpID0+IHtcbiAqICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXIpO1xuICogICAgIH07XG4gKiAgIH0pO1xuICpcbiAqICAgcmV0dXJuIDxkaXY+e3N0b3JlLmNvdW50fTwvZGl2PjtcbiAqIH0pO1xuICogYGBgXG4gKlxuICogQHB1YmxpY1xuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgY29uc3QgdXNlVmlzaWJsZVRhc2tRcmwgPSAocXJsOiBRUkw8VGFza0ZuPiwgb3B0cz86IE9uVmlzaWJsZVRhc2tPcHRpb25zKTogdm9pZCA9PiB7XG4gIGNvbnN0IHsgdmFsLCBzZXQsIGksIGlDdHggfSA9IHVzZVNlcXVlbnRpYWxTY29wZTxUYXNrPFRhc2tGbj4+KCk7XG4gIGNvbnN0IGVhZ2VybmVzcyA9IG9wdHM/LnN0cmF0ZWd5ID8/ICdpbnRlcnNlY3Rpb24tb2JzZXJ2ZXInO1xuICBpZiAodmFsKSB7XG4gICAgaWYgKGlzU2VydmVyUGxhdGZvcm0oKSkge1xuICAgICAgdXNlUnVuVGFzayh2YWwsIGVhZ2VybmVzcyk7XG4gICAgfVxuICAgIHJldHVybjtcbiAgfVxuICBhc3NlcnRRcmwocXJsKTtcblxuICBjb25zdCB0YXNrID0gbmV3IFRhc2soVGFza0ZsYWdzLlZJU0lCTEVfVEFTSywgaSwgaUN0eC4kaG9zdEVsZW1lbnQkLCBxcmwsIHVuZGVmaW5lZCwgbnVsbCk7XG4gIHNldCh0YXNrKTtcbiAgdXNlUnVuVGFzayh0YXNrLCBlYWdlcm5lc3MpO1xuICBpZiAoIWlzU2VydmVyUGxhdGZvcm0oKSkge1xuICAgIHFybC4kcmVzb2x2ZUxhenkkKGlDdHguJGVsZW1lbnQkKTtcbiAgICBpQ3R4LiRjb250YWluZXIkLiRzY2hlZHVsZXIkKENob3JlVHlwZS5WSVNJQkxFLCB0YXNrKTtcbiAgfVxufTtcbiJdfQ==","import { dollar } from '../shared/qrl/qrl.public';\nimport { useResourceQrl, } from './use-resource';\n// <docs markdown=\"../readme.md#useResource\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useResource instead)\n/**\n * This method works like an async memoized function that runs whenever some tracked value changes\n * and returns some data.\n *\n * `useResource` however returns immediate a `ResourceReturn` object that contains the data and a\n * state that indicates if the data is available or not.\n *\n * The status can be one of the following:\n *\n * - 'pending' - the data is not yet available.\n * - 'resolved' - the data is available.\n * - 'rejected' - the data is not available due to an error or timeout.\n *\n * ### Example\n *\n * Example showing how `useResource` to perform a fetch to request the weather, whenever the input\n * city name changes.\n *\n * ```tsx\n * const Cmp = component$(() => {\n *   const cityS = useSignal('');\n *\n *   const weatherResource = useResource$(async ({ track, cleanup }) => {\n *     const cityName = track(cityS);\n *     const abortController = new AbortController();\n *     cleanup(() => abortController.abort('cleanup'));\n *     const res = await fetch(`http://weatherdata.com?city=${cityName}`, {\n *       signal: abortController.signal,\n *     });\n *     const data = await res.json();\n *     return data as { temp: number };\n *   });\n *\n *   return (\n *     <div>\n *       <input name=\"city\" bind:value={cityS} />\n *       <Resource\n *         value={weatherResource}\n *         onResolved={(weather) => {\n *           return <div>Temperature: {weather.temp}</div>;\n *         }}\n *       />\n *     </div>\n *   );\n * });\n * ```\n *\n * @public\n * @see Resource\n * @see ResourceReturn\n */\n// </docs>\nexport const useResource$ = (generatorFn, opts) => {\n    return useResourceQrl(dollar(generatorFn), opts);\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLXJlc291cmNlLWRvbGxhci5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS91c2UvdXNlLXJlc291cmNlLWRvbGxhci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsTUFBTSxFQUFFLE1BQU0sMEJBQTBCLENBQUM7QUFDbEQsT0FBTyxFQUNMLGNBQWMsR0FJZixNQUFNLGdCQUFnQixDQUFDO0FBRXhCLDZDQUE2QztBQUM3Qyx5Q0FBeUM7QUFDekMsMENBQTBDO0FBQzFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQWtERztBQUVILFVBQVU7QUFDVixNQUFNLENBQUMsTUFBTSxZQUFZLEdBQUcsQ0FDMUIsV0FBMEIsRUFDMUIsSUFBc0IsRUFDSCxFQUFFO0lBQ3JCLE9BQU8sY0FBYyxDQUFJLE1BQU0sQ0FBQyxXQUFXLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQztBQUN0RCxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkb2xsYXIgfSBmcm9tICcuLi9zaGFyZWQvcXJsL3FybC5wdWJsaWMnO1xuaW1wb3J0IHtcbiAgdXNlUmVzb3VyY2VRcmwsXG4gIHR5cGUgUmVzb3VyY2VGbixcbiAgdHlwZSBSZXNvdXJjZU9wdGlvbnMsXG4gIHR5cGUgUmVzb3VyY2VSZXR1cm4sXG59IGZyb20gJy4vdXNlLXJlc291cmNlJztcblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi9yZWFkbWUubWQjdXNlUmVzb3VyY2VcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjdXNlUmVzb3VyY2UgaW5zdGVhZClcbi8qKlxuICogVGhpcyBtZXRob2Qgd29ya3MgbGlrZSBhbiBhc3luYyBtZW1vaXplZCBmdW5jdGlvbiB0aGF0IHJ1bnMgd2hlbmV2ZXIgc29tZSB0cmFja2VkIHZhbHVlIGNoYW5nZXNcbiAqIGFuZCByZXR1cm5zIHNvbWUgZGF0YS5cbiAqXG4gKiBgdXNlUmVzb3VyY2VgIGhvd2V2ZXIgcmV0dXJucyBpbW1lZGlhdGUgYSBgUmVzb3VyY2VSZXR1cm5gIG9iamVjdCB0aGF0IGNvbnRhaW5zIHRoZSBkYXRhIGFuZCBhXG4gKiBzdGF0ZSB0aGF0IGluZGljYXRlcyBpZiB0aGUgZGF0YSBpcyBhdmFpbGFibGUgb3Igbm90LlxuICpcbiAqIFRoZSBzdGF0dXMgY2FuIGJlIG9uZSBvZiB0aGUgZm9sbG93aW5nOlxuICpcbiAqIC0gJ3BlbmRpbmcnIC0gdGhlIGRhdGEgaXMgbm90IHlldCBhdmFpbGFibGUuXG4gKiAtICdyZXNvbHZlZCcgLSB0aGUgZGF0YSBpcyBhdmFpbGFibGUuXG4gKiAtICdyZWplY3RlZCcgLSB0aGUgZGF0YSBpcyBub3QgYXZhaWxhYmxlIGR1ZSB0byBhbiBlcnJvciBvciB0aW1lb3V0LlxuICpcbiAqICMjIyBFeGFtcGxlXG4gKlxuICogRXhhbXBsZSBzaG93aW5nIGhvdyBgdXNlUmVzb3VyY2VgIHRvIHBlcmZvcm0gYSBmZXRjaCB0byByZXF1ZXN0IHRoZSB3ZWF0aGVyLCB3aGVuZXZlciB0aGUgaW5wdXRcbiAqIGNpdHkgbmFtZSBjaGFuZ2VzLlxuICpcbiAqIGBgYHRzeFxuICogY29uc3QgQ21wID0gY29tcG9uZW50JCgoKSA9PiB7XG4gKiAgIGNvbnN0IGNpdHlTID0gdXNlU2lnbmFsKCcnKTtcbiAqXG4gKiAgIGNvbnN0IHdlYXRoZXJSZXNvdXJjZSA9IHVzZVJlc291cmNlJChhc3luYyAoeyB0cmFjaywgY2xlYW51cCB9KSA9PiB7XG4gKiAgICAgY29uc3QgY2l0eU5hbWUgPSB0cmFjayhjaXR5Uyk7XG4gKiAgICAgY29uc3QgYWJvcnRDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICogICAgIGNsZWFudXAoKCkgPT4gYWJvcnRDb250cm9sbGVyLmFib3J0KCdjbGVhbnVwJykpO1xuICogICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGBodHRwOi8vd2VhdGhlcmRhdGEuY29tP2NpdHk9JHtjaXR5TmFtZX1gLCB7XG4gKiAgICAgICBzaWduYWw6IGFib3J0Q29udHJvbGxlci5zaWduYWwsXG4gKiAgICAgfSk7XG4gKiAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKCk7XG4gKiAgICAgcmV0dXJuIGRhdGEgYXMgeyB0ZW1wOiBudW1iZXIgfTtcbiAqICAgfSk7XG4gKlxuICogICByZXR1cm4gKFxuICogICAgIDxkaXY+XG4gKiAgICAgICA8aW5wdXQgbmFtZT1cImNpdHlcIiBiaW5kOnZhbHVlPXtjaXR5U30gLz5cbiAqICAgICAgIDxSZXNvdXJjZVxuICogICAgICAgICB2YWx1ZT17d2VhdGhlclJlc291cmNlfVxuICogICAgICAgICBvblJlc29sdmVkPXsod2VhdGhlcikgPT4ge1xuICogICAgICAgICAgIHJldHVybiA8ZGl2PlRlbXBlcmF0dXJlOiB7d2VhdGhlci50ZW1wfTwvZGl2PjtcbiAqICAgICAgICAgfX1cbiAqICAgICAgIC8+XG4gKiAgICAgPC9kaXY+XG4gKiAgICk7XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBwdWJsaWNcbiAqIEBzZWUgUmVzb3VyY2VcbiAqIEBzZWUgUmVzb3VyY2VSZXR1cm5cbiAqL1xuXG4vLyA8L2RvY3M+XG5leHBvcnQgY29uc3QgdXNlUmVzb3VyY2UkID0gPFQ+KFxuICBnZW5lcmF0b3JGbjogUmVzb3VyY2VGbjxUPixcbiAgb3B0cz86IFJlc291cmNlT3B0aW9uc1xuKTogUmVzb3VyY2VSZXR1cm48VD4gPT4ge1xuICByZXR1cm4gdXNlUmVzb3VyY2VRcmw8VD4oZG9sbGFyKGdlbmVyYXRvckZuKSwgb3B0cyk7XG59O1xuIl19","import { implicit$FirstArg } from '../shared/qrl/implicit_dollar';\nimport { useTaskQrl } from './use-task';\n// <docs markdown=\"../readme.md#useTask\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useTask instead)\n/**\n * Reruns the `taskFn` when the observed inputs change.\n *\n * Use `useTask` to observe changes on a set of inputs, and then re-execute the `taskFn` when those\n * inputs change.\n *\n * The `taskFn` only executes if the observed inputs change. To observe the inputs, use the `obs`\n * function to wrap property reads. This creates subscriptions that will trigger the `taskFn` to\n * rerun.\n *\n * @param task - Function which should be re-executed when changes to the inputs are detected\n * @public\n *\n * ### Example\n *\n * The `useTask` function is used to observe the `store.count` property. Any changes to the\n * `store.count` cause the `taskFn` to execute which in turn updates the `store.doubleCount` to\n * the double of `store.count`.\n *\n * ```tsx\n * const Cmp = component$(() => {\n *   const store = useStore({\n *     count: 0,\n *     doubleCount: 0,\n *     debounced: 0,\n *   });\n *\n *   // Double count task\n *   useTask$(({ track }) => {\n *     const count = track(() => store.count);\n *     store.doubleCount = 2 * count;\n *   });\n *\n *   // Debouncer task\n *   useTask$(({ track }) => {\n *     const doubleCount = track(() => store.doubleCount);\n *     const timer = setTimeout(() => {\n *       store.debounced = doubleCount;\n *     }, 2000);\n *     return () => {\n *       clearTimeout(timer);\n *     };\n *   });\n *   return (\n *     <div>\n *       <div>\n *         {store.count} / {store.doubleCount}\n *       </div>\n *       <div>{store.debounced}</div>\n *     </div>\n *   );\n * });\n * ```\n *\n * @public\n * @see `Tracker`\n */\n// </docs>\nexport const useTask$ = /*#__PURE__*/ implicit$FirstArg(useTaskQrl);\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLXRhc2stZG9sbGFyLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3VzZS91c2UtdGFzay1kb2xsYXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sK0JBQStCLENBQUM7QUFDbEUsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLFlBQVksQ0FBQztBQUV4Qyx5Q0FBeUM7QUFDekMseUNBQXlDO0FBQ3pDLHNDQUFzQztBQUN0Qzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7R0F3REc7QUFDSCxVQUFVO0FBQ1YsTUFBTSxDQUFDLE1BQU0sUUFBUSxHQUFHLGFBQWEsQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGltcGxpY2l0JEZpcnN0QXJnIH0gZnJvbSAnLi4vc2hhcmVkL3FybC9pbXBsaWNpdF9kb2xsYXInO1xuaW1wb3J0IHsgdXNlVGFza1FybCB9IGZyb20gJy4vdXNlLXRhc2snO1xuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4uL3JlYWRtZS5tZCN1c2VUYXNrXCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi4vcmVhZG1lLm1kI3VzZVRhc2sgaW5zdGVhZClcbi8qKlxuICogUmVydW5zIHRoZSBgdGFza0ZuYCB3aGVuIHRoZSBvYnNlcnZlZCBpbnB1dHMgY2hhbmdlLlxuICpcbiAqIFVzZSBgdXNlVGFza2AgdG8gb2JzZXJ2ZSBjaGFuZ2VzIG9uIGEgc2V0IG9mIGlucHV0cywgYW5kIHRoZW4gcmUtZXhlY3V0ZSB0aGUgYHRhc2tGbmAgd2hlbiB0aG9zZVxuICogaW5wdXRzIGNoYW5nZS5cbiAqXG4gKiBUaGUgYHRhc2tGbmAgb25seSBleGVjdXRlcyBpZiB0aGUgb2JzZXJ2ZWQgaW5wdXRzIGNoYW5nZS4gVG8gb2JzZXJ2ZSB0aGUgaW5wdXRzLCB1c2UgdGhlIGBvYnNgXG4gKiBmdW5jdGlvbiB0byB3cmFwIHByb3BlcnR5IHJlYWRzLiBUaGlzIGNyZWF0ZXMgc3Vic2NyaXB0aW9ucyB0aGF0IHdpbGwgdHJpZ2dlciB0aGUgYHRhc2tGbmAgdG9cbiAqIHJlcnVuLlxuICpcbiAqIEBwYXJhbSB0YXNrIC0gRnVuY3Rpb24gd2hpY2ggc2hvdWxkIGJlIHJlLWV4ZWN1dGVkIHdoZW4gY2hhbmdlcyB0byB0aGUgaW5wdXRzIGFyZSBkZXRlY3RlZFxuICogQHB1YmxpY1xuICpcbiAqICMjIyBFeGFtcGxlXG4gKlxuICogVGhlIGB1c2VUYXNrYCBmdW5jdGlvbiBpcyB1c2VkIHRvIG9ic2VydmUgdGhlIGBzdG9yZS5jb3VudGAgcHJvcGVydHkuIEFueSBjaGFuZ2VzIHRvIHRoZVxuICogYHN0b3JlLmNvdW50YCBjYXVzZSB0aGUgYHRhc2tGbmAgdG8gZXhlY3V0ZSB3aGljaCBpbiB0dXJuIHVwZGF0ZXMgdGhlIGBzdG9yZS5kb3VibGVDb3VudGAgdG9cbiAqIHRoZSBkb3VibGUgb2YgYHN0b3JlLmNvdW50YC5cbiAqXG4gKiBgYGB0c3hcbiAqIGNvbnN0IENtcCA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICogICBjb25zdCBzdG9yZSA9IHVzZVN0b3JlKHtcbiAqICAgICBjb3VudDogMCxcbiAqICAgICBkb3VibGVDb3VudDogMCxcbiAqICAgICBkZWJvdW5jZWQ6IDAsXG4gKiAgIH0pO1xuICpcbiAqICAgLy8gRG91YmxlIGNvdW50IHRhc2tcbiAqICAgdXNlVGFzayQoKHsgdHJhY2sgfSkgPT4ge1xuICogICAgIGNvbnN0IGNvdW50ID0gdHJhY2soKCkgPT4gc3RvcmUuY291bnQpO1xuICogICAgIHN0b3JlLmRvdWJsZUNvdW50ID0gMiAqIGNvdW50O1xuICogICB9KTtcbiAqXG4gKiAgIC8vIERlYm91bmNlciB0YXNrXG4gKiAgIHVzZVRhc2skKCh7IHRyYWNrIH0pID0+IHtcbiAqICAgICBjb25zdCBkb3VibGVDb3VudCA9IHRyYWNrKCgpID0+IHN0b3JlLmRvdWJsZUNvdW50KTtcbiAqICAgICBjb25zdCB0aW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICogICAgICAgc3RvcmUuZGVib3VuY2VkID0gZG91YmxlQ291bnQ7XG4gKiAgICAgfSwgMjAwMCk7XG4gKiAgICAgcmV0dXJuICgpID0+IHtcbiAqICAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XG4gKiAgICAgfTtcbiAqICAgfSk7XG4gKiAgIHJldHVybiAoXG4gKiAgICAgPGRpdj5cbiAqICAgICAgIDxkaXY+XG4gKiAgICAgICAgIHtzdG9yZS5jb3VudH0gLyB7c3RvcmUuZG91YmxlQ291bnR9XG4gKiAgICAgICA8L2Rpdj5cbiAqICAgICAgIDxkaXY+e3N0b3JlLmRlYm91bmNlZH08L2Rpdj5cbiAqICAgICA8L2Rpdj5cbiAqICAgKTtcbiAqIH0pO1xuICogYGBgXG4gKlxuICogQHB1YmxpY1xuICogQHNlZSBgVHJhY2tlcmBcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGNvbnN0IHVzZVRhc2skID0gLyojX19QVVJFX18qLyBpbXBsaWNpdCRGaXJzdEFyZyh1c2VUYXNrUXJsKTtcbiJdfQ==","import { implicit$FirstArg } from '../shared/qrl/implicit_dollar';\nimport { useVisibleTaskQrl } from './use-visible-task';\n// <docs markdown=\"../readme.md#useVisibleTask\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useVisibleTask instead)\n/**\n * ```tsx\n * const Timer = component$(() => {\n *   const store = useStore({\n *     count: 0,\n *   });\n *\n *   useVisibleTask$(() => {\n *     // Only runs in the client\n *     const timer = setInterval(() => {\n *       store.count++;\n *     }, 500);\n *     return () => {\n *       clearInterval(timer);\n *     };\n *   });\n *\n *   return <div>{store.count}</div>;\n * });\n * ```\n *\n * @public\n */\n// </docs>\nexport const useVisibleTask$ = /*#__PURE__*/ implicit$FirstArg(useVisibleTaskQrl);\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLXZpc2libGUtdGFzay1kb2xsYXIuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvdXNlL3VzZS12aXNpYmxlLXRhc2stZG9sbGFyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLCtCQUErQixDQUFDO0FBQ2xFLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBRXZELGdEQUFnRDtBQUNoRCx5Q0FBeUM7QUFDekMsNkNBQTZDO0FBQzdDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0dBc0JHO0FBRUgsVUFBVTtBQUNWLE1BQU0sQ0FBQyxNQUFNLGVBQWUsR0FBRyxhQUFhLENBQUMsaUJBQWlCLENBQUMsaUJBQWlCLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGltcGxpY2l0JEZpcnN0QXJnIH0gZnJvbSAnLi4vc2hhcmVkL3FybC9pbXBsaWNpdF9kb2xsYXInO1xuaW1wb3J0IHsgdXNlVmlzaWJsZVRhc2tRcmwgfSBmcm9tICcuL3VzZS12aXNpYmxlLXRhc2snO1xuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4uL3JlYWRtZS5tZCN1c2VWaXNpYmxlVGFza1wiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IC4uL3JlYWRtZS5tZCN1c2VWaXNpYmxlVGFzayBpbnN0ZWFkKVxuLyoqXG4gKiBgYGB0c3hcbiAqIGNvbnN0IFRpbWVyID0gY29tcG9uZW50JCgoKSA9PiB7XG4gKiAgIGNvbnN0IHN0b3JlID0gdXNlU3RvcmUoe1xuICogICAgIGNvdW50OiAwLFxuICogICB9KTtcbiAqXG4gKiAgIHVzZVZpc2libGVUYXNrJCgoKSA9PiB7XG4gKiAgICAgLy8gT25seSBydW5zIGluIHRoZSBjbGllbnRcbiAqICAgICBjb25zdCB0aW1lciA9IHNldEludGVydmFsKCgpID0+IHtcbiAqICAgICAgIHN0b3JlLmNvdW50Kys7XG4gKiAgICAgfSwgNTAwKTtcbiAqICAgICByZXR1cm4gKCkgPT4ge1xuICogICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcik7XG4gKiAgICAgfTtcbiAqICAgfSk7XG4gKlxuICogICByZXR1cm4gPGRpdj57c3RvcmUuY291bnR9PC9kaXY+O1xuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBAcHVibGljXG4gKi9cblxuLy8gPC9kb2NzPlxuZXhwb3J0IGNvbnN0IHVzZVZpc2libGVUYXNrJCA9IC8qI19fUFVSRV9fKi8gaW1wbGljaXQkRmlyc3RBcmcodXNlVmlzaWJsZVRhc2tRcmwpO1xuIl19","import { implicit$FirstArg } from '../shared/qrl/implicit_dollar';\nimport { useComputedQrl } from './use-computed';\n/**\n * Creates a computed signal which is calculated from the given function. A computed signal is a\n * signal which is calculated from other signals. When the signals change, the computed signal is\n * recalculated, and if the result changed, all tasks which are tracking the signal will be re-run\n * and all components that read the signal will be re-rendered.\n *\n * The function must be synchronous and must not have any side effects.\n *\n * @public\n */\nexport const useComputed$ = implicit$FirstArg(useComputedQrl);\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLWNvbXB1dGVkLWRvbGxhci5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS91c2UvdXNlLWNvbXB1dGVkLWRvbGxhci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSwrQkFBK0IsQ0FBQztBQUNsRSxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFFaEQ7Ozs7Ozs7OztHQVNHO0FBQ0gsTUFBTSxDQUFDLE1BQU0sWUFBWSxHQUFHLGlCQUFpQixDQUFDLGNBQWMsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaW1wbGljaXQkRmlyc3RBcmcgfSBmcm9tICcuLi9zaGFyZWQvcXJsL2ltcGxpY2l0X2RvbGxhcic7XG5pbXBvcnQgeyB1c2VDb21wdXRlZFFybCB9IGZyb20gJy4vdXNlLWNvbXB1dGVkJztcblxuLyoqXG4gKiBDcmVhdGVzIGEgY29tcHV0ZWQgc2lnbmFsIHdoaWNoIGlzIGNhbGN1bGF0ZWQgZnJvbSB0aGUgZ2l2ZW4gZnVuY3Rpb24uIEEgY29tcHV0ZWQgc2lnbmFsIGlzIGFcbiAqIHNpZ25hbCB3aGljaCBpcyBjYWxjdWxhdGVkIGZyb20gb3RoZXIgc2lnbmFscy4gV2hlbiB0aGUgc2lnbmFscyBjaGFuZ2UsIHRoZSBjb21wdXRlZCBzaWduYWwgaXNcbiAqIHJlY2FsY3VsYXRlZCwgYW5kIGlmIHRoZSByZXN1bHQgY2hhbmdlZCwgYWxsIHRhc2tzIHdoaWNoIGFyZSB0cmFja2luZyB0aGUgc2lnbmFsIHdpbGwgYmUgcmUtcnVuXG4gKiBhbmQgYWxsIGNvbXBvbmVudHMgdGhhdCByZWFkIHRoZSBzaWduYWwgd2lsbCBiZSByZS1yZW5kZXJlZC5cbiAqXG4gKiBUaGUgZnVuY3Rpb24gbXVzdCBiZSBzeW5jaHJvbm91cyBhbmQgbXVzdCBub3QgaGF2ZSBhbnkgc2lkZSBlZmZlY3RzLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IHVzZUNvbXB1dGVkJCA9IGltcGxpY2l0JEZpcnN0QXJnKHVzZUNvbXB1dGVkUXJsKTtcbiJdfQ==","import { qrl } from '../shared/qrl/qrl';\nimport { ERROR_CONTEXT } from '../shared/error/error-handling';\nimport { useContextProvider } from './use-context';\nimport { useOn } from './use-on';\nimport { useStore } from './use-store.public';\n/** @public */\nexport const useErrorBoundary = () => {\n    const store = useStore({\n        error: undefined,\n    });\n    useOn('error-boundary', qrl('/runtime', 'error', [store]));\n    useContextProvider(ERROR_CONTEXT, store);\n    return store;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLWVycm9yLWJvdW5kYXJ5LmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3VzZS91c2UtZXJyb3ItYm91bmRhcnkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLEdBQUcsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBQ3hDLE9BQU8sRUFBMkIsYUFBYSxFQUFFLE1BQU0sZ0NBQWdDLENBQUM7QUFDeEYsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ25ELE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxVQUFVLENBQUM7QUFDakMsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBRTlDLGNBQWM7QUFDZCxNQUFNLENBQUMsTUFBTSxnQkFBZ0IsR0FBRyxHQUFpQyxFQUFFO0lBQ2pFLE1BQU0sS0FBSyxHQUF1QixRQUFRLENBQUM7UUFDekMsS0FBSyxFQUFFLFNBQVM7S0FDakIsQ0FBQyxDQUFDO0lBQ0gsS0FBSyxDQUFDLGdCQUFnQixFQUFFLEdBQUcsQ0FBQyxVQUFVLEVBQUUsT0FBTyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzNELGtCQUFrQixDQUFDLGFBQWEsRUFBRSxLQUFLLENBQUMsQ0FBQztJQUV6QyxPQUFPLEtBQUssQ0FBQztBQUNmLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHFybCB9IGZyb20gJy4uL3NoYXJlZC9xcmwvcXJsJztcbmltcG9ydCB7IHR5cGUgRXJyb3JCb3VuZGFyeVN0b3JlLCBFUlJPUl9DT05URVhUIH0gZnJvbSAnLi4vc2hhcmVkL2Vycm9yL2Vycm9yLWhhbmRsaW5nJztcbmltcG9ydCB7IHVzZUNvbnRleHRQcm92aWRlciB9IGZyb20gJy4vdXNlLWNvbnRleHQnO1xuaW1wb3J0IHsgdXNlT24gfSBmcm9tICcuL3VzZS1vbic7XG5pbXBvcnQgeyB1c2VTdG9yZSB9IGZyb20gJy4vdXNlLXN0b3JlLnB1YmxpYyc7XG5cbi8qKiBAcHVibGljICovXG5leHBvcnQgY29uc3QgdXNlRXJyb3JCb3VuZGFyeSA9ICgpOiBSZWFkb25seTxFcnJvckJvdW5kYXJ5U3RvcmU+ID0+IHtcbiAgY29uc3Qgc3RvcmU6IEVycm9yQm91bmRhcnlTdG9yZSA9IHVzZVN0b3JlKHtcbiAgICBlcnJvcjogdW5kZWZpbmVkLFxuICB9KTtcbiAgdXNlT24oJ2Vycm9yLWJvdW5kYXJ5JywgcXJsKCcvcnVudGltZScsICdlcnJvcicsIFtzdG9yZV0pKTtcbiAgdXNlQ29udGV4dFByb3ZpZGVyKEVSUk9SX0NPTlRFWFQsIHN0b3JlKTtcblxuICByZXR1cm4gc3RvcmU7XG59O1xuIl19","import { isDev } from '@qwik.dev/core/build';\nimport { _jsxSorted } from '../../internal';\nimport { useServerData } from '../../use/use-env-data';\nimport { QBaseAttr, QManifestHashAttr } from '../utils/markers';\n/**\n * Install a service worker which will prefetch the bundles.\n *\n * There can only be one service worker per page. Because there can be many separate Qwik Containers\n * on the page each container needs to load its prefetch graph using `PrefetchGraph` component.\n *\n * @param opts - Options for the prefetch service worker.\n *\n *   - `base` - Base URL for the service worker. Default is `import.meta.env.BASE_URL`, which is defined\n *       by Vite's `config.base` and defaults to `/`.\n *   - `scope` - Base URL for when the service-worker will activate. Default is `/`\n *   - `path` - Path to the service worker. Default is `qwik-prefetch-service-worker.js` unless you pass\n *       a path that starts with a `/` then the base is ignored. Default is\n *       `qwik-prefetch-service-worker.js`\n *   - `verbose` - Verbose logging for the service worker installation. Default is `false`\n *   - `nonce` - Optional nonce value for security purposes, defaults to `undefined`.\n *\n * @alpha\n */\nexport const PrefetchServiceWorker = (opts) => {\n    const isTest = import.meta.env.TEST;\n    if (isDev && !isTest) {\n        const props = {\n            dangerouslySetInnerHTML: '<!-- PrefetchServiceWorker is disabled in dev mode. -->',\n        };\n        return _jsxSorted('script', null, props, null, 0, 'prefetch-service-worker');\n    }\n    const serverData = useServerData('containerAttributes', {});\n    // if an MFE app has a custom BASE_URL then this will be the correct value\n    // if you're not using MFE from another codebase then you want to override this value to your custom setup\n    const baseUrl = import.meta.env.BASE_URL || '/';\n    const resolvedOpts = {\n        base: serverData['q:base'],\n        manifestHash: serverData['q:manifest-hash'],\n        scope: '/',\n        verbose: false,\n        path: 'qwik-prefetch-service-worker.js',\n        ...opts,\n    };\n    if (opts?.path?.startsWith?.('/')) {\n        // allow different path and base\n        resolvedOpts.path = opts.path;\n    }\n    else {\n        // baseUrl: '/'\n        // path: 'qwik-prefetch-service-worker.js'\n        // the file 'qwik-prefetch-service-worker.js' is not located in /build/\n        resolvedOpts.path = baseUrl + resolvedOpts.path;\n    }\n    let code = PREFETCH_CODE.replace('URL', resolvedOpts.path).replace('SCOPE', resolvedOpts.scope);\n    if (!isDev) {\n        code = code.replaceAll(/\\s+/gm, '');\n    }\n    const props = {\n        dangerouslySetInnerHTML: [\n            '(' + code + ')(',\n            [\n                JSON.stringify(resolvedOpts.base),\n                JSON.stringify(resolvedOpts.manifestHash),\n                'navigator.serviceWorker',\n                'window.qwikPrefetchSW||(window.qwikPrefetchSW=[])',\n                resolvedOpts.verbose,\n            ].join(','),\n            ');',\n        ].join(''),\n        nonce: resolvedOpts.nonce,\n    };\n    return _jsxSorted('script', null, props, null, 0, 'prefetch-service-worker');\n};\nconst PREFETCH_CODE = /*#__PURE__*/ ((b, // base\nh, // manifest hash\nc, // Service worker container\nq, // Queue of messages to send to the service worker.\nv // Verbose mode\n) => {\n    c.register('URL', { scope: 'SCOPE' }).then((sw, onReady) => {\n        onReady = () => q.forEach((q.push = (v) => sw.active.postMessage(v)));\n        sw.installing\n            ? sw.installing.addEventListener('statechange', (e) => e.target.state == 'activated' && onReady())\n            : onReady();\n    });\n    v && q.push(['verbose']);\n    document.addEventListener('qprefetch', (e) => e.detail.bundles && q.push(['prefetch', b, ...e.detail.bundles]));\n}).toString();\n/**\n * Load the prefetch graph for the container.\n *\n * Each Qwik container needs to include its own prefetch graph.\n *\n * @param opts - Options for the loading prefetch graph.\n *\n *   - `base` - Base of the graph. For a default installation this will default to the q:base value\n *       `/build/`. But if more than one MFE is installed on the page, then each MFE needs to have\n *       its own base.\n *   - `manifestHash` - Hash of the manifest file to load. If not provided the hash will be extracted\n *       from the container attribute `q:manifest-hash` and assume the default build file\n *       `${base}/q-bundle-graph-${manifestHash}.json`.\n *   - `manifestURL` - URL of the manifest file to load if non-standard bundle graph location name.\n *\n * @alpha\n */\nexport const PrefetchGraph = (opts = {}) => {\n    const isTest = import.meta.env.TEST;\n    if (isDev && !isTest) {\n        const props = {\n            dangerouslySetInnerHTML: '<!-- PrefetchGraph is disabled in dev mode. -->',\n        };\n        return _jsxSorted('script', null, props, null, 0, 'prefetch-graph');\n    }\n    const serverData = useServerData('containerAttributes', {});\n    const resolvedOpts = {\n        // /build/q-bundle-graph-${manifestHash}.json is always within the q:base location /build/\n        base: serverData[QBaseAttr],\n        manifestHash: serverData[QManifestHashAttr],\n        scope: '/',\n        verbose: false,\n        path: 'qwik-prefetch-service-worker.js',\n        ...opts,\n    };\n    const args = JSON.stringify([\n        'graph-url',\n        resolvedOpts.base,\n        `q-bundle-graph-${resolvedOpts.manifestHash}.json`,\n    ]);\n    const code = `(window.qwikPrefetchSW||(window.qwikPrefetchSW=[])).push(${args})`;\n    const props = {\n        dangerouslySetInnerHTML: code,\n        nonce: opts.nonce,\n    };\n    return _jsxSorted('script', null, props, null, 0, 'prefetch-graph');\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJlZmV0Y2guanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvc2hhcmVkL3ByZWZldGNoLXNlcnZpY2Utd29ya2VyL3ByZWZldGNoLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUU3QyxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDNUMsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLHdCQUF3QixDQUFDO0FBQ3ZELE9BQU8sRUFBRSxTQUFTLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUVoRTs7Ozs7Ozs7Ozs7Ozs7Ozs7O0dBa0JHO0FBQ0gsTUFBTSxDQUFDLE1BQU0scUJBQXFCLEdBQUcsQ0FBQyxJQU9yQyxFQUFxQixFQUFFO0lBQ3RCLE1BQU0sTUFBTSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQztJQUNwQyxJQUFJLEtBQUssSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO1FBQ3JCLE1BQU0sS0FBSyxHQUFHO1lBQ1osdUJBQXVCLEVBQUUseURBQXlEO1NBQ25GLENBQUM7UUFDRixPQUFPLFVBQVUsQ0FBQyxRQUFRLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsQ0FBQyxFQUFFLHlCQUF5QixDQUFDLENBQUM7SUFDL0UsQ0FBQztJQUVELE1BQU0sVUFBVSxHQUFHLGFBQWEsQ0FBeUIscUJBQXFCLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDcEYsMEVBQTBFO0lBQzFFLDBHQUEwRztJQUMxRyxNQUFNLE9BQU8sR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxRQUFRLElBQUksR0FBRyxDQUFDO0lBQ2hELE1BQU0sWUFBWSxHQUFHO1FBQ25CLElBQUksRUFBRSxVQUFVLENBQUMsUUFBUSxDQUFDO1FBQzFCLFlBQVks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RixNQUFNLEtBQUssR0FBRztRQUNaLHVCQUF1QixFQUFFLElBQUk7UUFDN0IsS0FBSyxFQUFFLElBQUksQ0FBQyxLQUFLO0tBQ2xCLENBQUM7SUFDRixPQUFPLFVBQVUsQ0FBQyxRQUFRLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsQ0FBQyxFQUFFLGdCQUFnQixDQUFDLENBQUM7QUFDdEUsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNEZXYgfSBmcm9tICdAcXdpay5kZXYvY29yZS9idWlsZCc7XG5pbXBvcnQgdHlwZSB7IEpTWE5vZGUgfSBmcm9tICdAcXdpay5kZXYvY29yZSc7XG5pbXBvcnQgeyBfanN4U29ydGVkIH0gZnJvbSAnLi4vLi4vaW50ZXJuYWwnO1xuaW1wb3J0IHsgdXNlU2VydmVyRGF0YSB9IGZyb20gJy4uLy4uL3VzZS91c2UtZW52LWRhdGEnO1xuaW1wb3J0IHsgUUJhc2VBdHRyLCBRTWFuaWZlc3RIYXNoQXR0ciB9IGZyb20gJy4uL3V0aWxzL21hcmtlcnMnO1xuXG4vKipcbiAqIEluc3RhbGwgYSBzZXJ2aWNlIHdvcmtlciB3aGljaCB3aWxsIHByZWZldGNoIHRoZSBidW5kbGVzLlxuICpcbiAqIFRoZXJlIGNhbiBvbmx5IGJlIG9uZSBzZXJ2aWNlIHdvcmtlciBwZXIgcGFnZS4gQmVjYXVzZSB0aGVyZSBjYW4gYmUgbWFueSBzZXBhcmF0ZSBRd2lrIENvbnRhaW5lcnNcbiAqIG9uIHRoZSBwYWdlIGVhY2ggY29udGFpbmVyIG5lZWRzIHRvIGxvYWQgaXRzIHByZWZldGNoIGdyYXBoIHVzaW5nIGBQcmVmZXRjaEdyYXBoYCBjb21wb25lbnQuXG4gKlxuICogQHBhcmFtIG9wdHMgLSBPcHRpb25zIGZvciB0aGUgcHJlZmV0Y2ggc2VydmljZSB3b3JrZXIuXG4gKlxuICogICAtIGBiYXNlYCAtIEJhc2UgVVJMIGZvciB0aGUgc2VydmljZSB3b3JrZXIuIERlZmF1bHQgaXMgYGltcG9ydC5tZXRhLmVudi5CQVNFX1VSTGAsIHdoaWNoIGlzIGRlZmluZWRcbiAqICAgICAgIGJ5IFZpdGUncyBgY29uZmlnLmJhc2VgIGFuZCBkZWZhdWx0cyB0byBgL2AuXG4gKiAgIC0gYHNjb3BlYCAtIEJhc2UgVVJMIGZvciB3aGVuIHRoZSBzZXJ2aWNlLXdvcmtlciB3aWxsIGFjdGl2YXRlLiBEZWZhdWx0IGlzIGAvYFxuICogICAtIGBwYXRoYCAtIFBhdGggdG8gdGhlIHNlcnZpY2Ugd29ya2VyLiBEZWZhdWx0IGlzIGBxd2lrLXByZWZldGNoLXNlcnZpY2Utd29ya2VyLmpzYCB1bmxlc3MgeW91IHBhc3NcbiAqICAgICAgIGEgcGF0aCB0aGF0IHN0YXJ0cyB3aXRoIGEgYC9gIHRoZW4gdGhlIGJhc2UgaXMgaWdub3JlZC4gRGVmYXVsdCBpc1xuICogICAgICAgYHF3aWstcHJlZmV0Y2gtc2VydmljZS13b3JrZXIuanNgXG4gKiAgIC0gYHZlcmJvc2VgIC0gVmVyYm9zZSBsb2dnaW5nIGZvciB0aGUgc2VydmljZSB3b3JrZXIgaW5zdGFsbGF0aW9uLiBEZWZhdWx0IGlzIGBmYWxzZWBcbiAqICAgLSBgbm9uY2VgIC0gT3B0aW9uYWwgbm9uY2UgdmFsdWUgZm9yIHNlY3VyaXR5IHB1cnBvc2VzLCBkZWZhdWx0cyB0byBgdW5kZWZpbmVkYC5cbiAqXG4gKiBAYWxwaGFcbiAqL1xuZXhwb3J0IGNvbnN0IFByZWZldGNoU2VydmljZVdvcmtlciA9IChvcHRzOiB7XG4gIGJhc2U/OiBzdHJpbmc7XG4gIHNjb3BlPzogc3RyaW5nO1xuICBwYXRoPzogc3RyaW5nO1xuICB2ZXJib3NlPzogYm9vbGVhbjtcbiAgZmV0Y2hCdW5kbGVHcmFwaD86IGJvb2xlYW47XG4gIG5vbmNlPzogc3RyaW5nO1xufSk6IEpTWE5vZGU8J3NjcmlwdCc+ID0+IHtcbiAgY29uc3QgaXNUZXN0ID0gaW1wb3J0Lm1ldGEuZW52LlRFU1Q7XG4gIGlmIChpc0RldiAmJiAhaXNUZXN0KSB7XG4gICAgY29uc3QgcHJvcHMgPSB7XG4gICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTDogJzwhLS0gUHJlZmV0Y2hTZXJ2aWNlV29ya2VyIGlzIGRpc2FibGVkIGluIGRldiBtb2RlLiAtLT4nLFxuICAgIH07XG4gICAgcmV0dXJuIF9qc3hTb3J0ZWQoJ3NjcmlwdCcsIG51bGwsIHByb3BzLCBudWxsLCAwLCAncHJlZmV0Y2gtc2VydmljZS13b3JrZXInKTtcbiAgfVxuXG4gIGNvbnN0IHNlcnZlckRhdGEgPSB1c2VTZXJ2ZXJEYXRhPFJlY29yZDxzdHJpbmcsIHN0cmluZz4+KCdjb250YWluZXJBdHRyaWJ1dGVzJywge30pO1xuICAvLyBpZiBhbiBNRkUgYXBwIGhhcyBhIGN1c3RvbSBCQVNFX1VSTCB0aGVuIHRoaXMgd2lsbCBiZSB0aGUgY29ycmVjdCB2YWx1ZVxuICAvLyBpZiB5b3UncmUgbm90IHVzaW5nIE1GRSBmcm9tIGFub3RoZXIgY29kZWJhc2UgdGhlbiB5b3Ugd2FudCB0byBvdmVycmlkZSB0aGlzIHZhbHVlIHRvIHlvdXIgY3VzdG9tIHNldHVwXG4gIGNvbnN0IGJhc2VVcmwgPSBpbXBvcnQubWV0YS5lbnYuQkFTRV9VUkwgfHwgJy8nO1xuICBjb25zdCByZXNvbHZlZE9wdHMgPSB7XG4gICAgYmFzZTogc2VydmVyRGF0YVsncTpiYXNlJ10sXG4gICAgbWFuaWZlc3RIYXNoOiBzZXJ2ZXJEYXRhWydxOm1hbmlmZXN0LWhhc2gnXSxcbiAgICBzY29wZTogJy8nLFxuICAgIHZlcmJvc2U6IGZhbHNlLFxuICAgIHBhdGg6ICdxd2lrLXByZWZldGNoLXNlcnZpY2Utd29ya2VyLmpzJyxcbiAgICAuLi5vcHRzLFxuICB9O1xuICBpZiAob3B0cz8ucGF0aD8uc3RhcnRzV2l0aD8uKCcvJykpIHtcbiAgICAvLyBhbGxvdyBkaWZmZXJlbnQgcGF0aCBhbmQgYmFzZVxuICAgIHJlc29sdmVkT3B0cy5wYXRoID0gb3B0cy5wYXRoO1xuICB9IGVsc2Uge1xuICAgIC8vIGJhc2VVcmw6ICcvJ1xuICAgIC8vIHBhdGg6ICdxd2lrLXByZWZldGNoLXNlcnZpY2Utd29ya2VyLmpzJ1xuICAgIC8vIHRoZSBmaWxlICdxd2lrLXByZWZldGNoLXNlcnZpY2Utd29ya2VyLmpzJyBpcyBub3QgbG9jYXRlZCBpbiAvYnVpbGQvXG4gICAgcmVzb2x2ZWRPcHRzLnBhdGggPSBiYXNlVXJsICsgcmVzb2x2ZWRPcHRzLnBhdGg7XG4gIH1cbiAgbGV0IGNvZGUgPSBQUkVGRVRDSF9DT0RFLnJlcGxhY2UoJ1VSTCcsIHJlc29sdmVkT3B0cy5wYXRoKS5yZXBsYWNlKCdTQ09QRScsIHJlc29sdmVkT3B0cy5zY29wZSk7XG4gIGlmICghaXNEZXYpIHtcbiAgICBjb2RlID0gY29kZS5yZXBsYWNlQWxsKC9cXHMrL2dtLCAnJyk7XG4gIH1cbiAgY29uc3QgcHJvcHMgPSB7XG4gICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6IFtcbiAgICAgICcoJyArIGNvZGUgKyAnKSgnLFxuICAgICAgW1xuICAgICAgICBKU09OLnN0cmluZ2lmeShyZXNvbHZlZE9wdHMuYmFzZSksXG4gICAgICAgIEpTT04uc3RyaW5naWZ5KHJlc29sdmVkT3B0cy5tYW5pZmVzdEhhc2gpLFxuICAgICAgICAnbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXInLFxuICAgICAgICAnd2luZG93LnF3aWtQcmVmZXRjaFNXfHwod2luZG93LnF3aWtQcmVmZXRjaFNXPVtdKScsXG4gICAgICAgIHJlc29sdmVkT3B0cy52ZXJib3NlLFxuICAgICAgXS5qb2luKCcsJyksXG4gICAgICAnKTsnLFxuICAgIF0uam9pbignJyksXG4gICAgbm9uY2U6IHJlc29sdmVkT3B0cy5ub25jZSxcbiAgfTtcbiAgcmV0dXJuIF9qc3hTb3J0ZWQoJ3NjcmlwdCcsIG51bGwsIHByb3BzLCBudWxsLCAwLCAncHJlZmV0Y2gtc2VydmljZS13b3JrZXInKTtcbn07XG5cbmNvbnN0IFBSRUZFVENIX0NPREUgPSAvKiNfX1BVUkVfXyovICgoXG4gIGI6IHN0cmluZywgLy8gYmFzZVxuICBoOiBzdHJpbmcsIC8vIG1hbmlmZXN0IGhhc2hcbiAgYzogU2VydmljZVdvcmtlckNvbnRhaW5lciwgLy8gU2VydmljZSB3b3JrZXIgY29udGFpbmVyXG4gIHE6IEFycmF5PGFueVtdPiwgLy8gUXVldWUgb2YgbWVzc2FnZXMgdG8gc2VuZCB0byB0aGUgc2VydmljZSB3b3JrZXIuXG4gIHY6IGJvb2xlYW4gLy8gVmVyYm9zZSBtb2RlXG4pID0+IHtcbiAgYy5yZWdpc3RlcignVVJMJywgeyBzY29wZTogJ1NDT1BFJyB9KS50aGVuKFxuICAgIChzdzogU2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbiwgb25SZWFkeT86ICgpID0+IHZvaWQpID0+IHtcbiAgICAgIG9uUmVhZHkgPSAoKSA9PiBxLmZvckVhY2goKHEucHVzaCA9ICh2KSA9PiBzdy5hY3RpdmUhLnBvc3RNZXNzYWdlKHYpIGFzIGFueSkpO1xuICAgICAgc3cuaW5zdGFsbGluZ1xuICAgICAgICA/IHN3Lmluc3RhbGxpbmcuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgICdzdGF0ZWNoYW5nZScsXG4gICAgICAgICAgICAoZTogYW55KSA9PiBlLnRhcmdldC5zdGF0ZSA9PSAnYWN0aXZhdGVkJyAmJiBvblJlYWR5ISgpXG4gICAgICAgICAgKVxuICAgICAgICA6IG9uUmVhZHkoKTtcbiAgICB9XG4gICk7XG4gIHYgJiYgcS5wdXNoKFsndmVyYm9zZSddKTtcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAncXByZWZldGNoJyxcbiAgICAoZTogYW55KSA9PiBlLmRldGFpbC5idW5kbGVzICYmIHEucHVzaChbJ3ByZWZldGNoJywgYiwgLi4uZS5kZXRhaWwuYnVuZGxlc10pXG4gICk7XG59KS50b1N0cmluZygpO1xuXG4vKipcbiAqIExvYWQgdGhlIHByZWZldGNoIGdyYXBoIGZvciB0aGUgY29udGFpbmVyLlxuICpcbiAqIEVhY2ggUXdpayBjb250YWluZXIgbmVlZHMgdG8gaW5jbHVkZSBpdHMgb3duIHByZWZldGNoIGdyYXBoLlxuICpcbiAqIEBwYXJhbSBvcHRzIC0gT3B0aW9ucyBmb3IgdGhlIGxvYWRpbmcgcHJlZmV0Y2ggZ3JhcGguXG4gKlxuICogICAtIGBiYXNlYCAtIEJhc2Ugb2YgdGhlIGdyYXBoLiBGb3IgYSBkZWZhdWx0IGluc3RhbGxhdGlvbiB0aGlzIHdpbGwgZGVmYXVsdCB0byB0aGUgcTpiYXNlIHZhbHVlXG4gKiAgICAgICBgL2J1aWxkL2AuIEJ1dCBpZiBtb3JlIHRoYW4gb25lIE1GRSBpcyBpbnN0YWxsZWQgb24gdGhlIHBhZ2UsIHRoZW4gZWFjaCBNRkUgbmVlZHMgdG8gaGF2ZVxuICogICAgICAgaXRzIG93biBiYXNlLlxuICogICAtIGBtYW5pZmVzdEhhc2hgIC0gSGFzaCBvZiB0aGUgbWFuaWZlc3QgZmlsZSB0byBsb2FkLiBJZiBub3QgcHJvdmlkZWQgdGhlIGhhc2ggd2lsbCBiZSBleHRyYWN0ZWRcbiAqICAgICAgIGZyb20gdGhlIGNvbnRhaW5lciBhdHRyaWJ1dGUgYHE6bWFuaWZlc3QtaGFzaGAgYW5kIGFzc3VtZSB0aGUgZGVmYXVsdCBidWlsZCBmaWxlXG4gKiAgICAgICBgJHtiYXNlfS9xLWJ1bmRsZS1ncmFwaC0ke21hbmlmZXN0SGFzaH0uanNvbmAuXG4gKiAgIC0gYG1hbmlmZXN0VVJMYCAtIFVSTCBvZiB0aGUgbWFuaWZlc3QgZmlsZSB0byBsb2FkIGlmIG5vbi1zdGFuZGFyZCBidW5kbGUgZ3JhcGggbG9jYXRpb24gbmFtZS5cbiAqXG4gKiBAYWxwaGFcbiAqL1xuZXhwb3J0IGNvbnN0IFByZWZldGNoR3JhcGggPSAoXG4gIG9wdHM6IHsgYmFzZT86IHN0cmluZzsgbWFuaWZlc3RIYXNoPzogc3RyaW5nOyBtYW5pZmVzdFVSTD86IHN0cmluZzsgbm9uY2U/OiBzdHJpbmcgfSA9IHt9XG4pID0+IHtcbiAgY29uc3QgaXNUZXN0ID0gaW1wb3J0Lm1ldGEuZW52LlRFU1Q7XG4gIGlmIChpc0RldiAmJiAhaXNUZXN0KSB7XG4gICAgY29uc3QgcHJvcHMgPSB7XG4gICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTDogJzwhLS0gUHJlZmV0Y2hHcmFwaCBpcyBkaXNhYmxlZCBpbiBkZXYgbW9kZS4gLS0+JyxcbiAgICB9O1xuICAgIHJldHVybiBfanN4U29ydGVkKCdzY3JpcHQnLCBudWxsLCBwcm9wcywgbnVsbCwgMCwgJ3ByZWZldGNoLWdyYXBoJyk7XG4gIH1cbiAgY29uc3Qgc2VydmVyRGF0YSA9IHVzZVNlcnZlckRhdGE8UmVjb3JkPHN0cmluZywgc3RyaW5nPj4oJ2NvbnRhaW5lckF0dHJpYnV0ZXMnLCB7fSk7XG4gIGNvbnN0IHJlc29sdmVkT3B0cyA9IHtcbiAgICAvLyAvYnVpbGQvcS1idW5kbGUtZ3JhcGgtJHttYW5pZmVzdEhhc2h9Lmpzb24gaXMgYWx3YXlzIHdpdGhpbiB0aGUgcTpiYXNlIGxvY2F0aW9uIC9idWlsZC9cbiAgICBiYXNlOiBzZXJ2ZXJEYXRhW1FCYXNlQXR0cl0sXG4gICAgbWFuaWZlc3RIYXNoOiBzZXJ2ZXJEYXRhW1FNYW5pZmVzdEhhc2hBdHRyXSxcbiAgICBzY29wZTogJy8nLFxuICAgIHZlcmJvc2U6IGZhbHNlLFxuICAgIHBhdGg6ICdxd2lrLXByZWZldGNoLXNlcnZpY2Utd29ya2VyLmpzJyxcbiAgICAuLi5vcHRzLFxuICB9O1xuICBjb25zdCBhcmdzID0gSlNPTi5zdHJpbmdpZnkoW1xuICAgICdncmFwaC11cmwnLFxuICAgIHJlc29sdmVkT3B0cy5iYXNlLFxuICAgIGBxLWJ1bmRsZS1ncmFwaC0ke3Jlc29sdmVkT3B0cy5tYW5pZmVzdEhhc2h9Lmpzb25gLFxuICBdKTtcbiAgY29uc3QgY29kZSA9IGAod2luZG93LnF3aWtQcmVmZXRjaFNXfHwod2luZG93LnF3aWtQcmVmZXRjaFNXPVtdKSkucHVzaCgke2FyZ3N9KWA7XG4gIGNvbnN0IHByb3BzID0ge1xuICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MOiBjb2RlLFxuICAgIG5vbmNlOiBvcHRzLm5vbmNlLFxuICB9O1xuICByZXR1cm4gX2pzeFNvcnRlZCgnc2NyaXB0JywgbnVsbCwgcHJvcHMsIG51bGwsIDAsICdwcmVmZXRjaC1ncmFwaCcpO1xufTtcbiJdfQ=="],"names":["isServer","isElement","isQrl","isDev","createSignal","_createSignal","_createComputedSignal"],"mappings":"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I,EAAE,GAAG,CAAC,CAAC;IACzC,CAAC;;ICJD;IACA;IACA;IACA;IACA;IACA;AACY,UAAC,YAAY,GAAGC,eAAc;IAC1C;AACY,UAAC,iBAAiB,GAAGC,qBAAsB;IACvD;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;AACY,UAAC,eAAe,iBAAiB,iBAAiB,CAAC,iBAAiB;;ICxBhF;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IAgBO,IAAI,SAAS,CAAC;IACrB,CAAC,UAAU,SAAS,EAAE;IACtB;IACA,IAAI,SAAS,CAAC,SAAS,CAAC,OAAO,CAAC,GAAG,GAAG,CAAC,GAAG,OAAO,CAAC;IAClD;IACA,IAAI,SAAS,CAAC,SAAS,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC,GAAG,OAAO,CAAC;IACjD;IACA,IAAI,SAAS,CAAC,SAAS,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC,GAAG,aAAa,CAAC;IAC5D,IAAI,SAAS,CAAC,SAAS,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,GAAG,UAAU,CAAC;IACtD,IAAI,SAAS,CAAC,SAAS,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,MAAM,CAAC;IAC9C,IAAI,SAAS,CAAC,SAAS,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,GAAG,WAAW,CAAC;IACxD,IAAI,SAAS,CAAC,SAAS,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,GAAG,WAAW,CAAC;IACxD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G;IAClC,IAAI,SAAS,eAAe,GAAG;IAC/B,IAAI,KAAK,sBAAsB,GAAG;IAClC,IAAI,UAAU,cAAc,GAAG;IAC/B,IAAI,YAAY,gBAAgB,EAAE;IAClC,IAAI,iBAAiB,QAAQ,GAAG;IAChC,IAAI,SAAS,mBAAmB,EAAE;IAClC,IAAI,cAAc,WAAW,GAAG;IAChC,IAAI,EAAE,0BAA0B,EAAE;IAClC,IAAI,OAAO,kBAAkB,GAAG;IAChC,IAAI,KAAK,uBAAuB,EAAE;IAClC,IAAI,UAAU,eAAe,GAAG;IAChC,IAAI,QAAQ,oBAAoB,EAAE;IAClC,IAAI,aAAa,YAAY,GAAG;IAChC,IAAI,GAAG,yBAAyB,EAAE;IAClC,IAAI,QAAQ,iBAAiB,GAAG;IAChC,IAAI,GAAG,yBAAyB,EAAE;IAClC,IAAI,QAAQ,iBAAiB,GAAG;IAChC,IAAI,SAAS,mBAAmB,EAAE;IAClC,IAAI,cAAc,EAAE,IAAI;IACxB,IAAI,OAAO,qBAAqB,EAAE;IAClC,IAAI,YAAY,aAAa,GAAG;IAChC,IAAI,OAAO,qBAAqB,EAAE;IAClC,IAAI,YAAY,aAAa,GAAG;IAChC,IAAI,SAAS,kBAAkB,GAAG;IAClC,IAAI,cAAc,WAAW,GAAG;IAChC,IAAI,IAAI,uBAAuB,GAAG;IAClC,IAAI,SAAS,gBAAgB,GAAG;IAChC,CAAC;;ICxED;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IA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AAC;IACtC,KAAK,CAAC,CAAC;IACP,EAAE;IACF;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;AACY,UAAC,kBAAkB,GAAG,CAAC,OAAO,EAAE,QAAQ,KAAK;IACzD,IAAI,MAAM,EAAE,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,kBAAkB,EAAE,CAAC;IACpD,IAAI,IAAI,GAAG,KAAK,SAAS,EAAE;IAC3B,QAAQ,OAAO;IACf,KAAK;IACL,IAAI,IAAI,IAAI,EAAE;IACd,QAAQ,eAAe,CAAC,OAAO,CAAC,CAAC;IACjC,KAAK;IACL,IAAI,IAAI,IAAI,IAAI,UAAU,EAAE;IAC5B,QAAQ,kBAAkB,CAAC,QAAQ,CAAC,CAAC;IACrC,KAAK;IACL,IAAI,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,IAAI,CAAC,aAAa,EAAE,OAAO,EAAE,QAAQ,CAAC,CAAC;IACvE,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC;IACX,EAAE;IACF;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;AACY,UAAC,UAAU,GAAG,CAAC,OAAO,EAAE,YAAY,KAAK;IACrD,IAAI,MAAM,EAAE,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,kBAAkB,EAAE,CAAC;IACpD,IAAI,IAAI,GAAG,KAAK,SAAS,EAAE;IAC3B,QAAQ,OAAO,GA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CA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;AACY,UAAC,YAAY,GAAG,CAAC,WAAW,EAAE,IAAI,KAAK;IACnD,IAAI,OAAO,cAAc,CAAC,MAAM,CAAC,WAAW,CAAC,EAAE,IAAI,CAAC,CAAC;IACrD;;ICzDA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;AACY,UAAC,QAAQ,iBAAiB,iBAAiB,CAAC,UAAU;;IC7DlE;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;AACY,UAAC,eAAe,iBAAiB,iBAAiB,CAAC,iBAAiB;;IC3BhF;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;AACY,UAAC,YAAY,GAAG,iBAAiB,CAAC,cAAc;;ICP5D;AACY,UAAC,gBAAgB,GAAG,MAAM;IACtC,IAAI,MAAM,KAAK,GAAG,QAAQ,CAAC;IAC3B,QAAQ,KAAK,EAAE,SAAS;IACxB,KAAK,CAAC,CAAC;IACP,IAAI,KAAK,CAAC,gBAAgB,EAAE,GAAG,CAAC,UAAU,EAAE,OAAO,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;IAC/D,IAAI,kBAAkB,CAAC,aAAa,EAAE,KAAK,CAAC,CAAC;IAC7C,IAAI,OAAO,KAAK,CAAC;IACjB;;ICTA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;AACY,UAAC,qBAAqB,GAAG,CAAC,IAA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"}