{"version":3,"file":"core.cjs","sources":["../../../dist-dev/tsc-out/packages/qwik/src/core/util/qdev.js","../../../dist-dev/tsc-out/packages/qwik/src/core/util/flyweight.js","../../../dist-dev/tsc-out/packages/qwik/src/core/util/log.js","../../../dist-dev/tsc-out/packages/qwik/src/core/assert/assert.js","../../../dist-dev/tsc-out/packages/qwik/src/core/util/markers.js","../../../dist-dev/tsc-out/packages/qwik/src/core/util/dom.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-core.js","../../../dist-dev/tsc-out/packages/qwik/src/core/util/array.js","../../../dist-dev/tsc-out/packages/qwik/src/core/util/promises.js","../../../dist-dev/tsc-out/packages/qwik/src/core/import/qrl-class.js","../../../dist-dev/tsc-out/packages/qwik/src/core/platform/platform.js","../../../dist-dev/tsc-out/packages/qwik/src/core/util/types.js","../../../dist-dev/tsc-out/packages/qwik/src/core/error/stringify.js","../../../dist-dev/tsc-out/packages/qwik/src/core/error/error.js","../../../dist-dev/tsc-out/packages/qwik/src/core/util/element.js","../../../dist-dev/tsc-out/packages/qwik/src/core/import/qrl.public.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-host-element.public.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-document.public.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-store.public.js","../../../dist-dev/tsc-out/packages/qwik/src/core/json/q-json.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-url.public.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-lexical-scope.public.js","../../../dist-dev/tsc-out/packages/qwik/src/core/watch/watch.public.js","../../../dist-dev/tsc-out/packages/qwik/src/core/object/store.js","../../../dist-dev/tsc-out/packages/qwik/src/core/props/props-obj-map.js","../../../dist-dev/tsc-out/packages/qwik/src/core/util/case.js","../../../dist-dev/tsc-out/packages/qwik/src/core/util/stringify.js","../../../dist-dev/tsc-out/packages/qwik/src/core/props/props-on.js","../../../dist-dev/tsc-out/packages/qwik/src/core/object/store.public.js","../../../dist-dev/tsc-out/packages/qwik/src/core/props/props.js","../../../dist-dev/tsc-out/packages/qwik/src/core/render/jsx/host.public.js","../../../dist-dev/tsc-out/packages/qwik/src/core/render/render.js","../../../dist-dev/tsc-out/packages/qwik/src/core/util/hash_code.js","../../../dist-dev/tsc-out/packages/qwik/src/core/component/qrl-styles.js","../../../dist-dev/tsc-out/packages/qwik/src/core/render/jsx/jsx-runtime.js","../../../dist-dev/tsc-out/packages/qwik/src/core/component/component-ctx.js","../../../dist-dev/tsc-out/packages/qwik/src/core/render/cursor.js","../../../dist-dev/tsc-out/packages/qwik/src/core/render/notify-render.js","../../../dist-dev/tsc-out/packages/qwik/src/core/object/q-object.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-subscriber.js","../../../dist-dev/tsc-out/packages/qwik/src/core/import/qrl.js","../../../dist-dev/tsc-out/packages/qwik/src/core/component/component.public.js","../../../dist-dev/tsc-out/packages/qwik/src/core/render/jsx/factory.js","../../../dist-dev/tsc-out/packages/qwik/src/core/render/jsx/slot.public.js","../../../dist-dev/tsc-out/packages/qwik/src/core/version.js","../../../dist-dev/tsc-out/packages/qwik/src/core/render/render.public.js"],"sourcesContent":["/*@__PURE__*/ ((gbl) => {\n    // ensures unit tests have globalThis on Node10\n    // this will be removed from production builds\n    if (typeof globalThis === 'undefined') {\n        gbl.globalThis = gbl;\n    }\n})(typeof global !== 'undefined'\n    ? global\n    : typeof window !== 'undefined'\n        ? window\n        : typeof self !== 'undefined'\n            ? self\n            : {});\n// minification can replace the `globalThis.qDev` with `false`\n// which will remove all dev code within from the build\nexport const qDev = globalThis.qDev !== false;\nexport const qTest = globalThis.describe !== undefined;\nexport const qGlobal = globalThis;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicWRldi5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS91dGlsL3FkZXYudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsYUFBYSxDQUFDLENBQUMsQ0FBQyxHQUFRLEVBQUUsRUFBRTtJQUMxQiwrQ0FBK0M7SUFDL0MsOENBQThDO0lBQzlDLElBQUksT0FBTyxVQUFVLEtBQUssV0FBVyxFQUFFO1FBQ3JDLEdBQUcsQ0FBQyxVQUFVLEdBQUcsR0FBRyxDQUFDO0tBQ3RCO0FBQ0gsQ0FBQyxDQUFDLENBQ0EsT0FBTyxNQUFNLEtBQUssV0FBVztJQUMzQixDQUFDLENBQUMsTUFBTTtJQUNSLENBQUMsQ0FBQyxPQUFPLE1BQU0sS0FBSyxXQUFXO1FBQy9CLENBQUMsQ0FBQyxNQUFNO1FBQ1IsQ0FBQyxDQUFDLE9BQU8sSUFBSSxLQUFLLFdBQVc7WUFDN0IsQ0FBQyxDQUFDLElBQUk7WUFDTixDQUFDLENBQUMsRUFBRSxDQUNQLENBQUM7QUFFRiw4REFBOEQ7QUFDOUQsdURBQXVEO0FBQ3ZELE1BQU0sQ0FBQyxNQUFNLElBQUksR0FBSSxVQUFrQixDQUFDLElBQUksS0FBSyxLQUFLLENBQUM7QUFDdkQsTUFBTSxDQUFDLE1BQU0sS0FBSyxHQUFJLFVBQWtCLENBQUMsUUFBUSxLQUFLLFNBQVMsQ0FBQztBQUNoRSxNQUFNLENBQUMsTUFBTSxPQUFPLEdBQUcsVUFBaUIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qQF9fUFVSRV9fKi8gKChnYmw6IGFueSkgPT4ge1xuICAvLyBlbnN1cmVzIHVuaXQgdGVzdHMgaGF2ZSBnbG9iYWxUaGlzIG9uIE5vZGUxMFxuICAvLyB0aGlzIHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHByb2R1Y3Rpb24gYnVpbGRzXG4gIGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBnYmwuZ2xvYmFsVGhpcyA9IGdibDtcbiAgfVxufSkoXG4gIHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnXG4gICAgPyBnbG9iYWxcbiAgICA6IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnXG4gICAgPyB3aW5kb3dcbiAgICA6IHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJ1xuICAgID8gc2VsZlxuICAgIDoge31cbik7XG5cbi8vIG1pbmlmaWNhdGlvbiBjYW4gcmVwbGFjZSB0aGUgYGdsb2JhbFRoaXMucURldmAgd2l0aCBgZmFsc2VgXG4vLyB3aGljaCB3aWxsIHJlbW92ZSBhbGwgZGV2IGNvZGUgd2l0aGluIGZyb20gdGhlIGJ1aWxkXG5leHBvcnQgY29uc3QgcURldiA9IChnbG9iYWxUaGlzIGFzIGFueSkucURldiAhPT0gZmFsc2U7XG5leHBvcnQgY29uc3QgcVRlc3QgPSAoZ2xvYmFsVGhpcyBhcyBhbnkpLmRlc2NyaWJlICE9PSB1bmRlZmluZWQ7XG5leHBvcnQgY29uc3QgcUdsb2JhbCA9IGdsb2JhbFRoaXMgYXMgYW55O1xuIl19","import { qDev } from './qdev';\nexport const EMPTY_ARRAY = [];\nexport const EMPTY_OBJ = {};\nif (qDev) {\n    Object.freeze(EMPTY_ARRAY);\n    Object.freeze(EMPTY_OBJ);\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmx5d2VpZ2h0LmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3V0aWwvZmx5d2VpZ2h0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxRQUFRLENBQUM7QUFFOUIsTUFBTSxDQUFDLE1BQU0sV0FBVyxHQUFHLEVBQUUsQ0FBQztBQUM5QixNQUFNLENBQUMsTUFBTSxTQUFTLEdBQUcsRUFBRSxDQUFDO0FBRTVCLElBQUksSUFBSSxFQUFFO0lBQ1IsTUFBTSxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQztJQUMzQixNQUFNLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0NBQzFCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcURldiB9IGZyb20gJy4vcWRldic7XG5cbmV4cG9ydCBjb25zdCBFTVBUWV9BUlJBWSA9IFtdO1xuZXhwb3J0IGNvbnN0IEVNUFRZX09CSiA9IHt9O1xuXG5pZiAocURldikge1xuICBPYmplY3QuZnJlZXplKEVNUFRZX0FSUkFZKTtcbiAgT2JqZWN0LmZyZWV6ZShFTVBUWV9PQkopO1xufVxuIl19","import { qDev } from './qdev';\nconst STYLE = qDev\n    ? `background: #564CE0; color: white; padding: 2px 3px; border-radius: 2px; font-size: 0.8em;`\n    : '';\nexport const logError = (message, ...optionalParams) => {\n    // eslint-disable-next-line no-console\n    console.error('%cQWIK ERROR', STYLE, message, ...optionalParams);\n};\nexport const logWarn = (message, ...optionalParams) => {\n    // eslint-disable-next-line no-console\n    console.warn('%cQWIK WARN', STYLE, message, ...optionalParams);\n};\nexport const logDebug = (message, ...optionalParams) => {\n    if (qDev) {\n        // eslint-disable-next-line no-console\n        console.debug('%cQWIK', STYLE, message, ...optionalParams);\n    }\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibG9nLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3V0aWwvbG9nLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxRQUFRLENBQUM7QUFFOUIsTUFBTSxLQUFLLEdBQUcsSUFBSTtJQUNoQixDQUFDLENBQUMsNEZBQTRGO0lBQzlGLENBQUMsQ0FBQyxFQUFFLENBQUM7QUFFUCxNQUFNLENBQUMsTUFBTSxRQUFRLEdBQUcsQ0FBQyxPQUFhLEVBQUUsR0FBRyxjQUFxQixFQUFFLEVBQUU7SUFDbEUsc0NBQXNDO0lBQ3RDLE9BQU8sQ0FBQyxLQUFLLENBQUMsY0FBYyxFQUFFLEtBQUssRUFBRSxPQUFPLEVBQUUsR0FBRyxjQUFjLENBQUMsQ0FBQztBQUNuRSxDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxPQUFPLEdBQUcsQ0FBQyxPQUFhLEVBQUUsR0FBRyxjQUFxQixFQUFFLEVBQUU7SUFDakUsc0NBQXNDO0lBQ3RDLE9BQU8sQ0FBQyxJQUFJLENBQUMsYUFBYSxFQUFFLEtBQUssRUFBRSxPQUFPLEVBQUUsR0FBRyxjQUFjLENBQUMsQ0FBQztBQUNqRSxDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxRQUFRLEdBQUcsQ0FBQyxPQUFhLEVBQUUsR0FBRyxjQUFxQixFQUFFLEVBQUU7SUFDbEUsSUFBSSxJQUFJLEVBQUU7UUFDUixzQ0FBc0M7UUFDdEMsT0FBTyxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRSxHQUFHLGNBQWMsQ0FBQyxDQUFDO0tBQzVEO0FBQ0gsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcURldiB9IGZyb20gJy4vcWRldic7XG5cbmNvbnN0IFNUWUxFID0gcURldlxuICA/IGBiYWNrZ3JvdW5kOiAjNTY0Q0UwOyBjb2xvcjogd2hpdGU7IHBhZGRpbmc6IDJweCAzcHg7IGJvcmRlci1yYWRpdXM6IDJweDsgZm9udC1zaXplOiAwLjhlbTtgXG4gIDogJyc7XG5cbmV4cG9ydCBjb25zdCBsb2dFcnJvciA9IChtZXNzYWdlPzogYW55LCAuLi5vcHRpb25hbFBhcmFtczogYW55W10pID0+IHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgY29uc29sZS5lcnJvcignJWNRV0lLIEVSUk9SJywgU1RZTEUsIG1lc3NhZ2UsIC4uLm9wdGlvbmFsUGFyYW1zKTtcbn07XG5cbmV4cG9ydCBjb25zdCBsb2dXYXJuID0gKG1lc3NhZ2U/OiBhbnksIC4uLm9wdGlvbmFsUGFyYW1zOiBhbnlbXSkgPT4ge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICBjb25zb2xlLndhcm4oJyVjUVdJSyBXQVJOJywgU1RZTEUsIG1lc3NhZ2UsIC4uLm9wdGlvbmFsUGFyYW1zKTtcbn07XG5cbmV4cG9ydCBjb25zdCBsb2dEZWJ1ZyA9IChtZXNzYWdlPzogYW55LCAuLi5vcHRpb25hbFBhcmFtczogYW55W10pID0+IHtcbiAgaWYgKHFEZXYpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgIGNvbnNvbGUuZGVidWcoJyVjUVdJSycsIFNUWUxFLCBtZXNzYWdlLCAuLi5vcHRpb25hbFBhcmFtcyk7XG4gIH1cbn07XG4iXX0=","import { logError } from '../util/log';\nimport { qDev } from '../util/qdev';\nexport function assertDefined(value, text) {\n    if (qDev) {\n        if (value != null)\n            return;\n        throw newError(text || 'Expected defined value.');\n    }\n}\nexport function assertNotPromise(value, text) {\n    if (qDev) {\n        if (!(value instanceof Promise))\n            return;\n        throw newError(text || 'Expected defined value.');\n    }\n}\nexport function assertDefinedAndNotPromise(value, text) {\n    if (qDev) {\n        assertDefined(value, text);\n        assertNotPromise(value, text);\n    }\n}\nexport function assertInstanceOf(value, type, text) {\n    if (qDev) {\n        if (value instanceof type)\n            return;\n        throw newError(text || `Expected value '${value}' to be instance of '${type}' but was '${typeOf(value)}'.`);\n    }\n}\nexport function assertString(value, text) {\n    if (qDev) {\n        if (typeof value === 'string')\n            return;\n        throw newError(text || `Expected value '${value}' to be 'string' but was '${typeOf(value)}'.`);\n    }\n}\nexport function assertNotEqual(value1, value2, text) {\n    if (qDev) {\n        if (value1 !== value2)\n            return;\n        throw newError(text || `Expected '${value1}' !== '${value2}'.`);\n    }\n}\nexport function assertEqual(value1, value2, text) {\n    if (qDev) {\n        if (value1 === value2)\n            return;\n        throw newError(text || `Expected '${value1}' === '${value2}'.`);\n    }\n}\nexport function assertLessOrEqual(value1, value2, text) {\n    if (qDev) {\n        if (value1 <= value2)\n            return;\n        throw newError(text || `Expected '${value1}' <= '${value2}'.`);\n    }\n}\nexport function assertLess(value1, value2, text) {\n    if (qDev) {\n        if (value1 < value2)\n            return;\n        throw newError(text || `Expected '${value1}' < '${value2}'.`);\n    }\n}\nexport function assertGreaterOrEqual(value1, value2, text) {\n    if (qDev) {\n        if (value1 >= value2)\n            return;\n        throw newError(text || `Expected '${value1}' >= '${value2}'.`);\n    }\n}\nexport function assertGreater(value1, value2, text) {\n    if (qDev) {\n        if (value1 > value2)\n            return;\n        throw newError(text || `Expected '${value1}' > '${value2}'.`);\n    }\n}\nfunction typeOf(value) {\n    if (value === null)\n        return 'null';\n    const type = typeof value;\n    if (type === 'object') {\n        return value?.constructor?.name || '<unknown>';\n    }\n    else {\n        return type;\n    }\n}\nfunction newError(text) {\n    debugger; // eslint-disable-line no-debugger\n    const error = new Error(text);\n    logError(error); // eslint-disable-line no-console\n    return error;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXNzZXJ0LmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL2Fzc2VydC9hc3NlcnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUN2QyxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sY0FBYyxDQUFDO0FBRXBDLE1BQU0sVUFBVSxhQUFhLENBQUMsS0FBVSxFQUFFLElBQWE7SUFDckQsSUFBSSxJQUFJLEVBQUU7UUFDUixJQUFJLEtBQUssSUFBSSxJQUFJO1lBQUUsT0FBTztRQUMxQixNQUFNLFFBQVEsQ0FBQyxJQUFJLElBQUkseUJBQXlCLENBQUMsQ0FBQztLQUNuRDtBQUNILENBQUM7QUFFRCxNQUFNLFVBQVUsZ0JBQWdCLENBQUMsS0FBVSxFQUFFLElBQWE7SUFDeEQsSUFBSSxJQUFJLEVBQUU7UUFDUixJQUFJLENBQUMsQ0FBQyxLQUFLLFlBQVksT0FBTyxDQUFDO1lBQUUsT0FBTztRQUN4QyxNQUFNLFFBQVEsQ0FBQyxJQUFJLElBQUkseUJBQXlCLENBQUMsQ0FBQztLQUNuRDtBQUNILENBQUM7QUFFRCxNQUFNLFVBQVUsMEJBQTBCLENBQUMsS0FBVSxFQUFFLElBQWE7SUFDbEUsSUFBSSxJQUFJLEVBQUU7UUFDUixhQUFhLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQzNCLGdCQUFnQixDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsQ0FBQztLQUMvQjtBQUNILENBQUM7QUFFRCxNQUFNLFVBQVUsZ0JBQWdCLENBQUMsS0FBVSxFQUFFLElBQVMsRUFBRSxJQUFhO0lBQ25FLElBQUksSUFBSSxFQUFFO1FBQ1IsSUFBSSxLQUFLLFlBQVksSUFBSTtZQUFFLE9BQU87UUFDbEMsTUFBTSxRQUFRLENBQ1osSUFBSSxJQUFJLG1CQUFtQixLQUFLLHdCQUF3QixJQUFJLGNBQWMsTUFBTSxDQUFDLEtBQUssQ0FBQyxJQUFJ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IHsgbG9nRXJyb3IgfSBmcm9tICcuLi91dGlsL2xvZyc7XG5pbXBvcnQgeyBxRGV2IH0gZnJvbSAnLi4vdXRpbC9xZGV2JztcblxuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydERlZmluZWQodmFsdWU6IGFueSwgdGV4dD86IHN0cmluZykge1xuICBpZiAocURldikge1xuICAgIGlmICh2YWx1ZSAhPSBudWxsKSByZXR1cm47XG4gICAgdGhyb3cgbmV3RXJyb3IodGV4dCB8fCAnRXhwZWN0ZWQgZGVmaW5lZCB2YWx1ZS4nKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0Tm90UHJvbWlzZSh2YWx1ZTogYW55LCB0ZXh0Pzogc3RyaW5nKSB7XG4gIGlmIChxRGV2KSB7XG4gICAgaWYgKCEodmFsdWUgaW5zdGFuY2VvZiBQcm9taXNlKSkgcmV0dXJuO1xuICAgIHRocm93IG5ld0Vycm9yKHRleHQgfHwgJ0V4cGVjdGVkIGRlZmluZWQgdmFsdWUuJyk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydERlZmluZWRBbmROb3RQcm9taXNlKHZhbHVlOiBhbnksIHRleHQ/OiBzdHJpbmcpIHtcbiAgaWYgKHFEZXYpIHtcbiAgICBhc3NlcnREZWZpbmVkKHZhbHVlLCB0ZXh0KTtcbiAgICBhc3NlcnROb3RQcm9taXNlKHZhbHVlLCB0ZXh0KTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0SW5zdGFuY2VPZih2YWx1ZTogYW55LCB0eXBlOiBhbnksIHRleHQ/OiBzdHJpbmcpIHtcbiAgaWYgKHFEZXYpIHtcbiAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiB0eXBlKSByZXR1cm47XG4gICAgdGhyb3cgbmV3RXJyb3IoXG4gICAgICB0ZXh0IHx8IGBFeHBlY3RlZCB2YWx1ZSAnJHt2YWx1ZX0nIHRvIGJlIGluc3RhbmNlIG9mICcke3R5cGV9JyBidXQgd2FzICcke3R5cGVPZih2YWx1ZSl9Jy5gXG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0U3RyaW5nKHZhbHVlOiBhbnksIHRleHQ/OiBzdHJpbmcpIHtcbiAgaWYgKHFEZXYpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykgcmV0dXJuO1xuICAgIHRocm93IG5ld0Vycm9yKHRleHQgfHwgYEV4cGVjdGVkIHZhbHVlICcke3ZhbHVlfScgdG8gYmUgJ3N0cmluZycgYnV0IHdhcyAnJHt0eXBlT2YodmFsdWUpfScuYCk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydE5vdEVxdWFsKHZhbHVlMTogYW55LCB2YWx1ZTI6IGFueSwgdGV4dD86IHN0cmluZykge1xuICBpZiAocURldikge1xuICAgIGlmICh2YWx1ZTEgIT09IHZhbHVlMikgcmV0dXJuO1xuICAgIHRocm93IG5ld0Vycm9yKHRleHQgfHwgYEV4cGVjdGVkICcke3ZhbHVlMX0nICE9PSAnJHt2YWx1ZTJ9Jy5gKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0RXF1YWwodmFsdWUxOiBhbnksIHZhbHVlMjogYW55LCB0ZXh0Pzogc3RyaW5nKSB7XG4gIGlmIChxRGV2KSB7XG4gICAgaWYgKHZhbHVlMSA9PT0gdmFsdWUyKSByZXR1cm47XG4gICAgdGhyb3cgbmV3RXJyb3IodGV4dCB8fCBgRXhwZWN0ZWQgJyR7dmFsdWUxfScgPT09ICcke3ZhbHVlMn0nLmApO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRMZXNzT3JFcXVhbCh2YWx1ZTE6IGFueSwgdmFsdWUyOiBhbnksIHRleHQ/OiBzdHJpbmcpIHtcbiAgaWYgKHFEZXYpIHtcbiAgICBpZiAodmFsdWUxIDw9IHZhbHVlMikgcmV0dXJuO1xuICAgIHRocm93IG5ld0Vycm9yKHRleHQgfHwgYEV4cGVjdGVkICcke3ZhbHVlMX0nIDw9ICcke3ZhbHVlMn0nLmApO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRMZXNzKHZhbHVlMTogYW55LCB2YWx1ZTI6IGFueSwgdGV4dD86IHN0cmluZykge1xuICBpZiAocURldikge1xuICAgIGlmICh2YWx1ZTEgPCB2YWx1ZTIpIHJldHVybjtcbiAgICB0aHJvdyBuZXdFcnJvcih0ZXh0IHx8IGBFeHBlY3RlZCAnJHt2YWx1ZTF9JyA8ICcke3ZhbHVlMn0nLmApO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRHcmVhdGVyT3JFcXVhbCh2YWx1ZTE6IGFueSwgdmFsdWUyOiBhbnksIHRleHQ/OiBzdHJpbmcpIHtcbiAgaWYgKHFEZXYpIHtcbiAgICBpZiAodmFsdWUxID49IHZhbHVlMikgcmV0dXJuO1xuICAgIHRocm93IG5ld0Vycm9yKHRleHQgfHwgYEV4cGVjdGVkICcke3ZhbHVlMX0nID49ICcke3ZhbHVlMn0nLmApO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRHcmVhdGVyKHZhbHVlMTogYW55LCB2YWx1ZTI6IGFueSwgdGV4dD86IHN0cmluZykge1xuICBpZiAocURldikge1xuICAgIGlmICh2YWx1ZTEgPiB2YWx1ZTIpIHJldHVybjtcbiAgICB0aHJvdyBuZXdFcnJvcih0ZXh0IHx8IGBFeHBlY3RlZCAnJHt2YWx1ZTF9JyA+ICcke3ZhbHVlMn0nLmApO1xuICB9XG59XG5cbmZ1bmN0aW9uIHR5cGVPZih2YWx1ZTogYW55KSB7XG4gIGlmICh2YWx1ZSA9PT0gbnVsbCkgcmV0dXJuICdudWxsJztcbiAgY29uc3QgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgaWYgKHR5cGUgPT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIHZhbHVlPy5jb25zdHJ1Y3Rvcj8ubmFtZSB8fCAnPHVua25vd24+JztcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdHlwZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBuZXdFcnJvcih0ZXh0OiBzdHJpbmcpIHtcbiAgZGVidWdnZXI7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZGVidWdnZXJcbiAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IodGV4dCk7XG4gIGxvZ0Vycm9yKGVycm9yKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG4gIHJldHVybiBlcnJvcjtcbn1cbiJdfQ==","/**\n * State factory of the component.\n */\nexport const OnMount = 'on:qmount';\n/**\n * State factory of the component.\n */\nexport const QHostAttr = 'q:host';\nexport const OnRenderProp = 'q:renderFn';\n/**\n * State factory of the component.\n */\nexport const OnRenderSelector = '[q\\\\:host]';\n/**\n * State factory of the component.\n */\nexport const OnUnmount = 'on:qunmount';\n/**\n * State factory of the component.\n */\nexport const OnResume = 'on:qresume';\n/**\n * Component Styles.\n */\nexport const ComponentScopedStyles = 'q:sstyle';\n/**\n * Unscoped Component Styles.\n */\nexport const ComponentUnscopedStyles = 'q:ustyle';\n/**\n * Component style host prefix\n */\nexport const ComponentStylesPrefixHost = 'üíé';\n/**\n * Component style content prefix\n */\nexport const ComponentStylesPrefixContent = '‚≠êÔ∏è';\n/**\n * Prefix used to identify on listeners.\n */\nexport const EventPrefix = 'on:';\n/**\n * Attribute used to mark that an event listener is attached.\n */\nexport const EventAny = 'on:.';\n/**\n * Tag name used for projection.\n */\nexport const QSlot = 'Q:SLOT';\nexport const QSlotSelector = 'Q\\\\:SLOT';\n/**\n * `<some-element q:slot=\"...\">`\n */\nexport const QSlotAttr = 'q:slot';\nexport const QObjAttr = 'q:obj';\nexport const QSeqAttr = 'q:seq';\nexport const QContainerAttr = 'q:container';\nexport const QObjSelector = '[q\\\\:obj]';\nexport const QContainerSelector = '[q\\\\:container]';\nexport const RenderEvent = 'qRender';\n/**\n * `<q:slot name=\"...\">`\n */\nexport const QSlotName = 'name';\nexport const QSlotInertName = '\\u0000';\nexport const ELEMENT_ID = 'q:id';\nexport const ELEMENT_ID_SELECTOR = '[q\\\\:id]';\nexport const ELEMENT_ID_PREFIX = '#';\nexport const ELEMENT_ID_Q_PROPS_PREFIX = '&';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFya2Vycy5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS91dGlsL21hcmtlcnMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0dBRUc7QUFDSCxNQUFNLENBQUMsTUFBTSxPQUFPLEdBQUcsV0FBVyxDQUFDO0FBRW5DOztHQUVHO0FBQ0gsTUFBTSxDQUFDLE1BQU0sU0FBUyxHQUFHLFFBQVEsQ0FBQztBQUNsQyxNQUFNLENBQUMsTUFBTSxZQUFZLEdBQUcsWUFBWSxDQUFDO0FBRXpDOztHQUVHO0FBQ0gsTUFBTSxDQUFDLE1BQU0sZ0JBQWdCLEdBQUcsWUFBWSxDQUFDO0FBRTdDOztHQUVHO0FBQ0gsTUFBTSxDQUFDLE1BQU0sU0FBUyxHQUFHLGFBQWEsQ0FBQztBQUV2Qzs7R0FFRztBQUNILE1BQU0sQ0FBQyxNQUFNLFFBQVEsR0FBRyxZQUFZLENBQUM7QUFFckM7O0dBRUc7QUFDSCxNQUFNLENBQUMsTUFBTSxxQkFBcUIsR0FBRyxVQUFVLENBQUM7QUFFaEQ7O0dBRUc7QUFDSCxNQUFNLENBQUMsTUFBTSx1QkFBdUIsR0FBRyxVQUFVLENBQUM7QUFFbEQ7O0dBRUc7QUFDSCxNQUFNLENBQUMsTUFBTSx5QkFBeUIsR0FBRyxJQUFJLENBQUM7QUFFOUM7O0dBRUc7QUFDSCxNQUFNLENBQUMsTUFBTSw0QkFBNEIsR0FBRyxJQUFJLENBQUM7QUFFakQ7O0dBRUc7QUFDSCxNQUFNLENBQUMsTUFBTSxXQUFXLEdBQUcsS0FBSyxDQUFDO0FBRWpDOztHQUVHO0FBQ0gsTUFBTSxDQUFDLE1BQU0sUUFBUSxHQUFHLE1BQU0sQ0FBQztBQUUvQjs7R0FFRztBQUNILE1BQU0sQ0FBQyxNQUFNLEtBQUssR0FBRyxRQUFRLENBQUM7QUFDOUIsTUFBTSxDQUFDLE1BQU0sYUFBYSxHQUFHLFVBQVUsQ0FBQztBQUV4Qzs7R0FFRztBQUNILE1BQU0sQ0FBQyxNQUFNLFNBQVMsR0FBRyxRQUFRLENBQUM7QUFFbEMsTUFBTSxDQUFDLE1BQU0sUUFBUSxHQUFHLE9BQU8sQ0FBQztBQUVoQyxNQUFNLENBQUMsTUFBTSxRQUFRLEdBQUcsT0FBTyxDQUFDO0FBRWhDLE1BQU0sQ0FBQyxNQUFNLGNBQWMsR0FBRyxhQUFhLENBQUM7QUFFNUMsTUFBTSxDQUFDLE1BQU0sWUFBWSxHQUFHLFdBQVcsQ0FBQztBQUV4QyxNQUFNLENBQUMsTUFBTSxrQkFBa0IsR0FBRyxpQkFBaUIsQ0FBQztBQUVwRCxNQUFNLENBQUMsTUFBTSxXQUFXLEdBQUcsU0FBUyxDQUFDO0FBQ3JDOztHQUVHO0FBQ0gsTUFBTSxDQUFDLE1BQU0sU0FBUyxHQUFHLE1BQU0sQ0FBQztBQUNoQyxNQUFNLENBQUMsTUFBTSxjQUFjLEdBQUcsUUFBUSxDQUFDO0FBRXZDLE1BQU0sQ0FBQyxNQUFNLFVBQVUsR0FBRyxNQUFNLENBQUM7QUFDakMsTUFBTSxDQUFDLE1BQU0sbUJBQW1CLEdBQUcsVUFBVSxDQUFDO0FBQzlDLE1BQU0sQ0FBQyxNQUFNLGlCQUFpQixHQUFHLEdBQUcsQ0FBQztBQUNyQyxNQUFNLENBQUMsTUFBTSx5QkFBeUIsR0FBRyxHQUFHLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFN0YXRlIGZhY3Rvcnkgb2YgdGhlIGNvbXBvbmVudC5cbiAqL1xuZXhwb3J0IGNvbnN0IE9uTW91bnQgPSAnb246cW1vdW50JztcblxuLyoqXG4gKiBTdGF0ZSBmYWN0b3J5IG9mIHRoZSBjb21wb25lbnQuXG4gKi9cbmV4cG9ydCBjb25zdCBRSG9zdEF0dHIgPSAncTpob3N0JztcbmV4cG9ydCBjb25zdCBPblJlbmRlclByb3AgPSAncTpyZW5kZXJGbic7XG5cbi8qKlxuICogU3RhdGUgZmFjdG9yeSBvZiB0aGUgY29tcG9uZW50LlxuICovXG5leHBvcnQgY29uc3QgT25SZW5kZXJTZWxlY3RvciA9ICdbcVxcXFw6aG9zdF0nO1xuXG4vKipcbiAqIFN0YXRlIGZhY3Rvcnkgb2YgdGhlIGNvbXBvbmVudC5cbiAqL1xuZXhwb3J0IGNvbnN0IE9uVW5tb3VudCA9ICdvbjpxdW5tb3VudCc7XG5cbi8qKlxuICogU3RhdGUgZmFjdG9yeSBvZiB0aGUgY29tcG9uZW50LlxuICovXG5leHBvcnQgY29uc3QgT25SZXN1bWUgPSAnb246cXJlc3VtZSc7XG5cbi8qKlxuICogQ29tcG9uZW50IFN0eWxlcy5cbiAqL1xuZXhwb3J0IGNvbnN0IENvbXBvbmVudFNjb3BlZFN0eWxlcyA9ICdxOnNzdHlsZSc7XG5cbi8qKlxuICogVW5zY29wZWQgQ29tcG9uZW50IFN0eWxlcy5cbiAqL1xuZXhwb3J0IGNvbnN0IENvbXBvbmVudFVuc2NvcGVkU3R5bGVzID0gJ3E6dXN0eWxlJztcblxuLyoqXG4gKiBDb21wb25lbnQgc3R5bGUgaG9zdCBwcmVmaXhcbiAqL1xuZXhwb3J0IGNvbnN0IENvbXBvbmVudFN0eWxlc1ByZWZpeEhvc3QgPSAn8J+Sjic7XG5cbi8qKlxuICogQ29tcG9uZW50IHN0eWxlIGNvbnRlbnQgcHJlZml4XG4gKi9cbmV4cG9ydCBjb25zdCBDb21wb25lbnRTdHlsZXNQcmVmaXhDb250ZW50ID0gJ+KtkO+4jyc7XG5cbi8qKlxuICogUHJlZml4IHVzZWQgdG8gaWRlbnRpZnkgb24gbGlzdGVuZXJzLlxuICovXG5leHBvcnQgY29uc3QgRXZlbnRQcmVmaXggPSAnb246JztcblxuLyoqXG4gKiBBdHRyaWJ1dGUgdXNlZCB0byBtYXJrIHRoYXQgYW4gZXZlbnQgbGlzdGVuZXIgaXMgYXR0YWNoZWQuXG4gKi9cbmV4cG9ydCBjb25zdCBFdmVudEFueSA9ICdvbjouJztcblxuLyoqXG4gKiBUYWcgbmFtZSB1c2VkIGZvciBwcm9qZWN0aW9uLlxuICovXG5leHBvcnQgY29uc3QgUVNsb3QgPSAnUTpTTE9UJztcbmV4cG9ydCBjb25zdCBRU2xvdFNlbGVjdG9yID0gJ1FcXFxcOlNMT1QnO1xuXG4vKipcbiAqIGA8c29tZS1lbGVtZW50IHE6c2xvdD1cIi4uLlwiPmBcbiAqL1xuZXhwb3J0IGNvbnN0IFFTbG90QXR0ciA9ICdxOnNsb3QnO1xuXG5leHBvcnQgY29uc3QgUU9iakF0dHIgPSAncTpvYmonO1xuXG5leHBvcnQgY29uc3QgUVNlcUF0dHIgPSAncTpzZXEnO1xuXG5leHBvcnQgY29uc3QgUUNvbnRhaW5lckF0dHIgPSAncTpjb250YWluZXInO1xuXG5leHBvcnQgY29uc3QgUU9ialNlbGVjdG9yID0gJ1txXFxcXDpvYmpdJztcblxuZXhwb3J0IGNvbnN0IFFDb250YWluZXJTZWxlY3RvciA9ICdbcVxcXFw6Y29udGFpbmVyXSc7XG5cbmV4cG9ydCBjb25zdCBSZW5kZXJFdmVudCA9ICdxUmVuZGVyJztcbi8qKlxuICogYDxxOnNsb3QgbmFtZT1cIi4uLlwiPmBcbiAqL1xuZXhwb3J0IGNvbnN0IFFTbG90TmFtZSA9ICduYW1lJztcbmV4cG9ydCBjb25zdCBRU2xvdEluZXJ0TmFtZSA9ICdcXHUwMDAwJztcblxuZXhwb3J0IGNvbnN0IEVMRU1FTlRfSUQgPSAncTppZCc7XG5leHBvcnQgY29uc3QgRUxFTUVOVF9JRF9TRUxFQ1RPUiA9ICdbcVxcXFw6aWRdJztcbmV4cG9ydCBjb25zdCBFTEVNRU5UX0lEX1BSRUZJWCA9ICcjJztcbmV4cG9ydCBjb25zdCBFTEVNRU5UX0lEX1FfUFJPUFNfUFJFRklYID0gJyYnO1xuIl19","import { assertDefined } from '../assert/assert';\nexport function getDocument(node) {\n    if (typeof document !== 'undefined') {\n        return document;\n    }\n    if (node.nodeType === 9) {\n        return node;\n    }\n    let doc = node.ownerDocument;\n    while (doc && doc.nodeType !== 9) {\n        doc = doc.parentNode;\n    }\n    assertDefined(doc);\n    return doc;\n}\nexport function getParentElement(node) {\n    return node.parentElement || previousParent.get(node) || null;\n}\nexport const previousParent = new WeakMap();\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZG9tLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3V0aWwvZG9tLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUVqRCxNQUFNLFVBQVUsV0FBVyxDQUFDLElBQVU7SUFDcEMsSUFBSSxPQUFPLFFBQVEsS0FBSyxXQUFXLEVBQUU7UUFDbkMsT0FBTyxRQUFRLENBQUM7S0FDakI7SUFDRCxJQUFJLElBQUksQ0FBQyxRQUFRLEtBQUssQ0FBQyxFQUFFO1FBQ3ZCLE9BQU8sSUFBZ0IsQ0FBQztLQUN6QjtJQUNELElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUM7SUFDN0IsT0FBTyxHQUFHLElBQUksR0FBRyxDQUFDLFFBQVEsS0FBSyxDQUFDLEVBQUU7UUFDaEMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxVQUFpQixDQUFDO0tBQzdCO0lBQ0QsYUFBYSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ25CLE9BQU8sR0FBSSxDQUFDO0FBQ2QsQ0FBQztBQUVELE1BQU0sVUFBVSxnQkFBZ0IsQ0FBQyxJQUFVO0lBQ3pDLE9BQU8sSUFBSSxDQUFDLGFBQWEsSUFBSSxjQUFjLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLElBQUksQ0FBQztBQUNoRSxDQUFDO0FBRUQsTUFBTSxDQUFDLE1BQU0sY0FBYyxHQUFHLElBQUksT0FBTyxFQUFpQixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYXNzZXJ0RGVmaW5lZCB9IGZyb20gJy4uL2Fzc2VydC9hc3NlcnQnO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RG9jdW1lbnQobm9kZTogTm9kZSk6IERvY3VtZW50IHtcbiAgaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQ7XG4gIH1cbiAgaWYgKG5vZGUubm9kZVR5cGUgPT09IDkpIHtcbiAgICByZXR1cm4gbm9kZSBhcyBEb2N1bWVudDtcbiAgfVxuICBsZXQgZG9jID0gbm9kZS5vd25lckRvY3VtZW50O1xuICB3aGlsZSAoZG9jICYmIGRvYy5ub2RlVHlwZSAhPT0gOSkge1xuICAgIGRvYyA9IGRvYy5wYXJlbnROb2RlIGFzIGFueTtcbiAgfVxuICBhc3NlcnREZWZpbmVkKGRvYyk7XG4gIHJldHVybiBkb2MhO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UGFyZW50RWxlbWVudChub2RlOiBOb2RlKTogRWxlbWVudCB8IG51bGwge1xuICByZXR1cm4gbm9kZS5wYXJlbnRFbGVtZW50IHx8IHByZXZpb3VzUGFyZW50LmdldChub2RlKSB8fCBudWxsO1xufVxuXG5leHBvcnQgY29uc3QgcHJldmlvdXNQYXJlbnQgPSBuZXcgV2Vha01hcDxOb2RlLCBFbGVtZW50PigpO1xuIl19","import { assertDefined } from '../assert/assert';\nimport { QContainerSelector, QHostAttr } from '../util/markers';\nimport { getDocument } from '../util/dom';\nexport const CONTAINER = Symbol('container');\nexport function isStyleTask(obj) {\n    return obj && typeof obj === 'object' && obj.type === 'style';\n}\nlet _context;\nexport function tryGetInvokeContext() {\n    if (!_context) {\n        const context = typeof document !== 'undefined' && document && document.__q_context__;\n        if (!context) {\n            return undefined;\n        }\n        if (Array.isArray(context)) {\n            const element = context[0];\n            const hostElement = getHostElement(element);\n            assertDefined(element);\n            return (document.__q_context__ = newInvokeContext(getDocument(element), hostElement, element, context[1], context[2]));\n        }\n        return context;\n    }\n    return _context;\n}\nexport function getInvokeContext() {\n    const ctx = tryGetInvokeContext();\n    if (!ctx) {\n        throw new Error(\"Q-ERROR: invoking 'use*()' method outside of invocation context.\");\n    }\n    return ctx;\n}\nexport function useInvoke(context, fn, ...args) {\n    const previousContext = _context;\n    let returnValue;\n    try {\n        _context = context;\n        returnValue = fn.apply(null, args);\n    }\n    finally {\n        const currentCtx = _context;\n        _context = previousContext;\n        if (currentCtx.waitOn && currentCtx.waitOn.length > 0) {\n            // eslint-disable-next-line no-unsafe-finally\n            return Promise.all(currentCtx.waitOn).then(() => returnValue);\n        }\n    }\n    return returnValue;\n}\nexport function newInvokeContext(doc, hostElement, element, event, url) {\n    return {\n        seq: 0,\n        doc,\n        hostElement,\n        element,\n        event: event,\n        url: url || null,\n        qrl: undefined,\n    };\n}\n/**\n * @private\n */\nexport function useWaitOn(promise) {\n    const ctx = getInvokeContext();\n    (ctx.waitOn || (ctx.waitOn = [])).push(promise);\n}\nexport function getHostElement(el) {\n    let foundSlot = false;\n    let node = el;\n    while (node) {\n        const isHost = node.hasAttribute(QHostAttr);\n        const isSlot = node.tagName === 'Q:SLOT';\n        if (isHost) {\n            if (!foundSlot) {\n                break;\n            }\n            else {\n                foundSlot = false;\n            }\n        }\n        if (isSlot) {\n            foundSlot = true;\n        }\n        node = node.parentElement;\n    }\n    return node;\n}\nexport function getContainer(el) {\n    let container = el[CONTAINER];\n    if (!container) {\n        container = el.closest(QContainerSelector);\n        el[CONTAINER] = container;\n    }\n    return container;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLWNvcmUuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvdXNlL3VzZS1jb3JlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUVqRCxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsU0FBUyxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDaEUsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQU8xQyxNQUFNLENBQUMsTUFBTSxTQUFTLEdBQUcsTUFBTSxDQUFDLFdBQVcsQ0FBQyxDQUFDO0FBUTdDLE1BQU0sVUFBVSxXQUFXLENBQUMsR0FBUTtJQUNsQyxPQUFPLEdBQUcsSUFBSSxPQUFPLEdBQUcsS0FBSyxRQUFRLElBQUksR0FBRyxDQUFDLElBQUksS0FBSyxPQUFPLENBQUM7QUFDaEUsQ0FBQztBQW1CRCxJQUFJLFFBQW1DLENBQUM7QUFFeEMsTUFBTSxVQUFVLG1CQUFtQjtJQUNqQyxJQUFJLENBQUMsUUFBUSxFQUFFO1FBQ2IsTUFBTSxPQUFPLEdBQUcsT0FBTyxRQUFRLEtBQUssV0FBVyxJQUFJLFFBQVEsSUFBSSxRQUFRLENBQUMsYUFBYSxDQUFDO1FBQ3RGLElBQUksQ0FBQyxPQUFPLEVBQUU7WUFDWixPQUFPLFNBQVMsQ0FBQztTQUNsQjtRQUNELElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsRUFBRTtZQUMxQixNQUFNLE9BQU8sR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDM0IsTUFBTSxXQUFXLEdBQUcsY0FBYyxDQUFDLE9BQU8sQ0FBRSxDQUFDO1lBQzdDLGFBQWEsQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUN2QixPQUFPLENBQUMsUUFBUSxDQUFDLGFBQWEsR0FBRyxnQkFBZ0IsQ0FDL0MsV0FBVyxDQUFDLE9BQU8sQ0FBQyxFQUNwQixXQUFXLEVBQ1gsT0FBTyxFQUNQLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFDVixPQUFPLENBQUMsQ0FBQyxDQUFDLENBQ1gsQ0FBQyxDQUFDO1NBQ0o7UUFDRCxPQUFPLE9BQXdCLENBQUM7S0FDakM7SUFDRCxPQUFPLFFBQVEsQ0FBQztBQUNsQixDQUFDO0FBRUQsTUFBTSxVQUFVLGdCQUFnQjtJQUM5QixNQUFNLEdBQUcsR0FBRyxtQkFBbUIsRUFBRSxDQUFDO0lBQ2xDLElBQUksQ0FBQyxHQUFHLEVBQUU7UUFDUixNQUFNLElBQUksS0FBSyxDQUFDLGtFQUFrRSxDQUFDLENBQUM7S0FDckY7SUFDRCxPQUFPLEdBQUcsQ0FBQztBQUNiLENBQUM7QUFFRCxNQUFNLFVBQVUsU0FBUyxDQUN2QixPQUFzQixFQUN0QixFQUEwQixFQUMxQixHQUFHLElBQVU7SUFFYixNQUFNLGVBQWUsR0FBRyxRQUFRLENBQUM7SUFDakMsSUFBSSxXQUFnQixDQUFDO0lBQ3JCLElBQUk7UUFDRixRQUFRLEdBQUcsT0FBTyxDQUFDO1FBQ25CLFdBQVcsR0FBRyxFQUFFLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztLQUNwQztZQUFTO1FBQ1IsTUFBTSxVQUFVLEdBQUcsUUFBUyxDQUFDO1FBQzdCLFFBQVEsR0FBRyxlQUFlLENBQUM7UUFDM0IsSUFBSSxVQUFVLENBQUMsTUFBTSxJQUFJLFVBQVUsQ0FBQyxNQUFNLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtZQUNyRCw2Q0FBNkM7WUFDN0MsT0FBTyxPQUFPLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUMsV0FBVyxDQUFDLENBQUM7U0FDL0Q7S0FDRjtJQUNELE9BQU8sV0FBVyxDQUFDO0FBQ3JCLENBQUM7QUFDRCxNQUFNLFVBQVUsZ0JBQWdCLENBQzlCLEdBQWMsRUFDZCxXQUFxQixFQUNyQixPQUFpQixFQUNqQixLQUFXLEVBQ1gsR0FBUztJQUVULE9BQU87UUFDTCxHQUFHLEVBQUUsQ0FBQztRQUNOLEdBQUc7UUFDSCxXQUFXO1FBQ1gsT0FBTztRQUNQLEtBQUssRUFBRSxLQUFLO1FBQ1osR0FBRyxFQUFFLEdBQUcsSUFBSSxJQUFJO1FBQ2hCLEdBQUcsRUFBRSxTQUFTO0tBQ2YsQ0FBQztBQUNKLENBQUM7QUFFRDs7R0FFRztBQUNILE1BQU0sVUFBVSxTQUFTLENBQUMsT0FBNEI7SUFDcEQsTUFBTSxHQUFHLEdBQUcsZ0JBQWdCLEVBQUUsQ0FBQztJQUMvQixDQUFDLEdBQUcsQ0FBQyxNQUFNLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0FBQ2xELENBQUM7QUFFRCxNQUFNLFVBQVUsY0FBYyxDQUFDLEVBQVc7SUFDeEMsSUFBSSxTQUFTLEdBQUcsS0FBSyxDQUFDO0lBQ3RCLElBQUksSUFBSSxHQUFtQixFQUFFLENBQUM7SUFDOUIsT0FBTyxJQUFJLEVBQUU7UUFDWCxNQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQzVDLE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxPQUFPLEtBQUssUUFBUSxDQUFDO1FBQ3pDLElBQUksTUFBTSxFQUFFO1lBQ1YsSUFBSSxDQUFDLFNBQVMsRUFBRTtnQkFDZCxNQUFNO2FBQ1A7aUJBQU07Z0JBQ0wsU0FBUyxHQUFHLEtBQUssQ0FBQzthQUNuQjtTQUNGO1FBQ0QsSUFBSSxNQUFNLEVBQUU7WUFDVixTQUFTLEdBQUcsSUFBSSxDQUFDO1NBQ2xCO1FBQ0QsSUFBSSxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUM7S0FDM0I7SUFDRCxPQUFPLElBQUksQ0FBQztBQUNkLENBQUM7QUFFRCxNQUFNLFVBQVUsWUFBWSxDQUFDLEVBQVc7SUFDdEMsSUFBSSxTQUFTLEdBQUksRUFBVSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQ3ZDLElBQUksQ0FBQyxTQUFTLEVBQUU7UUFDZCxTQUFTLEdBQUcsRUFBRSxDQUFDLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO1FBQzFDLEVBQVUsQ0FBQyxTQUFTLENBQUMsR0FBRyxTQUFTLENBQUM7S0FDcEM7SUFDRCxPQUFPLFNBQVMsQ0FBQztBQUNuQixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBWYWx1ZU9yUHJvbWlzZSB9IGZyb20gJy4uL3V0aWwvdHlwZXMnO1xuaW1wb3J0IHR5cGUgeyBQcm9wcyB9IGZyb20gJy4uL3Byb3BzL3Byb3BzLnB1YmxpYyc7XG5pbXBvcnQgeyBhc3NlcnREZWZpbmVkIH0gZnJvbSAnLi4vYXNzZXJ0L2Fzc2VydCc7XG5pbXBvcnQgdHlwZSB7IFF3aWtEb2N1bWVudCB9IGZyb20gJy4uL2RvY3VtZW50JztcbmltcG9ydCB7IFFDb250YWluZXJTZWxlY3RvciwgUUhvc3RBdHRyIH0gZnJvbSAnLi4vdXRpbC9tYXJrZXJzJztcbmltcG9ydCB7IGdldERvY3VtZW50IH0gZnJvbSAnLi4vdXRpbC9kb20nO1xuaW1wb3J0IHR5cGUgeyBRUkwgfSBmcm9tICcuLic7XG5pbXBvcnQgdHlwZSB7IFN1YnNjcmliZXIgfSBmcm9tICcuL3VzZS1zdWJzY3JpYmVyJztcbmltcG9ydCB0eXBlIHsgV2F0Y2hEZXNjcmlwdG9yIH0gZnJvbSAnLi4vd2F0Y2gvd2F0Y2gucHVibGljJztcblxuZGVjbGFyZSBjb25zdCBkb2N1bWVudDogUXdpa0RvY3VtZW50O1xuXG5leHBvcnQgY29uc3QgQ09OVEFJTkVSID0gU3ltYm9sKCdjb250YWluZXInKTtcblxuZXhwb3J0IGludGVyZmFjZSBTdHlsZUFwcGVuZCB7XG4gIHR5cGU6ICdzdHlsZSc7XG4gIHN0eWxlSWQ6IHN0cmluZztcbiAgY29udGVudDogc3RyaW5nO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNTdHlsZVRhc2sob2JqOiBhbnkpOiBvYmogaXMgU3R5bGVBcHBlbmQge1xuICByZXR1cm4gb2JqICYmIHR5cGVvZiBvYmogPT09ICdvYmplY3QnICYmIG9iai50eXBlID09PSAnc3R5bGUnO1xufVxuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJbnZva2VDb250ZXh0IHtcbiAgdXJsOiBVUkwgfCBudWxsO1xuICBzZXE6IG51bWJlcjtcbiAgZG9jPzogRG9jdW1lbnQ7XG4gIGhvc3RFbGVtZW50PzogRWxlbWVudDtcbiAgZWxlbWVudD86IEVsZW1lbnQ7XG4gIGV2ZW50OiBhbnk7XG4gIHFybD86IFFSTDxhbnk+O1xuICB3YWl0T24/OiBWYWx1ZU9yUHJvbWlzZTxhbnk+W107XG4gIHByb3BzPzogUHJvcHM7XG4gIHN1YnNjcmliZXI/OiBTdWJzY3JpYmVyIHwgbnVsbDtcbiAgd2F0Y2g/OiBXYXRjaERlc2NyaXB0b3I7XG59XG5cbmxldCBfY29udGV4dDogSW52b2tlQ29udGV4dCB8IHVuZGVmaW5lZDtcblxuZXhwb3J0IGZ1bmN0aW9uIHRyeUdldEludm9rZUNvbnRleHQoKTogSW52b2tlQ29udGV4dCB8IHVuZGVmaW5lZCB7XG4gIGlmICghX2NvbnRleHQpIHtcbiAgICBjb25zdCBjb250ZXh0ID0gdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiBkb2N1bWVudCAmJiBkb2N1bWVudC5fX3FfY29udGV4dF9fO1xuICAgIGlmICghY29udGV4dCkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoY29udGV4dCkpIHtcbiAgICAgIGNvbnN0IGVsZW1lbnQgPSBjb250ZXh0WzBdO1xuICAgICAgY29uc3QgaG9zdEVsZW1lbnQgPSBnZXRIb3N0RWxlbWVudChlbGVtZW50KSE7XG4gICAgICBhc3NlcnREZWZpbmVkKGVsZW1lbnQpO1xuICAgICAgcmV0dXJuIChkb2N1bWVudC5fX3FfY29udGV4dF9fID0gbmV3SW52b2tlQ29udGV4dChcbiAgICAgICAgZ2V0RG9jdW1lbnQoZWxlbWVudCksXG4gICAgICAgIGhvc3RFbGVtZW50LFxuICAgICAgICBlbGVtZW50LFxuICAgICAgICBjb250ZXh0WzFdLFxuICAgICAgICBjb250ZXh0WzJdXG4gICAgICApKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRleHQgYXMgSW52b2tlQ29udGV4dDtcbiAgfVxuICByZXR1cm4gX2NvbnRleHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRJbnZva2VDb250ZXh0KCk6IEludm9rZUNvbnRleHQge1xuICBjb25zdCBjdHggPSB0cnlHZXRJbnZva2VDb250ZXh0KCk7XG4gIGlmICghY3R4KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiUS1FUlJPUjogaW52b2tpbmcgJ3VzZSooKScgbWV0aG9kIG91dHNpZGUgb2YgaW52b2NhdGlvbiBjb250ZXh0LlwiKTtcbiAgfVxuICByZXR1cm4gY3R4O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlSW52b2tlPEFSR1MgZXh0ZW5kcyBhbnlbXSA9IGFueVtdLCBSRVQgPSBhbnk+KFxuICBjb250ZXh0OiBJbnZva2VDb250ZXh0LFxuICBmbjogKC4uLmFyZ3M6IEFSR1MpID0+IFJFVCxcbiAgLi4uYXJnczogQVJHU1xuKTogVmFsdWVPclByb21pc2U8UkVUPiB7XG4gIGNvbnN0IHByZXZpb3VzQ29udGV4dCA9IF9jb250ZXh0O1xuICBsZXQgcmV0dXJuVmFsdWU6IFJFVDtcbiAgdHJ5IHtcbiAgICBfY29udGV4dCA9IGNvbnRleHQ7XG4gICAgcmV0dXJuVmFsdWUgPSBmbi5hcHBseShudWxsLCBhcmdzKTtcbiAgfSBmaW5hbGx5IHtcbiAgICBjb25zdCBjdXJyZW50Q3R4ID0gX2NvbnRleHQhO1xuICAgIF9jb250ZXh0ID0gcHJldmlvdXNDb250ZXh0O1xuICAgIGlmIChjdXJyZW50Q3R4LndhaXRPbiAmJiBjdXJyZW50Q3R4LndhaXRPbi5sZW5ndGggPiAwKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5zYWZlLWZpbmFsbHlcbiAgICAgIHJldHVybiBQcm9taXNlLmFsbChjdXJyZW50Q3R4LndhaXRPbikudGhlbigoKSA9PiByZXR1cm5WYWx1ZSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXR1cm5WYWx1ZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBuZXdJbnZva2VDb250ZXh0KFxuICBkb2M/OiBEb2N1bWVudCxcbiAgaG9zdEVsZW1lbnQ/OiBFbGVtZW50LFxuICBlbGVtZW50PzogRWxlbWVudCxcbiAgZXZlbnQ/OiBhbnksXG4gIHVybD86IFVSTFxuKTogSW52b2tlQ29udGV4dCB7XG4gIHJldHVybiB7XG4gICAgc2VxOiAwLFxuICAgIGRvYyxcbiAgICBob3N0RWxlbWVudCxcbiAgICBlbGVtZW50LFxuICAgIGV2ZW50OiBldmVudCxcbiAgICB1cmw6IHVybCB8fCBudWxsLFxuICAgIHFybDogdW5kZWZpbmVkLFxuICB9O1xufVxuXG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VXYWl0T24ocHJvbWlzZTogVmFsdWVPclByb21pc2U8YW55Pik6IHZvaWQge1xuICBjb25zdCBjdHggPSBnZXRJbnZva2VDb250ZXh0KCk7XG4gIChjdHgud2FpdE9uIHx8IChjdHgud2FpdE9uID0gW10pKS5wdXNoKHByb21pc2UpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0SG9zdEVsZW1lbnQoZWw6IEVsZW1lbnQpOiBFbGVtZW50IHwgbnVsbCB7XG4gIGxldCBmb3VuZFNsb3QgPSBmYWxzZTtcbiAgbGV0IG5vZGU6IEVsZW1lbnQgfCBudWxsID0gZWw7XG4gIHdoaWxlIChub2RlKSB7XG4gICAgY29uc3QgaXNIb3N0ID0gbm9kZS5oYXNBdHRyaWJ1dGUoUUhvc3RBdHRyKTtcbiAgICBjb25zdCBpc1Nsb3QgPSBub2RlLnRhZ05hbWUgPT09ICdROlNMT1QnO1xuICAgIGlmIChpc0hvc3QpIHtcbiAgICAgIGlmICghZm91bmRTbG90KSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm91bmRTbG90ID0gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChpc1Nsb3QpIHtcbiAgICAgIGZvdW5kU2xvdCA9IHRydWU7XG4gICAgfVxuICAgIG5vZGUgPSBub2RlLnBhcmVudEVsZW1lbnQ7XG4gIH1cbiAgcmV0dXJuIG5vZGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb250YWluZXIoZWw6IEVsZW1lbnQpOiBFbGVtZW50IHwgbnVsbCB7XG4gIGxldCBjb250YWluZXIgPSAoZWwgYXMgYW55KVtDT05UQUlORVJdO1xuICBpZiAoIWNvbnRhaW5lcikge1xuICAgIGNvbnRhaW5lciA9IGVsLmNsb3Nlc3QoUUNvbnRhaW5lclNlbGVjdG9yKTtcbiAgICAoZWwgYXMgYW55KVtDT05UQUlORVJdID0gY29udGFpbmVyO1xuICB9XG4gIHJldHVybiBjb250YWluZXI7XG59XG4iXX0=","export function flattenArray(array, dst) {\n    // Yes this function is just Array.flat, but we need to run on old versions of Node.\n    if (!dst)\n        dst = [];\n    for (const item of array) {\n        if (Array.isArray(item)) {\n            flattenArray(item, dst);\n        }\n        else {\n            dst.push(item);\n        }\n    }\n    return dst;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXJyYXkuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvdXRpbC9hcnJheS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxNQUFNLFVBQVUsWUFBWSxDQUFJLEtBQWtCLEVBQUUsR0FBUztJQUMzRCxvRkFBb0Y7SUFDcEYsSUFBSSxDQUFDLEdBQUc7UUFBRSxHQUFHLEdBQUcsRUFBRSxDQUFDO0lBQ25CLEtBQUssTUFBTSxJQUFJLElBQUksS0FBSyxFQUFFO1FBQ3hCLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRTtZQUN2QixZQUFZLENBQUMsSUFBSSxFQUFFLEdBQUcsQ0FBQyxDQUFDO1NBQ3pCO2FBQU07WUFDTCxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQ2hCO0tBQ0Y7SUFDRCxPQUFPLEdBQUcsQ0FBQztBQUNiLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gZmxhdHRlbkFycmF5PFQ+KGFycmF5OiAoVCB8IFRbXSlbXSwgZHN0PzogVFtdKTogVFtdIHtcbiAgLy8gWWVzIHRoaXMgZnVuY3Rpb24gaXMganVzdCBBcnJheS5mbGF0LCBidXQgd2UgbmVlZCB0byBydW4gb24gb2xkIHZlcnNpb25zIG9mIE5vZGUuXG4gIGlmICghZHN0KSBkc3QgPSBbXTtcbiAgZm9yIChjb25zdCBpdGVtIG9mIGFycmF5KSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoaXRlbSkpIHtcbiAgICAgIGZsYXR0ZW5BcnJheShpdGVtLCBkc3QpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkc3QucHVzaChpdGVtKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGRzdDtcbn1cbiJdfQ==","import { flattenArray } from './array';\n/**\n * Converts a tree of Promises into a flat array of resolved promise values.\n *\n * @param tree - array of arrays of values or promises of values.\n * @returns a `Promise` of array of values.\n */\nexport function flattenPromiseTree(tree) {\n    return Promise.all(tree).then((values) => {\n        const flatArray = flattenArray(values);\n        for (let i = 0; i < flatArray.length; i++) {\n            if (isPromise(flatArray[i])) {\n                return flattenPromiseTree(flatArray);\n            }\n        }\n        return flatArray;\n    });\n}\nexport function isPromise(value) {\n    return value instanceof Promise;\n}\nexport const then = (promise, thenFn) => {\n    return isPromise(promise) ? promise.then(thenFn) : thenFn(promise);\n};\nexport const promiseAll = (promises) => {\n    const hasPromise = promises.some(isPromise);\n    if (hasPromise) {\n        return Promise.all(promises);\n    }\n    return promises;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvbWlzZXMuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvdXRpbC9wcm9taXNlcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sU0FBUyxDQUFDO0FBSXZDOzs7OztHQUtHO0FBQ0gsTUFBTSxVQUFVLGtCQUFrQixDQUFJLElBQW9CO0lBQ3hELE9BQU8sT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFXLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFhLEVBQUUsRUFBRTtRQUNyRCxNQUFNLFNBQVMsR0FBRyxZQUFZLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDdkMsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDekMsSUFBSSxTQUFTLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUU7Z0JBQzNCLE9BQU8sa0JBQWtCLENBQUMsU0FBUyxDQUFDLENBQUM7YUFDdEM7U0FDRjtRQUNELE9BQU8sU0FBUyxDQUFDO0lBQ25CLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQztBQUVELE1BQU0sVUFBVSxTQUFTLENBQUMsS0FBVTtJQUNsQyxPQUFPLEtBQUssWUFBWSxPQUFPLENBQUM7QUFDbEMsQ0FBQztBQUVELE1BQU0sQ0FBQyxNQUFNLElBQUksR0FBRyxDQUNsQixPQUEwQixFQUMxQixNQUE4QyxFQUMzQixFQUFFO0lBQ3JCLE9BQU8sU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLE1BQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsT0FBYyxDQUFDLENBQUM7QUFDbkYsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sVUFBVSxHQUFHLENBQWtCLFFBQVcsRUFBcUIsRUFBRTtJQUM1RSxNQUFNLFVBQVUsR0FBRyxRQUFRLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQzVDLElBQUksVUFBVSxFQUFFO1FBQ2QsT0FBTyxPQUFPLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0tBQzlCO0lBQ0QsT0FBTyxRQUFRLENBQUM7QUFDbEIsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBWYWx1ZU9yUHJvbWlzZSB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgZmxhdHRlbkFycmF5IH0gZnJvbSAnLi9hcnJheSc7XG5cbmV4cG9ydCB0eXBlIFByb21pc2VUcmVlPFQ+ID0gVCB8IFByb21pc2U8VD4gfCBQcm9taXNlPFRbXT4gfCBBcnJheTxQcm9taXNlVHJlZTxUPj47XG5cbi8qKlxuICogQ29udmVydHMgYSB0cmVlIG9mIFByb21pc2VzIGludG8gYSBmbGF0IGFycmF5IG9mIHJlc29sdmVkIHByb21pc2UgdmFsdWVzLlxuICpcbiAqIEBwYXJhbSB0cmVlIC0gYXJyYXkgb2YgYXJyYXlzIG9mIHZhbHVlcyBvciBwcm9taXNlcyBvZiB2YWx1ZXMuXG4gKiBAcmV0dXJucyBhIGBQcm9taXNlYCBvZiBhcnJheSBvZiB2YWx1ZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmbGF0dGVuUHJvbWlzZVRyZWU8VD4odHJlZTogUHJvbWlzZVRyZWU8VD4pOiBQcm9taXNlPFRbXT4ge1xuICByZXR1cm4gUHJvbWlzZS5hbGwodHJlZSBhcyBUW10pLnRoZW4oKHZhbHVlczogYW55W10pID0+IHtcbiAgICBjb25zdCBmbGF0QXJyYXkgPSBmbGF0dGVuQXJyYXkodmFsdWVzKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZsYXRBcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGlzUHJvbWlzZShmbGF0QXJyYXlbaV0pKSB7XG4gICAgICAgIHJldHVybiBmbGF0dGVuUHJvbWlzZVRyZWUoZmxhdEFycmF5KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZsYXRBcnJheTtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1Byb21pc2UodmFsdWU6IGFueSk6IHZhbHVlIGlzIFByb21pc2U8YW55PiB7XG4gIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFByb21pc2U7XG59XG5cbmV4cG9ydCBjb25zdCB0aGVuID0gPFQsIEI+KFxuICBwcm9taXNlOiBWYWx1ZU9yUHJvbWlzZTxUPixcbiAgdGhlbkZuOiAoYXJnOiBBd2FpdGVkPFQ+KSA9PiBWYWx1ZU9yUHJvbWlzZTxCPlxuKTogVmFsdWVPclByb21pc2U8Qj4gPT4ge1xuICByZXR1cm4gaXNQcm9taXNlKHByb21pc2UpID8gcHJvbWlzZS50aGVuKHRoZW5GbiBhcyBhbnkpIDogdGhlbkZuKHByb21pc2UgYXMgYW55KTtcbn07XG5cbmV4cG9ydCBjb25zdCBwcm9taXNlQWxsID0gPFQgZXh0ZW5kcyBhbnlbXT4ocHJvbWlzZXM6IFQpOiBWYWx1ZU9yUHJvbWlzZTxUPiA9PiB7XG4gIGNvbnN0IGhhc1Byb21pc2UgPSBwcm9taXNlcy5zb21lKGlzUHJvbWlzZSk7XG4gIGlmIChoYXNQcm9taXNlKSB7XG4gICAgcmV0dXJuIFByb21pc2UuYWxsKHByb21pc2VzKTtcbiAgfVxuICByZXR1cm4gcHJvbWlzZXM7XG59O1xuIl19","import { newInvokeContext, useInvoke } from '../use/use-core';\nimport { then } from '../util/promises';\nimport { qrlImport, stringifyQRL } from './qrl';\nexport function isQrl(value) {\n    return value instanceof QRLInternal;\n}\nclass QRL {\n    constructor(chunk, symbol, symbolRef, symbolFn, capture, captureRef) {\n        this.chunk = chunk;\n        this.symbol = symbol;\n        this.symbolRef = symbolRef;\n        this.symbolFn = symbolFn;\n        this.capture = capture;\n        this.captureRef = captureRef;\n    }\n    setContainer(el) {\n        if (!this.el) {\n            this.el = el;\n        }\n    }\n    async resolve(el) {\n        if (el) {\n            this.setContainer(el);\n        }\n        return qrlImport(this.el, this);\n    }\n    invokeFn(el, currentCtx, beforeFn) {\n        return ((...args) => {\n            const fn = (typeof this.symbolRef === 'function' ? this.symbolRef : this.resolve(el));\n            return then(fn, (fn) => {\n                if (typeof fn === 'function') {\n                    const baseContext = currentCtx ?? newInvokeContext();\n                    const context = {\n                        ...baseContext,\n                        qrl: this,\n                    };\n                    if (beforeFn) {\n                        beforeFn();\n                    }\n                    return useInvoke(context, fn, ...args);\n                }\n                throw new Error('QRL is not a function');\n            });\n        });\n    }\n    copy() {\n        const copy = new QRLInternal(this.chunk, this.symbol, this.symbolRef, this.symbolFn, null, this.captureRef);\n        copy.refSymbol = this.refSymbol;\n        return copy;\n    }\n    invoke(...args) {\n        const fn = this.invokeFn();\n        return fn(...args);\n    }\n    serialize(options) {\n        return stringifyQRL(this, options);\n    }\n}\nexport const getCanonicalSymbol = (symbolName) => {\n    const index = symbolName.lastIndexOf('_');\n    if (index > -1) {\n        return symbolName.slice(index + 1);\n    }\n    return symbolName;\n};\nexport const isSameQRL = (a, b) => {\n    return getCanonicalSymbol(a.symbol) === getCanonicalSymbol(b.symbol);\n};\nexport const QRLInternal = QRL;\n// https://regexr.com/6enjv\nconst FIND_EXT = /\\?[\\w=&]+$/;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicXJsLWNsYXNzLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL2ltcG9ydC9xcmwtY2xhc3MudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFpQixnQkFBZ0IsRUFBRSxTQUFTLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUM3RSxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFFeEMsT0FBTyxFQUFFLFNBQVMsRUFBdUIsWUFBWSxFQUFFLE1BQU0sT0FBTyxDQUFDO0FBR3JFLE1BQU0sVUFBVSxLQUFLLENBQUMsS0FBVTtJQUM5QixPQUFPLEtBQUssWUFBWSxXQUFXLENBQUM7QUFDdEMsQ0FBQztBQUVELE1BQU0sR0FBRztJQU1QLFlBQ1MsS0FBYSxFQUNiLE1BQWMsRUFDZCxTQUFzQyxFQUN0QyxRQUFxRCxFQUNyRCxPQUF3QixFQUN4QixVQUF3QjtRQUx4QixVQUFLLEdBQUwsS0FBSyxDQUFRO1FBQ2IsV0FBTSxHQUFOLE1BQU0sQ0FBUTtRQUNkLGNBQVMsR0FBVCxTQUFTLENBQTZCO1FBQ3RDLGFBQVEsR0FBUixRQUFRLENBQTZDO1FBQ3JELFlBQU8sR0FBUCxPQUFPLENBQWlCO1FBQ3hCLGVBQVUsR0FBVixVQUFVLENBQWM7SUFDOUIsQ0FBQztJQUVKLFlBQVksQ0FBQyxFQUFXO1FBQ3RCLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxFQUFFO1lBQ1osSUFBSSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUM7U0FDZDtJQUNILENBQUM7SUFFRCxLQUFLLENBQUMsT0FBTyxDQUFDLEVBQVk7UUFDeEIsSUFBSSxFQUFFLEVBQUU7WUFDTixJQUFJLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1NBQ3ZCO1FBQ0QsT0FBTyxTQUFTLENBQUMsSUFBSSxDQUFDLEVBQUUsRUFBRSxJQUFXLENBQUMsQ0FBQztJQUN6QyxDQUFDO0lBRUQsUUFBUSxDQUFDLEVBQVksRUFBRSxVQUEwQixFQUFFLFFBQXFCO1FBQ3RFLE9BQU8sQ0FBQyxDQUFDLEdBQUcsSUFBVyxFQUFPLEVBQUU7WUFDOUIsTUFBTSxFQUFFLEdBQUcsQ0FBQyxPQUFPLElBQUksQ0FBQyxTQUFTLEtBQUssVUFBVSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxDQUFTLENBQUM7WUFDOUYsT0FBTyxJQUFJLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUU7Z0JBQ3JCLElBQUksT0FBTyxFQUFFLEtBQUssVUFBVSxFQUFFO29CQUM1QixNQUFNLFdBQVcsR0FBRyxVQUFVLElBQUksZ0JBQWdCLEVBQUUsQ0FBQztvQkFDckQsTUFBTSxPQUFPLEdBQWtCO3dCQUM3QixHQUFHLFdBQVc7d0JBQ2QsR0FBRyxFQUFFLElBQUk7cUJBQ1YsQ0FBQztvQkFDRixJQUFJLFFBQVEsRUFBRTt3QkFDWixRQUFRLEVBQUUsQ0FBQztxQkFDWjtvQkFDRCxPQUFPLFNBQVMsQ0FBQyxPQUFPLEVBQUUsRUFBUyxFQUFFLEdBQUcsSUFBSSxDQUFDLENBQUM7aUJBQy9DO2dCQUNELE1BQU0sSUFBSSxLQUFLLENBQUMsdUJBQXVCLENBQUMsQ0FBQztZQUMzQyxDQUFDLENBQUMsQ0FBQztRQUNMLENBQUMsQ0FBUSxDQUFDO0lBQ1osQ0FBQztJQUVELElBQUk7UUFDRixNQUFNLElBQUksR0FBRyxJQUFJLFdBQVcsQ0FDMUIsSUFBSSxDQUFDLEtBQUssRUFDVixJQUFJLENBQUMsTUFBTSxFQUNYLElBQUksQ0FBQyxTQUFTLEVBQ2QsSUFBSSxDQUFDLFFBQVEsRUFDYixJQUFJLEVBQ0osSUFBSSxDQUFDLFVBQVUsQ0FDaEIsQ0FBQztRQUNGLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQztRQUNoQyxPQUFPLElBQUksQ0FBQztJQUNkLENBQUM7SUFFRCxNQUFNLENBQUMsR0FBRyxJQUE4RDtRQUN0RSxNQUFNLEVBQUUsR0FBRyxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDM0IsT0FBTyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQVEsQ0FBQztJQUM1QixDQUFDO0lBRUQsU0FBUyxDQUFDLE9BQTZCO1FBQ3JDLE9BQU8sWUFBWSxDQUFDLElBQUksRUFBRSxPQUFPLENBQUMsQ0FBQztJQUNyQyxDQUFDO0NBQ0Y7QUFFRCxNQUFNLENBQUMsTUFBTSxrQkFBa0IsR0FBRyxDQUFDLFVBQWtCLEVBQUUsRUFBRTtJQUN2RCxNQUFNLEtBQUssR0FBRyxVQUFVLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQzFDLElBQUksS0FBSyxHQUFHLENBQUMsQ0FBQyxFQUFFO1FBQ2QsT0FBTyxVQUFVLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsQ0FBQztLQUNwQztJQUNELE9BQU8sVUFBVSxDQUFDO0FBQ3BCLENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLFNBQVMsR0FBRyxDQUFDLENBQVcsRUFBRSxDQUFXLEVBQVcsRUFBRTtJQUM3RCxPQUFPLGtCQUFrQixDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBSyxrQkFBa0IsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDdkUsQ0FBQyxDQUFDO0FBR0YsTUFBTSxDQUFDLE1BQU0sV0FBVyxHQUFlLEdBQUcsQ0FBQztBQUUzQywyQkFBMkI7QUFDM0IsTUFBTSxRQUFRLEdBQUcsWUFBWSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW52b2tlQ29udGV4dCwgbmV3SW52b2tlQ29udGV4dCwgdXNlSW52b2tlIH0gZnJvbSAnLi4vdXNlL3VzZS1jb3JlJztcbmltcG9ydCB7IHRoZW4gfSBmcm9tICcuLi91dGlsL3Byb21pc2VzJztcbmltcG9ydCB0eXBlIHsgVmFsdWVPclByb21pc2UgfSBmcm9tICcuLi91dGlsL3R5cGVzJztcbmltcG9ydCB7IHFybEltcG9ydCwgUVJMU2VyaWFsaXplT3B0aW9ucywgc3RyaW5naWZ5UVJMIH0gZnJvbSAnLi9xcmwnO1xuaW1wb3J0IHR5cGUgeyBRUkwgYXMgSVFSTCB9IGZyb20gJy4vcXJsLnB1YmxpYyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1FybCh2YWx1ZTogYW55KTogdmFsdWUgaXMgUVJMSW50ZXJuYWwge1xuICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBRUkxJbnRlcm5hbDtcbn1cblxuY2xhc3MgUVJMPFRZUEUgPSBhbnk+IGltcGxlbWVudHMgSVFSTDxUWVBFPiB7XG4gIF9fYnJhbmRfX1FSTF9fITogVFlQRTtcbiAgcmVmU3ltYm9sPzogc3RyaW5nO1xuXG4gIHByaXZhdGUgZWw6IEVsZW1lbnQgfCB1bmRlZmluZWQ7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIGNodW5rOiBzdHJpbmcsXG4gICAgcHVibGljIHN5bWJvbDogc3RyaW5nLFxuICAgIHB1YmxpYyBzeW1ib2xSZWY6IG51bGwgfCBWYWx1ZU9yUHJvbWlzZTxUWVBFPixcbiAgICBwdWJsaWMgc3ltYm9sRm46IG51bGwgfCAoKCkgPT4gUHJvbWlzZTxSZWNvcmQ8c3RyaW5nLCBhbnk+PiksXG4gICAgcHVibGljIGNhcHR1cmU6IG51bGwgfCBzdHJpbmdbXSxcbiAgICBwdWJsaWMgY2FwdHVyZVJlZjogbnVsbCB8IGFueVtdXG4gICkge31cblxuICBzZXRDb250YWluZXIoZWw6IEVsZW1lbnQpIHtcbiAgICBpZiAoIXRoaXMuZWwpIHtcbiAgICAgIHRoaXMuZWwgPSBlbDtcbiAgICB9XG4gIH1cblxuICBhc3luYyByZXNvbHZlKGVsPzogRWxlbWVudCk6IFByb21pc2U8VFlQRT4ge1xuICAgIGlmIChlbCkge1xuICAgICAgdGhpcy5zZXRDb250YWluZXIoZWwpO1xuICAgIH1cbiAgICByZXR1cm4gcXJsSW1wb3J0KHRoaXMuZWwsIHRoaXMgYXMgYW55KTtcbiAgfVxuXG4gIGludm9rZUZuKGVsPzogRWxlbWVudCwgY3VycmVudEN0eD86IEludm9rZUNvbnRleHQsIGJlZm9yZUZuPzogKCkgPT4gdm9pZCk6IGFueSB7XG4gICAgcmV0dXJuICgoLi4uYXJnczogYW55W10pOiBhbnkgPT4ge1xuICAgICAgY29uc3QgZm4gPSAodHlwZW9mIHRoaXMuc3ltYm9sUmVmID09PSAnZnVuY3Rpb24nID8gdGhpcy5zeW1ib2xSZWYgOiB0aGlzLnJlc29sdmUoZWwpKSBhcyBUWVBFO1xuICAgICAgcmV0dXJuIHRoZW4oZm4sIChmbikgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIGZuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgY29uc3QgYmFzZUNvbnRleHQgPSBjdXJyZW50Q3R4ID8/IG5ld0ludm9rZUNvbnRleHQoKTtcbiAgICAgICAgICBjb25zdCBjb250ZXh0OiBJbnZva2VDb250ZXh0ID0ge1xuICAgICAgICAgICAgLi4uYmFzZUNvbnRleHQsXG4gICAgICAgICAgICBxcmw6IHRoaXMsXG4gICAgICAgICAgfTtcbiAgICAgICAgICBpZiAoYmVmb3JlRm4pIHtcbiAgICAgICAgICAgIGJlZm9yZUZuKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB1c2VJbnZva2UoY29udGV4dCwgZm4gYXMgYW55LCAuLi5hcmdzKTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1FSTCBpcyBub3QgYSBmdW5jdGlvbicpO1xuICAgICAgfSk7XG4gICAgfSkgYXMgYW55O1xuICB9XG5cbiAgY29weSgpOiBRUkxJbnRlcm5hbDxUWVBFPiB7XG4gICAgY29uc3QgY29weSA9IG5ldyBRUkxJbnRlcm5hbChcbiAgICAgIHRoaXMuY2h1bmssXG4gICAgICB0aGlzLnN5bWJvbCxcbiAgICAgIHRoaXMuc3ltYm9sUmVmLFxuICAgICAgdGhpcy5zeW1ib2xGbixcbiAgICAgIG51bGwsXG4gICAgICB0aGlzLmNhcHR1cmVSZWZcbiAgICApO1xuICAgIGNvcHkucmVmU3ltYm9sID0gdGhpcy5yZWZTeW1ib2w7XG4gICAgcmV0dXJuIGNvcHk7XG4gIH1cblxuICBpbnZva2UoLi4uYXJnczogVFlQRSBleHRlbmRzICguLi5hcmdzOiBpbmZlciBBUkdTKSA9PiBhbnkgPyBBUkdTIDogbmV2ZXIpIHtcbiAgICBjb25zdCBmbiA9IHRoaXMuaW52b2tlRm4oKTtcbiAgICByZXR1cm4gZm4oLi4uYXJncykgYXMgYW55O1xuICB9XG5cbiAgc2VyaWFsaXplKG9wdGlvbnM/OiBRUkxTZXJpYWxpemVPcHRpb25zKSB7XG4gICAgcmV0dXJuIHN0cmluZ2lmeVFSTCh0aGlzLCBvcHRpb25zKTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgZ2V0Q2Fub25pY2FsU3ltYm9sID0gKHN5bWJvbE5hbWU6IHN0cmluZykgPT4ge1xuICBjb25zdCBpbmRleCA9IHN5bWJvbE5hbWUubGFzdEluZGV4T2YoJ18nKTtcbiAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICByZXR1cm4gc3ltYm9sTmFtZS5zbGljZShpbmRleCArIDEpO1xuICB9XG4gIHJldHVybiBzeW1ib2xOYW1lO1xufTtcblxuZXhwb3J0IGNvbnN0IGlzU2FtZVFSTCA9IChhOiBRUkw8YW55PiwgYjogUVJMPGFueT4pOiBib29sZWFuID0+IHtcbiAgcmV0dXJuIGdldENhbm9uaWNhbFN5bWJvbChhLnN5bWJvbCkgPT09IGdldENhbm9uaWNhbFN5bWJvbChiLnN5bWJvbCk7XG59O1xuXG5leHBvcnQgdHlwZSBRUkxJbnRlcm5hbDxUID0gYW55PiA9IFFSTDxUPjtcbmV4cG9ydCBjb25zdCBRUkxJbnRlcm5hbDogdHlwZW9mIFFSTCA9IFFSTDtcblxuLy8gaHR0cHM6Ly9yZWdleHIuY29tLzZlbmp2XG5jb25zdCBGSU5EX0VYVCA9IC9cXD9bXFx3PSZdKyQvO1xuIl19","import { getContainer } from '../use/use-core';\nimport { getDocument } from '../util/dom';\nexport const createPlatform = (doc) => {\n    const moduleCache = new Map();\n    return {\n        isServer: false,\n        importSymbol(element, url, symbolName) {\n            const urlDoc = toUrl(doc, element, url).toString();\n            const urlCopy = new URL(urlDoc);\n            urlCopy.hash = '';\n            urlCopy.search = '';\n            const importURL = urlCopy.href;\n            const mod = moduleCache.get(importURL);\n            if (mod) {\n                return mod[symbolName];\n            }\n            return import(/* @vite-ignore */ importURL).then((mod) => {\n                moduleCache.set(importURL, mod);\n                return mod[symbolName];\n            });\n        },\n        raf: (fn) => {\n            return new Promise((resolve) => {\n                requestAnimationFrame(() => {\n                    resolve(fn());\n                });\n            });\n        },\n        nextTick: (fn) => {\n            return new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(fn());\n                });\n            });\n        },\n        chunkForSymbol() {\n            return undefined;\n        },\n    };\n};\n/**\n * Convert relative base URI and relative URL into a fully qualified URL.\n *\n * @param base -`QRL`s are relative, and therefore they need a base for resolution.\n *    - `Element` use `base.ownerDocument.baseURI`\n *    - `Document` use `base.baseURI`\n *    - `string` use `base` as is\n *    - `QConfig` use `base.baseURI`\n * @param url - relative URL\n * @returns fully qualified URL.\n */\nexport function toUrl(doc, element, url) {\n    const containerEl = getContainer(element);\n    const base = new URL(containerEl?.getAttribute('q:base') ?? doc.baseURI, doc.baseURI);\n    return new URL(url, base);\n}\n/**\n * @public\n */\nexport const setPlatform = (doc, plt) => (doc[DocumentPlatform] = plt);\n/**\n * @public\n */\nexport const getPlatform = (docOrNode) => {\n    const doc = getDocument(docOrNode);\n    return doc[DocumentPlatform] || (doc[DocumentPlatform] = createPlatform(doc));\n};\nconst DocumentPlatform = /*@__PURE__*/ Symbol();\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGxhdGZvcm0uanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvcGxhdGZvcm0vcGxhdGZvcm0udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQy9DLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFHMUMsTUFBTSxDQUFDLE1BQU0sY0FBYyxHQUFHLENBQUMsR0FBYSxFQUFnQixFQUFFO0lBQzVELE1BQU0sV0FBVyxHQUFHLElBQUksR0FBRyxFQUFxQyxDQUFDO0lBQ2pFLE9BQU87UUFDTCxRQUFRLEVBQUUsS0FBSztRQUNmLFlBQVksQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLFVBQVU7WUFDbkMsTUFBTSxNQUFNLEdBQUcsS0FBSyxDQUFDLEdBQUcsRUFBRSxPQUFPLEVBQUUsR0FBRyxDQUFDLENBQUMsUUFBUSxFQUFFLENBQUM7WUFFbkQsTUFBTSxPQUFPLEdBQUcsSUFBSSxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDaEMsT0FBTyxDQUFDLElBQUksR0FBRyxFQUFFLENBQUM7WUFDbEIsT0FBTyxDQUFDLE1BQU0sR0FBRyxFQUFFLENBQUM7WUFDcEIsTUFBTSxTQUFTLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQztZQUMvQixNQUFNLEdBQUcsR0FBRyxXQUFXLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBQ3ZDLElBQUksR0FBRyxFQUFFO2dCQUNQLE9BQU8sR0FBRyxDQUFDLFVBQVUsQ0FBQyxDQUFDO2FBQ3hCO1lBQ0QsT0FBTyxNQUFNLENBQUMsa0JBQWtCLENBQUMsU0FBUyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxFQUFFLEVBQUU7Z0JBQ3ZELFdBQVcsQ0FBQyxHQUFHLENBQUMsU0FBUyxFQUFFLEdBQUcsQ0FBQyxDQUFDO2dCQUNoQyxPQUFPLEdBQUcsQ0FBQyxVQUFVLENBQUMsQ0FBQztZQUN6QixDQUFDLENBQUMsQ0FBQztRQUNMLENBQUM7UUFDRCxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRTtZQUNWLE9BQU8sSUFBSSxPQUFPLENBQUMsQ0FBQyxPQUFPLEVBQUUsRUFBRTtnQkFDN0IscUJBQXFCLENBQUMsR0FBRyxFQUFFO29CQUN6QixPQUFPLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztnQkFDaEIsQ0FBQyxDQUFDLENBQUM7WUFDTCxDQUFDLENBQUMsQ0FBQztRQUNMLENBQUM7UUFDRCxRQUFRLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRTtZQUNmLE9BQU8sSUFBSSxPQUFPLENBQUMsQ0FBQyxPQUFPLEVBQUUsRUFBRTtnQkFDN0IsVUFBVSxDQUFDLEdBQUcsRUFBRTtvQkFDZCxPQUFPLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztnQkFDaEIsQ0FBQyxDQUFDLENBQUM7WUFDTCxDQUFDLENBQUMsQ0FBQztRQUNMLENBQUM7UUFDRCxjQUFjO1lBQ1osT0FBTyxTQUFTLENBQUM7UUFDbkIsQ0FBQztLQUNGLENBQUM7QUFDSixDQUFDLENBQUM7QUFFRjs7Ozs7Ozs7OztHQVVHO0FBQ0gsTUFBTSxVQUFVLEtBQUssQ0FBQyxHQUFhLEVBQUUsT0FBZ0IsRUFBRSxHQUFpQjtJQUN0RSxNQUFNLFdBQVcsR0FBRyxZQUFZLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDMUMsTUFBTSxJQUFJLEdBQUcsSUFBSSxHQUFHLENBQUMsV0FBVyxFQUFFLFlBQVksQ0FBQyxRQUFRLENBQUMsSUFBSSxHQUFHLENBQUMsT0FBTyxFQUFFLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUN0RixPQUFPLElBQUksR0FBRyxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsQ0FBQztBQUM1QixDQUFDO0FBRUQ7O0dBRUc7QUFDSCxNQUFNLENBQUMsTUFBTSxXQUFXLEdBQUcsQ0FBQyxHQUFhLEVBQUUsR0FBaUIsRUFBRSxFQUFFLENBQzlELENBQUUsR0FBd0IsQ0FBQyxnQkFBZ0IsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDO0FBRXREOztHQUVHO0FBQ0gsTUFBTSxDQUFDLE1BQU0sV0FBVyxHQUFHLENBQUMsU0FBMEIsRUFBRSxFQUFFO0lBQ3hELE1BQU0sR0FBRyxHQUFHLFdBQVcsQ0FBQyxTQUFTLENBQXFCLENBQUM7SUFDdkQsT0FBTyxHQUFHLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxnQkFBZ0IsQ0FBQyxHQUFHLGNBQWMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO0FBQ2hGLENBQUMsQ0FBQztBQUVGLE1BQU0sZ0JBQWdCLEdBQUcsYUFBYSxDQUFDLE1BQU0sRUFBRSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0Q29udGFpbmVyIH0gZnJvbSAnLi4vdXNlL3VzZS1jb3JlJztcbmltcG9ydCB7IGdldERvY3VtZW50IH0gZnJvbSAnLi4vdXRpbC9kb20nO1xuaW1wb3J0IHR5cGUgeyBDb3JlUGxhdGZvcm0gfSBmcm9tICcuL3R5cGVzJztcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZVBsYXRmb3JtID0gKGRvYzogRG9jdW1lbnQpOiBDb3JlUGxhdGZvcm0gPT4ge1xuICBjb25zdCBtb2R1bGVDYWNoZSA9IG5ldyBNYXA8c3RyaW5nLCB7IFtzeW1ib2w6IHN0cmluZ106IGFueSB9PigpO1xuICByZXR1cm4ge1xuICAgIGlzU2VydmVyOiBmYWxzZSxcbiAgICBpbXBvcnRTeW1ib2woZWxlbWVudCwgdXJsLCBzeW1ib2xOYW1lKSB7XG4gICAgICBjb25zdCB1cmxEb2MgPSB0b1VybChkb2MsIGVsZW1lbnQsIHVybCkudG9TdHJpbmcoKTtcblxuICAgICAgY29uc3QgdXJsQ29weSA9IG5ldyBVUkwodXJsRG9jKTtcbiAgICAgIHVybENvcHkuaGFzaCA9ICcnO1xuICAgICAgdXJsQ29weS5zZWFyY2ggPSAnJztcbiAgICAgIGNvbnN0IGltcG9ydFVSTCA9IHVybENvcHkuaHJlZjtcbiAgICAgIGNvbnN0IG1vZCA9IG1vZHVsZUNhY2hlLmdldChpbXBvcnRVUkwpO1xuICAgICAgaWYgKG1vZCkge1xuICAgICAgICByZXR1cm4gbW9kW3N5bWJvbE5hbWVdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGltcG9ydCgvKiBAdml0ZS1pZ25vcmUgKi8gaW1wb3J0VVJMKS50aGVuKChtb2QpID0+IHtcbiAgICAgICAgbW9kdWxlQ2FjaGUuc2V0KGltcG9ydFVSTCwgbW9kKTtcbiAgICAgICAgcmV0dXJuIG1vZFtzeW1ib2xOYW1lXTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgcmFmOiAoZm4pID0+IHtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUoZm4oKSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBuZXh0VGljazogKGZuKSA9PiB7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShmbigpKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGNodW5rRm9yU3ltYm9sKCkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9LFxuICB9O1xufTtcblxuLyoqXG4gKiBDb252ZXJ0IHJlbGF0aXZlIGJhc2UgVVJJIGFuZCByZWxhdGl2ZSBVUkwgaW50byBhIGZ1bGx5IHF1YWxpZmllZCBVUkwuXG4gKlxuICogQHBhcmFtIGJhc2UgLWBRUkxgcyBhcmUgcmVsYXRpdmUsIGFuZCB0aGVyZWZvcmUgdGhleSBuZWVkIGEgYmFzZSBmb3IgcmVzb2x1dGlvbi5cbiAqICAgIC0gYEVsZW1lbnRgIHVzZSBgYmFzZS5vd25lckRvY3VtZW50LmJhc2VVUklgXG4gKiAgICAtIGBEb2N1bWVudGAgdXNlIGBiYXNlLmJhc2VVUklgXG4gKiAgICAtIGBzdHJpbmdgIHVzZSBgYmFzZWAgYXMgaXNcbiAqICAgIC0gYFFDb25maWdgIHVzZSBgYmFzZS5iYXNlVVJJYFxuICogQHBhcmFtIHVybCAtIHJlbGF0aXZlIFVSTFxuICogQHJldHVybnMgZnVsbHkgcXVhbGlmaWVkIFVSTC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvVXJsKGRvYzogRG9jdW1lbnQsIGVsZW1lbnQ6IEVsZW1lbnQsIHVybDogc3RyaW5nIHwgVVJMKTogVVJMIHtcbiAgY29uc3QgY29udGFpbmVyRWwgPSBnZXRDb250YWluZXIoZWxlbWVudCk7XG4gIGNvbnN0IGJhc2UgPSBuZXcgVVJMKGNvbnRhaW5lckVsPy5nZXRBdHRyaWJ1dGUoJ3E6YmFzZScpID8/IGRvYy5iYXNlVVJJLCBkb2MuYmFzZVVSSSk7XG4gIHJldHVybiBuZXcgVVJMKHVybCwgYmFzZSk7XG59XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3Qgc2V0UGxhdGZvcm0gPSAoZG9jOiBEb2N1bWVudCwgcGx0OiBDb3JlUGxhdGZvcm0pID0+XG4gICgoZG9jIGFzIFBsYXRmb3JtRG9jdW1lbnQpW0RvY3VtZW50UGxhdGZvcm1dID0gcGx0KTtcblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRQbGF0Zm9ybSA9IChkb2NPck5vZGU6IERvY3VtZW50IHwgTm9kZSkgPT4ge1xuICBjb25zdCBkb2MgPSBnZXREb2N1bWVudChkb2NPck5vZGUpIGFzIFBsYXRmb3JtRG9jdW1lbnQ7XG4gIHJldHVybiBkb2NbRG9jdW1lbnRQbGF0Zm9ybV0gfHwgKGRvY1tEb2N1bWVudFBsYXRmb3JtXSA9IGNyZWF0ZVBsYXRmb3JtKGRvYykpO1xufTtcblxuY29uc3QgRG9jdW1lbnRQbGF0Zm9ybSA9IC8qQF9fUFVSRV9fKi8gU3ltYm9sKCk7XG5cbmludGVyZmFjZSBQbGF0Zm9ybURvY3VtZW50IGV4dGVuZHMgRG9jdW1lbnQge1xuICBbRG9jdW1lbnRQbGF0Zm9ybV0/OiBDb3JlUGxhdGZvcm07XG59XG4iXX0=","import { QHostAttr, QSlotAttr } from './markers';\n/**\n * Returns true if the `node` is `Element` and of the right `tagName`.\n *\n * @param node\n * @private\n */\nexport function isDomElementWithTagName(node, tagName) {\n    return isHtmlElement(node) && node.tagName.toUpperCase() == tagName.toUpperCase();\n}\n/**\n * @private\n */\nexport function isTemplateElement(node) {\n    return isDomElementWithTagName(node, 'template');\n}\n/**\n * @private\n */\nexport function isQSLotTemplateElement(node) {\n    return isTemplateElement(node) && node.hasAttribute(QSlotAttr);\n}\n/**\n * @private\n */\nexport function isComponentElement(node) {\n    return isHtmlElement(node) && node.hasAttribute(QHostAttr);\n}\n/**\n * @private\n */\nexport function isHtmlElement(node) {\n    return node ? node.nodeType === NodeType.ELEMENT_NODE : false;\n}\n/**\n * `Node.type` enumeration\n */\nexport var NodeType;\n(function (NodeType) {\n    NodeType[NodeType[\"ELEMENT_NODE\"] = 1] = \"ELEMENT_NODE\";\n    NodeType[NodeType[\"ATTRIBUTE_NODE\"] = 2] = \"ATTRIBUTE_NODE\";\n    NodeType[NodeType[\"TEXT_NODE\"] = 3] = \"TEXT_NODE\";\n    NodeType[NodeType[\"CDATA_SECTION_NODE\"] = 4] = \"CDATA_SECTION_NODE\";\n    NodeType[NodeType[\"PROCESSING_INSTRUCTION_NODE\"] = 7] = \"PROCESSING_INSTRUCTION_NODE\";\n    // document, such as <?xml-stylesheet ‚Ä¶ ?>.\n    NodeType[NodeType[\"COMMENT_NODE\"] = 8] = \"COMMENT_NODE\";\n    NodeType[NodeType[\"DOCUMENT_NODE\"] = 9] = \"DOCUMENT_NODE\";\n    NodeType[NodeType[\"DOCUMENT_TYPE_NODE\"] = 10] = \"DOCUMENT_TYPE_NODE\";\n    NodeType[NodeType[\"DOCUMENT_FRAGMENT_NODE\"] = 11] = \"DOCUMENT_FRAGMENT_NODE\";\n})(NodeType || (NodeType = {}));\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHlwZXMuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvdXRpbC90eXBlcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxNQUFNLFdBQVcsQ0FBQztBQUVqRDs7Ozs7R0FLRztBQUNILE1BQU0sVUFBVSx1QkFBdUIsQ0FDckMsSUFBNkIsRUFDN0IsT0FBZTtJQUVmLE9BQU8sYUFBYSxDQUFDLElBQUksQ0FBQyxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsV0FBVyxFQUFFLElBQUksT0FBTyxDQUFDLFdBQVcsRUFBRSxDQUFDO0FBQ3BGLENBQUM7QUFFRDs7R0FFRztBQUNILE1BQU0sVUFBVSxpQkFBaUIsQ0FBQyxJQUE2QjtJQUM3RCxPQUFPLHVCQUF1QixDQUFDLElBQUksRUFBRSxVQUFVLENBQUMsQ0FBQztBQUNuRCxDQUFDO0FBRUQ7O0dBRUc7QUFDSCxNQUFNLFVBQVUsc0JBQXNCLENBQUMsSUFBNkI7SUFDbEUsT0FBTyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0FBQ2pFLENBQUM7QUFFRDs7R0FFRztBQUNILE1BQU0sVUFBVSxrQkFBa0IsQ0FBQyxJQUE2QjtJQUM5RCxPQUFPLGFBQWEsQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0FBQzdELENBQUM7QUFFRDs7R0FFRztBQUNILE1BQU0sVUFBVSxhQUFhLENBQUMsSUFBUztJQUNyQyxPQUFPLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsS0FBSyxRQUFRLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7QUFDaEUsQ0FBQztBQVFEOztHQUVHO0FBQ0gsTUFBTSxDQUFOLElBQWtCLFFBV2pCO0FBWEQsV0FBa0IsUUFBUTtJQUN4Qix1REFBZ0IsQ0FBQTtJQUNoQiwyREFBa0IsQ0FBQTtJQUNsQixpREFBYSxDQUFBO0lBQ2IsbUVBQXNCLENBQUE7SUFDdEIscUZBQStCLENBQUE7SUFDL0IsMkNBQTJDO0lBQzNDLHVEQUFnQixDQUFBO0lBQ2hCLHlEQUFpQixDQUFBO0lBQ2pCLG9FQUF1QixDQUFBO0lBQ3ZCLDRFQUEyQixDQUFBO0FBQzdCLENBQUMsRUFYaUIsUUFBUSxLQUFSLFFBQVEsUUFXekIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBRSG9zdEF0dHIsIFFTbG90QXR0ciB9IGZyb20gJy4vbWFya2Vycyc7XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBgbm9kZWAgaXMgYEVsZW1lbnRgIGFuZCBvZiB0aGUgcmlnaHQgYHRhZ05hbWVgLlxuICpcbiAqIEBwYXJhbSBub2RlXG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNEb21FbGVtZW50V2l0aFRhZ05hbWUoXG4gIG5vZGU6IE5vZGUgfCBudWxsIHwgdW5kZWZpbmVkLFxuICB0YWdOYW1lOiBzdHJpbmdcbik6IG5vZGUgaXMgRWxlbWVudCB7XG4gIHJldHVybiBpc0h0bWxFbGVtZW50KG5vZGUpICYmIG5vZGUudGFnTmFtZS50b1VwcGVyQ2FzZSgpID09IHRhZ05hbWUudG9VcHBlckNhc2UoKTtcbn1cblxuLyoqXG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNUZW1wbGF0ZUVsZW1lbnQobm9kZTogTm9kZSB8IG51bGwgfCB1bmRlZmluZWQpOiBub2RlIGlzIEhUTUxUZW1wbGF0ZUVsZW1lbnQge1xuICByZXR1cm4gaXNEb21FbGVtZW50V2l0aFRhZ05hbWUobm9kZSwgJ3RlbXBsYXRlJyk7XG59XG5cbi8qKlxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzUVNMb3RUZW1wbGF0ZUVsZW1lbnQobm9kZTogTm9kZSB8IG51bGwgfCB1bmRlZmluZWQpOiBub2RlIGlzIEhUTUxUZW1wbGF0ZUVsZW1lbnQge1xuICByZXR1cm4gaXNUZW1wbGF0ZUVsZW1lbnQobm9kZSkgJiYgbm9kZS5oYXNBdHRyaWJ1dGUoUVNsb3RBdHRyKTtcbn1cblxuLyoqXG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNDb21wb25lbnRFbGVtZW50KG5vZGU6IE5vZGUgfCBudWxsIHwgdW5kZWZpbmVkKTogbm9kZSBpcyBIVE1MRWxlbWVudCB7XG4gIHJldHVybiBpc0h0bWxFbGVtZW50KG5vZGUpICYmIG5vZGUuaGFzQXR0cmlidXRlKFFIb3N0QXR0cik7XG59XG5cbi8qKlxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzSHRtbEVsZW1lbnQobm9kZTogYW55KTogbm9kZSBpcyBFbGVtZW50IHtcbiAgcmV0dXJuIG5vZGUgPyBub2RlLm5vZGVUeXBlID09PSBOb2RlVHlwZS5FTEVNRU5UX05PREUgOiBmYWxzZTtcbn1cblxuLyoqXG4gKiBUeXBlIHJlcHJlc2VudGluZyBhIHZhbHVlIHdoaWNoIGlzIGVpdGhlciByZXNvbHZlIG9yIGEgcHJvbWlzZS5cbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHR5cGUgVmFsdWVPclByb21pc2U8VD4gPSBUIHwgUHJvbWlzZTxUPjtcblxuLyoqXG4gKiBgTm9kZS50eXBlYCBlbnVtZXJhdGlvblxuICovXG5leHBvcnQgY29uc3QgZW51bSBOb2RlVHlwZSB7XG4gIEVMRU1FTlRfTk9ERSA9IDEsIC8vIEFuIEVsZW1lbnQgbm9kZSBsaWtlIDxwPiBvciA8ZGl2Pi5cbiAgQVRUUklCVVRFX05PREUgPSAyLCAvLyBBbiBBdHRyaWJ1dGUgb2YgYW4gRWxlbWVudC5cbiAgVEVYVF9OT0RFID0gMywgLy8gVGhlIGFjdHVhbCBUZXh0IGluc2lkZSBhbiBFbGVtZW50IG9yIEF0dHIuXG4gIENEQVRBX1NFQ1RJT05fTk9ERSA9IDQsIC8vIEEgQ0RBVEFTZWN0aW9uLCBzdWNoIGFzIDwhQ0RBVEFbWyDigKYgXV0+LlxuICBQUk9DRVNTSU5HX0lOU1RSVUNUSU9OX05PREUgPSA3LCAvLyBBIFByb2Nlc3NpbmdJbnN0cnVjdGlvbiBvZiBhbiBYTUxcbiAgLy8gZG9jdW1lbnQsIHN1Y2ggYXMgPD94bWwtc3R5bGVzaGVldCDigKYgPz4uXG4gIENPTU1FTlRfTk9ERSA9IDgsIC8vIEEgQ29tbWVudCBub2RlLCBzdWNoIGFzIDwhLS0g4oCmIC0tPi5cbiAgRE9DVU1FTlRfTk9ERSA9IDksIC8vIEEgRG9jdW1lbnQgbm9kZS5cbiAgRE9DVU1FTlRfVFlQRV9OT0RFID0gMTAsIC8vIEEgRG9jdW1lbnRUeXBlIG5vZGUsIHN1Y2ggYXMgPCFET0NUWVBFIGh0bWw+LlxuICBET0NVTUVOVF9GUkFHTUVOVF9OT0RFID0gMTEsIC8vIEEgRG9jdW1lbnRGcmFnbWVudCBub2RlLlxufVxuIl19","import { isHtmlElement } from '../util/types';\nexport function stringifyDebug(value) {\n    if (value == null)\n        return String(value);\n    if (typeof value === 'function')\n        return value.name;\n    if (isHtmlElement(value))\n        return stringifyElement(value);\n    if (value instanceof URL)\n        return String(value);\n    if (typeof value === 'object')\n        return JSON.stringify(value, function (key, value) {\n            if (isHtmlElement(value))\n                return stringifyElement(value);\n            return value;\n        });\n    return String(value);\n}\nexport function stringifyElement(element) {\n    let html = '<' + element.localName;\n    const attributes = element.attributes;\n    const names = [];\n    for (let i = 0; i < attributes.length; i++) {\n        names.push(attributes[i].name);\n    }\n    names.sort();\n    for (let i = 0; i < names.length; i++) {\n        const name = names[i];\n        let value = element.getAttribute(name);\n        if (value?.startsWith('file:/')) {\n            value = value.replace(/(file:\\/\\/).*(\\/.*)$/, (all, protocol, file) => protocol + '...' + file);\n        }\n        html +=\n            ' ' + name + (value == null || value == '' ? '' : \"='\" + value.replace(\"'\", '&apos;') + \"'\");\n    }\n    return html + '>';\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RyaW5naWZ5LmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL2Vycm9yL3N0cmluZ2lmeS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBRTlDLE1BQU0sVUFBVSxjQUFjLENBQUMsS0FBVTtJQUN2QyxJQUFJLEtBQUssSUFBSSxJQUFJO1FBQUUsT0FBTyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDeEMsSUFBSSxPQUFPLEtBQUssS0FBSyxVQUFVO1FBQUUsT0FBTyxLQUFLLENBQUMsSUFBSSxDQUFDO0lBQ25ELElBQUksYUFBYSxDQUFDLEtBQUssQ0FBQztRQUFFLE9BQU8sZ0JBQWdCLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDekQsSUFBSSxLQUFLLFlBQVksR0FBRztRQUFFLE9BQU8sTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQy9DLElBQUksT0FBTyxLQUFLLEtBQUssUUFBUTtRQUMzQixPQUFPLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxFQUFFLFVBQXFCLEdBQVcsRUFBRSxLQUFVO1lBQ3ZFLElBQUksYUFBYSxDQUFDLEtBQUssQ0FBQztnQkFBRSxPQUFPLGdCQUFnQixDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ3pELE9BQU8sS0FBSyxDQUFDO1FBQ2YsQ0FBQyxDQUFDLENBQUM7SUFDTCxPQUFPLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUN2QixDQUFDO0FBRUQsTUFBTSxVQUFVLGdCQUFnQixDQUFDLE9BQWdCO0lBQy9DLElBQUksSUFBSSxHQUFHLEdBQUcsR0FBRyxPQUFPLENBQUMsU0FBUyxDQUFDO0lBQ25DLE1BQU0sVUFBVSxHQUFHLE9BQU8sQ0FBQyxVQUFVLENBQUM7SUFDdEMsTUFBTSxLQUFLLEdBQUcsRUFBRSxDQUFDO0lBQ2pCLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxVQUFVLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO1FBQzFDLEtBQUssQ0FBQyxJQUFJLENBQUUsVUFBVSxDQUFDLENBQUMsQ0FBVSxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQzFDO0lBQ0QsS0FBSyxDQUFDLElBQUksRUFBRSxDQUFDO0lBQ2IsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7UUFDckMsTUFBTSxJQUFJLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3RCLElBQUksS0FBSyxHQUFHLE9BQU8sQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDdkMsSUFBSSxLQUFLLEVBQUUsVUFBVSxDQUFDLFFBQVEsQ0FBQyxFQUFFO1lBQy9CLEtBQUssR0FBRyxLQUFLLENBQUMsT0FBTyxDQUNuQixzQkFBc0IsRUFDdEIsQ0FBQyxHQUFHLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBRSxFQUFFLENBQUMsUUFBUSxHQUFHLEtBQUssR0FBRyxJQUFJLENBQ2pELENBQUM7U0FDSDtRQUNELElBQUk7WUFDRixHQUFHLEdBQUcsSUFBSSxHQUFHLENBQUMsS0FBSyxJQUFJLElBQUksSUFBSSxLQUFLLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxRQUFRLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQztLQUNoRztJQUNELE9BQU8sSUFBSSxHQUFHLEdBQUcsQ0FBQztBQUNwQixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNIdG1sRWxlbWVudCB9IGZyb20gJy4uL3V0aWwvdHlwZXMnO1xuXG5leHBvcnQgZnVuY3Rpb24gc3RyaW5naWZ5RGVidWcodmFsdWU6IGFueSk6IHN0cmluZyB8IG51bGwge1xuICBpZiAodmFsdWUgPT0gbnVsbCkgcmV0dXJuIFN0cmluZyh2YWx1ZSk7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicpIHJldHVybiB2YWx1ZS5uYW1lO1xuICBpZiAoaXNIdG1sRWxlbWVudCh2YWx1ZSkpIHJldHVybiBzdHJpbmdpZnlFbGVtZW50KHZhbHVlKTtcbiAgaWYgKHZhbHVlIGluc3RhbmNlb2YgVVJMKSByZXR1cm4gU3RyaW5nKHZhbHVlKTtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpXG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHZhbHVlLCBmdW5jdGlvbiAodGhpczogYW55LCBrZXk6IHN0cmluZywgdmFsdWU6IGFueSkge1xuICAgICAgaWYgKGlzSHRtbEVsZW1lbnQodmFsdWUpKSByZXR1cm4gc3RyaW5naWZ5RWxlbWVudCh2YWx1ZSk7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSk7XG4gIHJldHVybiBTdHJpbmcodmFsdWUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc3RyaW5naWZ5RWxlbWVudChlbGVtZW50OiBFbGVtZW50KTogc3RyaW5nIHtcbiAgbGV0IGh0bWwgPSAnPCcgKyBlbGVtZW50LmxvY2FsTmFtZTtcbiAgY29uc3QgYXR0cmlidXRlcyA9IGVsZW1lbnQuYXR0cmlidXRlcztcbiAgY29uc3QgbmFtZXMgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhdHRyaWJ1dGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgbmFtZXMucHVzaCgoYXR0cmlidXRlc1tpXSBhcyBBdHRyKS5uYW1lKTtcbiAgfVxuICBuYW1lcy5zb3J0KCk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBuYW1lID0gbmFtZXNbaV07XG4gICAgbGV0IHZhbHVlID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUobmFtZSk7XG4gICAgaWYgKHZhbHVlPy5zdGFydHNXaXRoKCdmaWxlOi8nKSkge1xuICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKFxuICAgICAgICAvKGZpbGU6XFwvXFwvKS4qKFxcLy4qKSQvLFxuICAgICAgICAoYWxsLCBwcm90b2NvbCwgZmlsZSkgPT4gcHJvdG9jb2wgKyAnLi4uJyArIGZpbGVcbiAgICAgICk7XG4gICAgfVxuICAgIGh0bWwgKz1cbiAgICAgICcgJyArIG5hbWUgKyAodmFsdWUgPT0gbnVsbCB8fCB2YWx1ZSA9PSAnJyA/ICcnIDogXCI9J1wiICsgdmFsdWUucmVwbGFjZShcIidcIiwgJyZhcG9zOycpICsgXCInXCIpO1xuICB9XG4gIHJldHVybiBodG1sICsgJz4nO1xufVxuIl19","import { stringifyDebug } from './stringify';\nimport { qDev } from '../util/qdev';\nexport var QError;\n(function (QError) {\n    // core 000-099\n    QError[QError[\"TODO\"] = 0] = \"TODO\";\n    QError[QError[\"Core_qConfigNotFound_path\"] = 1] = \"Core_qConfigNotFound_path\";\n    QError[QError[\"Core_unrecognizedStack_frame\"] = 2] = \"Core_unrecognizedStack_frame\";\n    QError[QError[\"Core_noAttribute_atr1_element\"] = 3] = \"Core_noAttribute_atr1_element\";\n    QError[QError[\"Core_noAttribute_atr1_attr2_element\"] = 4] = \"Core_noAttribute_atr1_attr2_element\";\n    QError[QError[\"Core_missingProperty_name_props\"] = 5] = \"Core_missingProperty_name_props\";\n    QError[QError[\"Core_missingExport_name_url_props\"] = 6] = \"Core_missingExport_name_url_props\";\n    // QRL 100-199\n    QError[QError[\"QRL_expectFunction_url_actual\"] = 100] = \"QRL_expectFunction_url_actual\";\n    // Injection 200-299\n    QError[QError[\"Injector_noHost_element\"] = 200] = \"Injector_noHost_element\";\n    QError[QError[\"Injector_expectedSpecificInjector_expected_actual\"] = 201] = \"Injector_expectedSpecificInjector_expected_actual\";\n    QError[QError[\"Injector_notElement_arg\"] = 202] = \"Injector_notElement_arg\";\n    QError[QError[\"Injector_wrongMethodThis_expected_actual\"] = 203] = \"Injector_wrongMethodThis_expected_actual\";\n    QError[QError[\"Injector_missingSerializedState_entityKey_element\"] = 204] = \"Injector_missingSerializedState_entityKey_element\";\n    QError[QError[\"Injector_notFound_element\"] = 206] = \"Injector_notFound_element\";\n    QError[QError[\"Injector_eventInjectorNotSerializable\"] = 207] = \"Injector_eventInjectorNotSerializable\";\n    // Entities 300-399\n    QError[QError[\"Entity_notValidKey_key\"] = 300] = \"Entity_notValidKey_key\";\n    QError[QError[\"Entity_keyAlreadyExists_key\"] = 301] = \"Entity_keyAlreadyExists_key\";\n    QError[QError[\"Entity_invalidAttribute_name\"] = 303] = \"Entity_invalidAttribute_name\";\n    QError[QError[\"Entity_missingExpandoOrState_attrName\"] = 304] = \"Entity_missingExpandoOrState_attrName\";\n    QError[QError[\"Entity_elementMissingEntityAttr_element_attr\"] = 305] = \"Entity_elementMissingEntityAttr_element_attr\";\n    QError[QError[\"Entity_noState_entity_props\"] = 306] = \"Entity_noState_entity_props\";\n    QError[QError[\"Entity_expected_obj\"] = 307] = \"Entity_expected_obj\";\n    QError[QError[\"Entity_overridesConstructor_entity\"] = 308] = \"Entity_overridesConstructor_entity\";\n    QError[QError[\"Entity_keyMissingParts_key_key\"] = 309] = \"Entity_keyMissingParts_key_key\";\n    QError[QError[\"Entity_no$type_entity\"] = 310] = \"Entity_no$type_entity\";\n    QError[QError[\"Entity_no$keyProps_entity\"] = 311] = \"Entity_no$keyProps_entity\";\n    QError[QError[\"Entity_no$qrl_entity\"] = 312] = \"Entity_no$qrl_entity\";\n    QError[QError[\"Entity_nameCollision_name_currentQrl_expectedQrl\"] = 313] = \"Entity_nameCollision_name_currentQrl_expectedQrl\";\n    QError[QError[\"Entity_keyTooManyParts_entity_parts_key\"] = 314] = \"Entity_keyTooManyParts_entity_parts_key\";\n    QError[QError[\"Entity_keyNameMismatch_key_name_entity_name\"] = 315] = \"Entity_keyNameMismatch_key_name_entity_name\";\n    QError[QError[\"Entity_stateMissingKey_state\"] = 316] = \"Entity_stateMissingKey_state\";\n    // Component 400-499\n    QError[QError[\"Component_bindNeedsKey\"] = 400] = \"Component_bindNeedsKey\";\n    QError[QError[\"Component_bindNeedsValue\"] = 401] = \"Component_bindNeedsValue\";\n    QError[QError[\"Component_needsState\"] = 402] = \"Component_needsState\";\n    QError[QError[\"Component_needsInjectionContext_constructor\"] = 403] = \"Component_needsInjectionContext_constructor\";\n    QError[QError[\"Component_noProperty_propName_props_host\"] = 404] = \"Component_noProperty_propName_props_host\";\n    QError[QError[\"Component_notFound_component\"] = 405] = \"Component_notFound_component\";\n    QError[QError[\"Component_doesNotMatch_component_actual\"] = 406] = \"Component_doesNotMatch_component_actual\";\n    QError[QError[\"Component_noState_component_props\"] = 408] = \"Component_noState_component_props\";\n    // Provider 500-599\n    QError[QError[\"Provider_unrecognizedFormat_value\"] = 500] = \"Provider_unrecognizedFormat_value\";\n    // Render 600-699\n    QError[QError[\"Render_unexpectedJSXNodeType_type\"] = 600] = \"Render_unexpectedJSXNodeType_type\";\n    QError[QError[\"Render_unsupportedFormat_obj_attr\"] = 601] = \"Render_unsupportedFormat_obj_attr\";\n    QError[QError[\"Render_expectingEntity_entity\"] = 602] = \"Render_expectingEntity_entity\";\n    QError[QError[\"Render_expectingEntityArray_obj\"] = 603] = \"Render_expectingEntityArray_obj\";\n    QError[QError[\"Render_expectingEntityOrComponent_obj\"] = 604] = \"Render_expectingEntityOrComponent_obj\";\n    QError[QError[\"Render_stateMachineStuck\"] = 699] = \"Render_stateMachineStuck\";\n    // Event\n    QError[QError[\"Event_emitEventRequiresName_url\"] = 700] = \"Event_emitEventRequiresName_url\";\n    QError[QError[\"Event_emitEventCouldNotFindListener_event_element\"] = 701] = \"Event_emitEventCouldNotFindListener_event_element\";\n})(QError || (QError = {}));\nexport function qError(code, ...args) {\n    if (qDev) {\n        const text = codeToText(code);\n        const parts = text.split('{}');\n        const error = parts\n            .map((value, index) => {\n            return value + (index === parts.length - 1 ? '' : stringifyDebug(args[index]));\n        })\n            .join('');\n        debugger; // eslint-disable-line no-debugger\n        return new Error(error);\n    }\n    else {\n        return new Error(`QError ` + code);\n    }\n}\nfunction codeToText(code) {\n    const area = {\n        0: 'ERROR',\n        1: 'QRL-ERROR',\n        2: 'INJECTOR-ERROR',\n        3: 'SERVICE-ERROR',\n        4: 'COMPONENT-ERROR',\n        5: 'PROVIDER-ERROR',\n        6: 'RENDER-ERROR',\n        7: 'EVENT-ERROR',\n    }[Math.floor(code / 100)];\n    const text = {\n        [QError.TODO]: '{}',\n        [QError.Core_qConfigNotFound_path]: \"QConfig not found in path '{}'.\",\n        [QError.Core_unrecognizedStack_frame]: \"Unrecognized stack format '{}'\",\n        [QError.Core_noAttribute_atr1_element]: \"Could not find entity state '{}' at '{}' or any of it's parents.\",\n        [QError.Core_noAttribute_atr1_attr2_element]: \"Could not find entity state '{}' ( or entity provider '{}') at '{}' or any of it's parents.\",\n        [QError.Core_missingProperty_name_props]: \"Missing property '{}' in props '{}'.\",\n        [QError.Core_missingExport_name_url_props]: \"Missing export '{}' from '{}'. Exported symbols are: {}\",\n        //////////////\n        [QError.QRL_expectFunction_url_actual]: \"QRL '${}' should point to function, was '{}'.\",\n        //////////////\n        [QError.Injector_noHost_element]: \"Can't find host element above '{}'.\",\n        [QError.Injector_expectedSpecificInjector_expected_actual]: \"Provider is expecting '{}' but got '{}'.\",\n        [QError.Injector_notElement_arg]: \"Expected 'Element' was '{}'.\",\n        [QError.Injector_wrongMethodThis_expected_actual]: \"Expected injection 'this' to be of type '{}', but was of type '{}'.\",\n        [QError.Injector_missingSerializedState_entityKey_element]: \"Entity key '{}' is found on '{}' but does not contain state. Was 'serializeState()' not run during dehydration?\",\n        [QError.Injector_notFound_element]: \"No injector can be found starting at '{}'.\",\n        [QError.Injector_eventInjectorNotSerializable]: 'EventInjector does not support serialization.',\n        //////////////\n        [QError.Entity_notValidKey_key]: \"Data key '{}' is not a valid key.\\n\" +\n            '  - Data key can only contain characters (preferably lowercase) or number\\n' +\n            '  - Data key is prefixed with entity name\\n' +\n            \"  - Data key is made up from parts that are separated with ':'.\",\n        [QError.Entity_keyAlreadyExists_key]: \"A entity with key '{}' already exists.\",\n        [QError.Entity_invalidAttribute_name]: \"'{}' is not a valid attribute. \" +\n            \"Attributes can only contain 'a-z' (lowercase), '0-9', '-' and '_'.\",\n        [QError.Entity_missingExpandoOrState_attrName]: \"Found '{}' but expando did not have entity and attribute did not have state.\",\n        [QError.Entity_elementMissingEntityAttr_element_attr]: \"Element '{}' is missing entity attribute definition '{}'.\",\n        [QError.Entity_noState_entity_props]: \"Unable to create state for entity '{}' with props '{}' because no state found and '$newState()' method was not defined on entity.\",\n        [QError.Entity_expected_obj]: \"'{}' is not an instance of 'Entity'.\",\n        [QError.Entity_overridesConstructor_entity]: \"'{}' overrides 'constructor' property preventing 'EntityType' retrieval.\",\n        [QError.Entity_no$keyProps_entity]: \"Entity '{}' does not define '$keyProps'.\",\n        [QError.Entity_no$type_entity]: \"Entity '{}' must have static '$type' property defining the name of the entity.\",\n        [QError.Entity_no$qrl_entity]: \"Entity '{}' must have static '$qrl' property defining the import location of the entity.\",\n        [QError.Entity_nameCollision_name_currentQrl_expectedQrl]: \"Name collision. Already have entity named '{}' with QRL '{}' but expected QRL '{}'.\",\n        [QError.Entity_keyMissingParts_key_key]: \"Entity key '{}' is missing values. Expecting '{}:someValue'.\",\n        [QError.Entity_keyTooManyParts_entity_parts_key]: \"Entity '{}' defines '$keyProps' as  '{}'. Actual key '{}' has more parts than entity defines.\",\n        [QError.Entity_keyNameMismatch_key_name_entity_name]: \"Key '{}' belongs to entity named '{}', but expected entity '{}' with name '{}'.\",\n        [QError.Entity_stateMissingKey_state]: \"Entity state is missing '$key'. Are you sure you passed in state? Got '{}'.\",\n        //////////////\n        [QError.Component_bindNeedsKey]: \"'bind:' must have an key. (Example: 'bind:key=\\\"propertyName\\\"').\",\n        [QError.Component_bindNeedsValue]: \"'bind:id' must have a property name. (Example: 'bind:key=\\\"propertyName\\\"').\",\n        [QError.Component_needsState]: \"Can't find state on host element.\",\n        [QError.Component_needsInjectionContext_constructor]: \"Components must be instantiated inside an injection context. Use '{}.new(...)' for creation.\",\n        [QError.Component_noProperty_propName_props_host]: \"Property '{}' not found in '{}' on component '{}'.\",\n        [QError.Component_notFound_component]: \"Unable to find '{}' component.\",\n        [QError.Component_doesNotMatch_component_actual]: \"Requesting component type '{}' does not match existing component instance '{}'.\",\n        [QError.Component_noState_component_props]: \"Unable to create state for component '{}' with props '{}' because no state found and '$newState()' method was not defined on component.\",\n        //////////////\n        [QError.Provider_unrecognizedFormat_value]: \"Unrecognized expression format '{}'.\",\n        //////////////\n        [QError.Render_unexpectedJSXNodeType_type]: 'Unexpected JSXNode<{}> type.',\n        [QError.Render_unsupportedFormat_obj_attr]: \"Value '{}' can't be written into '{}' attribute.\",\n        [QError.Render_expectingEntity_entity]: \"Expecting entity object, got '{}'.\",\n        [QError.Render_expectingEntityArray_obj]: \"Expecting array of entities, got '{}'.\",\n        [QError.Render_expectingEntityOrComponent_obj]: \"Expecting Entity or Component got '{}'.\",\n        [QError.Render_stateMachineStuck]: 'Render state machine did not advance.',\n        //////////////\n        [QError.Event_emitEventRequiresName_url]: \"Missing '$type' attribute in the '{}' url.\",\n        [QError.Event_emitEventCouldNotFindListener_event_element]: \"Re-emitting event '{}' but no listener found at '{}' or any of its parents.\",\n    }[code];\n    let textCode = '000' + code;\n    textCode = textCode.slice(-3);\n    return `${area}(Q-${textCode}): ${text}`;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXJyb3IuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvZXJyb3IvZXJyb3IudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUM3QyxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sY0FBYyxDQUFDO0FBRXBDLE1BQU0sQ0FBTixJQUFrQixNQXlEakI7QUF6REQsV0FBa0IsTUFBTTtJQUN0QixlQUFlO0lBQ2YsbUNBQVEsQ0FBQTtJQUNSLDZFQUE2QixDQUFBO0lBQzdCLG1GQUFnQyxDQUFBO0lBQ2hDLHFGQUFpQyxDQUFBO0lBQ2pDLGlHQUF1QyxDQUFBO0lBQ3ZDLHlGQUFtQyxDQUFBO0lBQ25DLDZGQUFxQyxDQUFBO0lBQ3JDLGNBQWM7SUFDZCx1RkFBbUMsQ0FBQTtJQUNuQyxvQkFBb0I7SUFDcEIsMkVBQTZCLENBQUE7SUFDN0IsK0hBQXVELENBQUE7SUFDdkQsMkVBQTZCLENBQUE7SUFDN0IsNkdBQThDLENBQUE7SUFDOUMsK0hBQXVELENBQUE7SUFDdkQsK0VBQStCLENBQUE7SUFDL0IsdUdBQTJDLENBQUE7SUFDM0MsbUJBQW1CO0lBQ25CLHlFQUE0QixDQUFBO0lBQzVCLG1GQUFpQyxDQUFBO0lBQ2pDLHFGQUFrQyxDQUFBO0lBQ2xDLHVHQUEyQyxDQUFBO0lBQzNDLHFIQUFrRCxDQUFBO0lBQ2xELG1GQUFpQyxDQUFBO0lBQ2pDLG1FQUF5QixDQUFBO0lBQ3pCLGlHQUF3QyxDQUFBO0lBQ3hDLHlGQUFvQyxDQUFBO0lBQ3BDLHVFQUEyQixDQUFBO0lBQzNCLCtFQUErQixDQUFBO0lBQy9CLHFFQUEwQixDQUFBO0lBQzFCLDZIQUFzRCxDQUFBO0lBQ3RELDJHQUE2QyxDQUFBO0lBQzdDLG1IQUFpRCxDQUFBO0lBQ2pELHFGQUFrQyxDQUFBO0lBQ2xDLG9CQUFvQjtJQUNwQix5RUFBNEIsQ0FBQTtJQUM1Qiw2RUFBOEIsQ0FB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QUcsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzlCLE9BQU8sR0FBRyxJQUFJLE1BQU0sUUFBUSxNQUFNLElBQUksRUFBRSxDQUFDO0FBQzNDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzdHJpbmdpZnlEZWJ1ZyB9IGZyb20gJy4vc3RyaW5naWZ5JztcbmltcG9ydCB7IHFEZXYgfSBmcm9tICcuLi91dGlsL3FkZXYnO1xuXG5leHBvcnQgY29uc3QgZW51bSBRRXJyb3Ige1xuICAvLyBjb3JlIDAwMC0wOTlcbiAgVE9ETyA9IDAsIC8vIFRlbXBvcmFyeSBJRCB1bnRpbCB3ZSBjcmVhdGUgYSBwcm9wciBlcnJvciBjb2RlLlxuICBDb3JlX3FDb25maWdOb3RGb3VuZF9wYXRoID0gMSxcbiAgQ29yZV91bnJlY29nbml6ZWRTdGFja19mcmFtZSA9IDIsXG4gIENvcmVfbm9BdHRyaWJ1dGVfYXRyMV9lbGVtZW50ID0gMyxcbiAgQ29yZV9ub0F0dHJpYnV0ZV9hdHIxX2F0dHIyX2VsZW1lbnQgPSA0LFxuICBDb3JlX21pc3NpbmdQcm9wZXJ0eV9uYW1lX3Byb3BzID0gNSxcbiAgQ29yZV9taXNzaW5nRXhwb3J0X25hbWVfdXJsX3Byb3BzID0gNixcbiAgLy8gUVJMIDEwMC0xOTlcbiAgUVJMX2V4cGVjdEZ1bmN0aW9uX3VybF9hY3R1YWwgPSAxMDAsXG4gIC8vIEluamVjdGlvbiAyMDAtMjk5XG4gIEluamVjdG9yX25vSG9zdF9lbGVtZW50ID0gMjAwLFxuICBJbmplY3Rvcl9leHBlY3RlZFNwZWNpZmljSW5qZWN0b3JfZXhwZWN0ZWRfYWN0dWFsID0gMjAxLFxuICBJbmplY3Rvcl9ub3RFbGVtZW50X2FyZyA9IDIwMixcbiAgSW5qZWN0b3Jfd3JvbmdNZXRob2RUaGlzX2V4cGVjdGVkX2FjdHVhbCA9IDIwMyxcbiAgSW5qZWN0b3JfbWlzc2luZ1NlcmlhbGl6ZWRTdGF0ZV9lbnRpdHlLZXlfZWxlbWVudCA9IDIwNCxcbiAgSW5qZWN0b3Jfbm90Rm91bmRfZWxlbWVudCA9IDIwNixcbiAgSW5qZWN0b3JfZXZlbnRJbmplY3Rvck5vdFNlcmlhbGl6YWJsZSA9IDIwNyxcbiAgLy8gRW50aXRpZXMgMzAwLTM5OVxuICBFbnRpdHlfbm90VmFsaWRLZXlfa2V5ID0gMzAwLFxuICBFbnRpdHlfa2V5QWxyZWFkeUV4aXN0c19rZXkgPSAzMDEsXG4gIEVudGl0eV9pbnZhbGlkQXR0cmlidXRlX25hbWUgPSAzMDMsXG4gIEVudGl0eV9taXNzaW5nRXhwYW5kb09yU3RhdGVfYXR0ck5hbWUgPSAzMDQsXG4gIEVudGl0eV9lbGVtZW50TWlzc2luZ0VudGl0eUF0dHJfZWxlbWVudF9hdHRyID0gMzA1LFxuICBFbnRpdHlfbm9TdGF0ZV9lbnRpdHlfcHJvcHMgPSAzMDYsXG4gIEVudGl0eV9leHBlY3RlZF9vYmogPSAzMDcsXG4gIEVudGl0eV9vdmVycmlkZXNDb25zdHJ1Y3Rvcl9lbnRpdHkgPSAzMDgsXG4gIEVudGl0eV9rZXlNaXNzaW5nUGFydHNfa2V5X2tleSA9IDMwOSxcbiAgRW50aXR5X25vJHR5cGVfZW50aXR5ID0gMzEwLFxuICBFbnRpdHlfbm8ka2V5UHJvcHNfZW50aXR5ID0gMzExLFxuICBFbnRpdHlfbm8kcXJsX2VudGl0eSA9IDMxMixcbiAgRW50aXR5X25hbWVDb2xsaXNpb25fbmFtZV9jdXJyZW50UXJsX2V4cGVjdGVkUXJsID0gMzEzLFxuICBFbnRpdHlfa2V5VG9vTWFueVBhcnRzX2VudGl0eV9wYXJ0c19rZXkgPSAzMTQsXG4gIEVudGl0eV9rZXlOYW1lTWlzbWF0Y2hfa2V5X25hbWVfZW50aXR5X25hbWUgPSAzMTUsXG4gIEVudGl0eV9zdGF0ZU1pc3NpbmdLZXlfc3RhdGUgPSAzMTYsXG4gIC8vIENvbXBvbmVudCA0MDAtNDk5XG4gIENvbXBvbmVudF9iaW5kTmVlZHNLZXkgPSA0MDAsXG4gIENvbXBvbmVudF9iaW5kTmVlZHNWYWx1ZSA9IDQwMSxcbiAgQ29tcG9uZW50X25lZWRzU3RhdGUgPSA0MDIsXG4gIENvbXBvbmVudF9uZWVkc0luamVjdGlvbkNvbnRleHRfY29uc3RydWN0b3IgPSA0MDMsXG4gIENvbXBvbmVudF9ub1Byb3BlcnR5X3Byb3BOYW1lX3Byb3BzX2hvc3QgPSA0MDQsXG4gIENvbXBvbmVudF9ub3RGb3VuZF9jb21wb25lbnQgPSA0MDUsXG4gIENvbXBvbmVudF9kb2VzTm90TWF0Y2hfY29tcG9uZW50X2FjdHVhbCA9IDQwNixcbiAgQ29tcG9uZW50X25vU3RhdGVfY29tcG9uZW50X3Byb3BzID0gNDA4LFxuICAvLyBQcm92aWRlciA1MDAtNTk5XG4gIFByb3ZpZGVyX3VucmVjb2duaXplZEZvcm1hdF92YWx1ZSA9IDUwMCxcbiAgLy8gUmVuZGVyIDYwMC02OTlcbiAgUmVuZGVyX3VuZXhwZWN0ZWRKU1hOb2RlVHlwZV90eXBlID0gNjAwLFxuICBSZW5kZXJfdW5zdXBwb3J0ZWRGb3JtYXRfb2JqX2F0dHIgPSA2MDEsXG4gIFJlbmRlcl9leHBlY3RpbmdFbnRpdHlfZW50aXR5ID0gNjAyLFxuICBSZW5kZXJfZXhwZWN0aW5nRW50aXR5QXJyYXlfb2JqID0gNjAzLFxuICBSZW5kZXJfZXhwZWN0aW5nRW50aXR5T3JDb21wb25lbnRfb2JqID0gNjA0LFxuICBSZW5kZXJfc3RhdGVNYWNoaW5lU3R1Y2sgPSA2OTksXG4gIC8vIEV2ZW50XG4gIEV2ZW50X2VtaXRFdmVudFJlcXVpcmVzTmFtZV91cmwgPSA3MDAsXG4gIEV2ZW50X2VtaXRFdmVudENvdWxkTm90RmluZExpc3RlbmVyX2V2ZW50X2VsZW1lbnQgPSA3MDEsXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBxRXJyb3IoY29kZTogUUVycm9yLCAuLi5hcmdzOiBhbnlbXSk6IEVycm9yIHtcbiAgaWYgKHFEZXYpIHtcbiAgICBjb25zdCB0ZXh0ID0gY29kZVRvVGV4dChjb2RlKTtcbiAgICBjb25zdCBwYXJ0cyA9IHRleHQuc3BsaXQoJ3t9Jyk7XG4gICAgY29uc3QgZXJyb3IgPSBwYXJ0c1xuICAgICAgLm1hcCgodmFsdWUsIGluZGV4KSA9PiB7XG4gICAgICAgIHJldHVybiB2YWx1ZSArIChpbmRleCA9PT0gcGFydHMubGVuZ3RoIC0gMSA/ICcnIDogc3RyaW5naWZ5RGVidWcoYXJnc1tpbmRleF0pKTtcbiAgICAgIH0pXG4gICAgICAuam9pbignJyk7XG4gICAgZGVidWdnZXI7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZGVidWdnZXJcbiAgICByZXR1cm4gbmV3IEVycm9yKGVycm9yKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbmV3IEVycm9yKGBRRXJyb3IgYCArIGNvZGUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNvZGVUb1RleHQoY29kZTogUUVycm9yKTogc3RyaW5nIHtcbiAgY29uc3QgYXJlYSA9IHtcbiAgICAwOiAnRVJST1InLFxuICAgIDE6ICdRUkwtRVJST1InLFxuICAgIDI6ICdJTkpFQ1RPUi1FUlJPUicsXG4gICAgMzogJ1NFUlZJQ0UtRVJST1InLFxuICAgIDQ6ICdDT01QT05FTlQtRVJST1InLFxuICAgIDU6ICdQUk9WSURFUi1FUlJPUicsXG4gICAgNjogJ1JFTkRFUi1FUlJPUicsXG4gICAgNzogJ0VWRU5ULUVSUk9SJyxcbiAgfVtNYXRoLmZsb29yKGNvZGUgLyAxMDApXTtcbiAgY29uc3QgdGV4dCA9IHtcbiAgICBbUUVycm9yLlRPRE9dOiAne30nLFxuICAgIFtRRXJyb3IuQ29yZV9xQ29uZmlnTm90Rm91bmRfcGF0aF06IFwiUUNvbmZpZyBub3QgZm91bmQgaW4gcGF0aCAne30nLlwiLFxuICAgIFtRRXJyb3IuQ29yZV91bnJlY29nbml6ZWRTdGFja19mcmFtZV06IFwiVW5yZWNvZ25pemVkIHN0YWNrIGZvcm1hdCAne30nXCIsXG4gICAgW1FFcnJvci5Db3JlX25vQXR0cmlidXRlX2F0cjFfZWxlbWVudF06XG4gICAgICBcIkNvdWxkIG5vdCBmaW5kIGVudGl0eSBzdGF0ZSAne30nIGF0ICd7fScgb3IgYW55IG9mIGl0J3MgcGFyZW50cy5cIixcbiAgICBbUUVycm9yLkNvcmVfbm9BdHRyaWJ1dGVfYXRyMV9hdHRyMl9lbGVtZW50XTpcbiAgICAgIFwiQ291bGQgbm90IGZpbmQgZW50aXR5IHN0YXRlICd7fScgKCBvciBlbnRpdHkgcHJvdmlkZXIgJ3t9JykgYXQgJ3t9JyBvciBhbnkgb2YgaXQncyBwYXJlbnRzLlwiLFxuICAgIFtRRXJyb3IuQ29yZV9taXNzaW5nUHJvcGVydHlfbmFtZV9wcm9wc106IFwiTWlzc2luZyBwcm9wZXJ0eSAne30nIGluIHByb3BzICd7fScuXCIsXG4gICAgW1FFcnJvci5Db3JlX21pc3NpbmdFeHBvcnRfbmFtZV91cmxfcHJvcHNdOlxuICAgICAgXCJNaXNzaW5nIGV4cG9ydCAne30nIGZyb20gJ3t9Jy4gRXhwb3J0ZWQgc3ltYm9scyBhcmU6IHt9XCIsXG4gICAgLy8vLy8vLy8vLy8vLy9cbiAgICBbUUVycm9yLlFSTF9leHBlY3RGdW5jdGlvbl91cmxfYWN0dWFsXTogXCJRUkwgJyR7fScgc2hvdWxkIHBvaW50IHRvIGZ1bmN0aW9uLCB3YXMgJ3t9Jy5cIixcbiAgICAvLy8vLy8vLy8vLy8vL1xuICAgIFtRRXJyb3IuSW5qZWN0b3Jfbm9Ib3N0X2VsZW1lbnRdOiBcIkNhbid0IGZpbmQgaG9zdCBlbGVtZW50IGFib3ZlICd7fScuXCIsXG4gICAgW1FFcnJvci5JbmplY3Rvcl9leHBlY3RlZFNwZWNpZmljSW5qZWN0b3JfZXhwZWN0ZWRfYWN0dWFsXTpcbiAgICAgIFwiUHJvdmlkZXIgaXMgZXhwZWN0aW5nICd7fScgYnV0IGdvdCAne30nLlwiLFxuICAgIFtRRXJyb3IuSW5qZWN0b3Jfbm90RWxlbWVudF9hcmddOiBcIkV4cGVjdGVkICdFbGVtZW50JyB3YXMgJ3t9Jy5cIixcbiAgICBbUUVycm9yLkluamVjdG9yX3dyb25nTWV0aG9kVGhpc19leHBlY3RlZF9hY3R1YWxdOlxuICAgICAgXCJFeHBlY3RlZCBpbmplY3Rpb24gJ3RoaXMnIHRvIGJlIG9mIHR5cGUgJ3t9JywgYnV0IHdhcyBvZiB0eXBlICd7fScuXCIsXG4gICAgW1FFcnJvci5JbmplY3Rvcl9taXNzaW5nU2VyaWFsaXplZFN0YXRlX2VudGl0eUtleV9lbGVtZW50XTpcbiAgICAgIFwiRW50aXR5IGtleSAne30nIGlzIGZvdW5kIG9uICd7fScgYnV0IGRvZXMgbm90IGNvbnRhaW4gc3RhdGUuIFdhcyAnc2VyaWFsaXplU3RhdGUoKScgbm90IHJ1biBkdXJpbmcgZGVoeWRyYXRpb24/XCIsXG4gICAgW1FFcnJvci5JbmplY3Rvcl9ub3RGb3VuZF9lbGVtZW50XTogXCJObyBpbmplY3RvciBjYW4gYmUgZm91bmQgc3RhcnRpbmcgYXQgJ3t9Jy5cIixcbiAgICBbUUVycm9yLkluamVjdG9yX2V2ZW50SW5qZWN0b3JOb3RTZXJpYWxpemFibGVdOiAnRXZlbnRJbmplY3RvciBkb2VzIG5vdCBzdXBwb3J0IHNlcmlhbGl6YXRpb24uJyxcbiAgICAvLy8vLy8vLy8vLy8vL1xuICAgIFtRRXJyb3IuRW50aXR5X25vdFZhbGlkS2V5X2tleV06XG4gICAgICBcIkRhdGEga2V5ICd7fScgaXMgbm90IGEgdmFsaWQga2V5LlxcblwiICtcbiAgICAgICcgIC0gRGF0YSBrZXkgY2FuIG9ubHkgY29udGFpbiBjaGFyYWN0ZXJzIChwcmVmZXJhYmx5IGxvd2VyY2FzZSkgb3IgbnVtYmVyXFxuJyArXG4gICAgICAnICAtIERhdGEga2V5IGlzIHByZWZpeGVkIHdpdGggZW50aXR5IG5hbWVcXG4nICtcbiAgICAgIFwiICAtIERhdGEga2V5IGlzIG1hZGUgdXAgZnJvbSBwYXJ0cyB0aGF0IGFyZSBzZXBhcmF0ZWQgd2l0aCAnOicuXCIsXG4gICAgW1FFcnJvci5FbnRpdHlfa2V5QWxyZWFkeUV4aXN0c19rZXldOiBcIkEgZW50aXR5IHdpdGgga2V5ICd7fScgYWxyZWFkeSBleGlzdHMuXCIsXG4gICAgW1FFcnJvci5FbnRpdHlfaW52YWxpZEF0dHJpYnV0ZV9uYW1lXTpcbiAgICAgIFwiJ3t9JyBpcyBub3QgYSB2YWxpZCBhdHRyaWJ1dGUuIFwiICtcbiAgICAgIFwiQXR0cmlidXRlcyBjYW4gb25seSBjb250YWluICdhLXonIChsb3dlcmNhc2UpLCAnMC05JywgJy0nIGFuZCAnXycuXCIsXG4gICAgW1FFcnJvci5FbnRpdHlfbWlzc2luZ0V4cGFuZG9PclN0YXRlX2F0dHJOYW1lXTpcbiAgICAgIFwiRm91bmQgJ3t9JyBidXQgZXhwYW5kbyBkaWQgbm90IGhhdmUgZW50aXR5IGFuZCBhdHRyaWJ1dGUgZGlkIG5vdCBoYXZlIHN0YXRlLlwiLFxuICAgIFtRRXJyb3IuRW50aXR5X2VsZW1lbnRNaXNzaW5nRW50aXR5QXR0cl9lbGVtZW50X2F0dHJdOlxuICAgICAgXCJFbGVtZW50ICd7fScgaXMgbWlzc2luZyBlbnRpdHkgYXR0cmlidXRlIGRlZmluaXRpb24gJ3t9Jy5cIixcbiAgICBbUUVycm9yLkVudGl0eV9ub1N0YXRlX2VudGl0eV9wcm9wc106XG4gICAgICBcIlVuYWJsZSB0byBjcmVhdGUgc3RhdGUgZm9yIGVudGl0eSAne30nIHdpdGggcHJvcHMgJ3t9JyBiZWNhdXNlIG5vIHN0YXRlIGZvdW5kIGFuZCAnJG5ld1N0YXRlKCknIG1ldGhvZCB3YXMgbm90IGRlZmluZWQgb24gZW50aXR5LlwiLFxuICAgIFtRRXJyb3IuRW50aXR5X2V4cGVjdGVkX29ial06IFwiJ3t9JyBpcyBub3QgYW4gaW5zdGFuY2Ugb2YgJ0VudGl0eScuXCIsXG4gICAgW1FFcnJvci5FbnRpdHlfb3ZlcnJpZGVzQ29uc3RydWN0b3JfZW50aXR5XTpcbiAgICAgIFwiJ3t9JyBvdmVycmlkZXMgJ2NvbnN0cnVjdG9yJyBwcm9wZXJ0eSBwcmV2ZW50aW5nICdFbnRpdHlUeXBlJyByZXRyaWV2YWwuXCIsXG4gICAgW1FFcnJvci5FbnRpdHlfbm8ka2V5UHJvcHNfZW50aXR5XTogXCJFbnRpdHkgJ3t9JyBkb2VzIG5vdCBkZWZpbmUgJyRrZXlQcm9wcycuXCIsXG4gICAgW1FFcnJvci5FbnRpdHlfbm8kdHlwZV9lbnRpdHldOlxuICAgICAgXCJFbnRpdHkgJ3t9JyBtdXN0IGhhdmUgc3RhdGljICckdHlwZScgcHJvcGVydHkgZGVmaW5pbmcgdGhlIG5hbWUgb2YgdGhlIGVudGl0eS5cIixcbiAgICBbUUVycm9yLkVudGl0eV9ubyRxcmxfZW50aXR5XTpcbiAgICAgIFwiRW50aXR5ICd7fScgbXVzdCBoYXZlIHN0YXRpYyAnJHFybCcgcHJvcGVydHkgZGVmaW5pbmcgdGhlIGltcG9ydCBsb2NhdGlvbiBvZiB0aGUgZW50aXR5LlwiLFxuICAgIFtRRXJyb3IuRW50aXR5X25hbWVDb2xsaXNpb25fbmFtZV9jdXJyZW50UXJsX2V4cGVjdGVkUXJsXTpcbiAgICAgIFwiTmFtZSBjb2xsaXNpb24uIEFscmVhZHkgaGF2ZSBlbnRpdHkgbmFtZWQgJ3t9JyB3aXRoIFFSTCAne30nIGJ1dCBleHBlY3RlZCBRUkwgJ3t9Jy5cIixcbiAgICBbUUVycm9yLkVudGl0eV9rZXlNaXNzaW5nUGFydHNfa2V5X2tleV06XG4gICAgICBcIkVudGl0eSBrZXkgJ3t9JyBpcyBtaXNzaW5nIHZhbHVlcy4gRXhwZWN0aW5nICd7fTpzb21lVmFsdWUnLlwiLFxuICAgIFtRRXJyb3IuRW50aXR5X2tleVRvb01hbnlQYXJ0c19lbnRpdHlfcGFydHNfa2V5XTpcbiAgICAgIFwiRW50aXR5ICd7fScgZGVmaW5lcyAnJGtleVByb3BzJyBhcyAgJ3t9Jy4gQWN0dWFsIGtleSAne30nIGhhcyBtb3JlIHBhcnRzIHRoYW4gZW50aXR5IGRlZmluZXMuXCIsXG4gICAgW1FFcnJvci5FbnRpdHlfa2V5TmFtZU1pc21hdGNoX2tleV9uYW1lX2VudGl0eV9uYW1lXTpcbiAgICAgIFwiS2V5ICd7fScgYmVsb25ncyB0byBlbnRpdHkgbmFtZWQgJ3t9JywgYnV0IGV4cGVjdGVkIGVudGl0eSAne30nIHdpdGggbmFtZSAne30nLlwiLFxuICAgIFtRRXJyb3IuRW50aXR5X3N0YXRlTWlzc2luZ0tleV9zdGF0ZV06XG4gICAgICBcIkVudGl0eSBzdGF0ZSBpcyBtaXNzaW5nICcka2V5Jy4gQXJlIHlvdSBzdXJlIHlvdSBwYXNzZWQgaW4gc3RhdGU/IEdvdCAne30nLlwiLFxuICAgIC8vLy8vLy8vLy8vLy8vXG4gICAgW1FFcnJvci5Db21wb25lbnRfYmluZE5lZWRzS2V5XTpcbiAgICAgIFwiJ2JpbmQ6JyBtdXN0IGhhdmUgYW4ga2V5LiAoRXhhbXBsZTogJ2JpbmQ6a2V5PVxcXCJwcm9wZXJ0eU5hbWVcXFwiJykuXCIsXG4gICAgW1FFcnJvci5Db21wb25lbnRfYmluZE5lZWRzVmFsdWVdOlxuICAgICAgXCInYmluZDppZCcgbXVzdCBoYXZlIGEgcHJvcGVydHkgbmFtZS4gKEV4YW1wbGU6ICdiaW5kOmtleT1cXFwicHJvcGVydHlOYW1lXFxcIicpLlwiLFxuICAgIFtRRXJyb3IuQ29tcG9uZW50X25lZWRzU3RhdGVdOiBcIkNhbid0IGZpbmQgc3RhdGUgb24gaG9zdCBlbGVtZW50LlwiLFxuICAgIFtRRXJyb3IuQ29tcG9uZW50X25lZWRzSW5qZWN0aW9uQ29udGV4dF9jb25zdHJ1Y3Rvcl06XG4gICAgICBcIkNvbXBvbmVudHMgbXVzdCBiZSBpbnN0YW50aWF0ZWQgaW5zaWRlIGFuIGluamVjdGlvbiBjb250ZXh0LiBVc2UgJ3t9Lm5ldyguLi4pJyBmb3IgY3JlYXRpb24uXCIsXG4gICAgW1FFcnJvci5Db21wb25lbnRfbm9Qcm9wZXJ0eV9wcm9wTmFtZV9wcm9wc19ob3N0XTpcbiAgICAgIFwiUHJvcGVydHkgJ3t9JyBub3QgZm91bmQgaW4gJ3t9JyBvbiBjb21wb25lbnQgJ3t9Jy5cIixcbiAgICBbUUVycm9yLkNvbXBvbmVudF9ub3RGb3VuZF9jb21wb25lbnRdOiBcIlVuYWJsZSB0byBmaW5kICd7fScgY29tcG9uZW50LlwiLFxuICAgIFtRRXJyb3IuQ29tcG9uZW50X2RvZXNOb3RNYXRjaF9jb21wb25lbnRfYWN0dWFsXTpcbiAgICAgIFwiUmVxdWVzdGluZyBjb21wb25lbnQgdHlwZSAne30nIGRvZXMgbm90IG1hdGNoIGV4aXN0aW5nIGNvbXBvbmVudCBpbnN0YW5jZSAne30nLlwiLFxuICAgIFtRRXJyb3IuQ29tcG9uZW50X25vU3RhdGVfY29tcG9uZW50X3Byb3BzXTpcbiAgICAgIFwiVW5hYmxlIHRvIGNyZWF0ZSBzdGF0ZSBmb3IgY29tcG9uZW50ICd7fScgd2l0aCBwcm9wcyAne30nIGJlY2F1c2Ugbm8gc3RhdGUgZm91bmQgYW5kICckbmV3U3RhdGUoKScgbWV0aG9kIHdhcyBub3QgZGVmaW5lZCBvbiBjb21wb25lbnQuXCIsXG4gICAgLy8vLy8vLy8vLy8vLy9cbiAgICBbUUVycm9yLlByb3ZpZGVyX3VucmVjb2duaXplZEZvcm1hdF92YWx1ZV06IFwiVW5yZWNvZ25pemVkIGV4cHJlc3Npb24gZm9ybWF0ICd7fScuXCIsXG4gICAgLy8vLy8vLy8vLy8vLy9cbiAgICBbUUVycm9yLlJlbmRlcl91bmV4cGVjdGVkSlNYTm9kZVR5cGVfdHlwZV06ICdVbmV4cGVjdGVkIEpTWE5vZGU8e30+IHR5cGUuJyxcbiAgICBbUUVycm9yLlJlbmRlcl91bnN1cHBvcnRlZEZvcm1hdF9vYmpfYXR0cl06IFwiVmFsdWUgJ3t9JyBjYW4ndCBiZSB3cml0dGVuIGludG8gJ3t9JyBhdHRyaWJ1dGUuXCIsXG4gICAgW1FFcnJvci5SZW5kZXJfZXhwZWN0aW5nRW50aXR5X2VudGl0eV06IFwiRXhwZWN0aW5nIGVudGl0eSBvYmplY3QsIGdvdCAne30nLlwiLFxuICAgIFtRRXJyb3IuUmVuZGVyX2V4cGVjdGluZ0VudGl0eUFycmF5X29ial06IFwiRXhwZWN0aW5nIGFycmF5IG9mIGVudGl0aWVzLCBnb3QgJ3t9Jy5cIixcbiAgICBbUUVycm9yLlJlbmRlcl9leHBlY3RpbmdFbnRpdHlPckNvbXBvbmVudF9vYmpdOiBcIkV4cGVjdGluZyBFbnRpdHkgb3IgQ29tcG9uZW50IGdvdCAne30nLlwiLFxuICAgIFtRRXJyb3IuUmVuZGVyX3N0YXRlTWFjaGluZVN0dWNrXTogJ1JlbmRlciBzdGF0ZSBtYWNoaW5lIGRpZCBub3QgYWR2YW5jZS4nLFxuICAgIC8vLy8vLy8vLy8vLy8vXG4gICAgW1FFcnJvci5FdmVudF9lbWl0RXZlbnRSZXF1aXJlc05hbWVfdXJsXTogXCJNaXNzaW5nICckdHlwZScgYXR0cmlidXRlIGluIHRoZSAne30nIHVybC5cIixcbiAgICBbUUVycm9yLkV2ZW50X2VtaXRFdmVudENvdWxkTm90RmluZExpc3RlbmVyX2V2ZW50X2VsZW1lbnRdOlxuICAgICAgXCJSZS1lbWl0dGluZyBldmVudCAne30nIGJ1dCBubyBsaXN0ZW5lciBmb3VuZCBhdCAne30nIG9yIGFueSBvZiBpdHMgcGFyZW50cy5cIixcbiAgfVtjb2RlXTtcbiAgbGV0IHRleHRDb2RlID0gJzAwMCcgKyBjb2RlO1xuICB0ZXh0Q29kZSA9IHRleHRDb2RlLnNsaWNlKC0zKTtcbiAgcmV0dXJuIGAke2FyZWF9KFEtJHt0ZXh0Q29kZX0pOiAke3RleHR9YDtcbn1cbiJdfQ==","import { NodeType } from './types';\nexport function isNode(value) {\n    return value && typeof value.nodeType == 'number';\n}\nexport function isDocument(value) {\n    return value && value.nodeType == NodeType.DOCUMENT_NODE;\n}\nexport function isElement(value) {\n    return isNode(value) && value.nodeType == NodeType.ELEMENT_NODE;\n}\nexport function isText(value) {\n    return isNode(value) && value.nodeType == NodeType.TEXT_NODE;\n}\nexport function isComment(value) {\n    return isNode(value) && value.nodeType == NodeType.COMMENT_NODE;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZWxlbWVudC5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS91dGlsL2VsZW1lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLFNBQVMsQ0FBQztBQUVuQyxNQUFNLFVBQVUsTUFBTSxDQUFDLEtBQVU7SUFDL0IsT0FBTyxLQUFLLElBQUksT0FBTyxLQUFLLENBQUMsUUFBUSxJQUFJLFFBQVEsQ0FBQztBQUNwRCxDQUFDO0FBQ0QsTUFBTSxVQUFVLFVBQVUsQ0FBQyxLQUFVO0lBQ25DLE9BQU8sS0FBSyxJQUFJLEtBQUssQ0FBQyxRQUFRLElBQUksUUFBUSxDQUFDLGFBQWEsQ0FBQztBQUMzRCxDQUFDO0FBQ0QsTUFBTSxVQUFVLFNBQVMsQ0FBQyxLQUFVO0lBQ2xDLE9BQU8sTUFBTSxDQUFDLEtBQUssQ0FBQyxJQUFJLEtBQUssQ0FBQyxRQUFRLElBQUksUUFBUSxDQUFDLFlBQVksQ0FBQztBQUNsRSxDQUFDO0FBQ0QsTUFBTSxVQUFVLE1BQU0sQ0FBQyxLQUFVO0lBQy9CLE9BQU8sTUFBTSxDQUFDLEtBQUssQ0FBQyxJQUFJLEtBQUssQ0FBQyxRQUFRLElBQUksUUFBUSxDQUFDLFNBQVMsQ0FBQztBQUMvRCxDQUFDO0FBQ0QsTUFBTSxVQUFVLFNBQVMsQ0FBQyxLQUFVO0lBQ2xDLE9BQU8sTUFBTSxDQUFDLEtBQUssQ0FBQyxJQUFJLEtBQUssQ0FBQyxRQUFRLElBQUksUUFBUSxDQUFDLFlBQVksQ0FBQztBQUNsRSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTm9kZVR5cGUgfSBmcm9tICcuL3R5cGVzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGlzTm9kZSh2YWx1ZTogYW55KTogdmFsdWUgaXMgTm9kZSB7XG4gIHJldHVybiB2YWx1ZSAmJiB0eXBlb2YgdmFsdWUubm9kZVR5cGUgPT0gJ251bWJlcic7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNEb2N1bWVudCh2YWx1ZTogYW55KTogdmFsdWUgaXMgRG9jdW1lbnQge1xuICByZXR1cm4gdmFsdWUgJiYgdmFsdWUubm9kZVR5cGUgPT0gTm9kZVR5cGUuRE9DVU1FTlRfTk9ERTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0VsZW1lbnQodmFsdWU6IGFueSk6IHZhbHVlIGlzIEVsZW1lbnQge1xuICByZXR1cm4gaXNOb2RlKHZhbHVlKSAmJiB2YWx1ZS5ub2RlVHlwZSA9PSBOb2RlVHlwZS5FTEVNRU5UX05PREU7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNUZXh0KHZhbHVlOiBhbnkpOiB2YWx1ZSBpcyBUZXh0IHtcbiAgcmV0dXJuIGlzTm9kZSh2YWx1ZSkgJiYgdmFsdWUubm9kZVR5cGUgPT0gTm9kZVR5cGUuVEVYVF9OT0RFO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzQ29tbWVudCh2YWx1ZTogYW55KTogdmFsdWUgaXMgQ29tbWVudCB7XG4gIHJldHVybiBpc05vZGUodmFsdWUpICYmIHZhbHVlLm5vZGVUeXBlID09IE5vZGVUeXBlLkNPTU1FTlRfTk9ERTtcbn1cbiJdfQ==","import { runtimeQrl } from './qrl';\n// <docs markdown=\"../readme.md#$\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#$ instead)\n/**\n * Qwik Optimizer marker function.\n *\n * Use `$(...)` to tell Qwik Optimizer to extract the expression in `$(...)` into a lazy-loadable\n * resource referenced by `QRL`.\n *\n * @see `implicit$FirstArg` for additional `____$(...)` rules.\n *\n * In this example `$(...)` is used to capture the callback function of `onmousemove` into\n * lazy-loadable reference. This allows the code to refer to the function without actually\n * loading the function. In this example, the callback function does not get loaded until\n * `mousemove` event fires.\n *\n * ```tsx\n * useOnDocument(\n *   'mousemove',\n *   $(() => console.log('mousemove'))\n * );\n * ```\n *\n * In this code the Qwik Optimizer detects `$(...)` and transforms the code into:\n *\n * ```tsx\n * // FILE: <current file>\n * useOnDocument('mousemove', qrl('./chunk-abc.js', 'onMousemove'));\n *\n * // FILE: chunk-abc.js\n * export const onMousemove = () => console.log('mousemove');\n * ```\n *\n * ## Special Rules\n *\n * The Qwik Optimizer places special rules on functions that can be lazy-loaded.\n *\n * 1. The expression of the `$(expression)` function must be importable by the system.\n * (expression shows up in `import` or has `export`)\n * 2. If inlined function then all lexically captured values must be:\n *    - importable (vars shows up in `import` or has `export`)\n *    - const (The capturing process differs from JS capturing in that writing to captured\n * variables does not update them, and therefore writes are forbidden. The best practice is that\n * all captured variables are constants.)\n *    - Must be runtime serializable.\n *\n * ```tsx\n * import { importedFn } from './import/example';\n *\n * export const greet = () => console.log('greet');\n * function topLevelFn() {}\n *\n * function myCode() {\n *   const store = useStore({});\n *   function localFn() {}\n *   // Valid Examples\n *   $(greet); // greet is importable\n *   $(importedFn); // importedFn is importable\n *   $(() => greet()); // greet is importable;\n *   $(() => importedFn()); // importedFn is importable\n *   $(() => console.log(store)); // store is serializable.\n *\n *   // Compile time errors\n *   $(topLevelFn); // ERROR: `topLevelFn` not importable\n *   $(() => topLevelFn()); // ERROR: `topLevelFn` not importable\n *\n *   // Runtime errors\n *   $(localFn); // ERROR: `localFn` fails serialization\n *   $(() => localFn()); // ERROR: `localFn` fails serialization\n * }\n *\n * ```\n *\n * @param expression - Expression which should be lazy loaded\n * @public\n */\n// </docs>\nexport function $(expression) {\n    return runtimeQrl(expression);\n}\n// <docs markdown=\"../readme.md#implicit$FirstArg\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#implicit$FirstArg instead)\n/**\n * Create a `____$(...)` convenience method from `___(...)`.\n *\n * It is very common for functions to take a lazy-loadable resource as a first argument. For this\n * reason, the Qwik Optimizer automatically extracts the first argument from any function which\n * ends in `$`.\n *\n * This means that `foo$(arg0)` and `foo($(arg0))` are equivalent with respect to Qwik Optimizer.\n * The former is just a shorthand for the latter.\n *\n * For example these function call are equivalent:\n *\n * - `component$(() => {...})` is same as `onRender($(() => {...}))`\n *\n * ```tsx\n * export function myApi(callback: QRL<() => void>): void {\n *   // ...\n * }\n *\n * export const myApi$ = implicit$FirstArg(myApi);\n * // type of myApi$: (callback: () => void): void\n *\n * // can be used as:\n * myApi$(() => console.log('callback'));\n *\n * // will be transpiled to:\n * // FILE: <current file>\n * myApi(qrl('./chunk-abc.js', 'callback'));\n *\n * // FILE: chunk-abc.js\n * export const callback = () => console.log('callback');\n * ```\n *\n * @param fn - function that should have its first argument automatically `$`.\n * @alpha\n */\n// </docs>\nexport function implicit$FirstArg(fn) {\n    return function (first, ...rest) {\n        return fn.call(null, $(first), ...rest);\n    };\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicXJsLnB1YmxpYy5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9pbXBvcnQvcXJsLnB1YmxpYy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sT0FBTyxDQUFDO0FBb0puQyxtQ0FBbUM7QUFDbkMseUNBQXlDO0FBQ3pDLGdDQUFnQztBQUNoQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0dBd0VHO0FBQ0gsVUFBVTtBQUNWLE1BQU0sVUFBVSxDQUFDLENBQUksVUFBYTtJQUNoQyxPQUFPLFVBQVUsQ0FBQyxVQUFVLENBQUMsQ0FBQztBQUNoQyxDQUFDO0FBRUQsbURBQW1EO0FBQ25ELHlDQUF5QztBQUN6QyxnREFBZ0Q7QUFDaEQ7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0dBbUNHO0FBQ0gsVUFBVTtBQUNWLE1BQU0sVUFBVSxpQkFBaUIsQ0FDL0IsRUFBNkM7SUFFN0MsT0FBTyxVQUFVLEtBQVksRUFBRSxHQUFHLElBQVU7UUFDMUMsT0FBTyxFQUFFLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLEVBQUUsR0FBRyxJQUFJLENBQUMsQ0FBQztJQUMxQyxDQUFDLENBQUM7QUFDSixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBWYWx1ZU9yUHJvbWlzZSB9IGZyb20gJy4uJztcbmltcG9ydCB0eXBlIHsgSW52b2tlQ29udGV4dCB9IGZyb20gJy4uL3VzZS91c2UtY29yZSc7XG5pbXBvcnQgeyBydW50aW1lUXJsIH0gZnJvbSAnLi9xcmwnO1xuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4uL3JlYWRtZS5tZCNRUkxcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjUVJMIGluc3RlYWQpXG4vKipcbiAqIFRoZSBgUVJMYCB0eXBlIHJlcHJlc2VudHMgYSBsYXp5LWxvYWRhYmxlIEFORCBzZXJpYWxpemFibGUgcmVzb3VyY2UuXG4gKlxuICogUVJMIHN0YW5kcyBmb3IgUXdpayBVUkwuXG4gKlxuICogVXNlIGBRUkxgIHdoZW4geW91IHdhbnQgdG8gcmVmZXIgdG8gYSBsYXp5LWxvYWRlZCByZXNvdXJjZS4gYFFSTGBzIGFyZSBtb3N0IG9mdGVuIHVzZWQgZm9yXG4gKiBjb2RlIChmdW5jdGlvbnMpIGJ1dCBjYW4gYWxzbyBiZSB1c2VkIGZvciBvdGhlciByZXNvdXJjZXMgc3VjaCBhcyBgc3RyaW5nYHMgaW4gdGhlIGNhc2Ugb2ZcbiAqIHN0eWxlcy5cbiAqXG4gKiBgUVJMYCBpcyBhbiBvcGFxdWUgdG9rZW4gdGhhdCBpcyBnZW5lcmF0ZWQgYnkgdGhlIFF3aWsgT3B0aW1pemVyLiAoRG8gbm90IHJlbHkgb24gYW55XG4gKiBwcm9wZXJ0aWVzIGluIGBRUkxgIGFzIGl0IG1heSBjaGFuZ2UgYmV0d2VlbiB2ZXJzaW9ucy4pXG4gKlxuICogIyMgQ3JlYXRpbmcgYFFSTGAgcmVmZXJlbmNlc1xuICpcbiAqIENyZWF0aW5nIGBRUkxgIGlzIGRvbmUgdXNpbmcgYCQoLi4uKWAgZnVuY3Rpb24uIGAkKC4uLilgIGlzIGEgc3BlY2lhbCBtYXJrZXIgZm9yIHRoZSBRd2lrXG4gKiBPcHRpbWl6ZXIgdGhhdCBtYXJrcyB0aGF0IHRoZSBjb2RlIHNob3VsZCBiZSBleHRyYWN0ZWQgaW50byBhIGxhenktbG9hZGVkIHN5bWJvbC5cbiAqXG4gKiBgYGB0c3hcbiAqIHVzZU9uRG9jdW1lbnQoXG4gKiAgICdtb3VzZW1vdmUnLFxuICogICAkKCgpID0+IGNvbnNvbGUubG9nKCdtb3VzZW1vdmUnKSlcbiAqICk7XG4gKiBgYGBcbiAqXG4gKiBJbiB0aGUgYWJvdmUgY29kZSB0aGUgUXdpayBPcHRpbWl6ZXIgZGV0ZWN0cyBgJCguLi4pYCBhbmQgdHJhbnNmb3JtcyB0aGUgY29kZSBhcyBzaG93biBiZWxvdzpcbiAqXG4gKiBgYGB0c3hcbiAqIC8vIEZJTEU6IDxjdXJyZW50IGZpbGU+XG4gKiB1c2VPbkRvY3VtZW50KCdtb3VzZW1vdmUnLCBxcmwoJy4vY2h1bmstYWJjLmpzJywgJ29uTW91c2Vtb3ZlJykpO1xuICpcbiAqIC8vIEZJTEU6IGNodW5rLWFiYy5qc1xuICogZXhwb3J0IGNvbnN0IG9uTW91c2Vtb3ZlID0gKCkgPT4gY29uc29sZS5sb2coJ21vdXNlbW92ZScpO1xuICogYGBgXG4gKlxuICogTk9URTogYHFybCguLi4pYCBpcyBhIHJlc3VsdCBvZiBRd2lrIE9wdGltaXplciB0cmFuc2Zvcm1hdGlvbi4gWW91IHNob3VsZCBuZXZlciBoYXZlIHRvIGludm9rZVxuICogdGhpcyBmdW5jdGlvbiBkaXJlY3RseSBpbiB5b3VyIGFwcGxpY2F0aW9uLiBUaGUgYHFybCguLi4pYCBmdW5jdGlvbiBzaG91bGQgYmUgaW52b2tlZCBvbmx5XG4gKiBhZnRlciBRd2lrIE9wdGltaXplciB0cmFuc2Zvcm1hdGlvbi5cbiAqXG4gKiAjIyBVc2luZyBgUVJMYHNcbiAqXG4gKiBVc2UgYFFSTGAgdHlwZSBpbiB5b3VyIGFwcGxpY2F0aW9uIHdoZW4geW91IHdhbnQgdG8gZ2V0IGEgbGF6eS1sb2FkYWJsZSByZWZlcmVuY2UgdG8gYVxuICogcmVzb3VyY2UgKG1vc3QgbGlrZWx5IGEgZnVuY3Rpb24pLlxuICpcbiAqIGBgYHRzeFxuICogLy8gRXhhbXBsZSBvZiBkZWNsYXJpbmcgYSBjdXN0b20gZnVuY3Rpb25zIHdoaWNoIHRha2VzIGNhbGxiYWNrIGFzIFFSTC5cbiAqIGV4cG9ydCBmdW5jdGlvbiB1c2VNeUZ1bmN0aW9uKGNhbGxiYWNrOiBRUkw8KCkgPT4gdm9pZD4pIHtcbiAqICAgZG9FeHRyYVN0dWZmKCk7XG4gKiAgIC8vIFRoZSBjYWxsYmFjayBwYXNzZWQgdG8gYG9uRG9jdW1lbnRgIHJlcXVpcmVzIGBRUkxgLlxuICogICB1c2VPbkRvY3VtZW50KCdtb3VzZW1vdmUnLCBjYWxsYmFjayk7XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBJbiB0aGUgYWJvdmUgZXhhbXBsZSB0aGUgd2F5IHRvIHRoaW5rIGFib3V0IHRoZSBjb2RlIGlzIHRoYXQgeW91IGFyZSBub3QgYXNraW5nIGZvciBhIGNhbGxiYWNrXG4gKiBmdW5jdGlvbiwgYnV0IHJhdGhlciBhIHJlZmVyZW5jZSB0byBhIGxhenktbG9hZGFibGUgY2FsbGJhY2sgZnVuY3Rpb24uIFNwZWNpZmljYWxseSB0aGVcbiAqIGZ1bmN0aW9uIGxvYWRpbmcgc2hvdWxkIGJlIGRlbGF5ZWQgdW50aWwgaXQgaXMgYWN0dWFsbHkgbmVlZGVkLiBJbiB0aGUgYWJvdmUgZXhhbXBsZSB0aGVcbiAqIGZ1bmN0aW9uIHdvdWxkIG5vdCBsb2FkIHVudGlsIGFmdGVyIGEgYG1vdXNlbW92ZWAgZXZlbnQgb24gYGRvY3VtZW50YCBmaXJlcy5cbiAqXG4gKiAjIyBSZXNvbHZpbmcgYFFSTGAgcmVmZXJlbmNlc1xuICpcbiAqIEF0IHRpbWVzIGl0IG1heSBiZSBuZWNlc3NhcnkgdG8gcmVzb2x2ZSBhIGBRUkxgIHJlZmVyZW5jZSB0byB0aGUgYWN0dWFsIHZhbHVlLiBUaGlzIGNhbiBiZVxuICogcGVyZm9ybWVkIHVzaW5nIGBxcmxJbXBvcnQoLi4pYCBmdW5jdGlvbi5cbiAqXG4gKiBgYGB0c3hcbiAqIC8vIEFzc3VtZSB5b3UgaGF2ZSBRUkwgcmVmZXJlbmNlIHRvIGEgZ3JlZXQgZnVuY3Rpb25cbiAqIGNvbnN0IGxhenlHcmVldDogUVJMPCgpID0+IHZvaWQ+ID0gJCgoKSA9PiBjb25zb2xlLmxvZygnSGVsbG8gV29ybGQhJykpO1xuICpcbiAqIC8vIFVzZSBgcXJsSW1wb3J0YCB0byBsb2FkIC8gcmVzb2x2ZSB0aGUgcmVmZXJlbmNlLlxuICogY29uc3QgZ3JlZXQ6ICgpID0+IHZvaWQgPSBhd2FpdCBsYXp5R3JlZXQucmVzb2x2ZShlbGVtZW50KTtcbiAqXG4gKiAvLyAgSW52b2tlIGl0XG4gKiBncmVldCgpO1xuICogYGBgXG4gKlxuICogTk9URTogYGVsZW1lbnRgIGlzIG5lZWRlZCBiZWNhdXNlIGBRUkxgcyBhcmUgcmVsYXRpdmUgYW5kIG5lZWQgYSBiYXNlIGxvY2F0aW9uIHRvIHJlc29sdmVcbiAqIGFnYWluc3QuIFRoZSBiYXNlIGxvY2F0aW9uIGlzIGVuY29kZWQgaW4gdGhlIEhUTUwgaW4gdGhlIGZvcm0gb2YgYDxkaXYgcTpiYXNlPVwiL3VybFwiPmAuXG4gKlxuICogIyMgUXVlc3Rpb246IFdoeSBub3QganVzdCB1c2UgYGltcG9ydCgpYD9cbiAqXG4gKiBBdCBmaXJzdCBnbGFuY2UgYFFSTGAgc2VydmVzIHRoZSBzYW1lIHB1cnBvc2UgYXMgYGltcG9ydCgpYC4gSG93ZXZlciwgdGhlcmUgYXJlIHRocmVlIHN1YnRsZVxuICogZGlmZmVyZW5jZXMgdGhhdCBuZWVkIHRvIGJlIHRha2VuIGludG8gYWNjb3VudC5cbiAqXG4gKiAxLiBgUVJMYHMgbXVzdCBiZSBzZXJpYWxpemFibGUgaW50byBIVE1MLlxuICogMi4gYFFSTGBzIG11c3QgYmUgcmVzb2x2ZWQgYnkgZnJhbWV3b3JrIHJlbGF0aXZlIHRvIGBxOmJhc2VgLlxuICogMy4gYFFSTGBzIG11c3QgYmUgYWJsZSB0byBjYXB0dXJlIGxleGljYWxseSBzY29wZWQgdmFyaWFibGVzLlxuICogNC4gYFFSTGBzIGVuY2Fwc3VsYXRlIHRoZSBkaWZmZXJlbmNlIGJldHdlZW4gcnVubmluZyB3aXRoIGFuZCB3aXRob3V0IFF3aWsgT3B0aW1pemVyLlxuICogNS4gYFFSTGBzIGFsbG93IGV4cHJlc3NpbmcgbGF6eS1sb2FkZWQgYm91bmRhcmllcyB3aXRob3V0IHRoaW5raW5nIGFib3V0IGNodW5rIGFuZCBzeW1ib2xcbiAqIG5hbWVzLlxuICpcbiAqIExldCdzIGFzc3VtZSB0aGF0IHlvdSBpbnRlbmQgdG8gd3JpdGUgY29kZSBzdWNoIGFzIHRoaXM6XG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogcmV0dXJuIDxidXR0b24gb25DbGljaz17KCkgPT4gKGF3YWl0IGltcG9ydCgnLi9jaHVuay1hYmMuanMnKSkub25DbGlja30+XG4gKiBgYGBcbiAqXG4gKiBUaGUgYWJvdmUgY29kZSBuZWVkcyB0byBiZSBzZXJpYWxpemVkIGludG8gRE9NIHN1Y2ggYXM6XG4gKlxuICogYGBgXG4gKiA8ZGl2IHE6YmFzZT1cIi9idWlsZC9cIj5cbiAqICAgPGJ1dHRvbiBvbjpsaWNrPVwiLi9jaHVuay1hYmMuanMjb25DbGlja1wiPi4uLjwvYnV0dG9uPlxuICogPC9kaXY+XG4gKiBgYGBcbiAqXG4gKiAxLiBOb3RpY2UgdGhlcmUgaXMgbm8gZWFzeSB3YXkgdG8gZXh0cmFjdCBjaHVuayAoYC4vY2h1bmstYWJjLmpzYCkgYW5kIHN5bWJvbCAoYG9uQ2xpY2tgKSBpbnRvXG4gKiBIVE1MLlxuICogMi4gTm90aWNlIHRoYXQgZXZlbiBpZiB5b3UgY291bGQgZXh0cmFjdCBpdCwgdGhlIGBpbXBvcnQoJy4vY2h1bmstYWJjLmpzJylgIHdvdWxkIGJlY29tZVxuICogcmVsYXRpdmUgdG8gd2hlcmUgdGhlIGBpbXBvcnQoKWAgZmlsZSBpcyBkZWNsYXJlZC4gQmVjYXVzZSBpdCBpcyBvdXIgZnJhbWV3b3JrIGRvaW5nIHRoZSBsb2FkLFxuICogdGhlIGAuL2NodW5rLWFiYy5qc2Agd291bGQgYmVjb21lIHJlbGF0aXZlIHRvIHRoZSBmcmFtZXdvcmsgZmlsZS4gVGhpcyBpcyBub3QgY29ycmVjdCwgYXMgaXRcbiAqIHNob3VsZCBiZSByZWxhdGl2ZSB0byB0aGUgb3JpZ2luYWwgZmlsZSBnZW5lcmF0ZWQgYnkgdGhlIGJ1bmRsZXIuXG4gKiAzLiBOZXh0IHRoZSBmcmFtZXdvcmsgbmVlZHMgdG8gcmVzb2x2ZSB0aGUgYC4vY2h1bmstYWJjLmpzYCBhbmQgbmVlZHMgYSBiYXNlIGxvY2F0aW9uIHRoYXQgaXNcbiAqIGVuY29kZWQgaW4gdGhlIEhUTUwuXG4gKiA0LiBUaGUgUVJMIG5lZWRzIHRvIGJlIGFibGUgdG8gY2FwdHVyZSBsZXhpY2FsbHkgc2NvcGVkIHZhcmlhYmxlcy4gKGBpbXBvcnQoKWAgb25seSBhbGxvd3NcbiAqIGxvYWRpbmcgdG9wLWxldmVsIHN5bWJvbHMgd2hpY2ggZG9uJ3QgY2FwdHVyZSB2YXJpYWJsZXMuKVxuICogNS4gQXMgYSBkZXZlbG9wZXIgeW91IGRvbid0IHdhbnQgdG8gdGhpbmsgYWJvdXQgYGltcG9ydGAgYW5kIG5hbWluZyBvZiB0aGUgY2h1bmtzIGFuZCBzeW1ib2xzLlxuICogWW91IGp1c3Qgd2FudCB0byBzYXksIHRoaXMgc2hvdWxkIGJlIGxhenkuXG4gKlxuICogVGhlc2UgYXJlIHRoZSBtYWluIHJlYXNvbnMgd2h5IFF3aWsgaW50cm9kdWNlcyBpdHMgb3duIGNvbmNlcHQgb2YgYFFSTGAuXG4gKlxuICogQHNlZSBgJGBcbiAqXG4gKiBAcHVibGljXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBpbnRlcmZhY2UgUVJMPFRZUEUgPSBhbnk+IHtcbiAgX19icmFuZF9fUVJMX186IFRZUEU7XG4gIHJlc29sdmUoY29udGFpbmVyPzogRWxlbWVudCk6IFByb21pc2U8VFlQRT47XG4gIGludm9rZShcbiAgICAuLi5hcmdzOiBUWVBFIGV4dGVuZHMgKC4uLmFyZ3M6IGluZmVyIEFSR1MpID0+IGFueSA/IEFSR1MgOiBuZXZlclxuICApOiBUWVBFIGV4dGVuZHMgKC4uLmFyZ3M6IGFueVtdKSA9PiBpbmZlciBSRVRVUk4gPyBWYWx1ZU9yUHJvbWlzZTxSRVRVUk4+IDogbmV2ZXI7XG5cbiAgaW52b2tlRm4oXG4gICAgZWw/OiBFbGVtZW50LFxuICAgIGNvbnRleHQ/OiBJbnZva2VDb250ZXh0LFxuICAgIGJlZm9yZUZuPzogKCkgPT4gdm9pZFxuICApOiBUWVBFIGV4dGVuZHMgKC4uLmFyZ3M6IGluZmVyIEFSR1MpID0+IGluZmVyIFJFVFVSTlxuICAgID8gKC4uLmFyZ3M6IEFSR1MpID0+IFZhbHVlT3JQcm9taXNlPFJFVFVSTj5cbiAgICA6IG5ldmVyO1xufVxuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHR5cGUgRXZlbnRIYW5kbGVyPFQ+ID0gUVJMPCh2YWx1ZTogVCkgPT4gYW55PjtcblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi9yZWFkbWUubWQjJFwiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IC4uL3JlYWRtZS5tZCMkIGluc3RlYWQpXG4vKipcbiAqIFF3aWsgT3B0aW1pemVyIG1hcmtlciBmdW5jdGlvbi5cbiAqXG4gKiBVc2UgYCQoLi4uKWAgdG8gdGVsbCBRd2lrIE9wdGltaXplciB0byBleHRyYWN0IHRoZSBleHByZXNzaW9uIGluIGAkKC4uLilgIGludG8gYSBsYXp5LWxvYWRhYmxlXG4gKiByZXNvdXJjZSByZWZlcmVuY2VkIGJ5IGBRUkxgLlxuICpcbiAqIEBzZWUgYGltcGxpY2l0JEZpcnN0QXJnYCBmb3IgYWRkaXRpb25hbCBgX19fXyQoLi4uKWAgcnVsZXMuXG4gKlxuICogSW4gdGhpcyBleGFtcGxlIGAkKC4uLilgIGlzIHVzZWQgdG8gY2FwdHVyZSB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gb2YgYG9ubW91c2Vtb3ZlYCBpbnRvXG4gKiBsYXp5LWxvYWRhYmxlIHJlZmVyZW5jZS4gVGhpcyBhbGxvd3MgdGhlIGNvZGUgdG8gcmVmZXIgdG8gdGhlIGZ1bmN0aW9uIHdpdGhvdXQgYWN0dWFsbHlcbiAqIGxvYWRpbmcgdGhlIGZ1bmN0aW9uLiBJbiB0aGlzIGV4YW1wbGUsIHRoZSBjYWxsYmFjayBmdW5jdGlvbiBkb2VzIG5vdCBnZXQgbG9hZGVkIHVudGlsXG4gKiBgbW91c2Vtb3ZlYCBldmVudCBmaXJlcy5cbiAqXG4gKiBgYGB0c3hcbiAqIHVzZU9uRG9jdW1lbnQoXG4gKiAgICdtb3VzZW1vdmUnLFxuICogICAkKCgpID0+IGNvbnNvbGUubG9nKCdtb3VzZW1vdmUnKSlcbiAqICk7XG4gKiBgYGBcbiAqXG4gKiBJbiB0aGlzIGNvZGUgdGhlIFF3aWsgT3B0aW1pemVyIGRldGVjdHMgYCQoLi4uKWAgYW5kIHRyYW5zZm9ybXMgdGhlIGNvZGUgaW50bzpcbiAqXG4gKiBgYGB0c3hcbiAqIC8vIEZJTEU6IDxjdXJyZW50IGZpbGU+XG4gKiB1c2VPbkRvY3VtZW50KCdtb3VzZW1vdmUnLCBxcmwoJy4vY2h1bmstYWJjLmpzJywgJ29uTW91c2Vtb3ZlJykpO1xuICpcbiAqIC8vIEZJTEU6IGNodW5rLWFiYy5qc1xuICogZXhwb3J0IGNvbnN0IG9uTW91c2Vtb3ZlID0gKCkgPT4gY29uc29sZS5sb2coJ21vdXNlbW92ZScpO1xuICogYGBgXG4gKlxuICogIyMgU3BlY2lhbCBSdWxlc1xuICpcbiAqIFRoZSBRd2lrIE9wdGltaXplciBwbGFjZXMgc3BlY2lhbCBydWxlcyBvbiBmdW5jdGlvbnMgdGhhdCBjYW4gYmUgbGF6eS1sb2FkZWQuXG4gKlxuICogMS4gVGhlIGV4cHJlc3Npb24gb2YgdGhlIGAkKGV4cHJlc3Npb24pYCBmdW5jdGlvbiBtdXN0IGJlIGltcG9ydGFibGUgYnkgdGhlIHN5c3RlbS5cbiAqIChleHByZXNzaW9uIHNob3dzIHVwIGluIGBpbXBvcnRgIG9yIGhhcyBgZXhwb3J0YClcbiAqIDIuIElmIGlubGluZWQgZnVuY3Rpb24gdGhlbiBhbGwgbGV4aWNhbGx5IGNhcHR1cmVkIHZhbHVlcyBtdXN0IGJlOlxuICogICAgLSBpbXBvcnRhYmxlICh2YXJzIHNob3dzIHVwIGluIGBpbXBvcnRgIG9yIGhhcyBgZXhwb3J0YClcbiAqICAgIC0gY29uc3QgKFRoZSBjYXB0dXJpbmcgcHJvY2VzcyBkaWZmZXJzIGZyb20gSlMgY2FwdHVyaW5nIGluIHRoYXQgd3JpdGluZyB0byBjYXB0dXJlZFxuICogdmFyaWFibGVzIGRvZXMgbm90IHVwZGF0ZSB0aGVtLCBhbmQgdGhlcmVmb3JlIHdyaXRlcyBhcmUgZm9yYmlkZGVuLiBUaGUgYmVzdCBwcmFjdGljZSBpcyB0aGF0XG4gKiBhbGwgY2FwdHVyZWQgdmFyaWFibGVzIGFyZSBjb25zdGFudHMuKVxuICogICAgLSBNdXN0IGJlIHJ1bnRpbWUgc2VyaWFsaXphYmxlLlxuICpcbiAqIGBgYHRzeFxuICogaW1wb3J0IHsgaW1wb3J0ZWRGbiB9IGZyb20gJy4vaW1wb3J0L2V4YW1wbGUnO1xuICpcbiAqIGV4cG9ydCBjb25zdCBncmVldCA9ICgpID0+IGNvbnNvbGUubG9nKCdncmVldCcpO1xuICogZnVuY3Rpb24gdG9wTGV2ZWxGbigpIHt9XG4gKlxuICogZnVuY3Rpb24gbXlDb2RlKCkge1xuICogICBjb25zdCBzdG9yZSA9IHVzZVN0b3JlKHt9KTtcbiAqICAgZnVuY3Rpb24gbG9jYWxGbigpIHt9XG4gKiAgIC8vIFZhbGlkIEV4YW1wbGVzXG4gKiAgICQoZ3JlZXQpOyAvLyBncmVldCBpcyBpbXBvcnRhYmxlXG4gKiAgICQoaW1wb3J0ZWRGbik7IC8vIGltcG9ydGVkRm4gaXMgaW1wb3J0YWJsZVxuICogICAkKCgpID0+IGdyZWV0KCkpOyAvLyBncmVldCBpcyBpbXBvcnRhYmxlO1xuICogICAkKCgpID0+IGltcG9ydGVkRm4oKSk7IC8vIGltcG9ydGVkRm4gaXMgaW1wb3J0YWJsZVxuICogICAkKCgpID0+IGNvbnNvbGUubG9nKHN0b3JlKSk7IC8vIHN0b3JlIGlzIHNlcmlhbGl6YWJsZS5cbiAqXG4gKiAgIC8vIENvbXBpbGUgdGltZSBlcnJvcnNcbiAqICAgJCh0b3BMZXZlbEZuKTsgLy8gRVJST1I6IGB0b3BMZXZlbEZuYCBub3QgaW1wb3J0YWJsZVxuICogICAkKCgpID0+IHRvcExldmVsRm4oKSk7IC8vIEVSUk9SOiBgdG9wTGV2ZWxGbmAgbm90IGltcG9ydGFibGVcbiAqXG4gKiAgIC8vIFJ1bnRpbWUgZXJyb3JzXG4gKiAgICQobG9jYWxGbik7IC8vIEVSUk9SOiBgbG9jYWxGbmAgZmFpbHMgc2VyaWFsaXphdGlvblxuICogICAkKCgpID0+IGxvY2FsRm4oKSk7IC8vIEVSUk9SOiBgbG9jYWxGbmAgZmFpbHMgc2VyaWFsaXphdGlvblxuICogfVxuICpcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBleHByZXNzaW9uIC0gRXhwcmVzc2lvbiB3aGljaCBzaG91bGQgYmUgbGF6eSBsb2FkZWRcbiAqIEBwdWJsaWNcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGZ1bmN0aW9uICQ8VD4oZXhwcmVzc2lvbjogVCk6IFFSTDxUPiB7XG4gIHJldHVybiBydW50aW1lUXJsKGV4cHJlc3Npb24pO1xufVxuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4uL3JlYWRtZS5tZCNpbXBsaWNpdCRGaXJzdEFyZ1wiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IC4uL3JlYWRtZS5tZCNpbXBsaWNpdCRGaXJzdEFyZyBpbnN0ZWFkKVxuLyoqXG4gKiBDcmVhdGUgYSBgX19fXyQoLi4uKWAgY29udmVuaWVuY2UgbWV0aG9kIGZyb20gYF9fXyguLi4pYC5cbiAqXG4gKiBJdCBpcyB2ZXJ5IGNvbW1vbiBmb3IgZnVuY3Rpb25zIHRvIHRha2UgYSBsYXp5LWxvYWRhYmxlIHJlc291cmNlIGFzIGEgZmlyc3QgYXJndW1lbnQuIEZvciB0aGlzXG4gKiByZWFzb24sIHRoZSBRd2lrIE9wdGltaXplciBhdXRvbWF0aWNhbGx5IGV4dHJhY3RzIHRoZSBmaXJzdCBhcmd1bWVudCBmcm9tIGFueSBmdW5jdGlvbiB3aGljaFxuICogZW5kcyBpbiBgJGAuXG4gKlxuICogVGhpcyBtZWFucyB0aGF0IGBmb28kKGFyZzApYCBhbmQgYGZvbygkKGFyZzApKWAgYXJlIGVxdWl2YWxlbnQgd2l0aCByZXNwZWN0IHRvIFF3aWsgT3B0aW1pemVyLlxuICogVGhlIGZvcm1lciBpcyBqdXN0IGEgc2hvcnRoYW5kIGZvciB0aGUgbGF0dGVyLlxuICpcbiAqIEZvciBleGFtcGxlIHRoZXNlIGZ1bmN0aW9uIGNhbGwgYXJlIGVxdWl2YWxlbnQ6XG4gKlxuICogLSBgY29tcG9uZW50JCgoKSA9PiB7Li4ufSlgIGlzIHNhbWUgYXMgYG9uUmVuZGVyKCQoKCkgPT4gey4uLn0pKWBcbiAqXG4gKiBgYGB0c3hcbiAqIGV4cG9ydCBmdW5jdGlvbiBteUFwaShjYWxsYmFjazogUVJMPCgpID0+IHZvaWQ+KTogdm9pZCB7XG4gKiAgIC8vIC4uLlxuICogfVxuICpcbiAqIGV4cG9ydCBjb25zdCBteUFwaSQgPSBpbXBsaWNpdCRGaXJzdEFyZyhteUFwaSk7XG4gKiAvLyB0eXBlIG9mIG15QXBpJDogKGNhbGxiYWNrOiAoKSA9PiB2b2lkKTogdm9pZFxuICpcbiAqIC8vIGNhbiBiZSB1c2VkIGFzOlxuICogbXlBcGkkKCgpID0+IGNvbnNvbGUubG9nKCdjYWxsYmFjaycpKTtcbiAqXG4gKiAvLyB3aWxsIGJlIHRyYW5zcGlsZWQgdG86XG4gKiAvLyBGSUxFOiA8Y3VycmVudCBmaWxlPlxuICogbXlBcGkocXJsKCcuL2NodW5rLWFiYy5qcycsICdjYWxsYmFjaycpKTtcbiAqXG4gKiAvLyBGSUxFOiBjaHVuay1hYmMuanNcbiAqIGV4cG9ydCBjb25zdCBjYWxsYmFjayA9ICgpID0+IGNvbnNvbGUubG9nKCdjYWxsYmFjaycpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIGZuIC0gZnVuY3Rpb24gdGhhdCBzaG91bGQgaGF2ZSBpdHMgZmlyc3QgYXJndW1lbnQgYXV0b21hdGljYWxseSBgJGAuXG4gKiBAYWxwaGFcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGZ1bmN0aW9uIGltcGxpY2l0JEZpcnN0QXJnPEZJUlNULCBSRVNUIGV4dGVuZHMgYW55W10sIFJFVD4oXG4gIGZuOiAoZmlyc3Q6IFFSTDxGSVJTVD4sIC4uLnJlc3Q6IFJFU1QpID0+IFJFVFxuKTogKGZpcnN0OiBGSVJTVCwgLi4ucmVzdDogUkVTVCkgPT4gUkVUIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChmaXJzdDogRklSU1QsIC4uLnJlc3Q6IFJFU1QpOiBSRVQge1xuICAgIHJldHVybiBmbi5jYWxsKG51bGwsICQoZmlyc3QpLCAuLi5yZXN0KTtcbiAgfTtcbn1cbiJdfQ==","import { assertDefined } from '../assert/assert';\nimport { getInvokeContext } from './use-core';\n// <docs markdown=\"../readme.md#useHostElement\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useHostElement instead)\n/**\n * Retrieves the Host Element of the current component.\n *\n * NOTE: `useHostElement` method can only be used in the synchronous portion of the callback\n * (before any `await` statements.)\n *\n * ```tsx\n * const Section = component$(\n *   () => {\n *     const hostElement = useHostElement();\n *     console.log(hostElement); // hostElement is a HTMLSectionElement\n *\n *     return <Host>I am a section</Host>;\n *   },\n *   {\n *     tagName: 'section',\n *   }\n * );\n * ```\n *\n * @public\n */\n// </docs>\nexport function useHostElement() {\n    const element = getInvokeContext().hostElement;\n    assertDefined(element);\n    return element;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLWhvc3QtZWxlbWVudC5wdWJsaWMuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvdXNlL3VzZS1ob3N0LWVsZW1lbnQucHVibGljLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUNqRCxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxZQUFZLENBQUM7QUFFOUMsZ0RBQWdEO0FBQ2hELHlDQUF5QztBQUN6Qyw2Q0FBNkM7QUFDN0M7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQXFCRztBQUNILFVBQVU7QUFDVixNQUFNLFVBQVUsY0FBYztJQUM1QixNQUFNLE9BQU8sR0FBRyxnQkFBZ0IsRUFBRSxDQUFDLFdBQVksQ0FBQztJQUNoRCxhQUFhLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDdkIsT0FBTyxPQUFPLENBQUM7QUFDakIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFzc2VydERlZmluZWQgfSBmcm9tICcuLi9hc3NlcnQvYXNzZXJ0JztcbmltcG9ydCB7IGdldEludm9rZUNvbnRleHQgfSBmcm9tICcuL3VzZS1jb3JlJztcblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi9yZWFkbWUubWQjdXNlSG9zdEVsZW1lbnRcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjdXNlSG9zdEVsZW1lbnQgaW5zdGVhZClcbi8qKlxuICogUmV0cmlldmVzIHRoZSBIb3N0IEVsZW1lbnQgb2YgdGhlIGN1cnJlbnQgY29tcG9uZW50LlxuICpcbiAqIE5PVEU6IGB1c2VIb3N0RWxlbWVudGAgbWV0aG9kIGNhbiBvbmx5IGJlIHVzZWQgaW4gdGhlIHN5bmNocm9ub3VzIHBvcnRpb24gb2YgdGhlIGNhbGxiYWNrXG4gKiAoYmVmb3JlIGFueSBgYXdhaXRgIHN0YXRlbWVudHMuKVxuICpcbiAqIGBgYHRzeFxuICogY29uc3QgU2VjdGlvbiA9IGNvbXBvbmVudCQoXG4gKiAgICgpID0+IHtcbiAqICAgICBjb25zdCBob3N0RWxlbWVudCA9IHVzZUhvc3RFbGVtZW50KCk7XG4gKiAgICAgY29uc29sZS5sb2coaG9zdEVsZW1lbnQpOyAvLyBob3N0RWxlbWVudCBpcyBhIEhUTUxTZWN0aW9uRWxlbWVudFxuICpcbiAqICAgICByZXR1cm4gPEhvc3Q+SSBhbSBhIHNlY3Rpb248L0hvc3Q+O1xuICogICB9LFxuICogICB7XG4gKiAgICAgdGFnTmFtZTogJ3NlY3Rpb24nLFxuICogICB9XG4gKiApO1xuICogYGBgXG4gKlxuICogQHB1YmxpY1xuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgZnVuY3Rpb24gdXNlSG9zdEVsZW1lbnQoKTogRWxlbWVudCB7XG4gIGNvbnN0IGVsZW1lbnQgPSBnZXRJbnZva2VDb250ZXh0KCkuaG9zdEVsZW1lbnQhO1xuICBhc3NlcnREZWZpbmVkKGVsZW1lbnQpO1xuICByZXR1cm4gZWxlbWVudDtcbn1cbiJdfQ==","import { getInvokeContext } from './use-core';\n// <docs markdown=\"../readme.md#useDocument\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useDocument instead)\n/**\n * Retrieves the document of the current element. It's important to use this method instead of\n * accessing `document` directly, because during SSR, the global document might not exist.\n *\n * NOTE: `useDocument` method can only be used in the synchronous portion of the callback (before\n * any `await` statements.)\n *\n * @alpha\n */\n// </docs>\nexport function useDocument() {\n    const doc = getInvokeContext().doc;\n    if (!doc) {\n        throw new Error('Cant access document for existing context');\n    }\n    return doc;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLWRvY3VtZW50LnB1YmxpYy5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS91c2UvdXNlLWRvY3VtZW50LnB1YmxpYy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxZQUFZLENBQUM7QUFFOUMsNkNBQTZDO0FBQzdDLHlDQUF5QztBQUN6QywwQ0FBMEM7QUFDMUM7Ozs7Ozs7O0dBUUc7QUFDSCxVQUFVO0FBQ1YsTUFBTSxVQUFVLFdBQVc7SUFDekIsTUFBTSxHQUFHLEdBQUcsZ0JBQWdCLEVBQUUsQ0FBQyxHQUFHLENBQUM7SUFDbkMsSUFBSSxDQUFDLEdBQUcsRUFBRTtRQUNSLE1BQU0sSUFBSSxLQUFLLENBQUMsMkNBQTJDLENBQUMsQ0FBQztLQUM5RDtJQUNELE9BQU8sR0FBRyxDQUFDO0FBQ2IsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldEludm9rZUNvbnRleHQgfSBmcm9tICcuL3VzZS1jb3JlJztcblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi9yZWFkbWUubWQjdXNlRG9jdW1lbnRcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjdXNlRG9jdW1lbnQgaW5zdGVhZClcbi8qKlxuICogUmV0cmlldmVzIHRoZSBkb2N1bWVudCBvZiB0aGUgY3VycmVudCBlbGVtZW50LiBJdCdzIGltcG9ydGFudCB0byB1c2UgdGhpcyBtZXRob2QgaW5zdGVhZCBvZlxuICogYWNjZXNzaW5nIGBkb2N1bWVudGAgZGlyZWN0bHksIGJlY2F1c2UgZHVyaW5nIFNTUiwgdGhlIGdsb2JhbCBkb2N1bWVudCBtaWdodCBub3QgZXhpc3QuXG4gKlxuICogTk9URTogYHVzZURvY3VtZW50YCBtZXRob2QgY2FuIG9ubHkgYmUgdXNlZCBpbiB0aGUgc3luY2hyb25vdXMgcG9ydGlvbiBvZiB0aGUgY2FsbGJhY2sgKGJlZm9yZVxuICogYW55IGBhd2FpdGAgc3RhdGVtZW50cy4pXG4gKlxuICogQGFscGhhXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBmdW5jdGlvbiB1c2VEb2N1bWVudCgpOiBEb2N1bWVudCB7XG4gIGNvbnN0IGRvYyA9IGdldEludm9rZUNvbnRleHQoKS5kb2M7XG4gIGlmICghZG9jKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdDYW50IGFjY2VzcyBkb2N1bWVudCBmb3IgZXhpc3RpbmcgY29udGV4dCcpO1xuICB9XG4gIHJldHVybiBkb2M7XG59XG4iXX0=","import { useDocument } from '../use/use-document.public';\nimport { getProxyMap, qObject } from '../object/q-object';\nimport { getInvokeContext } from './use-core';\nimport { useHostElement } from './use-host-element.public';\nimport { getContext } from '../props/props';\nimport { wrapSubscriber } from './use-subscriber';\nimport { assertEqual } from '../assert/assert';\nimport { RenderEvent } from '../util/markers';\n// <docs markdown=\"../readme.md#useStore\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useStore instead)\n/**\n * Creates a object that Qwik can track across serializations.\n *\n * Use `useStore` to create state for your application. The return object is a proxy which has a\n * unique ID. The ID of the object is used in the `QRL`s to refer to the store.\n *\n * ## Example\n *\n * Example showing how `useStore` is used in Counter example to keep track of count.\n *\n * ```tsx\n * const Stores = component$(() => {\n *   const counter = useCounter(1);\n *\n *   // Reactivity happens even for nested objects and arrays\n *   const userData = useStore({\n *     name: 'Manu',\n *     address: {\n *       address: '',\n *       city: '',\n *     },\n *     orgs: [],\n *   });\n *\n *   // useStore() can also accept a function to calculate the initial value\n *   const state = useStore(() => {\n *     return {\n *       value: expensiveInitialValue(),\n *     };\n *   });\n *\n *   return (\n *     <Host>\n *       <div>Counter: {counter.value}</div>\n *       <Child userData={userData} state={state} />\n *     </Host>\n *   );\n * });\n *\n * function useCounter(step: number) {\n *   // Multiple stores can be created in custom hooks for convenience and composability\n *   const counterStore = useStore({\n *     value: 0,\n *   });\n *   useClientEffect$(() => {\n *     // Only runs in the client\n *     const timer = setInterval(() => {\n *       counterStore.value += step;\n *     }, 500);\n *     return () => {\n *       clearInterval(timer);\n *     };\n *   });\n *   return counterStore;\n * }\n * ```\n *\n * @public\n */\n// </docs>\nexport function useStore(initialState) {\n    const [store, setStore] = useSequentialScope();\n    const hostElement = useHostElement();\n    if (store != null) {\n        return wrapSubscriber(store, hostElement);\n    }\n    const value = typeof initialState === 'function' ? initialState() : initialState;\n    const newStore = qObject(value, getProxyMap(useDocument()));\n    setStore(newStore);\n    return wrapSubscriber(newStore, hostElement);\n}\n// <docs markdown=\"../readme.md#useRef\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useRef instead)\n/**\n * It's a very thin wrapper around `useStore()` including the proper type signature to be passed\n * to the `ref` property in JSX.\n *\n * ```tsx\n * export function useRef<T = Element>(current?: T): Ref<T> {\n *   return useStore({ current });\n * }\n * ```\n *\n * ## Example\n *\n * ```tsx\n * const Cmp = component$(() => {\n *   const input = useRef<HTMLInputElement>();\n *\n *   useClientEffect$((track) => {\n *     const el = track(input, 'current')!;\n *     el.focus();\n *   });\n *\n *   return (\n *     <Host>\n *       <input type=\"text\" ref={input} />\n *     </Host>\n *   );\n * });\n *\n * ```\n *\n * @public\n */\n// </docs>\nexport function useRef(current) {\n    return useStore({ current });\n}\nexport function useSequentialScope() {\n    const ctx = getInvokeContext();\n    assertEqual(ctx.event, RenderEvent);\n    const index = ctx.seq;\n    const hostElement = useHostElement();\n    const elementCtx = getContext(hostElement);\n    ctx.seq++;\n    const updateFn = (value) => {\n        elementCtx.seq[index] = elementCtx.refMap.add(value);\n    };\n    const seqIndex = elementCtx.seq[index];\n    if (typeof seqIndex === 'number') {\n        return [elementCtx.refMap.get(seqIndex), updateFn];\n    }\n    return [undefined, updateFn];\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLXN0b3JlLnB1YmxpYy5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS91c2UvdXNlLXN0b3JlLnB1YmxpYy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sNEJBQTRCLENBQUM7QUFDekQsT0FBTyxFQUFFLFdBQVcsRUFBRSxPQUFPLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUMxRCxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxZQUFZLENBQUM7QUFDOUMsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLDJCQUEyQixDQUFDO0FBQzNELE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUM1QyxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDbEQsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBQy9DLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUU5QywwQ0FBMEM7QUFDMUMseUNBQXlDO0FBQ3pDLHVDQUF1QztBQUN2Qzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQTBERztBQUNILFVBQVU7QUFDVixNQUFNLFVBQVUsUUFBUSxDQUF1QixZQUFtQztJQUNoRixNQUFNLENBQUMsS0FBSyxFQUFFLFFBQVEsQ0FBQyxHQUFHLGtCQUFrQixFQUFFLENBQUM7SUFDL0MsTUFBTSxXQUFXLEdBQUcsY0FBYyxFQUFFLENBQUM7SUFDckMsSUFBSSxLQUFLLElBQUksSUFBSSxFQUFFO1FBQ2pCLE9BQU8sY0FBYyxDQUFDLEtBQUssRUFBRSxXQUFXLENBQUMsQ0FBQztLQUMzQztJQUNELE1BQU0sS0FBSyxHQUFHLE9BQU8sWUFBWSxLQUFLLFVBQVUsQ0FBQyxDQUFDLENBQUUsWUFBeUIsRUFBRSxDQUFDLENBQUMsQ0FBQyxZQUFZLENBQUM7SUFDL0YsTUFBTSxRQUFRLEdBQUcsT0FBTyxDQUFDLEtBQUssRUFBRSxXQUFXLENBQUMsV0FBVyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQzVELFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUNuQixPQUFPLGNBQWMsQ0FBQyxRQUFRLEVBQUUsV0FBVyxDQUFDLENBQUM7QUFDL0MsQ0FBQztBQVNELHdDQUF3QztBQUN4Qyx5Q0FBeUM7QUFDekMscUNBQXFDO0FBQ3JDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0dBK0JHO0FBQ0gsVUFBVTtBQUNWLE1BQU0sVUFBVSxNQUFNLENBQWMsT0FBVztJQUM3QyxPQUFPLFFBQVEsQ0FBQyxFQUFFLE9BQU8sRUFBRSxDQUFDLENBQUM7QUFDL0IsQ0FBQztBQUVELE1BQU0sVUFBVSxrQkFBa0I7SUFDaEMsTUFBTSxHQUFHLEdBQUcsZ0JBQWdCLEVBQUUsQ0FBQztJQUMvQixXQUFXLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRSxXQUFXLENBQUMsQ0FBQztJQUNwQyxNQUFNLEtBQUssR0FBRyxHQUFHLENBQUMsR0FBRyxDQUFDO0lBQ3RCLE1BQU0sV0FBVyxHQUFHLGNBQWMsRUFBRSxDQUFDO0lBQ3JDLE1BQU0sVUFBVSxHQUFHLFVBQVUsQ0FBQyxXQUFXLENBQUMsQ0FBQztJQUMzQyxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUM7SUFDVixNQUFNLFFBQVEsR0FBRyxDQUFDLEtBQVUsRUFBRSxFQUFFO1FBQzlCLFVBQVUsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLEdBQUcsVUFBVSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDdkQsQ0FBQyxDQUFDO0lBQ0YsTUFBTSxRQUFRLEdBQUcsVUFBVSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUN2QyxJQUFJLE9BQU8sUUFBUSxLQUFLLFFBQVEsRUFBRTtRQUNoQyxPQUFPLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLEVBQUUsUUFBUSxDQUFDLENBQUM7S0FDcEQ7SUFDRCxPQUFPLENBQUMsU0FBUyxFQUFFLFFBQVEsQ0FBQyxDQUFDO0FBQy9CLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VEb2N1bWVudCB9IGZyb20gJy4uL3VzZS91c2UtZG9jdW1lbnQucHVibGljJztcbmltcG9ydCB7IGdldFByb3h5TWFwLCBxT2JqZWN0IH0gZnJvbSAnLi4vb2JqZWN0L3Etb2JqZWN0JztcbmltcG9ydCB7IGdldEludm9rZUNvbnRleHQgfSBmcm9tICcuL3VzZS1jb3JlJztcbmltcG9ydCB7IHVzZUhvc3RFbGVtZW50IH0gZnJvbSAnLi91c2UtaG9zdC1lbGVtZW50LnB1YmxpYyc7XG5pbXBvcnQgeyBnZXRDb250ZXh0IH0gZnJvbSAnLi4vcHJvcHMvcHJvcHMnO1xuaW1wb3J0IHsgd3JhcFN1YnNjcmliZXIgfSBmcm9tICcuL3VzZS1zdWJzY3JpYmVyJztcbmltcG9ydCB7IGFzc2VydEVxdWFsIH0gZnJvbSAnLi4vYXNzZXJ0L2Fzc2VydCc7XG5pbXBvcnQgeyBSZW5kZXJFdmVudCB9IGZyb20gJy4uL3V0aWwvbWFya2Vycyc7XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kI3VzZVN0b3JlXCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi4vcmVhZG1lLm1kI3VzZVN0b3JlIGluc3RlYWQpXG4vKipcbiAqIENyZWF0ZXMgYSBvYmplY3QgdGhhdCBRd2lrIGNhbiB0cmFjayBhY3Jvc3Mgc2VyaWFsaXphdGlvbnMuXG4gKlxuICogVXNlIGB1c2VTdG9yZWAgdG8gY3JlYXRlIHN0YXRlIGZvciB5b3VyIGFwcGxpY2F0aW9uLiBUaGUgcmV0dXJuIG9iamVjdCBpcyBhIHByb3h5IHdoaWNoIGhhcyBhXG4gKiB1bmlxdWUgSUQuIFRoZSBJRCBvZiB0aGUgb2JqZWN0IGlzIHVzZWQgaW4gdGhlIGBRUkxgcyB0byByZWZlciB0byB0aGUgc3RvcmUuXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIEV4YW1wbGUgc2hvd2luZyBob3cgYHVzZVN0b3JlYCBpcyB1c2VkIGluIENvdW50ZXIgZXhhbXBsZSB0byBrZWVwIHRyYWNrIG9mIGNvdW50LlxuICpcbiAqIGBgYHRzeFxuICogY29uc3QgU3RvcmVzID0gY29tcG9uZW50JCgoKSA9PiB7XG4gKiAgIGNvbnN0IGNvdW50ZXIgPSB1c2VDb3VudGVyKDEpO1xuICpcbiAqICAgLy8gUmVhY3Rpdml0eSBoYXBwZW5zIGV2ZW4gZm9yIG5lc3RlZCBvYmplY3RzIGFuZCBhcnJheXNcbiAqICAgY29uc3QgdXNlckRhdGEgPSB1c2VTdG9yZSh7XG4gKiAgICAgbmFtZTogJ01hbnUnLFxuICogICAgIGFkZHJlc3M6IHtcbiAqICAgICAgIGFkZHJlc3M6ICcnLFxuICogICAgICAgY2l0eTogJycsXG4gKiAgICAgfSxcbiAqICAgICBvcmdzOiBbXSxcbiAqICAgfSk7XG4gKlxuICogICAvLyB1c2VTdG9yZSgpIGNhbiBhbHNvIGFjY2VwdCBhIGZ1bmN0aW9uIHRvIGNhbGN1bGF0ZSB0aGUgaW5pdGlhbCB2YWx1ZVxuICogICBjb25zdCBzdGF0ZSA9IHVzZVN0b3JlKCgpID0+IHtcbiAqICAgICByZXR1cm4ge1xuICogICAgICAgdmFsdWU6IGV4cGVuc2l2ZUluaXRpYWxWYWx1ZSgpLFxuICogICAgIH07XG4gKiAgIH0pO1xuICpcbiAqICAgcmV0dXJuIChcbiAqICAgICA8SG9zdD5cbiAqICAgICAgIDxkaXY+Q291bnRlcjoge2NvdW50ZXIudmFsdWV9PC9kaXY+XG4gKiAgICAgICA8Q2hpbGQgdXNlckRhdGE9e3VzZXJEYXRhfSBzdGF0ZT17c3RhdGV9IC8+XG4gKiAgICAgPC9Ib3N0PlxuICogICApO1xuICogfSk7XG4gKlxuICogZnVuY3Rpb24gdXNlQ291bnRlcihzdGVwOiBudW1iZXIpIHtcbiAqICAgLy8gTXVsdGlwbGUgc3RvcmVzIGNhbiBiZSBjcmVhdGVkIGluIGN1c3RvbSBob29rcyBmb3IgY29udmVuaWVuY2UgYW5kIGNvbXBvc2FiaWxpdHlcbiAqICAgY29uc3QgY291bnRlclN0b3JlID0gdXNlU3RvcmUoe1xuICogICAgIHZhbHVlOiAwLFxuICogICB9KTtcbiAqICAgdXNlQ2xpZW50RWZmZWN0JCgoKSA9PiB7XG4gKiAgICAgLy8gT25seSBydW5zIGluIHRoZSBjbGllbnRcbiAqICAgICBjb25zdCB0aW1lciA9IHNldEludGVydmFsKCgpID0+IHtcbiAqICAgICAgIGNvdW50ZXJTdG9yZS52YWx1ZSArPSBzdGVwO1xuICogICAgIH0sIDUwMCk7XG4gKiAgICAgcmV0dXJuICgpID0+IHtcbiAqICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXIpO1xuICogICAgIH07XG4gKiAgIH0pO1xuICogICByZXR1cm4gY291bnRlclN0b3JlO1xuICogfVxuICogYGBgXG4gKlxuICogQHB1YmxpY1xuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgZnVuY3Rpb24gdXNlU3RvcmU8U1RBVEUgZXh0ZW5kcyBvYmplY3Q+KGluaXRpYWxTdGF0ZTogU1RBVEUgfCAoKCkgPT4gU1RBVEUpKTogU1RBVEUge1xuICBjb25zdCBbc3RvcmUsIHNldFN0b3JlXSA9IHVzZVNlcXVlbnRpYWxTY29wZSgpO1xuICBjb25zdCBob3N0RWxlbWVudCA9IHVzZUhvc3RFbGVtZW50KCk7XG4gIGlmIChzdG9yZSAhPSBudWxsKSB7XG4gICAgcmV0dXJuIHdyYXBTdWJzY3JpYmVyKHN0b3JlLCBob3N0RWxlbWVudCk7XG4gIH1cbiAgY29uc3QgdmFsdWUgPSB0eXBlb2YgaW5pdGlhbFN0YXRlID09PSAnZnVuY3Rpb24nID8gKGluaXRpYWxTdGF0ZSBhcyBGdW5jdGlvbikoKSA6IGluaXRpYWxTdGF0ZTtcbiAgY29uc3QgbmV3U3RvcmUgPSBxT2JqZWN0KHZhbHVlLCBnZXRQcm94eU1hcCh1c2VEb2N1bWVudCgpKSk7XG4gIHNldFN0b3JlKG5ld1N0b3JlKTtcbiAgcmV0dXJuIHdyYXBTdWJzY3JpYmVyKG5ld1N0b3JlLCBob3N0RWxlbWVudCk7XG59XG5cbi8qKlxuICogQGFscGhhXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVmPFQ+IHtcbiAgY3VycmVudD86IFQ7XG59XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kI3VzZVJlZlwiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IC4uL3JlYWRtZS5tZCN1c2VSZWYgaW5zdGVhZClcbi8qKlxuICogSXQncyBhIHZlcnkgdGhpbiB3cmFwcGVyIGFyb3VuZCBgdXNlU3RvcmUoKWAgaW5jbHVkaW5nIHRoZSBwcm9wZXIgdHlwZSBzaWduYXR1cmUgdG8gYmUgcGFzc2VkXG4gKiB0byB0aGUgYHJlZmAgcHJvcGVydHkgaW4gSlNYLlxuICpcbiAqIGBgYHRzeFxuICogZXhwb3J0IGZ1bmN0aW9uIHVzZVJlZjxUID0gRWxlbWVudD4oY3VycmVudD86IFQpOiBSZWY8VD4ge1xuICogICByZXR1cm4gdXNlU3RvcmUoeyBjdXJyZW50IH0pO1xuICogfVxuICogYGBgXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIGBgYHRzeFxuICogY29uc3QgQ21wID0gY29tcG9uZW50JCgoKSA9PiB7XG4gKiAgIGNvbnN0IGlucHV0ID0gdXNlUmVmPEhUTUxJbnB1dEVsZW1lbnQ+KCk7XG4gKlxuICogICB1c2VDbGllbnRFZmZlY3QkKCh0cmFjaykgPT4ge1xuICogICAgIGNvbnN0IGVsID0gdHJhY2soaW5wdXQsICdjdXJyZW50JykhO1xuICogICAgIGVsLmZvY3VzKCk7XG4gKiAgIH0pO1xuICpcbiAqICAgcmV0dXJuIChcbiAqICAgICA8SG9zdD5cbiAqICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIHJlZj17aW5wdXR9IC8+XG4gKiAgICAgPC9Ib3N0PlxuICogICApO1xuICogfSk7XG4gKlxuICogYGBgXG4gKlxuICogQHB1YmxpY1xuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgZnVuY3Rpb24gdXNlUmVmPFQgPSBFbGVtZW50PihjdXJyZW50PzogVCk6IFJlZjxUPiB7XG4gIHJldHVybiB1c2VTdG9yZSh7IGN1cnJlbnQgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VTZXF1ZW50aWFsU2NvcGUoKTogW2FueSwgKHByb3A6IGFueSkgPT4gdm9pZF0ge1xuICBjb25zdCBjdHggPSBnZXRJbnZva2VDb250ZXh0KCk7XG4gIGFzc2VydEVxdWFsKGN0eC5ldmVudCwgUmVuZGVyRXZlbnQpO1xuICBjb25zdCBpbmRleCA9IGN0eC5zZXE7XG4gIGNvbnN0IGhvc3RFbGVtZW50ID0gdXNlSG9zdEVsZW1lbnQoKTtcbiAgY29uc3QgZWxlbWVudEN0eCA9IGdldENvbnRleHQoaG9zdEVsZW1lbnQpO1xuICBjdHguc2VxKys7XG4gIGNvbnN0IHVwZGF0ZUZuID0gKHZhbHVlOiBhbnkpID0+IHtcbiAgICBlbGVtZW50Q3R4LnNlcVtpbmRleF0gPSBlbGVtZW50Q3R4LnJlZk1hcC5hZGQodmFsdWUpO1xuICB9O1xuICBjb25zdCBzZXFJbmRleCA9IGVsZW1lbnRDdHguc2VxW2luZGV4XTtcbiAgaWYgKHR5cGVvZiBzZXFJbmRleCA9PT0gJ251bWJlcicpIHtcbiAgICByZXR1cm4gW2VsZW1lbnRDdHgucmVmTWFwLmdldChzZXFJbmRleCksIHVwZGF0ZUZuXTtcbiAgfVxuICByZXR1cm4gW3VuZGVmaW5lZCwgdXBkYXRlRm5dO1xufVxuIl19","// TODO(misko): need full object parsing /serializing\nimport { assertEqual } from '../assert/assert';\nexport function qDeflate(obj, hostCtx) {\n    return String(hostCtx.refMap.add(obj));\n}\nexport function qInflate(ref, hostCtx) {\n    const int = parseInt(ref, 10);\n    const obj = hostCtx.refMap.get(int);\n    assertEqual(hostCtx.refMap.array.length > int, true);\n    return obj;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicS1qc29uLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL2pzb24vcS1qc29uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLHFEQUFxRDtBQUNyRCxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFHL0MsTUFBTSxVQUFVLFFBQVEsQ0FBQyxHQUFRLEVBQUUsT0FBaUI7SUFDbEQsT0FBTyxNQUFNLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztBQUN6QyxDQUFDO0FBRUQsTUFBTSxVQUFVLFFBQVEsQ0FBQyxHQUFXLEVBQUUsT0FBaUI7SUFDckQsTUFBTSxHQUFHLEdBQUcsUUFBUSxDQUFDLEdBQUcsRUFBRSxFQUFFLENBQUMsQ0FBQztJQUM5QixNQUFNLEdBQUcsR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUNwQyxXQUFXLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLEdBQUcsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUNyRCxPQUFPLEdBQUcsQ0FBQztBQUNiLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUT0RPKG1pc2tvKTogbmVlZCBmdWxsIG9iamVjdCBwYXJzaW5nIC9zZXJpYWxpemluZ1xuaW1wb3J0IHsgYXNzZXJ0RXF1YWwgfSBmcm9tICcuLi9hc3NlcnQvYXNzZXJ0JztcbmltcG9ydCB0eXBlIHsgUUNvbnRleHQgfSBmcm9tICcuLi9wcm9wcy9wcm9wcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBxRGVmbGF0ZShvYmo6IGFueSwgaG9zdEN0eDogUUNvbnRleHQpOiBzdHJpbmcge1xuICByZXR1cm4gU3RyaW5nKGhvc3RDdHgucmVmTWFwLmFkZChvYmopKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHFJbmZsYXRlKHJlZjogc3RyaW5nLCBob3N0Q3R4OiBRQ29udGV4dCk6IGFueSB7XG4gIGNvbnN0IGludCA9IHBhcnNlSW50KHJlZiwgMTApO1xuICBjb25zdCBvYmogPSBob3N0Q3R4LnJlZk1hcC5nZXQoaW50KTtcbiAgYXNzZXJ0RXF1YWwoaG9zdEN0eC5yZWZNYXAuYXJyYXkubGVuZ3RoID4gaW50LCB0cnVlKTtcbiAgcmV0dXJuIG9iajtcbn1cbiJdfQ==","import { getInvokeContext } from './use-core';\nexport function useURL() {\n    const url = getInvokeContext().url;\n    if (!url) {\n        // TODO(misko): centralize\n        throw new Error('Q-ERROR: no URL is associated with the execution context');\n    }\n    return url;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLXVybC5wdWJsaWMuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvdXNlL3VzZS11cmwucHVibGljLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLFlBQVksQ0FBQztBQUU5QyxNQUFNLFVBQVUsTUFBTTtJQUNwQixNQUFNLEdBQUcsR0FBRyxnQkFBZ0IsRUFBRSxDQUFDLEdBQUcsQ0FBQztJQUNuQyxJQUFJLENBQUMsR0FBRyxFQUFFO1FBQ1IsMEJBQTBCO1FBQzFCLE1BQU0sSUFBSSxLQUFLLENBQUMsMERBQTBELENBQUMsQ0FBQztLQUM3RTtJQUNELE9BQU8sR0FBSSxDQUFDO0FBQ2QsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldEludm9rZUNvbnRleHQgfSBmcm9tICcuL3VzZS1jb3JlJztcblxuZXhwb3J0IGZ1bmN0aW9uIHVzZVVSTCgpOiBVUkwge1xuICBjb25zdCB1cmwgPSBnZXRJbnZva2VDb250ZXh0KCkudXJsO1xuICBpZiAoIXVybCkge1xuICAgIC8vIFRPRE8obWlza28pOiBjZW50cmFsaXplXG4gICAgdGhyb3cgbmV3IEVycm9yKCdRLUVSUk9SOiBubyBVUkwgaXMgYXNzb2NpYXRlZCB3aXRoIHRoZSBleGVjdXRpb24gY29udGV4dCcpO1xuICB9XG4gIHJldHVybiB1cmwhO1xufVxuIl19","import { wrapSubscriber } from './use-subscriber';\nimport { assertDefined } from '../assert/assert';\nimport { parseQRL } from '../import/qrl';\nimport { qInflate } from '../json/q-json';\nimport { getContext, resumeIfNeeded } from '../props/props';\nimport { getContainer, getInvokeContext } from './use-core';\nimport { useURL } from './use-url.public';\n// <docs markdown=\"../readme.md#useLexicalScope\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useLexicalScope instead)\n/**\n * Used by the Qwik Optimizer to restore the lexical scoped variables.\n *\n * This method should not be present in the application source code.\n *\n * NOTE: `useLexicalScope` method can only be used in the synchronous portion of the callback\n * (before any `await` statements.)\n *\n * @public\n */\n// </docs>\nexport function useLexicalScope() {\n    const context = getInvokeContext();\n    const hostElement = context.hostElement;\n    const qrl = (context.qrl ??\n        parseQRL(decodeURIComponent(String(useURL())), hostElement));\n    if (qrl.captureRef == null) {\n        const el = context.element;\n        assertDefined(el);\n        resumeIfNeeded(getContainer(el));\n        const ctx = getContext(el);\n        qrl.captureRef = qrl.capture.map((idx) => qInflate(idx, ctx));\n    }\n    const subscriber = context.subscriber;\n    if (subscriber) {\n        return qrl.captureRef.map((obj) => wrapSubscriber(obj, subscriber));\n    }\n    return qrl.captureRef;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLWxleGljYWwtc2NvcGUucHVibGljLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3VzZS91c2UtbGV4aWNhbC1zY29wZS5wdWJsaWMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBQ2xELE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUNqRCxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ3pDLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUMxQyxPQUFPLEVBQUUsVUFBVSxFQUFFLGNBQWMsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQzVELE9BQU8sRUFBRSxZQUFZLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxZQUFZLENBQUM7QUFDNUQsT0FBTyxFQUFFLE1BQU0sRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBRzFDLGlEQUFpRDtBQUNqRCx5Q0FBeUM7QUFDekMsOENBQThDO0FBQzlDOzs7Ozs7Ozs7R0FTRztBQUNILFVBQVU7QUFDVixNQUFNLFVBQVUsZUFBZTtJQUM3QixNQUFNLE9BQU8sR0FBRyxnQkFBZ0IsRUFBRSxDQUFDO0lBQ25DLE1BQU0sV0FBVyxHQUFHLE9BQU8sQ0FBQyxXQUFXLENBQUM7SUFDeEMsTUFBTSxHQUFHLEdBQUcsQ0FBQyxPQUFPLENBQUMsR0FBRztRQUN0QixRQUFRLENBQUMsa0JBQWtCLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUMsRUFBRSxXQUFXLENBQUMsQ0FBZ0IsQ0FBQztJQUM5RSxJQUFJLEdBQUcsQ0FBQyxVQUFVLElBQUksSUFBSSxFQUFFO1FBQzFCLE1BQU0sRUFBRSxHQUFHLE9BQU8sQ0FBQyxPQUFRLENBQUM7UUFDNUIsYUFBYSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ2xCLGNBQWMsQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFFLENBQUMsQ0FBQztRQUNsQyxNQUFNLEdBQUcsR0FBRyxVQUFVLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDM0IsR0FBRyxDQUFDLFVBQVUsR0FBRyxHQUFHLENBQUMsT0FBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsRUFBRSxFQUFFLENBQUMsUUFBUSxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDO0tBQ2hFO0lBQ0QsTUFBTSxVQUFVLEdBQUcsT0FBTyxDQUFDLFVBQVUsQ0FBQztJQUN0QyxJQUFJLFVBQVUsRUFBRTtRQUNkLE9BQU8sR0FBRyxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEVBQUUsRUFBRSxDQUFDLGNBQWMsQ0FBQyxHQUFHLEVBQUUsVUFBVSxDQUFDLENBQVMsQ0FBQztLQUM3RTtJQUNELE9BQU8sR0FBRyxDQUFDLFVBQWtCLENBQUM7QUFDaEMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHdyYXBTdWJzY3JpYmVyIH0gZnJvbSAnLi91c2Utc3Vic2NyaWJlcic7XG5pbXBvcnQgeyBhc3NlcnREZWZpbmVkIH0gZnJvbSAnLi4vYXNzZXJ0L2Fzc2VydCc7XG5pbXBvcnQgeyBwYXJzZVFSTCB9IGZyb20gJy4uL2ltcG9ydC9xcmwnO1xuaW1wb3J0IHsgcUluZmxhdGUgfSBmcm9tICcuLi9qc29uL3EtanNvbic7XG5pbXBvcnQgeyBnZXRDb250ZXh0LCByZXN1bWVJZk5lZWRlZCB9IGZyb20gJy4uL3Byb3BzL3Byb3BzJztcbmltcG9ydCB7IGdldENvbnRhaW5lciwgZ2V0SW52b2tlQ29udGV4dCB9IGZyb20gJy4vdXNlLWNvcmUnO1xuaW1wb3J0IHsgdXNlVVJMIH0gZnJvbSAnLi91c2UtdXJsLnB1YmxpYyc7XG5pbXBvcnQgdHlwZSB7IFFSTEludGVybmFsIH0gZnJvbSAnLi4vaW1wb3J0L3FybC1jbGFzcyc7XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kI3VzZUxleGljYWxTY29wZVwiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IC4uL3JlYWRtZS5tZCN1c2VMZXhpY2FsU2NvcGUgaW5zdGVhZClcbi8qKlxuICogVXNlZCBieSB0aGUgUXdpayBPcHRpbWl6ZXIgdG8gcmVzdG9yZSB0aGUgbGV4aWNhbCBzY29wZWQgdmFyaWFibGVzLlxuICpcbiAqIFRoaXMgbWV0aG9kIHNob3VsZCBub3QgYmUgcHJlc2VudCBpbiB0aGUgYXBwbGljYXRpb24gc291cmNlIGNvZGUuXG4gKlxuICogTk9URTogYHVzZUxleGljYWxTY29wZWAgbWV0aG9kIGNhbiBvbmx5IGJlIHVzZWQgaW4gdGhlIHN5bmNocm9ub3VzIHBvcnRpb24gb2YgdGhlIGNhbGxiYWNrXG4gKiAoYmVmb3JlIGFueSBgYXdhaXRgIHN0YXRlbWVudHMuKVxuICpcbiAqIEBwdWJsaWNcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGZ1bmN0aW9uIHVzZUxleGljYWxTY29wZTxWQVJTIGV4dGVuZHMgYW55W10+KCk6IFZBUlMge1xuICBjb25zdCBjb250ZXh0ID0gZ2V0SW52b2tlQ29udGV4dCgpO1xuICBjb25zdCBob3N0RWxlbWVudCA9IGNvbnRleHQuaG9zdEVsZW1lbnQ7XG4gIGNvbnN0IHFybCA9IChjb250ZXh0LnFybCA/P1xuICAgIHBhcnNlUVJMKGRlY29kZVVSSUNvbXBvbmVudChTdHJpbmcodXNlVVJMKCkpKSwgaG9zdEVsZW1lbnQpKSBhcyBRUkxJbnRlcm5hbDtcbiAgaWYgKHFybC5jYXB0dXJlUmVmID09IG51bGwpIHtcbiAgICBjb25zdCBlbCA9IGNvbnRleHQuZWxlbWVudCE7XG4gICAgYXNzZXJ0RGVmaW5lZChlbCk7XG4gICAgcmVzdW1lSWZOZWVkZWQoZ2V0Q29udGFpbmVyKGVsKSEpO1xuICAgIGNvbnN0IGN0eCA9IGdldENvbnRleHQoZWwpO1xuICAgIHFybC5jYXB0dXJlUmVmID0gcXJsLmNhcHR1cmUhLm1hcCgoaWR4KSA9PiBxSW5mbGF0ZShpZHgsIGN0eCkpO1xuICB9XG4gIGNvbnN0IHN1YnNjcmliZXIgPSBjb250ZXh0LnN1YnNjcmliZXI7XG4gIGlmIChzdWJzY3JpYmVyKSB7XG4gICAgcmV0dXJuIHFybC5jYXB0dXJlUmVmLm1hcCgob2JqKSA9PiB3cmFwU3Vic2NyaWJlcihvYmosIHN1YnNjcmliZXIpKSBhcyBWQVJTO1xuICB9XG4gIHJldHVybiBxcmwuY2FwdHVyZVJlZiBhcyBWQVJTO1xufVxuIl19","import { noSerialize, notifyWatch, QOjectAllSymbol, removeSub, SetSubscriber, } from '../object/q-object';\nimport { implicit$FirstArg } from '../import/qrl.public';\nimport { getContext } from '../props/props';\nimport { newInvokeContext, useWaitOn } from '../use/use-core';\nimport { useHostElement } from '../use/use-host-element.public';\nimport { logDebug, logError } from '../util/log';\nimport { then } from '../util/promises';\nimport { useSequentialScope } from '../use/use-store.public';\nimport { QRLInternal } from '../import/qrl-class';\nimport { getDocument } from '../util/dom';\nimport { useLexicalScope } from '../use/use-lexical-scope.public';\nimport { getPlatform } from '../platform/platform';\nimport { useDocument } from '../use/use-document.public';\nimport { useResumeQrl, useVisibleQrl } from '../component/component.public';\nexport var WatchFlags;\n(function (WatchFlags) {\n    WatchFlags[WatchFlags[\"IsDirty\"] = 1] = \"IsDirty\";\n    WatchFlags[WatchFlags[\"IsCleanup\"] = 2] = \"IsCleanup\";\n})(WatchFlags || (WatchFlags = {}));\nexport const isWatchDescriptor = (obj) => {\n    return obj && typeof obj === 'object' && 'qrl' in obj && 'f' in obj;\n};\n/**\n * @alpha\n */\nexport function handleWatch() {\n    const [watch] = useLexicalScope();\n    notifyWatch(watch);\n}\n// <docs markdown=\"../readme.md#useWatch\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useWatch instead)\n/**\n * Reruns the `watchFn` when the observed inputs change.\n *\n * Use `useWatch` to observe changes on a set of inputs, and then re-execute the `watchFn` when\n * those inputs change.\n *\n * The `watchFn` only executes if the observed inputs change. To observe the inputs use the `obs`\n * function to wrap property reads. This creates subscriptions which will trigger the `watchFn`\n * to re-run.\n *\n * @see `Tracker`\n *\n * @public\n *\n * ## Example\n *\n * The `useWatch` function is used to observe the `state.count` property. Any changes to the\n * `state.count` cause the `watchFn` to execute which in turn updates the `state.doubleCount` to\n * the double of `state.count`.\n *\n * ```tsx\n * const Cmp = component$(() => {\n *   const store = useStore({\n *     count: 0,\n *     doubleCount: 0,\n *     debounced: 0,\n *   });\n *\n *   // Double count watch\n *   useWatch$((track) => {\n *     const count = track(store, 'count');\n *     store.doubleCount = 2 * count;\n *   });\n *\n *   // Debouncer watch\n *   useWatch$((track) => {\n *     const doubleCount = track(store, 'doubleCount');\n *     const timer = setTimeout(() => {\n *       store.debounced = doubleCount;\n *     }, 2000);\n *     return () => {\n *       clearTimeout(timer);\n *     };\n *   });\n *   return (\n *     <Host>\n *       <div>\n *         {store.count} / {store.doubleCount}\n *       </div>\n *       <div>{store.debounced}</div>\n *     </Host>\n *   );\n * });\n * ```\n *\n * @param watch - Function which should be re-executed when changes to the inputs are detected\n * @public\n */\n// </docs>\nexport function useWatchQrl(qrl, opts) {\n    const [watch, setWatch] = useSequentialScope();\n    if (!watch) {\n        const el = useHostElement();\n        const watch = {\n            qrl,\n            el,\n            f: WatchFlags.IsDirty,\n        };\n        setWatch(watch);\n        getContext(el).refMap.add(watch);\n        useWaitOn(Promise.resolve().then(() => runWatch(watch)));\n        const isServer = getPlatform(useDocument()).isServer;\n        if (isServer) {\n            useRunWatch(watch, opts?.run);\n        }\n    }\n}\n// <docs markdown=\"../readme.md#useWatch\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useWatch instead)\n/**\n * Reruns the `watchFn` when the observed inputs change.\n *\n * Use `useWatch` to observe changes on a set of inputs, and then re-execute the `watchFn` when\n * those inputs change.\n *\n * The `watchFn` only executes if the observed inputs change. To observe the inputs use the `obs`\n * function to wrap property reads. This creates subscriptions which will trigger the `watchFn`\n * to re-run.\n *\n * @see `Tracker`\n *\n * @public\n *\n * ## Example\n *\n * The `useWatch` function is used to observe the `state.count` property. Any changes to the\n * `state.count` cause the `watchFn` to execute which in turn updates the `state.doubleCount` to\n * the double of `state.count`.\n *\n * ```tsx\n * const Cmp = component$(() => {\n *   const store = useStore({\n *     count: 0,\n *     doubleCount: 0,\n *     debounced: 0,\n *   });\n *\n *   // Double count watch\n *   useWatch$((track) => {\n *     const count = track(store, 'count');\n *     store.doubleCount = 2 * count;\n *   });\n *\n *   // Debouncer watch\n *   useWatch$((track) => {\n *     const doubleCount = track(store, 'doubleCount');\n *     const timer = setTimeout(() => {\n *       store.debounced = doubleCount;\n *     }, 2000);\n *     return () => {\n *       clearTimeout(timer);\n *     };\n *   });\n *   return (\n *     <Host>\n *       <div>\n *         {store.count} / {store.doubleCount}\n *       </div>\n *       <div>{store.debounced}</div>\n *     </Host>\n *   );\n * });\n * ```\n *\n * @param watch - Function which should be re-executed when changes to the inputs are detected\n * @public\n */\n// </docs>\nexport const useWatch$ = implicit$FirstArg(useWatchQrl);\n// <docs markdown=\"../readme.md#useClientEffect\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useClientEffect instead)\n/**\n * ```tsx\n * const Timer = component$(() => {\n *   const store = useStore({\n *     count: 0,\n *   });\n *\n *   useClientEffect$(() => {\n *     // Only runs in the client\n *     const timer = setInterval(() => {\n *       store.count++;\n *     }, 500);\n *     return () => {\n *       clearInterval(timer);\n *     };\n *   });\n *\n *   return <Host>{store.count}</Host>;\n * });\n * ```\n *\n * @public\n */\n// </docs>\nexport function useClientEffectQrl(qrl, opts) {\n    const [watch, setWatch] = useSequentialScope();\n    if (!watch) {\n        const el = useHostElement();\n        const watch = {\n            qrl,\n            el,\n            f: 0,\n        };\n        setWatch(watch);\n        getContext(el).refMap.add(watch);\n        useRunWatch(watch, opts?.run ?? 'visible');\n        const doc = useDocument();\n        if (doc['qO']) {\n            doc['qO'].observe(el);\n        }\n    }\n}\n// <docs markdown=\"../readme.md#useClientEffect\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useClientEffect instead)\n/**\n * ```tsx\n * const Timer = component$(() => {\n *   const store = useStore({\n *     count: 0,\n *   });\n *\n *   useClientEffect$(() => {\n *     // Only runs in the client\n *     const timer = setInterval(() => {\n *       store.count++;\n *     }, 500);\n *     return () => {\n *       clearInterval(timer);\n *     };\n *   });\n *\n *   return <Host>{store.count}</Host>;\n * });\n * ```\n *\n * @public\n */\n// </docs>\nexport const useClientEffect$ = implicit$FirstArg(useClientEffectQrl);\n// <docs markdown=\"../readme.md#useServerMount\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useServerMount instead)\n/**\n * Register's a server mount hook, that runs only in server when the component is first mounted.\n * `useWatch` will run once in the server, and N-times in the client, only when the **tracked**\n * state changes.\n *\n * ## Example\n *\n * ```tsx\n * const Cmp = component$(() => {\n *   const store = useStore({\n *     users: [],\n *   });\n *\n *   // Double count watch\n *   useServerMount$(async () => {\n *     // This code will ONLY run once in the server, when the component is mounted\n *     store.users = await db.requestUsers();\n *   });\n *\n *   return (\n *     <Host>\n *       {store.users.map((user) => (\n *         <User user={user} />\n *       ))}\n *     </Host>\n *   );\n * });\n *\n * interface User {\n *   name: string;\n * }\n * function User(props: { user: User }) {\n *   return <div>Name: {props.user.name}</div>;\n * }\n * const Cmp = component$(() => {\n *   const store = useStore({\n *     users: [],\n *   });\n *\n *   // Double count watch\n *   useServerMount$(async () => {\n *     // This code will ONLY run once in the server, when the component is mounted\n *     store.users = await db.requestUsers();\n *   });\n *\n *   return (\n *     <Host>\n *       {store.users.map((user) => (\n *         <User user={user} />\n *       ))}\n *     </Host>\n *   );\n * });\n *\n * interface User {\n *   name: string;\n * }\n * function User(props: { user: User }) {\n *   return <div>Name: {props.user.name}</div>;\n * }\n * ```\n *\n * @public\n */\n// </docs>\nexport function useServerMountQrl(watchQrl) {\n    const [watch, setWatch] = useSequentialScope();\n    if (!watch) {\n        setWatch(true);\n        const isServer = getPlatform(useDocument()).isServer;\n        if (isServer) {\n            useWaitOn(watchQrl.invoke());\n        }\n    }\n}\n// <docs markdown=\"../readme.md#useServerMount\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useServerMount instead)\n/**\n * Register's a server mount hook, that runs only in server when the component is first mounted.\n * `useWatch` will run once in the server, and N-times in the client, only when the **tracked**\n * state changes.\n *\n * ## Example\n *\n * ```tsx\n * const Cmp = component$(() => {\n *   const store = useStore({\n *     users: [],\n *   });\n *\n *   // Double count watch\n *   useServerMount$(async () => {\n *     // This code will ONLY run once in the server, when the component is mounted\n *     store.users = await db.requestUsers();\n *   });\n *\n *   return (\n *     <Host>\n *       {store.users.map((user) => (\n *         <User user={user} />\n *       ))}\n *     </Host>\n *   );\n * });\n *\n * interface User {\n *   name: string;\n * }\n * function User(props: { user: User }) {\n *   return <div>Name: {props.user.name}</div>;\n * }\n * const Cmp = component$(() => {\n *   const store = useStore({\n *     users: [],\n *   });\n *\n *   // Double count watch\n *   useServerMount$(async () => {\n *     // This code will ONLY run once in the server, when the component is mounted\n *     store.users = await db.requestUsers();\n *   });\n *\n *   return (\n *     <Host>\n *       {store.users.map((user) => (\n *         <User user={user} />\n *       ))}\n *     </Host>\n *   );\n * });\n *\n * interface User {\n *   name: string;\n * }\n * function User(props: { user: User }) {\n *   return <div>Name: {props.user.name}</div>;\n * }\n * ```\n *\n * @public\n */\n// </docs>\nexport const useServerMount$ = implicit$FirstArg(useServerMountQrl);\nexport function runWatch(watch) {\n    if (!(watch.f & WatchFlags.IsDirty)) {\n        logDebug('Watch is not dirty, skipping run', watch);\n        return Promise.resolve(watch);\n    }\n    watch.f &= ~WatchFlags.IsDirty;\n    const promise = new Promise((resolve) => {\n        then(watch.running, () => {\n            cleanupWatch(watch);\n            const el = watch.el;\n            const invokationContext = newInvokeContext(getDocument(el), el, el, 'WatchEvent');\n            invokationContext.watch = watch;\n            const watchFn = watch.qrl.invokeFn(el, invokationContext, () => {\n                const captureRef = watch.qrl.captureRef;\n                if (Array.isArray(captureRef)) {\n                    captureRef.forEach((obj) => {\n                        removeSub(obj, watch);\n                    });\n                }\n            });\n            const tracker = (obj, prop) => {\n                obj[SetSubscriber] = watch;\n                if (prop) {\n                    return obj[prop];\n                }\n                else {\n                    return obj[QOjectAllSymbol];\n                }\n            };\n            return then(watchFn(tracker), (returnValue) => {\n                if (typeof returnValue === 'function') {\n                    watch.destroy = noSerialize(returnValue);\n                }\n                resolve(watch);\n            });\n        });\n    });\n    watch.running = noSerialize(promise);\n    return promise;\n}\nexport const cleanupWatch = (watch) => {\n    const destroy = watch.destroy;\n    if (destroy) {\n        watch.destroy = undefined;\n        try {\n            destroy();\n        }\n        catch (err) {\n            logError(err);\n        }\n    }\n};\nexport const destroyWatch = (watch) => {\n    if (watch.f & WatchFlags.IsCleanup) {\n        watch.f &= ~WatchFlags.IsCleanup;\n        const cleanup = watch.qrl.invokeFn(watch.el);\n        cleanup();\n    }\n    else {\n        cleanupWatch(watch);\n    }\n};\nconst useRunWatch = (watch, run) => {\n    if (run === 'load') {\n        useResumeQrl(getWatchHandlerQrl(watch));\n    }\n    else if (run === 'visible') {\n        useVisibleQrl(getWatchHandlerQrl(watch));\n    }\n};\nconst getWatchHandlerQrl = (watch) => {\n    const watchQrl = watch.qrl;\n    const watchHandler = new QRLInternal(watchQrl.chunk, 'handleWatch', handleWatch, null, null, [watch]);\n    watchHandler.refSymbol = watchQrl.symbol;\n    return watchHandler;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2F0Y2gucHVibGljLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3dhdGNoL3dhdGNoLnB1YmxpYy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQ0wsV0FBVyxFQUVYLFdBQVcsRUFDWCxlQUFlLEVBQ2YsU0FBUyxFQUNULGFBQWEsR0FDZCxNQUFNLG9CQUFvQixDQUFDO0FBQzVCLE9BQU8sRUFBRSxpQkFBaUIsRUFBTyxNQUFNLHNCQUFzQixDQUFDO0FBQzlELE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUM1QyxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsU0FBUyxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDOUQsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLGdDQUFnQyxDQUFDO0FBQ2hFLE9BQU8sRUFBRSxRQUFRLEVBQUUsUUFBUSxFQUFFLE1BQU0sYUFBYSxDQUFDO0FBQ2pELE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUN4QyxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSx5QkFBeUIsQ0FBQztBQUM3RCxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFDbEQsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUUxQyxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0saUNBQWlDLENBQUM7QUFDbEUsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBQ25ELE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSw0QkFBNEIsQ0FBQztBQUN6RCxPQUFPLEVBQUUsWUFBWSxFQUFFLGFBQWEsRUFBRSxNQUFNLCtCQUErQixDQUFDO0FBRTVFLE1BQU0sQ0FBTixJQUFrQixVQUdqQjtBQUhELFdBQWtCLFVBQVU7SUFDMUIsaURBQWdCLENBQUE7SUFDaEIscURBQWtCLENBQUE7QUFDcEIsQ0FB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Q0wsWUFBWSxDQUFDLEtBQUssQ0FBQyxDQUFDO0tBQ3JCO0FBQ0gsQ0FBQyxDQUFDO0FBNkNGLE1BQU0sV0FBVyxHQUFHLENBQUMsS0FBc0IsRUFBRSxHQUFvQyxFQUFFLEVBQUU7SUFDbkYsSUFBSSxHQUFHLEtBQUssTUFBTSxFQUFFO1FBQ2xCLFlBQVksQ0FBQyxrQkFBa0IsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO0tBQ3pDO1NBQU0sSUFBSSxHQUFHLEtBQUssU0FBUyxFQUFFO1FBQzVCLGFBQWEsQ0FBQyxrQkFBa0IsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO0tBQzFDO0FBQ0gsQ0FBQyxDQUFDO0FBRUYsTUFBTSxrQkFBa0IsR0FBRyxDQUFDLEtBQXNCLEVBQUUsRUFBRTtJQUNwRCxNQUFNLFFBQVEsR0FBRyxLQUFLLENBQUMsR0FBa0IsQ0FBQztJQUMxQyxNQUFNLFlBQVksR0FBRyxJQUFJLFdBQVcsQ0FDakMsUUFBd0IsQ0FBQyxLQUFLLEVBQy9CLGFBQWEsRUFDYixXQUFXLEVBQ1gsSUFBSSxFQUNKLElBQUksRUFDSixDQUFDLEtBQUssQ0FBQyxDQUNSLENBQUM7SUFDRixZQUFZLENBQUMsU0FBUyxHQUFJLFFBQXdCLENBQUMsTUFBTSxDQUFDO0lBQzFELE9BQU8sWUFBWSxDQUFDO0FBQ3RCLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIG5vU2VyaWFsaXplLFxuICBOb1NlcmlhbGl6ZSxcbiAgbm90aWZ5V2F0Y2gsXG4gIFFPamVjdEFsbFN5bWJvbCxcbiAgcmVtb3ZlU3ViLFxuICBTZXRTdWJzY3JpYmVyLFxufSBmcm9tICcuLi9vYmplY3QvcS1vYmplY3QnO1xuaW1wb3J0IHsgaW1wbGljaXQkRmlyc3RBcmcsIFFSTCB9IGZyb20gJy4uL2ltcG9ydC9xcmwucHVibGljJztcbmltcG9ydCB7IGdldENvbnRleHQgfSBmcm9tICcuLi9wcm9wcy9wcm9wcyc7XG5pbXBvcnQgeyBuZXdJbnZva2VDb250ZXh0LCB1c2VXYWl0T24gfSBmcm9tICcuLi91c2UvdXNlLWNvcmUnO1xuaW1wb3J0IHsgdXNlSG9zdEVsZW1lbnQgfSBmcm9tICcuLi91c2UvdXNlLWhvc3QtZWxlbWVudC5wdWJsaWMnO1xuaW1wb3J0IHsgbG9nRGVidWcsIGxvZ0Vycm9yIH0gZnJvbSAnLi4vdXRpbC9sb2cnO1xuaW1wb3J0IHsgdGhlbiB9IGZyb20gJy4uL3V0aWwvcHJvbWlzZXMnO1xuaW1wb3J0IHsgdXNlU2VxdWVudGlhbFNjb3BlIH0gZnJvbSAnLi4vdXNlL3VzZS1zdG9yZS5wdWJsaWMnO1xuaW1wb3J0IHsgUVJMSW50ZXJuYWwgfSBmcm9tICcuLi9pbXBvcnQvcXJsLWNsYXNzJztcbmltcG9ydCB7IGdldERvY3VtZW50IH0gZnJvbSAnLi4vdXRpbC9kb20nO1xuaW1wb3J0IHR5cGUgeyBWYWx1ZU9yUHJvbWlzZSB9IGZyb20gJy4uL3V0aWwvdHlwZXMnO1xuaW1wb3J0IHsgdXNlTGV4aWNhbFNjb3BlIH0gZnJvbSAnLi4vdXNlL3VzZS1sZXhpY2FsLXNjb3BlLnB1YmxpYyc7XG5pbXBvcnQgeyBnZXRQbGF0Zm9ybSB9IGZyb20gJy4uL3BsYXRmb3JtL3BsYXRmb3JtJztcbmltcG9ydCB7IHVzZURvY3VtZW50IH0gZnJvbSAnLi4vdXNlL3VzZS1kb2N1bWVudC5wdWJsaWMnO1xuaW1wb3J0IHsgdXNlUmVzdW1lUXJsLCB1c2VWaXNpYmxlUXJsIH0gZnJvbSAnLi4vY29tcG9uZW50L2NvbXBvbmVudC5wdWJsaWMnO1xuXG5leHBvcnQgY29uc3QgZW51bSBXYXRjaEZsYWdzIHtcbiAgSXNEaXJ0eSA9IDEgPDwgMCxcbiAgSXNDbGVhbnVwID0gMSA8PCAxLFxufVxuXG4vKipcbiAqIEBhbHBoYVxuICovXG5leHBvcnQgdHlwZSBXYXRjaEZuID0gKHRyYWNrOiBUcmFja2VyKSA9PiBWYWx1ZU9yUHJvbWlzZTx2b2lkIHwgKCgpID0+IHZvaWQpPjtcblxuLyoqXG4gKiBAYWxwaGFcbiAqL1xuZXhwb3J0IHR5cGUgU2VydmVyRm4gPSAoKSA9PiBWYWx1ZU9yUHJvbWlzZTx2b2lkIHwgKCgpID0+IHZvaWQpPjtcblxuLyoqXG4gKiBAYWxwaGFcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBXYXRjaERlc2NyaXB0b3Ige1xuICBxcmw6IFFSTDxXYXRjaEZuPjtcbiAgZWw6IEVsZW1lbnQ7XG4gIGY6IG51bWJlcjtcbiAgZGVzdHJveT86IE5vU2VyaWFsaXplPCgpID0+IHZvaWQ+O1xuICBydW5uaW5nPzogTm9TZXJpYWxpemU8UHJvbWlzZTxXYXRjaERlc2NyaXB0b3I+Pjtcbn1cblxuZXhwb3J0IGNvbnN0IGlzV2F0Y2hEZXNjcmlwdG9yID0gKG9iajogYW55KTogb2JqIGlzIFdhdGNoRGVzY3JpcHRvciA9PiB7XG4gIHJldHVybiBvYmogJiYgdHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgJiYgJ3FybCcgaW4gb2JqICYmICdmJyBpbiBvYmo7XG59O1xuXG4vKipcbiAqIEBhbHBoYVxuICovXG5leHBvcnQgdHlwZSBVc2VFZmZlY3RSdW5PcHRpb25zID0gJ3Zpc2libGUnIHwgJ2xvYWQnO1xuXG4vKipcbiAqIEBhbHBoYVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFVzZUVmZmVjdE9wdGlvbnMge1xuICBydW4/OiBVc2VFZmZlY3RSdW5PcHRpb25zO1xufVxuXG4vKipcbiAqIEBhbHBoYVxuICovXG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlV2F0Y2goKSB7XG4gIGNvbnN0IFt3YXRjaF0gPSB1c2VMZXhpY2FsU2NvcGUoKTtcbiAgbm90aWZ5V2F0Y2god2F0Y2gpO1xufVxuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4uL3JlYWRtZS5tZCN1c2VXYXRjaFwiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IC4uL3JlYWRtZS5tZCN1c2VXYXRjaCBpbnN0ZWFkKVxuLyoqXG4gKiBSZXJ1bnMgdGhlIGB3YXRjaEZuYCB3aGVuIHRoZSBvYnNlcnZlZCBpbnB1dHMgY2hhbmdlLlxuICpcbiAqIFVzZSBgdXNlV2F0Y2hgIHRvIG9ic2VydmUgY2hhbmdlcyBvbiBhIHNldCBvZiBpbnB1dHMsIGFuZCB0aGVuIHJlLWV4ZWN1dGUgdGhlIGB3YXRjaEZuYCB3aGVuXG4gKiB0aG9zZSBpbnB1dHMgY2hhbmdlLlxuICpcbiAqIFRoZSBgd2F0Y2hGbmAgb25seSBleGVjdXRlcyBpZiB0aGUgb2JzZXJ2ZWQgaW5wdXRzIGNoYW5nZS4gVG8gb2JzZXJ2ZSB0aGUgaW5wdXRzIHVzZSB0aGUgYG9ic2BcbiAqIGZ1bmN0aW9uIHRvIHdyYXAgcHJvcGVydHkgcmVhZHMuIFRoaXMgY3JlYXRlcyBzdWJzY3JpcHRpb25zIHdoaWNoIHdpbGwgdHJpZ2dlciB0aGUgYHdhdGNoRm5gXG4gKiB0byByZS1ydW4uXG4gKlxuICogQHNlZSBgVHJhY2tlcmBcbiAqXG4gKiBAcHVibGljXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIFRoZSBgdXNlV2F0Y2hgIGZ1bmN0aW9uIGlzIHVzZWQgdG8gb2JzZXJ2ZSB0aGUgYHN0YXRlLmNvdW50YCBwcm9wZXJ0eS4gQW55IGNoYW5nZXMgdG8gdGhlXG4gKiBgc3RhdGUuY291bnRgIGNhdXNlIHRoZSBgd2F0Y2hGbmAgdG8gZXhlY3V0ZSB3aGljaCBpbiB0dXJuIHVwZGF0ZXMgdGhlIGBzdGF0ZS5kb3VibGVDb3VudGAgdG9cbiAqIHRoZSBkb3VibGUgb2YgYHN0YXRlLmNvdW50YC5cbiAqXG4gKiBgYGB0c3hcbiAqIGNvbnN0IENtcCA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICogICBjb25zdCBzdG9yZSA9IHVzZVN0b3JlKHtcbiAqICAgICBjb3VudDogMCxcbiAqICAgICBkb3VibGVDb3VudDogMCxcbiAqICAgICBkZWJvdW5jZWQ6IDAsXG4gKiAgIH0pO1xuICpcbiAqICAgLy8gRG91YmxlIGNvdW50IHdhdGNoXG4gKiAgIHVzZVdhdGNoJCgodHJhY2spID0+IHtcbiAqICAgICBjb25zdCBjb3VudCA9IHRyYWNrKHN0b3JlLCAnY291bnQnKTtcbiAqICAgICBzdG9yZS5kb3VibGVDb3VudCA9IDIgKiBjb3VudDtcbiAqICAgfSk7XG4gKlxuICogICAvLyBEZWJvdW5jZXIgd2F0Y2hcbiAqICAgdXNlV2F0Y2gkKCh0cmFjaykgPT4ge1xuICogICAgIGNvbnN0IGRvdWJsZUNvdW50ID0gdHJhY2soc3RvcmUsICdkb3VibGVDb3VudCcpO1xuICogICAgIGNvbnN0IHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gKiAgICAgICBzdG9yZS5kZWJvdW5jZWQgPSBkb3VibGVDb3VudDtcbiAqICAgICB9LCAyMDAwKTtcbiAqICAgICByZXR1cm4gKCkgPT4ge1xuICogICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAqICAgICB9O1xuICogICB9KTtcbiAqICAgcmV0dXJuIChcbiAqICAgICA8SG9zdD5cbiAqICAgICAgIDxkaXY+XG4gKiAgICAgICAgIHtzdG9yZS5jb3VudH0gLyB7c3RvcmUuZG91YmxlQ291bnR9XG4gKiAgICAgICA8L2Rpdj5cbiAqICAgICAgIDxkaXY+e3N0b3JlLmRlYm91bmNlZH08L2Rpdj5cbiAqICAgICA8L0hvc3Q+XG4gKiAgICk7XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB3YXRjaCAtIEZ1bmN0aW9uIHdoaWNoIHNob3VsZCBiZSByZS1leGVjdXRlZCB3aGVuIGNoYW5nZXMgdG8gdGhlIGlucHV0cyBhcmUgZGV0ZWN0ZWRcbiAqIEBwdWJsaWNcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGZ1bmN0aW9uIHVzZVdhdGNoUXJsKHFybDogUVJMPFdhdGNoRm4+LCBvcHRzPzogVXNlRWZmZWN0T3B0aW9ucyk6IHZvaWQge1xuICBjb25zdCBbd2F0Y2gsIHNldFdhdGNoXSA9IHVzZVNlcXVlbnRpYWxTY29wZSgpO1xuICBpZiAoIXdhdGNoKSB7XG4gICAgY29uc3QgZWwgPSB1c2VIb3N0RWxlbWVudCgpO1xuICAgIGNvbnN0IHdhdGNoOiBXYXRjaERlc2NyaXB0b3IgPSB7XG4gICAgICBxcmwsXG4gICAgICBlbCxcbiAgICAgIGY6IFdhdGNoRmxhZ3MuSXNEaXJ0eSxcbiAgICB9O1xuICAgIHNldFdhdGNoKHdhdGNoKTtcbiAgICBnZXRDb250ZXh0KGVsKS5yZWZNYXAuYWRkKHdhdGNoKTtcbiAgICB1c2VXYWl0T24oUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiBydW5XYXRjaCh3YXRjaCkpKTtcbiAgICBjb25zdCBpc1NlcnZlciA9IGdldFBsYXRmb3JtKHVzZURvY3VtZW50KCkpLmlzU2VydmVyO1xuICAgIGlmIChpc1NlcnZlcikge1xuICAgICAgdXNlUnVuV2F0Y2god2F0Y2gsIG9wdHM/LnJ1bik7XG4gICAgfVxuICB9XG59XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kI3VzZVdhdGNoXCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi4vcmVhZG1lLm1kI3VzZVdhdGNoIGluc3RlYWQpXG4vKipcbiAqIFJlcnVucyB0aGUgYHdhdGNoRm5gIHdoZW4gdGhlIG9ic2VydmVkIGlucHV0cyBjaGFuZ2UuXG4gKlxuICogVXNlIGB1c2VXYXRjaGAgdG8gb2JzZXJ2ZSBjaGFuZ2VzIG9uIGEgc2V0IG9mIGlucHV0cywgYW5kIHRoZW4gcmUtZXhlY3V0ZSB0aGUgYHdhdGNoRm5gIHdoZW5cbiAqIHRob3NlIGlucHV0cyBjaGFuZ2UuXG4gKlxuICogVGhlIGB3YXRjaEZuYCBvbmx5IGV4ZWN1dGVzIGlmIHRoZSBvYnNlcnZlZCBpbnB1dHMgY2hhbmdlLiBUbyBvYnNlcnZlIHRoZSBpbnB1dHMgdXNlIHRoZSBgb2JzYFxuICogZnVuY3Rpb24gdG8gd3JhcCBwcm9wZXJ0eSByZWFkcy4gVGhpcyBjcmVhdGVzIHN1YnNjcmlwdGlvbnMgd2hpY2ggd2lsbCB0cmlnZ2VyIHRoZSBgd2F0Y2hGbmBcbiAqIHRvIHJlLXJ1bi5cbiAqXG4gKiBAc2VlIGBUcmFja2VyYFxuICpcbiAqIEBwdWJsaWNcbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogVGhlIGB1c2VXYXRjaGAgZnVuY3Rpb24gaXMgdXNlZCB0byBvYnNlcnZlIHRoZSBgc3RhdGUuY291bnRgIHByb3BlcnR5LiBBbnkgY2hhbmdlcyB0byB0aGVcbiAqIGBzdGF0ZS5jb3VudGAgY2F1c2UgdGhlIGB3YXRjaEZuYCB0byBleGVjdXRlIHdoaWNoIGluIHR1cm4gdXBkYXRlcyB0aGUgYHN0YXRlLmRvdWJsZUNvdW50YCB0b1xuICogdGhlIGRvdWJsZSBvZiBgc3RhdGUuY291bnRgLlxuICpcbiAqIGBgYHRzeFxuICogY29uc3QgQ21wID0gY29tcG9uZW50JCgoKSA9PiB7XG4gKiAgIGNvbnN0IHN0b3JlID0gdXNlU3RvcmUoe1xuICogICAgIGNvdW50OiAwLFxuICogICAgIGRvdWJsZUNvdW50OiAwLFxuICogICAgIGRlYm91bmNlZDogMCxcbiAqICAgfSk7XG4gKlxuICogICAvLyBEb3VibGUgY291bnQgd2F0Y2hcbiAqICAgdXNlV2F0Y2gkKCh0cmFjaykgPT4ge1xuICogICAgIGNvbnN0IGNvdW50ID0gdHJhY2soc3RvcmUsICdjb3VudCcpO1xuICogICAgIHN0b3JlLmRvdWJsZUNvdW50ID0gMiAqIGNvdW50O1xuICogICB9KTtcbiAqXG4gKiAgIC8vIERlYm91bmNlciB3YXRjaFxuICogICB1c2VXYXRjaCQoKHRyYWNrKSA9PiB7XG4gKiAgICAgY29uc3QgZG91YmxlQ291bnQgPSB0cmFjayhzdG9yZSwgJ2RvdWJsZUNvdW50Jyk7XG4gKiAgICAgY29uc3QgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAqICAgICAgIHN0b3JlLmRlYm91bmNlZCA9IGRvdWJsZUNvdW50O1xuICogICAgIH0sIDIwMDApO1xuICogICAgIHJldHVybiAoKSA9PiB7XG4gKiAgICAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuICogICAgIH07XG4gKiAgIH0pO1xuICogICByZXR1cm4gKFxuICogICAgIDxIb3N0PlxuICogICAgICAgPGRpdj5cbiAqICAgICAgICAge3N0b3JlLmNvdW50fSAvIHtzdG9yZS5kb3VibGVDb3VudH1cbiAqICAgICAgIDwvZGl2PlxuICogICAgICAgPGRpdj57c3RvcmUuZGVib3VuY2VkfTwvZGl2PlxuICogICAgIDwvSG9zdD5cbiAqICAgKTtcbiAqIH0pO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHdhdGNoIC0gRnVuY3Rpb24gd2hpY2ggc2hvdWxkIGJlIHJlLWV4ZWN1dGVkIHdoZW4gY2hhbmdlcyB0byB0aGUgaW5wdXRzIGFyZSBkZXRlY3RlZFxuICogQHB1YmxpY1xuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgY29uc3QgdXNlV2F0Y2gkID0gaW1wbGljaXQkRmlyc3RBcmcodXNlV2F0Y2hRcmwpO1xuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4uL3JlYWRtZS5tZCN1c2VDbGllbnRFZmZlY3RcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjdXNlQ2xpZW50RWZmZWN0IGluc3RlYWQpXG4vKipcbiAqIGBgYHRzeFxuICogY29uc3QgVGltZXIgPSBjb21wb25lbnQkKCgpID0+IHtcbiAqICAgY29uc3Qgc3RvcmUgPSB1c2VTdG9yZSh7XG4gKiAgICAgY291bnQ6IDAsXG4gKiAgIH0pO1xuICpcbiAqICAgdXNlQ2xpZW50RWZmZWN0JCgoKSA9PiB7XG4gKiAgICAgLy8gT25seSBydW5zIGluIHRoZSBjbGllbnRcbiAqICAgICBjb25zdCB0aW1lciA9IHNldEludGVydmFsKCgpID0+IHtcbiAqICAgICAgIHN0b3JlLmNvdW50Kys7XG4gKiAgICAgfSwgNTAwKTtcbiAqICAgICByZXR1cm4gKCkgPT4ge1xuICogICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcik7XG4gKiAgICAgfTtcbiAqICAgfSk7XG4gKlxuICogICByZXR1cm4gPEhvc3Q+e3N0b3JlLmNvdW50fTwvSG9zdD47XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBwdWJsaWNcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGZ1bmN0aW9uIHVzZUNsaWVudEVmZmVjdFFybChxcmw6IFFSTDxXYXRjaEZuPiwgb3B0cz86IFVzZUVmZmVjdE9wdGlvbnMpOiB2b2lkIHtcbiAgY29uc3QgW3dhdGNoLCBzZXRXYXRjaF0gPSB1c2VTZXF1ZW50aWFsU2NvcGUoKTtcbiAgaWYgKCF3YXRjaCkge1xuICAgIGNvbnN0IGVsID0gdXNlSG9zdEVsZW1lbnQoKTtcbiAgICBjb25zdCB3YXRjaDogV2F0Y2hEZXNjcmlwdG9yID0ge1xuICAgICAgcXJsLFxuICAgICAgZWwsXG4gICAgICBmOiAwLFxuICAgIH07XG4gICAgc2V0V2F0Y2god2F0Y2gpO1xuICAgIGdldENvbnRleHQoZWwpLnJlZk1hcC5hZGQod2F0Y2gpO1xuICAgIHVzZVJ1bldhdGNoKHdhdGNoLCBvcHRzPy5ydW4gPz8gJ3Zpc2libGUnKTtcbiAgICBjb25zdCBkb2MgPSB1c2VEb2N1bWVudCgpIGFzIGFueTtcbiAgICBpZiAoZG9jWydxTyddKSB7XG4gICAgICBkb2NbJ3FPJ10ub2JzZXJ2ZShlbCk7XG4gICAgfVxuICB9XG59XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kI3VzZUNsaWVudEVmZmVjdFwiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IC4uL3JlYWRtZS5tZCN1c2VDbGllbnRFZmZlY3QgaW5zdGVhZClcbi8qKlxuICogYGBgdHN4XG4gKiBjb25zdCBUaW1lciA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICogICBjb25zdCBzdG9yZSA9IHVzZVN0b3JlKHtcbiAqICAgICBjb3VudDogMCxcbiAqICAgfSk7XG4gKlxuICogICB1c2VDbGllbnRFZmZlY3QkKCgpID0+IHtcbiAqICAgICAvLyBPbmx5IHJ1bnMgaW4gdGhlIGNsaWVudFxuICogICAgIGNvbnN0IHRpbWVyID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICogICAgICAgc3RvcmUuY291bnQrKztcbiAqICAgICB9LCA1MDApO1xuICogICAgIHJldHVybiAoKSA9PiB7XG4gKiAgICAgICBjbGVhckludGVydmFsKHRpbWVyKTtcbiAqICAgICB9O1xuICogICB9KTtcbiAqXG4gKiAgIHJldHVybiA8SG9zdD57c3RvcmUuY291bnR9PC9Ib3N0PjtcbiAqIH0pO1xuICogYGBgXG4gKlxuICogQHB1YmxpY1xuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgY29uc3QgdXNlQ2xpZW50RWZmZWN0JCA9IGltcGxpY2l0JEZpcnN0QXJnKHVzZUNsaWVudEVmZmVjdFFybCk7XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kI3VzZVNlcnZlck1vdW50XCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi4vcmVhZG1lLm1kI3VzZVNlcnZlck1vdW50IGluc3RlYWQpXG4vKipcbiAqIFJlZ2lzdGVyJ3MgYSBzZXJ2ZXIgbW91bnQgaG9vaywgdGhhdCBydW5zIG9ubHkgaW4gc2VydmVyIHdoZW4gdGhlIGNvbXBvbmVudCBpcyBmaXJzdCBtb3VudGVkLlxuICogYHVzZVdhdGNoYCB3aWxsIHJ1biBvbmNlIGluIHRoZSBzZXJ2ZXIsIGFuZCBOLXRpbWVzIGluIHRoZSBjbGllbnQsIG9ubHkgd2hlbiB0aGUgKip0cmFja2VkKipcbiAqIHN0YXRlIGNoYW5nZXMuXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIGBgYHRzeFxuICogY29uc3QgQ21wID0gY29tcG9uZW50JCgoKSA9PiB7XG4gKiAgIGNvbnN0IHN0b3JlID0gdXNlU3RvcmUoe1xuICogICAgIHVzZXJzOiBbXSxcbiAqICAgfSk7XG4gKlxuICogICAvLyBEb3VibGUgY291bnQgd2F0Y2hcbiAqICAgdXNlU2VydmVyTW91bnQkKGFzeW5jICgpID0+IHtcbiAqICAgICAvLyBUaGlzIGNvZGUgd2lsbCBPTkxZIHJ1biBvbmNlIGluIHRoZSBzZXJ2ZXIsIHdoZW4gdGhlIGNvbXBvbmVudCBpcyBtb3VudGVkXG4gKiAgICAgc3RvcmUudXNlcnMgPSBhd2FpdCBkYi5yZXF1ZXN0VXNlcnMoKTtcbiAqICAgfSk7XG4gKlxuICogICByZXR1cm4gKFxuICogICAgIDxIb3N0PlxuICogICAgICAge3N0b3JlLnVzZXJzLm1hcCgodXNlcikgPT4gKFxuICogICAgICAgICA8VXNlciB1c2VyPXt1c2VyfSAvPlxuICogICAgICAgKSl9XG4gKiAgICAgPC9Ib3N0PlxuICogICApO1xuICogfSk7XG4gKlxuICogaW50ZXJmYWNlIFVzZXIge1xuICogICBuYW1lOiBzdHJpbmc7XG4gKiB9XG4gKiBmdW5jdGlvbiBVc2VyKHByb3BzOiB7IHVzZXI6IFVzZXIgfSkge1xuICogICByZXR1cm4gPGRpdj5OYW1lOiB7cHJvcHMudXNlci5uYW1lfTwvZGl2PjtcbiAqIH1cbiAqIGNvbnN0IENtcCA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICogICBjb25zdCBzdG9yZSA9IHVzZVN0b3JlKHtcbiAqICAgICB1c2VyczogW10sXG4gKiAgIH0pO1xuICpcbiAqICAgLy8gRG91YmxlIGNvdW50IHdhdGNoXG4gKiAgIHVzZVNlcnZlck1vdW50JChhc3luYyAoKSA9PiB7XG4gKiAgICAgLy8gVGhpcyBjb2RlIHdpbGwgT05MWSBydW4gb25jZSBpbiB0aGUgc2VydmVyLCB3aGVuIHRoZSBjb21wb25lbnQgaXMgbW91bnRlZFxuICogICAgIHN0b3JlLnVzZXJzID0gYXdhaXQgZGIucmVxdWVzdFVzZXJzKCk7XG4gKiAgIH0pO1xuICpcbiAqICAgcmV0dXJuIChcbiAqICAgICA8SG9zdD5cbiAqICAgICAgIHtzdG9yZS51c2Vycy5tYXAoKHVzZXIpID0+IChcbiAqICAgICAgICAgPFVzZXIgdXNlcj17dXNlcn0gLz5cbiAqICAgICAgICkpfVxuICogICAgIDwvSG9zdD5cbiAqICAgKTtcbiAqIH0pO1xuICpcbiAqIGludGVyZmFjZSBVc2VyIHtcbiAqICAgbmFtZTogc3RyaW5nO1xuICogfVxuICogZnVuY3Rpb24gVXNlcihwcm9wczogeyB1c2VyOiBVc2VyIH0pIHtcbiAqICAgcmV0dXJuIDxkaXY+TmFtZToge3Byb3BzLnVzZXIubmFtZX08L2Rpdj47XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBAcHVibGljXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBmdW5jdGlvbiB1c2VTZXJ2ZXJNb3VudFFybCh3YXRjaFFybDogUVJMPFNlcnZlckZuPik6IHZvaWQge1xuICBjb25zdCBbd2F0Y2gsIHNldFdhdGNoXSA9IHVzZVNlcXVlbnRpYWxTY29wZSgpO1xuICBpZiAoIXdhdGNoKSB7XG4gICAgc2V0V2F0Y2godHJ1ZSk7XG4gICAgY29uc3QgaXNTZXJ2ZXIgPSBnZXRQbGF0Zm9ybSh1c2VEb2N1bWVudCgpKS5pc1NlcnZlcjtcbiAgICBpZiAoaXNTZXJ2ZXIpIHtcbiAgICAgIHVzZVdhaXRPbih3YXRjaFFybC5pbnZva2UoKSk7XG4gICAgfVxuICB9XG59XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kI3VzZVNlcnZlck1vdW50XCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi4vcmVhZG1lLm1kI3VzZVNlcnZlck1vdW50IGluc3RlYWQpXG4vKipcbiAqIFJlZ2lzdGVyJ3MgYSBzZXJ2ZXIgbW91bnQgaG9vaywgdGhhdCBydW5zIG9ubHkgaW4gc2VydmVyIHdoZW4gdGhlIGNvbXBvbmVudCBpcyBmaXJzdCBtb3VudGVkLlxuICogYHVzZVdhdGNoYCB3aWxsIHJ1biBvbmNlIGluIHRoZSBzZXJ2ZXIsIGFuZCBOLXRpbWVzIGluIHRoZSBjbGllbnQsIG9ubHkgd2hlbiB0aGUgKip0cmFja2VkKipcbiAqIHN0YXRlIGNoYW5nZXMuXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIGBgYHRzeFxuICogY29uc3QgQ21wID0gY29tcG9uZW50JCgoKSA9PiB7XG4gKiAgIGNvbnN0IHN0b3JlID0gdXNlU3RvcmUoe1xuICogICAgIHVzZXJzOiBbXSxcbiAqICAgfSk7XG4gKlxuICogICAvLyBEb3VibGUgY291bnQgd2F0Y2hcbiAqICAgdXNlU2VydmVyTW91bnQkKGFzeW5jICgpID0+IHtcbiAqICAgICAvLyBUaGlzIGNvZGUgd2lsbCBPTkxZIHJ1biBvbmNlIGluIHRoZSBzZXJ2ZXIsIHdoZW4gdGhlIGNvbXBvbmVudCBpcyBtb3VudGVkXG4gKiAgICAgc3RvcmUudXNlcnMgPSBhd2FpdCBkYi5yZXF1ZXN0VXNlcnMoKTtcbiAqICAgfSk7XG4gKlxuICogICByZXR1cm4gKFxuICogICAgIDxIb3N0PlxuICogICAgICAge3N0b3JlLnVzZXJzLm1hcCgodXNlcikgPT4gKFxuICogICAgICAgICA8VXNlciB1c2VyPXt1c2VyfSAvPlxuICogICAgICAgKSl9XG4gKiAgICAgPC9Ib3N0PlxuICogICApO1xuICogfSk7XG4gKlxuICogaW50ZXJmYWNlIFVzZXIge1xuICogICBuYW1lOiBzdHJpbmc7XG4gKiB9XG4gKiBmdW5jdGlvbiBVc2VyKHByb3BzOiB7IHVzZXI6IFVzZXIgfSkge1xuICogICByZXR1cm4gPGRpdj5OYW1lOiB7cHJvcHMudXNlci5uYW1lfTwvZGl2PjtcbiAqIH1cbiAqIGNvbnN0IENtcCA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICogICBjb25zdCBzdG9yZSA9IHVzZVN0b3JlKHtcbiAqICAgICB1c2VyczogW10sXG4gKiAgIH0pO1xuICpcbiAqICAgLy8gRG91YmxlIGNvdW50IHdhdGNoXG4gKiAgIHVzZVNlcnZlck1vdW50JChhc3luYyAoKSA9PiB7XG4gKiAgICAgLy8gVGhpcyBjb2RlIHdpbGwgT05MWSBydW4gb25jZSBpbiB0aGUgc2VydmVyLCB3aGVuIHRoZSBjb21wb25lbnQgaXMgbW91bnRlZFxuICogICAgIHN0b3JlLnVzZXJzID0gYXdhaXQgZGIucmVxdWVzdFVzZXJzKCk7XG4gKiAgIH0pO1xuICpcbiAqICAgcmV0dXJuIChcbiAqICAgICA8SG9zdD5cbiAqICAgICAgIHtzdG9yZS51c2Vycy5tYXAoKHVzZXIpID0+IChcbiAqICAgICAgICAgPFVzZXIgdXNlcj17dXNlcn0gLz5cbiAqICAgICAgICkpfVxuICogICAgIDwvSG9zdD5cbiAqICAgKTtcbiAqIH0pO1xuICpcbiAqIGludGVyZmFjZSBVc2VyIHtcbiAqICAgbmFtZTogc3RyaW5nO1xuICogfVxuICogZnVuY3Rpb24gVXNlcihwcm9wczogeyB1c2VyOiBVc2VyIH0pIHtcbiAqICAgcmV0dXJuIDxkaXY+TmFtZToge3Byb3BzLnVzZXIubmFtZX08L2Rpdj47XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBAcHVibGljXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBjb25zdCB1c2VTZXJ2ZXJNb3VudCQgPSBpbXBsaWNpdCRGaXJzdEFyZyh1c2VTZXJ2ZXJNb3VudFFybCk7XG5cbmV4cG9ydCBmdW5jdGlvbiBydW5XYXRjaCh3YXRjaDogV2F0Y2hEZXNjcmlwdG9yKTogUHJvbWlzZTxXYXRjaERlc2NyaXB0b3I+IHtcbiAgaWYgKCEod2F0Y2guZiAmIFdhdGNoRmxhZ3MuSXNEaXJ0eSkpIHtcbiAgICBsb2dEZWJ1ZygnV2F0Y2ggaXMgbm90IGRpcnR5LCBza2lwcGluZyBydW4nLCB3YXRjaCk7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh3YXRjaCk7XG4gIH1cbiAgd2F0Y2guZiAmPSB+V2F0Y2hGbGFncy5Jc0RpcnR5O1xuICBjb25zdCBwcm9taXNlID0gbmV3IFByb21pc2U8V2F0Y2hEZXNjcmlwdG9yPigocmVzb2x2ZSkgPT4ge1xuICAgIHRoZW4od2F0Y2gucnVubmluZywgKCkgPT4ge1xuICAgICAgY2xlYW51cFdhdGNoKHdhdGNoKTtcbiAgICAgIGNvbnN0IGVsID0gd2F0Y2guZWw7XG4gICAgICBjb25zdCBpbnZva2F0aW9uQ29udGV4dCA9IG5ld0ludm9rZUNvbnRleHQoZ2V0RG9jdW1lbnQoZWwpLCBlbCwgZWwsICdXYXRjaEV2ZW50Jyk7XG4gICAgICBpbnZva2F0aW9uQ29udGV4dC53YXRjaCA9IHdhdGNoO1xuXG4gICAgICBjb25zdCB3YXRjaEZuID0gd2F0Y2gucXJsLmludm9rZUZuKGVsLCBpbnZva2F0aW9uQ29udGV4dCwgKCkgPT4ge1xuICAgICAgICBjb25zdCBjYXB0dXJlUmVmID0gKHdhdGNoLnFybCBhcyBRUkxJbnRlcm5hbCkuY2FwdHVyZVJlZjtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY2FwdHVyZVJlZikpIHtcbiAgICAgICAgICBjYXB0dXJlUmVmLmZvckVhY2goKG9iaikgPT4ge1xuICAgICAgICAgICAgcmVtb3ZlU3ViKG9iaiwgd2F0Y2gpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGNvbnN0IHRyYWNrZXI6IFRyYWNrZXIgPSAob2JqOiBhbnksIHByb3A/OiBzdHJpbmcpID0+IHtcbiAgICAgICAgb2JqW1NldFN1YnNjcmliZXJdID0gd2F0Y2g7XG4gICAgICAgIGlmIChwcm9wKSB7XG4gICAgICAgICAgcmV0dXJuIG9ialtwcm9wXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gb2JqW1FPamVjdEFsbFN5bWJvbF07XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHJldHVybiB0aGVuKHdhdGNoRm4odHJhY2tlciksIChyZXR1cm5WYWx1ZSkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIHJldHVyblZhbHVlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgd2F0Y2guZGVzdHJveSA9IG5vU2VyaWFsaXplKHJldHVyblZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXNvbHZlKHdhdGNoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcbiAgd2F0Y2gucnVubmluZyA9IG5vU2VyaWFsaXplKHByb21pc2UpO1xuICByZXR1cm4gcHJvbWlzZTtcbn1cblxuZXhwb3J0IGNvbnN0IGNsZWFudXBXYXRjaCA9ICh3YXRjaDogV2F0Y2hEZXNjcmlwdG9yKSA9PiB7XG4gIGNvbnN0IGRlc3Ryb3kgPSB3YXRjaC5kZXN0cm95O1xuICBpZiAoZGVzdHJveSkge1xuICAgIHdhdGNoLmRlc3Ryb3kgPSB1bmRlZmluZWQ7XG4gICAgdHJ5IHtcbiAgICAgIGRlc3Ryb3koKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGxvZ0Vycm9yKGVycik7XG4gICAgfVxuICB9XG59O1xuXG5leHBvcnQgY29uc3QgZGVzdHJveVdhdGNoID0gKHdhdGNoOiBXYXRjaERlc2NyaXB0b3IpID0+IHtcbiAgaWYgKHdhdGNoLmYgJiBXYXRjaEZsYWdzLklzQ2xlYW51cCkge1xuICAgIHdhdGNoLmYgJj0gfldhdGNoRmxhZ3MuSXNDbGVhbnVwO1xuICAgIGNvbnN0IGNsZWFudXAgPSB3YXRjaC5xcmwuaW52b2tlRm4od2F0Y2guZWwpO1xuICAgIChjbGVhbnVwIGFzIGFueSkoKTtcbiAgfSBlbHNlIHtcbiAgICBjbGVhbnVwV2F0Y2god2F0Y2gpO1xuICB9XG59O1xuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4uL3JlYWRtZS5tZCNUcmFja2VyXCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi4vcmVhZG1lLm1kI1RyYWNrZXIgaW5zdGVhZClcbi8qKlxuICogVXNlZCB0byBzaWduYWwgdG8gUXdpayB3aGljaCBzdGF0ZSBzaG91bGQgYmUgd2F0Y2hlZCBmb3IgY2hhbmdlcy5cbiAqXG4gKiBUaGUgYFRyYWNrZXJgIGlzIHBhc3NlZCBpbnRvIHRoZSBgd2F0Y2hGbmAgb2YgYHVzZVdhdGNoYC4gSXQgaXMgaW50ZW5kZWQgdG8gYmUgdXNlZCB0byB3cmFwXG4gKiBzdGF0ZSBvYmplY3RzIGluIGEgcmVhZCBwcm94eSB3aGljaCBzaWduYWxzIHRvIFF3aWsgd2hpY2ggcHJvcGVydGllcyBzaG91bGQgYmUgd2F0Y2hlZCBmb3JcbiAqIGNoYW5nZXMuIEEgY2hhbmdlIHRvIGFueSBvZiB0aGUgcHJvcGVydGllcyBjYXVzZSB0aGUgYHdhdGNoRm5gIHRvIHJlLXJ1bi5cbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogVGhlIGBvYnNgIHBhc3NlZCBpbnRvIHRoZSBgd2F0Y2hGbmAgaXMgdXNlZCB0byBtYXJrIGBzdGF0ZS5jb3VudGAgYXMgYSBwcm9wZXJ0eSBvZiBpbnRlcmVzdC5cbiAqIEFueSBjaGFuZ2VzIHRvIHRoZSBgc3RhdGUuY291bnRgIHByb3BlcnR5IHdpbGwgY2F1c2UgdGhlIGB3YXRjaEZuYCB0byByZS1ydW4uXG4gKlxuICogYGBgdHN4XG4gKiBjb25zdCBDbXAgPSBjb21wb25lbnQkKCgpID0+IHtcbiAqICAgY29uc3Qgc3RvcmUgPSB1c2VTdG9yZSh7IGNvdW50OiAwLCBkb3VibGVDb3VudDogMCB9KTtcbiAqICAgdXNlV2F0Y2gkKCh0cmFjaykgPT4ge1xuICogICAgIGNvbnN0IGNvdW50ID0gdHJhY2soc3RvcmUsICdjb3VudCcpO1xuICogICAgIHN0b3JlLmRvdWJsZUNvdW50ID0gMiAqIGNvdW50O1xuICogICB9KTtcbiAqICAgcmV0dXJuIChcbiAqICAgICA8ZGl2PlxuICogICAgICAgPHNwYW4+XG4gKiAgICAgICAgIHtzdG9yZS5jb3VudH0gLyB7c3RvcmUuZG91YmxlQ291bnR9XG4gKiAgICAgICA8L3NwYW4+XG4gKiAgICAgICA8YnV0dG9uIG9uQ2xpY2skPXsoKSA9PiBzdG9yZS5jb3VudCsrfT4rPC9idXR0b24+XG4gKiAgICAgPC9kaXY+XG4gKiAgICk7XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBzZWUgYHVzZVdhdGNoYFxuICpcbiAqIEBwdWJsaWNcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGludGVyZmFjZSBUcmFja2VyIHtcbiAgPFQgZXh0ZW5kcyB7fT4ob2JqOiBUKTogVDtcbiAgPFQgZXh0ZW5kcyB7fSwgQiBleHRlbmRzIGtleW9mIFQ+KG9iajogVCwgcHJvcDogQik6IFRbQl07XG59XG5cbmNvbnN0IHVzZVJ1bldhdGNoID0gKHdhdGNoOiBXYXRjaERlc2NyaXB0b3IsIHJ1bjogVXNlRWZmZWN0UnVuT3B0aW9ucyB8IHVuZGVmaW5lZCkgPT4ge1xuICBpZiAocnVuID09PSAnbG9hZCcpIHtcbiAgICB1c2VSZXN1bWVRcmwoZ2V0V2F0Y2hIYW5kbGVyUXJsKHdhdGNoKSk7XG4gIH0gZWxzZSBpZiAocnVuID09PSAndmlzaWJsZScpIHtcbiAgICB1c2VWaXNpYmxlUXJsKGdldFdhdGNoSGFuZGxlclFybCh3YXRjaCkpO1xuICB9XG59O1xuXG5jb25zdCBnZXRXYXRjaEhhbmRsZXJRcmwgPSAod2F0Y2g6IFdhdGNoRGVzY3JpcHRvcikgPT4ge1xuICBjb25zdCB3YXRjaFFybCA9IHdhdGNoLnFybCBhcyBRUkxJbnRlcm5hbDtcbiAgY29uc3Qgd2F0Y2hIYW5kbGVyID0gbmV3IFFSTEludGVybmFsKFxuICAgICh3YXRjaFFybCBhcyBRUkxJbnRlcm5hbCkuY2h1bmssXG4gICAgJ2hhbmRsZVdhdGNoJyxcbiAgICBoYW5kbGVXYXRjaCxcbiAgICBudWxsLFxuICAgIG51bGwsXG4gICAgW3dhdGNoXVxuICApO1xuICB3YXRjaEhhbmRsZXIucmVmU3ltYm9sID0gKHdhdGNoUXJsIGFzIFFSTEludGVybmFsKS5zeW1ib2w7XG4gIHJldHVybiB3YXRjaEhhbmRsZXI7XG59O1xuIl19","import { getPlatform } from '../platform/platform';\nimport { assertDefined, assertEqual } from '../assert/assert';\nimport { parseQRL, stringifyQRL } from '../import/qrl';\nimport { isQrl } from '../import/qrl-class';\nimport { getContext } from '../props/props';\nimport { getDocument } from '../util/dom';\nimport { isNode } from '../util/element';\nimport { logDebug, logError, logWarn } from '../util/log';\nimport { ELEMENT_ID, ELEMENT_ID_PREFIX, QContainerAttr, QHostAttr, QObjAttr, QSeqAttr, } from '../util/markers';\nimport { qDev } from '../util/qdev';\nimport { getProxyMap, isConnected, QOjectSubsSymbol, QOjectTargetSymbol, shouldSerialize, _restoreQObject, } from './q-object';\nimport { destroyWatch, isWatchDescriptor, WatchFlags } from '../watch/watch.public';\nexport const UNDEFINED_PREFIX = '\\u0010';\nexport const QRL_PREFIX = '\\u0011';\nexport const DOCUMENT_PREFIX = '\\u0012';\nexport function resumeContainer(containerEl) {\n    if (!isContainer(containerEl)) {\n        logWarn('Skipping hydration because parent element is not q:container');\n        return;\n    }\n    const doc = getDocument(containerEl);\n    const isDocElement = containerEl === doc.documentElement;\n    const parentJSON = isDocElement ? doc.body : containerEl;\n    const script = getQwikJSON(parentJSON);\n    if (!script) {\n        logWarn('Skipping hydration qwik/json metadata was not found.');\n        return;\n    }\n    script.remove();\n    const map = getProxyMap(doc);\n    const meta = JSON.parse(script.textContent || '{}');\n    // Collect all elements\n    const elements = new Map();\n    getNodesInScope(containerEl, hasQId).forEach((el) => {\n        const id = el.getAttribute(ELEMENT_ID);\n        elements.set(ELEMENT_ID_PREFIX + id, el);\n    });\n    const getObject = (id) => {\n        return getObjectImpl(id, elements, meta.objs, map);\n    };\n    // Revive proxies with subscriptions into the proxymap\n    reviveValues(meta.objs, meta.subs, getObject, map, parentJSON);\n    // Rebuild target objects\n    for (const obj of meta.objs) {\n        reviveNestedObjects(obj, getObject);\n    }\n    // Walk all elements with q:obj and resume their state\n    getNodesInScope(containerEl, hasQObj).forEach((el) => {\n        const qobj = el.getAttribute(QObjAttr);\n        const seq = el.getAttribute(QSeqAttr);\n        const host = el.getAttribute(QHostAttr);\n        const ctx = getContext(el);\n        // Restore captured objets\n        qobj.split(' ').forEach((part) => {\n            if (part !== '') {\n                const obj = getObject(part);\n                ctx.refMap.add(obj);\n            }\n            else if (qDev) {\n                logError('QObj contains empty ref');\n            }\n        });\n        // Restore sequence scoping\n        ctx.seq = seq.split(' ').map((part) => strToInt(part));\n        if (host) {\n            const [props, renderQrl] = host.split(' ').map(strToInt);\n            assertDefined(props);\n            assertDefined(renderQrl);\n            ctx.props = ctx.refMap.get(props);\n            ctx.renderQrl = ctx.refMap.get(renderQrl);\n        }\n    });\n    containerEl.setAttribute(QContainerAttr, 'resumed');\n    logDebug('Container resumed');\n}\nexport function snapshotState(containerEl) {\n    const doc = getDocument(containerEl);\n    const proxyMap = getProxyMap(doc);\n    const objSet = new Set();\n    const platform = getPlatform(doc);\n    const elementToIndex = new Map();\n    // Collect all qObjected around the DOM\n    const elements = getNodesInScope(containerEl, hasQObj);\n    elements.forEach((node) => {\n        const ctx = getContext(node);\n        const qMap = ctx.refMap;\n        qMap.array.forEach((v) => {\n            collectValue(v, objSet, doc);\n        });\n    });\n    // Convert objSet to array\n    const objs = Array.from(objSet);\n    objs.sort((a, b) => {\n        const isProxyA = proxyMap.has(a) ? 0 : 1;\n        const isProxyB = proxyMap.has(b) ? 0 : 1;\n        return isProxyA - isProxyB;\n    });\n    const objToId = new Map();\n    let count = 0;\n    for (const obj of objs) {\n        if (isWatchDescriptor(obj)) {\n            destroyWatch(obj);\n            if (qDev) {\n                if (obj.f & WatchFlags.IsDirty) {\n                    logWarn('Serializing dirty watch. Looks like an internal error.');\n                }\n                if (!isConnected(obj)) {\n                    logWarn('Serializing disconneted watch. Looks like an internal error.');\n                }\n            }\n        }\n        objToId.set(obj, count);\n        count++;\n    }\n    function getElementID(el) {\n        let id = elementToIndex.get(el);\n        if (id === undefined) {\n            if (el.isConnected) {\n                id = intToStr(elementToIndex.size);\n                el.setAttribute(ELEMENT_ID, id);\n                id = ELEMENT_ID_PREFIX + id;\n            }\n            else {\n                id = null;\n            }\n            elementToIndex.set(el, id);\n        }\n        return id;\n    }\n    function getObjId(obj) {\n        if (obj !== null && typeof obj === 'object') {\n            const target = obj[QOjectTargetSymbol];\n            const id = objToId.get(normalizeObj(target ?? obj, doc));\n            if (id !== undefined) {\n                const proxySuffix = target ? '!' : '';\n                return intToStr(id) + proxySuffix;\n            }\n            if (!target && isNode(obj)) {\n                if (obj.nodeType === 1) {\n                    return getElementID(obj);\n                }\n                else {\n                    logError('Can not serialize a HTML Node that is not an Element', obj);\n                    return null;\n                }\n            }\n        }\n        else {\n            const id = objToId.get(normalizeObj(obj, doc));\n            if (id !== undefined) {\n                return intToStr(id);\n            }\n        }\n        return null;\n    }\n    const subs = objs\n        .map((obj) => {\n        const subs = proxyMap.get(obj)?.[QOjectSubsSymbol];\n        if (subs) {\n            return Object.fromEntries(Array.from(subs.entries()).map(([sub, set]) => {\n                const id = getObjId(sub);\n                if (id !== null) {\n                    return [id, set ? Array.from(set) : null];\n                }\n                else {\n                    return [undefined, undefined];\n                }\n            }));\n        }\n        else {\n            return null;\n        }\n    })\n        .filter((a) => !!a);\n    const serialize = (value) => {\n        return getObjId(value) ?? value;\n    };\n    const qrlSerializeOptions = {\n        platform,\n        getObjId,\n    };\n    const convertedObjs = objs.map((obj) => {\n        if (Array.isArray(obj)) {\n            return obj.map(serialize);\n        }\n        else if (obj && typeof obj === 'object') {\n            if (isQrl(obj)) {\n                return QRL_PREFIX + stringifyQRL(obj, qrlSerializeOptions);\n            }\n            const output = {};\n            Object.entries(obj).forEach(([key, value]) => {\n                output[key] = serialize(value);\n            });\n            return output;\n        }\n        return obj;\n    });\n    // Write back to the dom\n    elements.forEach((node) => {\n        const ctx = getContext(node);\n        assertDefined(ctx);\n        const props = ctx.props;\n        const renderQrl = ctx.renderQrl;\n        const attribute = ctx.refMap.array\n            .map((obj) => {\n            const id = getObjId(obj);\n            assertDefined(id);\n            return id;\n        })\n            .join(' ');\n        node.setAttribute(QObjAttr, attribute);\n        const seq = ctx.seq.map((index) => intToStr(index)).join(' ');\n        node.setAttribute(QSeqAttr, seq);\n        if (props) {\n            const objs = [props];\n            if (renderQrl) {\n                objs.push(renderQrl);\n            }\n            node.setAttribute(QHostAttr, objs.map((obj) => ctx.refMap.indexOf(obj)).join(' '));\n        }\n    });\n    // Sanity check of serialized element\n    if (qDev) {\n        elementToIndex.forEach((value, el) => {\n            if (getDocument(el) !== doc) {\n                logWarn('element from different document', value, el.tagName);\n            }\n            if (!value) {\n                logWarn('unconnected element', el.tagName, '\\n');\n            }\n        });\n    }\n    return {\n        objs: convertedObjs,\n        subs,\n    };\n}\nexport function getQwikJSON(parentElm) {\n    let child = parentElm.lastElementChild;\n    while (child) {\n        if (child.tagName === 'SCRIPT' && child.getAttribute('type') === 'qwik/json') {\n            return child;\n        }\n        child = child.previousElementSibling;\n    }\n    return undefined;\n}\nexport function getNodesInScope(parent, predicate) {\n    const nodes = [];\n    walkNodes(nodes, parent, predicate);\n    return nodes;\n}\nexport function walkNodes(nodes, parent, predicate) {\n    let child = parent.firstElementChild;\n    while (child) {\n        if (!isContainer(child)) {\n            if (predicate(child)) {\n                nodes.push(child);\n            }\n            walkNodes(nodes, child, predicate);\n        }\n        child = child.nextElementSibling;\n    }\n}\nfunction reviveValues(objs, subs, getObject, map, containerEl) {\n    for (let i = 0; i < objs.length; i++) {\n        const value = objs[i];\n        if (typeof value === 'string') {\n            if (value === UNDEFINED_PREFIX) {\n                objs[i] = undefined;\n            }\n            else if (value === DOCUMENT_PREFIX) {\n                objs[i] = getDocument(containerEl);\n            }\n            else if (value.startsWith(QRL_PREFIX)) {\n                objs[i] = parseQRL(value.slice(1), containerEl);\n            }\n        }\n        else {\n            const sub = subs[i];\n            if (sub) {\n                const converted = new Map();\n                Object.entries(sub).forEach((entry) => {\n                    const el = getObject(entry[0]);\n                    if (!el) {\n                        logWarn('QWIK can not revive subscriptions because of missing element ID', entry, value);\n                        return;\n                    }\n                    const set = entry[1] === null ? null : new Set(entry[1]);\n                    converted.set(el, set);\n                });\n                _restoreQObject(value, map, converted);\n            }\n        }\n    }\n}\nfunction reviveNestedObjects(obj, getObject) {\n    if (obj && typeof obj == 'object') {\n        if (isQrl(obj)) {\n            if (obj.capture && obj.capture.length > 0) {\n                obj.captureRef = obj.capture.map(getObject);\n                obj.capture = null;\n            }\n            return;\n        }\n        else if (Array.isArray(obj)) {\n            for (let i = 0; i < obj.length; i++) {\n                const value = obj[i];\n                if (typeof value == 'string') {\n                    obj[i] = getObject(value);\n                }\n                else {\n                    reviveNestedObjects(value, getObject);\n                }\n            }\n        }\n        else if (Object.getPrototypeOf(obj) === Object.prototype) {\n            for (const key in obj) {\n                if (Object.prototype.hasOwnProperty.call(obj, key)) {\n                    const value = obj[key];\n                    if (typeof value == 'string') {\n                        obj[key] = getObject(value);\n                    }\n                    else {\n                        reviveNestedObjects(value, getObject);\n                    }\n                }\n            }\n        }\n    }\n}\nfunction getObjectImpl(id, elements, objs, map) {\n    if (id.startsWith(ELEMENT_ID_PREFIX)) {\n        assertEqual(elements.has(id), true);\n        return elements.get(id);\n    }\n    const index = strToInt(id);\n    assertEqual(objs.length > index, true);\n    const obj = objs[index];\n    const needsProxy = id.endsWith('!');\n    if (needsProxy) {\n        const finalObj = map.get(obj);\n        assertDefined(finalObj);\n        return finalObj;\n    }\n    return obj;\n}\nfunction normalizeObj(obj, doc) {\n    if (obj === doc) {\n        return DOCUMENT_PREFIX;\n    }\n    if (obj === undefined || !shouldSerialize(obj)) {\n        return UNDEFINED_PREFIX;\n    }\n    if (obj && typeof obj === 'object') {\n        const value = obj[QOjectTargetSymbol] ?? obj;\n        return value;\n    }\n    return obj;\n}\nfunction collectValue(obj, seen, doc) {\n    const handled = collectQObjects(obj, seen, doc);\n    if (!handled) {\n        seen.add(normalizeObj(obj, doc));\n    }\n}\nfunction collectQrl(obj, seen, doc) {\n    seen.add(normalizeObj(obj, doc));\n    if (obj.captureRef) {\n        obj.captureRef.forEach((obj) => collectValue(obj, seen, doc));\n    }\n}\nfunction collectQObjects(obj, seen, doc) {\n    if (obj != null) {\n        if (typeof obj === 'object') {\n            if (!obj[QOjectTargetSymbol] && isNode(obj)) {\n                return obj.nodeType === 1;\n            }\n            if (isQrl(obj)) {\n                collectQrl(obj, seen, doc);\n                return true;\n            }\n            obj = normalizeObj(obj, doc);\n        }\n        if (typeof obj === 'object') {\n            if (seen.has(obj))\n                return true;\n            seen.add(obj);\n            if (Array.isArray(obj)) {\n                for (let i = 0; i < obj.length; i++) {\n                    collectQObjects(obj[i], seen, doc);\n                }\n            }\n            else {\n                for (const key in obj) {\n                    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n                        collectQObjects(obj[key], seen, doc);\n                    }\n                }\n            }\n            return true;\n        }\n        if (typeof obj === 'string') {\n            seen.add(obj);\n            return true;\n        }\n    }\n    return false;\n}\nexport function isProxy(obj) {\n    return obj !== null && typeof obj === 'object' && QOjectTargetSymbol in obj;\n}\nexport function isContainer(el) {\n    return el.hasAttribute(QContainerAttr);\n}\nfunction hasQObj(el) {\n    return el.hasAttribute(QObjAttr);\n}\nfunction hasQId(el) {\n    return el.hasAttribute(ELEMENT_ID);\n}\nexport const intToStr = (nu) => {\n    return nu.toString(36);\n};\nexport const strToInt = (nu) => {\n    return parseInt(nu, 36);\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RvcmUuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvb2JqZWN0L3N0b3JlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUNuRCxPQUFPLEVBQUUsYUFBYSxFQUFFLFdBQVcsRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBQzlELE9BQU8sRUFBRSxRQUFRLEVBQXVCLFlBQVksRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUM1RSxPQUFPLEVBQUUsS0FBSyxFQUFlLE1BQU0scUJBQXFCLENBQUM7QUFDekQsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQzVDLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFDMUMsT0FBTyxFQUFFLE1BQU0sRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQ3pDLE9BQU8sRUFBRSxRQUFRLEVBQUUsUUFBUSxFQUFFLE9BQU8sRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUMxRCxPQUFPLEVBQ0wsVUFBVSxFQUNWLGlCQUFpQixFQUNqQixjQUFjLEVBQ2QsU0FBUyxFQUNULFFBQVEsRUFDUixRQUFRLEdBQ1QsTUFBTSxpQkFBaUIsQ0FBQztBQUN6QixPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sY0FBYyxDQUFDO0FBQ3BDLE9BQU8sRUFDTCxXQUFXLEVBQ1gsV0FBVyxFQUVYLGdCQUFnQixFQUNoQixrQkFBa0IsRUFDbEIsZUFBZSxFQUVmLGVBQWUsR0FDaEIsTUFBTSxZQUFZLENBQUM7QUFDcEIsT0FBTyxFQUFFLFlBQVksRUFBRSxpQkFBaUIsRUFBRSxVQUFVLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQVVwRixNQUFNLENBQUMsTUFBTSxnQkFBZ0IsR0FBRyxRQUFRLENBQUM7QUFDekMsTUFBTSxDQUFDLE1BQU0sVUFBVSxHQUFHLFFBQVEsQ0FBQztBQUNuQyxNQUFNLENBQUMsTUFBTSxlQUFlLEdBQUcsUUFBUSxDQUFDO0FBRXhDLE1BQU0sVUFBVSxlQUFlLENBQUMsV0FBb0I7SUFDbEQsSUFBSSxDQUFDLFdBQVcsQ0FBQyxXQUFXLENBQUMsRUFBRTtRQUM3QixPQUFPLENBQUMsOERBQThELENBQUMsQ0FBQztRQUN4RSxPQUFPO0tBQ1I7SUFDRCxNQUFNLEdBQUcsR0FBRyxXQUFXLENBQUMsV0FBVyxDQUFDLENBQUM7SUFDckMsTUFBTSxZQUFZLEdBQUcsV0FBVyxLQUFLLEdBQUcsQ0FBQyxlQUFlLENBQUM7SUFDekQsTUFBTSxVQUFVLEdBQUcsWUFBWSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxXQUFXLENBQUM7SUFDekQsTUFBTSxNQUFNLEdBQUcsV0FBVyxDQUFDLFVBQVUsQ0FBQyxDQUFDO0lBQ3ZDLElBQUksQ0FBQyxNQUFNLEVBQUU7UUFDWCxPQUFPLENBQUMsc0RBQXNELENBQUMsQ0FBQztRQUNoRSxPQUFPO0tBQ1I7SUFDRCxNQUFNLENBQUMsTUFBTSxFQUFFLENBQUM7SUFFaEIsTUFBTSxHQUFHLEdBQUcsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQzdCLE1BQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLFdBQVcsSUFBSSxJQUFJLENBQVEsQ0FBQztJQUUzRCx1QkFBdUI7SUFDdkIsTUFBTSxRQUFRLEdBQUcsSUFBSSxHQUFHLEVBQW1CLENBQUM7SUFDNUMsZUFBZSxDQUFDLFdBQVcsRUFBRSxNQUFNLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFFLEVBQUUsRUFBRTtRQUNsRCxNQUFNLEVBQUUsR0FBRyxFQUFFLENBQUMsWUFBWSxDQUFDLFVBQVUsQ0FBRSxDQUFDO1FBQ3hDLFFBQVEsQ0FBQyxHQUFHLENBQUMsaUJBQWlCLEdBQUcsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBQzNDLENBQUMsQ0FBQyxDQUFDO0lBRUgsTUFBTSxTQUFTLEdBQWMsQ0FBQyxFQUFFLEVBQUUsRUFBRTtRQUNsQyxPQUFPLGFBQWEsQ0FBQyxFQUFFLEVBQUUsUUFBUSxFQUFFLElBQUksQ0FBQyxJQUFJLEVBQUUsR0FBRyxDQUFDLENBQUM7SUFDckQsQ0FBQyxDQUFDO0lBRUYsc0RBQXNEO0lBQ3RELFlBQVksQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxJQUFJLEVBQUUsU0FBUyxFQUFFLEdBQUcsRUFBRSxVQUFVLENBQUMsQ0FBQztJQUUvRCx5QkFBeUI7SUFDekIsS0FBSyxNQUFNLEdBQUcsSUFBSSxJQUFJLENBQUMsSUFBSSxFQUFFO1FBQzNCLG1CQUFtQixDQUFDLEdBQUcsRUFBRSxTQUFTLENBQUMsQ0FBQztLQUNyQztJQUVELHNEQUFzRDtJQUN0RCxlQUFlLENBQUMsV0FBVyxFQUFFLE9BQU8sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLEVBQUUsRUFBRSxFQUFFO1FBQ25ELE1BQU0sSUFBSSxHQUFHLEVBQUUsQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFFLENBQUM7UUFDeEMsTUFBTSxHQUFHLEdBQUcsRUFBRSxDQUFDLFlBQVksQ0FBQyxRQUFRLENBQUUsQ0FBQztRQUN2QyxNQUFNLElBQUksR0FBRyxFQUFFLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ3hDLE1BQU0sR0FBRyxHQUFHLFVBQVUsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUUzQiwwQkFBMEI7UUFDMUIsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFJLEVBQUUsRUFBRTtZQUMvQixJQUFJLElBQUksS0FBSyxFQUFFLEVBQUU7Z0JBQ2YsTUFBTSxHQUFHLEdBQUcsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUM1QixHQUFHLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQzthQUNyQjtpQkFBTSxJQUFJLElBQUksRUFBRTtnQkFDZixRQUFRLENBQUMseUJBQXlCLENBQUMsQ0FBQzthQUNyQztRQUNILENBQUMsQ0FBQyxDQUFDO1FBRUgsMkJBQTJCO1FBQzNCLEdBQUcsQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBRXZELElBQUksSUFBSSxFQUFFO1lBQ1IsTUFBTSxDQUFDLEtBQUssRUFBRSxTQUFTLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUN6RCxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDckIsYUFBYSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBQ3pCLEdBQUcsQ0FBQyxLQUFLLEdBQUcsR0FBRyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDbEMsR0FBRyxDQUFDLFNBQVMsR0FBRyxHQUFHLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsQ0FBQztTQUMzQztJQUNILENBQUMsQ0FBQyxDQUFDO0lBQ0gsV0FBVyxDQUFDLFlBQVksQ0FBQyxjQUFjLEVBQUUsU0FBUyxDQUFDLENBQUM7SUFDcEQsUUFBUSxDQUFDLG1CQUFtQixDQUFDLENBQUM7QUFDaEMsQ0FBQztBQVVELE1BQU0sVUFBVSxhQUFhLENBQUMsV0FBb0I7SUFDaEQsTUFBTSxHQUFHLEdBQUcsV0FBVyxDQUFDLFdBQVcsQ0FBQyxDQUFDO0lBQ3JDLE1BQU0sUUFBUSxHQUFHLFdBQVcsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUNsQyxNQUFNLE1BQU0sR0FBRyxJQUFJLEdBQUcsRUFBTyxDQUFDO0lBQzlCLE1BQU0sUUFBUSxHQUFHLFdBQVcsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUNsQyxNQUFNLGNBQWMsR0FBRyxJQUFJLEdBQUcsRUFBMEIsQ0FBQztJQUV6RCx1Q0FBdUM7SUFDdkMsTUFBTSxRQUFRLEdBQUcsZUFBZSxDQUFDLFdBQVcsRUFBRSxPQUFPLENBQUMsQ0FBQztJQUN2RCxRQUFRLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxFQUFFLEVBQUU7UUFDeEIsTUFBTSxHQUFHLEdBQUcsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzdCLE1BQU0sSUFBSSxHQUFHLEdBQUcsQ0FBQyxNQUFNLENBQUM7UUFDeEIsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRTtZQUN2QixZQUFZLENBQUMsQ0FBQyxFQUFFLE1BQU0sRUFBRSxHQUFHLENBQUMsQ0FBQztRQUMvQixDQUFDLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQyxDQUFDO0lBRUgsMEJBQTBCO0lBQzFCLE1BQU0sSUFBSSxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7SUFFaEMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRTtRQUNqQixNQUFNLFFBQVEsR0FBRyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN6QyxNQUFNLFFBQVEsR0FBRyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN6QyxPQUFPLFFBQVEsR0FBRyxRQUFRLENBQUM7SUFDN0IsQ0FBQyxDQUFDLENBQUM7SUFFSCxNQUFNLE9BQU8sR0FBRyxJQUFJLEdBQUcsRUFBZSxDQUFDO0lBQ3ZDLElBQUksS0FBSyxHQUFHLENBQUMsQ0FBQztJQUNkLEtBQUssTUFBTSxHQUFHLElBQUksSUFBSSxFQUFFO1FBQ3RCLElBQUksaUJBQWlCLENBQUMsR0FBRyxDQUFDLEVBQUU7WUFDMUIsWUFBWSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ2xCLElBQUksSUFBSSxFQUFFO2dCQUNSLElBQUksR0FBRyxDQUFDLENBQUMsR0FBRyxVQUFVLENBQUMsT0FBTyxFQUFFO29CQUM5QixPQUFPLENBQUMsd0RBQXdELENBQUMsQ0FBQztpQkFDbkU7Z0JBQ0QsSUFBSSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsRUFBRTtvQkFDckIsT0FBTyxDQUFDLDhEQUE4RCxDQUFDLENBQUM7aUJBQ3pFO2FBQ0Y7U0FDRjtRQUNELE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBQ3hCLEtBQUssRUFBRSxDQUFDO0tBQ1Q7SUFFRCxTQUFTLFlBQVksQ0FBQyxFQUFXO1FBQy9CLElBQUksRUFBRSxHQUFHLGNBQWMsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDaEMsSUFBSSxFQUFFLEtBQUssU0FBUyxFQUFFO1lBQ3BCLElBQUksRUFBRSxDQUFDLFdBQVcsRUFBRTtnQkFDbEIsRUFBRSxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQ25DLEVBQUUsQ0FBQyxZQUFZLENBQUMsVUFBVSxFQUFFLEVBQUUsQ0FBQyxDQUFDO2dCQUNoQyxFQUFFLEdBQUcsaUJBQWlCLEdBQUcsRUFBRSxDQUFDO2FBQzdCO2lCQUFNO2dCQUNMLEVBQUUsR0FBRyxJQUFJLENBQUM7YUFDWDtZQUNELGNBQWMsQ0FBQyxHQUFHLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO1NBQzVCO1FBQ0QsT0FBTyxFQUFFLENBQUM7SUFDWixDQUFDO0lBRUQsU0FBUyxRQUFRLENBQUMsR0FBUTtRQUN4QixJQUFJLEdBQUcsS0FBSyxJQUFJLElBQUksT0FBTyxHQUFHLEtBQUssUUFBUSxFQUFFO1lBQzNDLE1BQU0sTUFBTSxHQUFHLEdBQUcsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO1lBQ3ZDLE1BQU0sRUFBRSxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsWUFBWSxDQUFDLE1BQU0sSUFBSSxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQztZQUN6RCxJQUFJLEVBQUUsS0FBSyxTQUFTLEVBQUU7Z0JBQ3BCLE1BQU0sV0FBVyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7Z0JBQ3RDLE9BQU8sUUFBUSxDQUFDLEVBQUUsQ0FBQyxHQUFHLFdBQVcsQ0FBQzthQUNuQztZQUNELElBQUksQ0FBQyxNQUFNLElBQUksTUFBTSxDQUFDLEdBQUcsQ0FBQyxFQUFFO2dCQUMxQixJQUFJLEdBQUcsQ0FBQyxRQUFRLEtBQUssQ0FBQyxFQUFFO29CQUN0QixPQUFPLFlBQVksQ0FBQyxHQUFjLENBQUMsQ0FBQztpQkFDckM7cUJBQU07b0JBQ0wsUUFBUSxDQUFDLHNEQUFzRCxFQUFFLEdBQUcsQ0FBQyxDQUFDO29CQUN0RSxPQUFPLElBQUksQ0FBQztpQkFDYjthQUNGO1NBQ0Y7YUFBTTtZQUNMLE1BQU0sRUFBRSxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsWUFBWSxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDO1lBQy9DLElBQUksRUFBRSxLQUFLLFNBQVMsRUFBRTtnQkFDcEIsT0FBTyxRQUFRLENBQUMsRUFBRSxDQUFDLENBQUM7YUFDckI7U0FDRjtRQUNELE9BQU8sSUFBSSxDQUFDO0lBQ2QsQ0FBQztJQUVELE1BQU0sSUFBSSxHQUFHLElBQUk7U0FDZCxHQUFHLENBQUMsQ0FBQyxHQUFHLEVBQUUsRUFBRTtRQUNYLE1BQU0sSUFBSSxHQUFHLFFBQVEsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxnQkFBZ0IsQ0FBa0IsQ0FBQztRQUNwRSxJQUFJLElBQUksRUFBRTtZQUNSLE9BQU8sTUFBTSxDQUFDLFdBQVcsQ0FDdkIsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsRUFBRSxFQUFFO2dCQUM1QyxNQUFNLEVBQUUsR0FBRyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQ3pCLElBQUksRUFBRSxLQUFLLElBQUksRUFBRTtvQkFDZixPQUFPLENBQUMsRUFBRSxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7aUJBQzNDO3FCQUFNO29CQUNMLE9BQU8sQ0FBQyxTQUFTLEVBQUUsU0FBUyxDQUFDLENBQUM7aUJBQy9CO1lBQ0gsQ0FBQyxDQUFDLENBQ0gsQ0FBQztTQUNIO2FBQU07WUFDTCxPQUFPLElBQUksQ0FBQztTQUNiO0lBQ0gsQ0FBQyxDQUFDO1NBQ0QsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFFdEIsTUFBTSxTQUFTLEdBQUcsQ0FBQyxLQUFVLEVBQUUsRUFBRTtRQUMvQixPQUFPLFFBQVEsQ0FBQyxLQUFLLENBQUMsSUFBSSxLQUFLLENBQUM7SUFDbEMsQ0FBQyxDQUFDO0lBRUYsTUFBTSxtQkFBbUIsR0FBd0I7UUFDL0MsUUFBUTtRQUNSLFFBQVE7S0FDVCxDQUFDO0lBRUYsTUFBTSxhQUFhLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsRUFBRSxFQUFFO1FBQ3JDLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsRUFBRTtZQUN0QixPQUFPLEdBQUcsQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUM7U0FDM0I7YUFBTSxJQUFJLEdBQUcsSUFBSSxPQUFPLEdBQUcsS0FBSyxRQUFRLEVBQUU7WUFDekMsSUFBSSxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUU7Z0JBQ2QsT0FBTyxVQUFVLEdBQUcsWUFBWSxDQUFDLEdBQUcsRUFBRSxtQkFBbUIsQ0FBQyxDQUFDO2FBQzVEO1lBQ0QsTUFBTSxNQUFNLEdBQXdCLEVBQUUsQ0FBQztZQUN2QyxNQUFNLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxFQUFFLEVBQUU7Z0JBQzNDLE1BQU0sQ0FBQyxHQUFHLENBQUMsR0FBRyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDakMsQ0FBQyxDQUFDLENBQUM7WUFDSCxPQUFPLE1BQU0sQ0FBQztTQUNmO1FBQ0QsT0FBTyxHQUFHLENBQUM7SUFDYixDQUFDLENBQUMsQ0FBQztJQUVILHdCQUF3QjtJQUN4QixRQUFRLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxFQUFFLEVBQUU7UUFDeEIsTUFBTSxHQUFHLEdBQUcsVUFBVSxDQUFDLElBQUksQ0FBRSxDQUFDO1FBQzlCLGFBQWEsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNuQixNQUFNLEtBQUssR0FBRyxHQUFHLENBQUMsS0FBSyxDQUFDO1FBQ3hCLE1BQU0sU0FBUyxHQUFHLEdBQUcsQ0FBQyxTQUFTLENBQUM7UUFDaEMsTUFBTSxTQUFTLEdBQUcsR0FBRyxDQUFDLE1BQU0sQ0FBQyxLQUFLO2FBQy9CLEdBQUcsQ0FBQyxDQUFDLEdBQUcsRUFBRSxFQUFFO1lBQ1gsTUFBTSxFQUFFLEdBQUcsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ3pCLGFBQWEsQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUNsQixPQUFPLEVBQUUsQ0FBQztRQUNaLENBQUMsQ0FBQzthQUNELElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNiLElBQUksQ0FBQyxZQUFZLENBQUMsUUFBUSxFQUFFLFNBQVMsQ0FBQyxDQUFDO1FBRXZDLE1BQU0sR0FBRyxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsS0FBSyxFQUFFLEVBQUUsQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDOUQsSUFBSSxDQUFDLFlBQVksQ0FBQyxRQUFRLEVBQUUsR0FBRyxDQUFDLENBQUM7UUFFakMsSUFBSSxLQUFLLEVBQUU7WUFDVCxNQUFNLElBQUksR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ3JCLElBQUksU0FBUyxFQUFFO2dCQUNiLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7YUFDdEI7WUFDRCxJQUFJLENBQUMsWUFBWSxDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxFQUFFLEVBQUUsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1NBQ3BGO0lBQ0gsQ0FBQyxDQUFDLENBQUM7SUFFSCxxQ0FBcUM7SUFDckMsSUFBSSxJQUFJLEVBQUU7UUFDUixjQUFjLENBQUMsT0FBTyxDQUFDLENBQUMsS0FBSyxFQUFFLEVBQUUsRUFBRSxFQUFFO1lBQ25DLElBQUksV0FBVyxDQUFDLEVBQUUsQ0FBQyxLQUFLLEdBQUcsRUFBRTtnQkFDM0IsT0FBTyxDQUFDLGlDQUFpQyxFQUFFLEtBQUssRUFBRSxFQUFFLENBQUMsT0FBTyxDQUFDLENBQUM7YUFDL0Q7WUFDRCxJQUFJLENBQUMsS0FBSyxFQUFFO2dCQUNWLE9BQU8sQ0FBQyxxQkFBcUIsRUFBRSxFQUFFLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxDQUFDO2FBQ2xEO1FBQ0gsQ0FBQyxDQUFDLENBQUM7S0FDSjtJQUNELE9BQU87UUFDTCxJQUFJLEVBQUUsYUFBYTtRQUNuQixJQUFJO0tBQ0wsQ0FBQztBQUNKLENBQUM7QUFFRCxNQUFNLFVBQVUsV0FBVyxDQUFDLFNBQWtCO0lBQzVDLElBQUksS0FBSyxHQUFHLFNBQVMsQ0FBQyxnQkFBZ0IsQ0FBQztJQUN2QyxPQUFPLEtBQUssRUFBRTtRQUNaLElBQUksS0FBSyxDQUFDLE9BQU8sS0FBSyxRQUFRLElBQUksS0FBSyxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsS0FBSyxXQUFXLEVBQUU7WUFDNUUsT0FBTyxLQUEwQixDQUFDO1NBQ25DO1FBQ0QsS0FBSyxHQUFHLEtBQUssQ0FBQyxzQkFBc0IsQ0FBQztLQUN0QztJQUNELE9BQU8sU0FBUyxDQUFDO0FBQ25CLENBQUM7QUFFRCxNQUFNLFVBQVUsZUFBZSxDQUFDLE1BQWUsRUFBRSxTQUFtQztJQUNsRixNQUFNLEtBQUssR0FBYyxFQUFFLENBQUM7SUFDNUIsU0FBUyxDQUFDLEtBQUssRUFBRSxNQUFNLEVBQUUsU0FBUyxDQUFDLENBQUM7SUFDcEMsT0FBTyxLQUFLLENBQUM7QUFDZixDQUFDO0FBRUQsTUFBTSxVQUFVLFNBQVMsQ0FBQyxLQUFnQixFQUFFLE1BQWUsRUFBRSxTQUFtQztJQUM5RixJQUFJLEtBQUssR0FBRyxNQUFNLENBQUMsaUJBQWlCLENBQUM7SUFDckMsT0FBTyxLQUFLLEVBQUU7UUFDWixJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxFQUFFO1lBQ3ZCLElBQUksU0FBUyxDQUFDLEtBQUssQ0FBQyxFQUFFO2dCQUNwQixLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO2FBQ25CO1lBQ0QsU0FBUyxDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUUsU0FBUyxDQUFDLENBQUM7U0FDcEM7UUFDRCxLQUFLLEdBQUcsS0FBSyxDQUFDLGtCQUFrQixDQUFDO0tBQ2xDO0FBQ0gsQ0FBQztBQUVELFNBQVMsWUFBWSxDQUNuQixJQUFXLEVBQ1gsSUFBVyxFQUNYLFNBQW9CLEVBQ3BCLEdBQWtCLEVBQ2xCLFdBQW9CO0lBRXBCLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO1FBQ3BDLE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN0QixJQUFJLE9BQU8sS0FBSyxLQUFLLFFBQVEsRUFBRTtZQUM3QixJQUFJLEtBQUssS0FBSyxnQkFBZ0IsRUFBRTtnQkFDOUIsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLFNBQVMsQ0FBQzthQUNyQjtpQkFBTSxJQUFJLEtBQUssS0FBSyxlQUFlLEVBQUU7Z0JBQ3BDLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxXQUFXLENBQUMsV0FBVyxDQUFDLENBQUM7YUFDcEM7aUJBQU0sSUFBSSxLQUFLLENBQUMsVUFBVSxDQUFDLFVBQVUsQ0FBQyxFQUFFO2dCQUN2QyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsUUFBUSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsV0FBVyxDQUFDLENBQUM7YUFDakQ7U0FDRjthQUFNO1lBQ0wsTUFBTSxHQUFHLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3BCLElBQUksR0FBRyxFQUFFO2dCQUNQLE1BQU0sU0FBUyxHQUFHLElBQUksR0FBRyxFQUFFLENBQUM7Z0JBQzVCLE1BQU0sQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsS0FBSyxFQUFFLEVBQUU7b0JBQ3BDLE1BQU0sRUFBRSxHQUFHLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztvQkFDL0IsSUFBSSxDQUFDLEVBQUUsRUFBRTt3QkFDUCxPQUFPLENBQ0wsaUVBQWlFLEVBQ2pFLEtBQUssRUFDTCxLQUFLLENBQ04sQ0FBQzt3QkFDRixPQUFPO3FCQUNSO29CQUNELE1BQU0sR0FBRyxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsS0FBSyxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUUsSUFBSSxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBUSxDQUFpQixDQUFDO29CQUNqRixTQUFTLENBQUMsR0FBRyxDQUFDLEVBQUUsRUFBRSxHQUFHLENBQUMsQ0FBQztnQkFDekIsQ0FBQyxDQUFDLENBQUM7Z0JBQ0gsZUFBZSxDQUFDLEtBQUssRUFBRSxHQUFHLEVBQUUsU0FBUyxDQUFDLENBQUM7YUFDeEM7U0FDRjtLQUNGO0FBQ0gsQ0FBQztBQUVELFNBQVMsbUJBQW1CLENBQUMsR0FBUSxFQUFFLFNBQW9CO0lBQ3pELElBQUksR0FBRyxJQUFJLE9BQU8sR0FBRyxJQUFJLFFBQVEsRUFBRTtRQUNqQyxJQUFJLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRTtZQUNkLElBQUksR0FBRyxDQUFDLE9BQU8sSUFBSSxHQUFHLENBQUMsT0FBTyxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7Z0JBQ3pDLEdBQUcsQ0FBQyxVQUFVLEdBQUcsR0FBRyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUM7Z0JBQzVDLEdBQUcsQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDO2FBQ3BCO1lBQ0QsT0FBTztTQUNSO2FBQU0sSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxFQUFFO1lBQzdCLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO2dCQUNuQyxNQUFNLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ3JCLElBQUksT0FBTyxLQUFLLElBQUksUUFBUSxFQUFFO29CQUM1QixHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDO2lCQUMzQjtxQkFBTTtvQkFDTCxtQkFBbUIsQ0FBQyxLQUFLLEVBQUUsU0FBUyxDQUFDLENBQUM7aUJBQ3ZDO2FBQ0Y7U0FDRjthQUFNLElBQUksTUFBTSxDQUFDLGNBQWMsQ0FBQyxHQUFHLENBQUMsS0FBSyxNQUFNLENBQUMsU0FBUyxFQUFFO1lBQzFELEtBQUssTUFBTSxHQUFHLElBQUksR0FBRyxFQUFFO2dCQUNyQixJQUFJLE1BQU0sQ0FBQyxTQUFTLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLEVBQUU7b0JBQ2xELE1BQU0sS0FBSyxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztvQkFDdkIsSUFBSSxPQUFPLEtBQUssSUFBSSxRQUFRLEVBQUU7d0JBQzVCLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUM7cUJBQzdCO3lCQUFNO3dCQUNMLG1CQUFtQixDQUFDLEtBQUssRUFBRSxTQUFTLENBQUMsQ0FBQztxQkFDdkM7aUJBQ0Y7YUFDRjtTQUNGO0tBQ0Y7QUFDSCxDQUFDO0FBRUQsU0FBUyxhQUFhLENBQ3BCLEVBQVUsRUFDVixRQUE4QixFQUM5QixJQUFXLEVBQ1gsR0FBa0I7SUFFbEIsSUFBSSxFQUFFLENBQUMsVUFBVSxDQUFDLGlCQUFpQixDQUFDLEVBQUU7UUFDcEMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDcEMsT0FBTyxRQUFRLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0tBQ3pCO0lBQ0QsTUFBTSxLQUFLLEdBQUcsUUFBUSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQzNCLFdBQVcsQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLEtBQUssRUFBRSxJQUFJLENBQUMsQ0FBQztJQUN2QyxNQUFNLEdBQUcsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDeEIsTUFBTSxVQUFVLEdBQUcsRUFBRSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUNwQyxJQUFJLFVBQVUsRUFBRTtRQUNkLE1BQU0sUUFBUSxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDOUIsYUFBYSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ3hCLE9BQU8sUUFBUSxDQUFDO0tBQ2pCO0lBQ0QsT0FBTyxHQUFHLENBQUM7QUFDYixDQUFDO0FBRUQsU0FBUyxZQUFZLENBQUMsR0FBUSxFQUFFLEdBQWE7SUFDM0MsSUFBSSxHQUFHLEtBQUssR0FBRyxFQUFFO1FBQ2YsT0FBTyxlQUFlLENBQUM7S0FDeEI7SUFDRCxJQUFJLEdBQUcsS0FBSyxTQUFTLElBQUksQ0FBQyxlQUFlLENBQUMsR0FBRyxDQUFDLEVBQUU7UUFDOUMsT0FBTyxnQkFBZ0IsQ0FBQztLQUN6QjtJQUNELElBQUksR0FBRyxJQUFJLE9BQU8sR0FBRyxLQUFLLFFBQVEsRUFBRTtRQUNsQyxNQUFNLEtBQUssR0FBRyxHQUFHLENBQUMsa0JBQWtCLENBQUMsSUFBSSxHQUFHLENBQUM7UUFDN0MsT0FBTyxLQUFLLENBQUM7S0FDZDtJQUNELE9BQU8sR0FBRyxDQUFDO0FBQ2IsQ0FBQztBQUVELFNBQVMsWUFBWSxDQUFDLEdBQVEsRUFBRSxJQUFjLEVBQUUsR0FBYTtJQUMzRCxNQUFNLE9BQU8sR0FBRyxlQUFlLENBQUMsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQztJQUNoRCxJQUFJLENBQUMsT0FBTyxFQUFFO1FBQ1osSUFBSSxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUM7S0FDbEM7QUFDSCxDQUFDO0FBRUQsU0FBUyxVQUFVLENBQUMsR0FBZ0IsRUFBRSxJQUFjLEVBQUUsR0FBYTtJQUNqRSxJQUFJLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQztJQUNqQyxJQUFJLEdBQUcsQ0FBQyxVQUFVLEVBQUU7UUFDbEIsR0FBRyxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxHQUFHLEVBQUUsRUFBRSxDQUFDLFlBQVksQ0FBQyxHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUM7S0FDL0Q7QUFDSCxDQUFDO0FBRUQsU0FBUyxlQUFlLENBQUMsR0FBUSxFQUFFLElBQWMsRUFBRSxHQUFhO0lBQzlELElBQUksR0FBRyxJQUFJLElBQUksRUFBRTtRQUNmLElBQUksT0FBTyxHQUFHLEtBQUssUUFBUSxFQUFFO1lBQzNCLElBQUksQ0FBQyxHQUFHLENBQUMsa0JBQWtCLENBQUMsSUFBSSxNQUFNLENBQUMsR0FBRyxDQUFDLEVBQUU7Z0JBQzNDLE9BQU8sR0FBRyxDQUFDLFFBQVEsS0FBSyxDQUFDLENBQUM7YUFDM0I7WUFDRCxJQUFJLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRTtnQkFDZCxVQUFVLENBQUMsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQztnQkFDM0IsT0FBTyxJQUFJLENBQUM7YUFDYjtZQUNELEdBQUcsR0FBRyxZQUFZLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1NBQzlCO1FBQ0QsSUFBSSxPQUFPLEdBQUcsS0FBSyxRQUFRLEVBQUU7WUFDM0IsSUFBSSxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQztnQkFBRSxPQUFPLElBQUksQ0FBQztZQUMvQixJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBRWQsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxFQUFFO2dCQUN0QixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtvQkFDbkMsZUFBZSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLEVBQUUsR0FBRyxDQUFDLENBQUM7aUJBQ3BDO2FBQ0Y7aUJBQU07Z0JBQ0wsS0FBSyxNQUFNLEdBQUcsSUFBSSxHQUFHLEVBQUU7b0JBQ3JCLElBQUksTUFBTSxDQUFDLFNBQVMsQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsRUFBRTt3QkFDbEQsZUFBZSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsRUFBRSxJQUFJLEVBQUUsR0FBRyxDQUFDLENBQUM7cUJBQ3RDO2lCQUNGO2FBQ0Y7WUFDRCxPQUFPLElBQUksQ0FBQztTQUNiO1FBQ0QsSUFBSSxPQUFPLEdBQUcsS0FBSyxRQUFRLEVBQUU7WUFDM0IsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUNkLE9BQU8sSUFBSSxDQUFDO1NBQ2I7S0FDRjtJQUNELE9BQU8sS0FBSyxDQUFDO0FBQ2YsQ0FBQztBQUVELE1BQU0sVUFBVSxPQUFPLENBQUMsR0FBUTtJQUM5QixPQUFPLEdBQUcsS0FBSyxJQUFJLElBQUksT0FBTyxHQUFHLEtBQUssUUFBUSxJQUFJLGtCQUFrQixJQUFJLEdBQUcsQ0FBQztBQUM5RSxDQUFDO0FBRUQsTUFBTSxVQUFVLFdBQVcsQ0FBQyxFQUFXO0lBQ3JDLE9BQU8sRUFBRSxDQUFDLFlBQVksQ0FBQyxjQUFjLENBQUMsQ0FBQztBQUN6QyxDQUFDO0FBRUQsU0FBUyxPQUFPLENBQUMsRUFBVztJQUMxQixPQUFPLEVBQUUsQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDbkMsQ0FBQztBQUVELFNBQVMsTUFBTSxDQUFDLEVBQVc7SUFDekIsT0FBTyxFQUFFLENBQUMsWUFBWSxDQUFDLFVBQVUsQ0FBQyxDQUFDO0FBQ3JDLENBQUM7QUFFRCxNQUFNLENBQUMsTUFBTSxRQUFRLEdBQUcsQ0FBQyxFQUFVLEVBQUUsRUFBRTtJQUNyQyxPQUFPLEVBQUUsQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLENBQUM7QUFDekIsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sUUFBUSxHQUFHLENBQUMsRUFBVSxFQUFFLEVBQUU7SUFDckMsT0FBTyxRQUFRLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0FBQzFCLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldFBsYXRmb3JtIH0gZnJvbSAnLi4vcGxhdGZvcm0vcGxhdGZvcm0nO1xuaW1wb3J0IHsgYXNzZXJ0RGVmaW5lZCwgYXNzZXJ0RXF1YWwgfSBmcm9tICcuLi9hc3NlcnQvYXNzZXJ0JztcbmltcG9ydCB7IHBhcnNlUVJMLCBRUkxTZXJpYWxpemVPcHRpb25zLCBzdHJpbmdpZnlRUkwgfSBmcm9tICcuLi9pbXBvcnQvcXJsJztcbmltcG9ydCB7IGlzUXJsLCBRUkxJbnRlcm5hbCB9IGZyb20gJy4uL2ltcG9ydC9xcmwtY2xhc3MnO1xuaW1wb3J0IHsgZ2V0Q29udGV4dCB9IGZyb20gJy4uL3Byb3BzL3Byb3BzJztcbmltcG9ydCB7IGdldERvY3VtZW50IH0gZnJvbSAnLi4vdXRpbC9kb20nO1xuaW1wb3J0IHsgaXNOb2RlIH0gZnJvbSAnLi4vdXRpbC9lbGVtZW50JztcbmltcG9ydCB7IGxvZ0RlYnVnLCBsb2dFcnJvciwgbG9nV2FybiB9IGZyb20gJy4uL3V0aWwvbG9nJztcbmltcG9ydCB7XG4gIEVMRU1FTlRfSUQsXG4gIEVMRU1FTlRfSURfUFJFRklYLFxuICBRQ29udGFpbmVyQXR0cixcbiAgUUhvc3RBdHRyLFxuICBRT2JqQXR0cixcbiAgUVNlcUF0dHIsXG59IGZyb20gJy4uL3V0aWwvbWFya2Vycyc7XG5pbXBvcnQgeyBxRGV2IH0gZnJvbSAnLi4vdXRpbC9xZGV2JztcbmltcG9ydCB7XG4gIGdldFByb3h5TWFwLFxuICBpc0Nvbm5lY3RlZCxcbiAgT2JqVG9Qcm94eU1hcCxcbiAgUU9qZWN0U3Vic1N5bWJvbCxcbiAgUU9qZWN0VGFyZ2V0U3ltYm9sLFxuICBzaG91bGRTZXJpYWxpemUsXG4gIFN1YnNjcmliZXJNYXAsXG4gIF9yZXN0b3JlUU9iamVjdCxcbn0gZnJvbSAnLi9xLW9iamVjdCc7XG5pbXBvcnQgeyBkZXN0cm95V2F0Y2gsIGlzV2F0Y2hEZXNjcmlwdG9yLCBXYXRjaEZsYWdzIH0gZnJvbSAnLi4vd2F0Y2gvd2F0Y2gucHVibGljJztcblxuZXhwb3J0IGludGVyZmFjZSBTdG9yZSB7XG4gIGRvYzogRG9jdW1lbnQ7XG4gIG9ianM6IFJlY29yZDxzdHJpbmcsIGFueT47XG59XG5cbmV4cG9ydCB0eXBlIEdldE9iamVjdCA9IChpZDogc3RyaW5nKSA9PiBhbnk7XG5leHBvcnQgdHlwZSBHZXRPYmpJRCA9IChvYmo6IGFueSkgPT4gc3RyaW5nIHwgbnVsbDtcblxuZXhwb3J0IGNvbnN0IFVOREVGSU5FRF9QUkVGSVggPSAnXFx1MDAxMCc7XG5leHBvcnQgY29uc3QgUVJMX1BSRUZJWCA9ICdcXHUwMDExJztcbmV4cG9ydCBjb25zdCBET0NVTUVOVF9QUkVGSVggPSAnXFx1MDAxMic7XG5cbmV4cG9ydCBmdW5jdGlvbiByZXN1bWVDb250YWluZXIoY29udGFpbmVyRWw6IEVsZW1lbnQpIHtcbiAgaWYgKCFpc0NvbnRhaW5lcihjb250YWluZXJFbCkpIHtcbiAgICBsb2dXYXJuKCdTa2lwcGluZyBoeWRyYXRpb24gYmVjYXVzZSBwYXJlbnQgZWxlbWVudCBpcyBub3QgcTpjb250YWluZXInKTtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgZG9jID0gZ2V0RG9jdW1lbnQoY29udGFpbmVyRWwpO1xuICBjb25zdCBpc0RvY0VsZW1lbnQgPSBjb250YWluZXJFbCA9PT0gZG9jLmRvY3VtZW50RWxlbWVudDtcbiAgY29uc3QgcGFyZW50SlNPTiA9IGlzRG9jRWxlbWVudCA/IGRvYy5ib2R5IDogY29udGFpbmVyRWw7XG4gIGNvbnN0IHNjcmlwdCA9IGdldFF3aWtKU09OKHBhcmVudEpTT04pO1xuICBpZiAoIXNjcmlwdCkge1xuICAgIGxvZ1dhcm4oJ1NraXBwaW5nIGh5ZHJhdGlvbiBxd2lrL2pzb24gbWV0YWRhdGEgd2FzIG5vdCBmb3VuZC4nKTtcbiAgICByZXR1cm47XG4gIH1cbiAgc2NyaXB0LnJlbW92ZSgpO1xuXG4gIGNvbnN0IG1hcCA9IGdldFByb3h5TWFwKGRvYyk7XG4gIGNvbnN0IG1ldGEgPSBKU09OLnBhcnNlKHNjcmlwdC50ZXh0Q29udGVudCB8fCAne30nKSBhcyBhbnk7XG5cbiAgLy8gQ29sbGVjdCBhbGwgZWxlbWVudHNcbiAgY29uc3QgZWxlbWVudHMgPSBuZXcgTWFwPHN0cmluZywgRWxlbWVudD4oKTtcbiAgZ2V0Tm9kZXNJblNjb3BlKGNvbnRhaW5lckVsLCBoYXNRSWQpLmZvckVhY2goKGVsKSA9PiB7XG4gICAgY29uc3QgaWQgPSBlbC5nZXRBdHRyaWJ1dGUoRUxFTUVOVF9JRCkhO1xuICAgIGVsZW1lbnRzLnNldChFTEVNRU5UX0lEX1BSRUZJWCArIGlkLCBlbCk7XG4gIH0pO1xuXG4gIGNvbnN0IGdldE9iamVjdDogR2V0T2JqZWN0ID0gKGlkKSA9PiB7XG4gICAgcmV0dXJuIGdldE9iamVjdEltcGwoaWQsIGVsZW1lbnRzLCBtZXRhLm9ianMsIG1hcCk7XG4gIH07XG5cbiAgLy8gUmV2aXZlIHByb3hpZXMgd2l0aCBzdWJzY3JpcHRpb25zIGludG8gdGhlIHByb3h5bWFwXG4gIHJldml2ZVZhbHVlcyhtZXRhLm9ianMsIG1ldGEuc3VicywgZ2V0T2JqZWN0LCBtYXAsIHBhcmVudEpTT04pO1xuXG4gIC8vIFJlYnVpbGQgdGFyZ2V0IG9iamVjdHNcbiAgZm9yIChjb25zdCBvYmogb2YgbWV0YS5vYmpzKSB7XG4gICAgcmV2aXZlTmVzdGVkT2JqZWN0cyhvYmosIGdldE9iamVjdCk7XG4gIH1cblxuICAvLyBXYWxrIGFsbCBlbGVtZW50cyB3aXRoIHE6b2JqIGFuZCByZXN1bWUgdGhlaXIgc3RhdGVcbiAgZ2V0Tm9kZXNJblNjb3BlKGNvbnRhaW5lckVsLCBoYXNRT2JqKS5mb3JFYWNoKChlbCkgPT4ge1xuICAgIGNvbnN0IHFvYmogPSBlbC5nZXRBdHRyaWJ1dGUoUU9iakF0dHIpITtcbiAgICBjb25zdCBzZXEgPSBlbC5nZXRBdHRyaWJ1dGUoUVNlcUF0dHIpITtcbiAgICBjb25zdCBob3N0ID0gZWwuZ2V0QXR0cmlidXRlKFFIb3N0QXR0cik7XG4gICAgY29uc3QgY3R4ID0gZ2V0Q29udGV4dChlbCk7XG5cbiAgICAvLyBSZXN0b3JlIGNhcHR1cmVkIG9iamV0c1xuICAgIHFvYmouc3BsaXQoJyAnKS5mb3JFYWNoKChwYXJ0KSA9PiB7XG4gICAgICBpZiAocGFydCAhPT0gJycpIHtcbiAgICAgICAgY29uc3Qgb2JqID0gZ2V0T2JqZWN0KHBhcnQpO1xuICAgICAgICBjdHgucmVmTWFwLmFkZChvYmopO1xuICAgICAgfSBlbHNlIGlmIChxRGV2KSB7XG4gICAgICAgIGxvZ0Vycm9yKCdRT2JqIGNvbnRhaW5zIGVtcHR5IHJlZicpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gUmVzdG9yZSBzZXF1ZW5jZSBzY29waW5nXG4gICAgY3R4LnNlcSA9IHNlcS5zcGxpdCgnICcpLm1hcCgocGFydCkgPT4gc3RyVG9JbnQocGFydCkpO1xuXG4gICAgaWYgKGhvc3QpIHtcbiAgICAgIGNvbnN0IFtwcm9wcywgcmVuZGVyUXJsXSA9IGhvc3Quc3BsaXQoJyAnKS5tYXAoc3RyVG9JbnQpO1xuICAgICAgYXNzZXJ0RGVmaW5lZChwcm9wcyk7XG4gICAgICBhc3NlcnREZWZpbmVkKHJlbmRlclFybCk7XG4gICAgICBjdHgucHJvcHMgPSBjdHgucmVmTWFwLmdldChwcm9wcyk7XG4gICAgICBjdHgucmVuZGVyUXJsID0gY3R4LnJlZk1hcC5nZXQocmVuZGVyUXJsKTtcbiAgICB9XG4gIH0pO1xuICBjb250YWluZXJFbC5zZXRBdHRyaWJ1dGUoUUNvbnRhaW5lckF0dHIsICdyZXN1bWVkJyk7XG4gIGxvZ0RlYnVnKCdDb250YWluZXIgcmVzdW1lZCcpO1xufVxuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTbmFwc2hvdFN0YXRlIHtcbiAgb2JqczogYW55W107XG4gIHN1YnM6IGFueVtdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc25hcHNob3RTdGF0ZShjb250YWluZXJFbDogRWxlbWVudCk6IFNuYXBzaG90U3RhdGUge1xuICBjb25zdCBkb2MgPSBnZXREb2N1bWVudChjb250YWluZXJFbCk7XG4gIGNvbnN0IHByb3h5TWFwID0gZ2V0UHJveHlNYXAoZG9jKTtcbiAgY29uc3Qgb2JqU2V0ID0gbmV3IFNldDxhbnk+KCk7XG4gIGNvbnN0IHBsYXRmb3JtID0gZ2V0UGxhdGZvcm0oZG9jKTtcbiAgY29uc3QgZWxlbWVudFRvSW5kZXggPSBuZXcgTWFwPEVsZW1lbnQsIHN0cmluZyB8IG51bGw+KCk7XG5cbiAgLy8gQ29sbGVjdCBhbGwgcU9iamVjdGVkIGFyb3VuZCB0aGUgRE9NXG4gIGNvbnN0IGVsZW1lbnRzID0gZ2V0Tm9kZXNJblNjb3BlKGNvbnRhaW5lckVsLCBoYXNRT2JqKTtcbiAgZWxlbWVudHMuZm9yRWFjaCgobm9kZSkgPT4ge1xuICAgIGNvbnN0IGN0eCA9IGdldENvbnRleHQobm9kZSk7XG4gICAgY29uc3QgcU1hcCA9IGN0eC5yZWZNYXA7XG4gICAgcU1hcC5hcnJheS5mb3JFYWNoKCh2KSA9PiB7XG4gICAgICBjb2xsZWN0VmFsdWUodiwgb2JqU2V0LCBkb2MpO1xuICAgIH0pO1xuICB9KTtcblxuICAvLyBDb252ZXJ0IG9ialNldCB0byBhcnJheVxuICBjb25zdCBvYmpzID0gQXJyYXkuZnJvbShvYmpTZXQpO1xuXG4gIG9ianMuc29ydCgoYSwgYikgPT4ge1xuICAgIGNvbnN0IGlzUHJveHlBID0gcHJveHlNYXAuaGFzKGEpID8gMCA6IDE7XG4gICAgY29uc3QgaXNQcm94eUIgPSBwcm94eU1hcC5oYXMoYikgPyAwIDogMTtcbiAgICByZXR1cm4gaXNQcm94eUEgLSBpc1Byb3h5QjtcbiAgfSk7XG5cbiAgY29uc3Qgb2JqVG9JZCA9IG5ldyBNYXA8YW55LCBudW1iZXI+KCk7XG4gIGxldCBjb3VudCA9IDA7XG4gIGZvciAoY29uc3Qgb2JqIG9mIG9ianMpIHtcbiAgICBpZiAoaXNXYXRjaERlc2NyaXB0b3Iob2JqKSkge1xuICAgICAgZGVzdHJveVdhdGNoKG9iaik7XG4gICAgICBpZiAocURldikge1xuICAgICAgICBpZiAob2JqLmYgJiBXYXRjaEZsYWdzLklzRGlydHkpIHtcbiAgICAgICAgICBsb2dXYXJuKCdTZXJpYWxpemluZyBkaXJ0eSB3YXRjaC4gTG9va3MgbGlrZSBhbiBpbnRlcm5hbCBlcnJvci4nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzQ29ubmVjdGVkKG9iaikpIHtcbiAgICAgICAgICBsb2dXYXJuKCdTZXJpYWxpemluZyBkaXNjb25uZXRlZCB3YXRjaC4gTG9va3MgbGlrZSBhbiBpbnRlcm5hbCBlcnJvci4nKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBvYmpUb0lkLnNldChvYmosIGNvdW50KTtcbiAgICBjb3VudCsrO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0RWxlbWVudElEKGVsOiBFbGVtZW50KTogc3RyaW5nIHwgbnVsbCB7XG4gICAgbGV0IGlkID0gZWxlbWVudFRvSW5kZXguZ2V0KGVsKTtcbiAgICBpZiAoaWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgaWYgKGVsLmlzQ29ubmVjdGVkKSB7XG4gICAgICAgIGlkID0gaW50VG9TdHIoZWxlbWVudFRvSW5kZXguc2l6ZSk7XG4gICAgICAgIGVsLnNldEF0dHJpYnV0ZShFTEVNRU5UX0lELCBpZCk7XG4gICAgICAgIGlkID0gRUxFTUVOVF9JRF9QUkVGSVggKyBpZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlkID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIGVsZW1lbnRUb0luZGV4LnNldChlbCwgaWQpO1xuICAgIH1cbiAgICByZXR1cm4gaWQ7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRPYmpJZChvYmo6IGFueSk6IHN0cmluZyB8IG51bGwge1xuICAgIGlmIChvYmogIT09IG51bGwgJiYgdHlwZW9mIG9iaiA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IG9ialtRT2plY3RUYXJnZXRTeW1ib2xdO1xuICAgICAgY29uc3QgaWQgPSBvYmpUb0lkLmdldChub3JtYWxpemVPYmoodGFyZ2V0ID8/IG9iaiwgZG9jKSk7XG4gICAgICBpZiAoaWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25zdCBwcm94eVN1ZmZpeCA9IHRhcmdldCA/ICchJyA6ICcnO1xuICAgICAgICByZXR1cm4gaW50VG9TdHIoaWQpICsgcHJveHlTdWZmaXg7XG4gICAgICB9XG4gICAgICBpZiAoIXRhcmdldCAmJiBpc05vZGUob2JqKSkge1xuICAgICAgICBpZiAob2JqLm5vZGVUeXBlID09PSAxKSB7XG4gICAgICAgICAgcmV0dXJuIGdldEVsZW1lbnRJRChvYmogYXMgRWxlbWVudCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbG9nRXJyb3IoJ0NhbiBub3Qgc2VyaWFsaXplIGEgSFRNTCBOb2RlIHRoYXQgaXMgbm90IGFuIEVsZW1lbnQnLCBvYmopO1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGlkID0gb2JqVG9JZC5nZXQobm9ybWFsaXplT2JqKG9iaiwgZG9jKSk7XG4gICAgICBpZiAoaWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gaW50VG9TdHIoaWQpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGNvbnN0IHN1YnMgPSBvYmpzXG4gICAgLm1hcCgob2JqKSA9PiB7XG4gICAgICBjb25zdCBzdWJzID0gcHJveHlNYXAuZ2V0KG9iaik/LltRT2plY3RTdWJzU3ltYm9sXSBhcyBTdWJzY3JpYmVyTWFwO1xuICAgICAgaWYgKHN1YnMpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyhcbiAgICAgICAgICBBcnJheS5mcm9tKHN1YnMuZW50cmllcygpKS5tYXAoKFtzdWIsIHNldF0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGlkID0gZ2V0T2JqSWQoc3ViKTtcbiAgICAgICAgICAgIGlmIChpZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICByZXR1cm4gW2lkLCBzZXQgPyBBcnJheS5mcm9tKHNldCkgOiBudWxsXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJldHVybiBbdW5kZWZpbmVkLCB1bmRlZmluZWRdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9KVxuICAgIC5maWx0ZXIoKGEpID0+ICEhYSk7XG5cbiAgY29uc3Qgc2VyaWFsaXplID0gKHZhbHVlOiBhbnkpID0+IHtcbiAgICByZXR1cm4gZ2V0T2JqSWQodmFsdWUpID8/IHZhbHVlO1xuICB9O1xuXG4gIGNvbnN0IHFybFNlcmlhbGl6ZU9wdGlvbnM6IFFSTFNlcmlhbGl6ZU9wdGlvbnMgPSB7XG4gICAgcGxhdGZvcm0sXG4gICAgZ2V0T2JqSWQsXG4gIH07XG5cbiAgY29uc3QgY29udmVydGVkT2JqcyA9IG9ianMubWFwKChvYmopID0+IHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShvYmopKSB7XG4gICAgICByZXR1cm4gb2JqLm1hcChzZXJpYWxpemUpO1xuICAgIH0gZWxzZSBpZiAob2JqICYmIHR5cGVvZiBvYmogPT09ICdvYmplY3QnKSB7XG4gICAgICBpZiAoaXNRcmwob2JqKSkge1xuICAgICAgICByZXR1cm4gUVJMX1BSRUZJWCArIHN0cmluZ2lmeVFSTChvYmosIHFybFNlcmlhbGl6ZU9wdGlvbnMpO1xuICAgICAgfVxuICAgICAgY29uc3Qgb3V0cHV0OiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge307XG4gICAgICBPYmplY3QuZW50cmllcyhvYmopLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICBvdXRwdXRba2V5XSA9IHNlcmlhbGl6ZSh2YWx1ZSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgfVxuICAgIHJldHVybiBvYmo7XG4gIH0pO1xuXG4gIC8vIFdyaXRlIGJhY2sgdG8gdGhlIGRvbVxuICBlbGVtZW50cy5mb3JFYWNoKChub2RlKSA9PiB7XG4gICAgY29uc3QgY3R4ID0gZ2V0Q29udGV4dChub2RlKSE7XG4gICAgYXNzZXJ0RGVmaW5lZChjdHgpO1xuICAgIGNvbnN0IHByb3BzID0gY3R4LnByb3BzO1xuICAgIGNvbnN0IHJlbmRlclFybCA9IGN0eC5yZW5kZXJRcmw7XG4gICAgY29uc3QgYXR0cmlidXRlID0gY3R4LnJlZk1hcC5hcnJheVxuICAgICAgLm1hcCgob2JqKSA9PiB7XG4gICAgICAgIGNvbnN0IGlkID0gZ2V0T2JqSWQob2JqKTtcbiAgICAgICAgYXNzZXJ0RGVmaW5lZChpZCk7XG4gICAgICAgIHJldHVybiBpZDtcbiAgICAgIH0pXG4gICAgICAuam9pbignICcpO1xuICAgIG5vZGUuc2V0QXR0cmlidXRlKFFPYmpBdHRyLCBhdHRyaWJ1dGUpO1xuXG4gICAgY29uc3Qgc2VxID0gY3R4LnNlcS5tYXAoKGluZGV4KSA9PiBpbnRUb1N0cihpbmRleCkpLmpvaW4oJyAnKTtcbiAgICBub2RlLnNldEF0dHJpYnV0ZShRU2VxQXR0ciwgc2VxKTtcblxuICAgIGlmIChwcm9wcykge1xuICAgICAgY29uc3Qgb2JqcyA9IFtwcm9wc107XG4gICAgICBpZiAocmVuZGVyUXJsKSB7XG4gICAgICAgIG9ianMucHVzaChyZW5kZXJRcmwpO1xuICAgICAgfVxuICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUoUUhvc3RBdHRyLCBvYmpzLm1hcCgob2JqKSA9PiBjdHgucmVmTWFwLmluZGV4T2Yob2JqKSkuam9pbignICcpKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIFNhbml0eSBjaGVjayBvZiBzZXJpYWxpemVkIGVsZW1lbnRcbiAgaWYgKHFEZXYpIHtcbiAgICBlbGVtZW50VG9JbmRleC5mb3JFYWNoKCh2YWx1ZSwgZWwpID0+IHtcbiAgICAgIGlmIChnZXREb2N1bWVudChlbCkgIT09IGRvYykge1xuICAgICAgICBsb2dXYXJuKCdlbGVtZW50IGZyb20gZGlmZmVyZW50IGRvY3VtZW50JywgdmFsdWUsIGVsLnRhZ05hbWUpO1xuICAgICAgfVxuICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICBsb2dXYXJuKCd1bmNvbm5lY3RlZCBlbGVtZW50JywgZWwudGFnTmFtZSwgJ1xcbicpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIHJldHVybiB7XG4gICAgb2JqczogY29udmVydGVkT2JqcyxcbiAgICBzdWJzLFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UXdpa0pTT04ocGFyZW50RWxtOiBFbGVtZW50KTogSFRNTFNjcmlwdEVsZW1lbnQgfCB1bmRlZmluZWQge1xuICBsZXQgY2hpbGQgPSBwYXJlbnRFbG0ubGFzdEVsZW1lbnRDaGlsZDtcbiAgd2hpbGUgKGNoaWxkKSB7XG4gICAgaWYgKGNoaWxkLnRhZ05hbWUgPT09ICdTQ1JJUFQnICYmIGNoaWxkLmdldEF0dHJpYnV0ZSgndHlwZScpID09PSAncXdpay9qc29uJykge1xuICAgICAgcmV0dXJuIGNoaWxkIGFzIEhUTUxTY3JpcHRFbGVtZW50O1xuICAgIH1cbiAgICBjaGlsZCA9IGNoaWxkLnByZXZpb3VzRWxlbWVudFNpYmxpbmc7XG4gIH1cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE5vZGVzSW5TY29wZShwYXJlbnQ6IEVsZW1lbnQsIHByZWRpY2F0ZTogKGVsOiBFbGVtZW50KSA9PiBib29sZWFuKSB7XG4gIGNvbnN0IG5vZGVzOiBFbGVtZW50W10gPSBbXTtcbiAgd2Fsa05vZGVzKG5vZGVzLCBwYXJlbnQsIHByZWRpY2F0ZSk7XG4gIHJldHVybiBub2Rlcztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHdhbGtOb2Rlcyhub2RlczogRWxlbWVudFtdLCBwYXJlbnQ6IEVsZW1lbnQsIHByZWRpY2F0ZTogKGVsOiBFbGVtZW50KSA9PiBib29sZWFuKSB7XG4gIGxldCBjaGlsZCA9IHBhcmVudC5maXJzdEVsZW1lbnRDaGlsZDtcbiAgd2hpbGUgKGNoaWxkKSB7XG4gICAgaWYgKCFpc0NvbnRhaW5lcihjaGlsZCkpIHtcbiAgICAgIGlmIChwcmVkaWNhdGUoY2hpbGQpKSB7XG4gICAgICAgIG5vZGVzLnB1c2goY2hpbGQpO1xuICAgICAgfVxuICAgICAgd2Fsa05vZGVzKG5vZGVzLCBjaGlsZCwgcHJlZGljYXRlKTtcbiAgICB9XG4gICAgY2hpbGQgPSBjaGlsZC5uZXh0RWxlbWVudFNpYmxpbmc7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmV2aXZlVmFsdWVzKFxuICBvYmpzOiBhbnlbXSxcbiAgc3ViczogYW55W10sXG4gIGdldE9iamVjdDogR2V0T2JqZWN0LFxuICBtYXA6IE9ialRvUHJveHlNYXAsXG4gIGNvbnRhaW5lckVsOiBFbGVtZW50XG4pIHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBvYmpzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgdmFsdWUgPSBvYmpzW2ldO1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICBpZiAodmFsdWUgPT09IFVOREVGSU5FRF9QUkVGSVgpIHtcbiAgICAgICAgb2Jqc1tpXSA9IHVuZGVmaW5lZDtcbiAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT09IERPQ1VNRU5UX1BSRUZJWCkge1xuICAgICAgICBvYmpzW2ldID0gZ2V0RG9jdW1lbnQoY29udGFpbmVyRWwpO1xuICAgICAgfSBlbHNlIGlmICh2YWx1ZS5zdGFydHNXaXRoKFFSTF9QUkVGSVgpKSB7XG4gICAgICAgIG9ianNbaV0gPSBwYXJzZVFSTCh2YWx1ZS5zbGljZSgxKSwgY29udGFpbmVyRWwpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBzdWIgPSBzdWJzW2ldO1xuICAgICAgaWYgKHN1Yikge1xuICAgICAgICBjb25zdCBjb252ZXJ0ZWQgPSBuZXcgTWFwKCk7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKHN1YikuZm9yRWFjaCgoZW50cnkpID0+IHtcbiAgICAgICAgICBjb25zdCBlbCA9IGdldE9iamVjdChlbnRyeVswXSk7XG4gICAgICAgICAgaWYgKCFlbCkge1xuICAgICAgICAgICAgbG9nV2FybihcbiAgICAgICAgICAgICAgJ1FXSUsgY2FuIG5vdCByZXZpdmUgc3Vic2NyaXB0aW9ucyBiZWNhdXNlIG9mIG1pc3NpbmcgZWxlbWVudCBJRCcsXG4gICAgICAgICAgICAgIGVudHJ5LFxuICAgICAgICAgICAgICB2YWx1ZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3Qgc2V0ID0gZW50cnlbMV0gPT09IG51bGwgPyBudWxsIDogKG5ldyBTZXQoZW50cnlbMV0gYXMgYW55KSBhcyBTZXQ8c3RyaW5nPik7XG4gICAgICAgICAgY29udmVydGVkLnNldChlbCwgc2V0KTtcbiAgICAgICAgfSk7XG4gICAgICAgIF9yZXN0b3JlUU9iamVjdCh2YWx1ZSwgbWFwLCBjb252ZXJ0ZWQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiByZXZpdmVOZXN0ZWRPYmplY3RzKG9iajogYW55LCBnZXRPYmplY3Q6IEdldE9iamVjdCkge1xuICBpZiAob2JqICYmIHR5cGVvZiBvYmogPT0gJ29iamVjdCcpIHtcbiAgICBpZiAoaXNRcmwob2JqKSkge1xuICAgICAgaWYgKG9iai5jYXB0dXJlICYmIG9iai5jYXB0dXJlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgb2JqLmNhcHR1cmVSZWYgPSBvYmouY2FwdHVyZS5tYXAoZ2V0T2JqZWN0KTtcbiAgICAgICAgb2JqLmNhcHR1cmUgPSBudWxsO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShvYmopKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9iai5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IG9ialtpXTtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJykge1xuICAgICAgICAgIG9ialtpXSA9IGdldE9iamVjdCh2YWx1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV2aXZlTmVzdGVkT2JqZWN0cyh2YWx1ZSwgZ2V0T2JqZWN0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iaikgPT09IE9iamVjdC5wcm90b3R5cGUpIHtcbiAgICAgIGZvciAoY29uc3Qga2V5IGluIG9iaikge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkge1xuICAgICAgICAgIGNvbnN0IHZhbHVlID0gb2JqW2tleV07XG4gICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgb2JqW2tleV0gPSBnZXRPYmplY3QodmFsdWUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXZpdmVOZXN0ZWRPYmplY3RzKHZhbHVlLCBnZXRPYmplY3QpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRPYmplY3RJbXBsKFxuICBpZDogc3RyaW5nLFxuICBlbGVtZW50czogTWFwPHN0cmluZywgRWxlbWVudD4sXG4gIG9ianM6IGFueVtdLFxuICBtYXA6IE9ialRvUHJveHlNYXBcbikge1xuICBpZiAoaWQuc3RhcnRzV2l0aChFTEVNRU5UX0lEX1BSRUZJWCkpIHtcbiAgICBhc3NlcnRFcXVhbChlbGVtZW50cy5oYXMoaWQpLCB0cnVlKTtcbiAgICByZXR1cm4gZWxlbWVudHMuZ2V0KGlkKTtcbiAgfVxuICBjb25zdCBpbmRleCA9IHN0clRvSW50KGlkKTtcbiAgYXNzZXJ0RXF1YWwob2Jqcy5sZW5ndGggPiBpbmRleCwgdHJ1ZSk7XG4gIGNvbnN0IG9iaiA9IG9ianNbaW5kZXhdO1xuICBjb25zdCBuZWVkc1Byb3h5ID0gaWQuZW5kc1dpdGgoJyEnKTtcbiAgaWYgKG5lZWRzUHJveHkpIHtcbiAgICBjb25zdCBmaW5hbE9iaiA9IG1hcC5nZXQob2JqKTtcbiAgICBhc3NlcnREZWZpbmVkKGZpbmFsT2JqKTtcbiAgICByZXR1cm4gZmluYWxPYmo7XG4gIH1cbiAgcmV0dXJuIG9iajtcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplT2JqKG9iajogYW55LCBkb2M6IERvY3VtZW50KSB7XG4gIGlmIChvYmogPT09IGRvYykge1xuICAgIHJldHVybiBET0NVTUVOVF9QUkVGSVg7XG4gIH1cbiAgaWYgKG9iaiA9PT0gdW5kZWZpbmVkIHx8ICFzaG91bGRTZXJpYWxpemUob2JqKSkge1xuICAgIHJldHVybiBVTkRFRklORURfUFJFRklYO1xuICB9XG4gIGlmIChvYmogJiYgdHlwZW9mIG9iaiA9PT0gJ29iamVjdCcpIHtcbiAgICBjb25zdCB2YWx1ZSA9IG9ialtRT2plY3RUYXJnZXRTeW1ib2xdID8/IG9iajtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgcmV0dXJuIG9iajtcbn1cblxuZnVuY3Rpb24gY29sbGVjdFZhbHVlKG9iajogYW55LCBzZWVuOiBTZXQ8YW55PiwgZG9jOiBEb2N1bWVudCkge1xuICBjb25zdCBoYW5kbGVkID0gY29sbGVjdFFPYmplY3RzKG9iaiwgc2VlbiwgZG9jKTtcbiAgaWYgKCFoYW5kbGVkKSB7XG4gICAgc2Vlbi5hZGQobm9ybWFsaXplT2JqKG9iaiwgZG9jKSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY29sbGVjdFFybChvYmo6IFFSTEludGVybmFsLCBzZWVuOiBTZXQ8YW55PiwgZG9jOiBEb2N1bWVudCkge1xuICBzZWVuLmFkZChub3JtYWxpemVPYmoob2JqLCBkb2MpKTtcbiAgaWYgKG9iai5jYXB0dXJlUmVmKSB7XG4gICAgb2JqLmNhcHR1cmVSZWYuZm9yRWFjaCgob2JqKSA9PiBjb2xsZWN0VmFsdWUob2JqLCBzZWVuLCBkb2MpKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjb2xsZWN0UU9iamVjdHMob2JqOiBhbnksIHNlZW46IFNldDxhbnk+LCBkb2M6IERvY3VtZW50KSB7XG4gIGlmIChvYmogIT0gbnVsbCkge1xuICAgIGlmICh0eXBlb2Ygb2JqID09PSAnb2JqZWN0Jykge1xuICAgICAgaWYgKCFvYmpbUU9qZWN0VGFyZ2V0U3ltYm9sXSAmJiBpc05vZGUob2JqKSkge1xuICAgICAgICByZXR1cm4gb2JqLm5vZGVUeXBlID09PSAxO1xuICAgICAgfVxuICAgICAgaWYgKGlzUXJsKG9iaikpIHtcbiAgICAgICAgY29sbGVjdFFybChvYmosIHNlZW4sIGRvYyk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgb2JqID0gbm9ybWFsaXplT2JqKG9iaiwgZG9jKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBvYmogPT09ICdvYmplY3QnKSB7XG4gICAgICBpZiAoc2Vlbi5oYXMob2JqKSkgcmV0dXJuIHRydWU7XG4gICAgICBzZWVuLmFkZChvYmopO1xuXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShvYmopKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb2JqLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgY29sbGVjdFFPYmplY3RzKG9ialtpXSwgc2VlbiwgZG9jKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gb2JqKSB7XG4gICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHtcbiAgICAgICAgICAgIGNvbGxlY3RRT2JqZWN0cyhvYmpba2V5XSwgc2VlbiwgZG9jKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIG9iaiA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHNlZW4uYWRkKG9iaik7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNQcm94eShvYmo6IGFueSk6IGJvb2xlYW4ge1xuICByZXR1cm4gb2JqICE9PSBudWxsICYmIHR5cGVvZiBvYmogPT09ICdvYmplY3QnICYmIFFPamVjdFRhcmdldFN5bWJvbCBpbiBvYmo7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0NvbnRhaW5lcihlbDogRWxlbWVudCkge1xuICByZXR1cm4gZWwuaGFzQXR0cmlidXRlKFFDb250YWluZXJBdHRyKTtcbn1cblxuZnVuY3Rpb24gaGFzUU9iaihlbDogRWxlbWVudCkge1xuICByZXR1cm4gZWwuaGFzQXR0cmlidXRlKFFPYmpBdHRyKTtcbn1cblxuZnVuY3Rpb24gaGFzUUlkKGVsOiBFbGVtZW50KSB7XG4gIHJldHVybiBlbC5oYXNBdHRyaWJ1dGUoRUxFTUVOVF9JRCk7XG59XG5cbmV4cG9ydCBjb25zdCBpbnRUb1N0ciA9IChudTogbnVtYmVyKSA9PiB7XG4gIHJldHVybiBudS50b1N0cmluZygzNik7XG59O1xuXG5leHBvcnQgY29uc3Qgc3RyVG9JbnQgPSAobnU6IHN0cmluZykgPT4ge1xuICByZXR1cm4gcGFyc2VJbnQobnUsIDM2KTtcbn07XG4iXX0=","import { QObjAttr } from '../util/markers';\nexport function newQObjectMap(element) {\n    const array = [];\n    let added = element.hasAttribute(QObjAttr);\n    return {\n        array,\n        get(index) {\n            return array[index];\n        },\n        indexOf(obj) {\n            const index = array.indexOf(obj);\n            return index === -1 ? undefined : index;\n        },\n        add(object) {\n            const index = array.indexOf(object);\n            if (index === -1) {\n                array.push(object);\n                if (!added) {\n                    element.setAttribute(QObjAttr, '');\n                    added = true;\n                }\n                return array.length - 1;\n            }\n            return index;\n        },\n    };\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvcHMtb2JqLW1hcC5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9wcm9wcy9wcm9wcy1vYmotbWFwLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQVMzQyxNQUFNLFVBQVUsYUFBYSxDQUFDLE9BQWdCO0lBQzVDLE1BQU0sS0FBSyxHQUFtQixFQUFFLENBQUM7SUFDakMsSUFBSSxLQUFLLEdBQUcsT0FBTyxDQUFDLFlBQVksQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUUzQyxPQUFPO1FBQ0wsS0FBSztRQUNMLEdBQUcsQ0FBQyxLQUFhO1lBQ2YsT0FBTyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDdEIsQ0FBQztRQUNELE9BQU8sQ0FBQyxHQUFXO1lBQ2pCLE1BQU0sS0FBSyxHQUFHLEtBQUssQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDakMsT0FBTyxLQUFLLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDO1FBQzFDLENBQUM7UUFDRCxHQUFHLENBQUMsTUFBb0I7WUFDdEIsTUFBTSxLQUFLLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUNwQyxJQUFJLEtBQUssS0FBSyxDQUFDLENBQUMsRUFBRTtnQkFDaEIsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztnQkFDbkIsSUFBSSxDQUFDLEtBQUssRUFBRTtvQkFDVixPQUFPLENBQUMsWUFBWSxDQUFDLFFBQVEsRUFBRSxFQUFFLENBQUMsQ0FBQztvQkFDbkMsS0FBSyxHQUFHLElBQUksQ0FBQztpQkFDZDtnQkFDRCxPQUFPLEtBQUssQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO2FBQ3pCO1lBQ0QsT0FBTyxLQUFLLENBQUM7UUFDZixDQUFDO0tBQ1ksQ0FBQztBQUNsQixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBRT2JqZWN0IH0gZnJvbSAnLi4vb2JqZWN0L3Etb2JqZWN0JztcbmltcG9ydCB7IFFPYmpBdHRyIH0gZnJvbSAnLi4vdXRpbC9tYXJrZXJzJztcblxuZXhwb3J0IGludGVyZmFjZSBRT2JqZWN0TWFwIHtcbiAgYWRkKHFPYmplY3Q6IFFPYmplY3Q8YW55Pik6IG51bWJlcjtcbiAgZ2V0KGluZGV4OiBudW1iZXIpOiBRT2JqZWN0PGFueT4gfCB1bmRlZmluZWQ7XG4gIGluZGV4T2Yob2JqZWN0OiBRT2JqZWN0PGFueT4pOiBudW1iZXIgfCB1bmRlZmluZWQ7XG4gIGFycmF5OiBRT2JqZWN0PGFueT5bXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG5ld1FPYmplY3RNYXAoZWxlbWVudDogRWxlbWVudCk6IFFPYmplY3RNYXAge1xuICBjb25zdCBhcnJheTogUU9iamVjdDxhbnk+W10gPSBbXTtcbiAgbGV0IGFkZGVkID0gZWxlbWVudC5oYXNBdHRyaWJ1dGUoUU9iakF0dHIpO1xuXG4gIHJldHVybiB7XG4gICAgYXJyYXksXG4gICAgZ2V0KGluZGV4OiBudW1iZXIpOiBRT2JqZWN0PGFueT4gfCB1bmRlZmluZWQge1xuICAgICAgcmV0dXJuIGFycmF5W2luZGV4XTtcbiAgICB9LFxuICAgIGluZGV4T2Yob2JqOiBzdHJpbmcpOiBudW1iZXIgfCB1bmRlZmluZWQge1xuICAgICAgY29uc3QgaW5kZXggPSBhcnJheS5pbmRleE9mKG9iaik7XG4gICAgICByZXR1cm4gaW5kZXggPT09IC0xID8gdW5kZWZpbmVkIDogaW5kZXg7XG4gICAgfSxcbiAgICBhZGQob2JqZWN0OiBRT2JqZWN0PGFueT4pIHtcbiAgICAgIGNvbnN0IGluZGV4ID0gYXJyYXkuaW5kZXhPZihvYmplY3QpO1xuICAgICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgICBhcnJheS5wdXNoKG9iamVjdCk7XG4gICAgICAgIGlmICghYWRkZWQpIHtcbiAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShRT2JqQXR0ciwgJycpO1xuICAgICAgICAgIGFkZGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXJyYXkubGVuZ3RoIC0gMTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpbmRleDtcbiAgICB9LFxuICB9IGFzIFFPYmplY3RNYXA7XG59XG4iXX0=","export function fromCamelToKebabCase(text) {\n    return text.replace(/([A-Z])/g, '-$1').toLowerCase();\n}\nexport function fromKebabToCamelCase(text) {\n    return text.replace(/-./g, (x) => x[1].toUpperCase());\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2FzZS5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS91dGlsL2Nhc2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTSxVQUFVLG9CQUFvQixDQUFDLElBQVk7SUFDL0MsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLFVBQVUsRUFBRSxLQUFLLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztBQUN2RCxDQUFDO0FBRUQsTUFBTSxVQUFVLG9CQUFvQixDQUFDLElBQVk7SUFDL0MsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDLENBQUM7QUFDeEQsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBmcm9tQ2FtZWxUb0tlYmFiQ2FzZSh0ZXh0OiBzdHJpbmcpOiBzdHJpbmcge1xuICByZXR1cm4gdGV4dC5yZXBsYWNlKC8oW0EtWl0pL2csICctJDEnKS50b0xvd2VyQ2FzZSgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZnJvbUtlYmFiVG9DYW1lbENhc2UodGV4dDogc3RyaW5nKTogc3RyaW5nIHtcbiAgcmV0dXJuIHRleHQucmVwbGFjZSgvLS4vZywgKHgpID0+IHhbMV0udG9VcHBlckNhc2UoKSk7XG59XG4iXX0=","export function stringify(value) {\n    return value == null ? null : String(value);\n}\nexport function debugStringify(value) {\n    if (value != null && typeof value == 'object') {\n        return String(value.constructor.name) + '\\n' + safeJSONStringify(value);\n    }\n    return String(value);\n}\nfunction safeJSONStringify(value) {\n    try {\n        return JSON.stringify(value, null, '  ');\n    }\n    catch (e) {\n        return String(e);\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RyaW5naWZ5LmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3V0aWwvc3RyaW5naWZ5LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE1BQU0sVUFBVSxTQUFTLENBQUMsS0FBVTtJQUNsQyxPQUFPLEtBQUssSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQzlDLENBQUM7QUFFRCxNQUFNLFVBQVUsY0FBYyxDQUFDLEtBQVU7SUFDdkMsSUFBSSxLQUFLLElBQUksSUFBSSxJQUFJLE9BQU8sS0FBSyxJQUFJLFFBQVEsRUFBRTtRQUM3QyxPQUFPLE1BQU0sQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksR0FBRyxpQkFBaUIsQ0FBQyxLQUFLLENBQUMsQ0FBQztLQUN6RTtJQUNELE9BQU8sTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQ3ZCLENBQUM7QUFFRCxTQUFTLGlCQUFpQixDQUFDLEtBQVU7SUFDbkMsSUFBSTtRQUNGLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO0tBQzFDO0lBQUMsT0FBTyxDQUFDLEVBQUU7UUFDVixPQUFPLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztLQUNsQjtBQUNILENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gc3RyaW5naWZ5KHZhbHVlOiBhbnkpOiBzdHJpbmcgfCBudWxsIHtcbiAgcmV0dXJuIHZhbHVlID09IG51bGwgPyBudWxsIDogU3RyaW5nKHZhbHVlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlYnVnU3RyaW5naWZ5KHZhbHVlOiBhbnkpOiBzdHJpbmcge1xuICBpZiAodmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gU3RyaW5nKHZhbHVlLmNvbnN0cnVjdG9yLm5hbWUpICsgJ1xcbicgKyBzYWZlSlNPTlN0cmluZ2lmeSh2YWx1ZSk7XG4gIH1cbiAgcmV0dXJuIFN0cmluZyh2YWx1ZSk7XG59XG5cbmZ1bmN0aW9uIHNhZmVKU09OU3RyaW5naWZ5KHZhbHVlOiBhbnkpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkodmFsdWUsIG51bGwsICcgICcpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIFN0cmluZyhlKTtcbiAgfVxufVxuIl19","import { getPlatform } from '../platform/platform';\nimport { parseQRL, stringifyQRL } from '../import/qrl';\nimport { isSameQRL } from '../import/qrl-class';\nimport { qDeflate } from '../json/q-json';\nimport { fromCamelToKebabCase } from '../util/case';\nimport { EMPTY_ARRAY } from '../util/flyweight';\nimport { isPromise } from '../util/promises';\nimport { debugStringify } from '../util/stringify';\nimport { getDocument } from '../util/dom';\nimport { setAttribute } from '../render/cursor';\nconst ON_PROP_REGEX = /^(window:|document:|)on([A-Z]|-.).*Qrl$/;\nconst ON$_PROP_REGEX = /^(window:|document:|)on([A-Z]|-.).*\\$$/;\nexport function isOnProp(prop) {\n    return ON_PROP_REGEX.test(prop);\n}\nexport function isOn$Prop(prop) {\n    return ON$_PROP_REGEX.test(prop);\n}\nexport function qPropWriteQRL(rctx, ctx, prop, value) {\n    if (!value) {\n        return;\n    }\n    const existingQRLs = getExistingQRLs(ctx, prop);\n    const newQRLs = Array.isArray(value) ? value : [value];\n    for (const value of newQRLs) {\n        const cp = value.copy();\n        cp.setContainer(ctx.element);\n        const capture = cp.capture;\n        if (capture == null) {\n            // we need to serialize the lexical scope references\n            const captureRef = cp.captureRef;\n            cp.capture =\n                captureRef && captureRef.length ? captureRef.map((ref) => qDeflate(ref, ctx)) : EMPTY_ARRAY;\n        }\n        // Important we modify the array as it is cached.\n        for (let i = 0; i < existingQRLs.length; i++) {\n            const qrl = existingQRLs[i];\n            if (isSameQRL(qrl, cp)) {\n                existingQRLs.splice(i, 1);\n                i--;\n            }\n        }\n        existingQRLs.push(cp);\n    }\n    const kebabProp = fromCamelToKebabCase(prop);\n    const newValue = serializeQRLs(existingQRLs, ctx);\n    if (ctx.element.getAttribute(kebabProp) !== newValue) {\n        if (rctx) {\n            setAttribute(rctx, ctx.element, kebabProp, newValue);\n        }\n        else {\n            ctx.element.setAttribute(kebabProp, newValue);\n        }\n    }\n}\nexport function closureRefError(ref) {\n    return new Error(`QWIK-ERROR: A closure can only lexically capture 'QObject' and 'QProp' const references. Got: ` +\n        debugStringify(ref));\n}\nexport function getExistingQRLs(ctx, prop) {\n    const key = 'event:' + prop;\n    let parts = ctx.cache.get(key);\n    if (!parts) {\n        const attrName = fromCamelToKebabCase(prop);\n        parts = [];\n        (ctx.element.getAttribute(attrName) || '').split('\\n').forEach((qrl) => {\n            if (qrl) {\n                parts.push(parseQRL(qrl, ctx.element));\n            }\n        });\n        ctx.cache.set(key, parts);\n    }\n    return parts;\n}\nfunction serializeQRLs(existingQRLs, ctx) {\n    const platform = getPlatform(getDocument(ctx.element));\n    const element = ctx.element;\n    const opts = {\n        platform,\n        element,\n    };\n    return existingQRLs\n        .map((qrl) => (isPromise(qrl) ? '' : stringifyQRL(qrl, opts)))\n        .filter((v) => !!v)\n        .join('\\n');\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvcHMtb24uanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvcHJvcHMvcHJvcHMtb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBQ25ELE9BQU8sRUFBRSxRQUFRLEVBQUUsWUFBWSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ3ZELE9BQU8sRUFBRSxTQUFTLEVBQWUsTUFBTSxxQkFBcUIsQ0FBQztBQUM3RCxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDMUMsT0FBTyxFQUFFLG9CQUFvQixFQUFFLE1BQU0sY0FBYyxDQUFDO0FBQ3BELE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQztBQUNoRCxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDN0MsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBR25ELE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFDMUMsT0FBTyxFQUFpQixZQUFZLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUcvRCxNQUFNLGFBQWEsR0FBRyx5Q0FBeUMsQ0FBQztBQUNoRSxNQUFNLGNBQWMsR0FBRyx3Q0FBd0MsQ0FBQztBQUVoRSxNQUFNLFVBQVUsUUFBUSxDQUFDLElBQVk7SUFDbkMsT0FBTyxhQUFhLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQ2xDLENBQUM7QUFFRCxNQUFNLFVBQVUsU0FBUyxDQUFDLElBQVk7SUFDcEMsT0FBTyxjQUFjLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQ25DLENBQUM7QUFFRCxNQUFNLFVBQVUsYUFBYSxDQUMzQixJQUErQixFQUMvQixHQUFhLEVBQ2IsSUFBWSxFQUNaLEtBQTRCO0lBRTVCLElBQUksQ0FBQyxLQUFLLEVBQUU7UUFD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SSxDQUFDLFFBQVEsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7YUFDeEM7UUFDSCxDQUFDLENBQUMsQ0FBQztRQUNILEdBQUcsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxLQUFLLENBQUMsQ0FBQztLQUMzQjtJQUNELE9BQU8sS0FBSyxDQUFDO0FBQ2YsQ0FBQztBQUVELFNBQVMsYUFBYSxDQUFDLFlBQTJDLEVBQUUsR0FBYTtJQUMvRSxNQUFNLFFBQVEsR0FBRyxXQUFXLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO0lBQ3ZELE1BQU0sT0FBTyxHQUFHLEdBQUcsQ0FBQyxPQUFPLENBQUM7SUFDNUIsTUFBTSxJQUFJLEdBQUc7UUFDWCxRQUFRO1FBQ1IsT0FBTztLQUNSLENBQUM7SUFDRixPQUFPLFlBQVk7U0FDaEIsR0FBRyxDQUFDLENBQUMsR0FBRyxFQUFFLEVBQUUsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxZQUFZLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUM7U0FDN0QsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ2xCLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUNoQixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0UGxhdGZvcm0gfSBmcm9tICcuLi9wbGF0Zm9ybS9wbGF0Zm9ybSc7XG5pbXBvcnQgeyBwYXJzZVFSTCwgc3RyaW5naWZ5UVJMIH0gZnJvbSAnLi4vaW1wb3J0L3FybCc7XG5pbXBvcnQgeyBpc1NhbWVRUkwsIFFSTEludGVybmFsIH0gZnJvbSAnLi4vaW1wb3J0L3FybC1jbGFzcyc7XG5pbXBvcnQgeyBxRGVmbGF0ZSB9IGZyb20gJy4uL2pzb24vcS1qc29uJztcbmltcG9ydCB7IGZyb21DYW1lbFRvS2ViYWJDYXNlIH0gZnJvbSAnLi4vdXRpbC9jYXNlJztcbmltcG9ydCB7IEVNUFRZX0FSUkFZIH0gZnJvbSAnLi4vdXRpbC9mbHl3ZWlnaHQnO1xuaW1wb3J0IHsgaXNQcm9taXNlIH0gZnJvbSAnLi4vdXRpbC9wcm9taXNlcyc7XG5pbXBvcnQgeyBkZWJ1Z1N0cmluZ2lmeSB9IGZyb20gJy4uL3V0aWwvc3RyaW5naWZ5JztcbmltcG9ydCB0eXBlIHsgVmFsdWVPclByb21pc2UgfSBmcm9tICcuLi91dGlsL3R5cGVzJztcbmltcG9ydCB0eXBlIHsgUUNvbnRleHQgfSBmcm9tICcuL3Byb3BzJztcbmltcG9ydCB7IGdldERvY3VtZW50IH0gZnJvbSAnLi4vdXRpbC9kb20nO1xuaW1wb3J0IHsgUmVuZGVyQ29udGV4dCwgc2V0QXR0cmlidXRlIH0gZnJvbSAnLi4vcmVuZGVyL2N1cnNvcic7XG5pbXBvcnQgdHlwZSB7IFFSTCB9IGZyb20gJy4uL2ltcG9ydC9xcmwucHVibGljJztcblxuY29uc3QgT05fUFJPUF9SRUdFWCA9IC9eKHdpbmRvdzp8ZG9jdW1lbnQ6fClvbihbQS1aXXwtLikuKlFybCQvO1xuY29uc3QgT04kX1BST1BfUkVHRVggPSAvXih3aW5kb3c6fGRvY3VtZW50Onwpb24oW0EtWl18LS4pLipcXCQkLztcblxuZXhwb3J0IGZ1bmN0aW9uIGlzT25Qcm9wKHByb3A6IHN0cmluZyk6IGJvb2xlYW4ge1xuICByZXR1cm4gT05fUFJPUF9SRUdFWC50ZXN0KHByb3ApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNPbiRQcm9wKHByb3A6IHN0cmluZyk6IGJvb2xlYW4ge1xuICByZXR1cm4gT04kX1BST1BfUkVHRVgudGVzdChwcm9wKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHFQcm9wV3JpdGVRUkwoXG4gIHJjdHg6IFJlbmRlckNvbnRleHQgfCB1bmRlZmluZWQsXG4gIGN0eDogUUNvbnRleHQsXG4gIHByb3A6IHN0cmluZyxcbiAgdmFsdWU6IFFSTDxhbnk+W10gfCBRUkw8YW55PlxuKSB7XG4gIGlmICghdmFsdWUpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgZXhpc3RpbmdRUkxzID0gZ2V0RXhpc3RpbmdRUkxzKGN0eCwgcHJvcCk7XG4gIGNvbnN0IG5ld1FSTHMgPSBBcnJheS5pc0FycmF5KHZhbHVlKSA/IHZhbHVlIDogW3ZhbHVlXTtcbiAgZm9yIChjb25zdCB2YWx1ZSBvZiBuZXdRUkxzKSB7XG4gICAgY29uc3QgY3AgPSAodmFsdWUgYXMgUVJMSW50ZXJuYWwpLmNvcHkoKTtcbiAgICBjcC5zZXRDb250YWluZXIoY3R4LmVsZW1lbnQpO1xuICAgIGNvbnN0IGNhcHR1cmUgPSBjcC5jYXB0dXJlO1xuICAgIGlmIChjYXB0dXJlID09IG51bGwpIHtcbiAgICAgIC8vIHdlIG5lZWQgdG8gc2VyaWFsaXplIHRoZSBsZXhpY2FsIHNjb3BlIHJlZmVyZW5jZXNcbiAgICAgIGNvbnN0IGNhcHR1cmVSZWYgPSBjcC5jYXB0dXJlUmVmO1xuICAgICAgY3AuY2FwdHVyZSA9XG4gICAgICAgIGNhcHR1cmVSZWYgJiYgY2FwdHVyZVJlZi5sZW5ndGggPyBjYXB0dXJlUmVmLm1hcCgocmVmKSA9PiBxRGVmbGF0ZShyZWYsIGN0eCkpIDogRU1QVFlfQVJSQVk7XG4gICAgfVxuXG4gICAgLy8gSW1wb3J0YW50IHdlIG1vZGlmeSB0aGUgYXJyYXkgYXMgaXQgaXMgY2FjaGVkLlxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZXhpc3RpbmdRUkxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBxcmwgPSBleGlzdGluZ1FSTHNbaV07XG4gICAgICBpZiAoaXNTYW1lUVJMKHFybCwgY3ApKSB7XG4gICAgICAgIGV4aXN0aW5nUVJMcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgIGktLTtcbiAgICAgIH1cbiAgICB9XG4gICAgZXhpc3RpbmdRUkxzLnB1c2goY3ApO1xuICB9XG4gIGNvbnN0IGtlYmFiUHJvcCA9IGZyb21DYW1lbFRvS2ViYWJDYXNlKHByb3ApO1xuICBjb25zdCBuZXdWYWx1ZSA9IHNlcmlhbGl6ZVFSTHMoZXhpc3RpbmdRUkxzLCBjdHgpO1xuICBpZiAoY3R4LmVsZW1lbnQuZ2V0QXR0cmlidXRlKGtlYmFiUHJvcCkgIT09IG5ld1ZhbHVlKSB7XG4gICAgaWYgKHJjdHgpIHtcbiAgICAgIHNldEF0dHJpYnV0ZShyY3R4LCBjdHguZWxlbWVudCwga2ViYWJQcm9wLCBuZXdWYWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGN0eC5lbGVtZW50LnNldEF0dHJpYnV0ZShrZWJhYlByb3AsIG5ld1ZhbHVlKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNsb3N1cmVSZWZFcnJvcihyZWY6IGFueSkge1xuICByZXR1cm4gbmV3IEVycm9yKFxuICAgIGBRV0lLLUVSUk9SOiBBIGNsb3N1cmUgY2FuIG9ubHkgbGV4aWNhbGx5IGNhcHR1cmUgJ1FPYmplY3QnIGFuZCAnUVByb3AnIGNvbnN0IHJlZmVyZW5jZXMuIEdvdDogYCArXG4gICAgICBkZWJ1Z1N0cmluZ2lmeShyZWYpXG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRFeGlzdGluZ1FSTHMoY3R4OiBRQ29udGV4dCwgcHJvcDogc3RyaW5nKTogUVJMSW50ZXJuYWxbXSB7XG4gIGNvbnN0IGtleSA9ICdldmVudDonICsgcHJvcDtcbiAgbGV0IHBhcnRzID0gY3R4LmNhY2hlLmdldChrZXkpIGFzIFFSTEludGVybmFsW107XG4gIGlmICghcGFydHMpIHtcbiAgICBjb25zdCBhdHRyTmFtZSA9IGZyb21DYW1lbFRvS2ViYWJDYXNlKHByb3ApO1xuICAgIHBhcnRzID0gW107XG4gICAgKGN0eC5lbGVtZW50LmdldEF0dHJpYnV0ZShhdHRyTmFtZSkgfHwgJycpLnNwbGl0KCdcXG4nKS5mb3JFYWNoKChxcmwpID0+IHtcbiAgICAgIGlmIChxcmwpIHtcbiAgICAgICAgcGFydHMucHVzaChwYXJzZVFSTChxcmwsIGN0eC5lbGVtZW50KSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgY3R4LmNhY2hlLnNldChrZXksIHBhcnRzKTtcbiAgfVxuICByZXR1cm4gcGFydHM7XG59XG5cbmZ1bmN0aW9uIHNlcmlhbGl6ZVFSTHMoZXhpc3RpbmdRUkxzOiBWYWx1ZU9yUHJvbWlzZTxRUkxJbnRlcm5hbD5bXSwgY3R4OiBRQ29udGV4dCk6IHN0cmluZyB7XG4gIGNvbnN0IHBsYXRmb3JtID0gZ2V0UGxhdGZvcm0oZ2V0RG9jdW1lbnQoY3R4LmVsZW1lbnQpKTtcbiAgY29uc3QgZWxlbWVudCA9IGN0eC5lbGVtZW50O1xuICBjb25zdCBvcHRzID0ge1xuICAgIHBsYXRmb3JtLFxuICAgIGVsZW1lbnQsXG4gIH07XG4gIHJldHVybiBleGlzdGluZ1FSTHNcbiAgICAubWFwKChxcmwpID0+IChpc1Byb21pc2UocXJsKSA/ICcnIDogc3RyaW5naWZ5UVJMKHFybCwgb3B0cykpKVxuICAgIC5maWx0ZXIoKHYpID0+ICEhdilcbiAgICAuam9pbignXFxuJyk7XG59XG4iXX0=","import { getDocument } from '../util/dom';\nimport { isDocument } from '../util/element';\nimport { QContainerAttr } from '../util/markers';\nimport { qDev } from '../util/qdev';\nimport { snapshotState } from './store';\n// <docs markdown=\"../readme.md#pauseContainer\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#pauseContainer instead)\n/**\n * Serialize the current state of the application into DOM\n *\n * @alpha\n */\n// </docs>\nexport function pauseContainer(elmOrDoc) {\n    const doc = getDocument(elmOrDoc);\n    const containerEl = isDocument(elmOrDoc) ? elmOrDoc.documentElement : elmOrDoc;\n    const parentJSON = isDocument(elmOrDoc) ? elmOrDoc.body : containerEl;\n    const data = snapshotState(containerEl);\n    const script = doc.createElement('script');\n    script.setAttribute('type', 'qwik/json');\n    script.textContent = JSON.stringify(data, undefined, qDev ? '  ' : undefined);\n    parentJSON.appendChild(script);\n    containerEl.setAttribute(QContainerAttr, 'paused');\n    return data;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RvcmUucHVibGljLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL29iamVjdC9zdG9yZS5wdWJsaWMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUMxQyxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDN0MsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQ2pELE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxjQUFjLENBQUM7QUFDcEMsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLFNBQVMsQ0FBQztBQUd4QyxnREFBZ0Q7QUFDaEQseUNBQXlDO0FBQ3pDLDZDQUE2QztBQUM3Qzs7OztHQUlHO0FBQ0gsVUFBVTtBQUNWLE1BQU0sVUFBVSxjQUFjLENBQUMsUUFBNEI7SUFDekQsTUFBTSxHQUFHLEdBQUcsV0FBVyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ2xDLE1BQU0sV0FBVyxHQUFHLFVBQVUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDO0lBQy9FLE1BQU0sVUFBVSxHQUFHLFVBQVUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsV0FBVyxDQUFDO0lBQ3RFLE1BQU0sSUFBSSxHQUFHLGFBQWEsQ0FBQyxXQUFXLENBQUMsQ0FBQztJQUN4QyxNQUFNLE1BQU0sR0FBRyxHQUFHLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQzNDLE1BQU0sQ0FBQyxZQUFZLENBQUMsTUFBTSxFQUFFLFdBQVcsQ0FBQyxDQUFDO0lBQ3pDLE1BQU0sQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLEVBQUUsU0FBUyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUM5RSxVQUFVLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQy9CLFdBQVcsQ0FBQyxZQUFZLENBQUMsY0FBYyxFQUFFLFFBQVEsQ0FBQyxDQUFDO0lBQ25ELE9BQU8sSUFBSSxDQUFDO0FBQ2QsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldERvY3VtZW50IH0gZnJvbSAnLi4vdXRpbC9kb20nO1xuaW1wb3J0IHsgaXNEb2N1bWVudCB9IGZyb20gJy4uL3V0aWwvZWxlbWVudCc7XG5pbXBvcnQgeyBRQ29udGFpbmVyQXR0ciB9IGZyb20gJy4uL3V0aWwvbWFya2Vycyc7XG5pbXBvcnQgeyBxRGV2IH0gZnJvbSAnLi4vdXRpbC9xZGV2JztcbmltcG9ydCB7IHNuYXBzaG90U3RhdGUgfSBmcm9tICcuL3N0b3JlJztcbmltcG9ydCB0eXBlIHsgU25hcHNob3RTdGF0ZSB9IGZyb20gJy4vc3RvcmUnO1xuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4uL3JlYWRtZS5tZCNwYXVzZUNvbnRhaW5lclwiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IC4uL3JlYWRtZS5tZCNwYXVzZUNvbnRhaW5lciBpbnN0ZWFkKVxuLyoqXG4gKiBTZXJpYWxpemUgdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIGFwcGxpY2F0aW9uIGludG8gRE9NXG4gKlxuICogQGFscGhhXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBmdW5jdGlvbiBwYXVzZUNvbnRhaW5lcihlbG1PckRvYzogRWxlbWVudCB8IERvY3VtZW50KSB7XG4gIGNvbnN0IGRvYyA9IGdldERvY3VtZW50KGVsbU9yRG9jKTtcbiAgY29uc3QgY29udGFpbmVyRWwgPSBpc0RvY3VtZW50KGVsbU9yRG9jKSA/IGVsbU9yRG9jLmRvY3VtZW50RWxlbWVudCA6IGVsbU9yRG9jO1xuICBjb25zdCBwYXJlbnRKU09OID0gaXNEb2N1bWVudChlbG1PckRvYykgPyBlbG1PckRvYy5ib2R5IDogY29udGFpbmVyRWw7XG4gIGNvbnN0IGRhdGEgPSBzbmFwc2hvdFN0YXRlKGNvbnRhaW5lckVsKTtcbiAgY29uc3Qgc2NyaXB0ID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICBzY3JpcHQuc2V0QXR0cmlidXRlKCd0eXBlJywgJ3F3aWsvanNvbicpO1xuICBzY3JpcHQudGV4dENvbnRlbnQgPSBKU09OLnN0cmluZ2lmeShkYXRhLCB1bmRlZmluZWQsIHFEZXYgPyAnICAnIDogdW5kZWZpbmVkKTtcbiAgcGFyZW50SlNPTi5hcHBlbmRDaGlsZChzY3JpcHQpO1xuICBjb250YWluZXJFbC5zZXRBdHRyaWJ1dGUoUUNvbnRhaW5lckF0dHIsICdwYXVzZWQnKTtcbiAgcmV0dXJuIGRhdGE7XG59XG5cbmV4cG9ydCB0eXBlIHsgU25hcHNob3RTdGF0ZSB9O1xuIl19","import { QError, qError } from '../error/error';\nimport { getProxyMap, readWriteProxy } from '../object/q-object';\nimport { resumeContainer } from '../object/store';\nimport { getDocument } from '../util/dom';\nimport { newQObjectMap } from './props-obj-map';\nimport { qPropWriteQRL } from './props-on';\nimport { QContainerAttr } from '../util/markers';\nimport { destroyWatch, isWatchDescriptor } from '../watch/watch.public';\nimport { pauseContainer } from '../object/store.public';\nimport { getRenderingState } from '../render/notify-render';\nimport { qDev } from '../util/qdev';\nError.stackTraceLimit = 9999;\nconst Q_CTX = '__ctx__';\nexport function resumeIfNeeded(containerEl) {\n    const isResumed = containerEl.getAttribute(QContainerAttr);\n    if (isResumed === 'paused') {\n        resumeContainer(containerEl);\n        if (qDev) {\n            appendQwikDevTools(containerEl);\n        }\n    }\n}\nexport function appendQwikDevTools(containerEl) {\n    containerEl['qwik'] = {\n        pause: () => pauseContainer(containerEl),\n        renderState: getRenderingState(containerEl),\n    };\n}\nexport function tryGetContext(element) {\n    return element[Q_CTX];\n}\nexport function getContext(element) {\n    let ctx = tryGetContext(element);\n    if (!ctx) {\n        const cache = new Map();\n        element[Q_CTX] = ctx = {\n            element,\n            cache,\n            refMap: newQObjectMap(element),\n            dirty: false,\n            seq: [],\n            props: undefined,\n            renderQrl: undefined,\n            component: undefined,\n        };\n    }\n    return ctx;\n}\nexport function cleanupContext(ctx) {\n    const el = ctx.element;\n    ctx.refMap.array.forEach((obj) => {\n        if (isWatchDescriptor(obj)) {\n            if (obj.el === el) {\n                destroyWatch(obj);\n            }\n        }\n        ctx.component = undefined;\n        ctx.renderQrl = undefined;\n        ctx.seq = [];\n        ctx.cache.clear();\n        ctx.dirty = false;\n        ctx.refMap.array.length = 0;\n    });\n    el[Q_CTX] = undefined;\n}\nconst PREFIXES = ['document:on', 'window:on', 'on'];\nconst SCOPED = ['on-document', 'on-window', 'on'];\nexport function normalizeOnProp(prop) {\n    let scope = 'on';\n    for (let i = 0; i < PREFIXES.length; i++) {\n        const prefix = PREFIXES[i];\n        if (prop.startsWith(prefix)) {\n            scope = SCOPED[i];\n            prop = prop.slice(prefix.length);\n        }\n    }\n    if (prop.startsWith('-')) {\n        prop = prop.slice(1);\n    }\n    else {\n        prop = prop.toLowerCase();\n    }\n    return `${scope}:${prop}`;\n}\nexport function setEvent(rctx, ctx, prop, value) {\n    qPropWriteQRL(rctx, ctx, normalizeOnProp(prop), value);\n}\nexport function getProps(ctx) {\n    if (!ctx.props) {\n        ctx.props = readWriteProxy({}, getProxyMap(getDocument(ctx.element)));\n        ctx.refMap.add(ctx.props);\n    }\n    return ctx.props;\n}\n/**\n * Turn an `Array` or object literal into a `class` or `style`\n *\n * @param obj `string`, `Array` or object literal\n * @param isClass `true` if expecting `class` output\n * @returns `string`\n */\nexport function stringifyClassOrStyle(obj, isClass) {\n    if (obj == null)\n        return '';\n    if (typeof obj == 'object') {\n        let text = '';\n        let sep = '';\n        if (Array.isArray(obj)) {\n            if (!isClass) {\n                throw qError(QError.Render_unsupportedFormat_obj_attr, obj, 'style');\n            }\n            for (let i = 0; i < obj.length; i++) {\n                text += sep + obj[i];\n                sep = ' ';\n            }\n        }\n        else {\n            for (const key in obj) {\n                if (Object.prototype.hasOwnProperty.call(obj, key)) {\n                    const value = obj[key];\n                    text += isClass ? (value ? sep + key : '') : sep + key + ':' + value;\n                    sep = isClass ? ' ' : ';';\n                }\n            }\n        }\n        return text;\n    }\n    return String(obj);\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvcHMuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvcHJvcHMvcHJvcHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsT0FBTyxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUNoRCxPQUFPLEVBQUUsV0FBVyxFQUFFLGNBQWMsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBQ2pFLE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUVsRCxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sYUFBYSxDQUFDO0FBQzFDLE9BQU8sRUFBRSxhQUFhLEVBQWMsTUFBTSxpQkFBaUIsQ0FBQztBQUM1RCxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sWUFBWSxDQUFDO0FBQzNDLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUdqRCxPQUFPLEVBQUUsWUFBWSxFQUFFLGlCQUFpQixFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFDeEUsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLHdCQUF3QixDQUFDO0FBQ3hELE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBQzVELE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxjQUFjLENBQUM7QUFFcEMsS0FBSyxDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUM7QUFFN0IsTUFBTSxLQUFLLEdBQUcsU0FBUyxDQUFDO0FBRXhCLE1BQU0sVUFBVSxjQUFjLENBQUMsV0FBb0I7SUFDakQsTUFBTSxTQUFTLEdBQUcsV0FBVyxDQUFDLFlBQVksQ0FBQyxjQUFjLENBQUMsQ0FBQztJQUMzRCxJQUFJLFNBQVMsS0FBSyxRQUFRLEVBQUU7UUFDMUIsZUFBZSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQzdCLElBQUksSUFBSSxFQUFFO1lBQ1Isa0JBQWtCLENBQUMsV0FBVyxDQUFDLENBQUM7U0FDakM7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QUFFLENBQUMsR0FBRyxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO2dCQUNuQyxJQUFJLElBQUksR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDckIsR0FBRyxHQUFHLEdBQUcsQ0FBQzthQUNYO1NBQ0Y7YUFBTTtZQUNMLEtBQUssTUFBTSxHQUFHLElBQUksR0FBRyxFQUFFO2dCQUNyQixJQUFJLE1BQU0sQ0FBQyxTQUFTLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLEVBQUU7b0JBQ2xELE1BQU0sS0FBSyxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztvQkFDdkIsSUFBSSxJQUFJLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxLQUFLLENBQUM7b0JBQ3JFLEdBQUcsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDO2lCQUMzQjthQUNGO1NBQ0Y7UUFDRCxPQUFPLElBQUksQ0FBQztLQUNiO0lBQ0QsT0FBTyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDckIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgSlNYTm9kZSB9IGZyb20gJy4uL3JlbmRlci9qc3gvdHlwZXMvanN4LW5vZGUnO1xuaW1wb3J0IHsgUUVycm9yLCBxRXJyb3IgfSBmcm9tICcuLi9lcnJvci9lcnJvcic7XG5pbXBvcnQgeyBnZXRQcm94eU1hcCwgcmVhZFdyaXRlUHJveHkgfSBmcm9tICcuLi9vYmplY3QvcS1vYmplY3QnO1xuaW1wb3J0IHsgcmVzdW1lQ29udGFpbmVyIH0gZnJvbSAnLi4vb2JqZWN0L3N0b3JlJztcbmltcG9ydCB0eXBlIHsgUmVuZGVyQ29udGV4dCB9IGZyb20gJy4uL3JlbmRlci9jdXJzb3InO1xuaW1wb3J0IHsgZ2V0RG9jdW1lbnQgfSBmcm9tICcuLi91dGlsL2RvbSc7XG5pbXBvcnQgeyBuZXdRT2JqZWN0TWFwLCBRT2JqZWN0TWFwIH0gZnJvbSAnLi9wcm9wcy1vYmotbWFwJztcbmltcG9ydCB7IHFQcm9wV3JpdGVRUkwgfSBmcm9tICcuL3Byb3BzLW9uJztcbmltcG9ydCB7IFFDb250YWluZXJBdHRyIH0gZnJvbSAnLi4vdXRpbC9tYXJrZXJzJztcbmltcG9ydCB0eXBlIHsgUVJMIH0gZnJvbSAnLi4vaW1wb3J0L3FybC5wdWJsaWMnO1xuaW1wb3J0IHR5cGUgeyBPblJlbmRlckZuIH0gZnJvbSAnLi4vY29tcG9uZW50L2NvbXBvbmVudC5wdWJsaWMnO1xuaW1wb3J0IHsgZGVzdHJveVdhdGNoLCBpc1dhdGNoRGVzY3JpcHRvciB9IGZyb20gJy4uL3dhdGNoL3dhdGNoLnB1YmxpYyc7XG5pbXBvcnQgeyBwYXVzZUNvbnRhaW5lciB9IGZyb20gJy4uL29iamVjdC9zdG9yZS5wdWJsaWMnO1xuaW1wb3J0IHsgZ2V0UmVuZGVyaW5nU3RhdGUgfSBmcm9tICcuLi9yZW5kZXIvbm90aWZ5LXJlbmRlcic7XG5pbXBvcnQgeyBxRGV2IH0gZnJvbSAnLi4vdXRpbC9xZGV2JztcblxuRXJyb3Iuc3RhY2tUcmFjZUxpbWl0ID0gOTk5OTtcblxuY29uc3QgUV9DVFggPSAnX19jdHhfXyc7XG5cbmV4cG9ydCBmdW5jdGlvbiByZXN1bWVJZk5lZWRlZChjb250YWluZXJFbDogRWxlbWVudCk6IHZvaWQge1xuICBjb25zdCBpc1Jlc3VtZWQgPSBjb250YWluZXJFbC5nZXRBdHRyaWJ1dGUoUUNvbnRhaW5lckF0dHIpO1xuICBpZiAoaXNSZXN1bWVkID09PSAncGF1c2VkJykge1xuICAgIHJlc3VtZUNvbnRhaW5lcihjb250YWluZXJFbCk7XG4gICAgaWYgKHFEZXYpIHtcbiAgICAgIGFwcGVuZFF3aWtEZXZUb29scyhjb250YWluZXJFbCk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhcHBlbmRRd2lrRGV2VG9vbHMoY29udGFpbmVyRWw6IEVsZW1lbnQpIHtcbiAgKGNvbnRhaW5lckVsIGFzIGFueSlbJ3F3aWsnXSA9IHtcbiAgICBwYXVzZTogKCkgPT4gcGF1c2VDb250YWluZXIoY29udGFpbmVyRWwpLFxuICAgIHJlbmRlclN0YXRlOiBnZXRSZW5kZXJpbmdTdGF0ZShjb250YWluZXJFbCksXG4gIH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUUNvbnRleHRFdmVudHMge1xuICBbZXZlbnROYW1lOiBzdHJpbmddOiBRUkwgfCB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogQGFscGhhXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ29tcG9uZW50Q3R4IHtcbiAgaG9zdEVsZW1lbnQ6IEhUTUxFbGVtZW50O1xuICBzdHlsZUlkOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIHN0eWxlQ2xhc3M6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgc3R5bGVIb3N0Q2xhc3M6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgc2xvdHM6IEpTWE5vZGVbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBRQ29udGV4dCB7XG4gIGNhY2hlOiBNYXA8c3RyaW5nLCBhbnk+O1xuICByZWZNYXA6IFFPYmplY3RNYXA7XG4gIGVsZW1lbnQ6IEVsZW1lbnQ7XG4gIGRpcnR5OiBib29sZWFuO1xuICBwcm9wczogUmVjb3JkPHN0cmluZywgYW55PiB8IHVuZGVmaW5lZDtcbiAgcmVuZGVyUXJsOiBRUkw8T25SZW5kZXJGbjxhbnk+PiB8IHVuZGVmaW5lZDtcbiAgc2VxOiBudW1iZXJbXTtcbiAgY29tcG9uZW50OiBDb21wb25lbnRDdHggfCB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0cnlHZXRDb250ZXh0KGVsZW1lbnQ6IEVsZW1lbnQpOiBRQ29udGV4dCB8IHVuZGVmaW5lZCB7XG4gIHJldHVybiAoZWxlbWVudCBhcyBhbnkpW1FfQ1RYXTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb250ZXh0KGVsZW1lbnQ6IEVsZW1lbnQpOiBRQ29udGV4dCB7XG4gIGxldCBjdHggPSB0cnlHZXRDb250ZXh0KGVsZW1lbnQpITtcbiAgaWYgKCFjdHgpIHtcbiAgICBjb25zdCBjYWNoZSA9IG5ldyBNYXAoKTtcbiAgICAoZWxlbWVudCBhcyBhbnkpW1FfQ1RYXSA9IGN0eCA9IHtcbiAgICAgIGVsZW1lbnQsXG4gICAgICBjYWNoZSxcbiAgICAgIHJlZk1hcDogbmV3UU9iamVjdE1hcChlbGVtZW50KSxcbiAgICAgIGRpcnR5OiBmYWxzZSxcbiAgICAgIHNlcTogW10sXG4gICAgICBwcm9wczogdW5kZWZpbmVkLFxuICAgICAgcmVuZGVyUXJsOiB1bmRlZmluZWQsXG4gICAgICBjb21wb25lbnQ6IHVuZGVmaW5lZCxcbiAgICB9O1xuICB9XG4gIHJldHVybiBjdHg7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjbGVhbnVwQ29udGV4dChjdHg6IFFDb250ZXh0KSB7XG4gIGNvbnN0IGVsID0gY3R4LmVsZW1lbnQ7XG4gIGN0eC5yZWZNYXAuYXJyYXkuZm9yRWFjaCgob2JqKSA9PiB7XG4gICAgaWYgKGlzV2F0Y2hEZXNjcmlwdG9yKG9iaikpIHtcbiAgICAgIGlmIChvYmouZWwgPT09IGVsKSB7XG4gICAgICAgIGRlc3Ryb3lXYXRjaChvYmopO1xuICAgICAgfVxuICAgIH1cbiAgICBjdHguY29tcG9uZW50ID0gdW5kZWZpbmVkO1xuICAgIGN0eC5yZW5kZXJRcmwgPSB1bmRlZmluZWQ7XG4gICAgY3R4LnNlcSA9IFtdO1xuICAgIGN0eC5jYWNoZS5jbGVhcigpO1xuICAgIGN0eC5kaXJ0eSA9IGZhbHNlO1xuICAgIGN0eC5yZWZNYXAuYXJyYXkubGVuZ3RoID0gMDtcbiAgfSk7XG4gIChlbCBhcyBhbnkpW1FfQ1RYXSA9IHVuZGVmaW5lZDtcbn1cblxuY29uc3QgUFJFRklYRVMgPSBbJ2RvY3VtZW50Om9uJywgJ3dpbmRvdzpvbicsICdvbiddO1xuY29uc3QgU0NPUEVEID0gWydvbi1kb2N1bWVudCcsICdvbi13aW5kb3cnLCAnb24nXTtcblxuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZU9uUHJvcChwcm9wOiBzdHJpbmcpIHtcbiAgbGV0IHNjb3BlID0gJ29uJztcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBQUkVGSVhFUy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHByZWZpeCA9IFBSRUZJWEVTW2ldO1xuICAgIGlmIChwcm9wLnN0YXJ0c1dpdGgocHJlZml4KSkge1xuICAgICAgc2NvcGUgPSBTQ09QRURbaV07XG4gICAgICBwcm9wID0gcHJvcC5zbGljZShwcmVmaXgubGVuZ3RoKTtcbiAgICB9XG4gIH1cbiAgaWYgKHByb3Auc3RhcnRzV2l0aCgnLScpKSB7XG4gICAgcHJvcCA9IHByb3Auc2xpY2UoMSk7XG4gIH0gZWxzZSB7XG4gICAgcHJvcCA9IHByb3AudG9Mb3dlckNhc2UoKTtcbiAgfVxuICByZXR1cm4gYCR7c2NvcGV9OiR7cHJvcH1gO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0RXZlbnQocmN0eDogUmVuZGVyQ29udGV4dCwgY3R4OiBRQ29udGV4dCwgcHJvcDogc3RyaW5nLCB2YWx1ZTogYW55KSB7XG4gIHFQcm9wV3JpdGVRUkwocmN0eCwgY3R4LCBub3JtYWxpemVPblByb3AocHJvcCksIHZhbHVlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFByb3BzKGN0eDogUUNvbnRleHQpIHtcbiAgaWYgKCFjdHgucHJvcHMpIHtcbiAgICBjdHgucHJvcHMgPSByZWFkV3JpdGVQcm94eSh7fSwgZ2V0UHJveHlNYXAoZ2V0RG9jdW1lbnQoY3R4LmVsZW1lbnQpKSk7XG4gICAgY3R4LnJlZk1hcC5hZGQoY3R4LnByb3BzKTtcbiAgfVxuICByZXR1cm4gY3R4LnByb3BzITtcbn1cblxuLyoqXG4gKiBUdXJuIGFuIGBBcnJheWAgb3Igb2JqZWN0IGxpdGVyYWwgaW50byBhIGBjbGFzc2Agb3IgYHN0eWxlYFxuICpcbiAqIEBwYXJhbSBvYmogYHN0cmluZ2AsIGBBcnJheWAgb3Igb2JqZWN0IGxpdGVyYWxcbiAqIEBwYXJhbSBpc0NsYXNzIGB0cnVlYCBpZiBleHBlY3RpbmcgYGNsYXNzYCBvdXRwdXRcbiAqIEByZXR1cm5zIGBzdHJpbmdgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdHJpbmdpZnlDbGFzc09yU3R5bGUob2JqOiBhbnksIGlzQ2xhc3M6IGJvb2xlYW4pOiBzdHJpbmcge1xuICBpZiAob2JqID09IG51bGwpIHJldHVybiAnJztcbiAgaWYgKHR5cGVvZiBvYmogPT0gJ29iamVjdCcpIHtcbiAgICBsZXQgdGV4dCA9ICcnO1xuICAgIGxldCBzZXAgPSAnJztcbiAgICBpZiAoQXJyYXkuaXNBcnJheShvYmopKSB7XG4gICAgICBpZiAoIWlzQ2xhc3MpIHtcbiAgICAgICAgdGhyb3cgcUVycm9yKFFFcnJvci5SZW5kZXJfdW5zdXBwb3J0ZWRGb3JtYXRfb2JqX2F0dHIsIG9iaiwgJ3N0eWxlJyk7XG4gICAgICB9XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9iai5sZW5ndGg7IGkrKykge1xuICAgICAgICB0ZXh0ICs9IHNlcCArIG9ialtpXTtcbiAgICAgICAgc2VwID0gJyAnO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKGNvbnN0IGtleSBpbiBvYmopIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHtcbiAgICAgICAgICBjb25zdCB2YWx1ZSA9IG9ialtrZXldO1xuICAgICAgICAgIHRleHQgKz0gaXNDbGFzcyA/ICh2YWx1ZSA/IHNlcCArIGtleSA6ICcnKSA6IHNlcCArIGtleSArICc6JyArIHZhbHVlO1xuICAgICAgICAgIHNlcCA9IGlzQ2xhc3MgPyAnICcgOiAnOyc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRleHQ7XG4gIH1cbiAgcmV0dXJuIFN0cmluZyhvYmopO1xufVxuIl19","/**\n * Place at the root of the component View to allow binding of attributes on the Host element.\n *\n * ```\n * <Host someAttr={someExpr} someAttrStatic=\"value\">\n *   View content implementation.\n * </Host>\n * ```\n *\n * Qwik requires that components have [docs/HOST_ELEMENTS.ts] so that it is possible to have\n * asynchronous loading point. Host element is not owned by the component. At times it is\n * desirable for the component to render additional attributes on the host element. `<Host>`\n * servers that purpose.\n * @public\n */\nexport const Host = { __brand__: 'host' };\n/**\n * @public\n */\nexport const SkipRerender = { __brand__: 'skip' };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaG9zdC5wdWJsaWMuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvcmVuZGVyL2pzeC9ob3N0LnB1YmxpYy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFHQTs7Ozs7Ozs7Ozs7Ozs7R0FjRztBQUNILE1BQU0sQ0FBQyxNQUFNLElBQUksR0FBbUQsRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFTLENBQUM7QUFFakc7O0dBRUc7QUFDSCxNQUFNLENBQUMsTUFBTSxZQUFZLEdBQTBCLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBUyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBIVE1MQXR0cmlidXRlcyB9IGZyb20gJy4vdHlwZXMvanN4LWdlbmVyYXRlZCc7XG5pbXBvcnQgdHlwZSB7IEZ1bmN0aW9uQ29tcG9uZW50IH0gZnJvbSAnLi90eXBlcy9qc3gtbm9kZSc7XG5cbi8qKlxuICogUGxhY2UgYXQgdGhlIHJvb3Qgb2YgdGhlIGNvbXBvbmVudCBWaWV3IHRvIGFsbG93IGJpbmRpbmcgb2YgYXR0cmlidXRlcyBvbiB0aGUgSG9zdCBlbGVtZW50LlxuICpcbiAqIGBgYFxuICogPEhvc3Qgc29tZUF0dHI9e3NvbWVFeHByfSBzb21lQXR0clN0YXRpYz1cInZhbHVlXCI+XG4gKiAgIFZpZXcgY29udGVudCBpbXBsZW1lbnRhdGlvbi5cbiAqIDwvSG9zdD5cbiAqIGBgYFxuICpcbiAqIFF3aWsgcmVxdWlyZXMgdGhhdCBjb21wb25lbnRzIGhhdmUgW2RvY3MvSE9TVF9FTEVNRU5UUy50c10gc28gdGhhdCBpdCBpcyBwb3NzaWJsZSB0byBoYXZlXG4gKiBhc3luY2hyb25vdXMgbG9hZGluZyBwb2ludC4gSG9zdCBlbGVtZW50IGlzIG5vdCBvd25lZCBieSB0aGUgY29tcG9uZW50LiBBdCB0aW1lcyBpdCBpc1xuICogZGVzaXJhYmxlIGZvciB0aGUgY29tcG9uZW50IHRvIHJlbmRlciBhZGRpdGlvbmFsIGF0dHJpYnV0ZXMgb24gdGhlIGhvc3QgZWxlbWVudC4gYDxIb3N0PmBcbiAqIHNlcnZlcnMgdGhhdCBwdXJwb3NlLlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgSG9zdDogRnVuY3Rpb25Db21wb25lbnQ8SFRNTEF0dHJpYnV0ZXM8SFRNTEVsZW1lbnQ+PiA9IHsgX19icmFuZF9fOiAnaG9zdCcgfSBhcyBhbnk7XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgU2tpcFJlcmVuZGVyOiBGdW5jdGlvbkNvbXBvbmVudDx7fT4gPSB7IF9fYnJhbmRfXzogJ3NraXAnIH0gYXMgYW55O1xuIl19","import { Host } from '../render/jsx/host.public';\nimport { getContext } from '../props/props';\nimport { smartUpdateChildren, updateProperties } from './cursor';\nexport function visitJsxNode(ctx, elm, jsxNode, isSvg) {\n    if (jsxNode === undefined) {\n        return smartUpdateChildren(ctx, elm, [], 'root', isSvg);\n    }\n    if (Array.isArray(jsxNode)) {\n        return smartUpdateChildren(ctx, elm, jsxNode.flat(), 'root', isSvg);\n    }\n    else if (jsxNode.type === Host) {\n        updateProperties(ctx, getContext(elm), jsxNode.props, isSvg);\n        return smartUpdateChildren(ctx, elm, jsxNode.children || [], 'root', isSvg);\n    }\n    else {\n        return smartUpdateChildren(ctx, elm, [jsxNode], 'root', isSvg);\n    }\n}\nexport function whileResolvingRender(...args) {\n    throw new Error('Function not implemented.' + args);\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVuZGVyLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3JlbmRlci9yZW5kZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLDJCQUEyQixDQUFDO0FBQ2pELE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUU1QyxPQUFPLEVBQWlCLG1CQUFtQixFQUFFLGdCQUFnQixFQUFFLE1BQU0sVUFBVSxDQUFDO0FBSWhGLE1BQU0sVUFBVSxZQUFZLENBQzFCLEdBQWtCLEVBQ2xCLEdBQVksRUFDWixPQUF3QyxFQUN4QyxLQUFjO0lBRWQsSUFBSSxPQUFPLEtBQUssU0FBUyxFQUFFO1FBQ3pCLE9BQU8sbUJBQW1CLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsTUFBTSxFQUFFLEtBQUssQ0FBQyxDQUFDO0tBQ3pEO0lBQ0QsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxFQUFFO1FBQzFCLE9BQU8sbUJBQW1CLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxPQUFPLENBQUMsSUFBSSxFQUFFLEVBQUUsTUFBTSxFQUFFLEtBQUssQ0FBQyxDQUFDO0tBQ3JFO1NBQU0sSUFBSSxPQUFPLENBQUMsSUFBSSxLQUFLLElBQUksRUFBRTtRQUNoQyxnQkFBZ0IsQ0FBQyxHQUFHLEVBQUUsVUFBVSxDQUFDLEdBQUcsQ0FBQyxFQUFFLE9BQU8sQ0FBQyxLQUFLLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDN0QsT0FBTyxtQkFBbUIsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLE9BQU8sQ0FBQyxRQUFRLElBQUksRUFBRSxFQUFFLE1BQU0sRUFBRSxLQUFLLENBQUMsQ0FBQztLQUM3RTtTQUFNO1FBQ0wsT0FBTyxtQkFBbUIsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUMsT0FBTyxDQUFDLEVBQUUsTUFBTSxFQUFFLEtBQUssQ0FBQyxDQUFDO0tBQ2hFO0FBQ0gsQ0FBQztBQUVELE1BQU0sVUFBVSxvQkFBb0IsQ0FDbEMsR0FBRyxJQUF1RDtJQUUxRCxNQUFNLElBQUksS0FBSyxDQUFDLDJCQUEyQixHQUFHLElBQUksQ0FBQyxDQUFDO0FBQ3RELENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBIb3N0IH0gZnJvbSAnLi4vcmVuZGVyL2pzeC9ob3N0LnB1YmxpYyc7XG5pbXBvcnQgeyBnZXRDb250ZXh0IH0gZnJvbSAnLi4vcHJvcHMvcHJvcHMnO1xuaW1wb3J0IHR5cGUgeyBWYWx1ZU9yUHJvbWlzZSB9IGZyb20gJy4uL3V0aWwvdHlwZXMnO1xuaW1wb3J0IHsgUmVuZGVyQ29udGV4dCwgc21hcnRVcGRhdGVDaGlsZHJlbiwgdXBkYXRlUHJvcGVydGllcyB9IGZyb20gJy4vY3Vyc29yJztcbmltcG9ydCB0eXBlIHsgSlNYTm9kZSB9IGZyb20gJy4vanN4L3R5cGVzL2pzeC1ub2RlJztcbmV4cG9ydCB0eXBlIENvbXBvbmVudFJlbmRlclF1ZXVlID0gUHJvbWlzZTxIVE1MRWxlbWVudFtdPltdO1xuXG5leHBvcnQgZnVuY3Rpb24gdmlzaXRKc3hOb2RlKFxuICBjdHg6IFJlbmRlckNvbnRleHQsXG4gIGVsbTogRWxlbWVudCxcbiAganN4Tm9kZTogSlNYTm9kZSB8IEpTWE5vZGVbXSB8IHVuZGVmaW5lZCxcbiAgaXNTdmc6IGJvb2xlYW5cbik6IFZhbHVlT3JQcm9taXNlPHZvaWQ+IHtcbiAgaWYgKGpzeE5vZGUgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBzbWFydFVwZGF0ZUNoaWxkcmVuKGN0eCwgZWxtLCBbXSwgJ3Jvb3QnLCBpc1N2Zyk7XG4gIH1cbiAgaWYgKEFycmF5LmlzQXJyYXkoanN4Tm9kZSkpIHtcbiAgICByZXR1cm4gc21hcnRVcGRhdGVDaGlsZHJlbihjdHgsIGVsbSwganN4Tm9kZS5mbGF0KCksICdyb290JywgaXNTdmcpO1xuICB9IGVsc2UgaWYgKGpzeE5vZGUudHlwZSA9PT0gSG9zdCkge1xuICAgIHVwZGF0ZVByb3BlcnRpZXMoY3R4LCBnZXRDb250ZXh0KGVsbSksIGpzeE5vZGUucHJvcHMsIGlzU3ZnKTtcbiAgICByZXR1cm4gc21hcnRVcGRhdGVDaGlsZHJlbihjdHgsIGVsbSwganN4Tm9kZS5jaGlsZHJlbiB8fCBbXSwgJ3Jvb3QnLCBpc1N2Zyk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHNtYXJ0VXBkYXRlQ2hpbGRyZW4oY3R4LCBlbG0sIFtqc3hOb2RlXSwgJ3Jvb3QnLCBpc1N2Zyk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHdoaWxlUmVzb2x2aW5nUmVuZGVyPEFSR1MgZXh0ZW5kcyBhbnlbXSwgUkVUPihcbiAgLi4uYXJnczogWy4uLkFSR1MsICguLi5hcmdzOiBSZXNvbHZlZFZhbHVlczxBUkdTPikgPT4gUkVUXVxuKTogUkVUIHtcbiAgdGhyb3cgbmV3IEVycm9yKCdGdW5jdGlvbiBub3QgaW1wbGVtZW50ZWQuJyArIGFyZ3MpO1xufVxuXG5leHBvcnQgdHlwZSBSZXNvbHZlZFZhbHVlczxBUkdTIGV4dGVuZHMgYW55W10+ID0ge1xuICBbSyBpbiBrZXlvZiBBUkdTXTogQVJHU1tLXSBleHRlbmRzIFZhbHVlT3JQcm9taXNlPGluZmVyIFU+ID8gVSA6IEFSR1NbS107XG59O1xuIl19","export function hashCode(text, hash = 0) {\n    if (text.length === 0)\n        return hash;\n    for (let i = 0; i < text.length; i++) {\n        const chr = text.charCodeAt(i);\n        hash = (hash << 5) - hash + chr;\n        hash |= 0; // Convert to 32bit integer\n    }\n    return Number(Math.abs(hash)).toString(36);\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGFzaF9jb2RlLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3V0aWwvaGFzaF9jb2RlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE1BQU0sVUFBVSxRQUFRLENBQUMsSUFBWSxFQUFFLE9BQWUsQ0FBQztJQUNyRCxJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssQ0FBQztRQUFFLE9BQU8sSUFBSSxDQUFDO0lBQ25DLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO1FBQ3BDLE1BQU0sR0FBRyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDL0IsSUFBSSxHQUFHLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksR0FBRyxHQUFHLENBQUM7UUFDaEMsSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDLDJCQUEyQjtLQUN2QztJQUNELE9BQU8sTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLENBQUM7QUFDN0MsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBoYXNoQ29kZSh0ZXh0OiBzdHJpbmcsIGhhc2g6IG51bWJlciA9IDApIHtcbiAgaWYgKHRleHQubGVuZ3RoID09PSAwKSByZXR1cm4gaGFzaDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB0ZXh0Lmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgY2hyID0gdGV4dC5jaGFyQ29kZUF0KGkpO1xuICAgIGhhc2ggPSAoaGFzaCA8PCA1KSAtIGhhc2ggKyBjaHI7XG4gICAgaGFzaCB8PSAwOyAvLyBDb252ZXJ0IHRvIDMyYml0IGludGVnZXJcbiAgfVxuICByZXR1cm4gTnVtYmVyKE1hdGguYWJzKGhhc2gpKS50b1N0cmluZygzNik7XG59XG4iXX0=","import { ComponentStylesPrefixContent, ComponentStylesPrefixHost } from '../util/markers';\nimport { hashCode } from '../util/hash_code';\nexport function styleKey(qStyles) {\n    return qStyles && String(hashCode(qStyles.symbol));\n}\nexport function styleHost(styleId) {\n    return styleId && ComponentStylesPrefixHost + styleId;\n}\nexport function styleContent(styleId) {\n    return styleId && ComponentStylesPrefixContent + styleId;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicXJsLXN0eWxlcy5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9jb21wb25lbnQvcXJsLXN0eWxlcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLEVBQUUsNEJBQTRCLEVBQUUseUJBQXlCLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUMxRixPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFPN0MsTUFBTSxVQUFVLFFBQVEsQ0FBQyxPQUFtQztJQUMxRCxPQUFPLE9BQU8sSUFBSSxNQUFNLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO0FBQ3JELENBQUM7QUFPRCxNQUFNLFVBQVUsU0FBUyxDQUFDLE9BQTJCO0lBQ25ELE9BQU8sT0FBTyxJQUFJLHlCQUF5QixHQUFHLE9BQU8sQ0FBQztBQUN4RCxDQUFDO0FBT0QsTUFBTSxVQUFVLFlBQVksQ0FBQyxPQUEyQjtJQUN0RCxPQUFPLE9BQU8sSUFBSSw0QkFBNEIsR0FBRyxPQUFPLENBQUM7QUFDM0QsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgUVJMSW50ZXJuYWwgfSBmcm9tICcuLi9pbXBvcnQvcXJsLWNsYXNzJztcbmltcG9ydCB7IENvbXBvbmVudFN0eWxlc1ByZWZpeENvbnRlbnQsIENvbXBvbmVudFN0eWxlc1ByZWZpeEhvc3QgfSBmcm9tICcuLi91dGlsL21hcmtlcnMnO1xuaW1wb3J0IHsgaGFzaENvZGUgfSBmcm9tICcuLi91dGlsL2hhc2hfY29kZSc7XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gc3R5bGVLZXkocVN0eWxlczogUVJMSW50ZXJuYWw8c3RyaW5nPik6IHN0cmluZztcbmV4cG9ydCBmdW5jdGlvbiBzdHlsZUtleShxU3R5bGVzOiBRUkxJbnRlcm5hbDxzdHJpbmc+IHwgbnVsbCk6IHN0cmluZyB8IG51bGw7XG5leHBvcnQgZnVuY3Rpb24gc3R5bGVLZXkocVN0eWxlczogUVJMSW50ZXJuYWw8c3RyaW5nPiB8IG51bGwpOiBzdHJpbmcgfCBudWxsIHtcbiAgcmV0dXJuIHFTdHlsZXMgJiYgU3RyaW5nKGhhc2hDb2RlKHFTdHlsZXMuc3ltYm9sKSk7XG59XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gc3R5bGVIb3N0KHN0eWxlSWQ6IHN0cmluZyk6IHN0cmluZztcbmV4cG9ydCBmdW5jdGlvbiBzdHlsZUhvc3Qoc3R5bGVJZDogc3RyaW5nIHwgdW5kZWZpbmVkKTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuZXhwb3J0IGZ1bmN0aW9uIHN0eWxlSG9zdChzdHlsZUlkOiBzdHJpbmcgfCB1bmRlZmluZWQpOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICByZXR1cm4gc3R5bGVJZCAmJiBDb21wb25lbnRTdHlsZXNQcmVmaXhIb3N0ICsgc3R5bGVJZDtcbn1cblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdHlsZUNvbnRlbnQoc3R5bGVJZDogc3RyaW5nKTogc3RyaW5nO1xuZXhwb3J0IGZ1bmN0aW9uIHN0eWxlQ29udGVudChzdHlsZUlkOiBzdHJpbmcgfCB1bmRlZmluZWQpOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG5leHBvcnQgZnVuY3Rpb24gc3R5bGVDb250ZW50KHN0eWxlSWQ6IHN0cmluZyB8IHVuZGVmaW5lZCk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XG4gIHJldHVybiBzdHlsZUlkICYmIENvbXBvbmVudFN0eWxlc1ByZWZpeENvbnRlbnQgKyBzdHlsZUlkO1xufVxuIl19","import { qDev } from '../../util/qdev';\nimport { Host, SkipRerender } from './host.public';\nimport { EMPTY_ARRAY } from '../../util/flyweight';\nimport { logWarn } from '../../util/log';\n/**\n * @public\n */\nexport function jsx(type, props, key) {\n    return new JSXNodeImpl(type, props, key);\n}\nexport class JSXNodeImpl {\n    constructor(type, props, key = null) {\n        this.type = type;\n        this.props = props;\n        this.children = EMPTY_ARRAY;\n        this.text = undefined;\n        this.key = null;\n        if (key != null) {\n            this.key = String(key);\n        }\n        if (props) {\n            const children = processNode(props.children);\n            if (children !== undefined) {\n                if (Array.isArray(children)) {\n                    this.children = children;\n                }\n                else {\n                    this.children = [children];\n                }\n            }\n        }\n    }\n}\nexport function processNode(node) {\n    if (node == null || typeof node === 'boolean') {\n        return undefined;\n    }\n    if (isJSXNode(node)) {\n        if (node.type === Host || node.type === SkipRerender) {\n            return node;\n        }\n        else if (typeof node.type === 'function') {\n            return processNode(node.type({ ...node.props, children: node.children }, node.key));\n        }\n        else {\n            return node;\n        }\n    }\n    else if (Array.isArray(node)) {\n        return node.flatMap(processNode).filter((e) => e != null);\n    }\n    else if (typeof node === 'string' || typeof node === 'number' || typeof node === 'boolean') {\n        const newNode = new JSXNodeImpl('#text', null, null);\n        newNode.text = String(node);\n        return newNode;\n    }\n    else {\n        logWarn('Unvalid node, skipping');\n        return undefined;\n    }\n}\nexport const isJSXNode = (n) => {\n    if (qDev) {\n        if (n instanceof JSXNodeImpl) {\n            return true;\n        }\n        if (n && typeof n === 'object' && n.constructor.name === JSXNodeImpl.name) {\n            throw new Error(`Duplicate implementations of \"JSXNodeImpl\" found`);\n        }\n        return false;\n    }\n    else {\n        return n instanceof JSXNodeImpl;\n    }\n};\n/**\n * @public\n */\nexport const Comment = (props) => {\n    const newNode = new JSXNodeImpl('#comment', null, null);\n    newNode.text = props.text || '';\n    return newNode;\n};\n/**\n * @public\n */\nexport const Fragment = (props) => props.children;\nexport { jsx as jsxs, jsx as jsxDEV };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoianN4LXJ1bnRpbWUuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvcmVuZGVyL2pzeC9qc3gtcnVudGltZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQSxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDdkMsT0FBTyxFQUFFLElBQUksRUFBRSxZQUFZLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDbkQsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBQ25ELE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUV6Qzs7R0FFRztBQUNILE1BQU0sVUFBVSxHQUFHLENBQ2pCLElBQU8sRUFDUCxLQUFZLEVBQ1osR0FBcUI7SUFFckIsT0FBTyxJQUFJLFdBQVcsQ0FBQyxJQUFJLEVBQUUsS0FBSyxFQUFFLEdBQUcsQ0FBUSxDQUFDO0FBQ2xELENBQUM7QUFFRCxNQUFNLE9BQU8sV0FBVztJQUt0QixZQUNTLElBQU8sRUFDUCxLQUFpQyxFQUN4QyxNQUE4QixJQUFJO1FBRjNCLFNBQUksR0FBSixJQUFJLENBQUc7UUFDUCxVQUFLLEdBQUwsS0FBSyxDQUE0QjtRQU4xQyxhQUFRLEdBQWMsV0FBVyxDQUFDO1FBQ2xDLFNBQUksR0FBd0IsU0FBUyxDQUFDO1FBQ3RDLFFBQUcsR0FBa0IsSUFBSSxDQUFDO1FBT3hCLElBQUksR0FBRyxJQUFJLElBQUksRUFBRTtZQUNmLElBQUksQ0FBQyxHQUFHLEdBQUcsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1NBQ3hCO1FBQ0QsSUFBSSxLQUFLLEVBQUU7WUFDVCxNQUFNLFFBQVEsR0FBRyxXQUFXLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQzdDLElBQUksUUFBUSxLQUFLLFNBQVMsRUFBRTtnQkFDMUIsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxFQUFFO29CQUMzQixJ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bXBvcnQgdHlwZSB7IEZ1bmN0aW9uQ29tcG9uZW50LCBKU1hOb2RlIH0gZnJvbSAnLi90eXBlcy9qc3gtbm9kZSc7XG5pbXBvcnQgdHlwZSB7IFF3aWtKU1ggfSBmcm9tICcuL3R5cGVzL2pzeC1xd2lrJztcbmltcG9ydCB7IHFEZXYgfSBmcm9tICcuLi8uLi91dGlsL3FkZXYnO1xuaW1wb3J0IHsgSG9zdCwgU2tpcFJlcmVuZGVyIH0gZnJvbSAnLi9ob3N0LnB1YmxpYyc7XG5pbXBvcnQgeyBFTVBUWV9BUlJBWSB9IGZyb20gJy4uLy4uL3V0aWwvZmx5d2VpZ2h0JztcbmltcG9ydCB7IGxvZ1dhcm4gfSBmcm9tICcuLi8uLi91dGlsL2xvZyc7XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24ganN4PFQgZXh0ZW5kcyBzdHJpbmcgfCBGdW5jdGlvbkNvbXBvbmVudDxQUk9QUz4sIFBST1BTPihcbiAgdHlwZTogVCxcbiAgcHJvcHM6IFBST1BTLFxuICBrZXk/OiBzdHJpbmcgfCBudW1iZXJcbik6IEpTWE5vZGU8VD4ge1xuICByZXR1cm4gbmV3IEpTWE5vZGVJbXBsKHR5cGUsIHByb3BzLCBrZXkpIGFzIGFueTtcbn1cblxuZXhwb3J0IGNsYXNzIEpTWE5vZGVJbXBsPFQ+IGltcGxlbWVudHMgSlNYTm9kZTxUPiB7XG4gIGNoaWxkcmVuOiBKU1hOb2RlW10gPSBFTVBUWV9BUlJBWTtcbiAgdGV4dD86IHN0cmluZyB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbiAga2V5OiBzdHJpbmcgfCBudWxsID0gbnVsbDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgdHlwZTogVCxcbiAgICBwdWJsaWMgcHJvcHM6IFJlY29yZDxzdHJpbmcsIGFueT4gfCBudWxsLFxuICAgIGtleTogc3RyaW5nIHwgbnVtYmVyIHwgbnVsbCA9IG51bGxcbiAgKSB7XG4gICAgaWYgKGtleSAhPSBudWxsKSB7XG4gICAgICB0aGlzLmtleSA9IFN0cmluZyhrZXkpO1xuICAgIH1cbiAgICBpZiAocHJvcHMpIHtcbiAgICAgIGNvbnN0IGNoaWxkcmVuID0gcHJvY2Vzc05vZGUocHJvcHMuY2hpbGRyZW4pO1xuICAgICAgaWYgKGNoaWxkcmVuICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY2hpbGRyZW4pKSB7XG4gICAgICAgICAgdGhpcy5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuY2hpbGRyZW4gPSBbY2hpbGRyZW5dO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwcm9jZXNzTm9kZShub2RlOiBhbnkpOiBKU1hOb2RlW10gfCBKU1hOb2RlIHwgdW5kZWZpbmVkIHtcbiAgaWYgKG5vZGUgPT0gbnVsbCB8fCB0eXBlb2Ygbm9kZSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuICBpZiAoaXNKU1hOb2RlKG5vZGUpKSB7XG4gICAgaWYgKG5vZGUudHlwZSA9PT0gSG9zdCB8fCBub2RlLnR5cGUgPT09IFNraXBSZXJlbmRlcikge1xuICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygbm9kZS50eXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gcHJvY2Vzc05vZGUobm9kZS50eXBlKHsgLi4ubm9kZS5wcm9wcywgY2hpbGRyZW46IG5vZGUuY2hpbGRyZW4gfSwgbm9kZS5rZXkpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxuICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkobm9kZSkpIHtcbiAgICByZXR1cm4gbm9kZS5mbGF0TWFwKHByb2Nlc3NOb2RlKS5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbCkgYXMgSlNYTm9kZVtdO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBub2RlID09PSAnc3RyaW5nJyB8fCB0eXBlb2Ygbm9kZSA9PT0gJ251bWJlcicgfHwgdHlwZW9mIG5vZGUgPT09ICdib29sZWFuJykge1xuICAgIGNvbnN0IG5ld05vZGUgPSBuZXcgSlNYTm9kZUltcGwoJyN0ZXh0JywgbnVsbCwgbnVsbCk7XG4gICAgbmV3Tm9kZS50ZXh0ID0gU3RyaW5nKG5vZGUpO1xuICAgIHJldHVybiBuZXdOb2RlO1xuICB9IGVsc2Uge1xuICAgIGxvZ1dhcm4oJ1VudmFsaWQgbm9kZSwgc2tpcHBpbmcnKTtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBpc0pTWE5vZGUgPSAobjogYW55KTogbiBpcyBKU1hOb2RlPHVua25vd24+ID0+IHtcbiAgaWYgKHFEZXYpIHtcbiAgICBpZiAobiBpbnN0YW5jZW9mIEpTWE5vZGVJbXBsKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKG4gJiYgdHlwZW9mIG4gPT09ICdvYmplY3QnICYmIG4uY29uc3RydWN0b3IubmFtZSA9PT0gSlNYTm9kZUltcGwubmFtZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBEdXBsaWNhdGUgaW1wbGVtZW50YXRpb25zIG9mIFwiSlNYTm9kZUltcGxcIiBmb3VuZGApO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG4gaW5zdGFuY2VvZiBKU1hOb2RlSW1wbDtcbiAgfVxufTtcblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBDb21tZW50OiBGdW5jdGlvbkNvbXBvbmVudDx7IHRleHQ/OiBzdHJpbmcgfT4gPSAocHJvcHMpID0+IHtcbiAgY29uc3QgbmV3Tm9kZSA9IG5ldyBKU1hOb2RlSW1wbCgnI2NvbW1lbnQnLCBudWxsLCBudWxsKTtcbiAgbmV3Tm9kZS50ZXh0ID0gcHJvcHMudGV4dCB8fCAnJztcbiAgcmV0dXJuIG5ld05vZGU7XG59O1xuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IEZyYWdtZW50OiBGdW5jdGlvbkNvbXBvbmVudDx7IGNoaWxkcmVuPzogYW55IH0+ID0gKHByb3BzKSA9PiBwcm9wcy5jaGlsZHJlbiBhcyBhbnk7XG5cbmV4cG9ydCB0eXBlIHsgUXdpa0pTWCBhcyBKU1ggfTtcblxuZXhwb3J0IHsganN4IGFzIGpzeHMsIGpzeCBhcyBqc3hERVYgfTtcbiJdfQ==","import { assertDefined } from '../assert/assert';\nimport { appendStyle } from '../render/cursor';\nimport { visitJsxNode } from '../render/render';\nimport { ComponentScopedStyles, QHostAttr, RenderEvent } from '../util/markers';\nimport { promiseAll, then } from '../util/promises';\nimport { styleContent, styleHost } from './qrl-styles';\nimport { isStyleTask, newInvokeContext } from '../use/use-core';\nimport { getProps } from '../props/props';\nimport { processNode } from '../render/jsx/jsx-runtime';\nimport { wrapSubscriber } from '../use/use-subscriber';\nimport { logDebug } from '../util/log';\nimport { removeSub } from '../object/q-object';\nexport const firstRenderComponent = (rctx, ctx) => {\n    ctx.element.setAttribute(QHostAttr, '');\n    return renderComponent(rctx, ctx);\n};\nexport const renderComponent = (rctx, ctx) => {\n    ctx.dirty = false;\n    const hostElement = ctx.element;\n    const onRenderQRL = ctx.renderQrl;\n    assertDefined(onRenderQRL);\n    // Component is not dirty any more\n    rctx.globalState.hostsStaging.delete(hostElement);\n    // Invoke render hook\n    const invocatinContext = newInvokeContext(rctx.doc, hostElement, hostElement, RenderEvent);\n    invocatinContext.subscriber = hostElement;\n    const waitOn = (invocatinContext.waitOn = []);\n    // Clean current subscription before render\n    ctx.refMap.array.forEach((obj) => {\n        removeSub(obj, hostElement);\n    });\n    const onRenderFn = onRenderQRL.invokeFn(rctx.containerEl, invocatinContext);\n    // Execution of the render function\n    const renderPromise = onRenderFn(wrapSubscriber(getProps(ctx), hostElement));\n    // Wait for results\n    return then(renderPromise, (jsxNode) => {\n        rctx.hostElements.add(hostElement);\n        const waitOnPromise = promiseAll(waitOn);\n        return then(waitOnPromise, (waitOnResolved) => {\n            waitOnResolved.forEach((task) => {\n                if (isStyleTask(task)) {\n                    appendStyle(rctx, hostElement, task);\n                }\n            });\n            if (ctx.dirty) {\n                logDebug('Dropping render. State changed during render.');\n                return renderComponent(rctx, ctx);\n            }\n            let componentCtx = ctx.component;\n            if (!componentCtx) {\n                componentCtx = ctx.component = {\n                    hostElement,\n                    slots: [],\n                    styleHostClass: undefined,\n                    styleClass: undefined,\n                    styleId: undefined,\n                };\n                const scopedStyleId = hostElement.getAttribute(ComponentScopedStyles) ?? undefined;\n                if (scopedStyleId) {\n                    componentCtx.styleId = scopedStyleId;\n                    componentCtx.styleHostClass = styleHost(scopedStyleId);\n                    componentCtx.styleClass = styleContent(scopedStyleId);\n                    hostElement.classList.add(componentCtx.styleHostClass);\n                }\n            }\n            componentCtx.slots = [];\n            const newCtx = {\n                ...rctx,\n                component: componentCtx,\n            };\n            return visitJsxNode(newCtx, hostElement, processNode(jsxNode), false);\n        });\n    });\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tcG9uZW50LWN0eC5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9jb21wb25lbnQvY29tcG9uZW50LWN0eC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDakQsT0FBTyxFQUFFLFdBQVcsRUFBaUIsTUFBTSxrQkFBa0IsQ0FBQztBQUM5RCxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDaEQsT0FBTyxFQUFFLHFCQUFxQixFQUFFLFNBQVMsRUFBRSxXQUFXLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUNoRixPQUFPLEVBQUUsVUFBVSxFQUFFLElBQUksRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBQ3BELE9BQU8sRUFBRSxZQUFZLEVBQUUsU0FBUyxFQUFFLE1BQU0sY0FBYyxDQUFDO0FBQ3ZELE9BQU8sRUFBRSxXQUFXLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUNoRSxPQUFPLEVBQUUsUUFBUSxFQUFZLE1BQU0sZ0JBQWdCLENBQUM7QUFDcEQsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLDJCQUEyQixDQUFDO0FBQ3hELE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQUN2RCxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sYUFBYSxDQUFDO0FBRXZDLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUUvQyxNQUFNLENBQUMsTUFBTSxvQkFBb0IsR0FBRyxDQUFDLElBQW1CLEVBQUUsR0FBYSxFQUF3QixFQUFFO0lBQy9GLEdBQUcsQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLFNBQVMsRUFBRSxFQUFFLENBQUMsQ0FBQztJQUN4QyxPQUFPLGVBQWUsQ0FBQyxJQUFJLEVBQUUsR0FBRyxDQUFDLENBQUM7QUFDcEMsQ0FBQyxDQUFDO0FB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O2lCQUN4RDthQUNGO1lBQ0QsWUFBWSxDQUFDLEtBQUssR0FBRyxFQUFFLENBQUM7WUFFeEIsTUFBTSxNQUFNLEdBQWtCO2dCQUM1QixHQUFHLElBQUk7Z0JBQ1AsU0FBUyxFQUFFLFlBQVk7YUFDeEIsQ0FBQztZQUNGLE9BQU8sWUFBWSxDQUFDLE1BQU0sRUFBRSxXQUFXLEVBQUUsV0FBVyxDQUFDLE9BQU8sQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBQ3hFLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhc3NlcnREZWZpbmVkIH0gZnJvbSAnLi4vYXNzZXJ0L2Fzc2VydCc7XG5pbXBvcnQgeyBhcHBlbmRTdHlsZSwgUmVuZGVyQ29udGV4dCB9IGZyb20gJy4uL3JlbmRlci9jdXJzb3InO1xuaW1wb3J0IHsgdmlzaXRKc3hOb2RlIH0gZnJvbSAnLi4vcmVuZGVyL3JlbmRlcic7XG5pbXBvcnQgeyBDb21wb25lbnRTY29wZWRTdHlsZXMsIFFIb3N0QXR0ciwgUmVuZGVyRXZlbnQgfSBmcm9tICcuLi91dGlsL21hcmtlcnMnO1xuaW1wb3J0IHsgcHJvbWlzZUFsbCwgdGhlbiB9IGZyb20gJy4uL3V0aWwvcHJvbWlzZXMnO1xuaW1wb3J0IHsgc3R5bGVDb250ZW50LCBzdHlsZUhvc3QgfSBmcm9tICcuL3FybC1zdHlsZXMnO1xuaW1wb3J0IHsgaXNTdHlsZVRhc2ssIG5ld0ludm9rZUNvbnRleHQgfSBmcm9tICcuLi91c2UvdXNlLWNvcmUnO1xuaW1wb3J0IHsgZ2V0UHJvcHMsIFFDb250ZXh0IH0gZnJvbSAnLi4vcHJvcHMvcHJvcHMnO1xuaW1wb3J0IHsgcHJvY2Vzc05vZGUgfSBmcm9tICcuLi9yZW5kZXIvanN4L2pzeC1ydW50aW1lJztcbmltcG9ydCB7IHdyYXBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vdXNlL3VzZS1zdWJzY3JpYmVyJztcbmltcG9ydCB7IGxvZ0RlYnVnIH0gZnJvbSAnLi4vdXRpbC9sb2cnO1xuaW1wb3J0IHR5cGUgeyBWYWx1ZU9yUHJvbWlzZSB9IGZyb20gJy4uL3V0aWwvdHlwZXMnO1xuaW1wb3J0IHsgcmVtb3ZlU3ViIH0gZnJvbSAnLi4vb2JqZWN0L3Etb2JqZWN0JztcblxuZXhwb3J0IGNvbnN0IGZpcnN0UmVuZGVyQ29tcG9uZW50ID0gKHJjdHg6IFJlbmRlckNvbnRleHQsIGN0eDogUUNvbnRleHQpOiBWYWx1ZU9yUHJvbWlzZTx2b2lkPiA9PiB7XG4gIGN0eC5lbGVtZW50LnNldEF0dHJpYnV0ZShRSG9zdEF0dHIsICcnKTtcbiAgcmV0dXJuIHJlbmRlckNvbXBvbmVudChyY3R4LCBjdHgpO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlbmRlckNvbXBvbmVudCA9IChyY3R4OiBSZW5kZXJDb250ZXh0LCBjdHg6IFFDb250ZXh0KTogVmFsdWVPclByb21pc2U8dm9pZD4gPT4ge1xuICBjdHguZGlydHkgPSBmYWxzZTtcblxuICBjb25zdCBob3N0RWxlbWVudCA9IGN0eC5lbGVtZW50IGFzIEhUTUxFbGVtZW50O1xuICBjb25zdCBvblJlbmRlclFSTCA9IGN0eC5yZW5kZXJRcmwhO1xuICBhc3NlcnREZWZpbmVkKG9uUmVuZGVyUVJMKTtcblxuICAvLyBDb21wb25lbnQgaXMgbm90IGRpcnR5IGFueSBtb3JlXG4gIHJjdHguZ2xvYmFsU3RhdGUuaG9zdHNTdGFnaW5nLmRlbGV0ZShob3N0RWxlbWVudCk7XG5cbiAgLy8gSW52b2tlIHJlbmRlciBob29rXG4gIGNvbnN0IGludm9jYXRpbkNvbnRleHQgPSBuZXdJbnZva2VDb250ZXh0KHJjdHguZG9jLCBob3N0RWxlbWVudCwgaG9zdEVsZW1lbnQsIFJlbmRlckV2ZW50KTtcbiAgaW52b2NhdGluQ29udGV4dC5zdWJzY3JpYmVyID0gaG9zdEVsZW1lbnQ7XG4gIGNvbnN0IHdhaXRPbiA9IChpbnZvY2F0aW5Db250ZXh0LndhaXRPbiA9IFtdIGFzIGFueVtdKTtcblxuICAvLyBDbGVhbiBjdXJyZW50IHN1YnNjcmlwdGlvbiBiZWZvcmUgcmVuZGVyXG4gIGN0eC5yZWZNYXAuYXJyYXkuZm9yRWFjaCgob2JqKSA9PiB7XG4gICAgcmVtb3ZlU3ViKG9iaiwgaG9zdEVsZW1lbnQpO1xuICB9KTtcbiAgY29uc3Qgb25SZW5kZXJGbiA9IG9uUmVuZGVyUVJMLmludm9rZUZuKHJjdHguY29udGFpbmVyRWwsIGludm9jYXRpbkNvbnRleHQpO1xuXG4gIC8vIEV4ZWN1dGlvbiBvZiB0aGUgcmVuZGVyIGZ1bmN0aW9uXG4gIGNvbnN0IHJlbmRlclByb21pc2UgPSBvblJlbmRlckZuKHdyYXBTdWJzY3JpYmVyKGdldFByb3BzKGN0eCksIGhvc3RFbGVtZW50KSk7XG5cbiAgLy8gV2FpdCBmb3IgcmVzdWx0c1xuICByZXR1cm4gdGhlbihyZW5kZXJQcm9taXNlLCAoanN4Tm9kZSkgPT4ge1xuICAgIHJjdHguaG9zdEVsZW1lbnRzLmFkZChob3N0RWxlbWVudCk7XG5cbiAgICBjb25zdCB3YWl0T25Qcm9taXNlID0gcHJvbWlzZUFsbCh3YWl0T24pO1xuICAgIHJldHVybiB0aGVuKHdhaXRPblByb21pc2UsICh3YWl0T25SZXNvbHZlZCkgPT4ge1xuICAgICAgd2FpdE9uUmVzb2x2ZWQuZm9yRWFjaCgodGFzaykgPT4ge1xuICAgICAgICBpZiAoaXNTdHlsZVRhc2sodGFzaykpIHtcbiAgICAgICAgICBhcHBlbmRTdHlsZShyY3R4LCBob3N0RWxlbWVudCwgdGFzayk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKGN0eC5kaXJ0eSkge1xuICAgICAgICBsb2dEZWJ1ZygnRHJvcHBpbmcgcmVuZGVyLiBTdGF0ZSBjaGFuZ2VkIGR1cmluZyByZW5kZXIuJyk7XG4gICAgICAgIHJldHVybiByZW5kZXJDb21wb25lbnQocmN0eCwgY3R4KTtcbiAgICAgIH1cbiAgICAgIGxldCBjb21wb25lbnRDdHggPSBjdHguY29tcG9uZW50O1xuICAgICAgaWYgKCFjb21wb25lbnRDdHgpIHtcbiAgICAgICAgY29tcG9uZW50Q3R4ID0gY3R4LmNvbXBvbmVudCA9IHtcbiAgICAgICAgICBob3N0RWxlbWVudCxcbiAgICAgICAgICBzbG90czogW10sXG4gICAgICAgICAgc3R5bGVIb3N0Q2xhc3M6IHVuZGVmaW5lZCxcbiAgICAgICAgICBzdHlsZUNsYXNzOiB1bmRlZmluZWQsXG4gICAgICAgICAgc3R5bGVJZDogdW5kZWZpbmVkLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBzY29wZWRTdHlsZUlkID0gaG9zdEVsZW1lbnQuZ2V0QXR0cmlidXRlKENvbXBvbmVudFNjb3BlZFN0eWxlcykgPz8gdW5kZWZpbmVkO1xuICAgICAgICBpZiAoc2NvcGVkU3R5bGVJZCkge1xuICAgICAgICAgIGNvbXBvbmVudEN0eC5zdHlsZUlkID0gc2NvcGVkU3R5bGVJZDtcbiAgICAgICAgICBjb21wb25lbnRDdHguc3R5bGVIb3N0Q2xhc3MgPSBzdHlsZUhvc3Qoc2NvcGVkU3R5bGVJZCk7XG4gICAgICAgICAgY29tcG9uZW50Q3R4LnN0eWxlQ2xhc3MgPSBzdHlsZUNvbnRlbnQoc2NvcGVkU3R5bGVJZCk7XG4gICAgICAgICAgaG9zdEVsZW1lbnQuY2xhc3NMaXN0LmFkZChjb21wb25lbnRDdHguc3R5bGVIb3N0Q2xhc3MpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb21wb25lbnRDdHguc2xvdHMgPSBbXTtcblxuICAgICAgY29uc3QgbmV3Q3R4OiBSZW5kZXJDb250ZXh0ID0ge1xuICAgICAgICAuLi5yY3R4LFxuICAgICAgICBjb21wb25lbnQ6IGNvbXBvbmVudEN0eCxcbiAgICAgIH07XG4gICAgICByZXR1cm4gdmlzaXRKc3hOb2RlKG5ld0N0eCwgaG9zdEVsZW1lbnQsIHByb2Nlc3NOb2RlKGpzeE5vZGUpLCBmYWxzZSk7XG4gICAgfSk7XG4gIH0pO1xufTtcbiJdfQ==","import { OnRenderProp, QObjSelector, QSlotAttr } from '../util/markers';\nimport { cleanupContext, getContext, getProps, setEvent, tryGetContext, } from '../props/props';\nimport { isOn$Prop, isOnProp } from '../props/props-on';\nimport { Host } from '../render/jsx/host.public';\nimport { $ } from '../import/qrl.public';\nimport { firstRenderComponent, renderComponent } from '../component/component-ctx';\nimport { promiseAll, then } from '../util/promises';\nimport { assertDefined, assertEqual } from '../assert/assert';\nimport { NodeType } from '../util/types';\nimport { intToStr } from '../object/store';\nimport { EMPTY_ARRAY } from '../util/flyweight';\nimport { SkipRerender } from './jsx/host.public';\nimport { logDebug, logError, logWarn } from '../util/log';\nimport { qDev } from '../util/qdev';\nimport { qError, QError } from '../error/error';\nimport { fromCamelToKebabCase } from '../util/case';\nimport { CONTAINER } from '../use/use-core';\nexport const SVG_NS = 'http://www.w3.org/2000/svg';\nexport function smartUpdateChildren(ctx, elm, ch, mode, isSvg) {\n    if (ch.length === 1 && ch[0].type === SkipRerender) {\n        if (elm.firstChild !== null) {\n            return;\n        }\n        ch = ch[0].children;\n    }\n    const oldCh = getChildren(elm, mode);\n    if (oldCh.length > 0 && ch.length > 0) {\n        return updateChildren(ctx, elm, oldCh, ch, isSvg);\n    }\n    else if (ch.length > 0) {\n        return addVnodes(ctx, elm, undefined, ch, 0, ch.length - 1, isSvg);\n    }\n    else if (oldCh.length > 0) {\n        return removeVnodes(ctx, elm, oldCh, 0, oldCh.length - 1);\n    }\n}\nexport function updateChildren(ctx, parentElm, oldCh, newCh, isSvg) {\n    let oldStartIdx = 0;\n    let newStartIdx = 0;\n    let oldEndIdx = oldCh.length - 1;\n    let oldStartVnode = oldCh[0];\n    let oldEndVnode = oldCh[oldEndIdx];\n    let newEndIdx = newCh.length - 1;\n    let newStartVnode = newCh[0];\n    let newEndVnode = newCh[newEndIdx];\n    let oldKeyToIdx;\n    let idxInOld;\n    let elmToMove;\n    const results = [];\n    while (oldStartIdx <= oldEndIdx && newStartIdx <= newEndIdx) {\n        if (oldStartVnode == null) {\n            oldStartVnode = oldCh[++oldStartIdx]; // Vnode might have been moved left\n        }\n        else if (oldEndVnode == null) {\n            oldEndVnode = oldCh[--oldEndIdx];\n        }\n        else if (newStartVnode == null) {\n            newStartVnode = newCh[++newStartIdx];\n        }\n        else if (newEndVnode == null) {\n            newEndVnode = newCh[--newEndIdx];\n        }\n        else if (sameVnode(oldStartVnode, newStartVnode)) {\n            results.push(patchVnode(ctx, oldStartVnode, newStartVnode, isSvg));\n            oldStartVnode = oldCh[++oldStartIdx];\n            newStartVnode = newCh[++newStartIdx];\n        }\n        else if (sameVnode(oldEndVnode, newEndVnode)) {\n            results.push(patchVnode(ctx, oldEndVnode, newEndVnode, isSvg));\n            oldEndVnode = oldCh[--oldEndIdx];\n            newEndVnode = newCh[--newEndIdx];\n        }\n        else if (sameVnode(oldStartVnode, newEndVnode)) {\n            // Vnode moved right\n            results.push(patchVnode(ctx, oldStartVnode, newEndVnode, isSvg));\n            insertBefore(ctx, parentElm, oldStartVnode, oldEndVnode.nextSibling);\n            oldStartVnode = oldCh[++oldStartIdx];\n            newEndVnode = newCh[--newEndIdx];\n        }\n        else if (sameVnode(oldEndVnode, newStartVnode)) {\n            // Vnode moved left\n            results.push(patchVnode(ctx, oldEndVnode, newStartVnode, isSvg));\n            insertBefore(ctx, parentElm, oldEndVnode, oldStartVnode);\n            oldEndVnode = oldCh[--oldEndIdx];\n            newStartVnode = newCh[++newStartIdx];\n        }\n        else {\n            if (oldKeyToIdx === undefined) {\n                oldKeyToIdx = createKeyToOldIdx(oldCh, oldStartIdx, oldEndIdx);\n            }\n            idxInOld = oldKeyToIdx[newStartVnode.key];\n            if (idxInOld === undefined) {\n                // New element\n                const newElm = createElm(ctx, newStartVnode, isSvg);\n                results.push(then(newElm, (newElm) => {\n                    insertBefore(ctx, parentElm, newElm, oldStartVnode);\n                }));\n            }\n            else {\n                elmToMove = oldCh[idxInOld];\n                if (elmToMove.nodeName !== newStartVnode.type) {\n                    const newElm = createElm(ctx, newStartVnode, isSvg);\n                    results.push(then(newElm, (newElm) => {\n                        insertBefore(ctx, parentElm, newElm, oldStartVnode);\n                    }));\n                }\n                else {\n                    results.push(patchVnode(ctx, elmToMove, newStartVnode, isSvg));\n                    oldCh[idxInOld] = undefined;\n                    insertBefore(ctx, parentElm, elmToMove, oldStartVnode);\n                }\n            }\n            newStartVnode = newCh[++newStartIdx];\n        }\n    }\n    if (newStartIdx <= newEndIdx) {\n        const before = newCh[newEndIdx + 1] == null ? undefined : newCh[newEndIdx + 1].elm;\n        results.push(addVnodes(ctx, parentElm, before, newCh, newStartIdx, newEndIdx, isSvg));\n    }\n    let wait = promiseAll(results);\n    if (oldStartIdx <= oldEndIdx) {\n        wait = then(wait, () => {\n            removeVnodes(ctx, parentElm, oldCh, oldStartIdx, oldEndIdx);\n        });\n    }\n    return wait;\n}\nfunction isComponentNode(node) {\n    return node.props && OnRenderProp in node.props;\n}\nfunction getCh(elm) {\n    return Array.from(elm.childNodes).filter(isNode);\n}\nexport function getChildren(elm, mode) {\n    switch (mode) {\n        case 'default':\n            return getCh(elm);\n        case 'slot':\n            return getCh(elm).filter(isChildSlot);\n        case 'root':\n            return getCh(elm).filter(isChildComponent);\n        case 'fallback':\n            return getCh(elm).filter(isFallback);\n    }\n}\nexport function isNode(elm) {\n    const type = elm.nodeType;\n    return type === 1 || type === 3 || type === 8;\n}\nfunction isFallback(node) {\n    return node.nodeName === 'Q:FALLBACK';\n}\nfunction isChildSlot(node) {\n    return node.nodeName !== 'Q:FALLBACK' && isChildComponent(node);\n}\nfunction isSlotTemplate(node) {\n    return node.nodeName === 'TEMPLATE' && node.hasAttribute(QSlotAttr);\n}\nfunction isChildComponent(node) {\n    return node.nodeName !== 'TEMPLATE' || !node.hasAttribute(QSlotAttr);\n}\nfunction splitBy(input, condition) {\n    const output = {};\n    for (const item of input) {\n        const key = condition(item);\n        const array = output[key] ?? (output[key] = []);\n        array.push(item);\n    }\n    return output;\n}\nexport function patchVnode(rctx, elm, vnode, isSvg) {\n    rctx.perf.visited++;\n    vnode.elm = elm;\n    const tag = vnode.type;\n    if (tag === '#text') {\n        if (elm.data !== vnode.text) {\n            setProperty(rctx, elm, 'data', vnode.text);\n        }\n        return;\n    }\n    if (tag === '#comment') {\n        if (elm.data !== vnode.text) {\n            setProperty(rctx, elm, 'data', vnode.text);\n        }\n        return;\n    }\n    if (tag === Host || tag === SkipRerender) {\n        return;\n    }\n    if (!isSvg) {\n        isSvg = tag === 'svg';\n    }\n    let promise;\n    const props = vnode.props;\n    const ctx = getContext(elm);\n    const dirty = updateProperties(rctx, ctx, props, isSvg);\n    const isSlot = tag === 'q:slot';\n    if (isSvg && vnode.type === 'foreignObject') {\n        isSvg = false;\n    }\n    else if (isSlot) {\n        rctx.component.slots.push(vnode);\n    }\n    const isComponent = isComponentNode(vnode);\n    if (dirty) {\n        promise = renderComponent(rctx, ctx);\n    }\n    const ch = vnode.children;\n    if (isComponent) {\n        return then(promise, () => {\n            const slotMaps = getSlots(ctx.component, elm);\n            const splittedChidren = splitBy(ch, getSlotName);\n            const promises = [];\n            // Mark empty slots and remove content\n            Object.entries(slotMaps.slots).forEach(([key, slotEl]) => {\n                if (slotEl && !splittedChidren[key]) {\n                    const oldCh = getChildren(slotEl, 'slot');\n                    if (oldCh.length > 0) {\n                        removeVnodes(rctx, slotEl, oldCh, 0, oldCh.length - 1);\n                    }\n                }\n            });\n            // Mark empty slots and remove content\n            Object.entries(slotMaps.templates).forEach(([key, templateEl]) => {\n                if (templateEl && !splittedChidren[key]) {\n                    removeNode(rctx, templateEl);\n                    slotMaps.templates[key] = undefined;\n                }\n            });\n            // Render into slots\n            Object.entries(splittedChidren).forEach(([key, ch]) => {\n                const slotElm = getSlotElement(rctx, slotMaps, elm, key);\n                promises.push(smartUpdateChildren(rctx, slotElm, ch, 'slot', isSvg));\n            });\n            return then(promiseAll(promises), () => {\n                removeTemplates(rctx, slotMaps);\n            });\n        });\n    }\n    const setsInnerHTML = checkInnerHTML(props);\n    if (setsInnerHTML) {\n        if (qDev && ch.length > 0) {\n            logWarn('Node can not have children when innerHTML is set');\n        }\n        return;\n    }\n    return then(promise, () => {\n        const mode = isSlot ? 'fallback' : 'default';\n        return smartUpdateChildren(rctx, elm, ch, mode, isSvg);\n    });\n}\nfunction addVnodes(ctx, parentElm, before, vnodes, startIdx, endIdx, isSvg) {\n    const promises = [];\n    for (; startIdx <= endIdx; ++startIdx) {\n        const ch = vnodes[startIdx];\n        assertDefined(ch);\n        promises.push(createElm(ctx, ch, isSvg));\n    }\n    return then(promiseAll(promises), (children) => {\n        for (const child of children) {\n            insertBefore(ctx, parentElm, child, before);\n        }\n    });\n}\nfunction removeVnodes(ctx, parentElm, nodes, startIdx, endIdx) {\n    for (; startIdx <= endIdx; ++startIdx) {\n        const ch = nodes[startIdx];\n        assertDefined(ch);\n        removeNode(ctx, ch);\n    }\n}\nlet refCount = 0;\nconst RefSymbol = Symbol();\nfunction setSlotRef(ctx, hostElm, slotEl) {\n    let ref = hostElm[RefSymbol] ?? hostElm.getAttribute('q:sref');\n    if (ref === null) {\n        ref = intToStr(refCount++);\n        hostElm[RefSymbol] = ref;\n        setAttribute(ctx, hostElm, 'q:sref', ref);\n    }\n    slotEl.setAttribute('q:sref', ref);\n}\nfunction getSlotElement(ctx, slotMaps, parentEl, slotName) {\n    const slotEl = slotMaps.slots[slotName];\n    if (slotEl) {\n        return slotEl;\n    }\n    const templateEl = slotMaps.templates[slotName];\n    if (templateEl) {\n        return templateEl.content;\n    }\n    const template = createTemplate(ctx, slotName);\n    prepend(ctx, parentEl, template);\n    slotMaps.templates[slotName] = template;\n    return template.content;\n}\nfunction createTemplate(ctx, slotName) {\n    const template = createElement(ctx, 'template', false);\n    template.setAttribute(QSlotAttr, slotName);\n    return template;\n}\nfunction removeTemplates(ctx, slotMaps) {\n    Object.keys(slotMaps.templates).forEach((key) => {\n        const template = slotMaps.templates[key];\n        if (template && slotMaps.slots[key] !== undefined) {\n            removeNode(ctx, template);\n            slotMaps.templates[key] = undefined;\n        }\n    });\n}\nexport function resolveSlotProjection(ctx, hostElm, before, after) {\n    Object.entries(before.slots).forEach(([key, slotEl]) => {\n        if (slotEl && !after.slots[key]) {\n            // Slot removed\n            // Move slot to template\n            const template = createTemplate(ctx, key);\n            const slotChildren = getChildren(slotEl, 'slot');\n            template.content.append(...slotChildren);\n            hostElm.insertBefore(template, hostElm.firstChild);\n            ctx.operations.push({\n                el: template,\n                operation: 'slot-to-template',\n                args: slotChildren,\n                fn: () => { },\n            });\n        }\n    });\n    Object.entries(after.slots).forEach(([key, slotEl]) => {\n        if (slotEl && !before.slots[key]) {\n            // Slot created\n            // Move template to slot\n            const template = before.templates[key];\n            if (template) {\n                slotEl.appendChild(template.content);\n                template.remove();\n                ctx.operations.push({\n                    el: slotEl,\n                    operation: 'template-to-slot',\n                    args: [template],\n                    fn: () => { },\n                });\n            }\n        }\n    });\n}\nfunction getSlotName(node) {\n    return node.props?.['q:slot'] ?? '';\n}\nfunction createElm(rctx, vnode, isSvg) {\n    rctx.perf.visited++;\n    const tag = vnode.type;\n    if (tag === '#text') {\n        return (vnode.elm = createTextNode(rctx, vnode.text));\n    }\n    if (tag === '#comment') {\n        return (vnode.elm = createCommentNode(rctx, vnode.text));\n    }\n    if (!isSvg) {\n        isSvg = tag === 'svg';\n    }\n    const props = vnode.props;\n    const elm = (vnode.elm = createElement(rctx, tag, isSvg));\n    const isComponent = isComponentNode(vnode);\n    const ctx = getContext(elm);\n    setKey(elm, vnode.key);\n    updateProperties(rctx, ctx, props, isSvg);\n    if (isSvg && tag === 'foreignObject') {\n        isSvg = false;\n    }\n    const currentComponent = rctx.component;\n    if (currentComponent) {\n        const styleTag = currentComponent.styleClass;\n        if (styleTag) {\n            classlistAdd(rctx, elm, styleTag);\n        }\n        if (tag === 'q:slot') {\n            setSlotRef(rctx, currentComponent.hostElement, elm);\n            rctx.component.slots.push(vnode);\n        }\n    }\n    let wait;\n    if (isComponent) {\n        // Run mount hook\n        const renderQRL = props[OnRenderProp];\n        ctx.renderQrl = renderQRL;\n        ctx.refMap.add(renderQRL);\n        wait = firstRenderComponent(rctx, ctx);\n    }\n    else {\n        const setsInnerHTML = checkInnerHTML(props);\n        if (setsInnerHTML) {\n            if (qDev && vnode.children.length > 0) {\n                logWarn('Node can not have children when innerHTML is set');\n            }\n            return elm;\n        }\n    }\n    return then(wait, () => {\n        let children = vnode.children;\n        if (children.length > 0) {\n            if (children.length === 1 && children[0].type === SkipRerender) {\n                children = children[0].children;\n            }\n            const slotMap = isComponent ? getSlots(ctx.component, elm) : undefined;\n            const promises = children.map((ch) => createElm(rctx, ch, isSvg));\n            return then(promiseAll(promises), () => {\n                let parent = elm;\n                for (const node of children) {\n                    if (slotMap) {\n                        parent = getSlotElement(rctx, slotMap, elm, getSlotName(node));\n                    }\n                    parent.appendChild(node.elm);\n                }\n                return elm;\n            });\n        }\n        return elm;\n    });\n}\nconst getSlots = (componentCtx, hostElm) => {\n    const slots = {};\n    const templates = {};\n    const slotRef = hostElm.getAttribute('q:sref');\n    const existingSlots = Array.from(hostElm.querySelectorAll(`q\\\\:slot[q\\\\:sref=\"${slotRef}\"]`));\n    const newSlots = componentCtx?.slots ?? EMPTY_ARRAY;\n    const t = Array.from(hostElm.children).filter(isSlotTemplate);\n    // Map slots\n    for (const elm of existingSlots) {\n        slots[elm.getAttribute('name') ?? ''] = elm;\n    }\n    // Map virtual slots\n    for (const vnode of newSlots) {\n        slots[vnode.props?.name ?? ''] = vnode.elm;\n    }\n    // Map templates\n    for (const elm of t) {\n        templates[elm.getAttribute('q:slot') ?? ''] = elm;\n    }\n    return { slots, templates };\n};\nconst handleStyle = (ctx, elm, _, newValue) => {\n    setAttribute(ctx, elm, 'style', stringifyClassOrStyle(newValue, false));\n    return true;\n};\nconst handleClass = (ctx, elm, _, newValue) => {\n    setAttribute(ctx, elm, 'class', stringifyClassOrStyle(newValue, true));\n    return true;\n};\nconst checkBeforeAssign = (ctx, elm, prop, newValue) => {\n    if (prop in elm) {\n        if (elm[prop] !== newValue) {\n            setProperty(ctx, elm, prop, newValue);\n        }\n    }\n    return true;\n};\nconst dangerouslySetInnerHTML = 'dangerouslySetInnerHTML';\nconst setInnerHTML = (ctx, elm, _, newValue) => {\n    if (dangerouslySetInnerHTML in elm) {\n        setProperty(ctx, elm, dangerouslySetInnerHTML, newValue);\n    }\n    else if ('innerHTML' in elm) {\n        setProperty(ctx, elm, 'innerHTML', newValue);\n    }\n    return true;\n};\nconst PROP_HANDLER_MAP = {\n    style: handleStyle,\n    class: handleClass,\n    className: handleClass,\n    value: checkBeforeAssign,\n    checked: checkBeforeAssign,\n    [dangerouslySetInnerHTML]: setInnerHTML,\n};\nconst ALLOWS_PROPS = ['class', 'className', 'style', 'id', 'q:slot'];\nconst HOST_PREFIX = 'host:';\nconst SCOPE_PREFIX = /^(host|window|document):/;\nexport function updateProperties(rctx, ctx, expectProps, isSvg) {\n    if (!expectProps) {\n        return false;\n    }\n    const elm = ctx.element;\n    const qwikProps = OnRenderProp in expectProps ? getProps(ctx) : undefined;\n    for (let key of Object.keys(expectProps)) {\n        if (key === 'children' || key === OnRenderProp) {\n            continue;\n        }\n        const newValue = expectProps[key];\n        if (key === 'ref') {\n            newValue.current = elm;\n            continue;\n        }\n        // Early exit if value didnt change\n        const oldValue = ctx.cache.get(key);\n        if (newValue === oldValue) {\n            continue;\n        }\n        ctx.cache.set(key, newValue);\n        // Check of data- or aria-\n        if (key.startsWith('data-') || key.startsWith('aria-')) {\n            setAttribute(rctx, elm, key, newValue);\n            continue;\n        }\n        if (qwikProps) {\n            const skipProperty = ALLOWS_PROPS.includes(key);\n            const hasPrefix = SCOPE_PREFIX.test(key);\n            if (!skipProperty && !hasPrefix) {\n                // Qwik props\n                qwikProps[key] = newValue;\n                continue;\n            }\n            const hPrefixed = key.startsWith(HOST_PREFIX);\n            if (hPrefixed) {\n                key = key.slice(HOST_PREFIX.length);\n            }\n        }\n        else if (qDev && key.startsWith(HOST_PREFIX)) {\n            logWarn(`${HOST_PREFIX} prefix can not be used in non components`);\n            continue;\n        }\n        if (isOnProp(key)) {\n            setEvent(rctx, ctx, key.slice(0, -3), newValue);\n            continue;\n        }\n        if (isOn$Prop(key)) {\n            setEvent(rctx, ctx, key.slice(0, -1), $(newValue));\n            continue;\n        }\n        // Check if its an exception\n        const exception = PROP_HANDLER_MAP[key];\n        if (exception) {\n            if (exception(rctx, elm, key, newValue, oldValue)) {\n                continue;\n            }\n        }\n        // Check if property in prototype\n        if (!isSvg && key in elm) {\n            setProperty(rctx, elm, key, newValue);\n            continue;\n        }\n        // Fallback to render attribute\n        setAttribute(rctx, elm, key, newValue);\n    }\n    return ctx.dirty;\n}\nexport const startEvent = (ctx, name) => {\n    const event = {\n        name,\n        timeStart: performance.now(),\n        timeEnd: 0,\n    };\n    ctx.perf.timing.push(event);\n    return () => {\n        event.timeEnd = performance.now();\n    };\n};\nexport function setAttribute(ctx, el, prop, value) {\n    const fn = () => {\n        if (value == null) {\n            el.removeAttribute(prop);\n        }\n        else {\n            el.setAttribute(prop, String(value));\n        }\n    };\n    ctx.operations.push({\n        el,\n        operation: 'set-attribute',\n        args: [prop, value],\n        fn,\n    });\n}\nexport function classlistAdd(ctx, el, hostStyleTag) {\n    const fn = () => {\n        el.classList.add(hostStyleTag);\n    };\n    ctx.operations.push({\n        el,\n        operation: 'classlist-add',\n        args: [hostStyleTag],\n        fn,\n    });\n}\nfunction setProperty(ctx, node, key, value) {\n    const fn = () => {\n        try {\n            node[key] = value;\n        }\n        catch (err) {\n            logError('Set property', { node, key, value }, err);\n        }\n    };\n    ctx.operations.push({\n        el: node,\n        operation: 'set-property',\n        args: [key, value],\n        fn,\n    });\n}\nfunction createElement(ctx, expectTag, isSvg) {\n    const el = isSvg ? ctx.doc.createElementNS(SVG_NS, expectTag) : ctx.doc.createElement(expectTag);\n    el[CONTAINER] = ctx.containerEl;\n    ctx.operations.push({\n        el,\n        operation: 'create-element',\n        args: [expectTag],\n        fn: () => { },\n    });\n    return el;\n}\nfunction insertBefore(ctx, parent, newChild, refChild) {\n    const fn = () => {\n        parent.insertBefore(newChild, refChild ? refChild : null);\n    };\n    ctx.operations.push({\n        el: parent,\n        operation: 'insert-before',\n        args: [newChild, refChild],\n        fn,\n    });\n    return newChild;\n}\nexport function appendStyle(ctx, hostElement, styleTask) {\n    const fn = () => {\n        const containerEl = ctx.containerEl;\n        const stylesParent = ctx.doc.documentElement === containerEl ? ctx.doc.head ?? containerEl : containerEl;\n        if (!stylesParent.querySelector(`style[q\\\\:style=\"${styleTask.styleId}\"]`)) {\n            const style = ctx.doc.createElement('style');\n            style.setAttribute('q:style', styleTask.styleId);\n            style.textContent = styleTask.content;\n            stylesParent.insertBefore(style, stylesParent.firstChild);\n        }\n    };\n    ctx.operations.push({\n        el: hostElement,\n        operation: 'append-style',\n        args: [styleTask],\n        fn,\n    });\n}\nfunction prepend(ctx, parent, newChild) {\n    const fn = () => {\n        parent.insertBefore(newChild, parent.firstChild);\n    };\n    ctx.operations.push({\n        el: parent,\n        operation: 'prepend',\n        args: [newChild],\n        fn,\n    });\n}\nfunction removeNode(ctx, el) {\n    const fn = () => {\n        const parent = el.parentNode;\n        if (parent) {\n            if (el.nodeType === 1) {\n                cleanupElement(el);\n                el.querySelectorAll(QObjSelector).forEach(cleanupElement);\n            }\n            parent.removeChild(el);\n        }\n        else if (qDev) {\n            logWarn('Trying to remove component already removed', el);\n        }\n    };\n    ctx.operations.push({\n        el: el,\n        operation: 'remove',\n        args: [],\n        fn,\n    });\n}\nfunction cleanupElement(el) {\n    const ctx = tryGetContext(el);\n    if (ctx) {\n        cleanupContext(ctx);\n    }\n}\nfunction createTextNode(ctx, text) {\n    return ctx.doc.createTextNode(text);\n}\nfunction createCommentNode(ctx, text) {\n    return ctx.doc.createComment(text);\n}\nexport function executeContextWithSlots(ctx) {\n    const before = ctx.roots.map((elm) => getSlots(undefined, elm));\n    executeContext(ctx);\n    const after = ctx.roots.map((elm) => getSlots(undefined, elm));\n    assertEqual(before.length, after.length);\n    for (let i = 0; i < before.length; i++) {\n        resolveSlotProjection(ctx, ctx.roots[i], before[i], after[i]);\n    }\n}\nexport function executeContext(ctx) {\n    for (const op of ctx.operations) {\n        op.fn();\n    }\n}\nexport function printRenderStats(ctx) {\n    const byOp = {};\n    for (const op of ctx.operations) {\n        byOp[op.operation] = (byOp[op.operation] ?? 0) + 1;\n    }\n    const affectedElements = Array.from(new Set(ctx.operations.map((a) => a.el)));\n    const stats = {\n        byOp,\n        roots: ctx.roots,\n        hostElements: Array.from(ctx.hostElements),\n        affectedElements,\n        visitedNodes: ctx.perf.visited,\n        operations: ctx.operations.map((v) => [v.operation, v.el, ...v.args]),\n    };\n    logDebug('Render stats', stats);\n    return stats;\n}\nfunction createKeyToOldIdx(children, beginIdx, endIdx) {\n    const map = {};\n    for (let i = beginIdx; i <= endIdx; ++i) {\n        const child = children[i];\n        if (child.nodeType == NodeType.ELEMENT_NODE) {\n            const key = getKey(child);\n            if (key !== undefined) {\n                map[key] = i;\n            }\n        }\n    }\n    return map;\n}\nconst KEY_SYMBOL = Symbol('vnode key');\nfunction getKey(el) {\n    let key = el[KEY_SYMBOL];\n    if (key === undefined) {\n        key = el[KEY_SYMBOL] = el.getAttribute('q:key');\n    }\n    return key;\n}\nfunction setKey(el, key) {\n    if (typeof key === 'string') {\n        el.setAttribute('q:key', key);\n    }\n    el[KEY_SYMBOL] = key;\n}\nfunction sameVnode(vnode1, vnode2) {\n    const isSameSel = vnode1.nodeName.toLowerCase() === vnode2.type;\n    const isSameKey = vnode1.nodeType === NodeType.ELEMENT_NODE ? getKey(vnode1) === vnode2.key : true;\n    return isSameSel && isSameKey;\n}\nfunction checkInnerHTML(props) {\n    return props && ('innerHTML' in props || dangerouslySetInnerHTML in props);\n}\nexport function stringifyClassOrStyle(obj, isClass) {\n    if (obj == null)\n        return '';\n    if (typeof obj == 'object') {\n        let text = '';\n        let sep = '';\n        if (Array.isArray(obj)) {\n            if (!isClass) {\n                throw qError(QError.Render_unsupportedFormat_obj_attr, obj, 'style');\n            }\n            for (let i = 0; i < obj.length; i++) {\n                text += sep + obj[i];\n                sep = ' ';\n            }\n        }\n        else {\n            for (const key in obj) {\n                if (Object.prototype.hasOwnProperty.call(obj, key)) {\n                    const value = obj[key];\n                    if (value) {\n                        text += isClass\n                            ? value\n                                ? sep + key\n                                : ''\n                            : sep + fromCamelToKebabCase(key) + ':' + value;\n                        sep = isClass ? ' ' : ';';\n                    }\n                }\n            }\n        }\n        return text;\n    }\n    return String(obj);\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY3Vyc29yLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3JlbmRlci9jdXJzb3IudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFlBQVksRUFBRSxZQUFZLEVBQUUsU0FBUyxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDeEUsT0FBTyxFQUNMLGNBQWMsRUFFZCxVQUFVLEVBQ1YsUUFBUSxFQUVSLFFBQVEsRUFDUixhQUFhLEdBQ2QsTUFBTSxnQkFBZ0IsQ0FBQztBQUN4QixPQUFPLEVBQUUsU0FBUyxFQUFFLFFBQVEsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBR3hELE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSwyQkFBMkIsQ0FBQztBQUNqRCxPQUFPLEVBQUUsQ0FBQyxFQUFPLE1BQU0sc0JBQXNCLENBQUM7QUFDOUMsT0FBTyxFQUFFLG9CQUFvQixFQUFFLGVBQWUsRUFBRSxNQUFNLDRCQUE0QixDQUFDO0FBQ25GLE9BQU8sRUFBRSxVQUFVLEVBQUUsSUFBSSxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFFcEQsT0FBTyxFQUFFLGFBQWEsRUFBRSxXQUFXLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUM5RCxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ3pDLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUMzQyxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFDaEQsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBQ2pELE9BQU8sRUFBRSxRQUFRLEVBQUUsUUFBUSxFQUFFLE9BQU8sRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUMxRCxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sY0FBYyxDQUFDO0FBQ3BDLE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFD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QyxDQUFDLENBQUMsR0FBRyxDQUFDO3FCQUMzQjtpQkFDRjthQUNGO1NBQ0Y7UUFDRCxPQUFPLElBQUksQ0FBQztLQUNiO0lBQ0QsT0FBTyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDckIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE9uUmVuZGVyUHJvcCwgUU9ialNlbGVjdG9yLCBRU2xvdEF0dHIgfSBmcm9tICcuLi91dGlsL21hcmtlcnMnO1xuaW1wb3J0IHtcbiAgY2xlYW51cENvbnRleHQsXG4gIENvbXBvbmVudEN0eCxcbiAgZ2V0Q29udGV4dCxcbiAgZ2V0UHJvcHMsXG4gIFFDb250ZXh0LFxuICBzZXRFdmVudCxcbiAgdHJ5R2V0Q29udGV4dCxcbn0gZnJvbSAnLi4vcHJvcHMvcHJvcHMnO1xuaW1wb3J0IHsgaXNPbiRQcm9wLCBpc09uUHJvcCB9IGZyb20gJy4uL3Byb3BzL3Byb3BzLW9uJztcbmltcG9ydCB0eXBlIHsgVmFsdWVPclByb21pc2UgfSBmcm9tICcuLi91dGlsL3R5cGVzJztcbmltcG9ydCB0eXBlIHsgSlNYTm9kZSB9IGZyb20gJy4uL3JlbmRlci9qc3gvdHlwZXMvanN4LW5vZGUnO1xuaW1wb3J0IHsgSG9zdCB9IGZyb20gJy4uL3JlbmRlci9qc3gvaG9zdC5wdWJsaWMnO1xuaW1wb3J0IHsgJCwgUVJMIH0gZnJvbSAnLi4vaW1wb3J0L3FybC5wdWJsaWMnO1xuaW1wb3J0IHsgZmlyc3RSZW5kZXJDb21wb25lbnQsIHJlbmRlckNvbXBvbmVudCB9IGZyb20gJy4uL2NvbXBvbmVudC9jb21wb25lbnQtY3R4JztcbmltcG9ydCB7IHByb21pc2VBbGwsIHRoZW4gfSBmcm9tICcuLi91dGlsL3Byb21pc2VzJztcbmltcG9ydCB0eXBlIHsgUmVuZGVyaW5nU3RhdGUgfSBmcm9tICcuL25vdGlmeS1yZW5kZXInO1xuaW1wb3J0IHsgYXNzZXJ0RGVmaW5lZCwgYXNzZXJ0RXF1YWwgfSBmcm9tICcuLi9hc3NlcnQvYXNzZXJ0JztcbmltcG9ydCB7IE5vZGVUeXBlIH0gZnJvbSAnLi4vdXRpbC90eXBlcyc7XG5pbXBvcnQgeyBpbnRUb1N0ciB9IGZyb20gJy4uL29iamVjdC9zdG9yZSc7XG5pbXBvcnQgeyBFTVBUWV9BUlJBWSB9IGZyb20gJy4uL3V0aWwvZmx5d2VpZ2h0JztcbmltcG9ydCB7IFNraXBSZXJlbmRlciB9IGZyb20gJy4vanN4L2hvc3QucHVibGljJztcbmltcG9ydCB7IGxvZ0RlYnVnLCBsb2dFcnJvciwgbG9nV2FybiB9IGZyb20gJy4uL3V0aWwvbG9nJztcbmltcG9ydCB7IHFEZXYgfSBmcm9tICcuLi91dGlsL3FkZXYnO1xuaW1wb3J0IHsgcUVycm9yLCBRRXJyb3IgfSBmcm9tICcuLi9lcnJvci9lcnJvcic7XG5pbXBvcnQgeyBmcm9tQ2FtZWxUb0tlYmFiQ2FzZSB9IGZyb20gJy4uL3V0aWwvY2FzZSc7XG5pbXBvcnQgdHlwZSB7IE9uUmVuZGVyRm4gfSBmcm9tICcuLi9jb21wb25lbnQvY29tcG9uZW50LnB1YmxpYyc7XG5pbXBvcnQgeyBDT05UQUlORVIsIFN0eWxlQXBwZW5kIH0gZnJvbSAnLi4vdXNlL3VzZS1jb3JlJztcbmltcG9ydCB0eXBlIHsgUmVmIH0gZnJvbSAnLi4vdXNlL3VzZS1zdG9yZS5wdWJsaWMnO1xuXG5leHBvcnQgY29uc3QgU1ZHX05TID0gJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJztcblxudHlwZSBLZXlUb0luZGV4TWFwID0geyBba2V5OiBzdHJpbmddOiBudW1iZXIgfTtcblxudHlwZSBQcm9wSGFuZGxlciA9IChcbiAgY3R4OiBSZW5kZXJDb250ZXh0LFxuICBlbDogSFRNTEVsZW1lbnQsXG4gIGtleTogc3RyaW5nLFxuICBuZXdWYWx1ZTogYW55LFxuICBvbGRWYWx1ZTogYW55XG4pID0+IGJvb2xlYW47XG5cbi8qKlxuICogQGFscGhhXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVuZGVyT3BlcmF0aW9uIHtcbiAgZWw6IE5vZGU7XG4gIG9wZXJhdGlvbjogc3RyaW5nO1xuICBhcmdzOiBhbnlbXTtcbiAgZm46ICgpID0+IHZvaWQ7XG59XG5cbmV4cG9ydCB0eXBlIENoaWxkcmVuTW9kZSA9ICdyb290JyB8ICdzbG90JyB8ICdmYWxsYmFjaycgfCAnZGVmYXVsdCc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVuZGVyUGVyZiB7XG4gIHRpbWluZzogUGVyZkV2ZW50W107XG4gIHZpc2l0ZWQ6IG51bWJlcjtcbn1cblxuLyoqXG4gKiBAYWxwaGFcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZW5kZXJDb250ZXh0IHtcbiAgZG9jOiBEb2N1bWVudDtcbiAgcm9vdHM6IEVsZW1lbnRbXTtcbiAgaG9zdEVsZW1lbnRzOiBTZXQ8RWxlbWVudD47XG4gIG9wZXJhdGlvbnM6IFJlbmRlck9wZXJhdGlvbltdO1xuICBjb21wb25lbnQ6IENvbXBvbmVudEN0eCB8IHVuZGVmaW5lZDtcbiAgZ2xvYmFsU3RhdGU6IFJlbmRlcmluZ1N0YXRlO1xuICBjb250YWluZXJFbDogRWxlbWVudDtcbiAgcGVyZjogUmVuZGVyUGVyZjtcbn1cblxuLyoqXG4gKiBAYWxwaGFcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQZXJmRXZlbnQge1xuICBuYW1lOiBzdHJpbmc7XG4gIHRpbWVTdGFydDogbnVtYmVyO1xuICB0aW1lRW5kOiBudW1iZXI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzbWFydFVwZGF0ZUNoaWxkcmVuKFxuICBjdHg6IFJlbmRlckNvbnRleHQsXG4gIGVsbTogTm9kZSxcbiAgY2g6IEpTWE5vZGVbXSxcbiAgbW9kZTogQ2hpbGRyZW5Nb2RlLFxuICBpc1N2ZzogYm9vbGVhblxuKSB7XG4gIGlmIChjaC5sZW5ndGggPT09IDEgJiYgY2hbMF0udHlwZSA9PT0gU2tpcFJlcmVuZGVyKSB7XG4gICAgaWYgKGVsbS5maXJzdENoaWxkICE9PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNoID0gY2hbMF0uY2hpbGRyZW47XG4gIH1cbiAgY29uc3Qgb2xkQ2ggPSBnZXRDaGlsZHJlbihlbG0sIG1vZGUpO1xuXG4gIGlmIChvbGRDaC5sZW5ndGggPiAwICYmIGNoLmxlbmd0aCA+IDApIHtcbiAgICByZXR1cm4gdXBkYXRlQ2hpbGRyZW4oY3R4LCBlbG0sIG9sZENoLCBjaCwgaXNTdmcpO1xuICB9IGVsc2UgaWYgKGNoLmxlbmd0aCA+IDApIHtcbiAgICByZXR1cm4gYWRkVm5vZGVzKGN0eCwgZWxtLCB1bmRlZmluZWQsIGNoLCAwLCBjaC5sZW5ndGggLSAxLCBpc1N2Zyk7XG4gIH0gZWxzZSBpZiAob2xkQ2gubGVuZ3RoID4gMCkge1xuICAgIHJldHVybiByZW1vdmVWbm9kZXMoY3R4LCBlbG0sIG9sZENoLCAwLCBvbGRDaC5sZW5ndGggLSAxKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlQ2hpbGRyZW4oXG4gIGN0eDogUmVuZGVyQ29udGV4dCxcbiAgcGFyZW50RWxtOiBOb2RlLFxuICBvbGRDaDogTm9kZVtdLFxuICBuZXdDaDogSlNYTm9kZVtdLFxuICBpc1N2ZzogYm9vbGVhblxuKTogVmFsdWVPclByb21pc2U8dm9pZD4ge1xuICBsZXQgb2xkU3RhcnRJZHggPSAwO1xuICBsZXQgbmV3U3RhcnRJZHggPSAwO1xuICBsZXQgb2xkRW5kSWR4ID0gb2xkQ2gubGVuZ3RoIC0gMTtcbiAgbGV0IG9sZFN0YXJ0Vm5vZGUgPSBvbGRDaFswXTtcbiAgbGV0IG9sZEVuZFZub2RlID0gb2xkQ2hbb2xkRW5kSWR4XTtcbiAgbGV0IG5ld0VuZElkeCA9IG5ld0NoLmxlbmd0aCAtIDE7XG4gIGxldCBuZXdTdGFydFZub2RlID0gbmV3Q2hbMF07XG4gIGxldCBuZXdFbmRWbm9kZSA9IG5ld0NoW25ld0VuZElkeF07XG4gIGxldCBvbGRLZXlUb0lkeDogS2V5VG9JbmRleE1hcCB8IHVuZGVmaW5lZDtcbiAgbGV0IGlkeEluT2xkOiBudW1iZXI7XG4gIGxldCBlbG1Ub01vdmU6IE5vZGU7XG4gIGNvbnN0IHJlc3VsdHMgPSBbXTtcblxuICB3aGlsZSAob2xkU3RhcnRJZHggPD0gb2xkRW5kSWR4ICYmIG5ld1N0YXJ0SWR4IDw9IG5ld0VuZElkeCkge1xuICAgIGlmIChvbGRTdGFydFZub2RlID09IG51bGwpIHtcbiAgICAgIG9sZFN0YXJ0Vm5vZGUgPSBvbGRDaFsrK29sZFN0YXJ0SWR4XTsgLy8gVm5vZGUgbWlnaHQgaGF2ZSBiZWVuIG1vdmVkIGxlZnRcbiAgICB9IGVsc2UgaWYgKG9sZEVuZFZub2RlID09IG51bGwpIHtcbiAgICAgIG9sZEVuZFZub2RlID0gb2xkQ2hbLS1vbGRFbmRJZHhdO1xuICAgIH0gZWxzZSBpZiAobmV3U3RhcnRWbm9kZSA9PSBudWxsKSB7XG4gICAgICBuZXdTdGFydFZub2RlID0gbmV3Q2hbKytuZXdTdGFydElkeF07XG4gICAgfSBlbHNlIGlmIChuZXdFbmRWbm9kZSA9PSBudWxsKSB7XG4gICAgICBuZXdFbmRWbm9kZSA9IG5ld0NoWy0tbmV3RW5kSWR4XTtcbiAgICB9IGVsc2UgaWYgKHNhbWVWbm9kZShvbGRTdGFydFZub2RlLCBuZXdTdGFydFZub2RlKSkge1xuICAgICAgcmVzdWx0cy5wdXNoKHBhdGNoVm5vZGUoY3R4LCBvbGRTdGFydFZub2RlLCBuZXdTdGFydFZub2RlLCBpc1N2ZykpO1xuICAgICAgb2xkU3RhcnRWbm9kZSA9IG9sZENoWysrb2xkU3RhcnRJZHhdO1xuICAgICAgbmV3U3RhcnRWbm9kZSA9IG5ld0NoWysrbmV3U3RhcnRJZHhdO1xuICAgIH0gZWxzZSBpZiAoc2FtZVZub2RlKG9sZEVuZFZub2RlLCBuZXdFbmRWbm9kZSkpIHtcbiAgICAgIHJlc3VsdHMucHVzaChwYXRjaFZub2RlKGN0eCwgb2xkRW5kVm5vZGUsIG5ld0VuZFZub2RlLCBpc1N2ZykpO1xuICAgICAgb2xkRW5kVm5vZGUgPSBvbGRDaFstLW9sZEVuZElkeF07XG4gICAgICBuZXdFbmRWbm9kZSA9IG5ld0NoWy0tbmV3RW5kSWR4XTtcbiAgICB9IGVsc2UgaWYgKHNhbWVWbm9kZShvbGRTdGFydFZub2RlLCBuZXdFbmRWbm9kZSkpIHtcbiAgICAgIC8vIFZub2RlIG1vdmVkIHJpZ2h0XG4gICAgICByZXN1bHRzLnB1c2gocGF0Y2hWbm9kZShjdHgsIG9sZFN0YXJ0Vm5vZGUsIG5ld0VuZFZub2RlLCBpc1N2ZykpO1xuXG4gICAgICBpbnNlcnRCZWZvcmUoY3R4LCBwYXJlbnRFbG0sIG9sZFN0YXJ0Vm5vZGUsIG9sZEVuZFZub2RlLm5leHRTaWJsaW5nKTtcbiAgICAgIG9sZFN0YXJ0Vm5vZGUgPSBvbGRDaFsrK29sZFN0YXJ0SWR4XTtcbiAgICAgIG5ld0VuZFZub2RlID0gbmV3Q2hbLS1uZXdFbmRJZHhdO1xuICAgIH0gZWxzZSBpZiAoc2FtZVZub2RlKG9sZEVuZFZub2RlLCBuZXdTdGFydFZub2RlKSkge1xuICAgICAgLy8gVm5vZGUgbW92ZWQgbGVmdFxuICAgICAgcmVzdWx0cy5wdXNoKHBhdGNoVm5vZGUoY3R4LCBvbGRFbmRWbm9kZSwgbmV3U3RhcnRWbm9kZSwgaXNTdmcpKTtcblxuICAgICAgaW5zZXJ0QmVmb3JlKGN0eCwgcGFyZW50RWxtLCBvbGRFbmRWbm9kZSwgb2xkU3RhcnRWbm9kZSk7XG4gICAgICBvbGRFbmRWbm9kZSA9IG9sZENoWy0tb2xkRW5kSWR4XTtcbiAgICAgIG5ld1N0YXJ0Vm5vZGUgPSBuZXdDaFsrK25ld1N0YXJ0SWR4XTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKG9sZEtleVRvSWR4ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgb2xkS2V5VG9JZHggPSBjcmVhdGVLZXlUb09sZElkeChvbGRDaCwgb2xkU3RhcnRJZHgsIG9sZEVuZElkeCk7XG4gICAgICB9XG4gICAgICBpZHhJbk9sZCA9IG9sZEtleVRvSWR4W25ld1N0YXJ0Vm5vZGUua2V5IGFzIHN0cmluZ107XG4gICAgICBpZiAoaWR4SW5PbGQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvLyBOZXcgZWxlbWVudFxuICAgICAgICBjb25zdCBuZXdFbG0gPSBjcmVhdGVFbG0oY3R4LCBuZXdTdGFydFZub2RlLCBpc1N2Zyk7XG4gICAgICAgIHJlc3VsdHMucHVzaChcbiAgICAgICAgICB0aGVuKG5ld0VsbSwgKG5ld0VsbSkgPT4ge1xuICAgICAgICAgICAgaW5zZXJ0QmVmb3JlKGN0eCwgcGFyZW50RWxtLCBuZXdFbG0sIG9sZFN0YXJ0Vm5vZGUpO1xuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbG1Ub01vdmUgPSBvbGRDaFtpZHhJbk9sZF07XG4gICAgICAgIGlmIChlbG1Ub01vdmUubm9kZU5hbWUgIT09IG5ld1N0YXJ0Vm5vZGUudHlwZSkge1xuICAgICAgICAgIGNvbnN0IG5ld0VsbSA9IGNyZWF0ZUVsbShjdHgsIG5ld1N0YXJ0Vm5vZGUsIGlzU3ZnKTtcbiAgICAgICAgICByZXN1bHRzLnB1c2goXG4gICAgICAgICAgICB0aGVuKG5ld0VsbSwgKG5ld0VsbSkgPT4ge1xuICAgICAgICAgICAgICBpbnNlcnRCZWZvcmUoY3R4LCBwYXJlbnRFbG0sIG5ld0VsbSwgb2xkU3RhcnRWbm9kZSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzdWx0cy5wdXNoKHBhdGNoVm5vZGUoY3R4LCBlbG1Ub01vdmUsIG5ld1N0YXJ0Vm5vZGUsIGlzU3ZnKSk7XG4gICAgICAgICAgb2xkQ2hbaWR4SW5PbGRdID0gdW5kZWZpbmVkIGFzIGFueTtcbiAgICAgICAgICBpbnNlcnRCZWZvcmUoY3R4LCBwYXJlbnRFbG0sIGVsbVRvTW92ZSwgb2xkU3RhcnRWbm9kZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG5ld1N0YXJ0Vm5vZGUgPSBuZXdDaFsrK25ld1N0YXJ0SWR4XTtcbiAgICB9XG4gIH1cblxuICBpZiAobmV3U3RhcnRJZHggPD0gbmV3RW5kSWR4KSB7XG4gICAgY29uc3QgYmVmb3JlID0gbmV3Q2hbbmV3RW5kSWR4ICsgMV0gPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG5ld0NoW25ld0VuZElkeCArIDFdLmVsbTtcbiAgICByZXN1bHRzLnB1c2goYWRkVm5vZGVzKGN0eCwgcGFyZW50RWxtLCBiZWZvcmUsIG5ld0NoLCBuZXdTdGFydElkeCwgbmV3RW5kSWR4LCBpc1N2ZykpO1xuICB9XG5cbiAgbGV0IHdhaXQgPSBwcm9taXNlQWxsKHJlc3VsdHMpIGFzIGFueTtcbiAgaWYgKG9sZFN0YXJ0SWR4IDw9IG9sZEVuZElkeCkge1xuICAgIHdhaXQgPSB0aGVuKHdhaXQsICgpID0+IHtcbiAgICAgIHJlbW92ZVZub2RlcyhjdHgsIHBhcmVudEVsbSwgb2xkQ2gsIG9sZFN0YXJ0SWR4LCBvbGRFbmRJZHgpO1xuICAgIH0pO1xuICB9XG4gIHJldHVybiB3YWl0O1xufVxuXG5mdW5jdGlvbiBpc0NvbXBvbmVudE5vZGUobm9kZTogSlNYTm9kZSkge1xuICByZXR1cm4gbm9kZS5wcm9wcyAmJiBPblJlbmRlclByb3AgaW4gbm9kZS5wcm9wcztcbn1cblxuZnVuY3Rpb24gZ2V0Q2goZWxtOiBOb2RlKSB7XG4gIHJldHVybiBBcnJheS5mcm9tKGVsbS5jaGlsZE5vZGVzKS5maWx0ZXIoaXNOb2RlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldENoaWxkcmVuKGVsbTogTm9kZSwgbW9kZTogQ2hpbGRyZW5Nb2RlKTogTm9kZVtdIHtcbiAgc3dpdGNoIChtb2RlKSB7XG4gICAgY2FzZSAnZGVmYXVsdCc6XG4gICAgICByZXR1cm4gZ2V0Q2goZWxtKTtcbiAgICBjYXNlICdzbG90JzpcbiAgICAgIHJldHVybiBnZXRDaChlbG0pLmZpbHRlcihpc0NoaWxkU2xvdCk7XG4gICAgY2FzZSAncm9vdCc6XG4gICAgICByZXR1cm4gZ2V0Q2goZWxtKS5maWx0ZXIoaXNDaGlsZENvbXBvbmVudCk7XG4gICAgY2FzZSAnZmFsbGJhY2snOlxuICAgICAgcmV0dXJuIGdldENoKGVsbSkuZmlsdGVyKGlzRmFsbGJhY2spO1xuICB9XG59XG5leHBvcnQgZnVuY3Rpb24gaXNOb2RlKGVsbTogTm9kZSk6IGJvb2xlYW4ge1xuICBjb25zdCB0eXBlID0gZWxtLm5vZGVUeXBlO1xuICByZXR1cm4gdHlwZSA9PT0gMSB8fCB0eXBlID09PSAzIHx8IHR5cGUgPT09IDg7XG59XG5cbmZ1bmN0aW9uIGlzRmFsbGJhY2sobm9kZTogTm9kZSk6IGJvb2xlYW4ge1xuICByZXR1cm4gbm9kZS5ub2RlTmFtZSA9PT0gJ1E6RkFMTEJBQ0snO1xufVxuXG5mdW5jdGlvbiBpc0NoaWxkU2xvdChub2RlOiBOb2RlKSB7XG4gIHJldHVybiBub2RlLm5vZGVOYW1lICE9PSAnUTpGQUxMQkFDSycgJiYgaXNDaGlsZENvbXBvbmVudChub2RlKTtcbn1cblxuZnVuY3Rpb24gaXNTbG90VGVtcGxhdGUobm9kZTogTm9kZSk6IG5vZGUgaXMgSFRNTFRlbXBsYXRlRWxlbWVudCB7XG4gIHJldHVybiBub2RlLm5vZGVOYW1lID09PSAnVEVNUExBVEUnICYmIChub2RlIGFzIEVsZW1lbnQpLmhhc0F0dHJpYnV0ZShRU2xvdEF0dHIpO1xufVxuXG5mdW5jdGlvbiBpc0NoaWxkQ29tcG9uZW50KG5vZGU6IE5vZGUpOiBib29sZWFuIHtcbiAgcmV0dXJuIG5vZGUubm9kZU5hbWUgIT09ICdURU1QTEFURScgfHwgIShub2RlIGFzIEVsZW1lbnQpLmhhc0F0dHJpYnV0ZShRU2xvdEF0dHIpO1xufVxuXG5mdW5jdGlvbiBzcGxpdEJ5PFQ+KGlucHV0OiBUW10sIGNvbmRpdGlvbjogKGl0ZW06IFQpID0+IHN0cmluZyk6IFJlY29yZDxzdHJpbmcsIFRbXT4ge1xuICBjb25zdCBvdXRwdXQ6IFJlY29yZDxzdHJpbmcsIFRbXT4gPSB7fTtcbiAgZm9yIChjb25zdCBpdGVtIG9mIGlucHV0KSB7XG4gICAgY29uc3Qga2V5ID0gY29uZGl0aW9uKGl0ZW0pO1xuICAgIGNvbnN0IGFycmF5ID0gb3V0cHV0W2tleV0gPz8gKG91dHB1dFtrZXldID0gW10pO1xuICAgIGFycmF5LnB1c2goaXRlbSk7XG4gIH1cbiAgcmV0dXJuIG91dHB1dDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhdGNoVm5vZGUoXG4gIHJjdHg6IFJlbmRlckNvbnRleHQsXG4gIGVsbTogTm9kZSxcbiAgdm5vZGU6IEpTWE5vZGU8YW55PixcbiAgaXNTdmc6IGJvb2xlYW5cbik6IFZhbHVlT3JQcm9taXNlPHZvaWQ+IHtcbiAgcmN0eC5wZXJmLnZpc2l0ZWQrKztcbiAgdm5vZGUuZWxtID0gZWxtO1xuICBjb25zdCB0YWcgPSB2bm9kZS50eXBlO1xuICBpZiAodGFnID09PSAnI3RleHQnKSB7XG4gICAgaWYgKChlbG0gYXMgVGV4dCkuZGF0YSAhPT0gdm5vZGUudGV4dCkge1xuICAgICAgc2V0UHJvcGVydHkocmN0eCwgZWxtLCAnZGF0YScsIHZub2RlLnRleHQpO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKHRhZyA9PT0gJyNjb21tZW50Jykge1xuICAgIGlmICgoZWxtIGFzIENvbW1lbnQpLmRhdGEgIT09IHZub2RlLnRleHQpIHtcbiAgICAgIHNldFByb3BlcnR5KHJjdHgsIGVsbSwgJ2RhdGEnLCB2bm9kZS50ZXh0KTtcbiAgICB9XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKHRhZyA9PT0gSG9zdCB8fCB0YWcgPT09IFNraXBSZXJlbmRlcikge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmICghaXNTdmcpIHtcbiAgICBpc1N2ZyA9IHRhZyA9PT0gJ3N2Zyc7XG4gIH1cblxuICBsZXQgcHJvbWlzZTogVmFsdWVPclByb21pc2U8dm9pZD47XG4gIGNvbnN0IHByb3BzID0gdm5vZGUucHJvcHM7XG4gIGNvbnN0IGN0eCA9IGdldENvbnRleHQoZWxtIGFzIEVsZW1lbnQpO1xuICBjb25zdCBkaXJ0eSA9IHVwZGF0ZVByb3BlcnRpZXMocmN0eCwgY3R4LCBwcm9wcywgaXNTdmcpO1xuICBjb25zdCBpc1Nsb3QgPSB0YWcgPT09ICdxOnNsb3QnO1xuICBpZiAoaXNTdmcgJiYgdm5vZGUudHlwZSA9PT0gJ2ZvcmVpZ25PYmplY3QnKSB7XG4gICAgaXNTdmcgPSBmYWxzZTtcbiAgfSBlbHNlIGlmIChpc1Nsb3QpIHtcbiAgICByY3R4LmNvbXBvbmVudCEuc2xvdHMucHVzaCh2bm9kZSk7XG4gIH1cbiAgY29uc3QgaXNDb21wb25lbnQgPSBpc0NvbXBvbmVudE5vZGUodm5vZGUpO1xuICBpZiAoZGlydHkpIHtcbiAgICBwcm9taXNlID0gcmVuZGVyQ29tcG9uZW50KHJjdHgsIGN0eCk7XG4gIH1cbiAgY29uc3QgY2ggPSB2bm9kZS5jaGlsZHJlbjtcbiAgaWYgKGlzQ29tcG9uZW50KSB7XG4gICAgcmV0dXJuIHRoZW4ocHJvbWlzZSwgKCkgPT4ge1xuICAgICAgY29uc3Qgc2xvdE1hcHMgPSBnZXRTbG90cyhjdHguY29tcG9uZW50LCBlbG0gYXMgRWxlbWVudCk7XG4gICAgICBjb25zdCBzcGxpdHRlZENoaWRyZW4gPSBzcGxpdEJ5KGNoLCBnZXRTbG90TmFtZSk7XG4gICAgICBjb25zdCBwcm9taXNlczogVmFsdWVPclByb21pc2U8dm9pZD5bXSA9IFtdO1xuXG4gICAgICAvLyBNYXJrIGVtcHR5IHNsb3RzIGFuZCByZW1vdmUgY29udGVudFxuICAgICAgT2JqZWN0LmVudHJpZXMoc2xvdE1hcHMuc2xvdHMpLmZvckVhY2goKFtrZXksIHNsb3RFbF0pID0+IHtcbiAgICAgICAgaWYgKHNsb3RFbCAmJiAhc3BsaXR0ZWRDaGlkcmVuW2tleV0pIHtcbiAgICAgICAgICBjb25zdCBvbGRDaCA9IGdldENoaWxkcmVuKHNsb3RFbCwgJ3Nsb3QnKTtcbiAgICAgICAgICBpZiAob2xkQ2gubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmVtb3ZlVm5vZGVzKHJjdHgsIHNsb3RFbCwgb2xkQ2gsIDAsIG9sZENoLmxlbmd0aCAtIDEpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIC8vIE1hcmsgZW1wdHkgc2xvdHMgYW5kIHJlbW92ZSBjb250ZW50XG4gICAgICBPYmplY3QuZW50cmllcyhzbG90TWFwcy50ZW1wbGF0ZXMpLmZvckVhY2goKFtrZXksIHRlbXBsYXRlRWxdKSA9PiB7XG4gICAgICAgIGlmICh0ZW1wbGF0ZUVsICYmICFzcGxpdHRlZENoaWRyZW5ba2V5XSkge1xuICAgICAgICAgIHJlbW92ZU5vZGUocmN0eCwgdGVtcGxhdGVFbCk7XG4gICAgICAgICAgc2xvdE1hcHMudGVtcGxhdGVzW2tleV0gPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICAvLyBSZW5kZXIgaW50byBzbG90c1xuICAgICAgT2JqZWN0LmVudHJpZXMoc3BsaXR0ZWRDaGlkcmVuKS5mb3JFYWNoKChba2V5LCBjaF0pID0+IHtcbiAgICAgICAgY29uc3Qgc2xvdEVsbSA9IGdldFNsb3RFbGVtZW50KHJjdHgsIHNsb3RNYXBzLCBlbG0gYXMgRWxlbWVudCwga2V5KTtcbiAgICAgICAgcHJvbWlzZXMucHVzaChzbWFydFVwZGF0ZUNoaWxkcmVuKHJjdHgsIHNsb3RFbG0sIGNoLCAnc2xvdCcsIGlzU3ZnKSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB0aGVuKHByb21pc2VBbGwocHJvbWlzZXMpLCAoKSA9PiB7XG4gICAgICAgIHJlbW92ZVRlbXBsYXRlcyhyY3R4LCBzbG90TWFwcyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuICBjb25zdCBzZXRzSW5uZXJIVE1MID0gY2hlY2tJbm5lckhUTUwocHJvcHMpO1xuICBpZiAoc2V0c0lubmVySFRNTCkge1xuICAgIGlmIChxRGV2ICYmIGNoLmxlbmd0aCA+IDApIHtcbiAgICAgIGxvZ1dhcm4oJ05vZGUgY2FuIG5vdCBoYXZlIGNoaWxkcmVuIHdoZW4gaW5uZXJIVE1MIGlzIHNldCcpO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cbiAgcmV0dXJuIHRoZW4ocHJvbWlzZSwgKCkgPT4ge1xuICAgIGNvbnN0IG1vZGUgPSBpc1Nsb3QgPyAnZmFsbGJhY2snIDogJ2RlZmF1bHQnO1xuICAgIHJldHVybiBzbWFydFVwZGF0ZUNoaWxkcmVuKHJjdHgsIGVsbSwgY2gsIG1vZGUsIGlzU3ZnKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGFkZFZub2RlcyhcbiAgY3R4OiBSZW5kZXJDb250ZXh0LFxuICBwYXJlbnRFbG06IE5vZGUsXG4gIGJlZm9yZTogTm9kZSB8IHVuZGVmaW5lZCxcbiAgdm5vZGVzOiBKU1hOb2RlW10sXG4gIHN0YXJ0SWR4OiBudW1iZXIsXG4gIGVuZElkeDogbnVtYmVyLFxuICBpc1N2ZzogYm9vbGVhblxuKTogVmFsdWVPclByb21pc2U8dm9pZD4ge1xuICBjb25zdCBwcm9taXNlcyA9IFtdO1xuICBmb3IgKDsgc3RhcnRJZHggPD0gZW5kSWR4OyArK3N0YXJ0SWR4KSB7XG4gICAgY29uc3QgY2ggPSB2bm9kZXNbc3RhcnRJZHhdO1xuICAgIGFzc2VydERlZmluZWQoY2gpO1xuICAgIHByb21pc2VzLnB1c2goY3JlYXRlRWxtKGN0eCwgY2gsIGlzU3ZnKSk7XG4gIH1cbiAgcmV0dXJuIHRoZW4ocHJvbWlzZUFsbChwcm9taXNlcykgYXMgYW55LCAoY2hpbGRyZW46IE5vZGVbXSkgPT4ge1xuICAgIGZvciAoY29uc3QgY2hpbGQgb2YgY2hpbGRyZW4pIHtcbiAgICAgIGluc2VydEJlZm9yZShjdHgsIHBhcmVudEVsbSwgY2hpbGQsIGJlZm9yZSk7XG4gICAgfVxuICB9KTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlVm5vZGVzKFxuICBjdHg6IFJlbmRlckNvbnRleHQsXG4gIHBhcmVudEVsbTogTm9kZSxcbiAgbm9kZXM6IE5vZGVbXSxcbiAgc3RhcnRJZHg6IG51bWJlcixcbiAgZW5kSWR4OiBudW1iZXJcbik6IHZvaWQge1xuICBmb3IgKDsgc3RhcnRJZHggPD0gZW5kSWR4OyArK3N0YXJ0SWR4KSB7XG4gICAgY29uc3QgY2ggPSBub2Rlc1tzdGFydElkeF07XG4gICAgYXNzZXJ0RGVmaW5lZChjaCk7XG4gICAgcmVtb3ZlTm9kZShjdHgsIGNoKTtcbiAgfVxufVxuXG5sZXQgcmVmQ291bnQgPSAwO1xuY29uc3QgUmVmU3ltYm9sID0gU3ltYm9sKCk7XG5cbmZ1bmN0aW9uIHNldFNsb3RSZWYoY3R4OiBSZW5kZXJDb250ZXh0LCBob3N0RWxtOiBFbGVtZW50LCBzbG90RWw6IEVsZW1lbnQpIHtcbiAgbGV0IHJlZiA9IChob3N0RWxtIGFzIGFueSlbUmVmU3ltYm9sXSA/PyBob3N0RWxtLmdldEF0dHJpYnV0ZSgncTpzcmVmJyk7XG4gIGlmIChyZWYgPT09IG51bGwpIHtcbiAgICByZWYgPSBpbnRUb1N0cihyZWZDb3VudCsrKTtcbiAgICAoaG9zdEVsbSBhcyBhbnkpW1JlZlN5bWJvbF0gPSByZWY7XG4gICAgc2V0QXR0cmlidXRlKGN0eCwgaG9zdEVsbSwgJ3E6c3JlZicsIHJlZik7XG4gIH1cbiAgc2xvdEVsLnNldEF0dHJpYnV0ZSgncTpzcmVmJywgcmVmKTtcbn1cblxuZnVuY3Rpb24gZ2V0U2xvdEVsZW1lbnQoXG4gIGN0eDogUmVuZGVyQ29udGV4dCxcbiAgc2xvdE1hcHM6IFNsb3RNYXBzLFxuICBwYXJlbnRFbDogRWxlbWVudCxcbiAgc2xvdE5hbWU6IHN0cmluZ1xuKTogRWxlbWVudCB7XG4gIGNvbnN0IHNsb3RFbCA9IHNsb3RNYXBzLnNsb3RzW3Nsb3ROYW1lXTtcbiAgaWYgKHNsb3RFbCkge1xuICAgIHJldHVybiBzbG90RWw7XG4gIH1cbiAgY29uc3QgdGVtcGxhdGVFbCA9IHNsb3RNYXBzLnRlbXBsYXRlc1tzbG90TmFtZV07XG4gIGlmICh0ZW1wbGF0ZUVsKSB7XG4gICAgcmV0dXJuIHRlbXBsYXRlRWwuY29udGVudCBhcyBhbnk7XG4gIH1cbiAgY29uc3QgdGVtcGxhdGUgPSBjcmVhdGVUZW1wbGF0ZShjdHgsIHNsb3ROYW1lKTtcbiAgcHJlcGVuZChjdHgsIHBhcmVudEVsLCB0ZW1wbGF0ZSk7XG4gIHNsb3RNYXBzLnRlbXBsYXRlc1tzbG90TmFtZV0gPSB0ZW1wbGF0ZTtcbiAgcmV0dXJuIHRlbXBsYXRlLmNvbnRlbnQgYXMgYW55O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVUZW1wbGF0ZShjdHg6IFJlbmRlckNvbnRleHQsIHNsb3ROYW1lOiBzdHJpbmcpIHtcbiAgY29uc3QgdGVtcGxhdGUgPSBjcmVhdGVFbGVtZW50KGN0eCwgJ3RlbXBsYXRlJywgZmFsc2UpIGFzIEhUTUxUZW1wbGF0ZUVsZW1lbnQ7XG4gIHRlbXBsYXRlLnNldEF0dHJpYnV0ZShRU2xvdEF0dHIsIHNsb3ROYW1lKTtcbiAgcmV0dXJuIHRlbXBsYXRlO1xufVxuXG5mdW5jdGlvbiByZW1vdmVUZW1wbGF0ZXMoY3R4OiBSZW5kZXJDb250ZXh0LCBzbG90TWFwczogU2xvdE1hcHMpIHtcbiAgT2JqZWN0LmtleXMoc2xvdE1hcHMudGVtcGxhdGVzKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICBjb25zdCB0ZW1wbGF0ZSA9IHNsb3RNYXBzLnRlbXBsYXRlc1trZXldITtcbiAgICBpZiAodGVtcGxhdGUgJiYgc2xvdE1hcHMuc2xvdHNba2V5XSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZW1vdmVOb2RlKGN0eCwgdGVtcGxhdGUpO1xuICAgICAgc2xvdE1hcHMudGVtcGxhdGVzW2tleV0gPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVTbG90UHJvamVjdGlvbihcbiAgY3R4OiBSZW5kZXJDb250ZXh0LFxuICBob3N0RWxtOiBFbGVtZW50LFxuICBiZWZvcmU6IFNsb3RNYXBzLFxuICBhZnRlcjogU2xvdE1hcHNcbikge1xuICBPYmplY3QuZW50cmllcyhiZWZvcmUuc2xvdHMpLmZvckVhY2goKFtrZXksIHNsb3RFbF0pID0+IHtcbiAgICBpZiAoc2xvdEVsICYmICFhZnRlci5zbG90c1trZXldKSB7XG4gICAgICAvLyBTbG90IHJlbW92ZWRcbiAgICAgIC8vIE1vdmUgc2xvdCB0byB0ZW1wbGF0ZVxuICAgICAgY29uc3QgdGVtcGxhdGUgPSBjcmVhdGVUZW1wbGF0ZShjdHgsIGtleSk7XG4gICAgICBjb25zdCBzbG90Q2hpbGRyZW4gPSBnZXRDaGlsZHJlbihzbG90RWwsICdzbG90Jyk7XG4gICAgICB0ZW1wbGF0ZS5jb250ZW50LmFwcGVuZCguLi5zbG90Q2hpbGRyZW4pO1xuICAgICAgaG9zdEVsbS5pbnNlcnRCZWZvcmUodGVtcGxhdGUsIGhvc3RFbG0uZmlyc3RDaGlsZCk7XG5cbiAgICAgIGN0eC5vcGVyYXRpb25zLnB1c2goe1xuICAgICAgICBlbDogdGVtcGxhdGUsXG4gICAgICAgIG9wZXJhdGlvbjogJ3Nsb3QtdG8tdGVtcGxhdGUnLFxuICAgICAgICBhcmdzOiBzbG90Q2hpbGRyZW4sXG4gICAgICAgIGZuOiAoKSA9PiB7fSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG5cbiAgT2JqZWN0LmVudHJpZXMoYWZ0ZXIuc2xvdHMpLmZvckVhY2goKFtrZXksIHNsb3RFbF0pID0+IHtcbiAgICBpZiAoc2xvdEVsICYmICFiZWZvcmUuc2xvdHNba2V5XSkge1xuICAgICAgLy8gU2xvdCBjcmVhdGVkXG4gICAgICAvLyBNb3ZlIHRlbXBsYXRlIHRvIHNsb3RcbiAgICAgIGNvbnN0IHRlbXBsYXRlID0gYmVmb3JlLnRlbXBsYXRlc1trZXldO1xuICAgICAgaWYgKHRlbXBsYXRlKSB7XG4gICAgICAgIHNsb3RFbC5hcHBlbmRDaGlsZCh0ZW1wbGF0ZS5jb250ZW50KTtcbiAgICAgICAgdGVtcGxhdGUucmVtb3ZlKCk7XG4gICAgICAgIGN0eC5vcGVyYXRpb25zLnB1c2goe1xuICAgICAgICAgIGVsOiBzbG90RWwsXG4gICAgICAgICAgb3BlcmF0aW9uOiAndGVtcGxhdGUtdG8tc2xvdCcsXG4gICAgICAgICAgYXJnczogW3RlbXBsYXRlXSxcbiAgICAgICAgICBmbjogKCkgPT4ge30sXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGdldFNsb3ROYW1lKG5vZGU6IEpTWE5vZGUpOiBzdHJpbmcge1xuICByZXR1cm4gbm9kZS5wcm9wcz8uWydxOnNsb3QnXSA/PyAnJztcbn1cblxuZnVuY3Rpb24gY3JlYXRlRWxtKHJjdHg6IFJlbmRlckNvbnRleHQsIHZub2RlOiBKU1hOb2RlLCBpc1N2ZzogYm9vbGVhbik6IFZhbHVlT3JQcm9taXNlPE5vZGU+IHtcbiAgcmN0eC5wZXJmLnZpc2l0ZWQrKztcbiAgY29uc3QgdGFnID0gdm5vZGUudHlwZTtcbiAgaWYgKHRhZyA9PT0gJyN0ZXh0Jykge1xuICAgIHJldHVybiAodm5vZGUuZWxtID0gY3JlYXRlVGV4dE5vZGUocmN0eCwgdm5vZGUudGV4dCEpKTtcbiAgfVxuICBpZiAodGFnID09PSAnI2NvbW1lbnQnKSB7XG4gICAgcmV0dXJuICh2bm9kZS5lbG0gPSBjcmVhdGVDb21tZW50Tm9kZShyY3R4LCB2bm9kZS50ZXh0ISkpO1xuICB9XG4gIGlmICghaXNTdmcpIHtcbiAgICBpc1N2ZyA9IHRhZyA9PT0gJ3N2Zyc7XG4gIH1cblxuICBjb25zdCBwcm9wcyA9IHZub2RlLnByb3BzO1xuICBjb25zdCBlbG0gPSAodm5vZGUuZWxtID0gY3JlYXRlRWxlbWVudChyY3R4LCB0YWcsIGlzU3ZnKSk7XG4gIGNvbnN0IGlzQ29tcG9uZW50ID0gaXNDb21wb25lbnROb2RlKHZub2RlKTtcbiAgY29uc3QgY3R4ID0gZ2V0Q29udGV4dChlbG0pO1xuICBzZXRLZXkoZWxtLCB2bm9kZS5rZXkpO1xuICB1cGRhdGVQcm9wZXJ0aWVzKHJjdHgsIGN0eCwgcHJvcHMsIGlzU3ZnKTtcblxuICBpZiAoaXNTdmcgJiYgdGFnID09PSAnZm9yZWlnbk9iamVjdCcpIHtcbiAgICBpc1N2ZyA9IGZhbHNlO1xuICB9XG4gIGNvbnN0IGN1cnJlbnRDb21wb25lbnQgPSByY3R4LmNvbXBvbmVudDtcbiAgaWYgKGN1cnJlbnRDb21wb25lbnQpIHtcbiAgICBjb25zdCBzdHlsZVRhZyA9IGN1cnJlbnRDb21wb25lbnQuc3R5bGVDbGFzcztcbiAgICBpZiAoc3R5bGVUYWcpIHtcbiAgICAgIGNsYXNzbGlzdEFkZChyY3R4LCBlbG0sIHN0eWxlVGFnKTtcbiAgICB9XG4gICAgaWYgKHRhZyA9PT0gJ3E6c2xvdCcpIHtcbiAgICAgIHNldFNsb3RSZWYocmN0eCwgY3VycmVudENvbXBvbmVudC5ob3N0RWxlbWVudCwgZWxtKTtcbiAgICAgIHJjdHguY29tcG9uZW50IS5zbG90cy5wdXNoKHZub2RlKTtcbiAgICB9XG4gIH1cblxuICBsZXQgd2FpdDogVmFsdWVPclByb21pc2U8dm9pZD47XG4gIGlmIChpc0NvbXBvbmVudCkge1xuICAgIC8vIFJ1biBtb3VudCBob29rXG4gICAgY29uc3QgcmVuZGVyUVJMID0gcHJvcHMhW09uUmVuZGVyUHJvcF0hIGFzIFFSTDxPblJlbmRlckZuPGFueT4+O1xuICAgIGN0eC5yZW5kZXJRcmwgPSByZW5kZXJRUkw7XG4gICAgY3R4LnJlZk1hcC5hZGQocmVuZGVyUVJMKTtcbiAgICB3YWl0ID0gZmlyc3RSZW5kZXJDb21wb25lbnQocmN0eCwgY3R4KTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBzZXRzSW5uZXJIVE1MID0gY2hlY2tJbm5lckhUTUwocHJvcHMpO1xuICAgIGlmIChzZXRzSW5uZXJIVE1MKSB7XG4gICAgICBpZiAocURldiAmJiB2bm9kZS5jaGlsZHJlbi5sZW5ndGggPiAwKSB7XG4gICAgICAgIGxvZ1dhcm4oJ05vZGUgY2FuIG5vdCBoYXZlIGNoaWxkcmVuIHdoZW4gaW5uZXJIVE1MIGlzIHNldCcpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGVsbTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRoZW4od2FpdCwgKCkgPT4ge1xuICAgIGxldCBjaGlsZHJlbiA9IHZub2RlLmNoaWxkcmVuO1xuICAgIGlmIChjaGlsZHJlbi5sZW5ndGggPiAwKSB7XG4gICAgICBpZiAoY2hpbGRyZW4ubGVuZ3RoID09PSAxICYmIGNoaWxkcmVuWzBdLnR5cGUgPT09IFNraXBSZXJlbmRlcikge1xuICAgICAgICBjaGlsZHJlbiA9IGNoaWxkcmVuWzBdLmNoaWxkcmVuO1xuICAgICAgfVxuICAgICAgY29uc3Qgc2xvdE1hcCA9IGlzQ29tcG9uZW50ID8gZ2V0U2xvdHMoY3R4LmNvbXBvbmVudCwgZWxtKSA6IHVuZGVmaW5lZDtcbiAgICAgIGNvbnN0IHByb21pc2VzID0gY2hpbGRyZW4ubWFwKChjaCkgPT4gY3JlYXRlRWxtKHJjdHgsIGNoLCBpc1N2ZykpO1xuICAgICAgcmV0dXJuIHRoZW4ocHJvbWlzZUFsbChwcm9taXNlcykgYXMgYW55LCAoKSA9PiB7XG4gICAgICAgIGxldCBwYXJlbnQgPSBlbG07XG4gICAgICAgIGZvciAoY29uc3Qgbm9kZSBvZiBjaGlsZHJlbikge1xuICAgICAgICAgIGlmIChzbG90TWFwKSB7XG4gICAgICAgICAgICBwYXJlbnQgPSBnZXRTbG90RWxlbWVudChyY3R4LCBzbG90TWFwLCBlbG0sIGdldFNsb3ROYW1lKG5vZGUpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcGFyZW50LmFwcGVuZENoaWxkKG5vZGUuZWxtISk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVsbTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZWxtO1xuICB9KTtcbn1cbmludGVyZmFjZSBTbG90TWFwcyB7XG4gIHNsb3RzOiBSZWNvcmQ8c3RyaW5nLCBFbGVtZW50IHwgdW5kZWZpbmVkPjtcbiAgdGVtcGxhdGVzOiBSZWNvcmQ8c3RyaW5nLCBIVE1MVGVtcGxhdGVFbGVtZW50IHwgdW5kZWZpbmVkPjtcbn1cblxuY29uc3QgZ2V0U2xvdHMgPSAoY29tcG9uZW50Q3R4OiBDb21wb25lbnRDdHggfCB1bmRlZmluZWQsIGhvc3RFbG06IEVsZW1lbnQpOiBTbG90TWFwcyA9PiB7XG4gIGNvbnN0IHNsb3RzOiBSZWNvcmQ8c3RyaW5nLCBFbGVtZW50PiA9IHt9O1xuICBjb25zdCB0ZW1wbGF0ZXM6IFJlY29yZDxzdHJpbmcsIEhUTUxUZW1wbGF0ZUVsZW1lbnQ+ID0ge307XG4gIGNvbnN0IHNsb3RSZWYgPSBob3N0RWxtLmdldEF0dHJpYnV0ZSgncTpzcmVmJyk7XG4gIGNvbnN0IGV4aXN0aW5nU2xvdHMgPSBBcnJheS5mcm9tKGhvc3RFbG0ucXVlcnlTZWxlY3RvckFsbChgcVxcXFw6c2xvdFtxXFxcXDpzcmVmPVwiJHtzbG90UmVmfVwiXWApKTtcbiAgY29uc3QgbmV3U2xvdHMgPSBjb21wb25lbnRDdHg/LnNsb3RzID8/IEVNUFRZX0FSUkFZO1xuICBjb25zdCB0ID0gQXJyYXkuZnJvbShob3N0RWxtLmNoaWxkcmVuKS5maWx0ZXIoaXNTbG90VGVtcGxhdGUpO1xuXG4gIC8vIE1hcCBzbG90c1xuICBmb3IgKGNvbnN0IGVsbSBvZiBleGlzdGluZ1Nsb3RzKSB7XG4gICAgc2xvdHNbZWxtLmdldEF0dHJpYnV0ZSgnbmFtZScpID8/ICcnXSA9IGVsbTtcbiAgfVxuXG4gIC8vIE1hcCB2aXJ0dWFsIHNsb3RzXG4gIGZvciAoY29uc3Qgdm5vZGUgb2YgbmV3U2xvdHMpIHtcbiAgICBzbG90c1t2bm9kZS5wcm9wcz8ubmFtZSA/PyAnJ10gPSB2bm9kZS5lbG0gYXMgRWxlbWVudDtcbiAgfVxuXG4gIC8vIE1hcCB0ZW1wbGF0ZXNcbiAgZm9yIChjb25zdCBlbG0gb2YgdCkge1xuICAgIHRlbXBsYXRlc1tlbG0uZ2V0QXR0cmlidXRlKCdxOnNsb3QnKSA/PyAnJ10gPSBlbG07XG4gIH1cblxuICByZXR1cm4geyBzbG90cywgdGVtcGxhdGVzIH07XG59O1xuXG5jb25zdCBoYW5kbGVTdHlsZTogUHJvcEhhbmRsZXIgPSAoY3R4LCBlbG0sIF8sIG5ld1ZhbHVlKSA9PiB7XG4gIHNldEF0dHJpYnV0ZShjdHgsIGVsbSwgJ3N0eWxlJywgc3RyaW5naWZ5Q2xhc3NPclN0eWxlKG5ld1ZhbHVlLCBmYWxzZSkpO1xuICByZXR1cm4gdHJ1ZTtcbn07XG5cbmNvbnN0IGhhbmRsZUNsYXNzOiBQcm9wSGFuZGxlciA9IChjdHgsIGVsbSwgXywgbmV3VmFsdWUpID0+IHtcbiAgc2V0QXR0cmlidXRlKGN0eCwgZWxtLCAnY2xhc3MnLCBzdHJpbmdpZnlDbGFzc09yU3R5bGUobmV3VmFsdWUsIHRydWUpKTtcbiAgcmV0dXJuIHRydWU7XG59O1xuXG5jb25zdCBjaGVja0JlZm9yZUFzc2lnbjogUHJvcEhhbmRsZXIgPSAoY3R4LCBlbG0sIHByb3AsIG5ld1ZhbHVlKSA9PiB7XG4gIGlmIChwcm9wIGluIGVsbSkge1xuICAgIGlmICgoZWxtIGFzIGFueSlbcHJvcF0gIT09IG5ld1ZhbHVlKSB7XG4gICAgICBzZXRQcm9wZXJ0eShjdHgsIGVsbSwgcHJvcCwgbmV3VmFsdWUpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbmNvbnN0IGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MID0gJ2Rhbmdlcm91c2x5U2V0SW5uZXJIVE1MJztcbmNvbnN0IHNldElubmVySFRNTDogUHJvcEhhbmRsZXIgPSAoY3R4LCBlbG0sIF8sIG5ld1ZhbHVlKSA9PiB7XG4gIGlmIChkYW5nZXJvdXNseVNldElubmVySFRNTCBpbiBlbG0pIHtcbiAgICBzZXRQcm9wZXJ0eShjdHgsIGVsbSwgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwsIG5ld1ZhbHVlKTtcbiAgfSBlbHNlIGlmICgnaW5uZXJIVE1MJyBpbiBlbG0pIHtcbiAgICBzZXRQcm9wZXJ0eShjdHgsIGVsbSwgJ2lubmVySFRNTCcsIG5ld1ZhbHVlKTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbmNvbnN0IFBST1BfSEFORExFUl9NQVA6IFJlY29yZDxzdHJpbmcsIFByb3BIYW5kbGVyPiA9IHtcbiAgc3R5bGU6IGhhbmRsZVN0eWxlLFxuICBjbGFzczogaGFuZGxlQ2xhc3MsXG4gIGNsYXNzTmFtZTogaGFuZGxlQ2xhc3MsXG4gIHZhbHVlOiBjaGVja0JlZm9yZUFzc2lnbixcbiAgY2hlY2tlZDogY2hlY2tCZWZvcmVBc3NpZ24sXG4gIFtkYW5nZXJvdXNseVNldElubmVySFRNTF06IHNldElubmVySFRNTCxcbn07XG5cbmNvbnN0IEFMTE9XU19QUk9QUyA9IFsnY2xhc3MnLCAnY2xhc3NOYW1lJywgJ3N0eWxlJywgJ2lkJywgJ3E6c2xvdCddO1xuY29uc3QgSE9TVF9QUkVGSVggPSAnaG9zdDonO1xuY29uc3QgU0NPUEVfUFJFRklYID0gL14oaG9zdHx3aW5kb3d8ZG9jdW1lbnQpOi87XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVQcm9wZXJ0aWVzKFxuICByY3R4OiBSZW5kZXJDb250ZXh0LFxuICBjdHg6IFFDb250ZXh0LFxuICBleHBlY3RQcm9wczogUmVjb3JkPHN0cmluZywgYW55PiB8IG51bGwsXG4gIGlzU3ZnOiBib29sZWFuXG4pIHtcbiAgaWYgKCFleHBlY3RQcm9wcykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBjb25zdCBlbG0gPSBjdHguZWxlbWVudDtcbiAgY29uc3QgcXdpa1Byb3BzID0gT25SZW5kZXJQcm9wIGluIGV4cGVjdFByb3BzID8gZ2V0UHJvcHMoY3R4KSA6IHVuZGVmaW5lZDtcblxuICBmb3IgKGxldCBrZXkgb2YgT2JqZWN0LmtleXMoZXhwZWN0UHJvcHMpKSB7XG4gICAgaWYgKGtleSA9PT0gJ2NoaWxkcmVuJyB8fCBrZXkgPT09IE9uUmVuZGVyUHJvcCkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGNvbnN0IG5ld1ZhbHVlID0gZXhwZWN0UHJvcHNba2V5XTtcbiAgICBpZiAoa2V5ID09PSAncmVmJykge1xuICAgICAgKG5ld1ZhbHVlIGFzIFJlZjxFbGVtZW50PikuY3VycmVudCA9IGVsbTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIEVhcmx5IGV4aXQgaWYgdmFsdWUgZGlkbnQgY2hhbmdlXG4gICAgY29uc3Qgb2xkVmFsdWUgPSBjdHguY2FjaGUuZ2V0KGtleSk7XG4gICAgaWYgKG5ld1ZhbHVlID09PSBvbGRWYWx1ZSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGN0eC5jYWNoZS5zZXQoa2V5LCBuZXdWYWx1ZSk7XG5cbiAgICAvLyBDaGVjayBvZiBkYXRhLSBvciBhcmlhLVxuICAgIGlmIChrZXkuc3RhcnRzV2l0aCgnZGF0YS0nKSB8fCBrZXkuc3RhcnRzV2l0aCgnYXJpYS0nKSkge1xuICAgICAgc2V0QXR0cmlidXRlKHJjdHgsIGVsbSwga2V5LCBuZXdWYWx1ZSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBpZiAocXdpa1Byb3BzKSB7XG4gICAgICBjb25zdCBza2lwUHJvcGVydHkgPSBBTExPV1NfUFJPUFMuaW5jbHVkZXMoa2V5KTtcbiAgICAgIGNvbnN0IGhhc1ByZWZpeCA9IFNDT1BFX1BSRUZJWC50ZXN0KGtleSk7XG4gICAgICBpZiAoIXNraXBQcm9wZXJ0eSAmJiAhaGFzUHJlZml4KSB7XG4gICAgICAgIC8vIFF3aWsgcHJvcHNcbiAgICAgICAgcXdpa1Byb3BzW2tleV0gPSBuZXdWYWx1ZTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBjb25zdCBoUHJlZml4ZWQgPSBrZXkuc3RhcnRzV2l0aChIT1NUX1BSRUZJWCk7XG4gICAgICBpZiAoaFByZWZpeGVkKSB7XG4gICAgICAgIGtleSA9IGtleS5zbGljZShIT1NUX1BSRUZJWC5sZW5ndGgpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAocURldiAmJiBrZXkuc3RhcnRzV2l0aChIT1NUX1BSRUZJWCkpIHtcbiAgICAgIGxvZ1dhcm4oYCR7SE9TVF9QUkVGSVh9IHByZWZpeCBjYW4gbm90IGJlIHVzZWQgaW4gbm9uIGNvbXBvbmVudHNgKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGlmIChpc09uUHJvcChrZXkpKSB7XG4gICAgICBzZXRFdmVudChyY3R4LCBjdHgsIGtleS5zbGljZSgwLCAtMyksIG5ld1ZhbHVlKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGlmIChpc09uJFByb3Aoa2V5KSkge1xuICAgICAgc2V0RXZlbnQocmN0eCwgY3R4LCBrZXkuc2xpY2UoMCwgLTEpLCAkKG5ld1ZhbHVlKSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBpZiBpdHMgYW4gZXhjZXB0aW9uXG4gICAgY29uc3QgZXhjZXB0aW9uID0gUFJPUF9IQU5ETEVSX01BUFtrZXldO1xuICAgIGlmIChleGNlcHRpb24pIHtcbiAgICAgIGlmIChleGNlcHRpb24ocmN0eCwgZWxtIGFzIEhUTUxFbGVtZW50LCBrZXksIG5ld1ZhbHVlLCBvbGRWYWx1ZSkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgaWYgcHJvcGVydHkgaW4gcHJvdG90eXBlXG4gICAgaWYgKCFpc1N2ZyAmJiBrZXkgaW4gZWxtKSB7XG4gICAgICBzZXRQcm9wZXJ0eShyY3R4LCBlbG0sIGtleSwgbmV3VmFsdWUpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gRmFsbGJhY2sgdG8gcmVuZGVyIGF0dHJpYnV0ZVxuICAgIHNldEF0dHJpYnV0ZShyY3R4LCBlbG0sIGtleSwgbmV3VmFsdWUpO1xuICB9XG4gIHJldHVybiBjdHguZGlydHk7XG59XG5cbmV4cG9ydCBjb25zdCBzdGFydEV2ZW50ID0gKGN0eDogUmVuZGVyQ29udGV4dCwgbmFtZTogc3RyaW5nKSA9PiB7XG4gIGNvbnN0IGV2ZW50OiBQZXJmRXZlbnQgPSB7XG4gICAgbmFtZSxcbiAgICB0aW1lU3RhcnQ6IHBlcmZvcm1hbmNlLm5vdygpLFxuICAgIHRpbWVFbmQ6IDAsXG4gIH07XG4gIGN0eC5wZXJmLnRpbWluZy5wdXNoKGV2ZW50KTtcbiAgcmV0dXJuICgpID0+IHtcbiAgICBldmVudC50aW1lRW5kID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gIH07XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gc2V0QXR0cmlidXRlKGN0eDogUmVuZGVyQ29udGV4dCwgZWw6IEVsZW1lbnQsIHByb3A6IHN0cmluZywgdmFsdWU6IHN0cmluZyB8IG51bGwpIHtcbiAgY29uc3QgZm4gPSAoKSA9PiB7XG4gICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZShwcm9wKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZWwuc2V0QXR0cmlidXRlKHByb3AsIFN0cmluZyh2YWx1ZSkpO1xuICAgIH1cbiAgfTtcbiAgY3R4Lm9wZXJhdGlvbnMucHVzaCh7XG4gICAgZWwsXG4gICAgb3BlcmF0aW9uOiAnc2V0LWF0dHJpYnV0ZScsXG4gICAgYXJnczogW3Byb3AsIHZhbHVlXSxcbiAgICBmbixcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjbGFzc2xpc3RBZGQoY3R4OiBSZW5kZXJDb250ZXh0LCBlbDogRWxlbWVudCwgaG9zdFN0eWxlVGFnOiBzdHJpbmcpIHtcbiAgY29uc3QgZm4gPSAoKSA9PiB7XG4gICAgZWwuY2xhc3NMaXN0LmFkZChob3N0U3R5bGVUYWcpO1xuICB9O1xuICBjdHgub3BlcmF0aW9ucy5wdXNoKHtcbiAgICBlbCxcbiAgICBvcGVyYXRpb246ICdjbGFzc2xpc3QtYWRkJyxcbiAgICBhcmdzOiBbaG9zdFN0eWxlVGFnXSxcbiAgICBmbixcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHNldFByb3BlcnR5KGN0eDogUmVuZGVyQ29udGV4dCwgbm9kZTogYW55LCBrZXk6IHN0cmluZywgdmFsdWU6IGFueSkge1xuICBjb25zdCBmbiA9ICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgbm9kZVtrZXldID0gdmFsdWU7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBsb2dFcnJvcignU2V0IHByb3BlcnR5JywgeyBub2RlLCBrZXksIHZhbHVlIH0sIGVycik7XG4gICAgfVxuICB9O1xuICBjdHgub3BlcmF0aW9ucy5wdXNoKHtcbiAgICBlbDogbm9kZSxcbiAgICBvcGVyYXRpb246ICdzZXQtcHJvcGVydHknLFxuICAgIGFyZ3M6IFtrZXksIHZhbHVlXSxcbiAgICBmbixcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnQoY3R4OiBSZW5kZXJDb250ZXh0LCBleHBlY3RUYWc6IHN0cmluZywgaXNTdmc6IGJvb2xlYW4pOiBFbGVtZW50IHtcbiAgY29uc3QgZWwgPSBpc1N2ZyA/IGN0eC5kb2MuY3JlYXRlRWxlbWVudE5TKFNWR19OUywgZXhwZWN0VGFnKSA6IGN0eC5kb2MuY3JlYXRlRWxlbWVudChleHBlY3RUYWcpO1xuICAoZWwgYXMgYW55KVtDT05UQUlORVJdID0gY3R4LmNvbnRhaW5lckVsO1xuICBjdHgub3BlcmF0aW9ucy5wdXNoKHtcbiAgICBlbCxcbiAgICBvcGVyYXRpb246ICdjcmVhdGUtZWxlbWVudCcsXG4gICAgYXJnczogW2V4cGVjdFRhZ10sXG4gICAgZm46ICgpID0+IHt9LFxuICB9KTtcbiAgcmV0dXJuIGVsO1xufVxuXG5mdW5jdGlvbiBpbnNlcnRCZWZvcmU8VCBleHRlbmRzIE5vZGU+KFxuICBjdHg6IFJlbmRlckNvbnRleHQsXG4gIHBhcmVudDogTm9kZSxcbiAgbmV3Q2hpbGQ6IFQsXG4gIHJlZkNoaWxkOiBOb2RlIHwgbnVsbCB8IHVuZGVmaW5lZFxuKTogVCB7XG4gIGNvbnN0IGZuID0gKCkgPT4ge1xuICAgIHBhcmVudC5pbnNlcnRCZWZvcmUobmV3Q2hpbGQsIHJlZkNoaWxkID8gcmVmQ2hpbGQgOiBudWxsKTtcbiAgfTtcbiAgY3R4Lm9wZXJhdGlvbnMucHVzaCh7XG4gICAgZWw6IHBhcmVudCxcbiAgICBvcGVyYXRpb246ICdpbnNlcnQtYmVmb3JlJyxcbiAgICBhcmdzOiBbbmV3Q2hpbGQsIHJlZkNoaWxkXSxcbiAgICBmbixcbiAgfSk7XG4gIHJldHVybiBuZXdDaGlsZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFwcGVuZFN0eWxlKGN0eDogUmVuZGVyQ29udGV4dCwgaG9zdEVsZW1lbnQ6IEVsZW1lbnQsIHN0eWxlVGFzazogU3R5bGVBcHBlbmQpIHtcbiAgY29uc3QgZm4gPSAoKSA9PiB7XG4gICAgY29uc3QgY29udGFpbmVyRWwgPSBjdHguY29udGFpbmVyRWw7XG4gICAgY29uc3Qgc3R5bGVzUGFyZW50ID1cbiAgICAgIGN0eC5kb2MuZG9jdW1lbnRFbGVtZW50ID09PSBjb250YWluZXJFbCA/IGN0eC5kb2MuaGVhZCA/PyBjb250YWluZXJFbCA6IGNvbnRhaW5lckVsO1xuICAgIGlmICghc3R5bGVzUGFyZW50LnF1ZXJ5U2VsZWN0b3IoYHN0eWxlW3FcXFxcOnN0eWxlPVwiJHtzdHlsZVRhc2suc3R5bGVJZH1cIl1gKSkge1xuICAgICAgY29uc3Qgc3R5bGUgPSBjdHguZG9jLmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoJ3E6c3R5bGUnLCBzdHlsZVRhc2suc3R5bGVJZCk7XG4gICAgICBzdHlsZS50ZXh0Q29udGVudCA9IHN0eWxlVGFzay5jb250ZW50O1xuICAgICAgc3R5bGVzUGFyZW50Lmluc2VydEJlZm9yZShzdHlsZSwgc3R5bGVzUGFyZW50LmZpcnN0Q2hpbGQpO1xuICAgIH1cbiAgfTtcbiAgY3R4Lm9wZXJhdGlvbnMucHVzaCh7XG4gICAgZWw6IGhvc3RFbGVtZW50LFxuICAgIG9wZXJhdGlvbjogJ2FwcGVuZC1zdHlsZScsXG4gICAgYXJnczogW3N0eWxlVGFza10sXG4gICAgZm4sXG4gIH0pO1xufVxuZnVuY3Rpb24gcHJlcGVuZChjdHg6IFJlbmRlckNvbnRleHQsIHBhcmVudDogRWxlbWVudCwgbmV3Q2hpbGQ6IE5vZGUpIHtcbiAgY29uc3QgZm4gPSAoKSA9PiB7XG4gICAgcGFyZW50Lmluc2VydEJlZm9yZShuZXdDaGlsZCwgcGFyZW50LmZpcnN0Q2hpbGQpO1xuICB9O1xuICBjdHgub3BlcmF0aW9ucy5wdXNoKHtcbiAgICBlbDogcGFyZW50LFxuICAgIG9wZXJhdGlvbjogJ3ByZXBlbmQnLFxuICAgIGFyZ3M6IFtuZXdDaGlsZF0sXG4gICAgZm4sXG4gIH0pO1xufVxuXG5mdW5jdGlvbiByZW1vdmVOb2RlKGN0eDogUmVuZGVyQ29udGV4dCwgZWw6IE5vZGUpIHtcbiAgY29uc3QgZm4gPSAoKSA9PiB7XG4gICAgY29uc3QgcGFyZW50ID0gZWwucGFyZW50Tm9kZTtcbiAgICBpZiAocGFyZW50KSB7XG4gICAgICBpZiAoZWwubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgICAgY2xlYW51cEVsZW1lbnQoZWwgYXMgRWxlbWVudCk7XG4gICAgICAgIChlbCBhcyBFbGVtZW50KS5xdWVyeVNlbGVjdG9yQWxsKFFPYmpTZWxlY3RvcikuZm9yRWFjaChjbGVhbnVwRWxlbWVudCk7XG4gICAgICB9XG4gICAgICBwYXJlbnQucmVtb3ZlQ2hpbGQoZWwpO1xuICAgIH0gZWxzZSBpZiAocURldikge1xuICAgICAgbG9nV2FybignVHJ5aW5nIHRvIHJlbW92ZSBjb21wb25lbnQgYWxyZWFkeSByZW1vdmVkJywgZWwpO1xuICAgIH1cbiAgfTtcbiAgY3R4Lm9wZXJhdGlvbnMucHVzaCh7XG4gICAgZWw6IGVsLFxuICAgIG9wZXJhdGlvbjogJ3JlbW92ZScsXG4gICAgYXJnczogW10sXG4gICAgZm4sXG4gIH0pO1xufVxuXG5mdW5jdGlvbiBjbGVhbnVwRWxlbWVudChlbDogRWxlbWVudCkge1xuICBjb25zdCBjdHggPSB0cnlHZXRDb250ZXh0KGVsKTtcbiAgaWYgKGN0eCkge1xuICAgIGNsZWFudXBDb250ZXh0KGN0eCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlVGV4dE5vZGUoY3R4OiBSZW5kZXJDb250ZXh0LCB0ZXh0OiBzdHJpbmcpOiBUZXh0IHtcbiAgcmV0dXJuIGN0eC5kb2MuY3JlYXRlVGV4dE5vZGUodGV4dCk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUNvbW1lbnROb2RlKGN0eDogUmVuZGVyQ29udGV4dCwgdGV4dDogc3RyaW5nKTogQ29tbWVudCB7XG4gIHJldHVybiBjdHguZG9jLmNyZWF0ZUNvbW1lbnQodGV4dCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBleGVjdXRlQ29udGV4dFdpdGhTbG90cyhjdHg6IFJlbmRlckNvbnRleHQpIHtcbiAgY29uc3QgYmVmb3JlID0gY3R4LnJvb3RzLm1hcCgoZWxtKSA9PiBnZXRTbG90cyh1bmRlZmluZWQsIGVsbSkpO1xuXG4gIGV4ZWN1dGVDb250ZXh0KGN0eCk7XG5cbiAgY29uc3QgYWZ0ZXIgPSBjdHgucm9vdHMubWFwKChlbG0pID0+IGdldFNsb3RzKHVuZGVmaW5lZCwgZWxtKSk7XG4gIGFzc2VydEVxdWFsKGJlZm9yZS5sZW5ndGgsIGFmdGVyLmxlbmd0aCk7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBiZWZvcmUubGVuZ3RoOyBpKyspIHtcbiAgICByZXNvbHZlU2xvdFByb2plY3Rpb24oY3R4LCBjdHgucm9vdHNbaV0sIGJlZm9yZVtpXSwgYWZ0ZXJbaV0pO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBleGVjdXRlQ29udGV4dChjdHg6IFJlbmRlckNvbnRleHQpIHtcbiAgZm9yIChjb25zdCBvcCBvZiBjdHgub3BlcmF0aW9ucykge1xuICAgIG9wLmZuKCk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByaW50UmVuZGVyU3RhdHMoY3R4OiBSZW5kZXJDb250ZXh0KSB7XG4gIGNvbnN0IGJ5T3A6IFJlY29yZDxzdHJpbmcsIG51bWJlcj4gPSB7fTtcbiAgZm9yIChjb25zdCBvcCBvZiBjdHgub3BlcmF0aW9ucykge1xuICAgIGJ5T3Bbb3Aub3BlcmF0aW9uXSA9IChieU9wW29wLm9wZXJhdGlvbl0gPz8gMCkgKyAxO1xuICB9XG4gIGNvbnN0IGFmZmVjdGVkRWxlbWVudHMgPSBBcnJheS5mcm9tKG5ldyBTZXQoY3R4Lm9wZXJhdGlvbnMubWFwKChhKSA9PiBhLmVsKSkpO1xuICBjb25zdCBzdGF0cyA9IHtcbiAgICBieU9wLFxuICAgIHJvb3RzOiBjdHgucm9vdHMsXG4gICAgaG9zdEVsZW1lbnRzOiBBcnJheS5mcm9tKGN0eC5ob3N0RWxlbWVudHMpLFxuICAgIGFmZmVjdGVkRWxlbWVudHMsXG4gICAgdmlzaXRlZE5vZGVzOiBjdHgucGVyZi52aXNpdGVkLFxuICAgIG9wZXJhdGlvbnM6IGN0eC5vcGVyYXRpb25zLm1hcCgodikgPT4gW3Yub3BlcmF0aW9uLCB2LmVsLCAuLi52LmFyZ3NdKSxcbiAgfTtcbiAgbG9nRGVidWcoJ1JlbmRlciBzdGF0cycsIHN0YXRzKTtcbiAgcmV0dXJuIHN0YXRzO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVLZXlUb09sZElkeChjaGlsZHJlbjogTm9kZVtdLCBiZWdpbklkeDogbnVtYmVyLCBlbmRJZHg6IG51bWJlcik6IEtleVRvSW5kZXhNYXAge1xuICBjb25zdCBtYXA6IEtleVRvSW5kZXhNYXAgPSB7fTtcbiAgZm9yIChsZXQgaSA9IGJlZ2luSWR4OyBpIDw9IGVuZElkeDsgKytpKSB7XG4gICAgY29uc3QgY2hpbGQgPSBjaGlsZHJlbltpXTtcbiAgICBpZiAoY2hpbGQubm9kZVR5cGUgPT0gTm9kZVR5cGUuRUxFTUVOVF9OT0RFKSB7XG4gICAgICBjb25zdCBrZXkgPSBnZXRLZXkoY2hpbGQgYXMgRWxlbWVudCk7XG4gICAgICBpZiAoa2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbWFwW2tleSBhcyBzdHJpbmddID0gaTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIG1hcDtcbn1cblxuY29uc3QgS0VZX1NZTUJPTCA9IFN5bWJvbCgndm5vZGUga2V5Jyk7XG5cbmZ1bmN0aW9uIGdldEtleShlbDogRWxlbWVudCk6IHN0cmluZyB8IG51bGwge1xuICBsZXQga2V5ID0gKGVsIGFzIGFueSlbS0VZX1NZTUJPTF07XG4gIGlmIChrZXkgPT09IHVuZGVmaW5lZCkge1xuICAgIGtleSA9IChlbCBhcyBhbnkpW0tFWV9TWU1CT0xdID0gZWwuZ2V0QXR0cmlidXRlKCdxOmtleScpO1xuICB9XG4gIHJldHVybiBrZXk7XG59XG5cbmZ1bmN0aW9uIHNldEtleShlbDogRWxlbWVudCwga2V5OiBzdHJpbmcgfCBudWxsKSB7XG4gIGlmICh0eXBlb2Yga2V5ID09PSAnc3RyaW5nJykge1xuICAgIGVsLnNldEF0dHJpYnV0ZSgncTprZXknLCBrZXkpO1xuICB9XG4gIChlbCBhcyBhbnkpW0tFWV9TWU1CT0xdID0ga2V5O1xufVxuXG5mdW5jdGlvbiBzYW1lVm5vZGUodm5vZGUxOiBOb2RlLCB2bm9kZTI6IEpTWE5vZGUpOiBib29sZWFuIHtcbiAgY29uc3QgaXNTYW1lU2VsID0gdm5vZGUxLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09IHZub2RlMi50eXBlO1xuICBjb25zdCBpc1NhbWVLZXkgPVxuICAgIHZub2RlMS5ub2RlVHlwZSA9PT0gTm9kZVR5cGUuRUxFTUVOVF9OT0RFID8gZ2V0S2V5KHZub2RlMSBhcyBFbGVtZW50KSA9PT0gdm5vZGUyLmtleSA6IHRydWU7XG4gIHJldHVybiBpc1NhbWVTZWwgJiYgaXNTYW1lS2V5O1xufVxuXG5mdW5jdGlvbiBjaGVja0lubmVySFRNTChwcm9wczogUmVjb3JkPHN0cmluZywgYW55PiB8IHVuZGVmaW5lZCB8IG51bGwpIHtcbiAgcmV0dXJuIHByb3BzICYmICgnaW5uZXJIVE1MJyBpbiBwcm9wcyB8fCBkYW5nZXJvdXNseVNldElubmVySFRNTCBpbiBwcm9wcyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdHJpbmdpZnlDbGFzc09yU3R5bGUob2JqOiBhbnksIGlzQ2xhc3M6IGJvb2xlYW4pOiBzdHJpbmcge1xuICBpZiAob2JqID09IG51bGwpIHJldHVybiAnJztcbiAgaWYgKHR5cGVvZiBvYmogPT0gJ29iamVjdCcpIHtcbiAgICBsZXQgdGV4dCA9ICcnO1xuICAgIGxldCBzZXAgPSAnJztcbiAgICBpZiAoQXJyYXkuaXNBcnJheShvYmopKSB7XG4gICAgICBpZiAoIWlzQ2xhc3MpIHtcbiAgICAgICAgdGhyb3cgcUVycm9yKFFFcnJvci5SZW5kZXJfdW5zdXBwb3J0ZWRGb3JtYXRfb2JqX2F0dHIsIG9iaiwgJ3N0eWxlJyk7XG4gICAgICB9XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9iai5sZW5ndGg7IGkrKykge1xuICAgICAgICB0ZXh0ICs9IHNlcCArIG9ialtpXTtcbiAgICAgICAgc2VwID0gJyAnO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKGNvbnN0IGtleSBpbiBvYmopIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHtcbiAgICAgICAgICBjb25zdCB2YWx1ZSA9IG9ialtrZXldO1xuXG4gICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICB0ZXh0ICs9IGlzQ2xhc3NcbiAgICAgICAgICAgICAgPyB2YWx1ZVxuICAgICAgICAgICAgICAgID8gc2VwICsga2V5XG4gICAgICAgICAgICAgICAgOiAnJ1xuICAgICAgICAgICAgICA6IHNlcCArIGZyb21DYW1lbFRvS2ViYWJDYXNlKGtleSkgKyAnOicgKyB2YWx1ZTtcbiAgICAgICAgICAgIHNlcCA9IGlzQ2xhc3MgPyAnICcgOiAnOyc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0ZXh0O1xuICB9XG4gIHJldHVybiBTdHJpbmcob2JqKTtcbn1cbiJdfQ==","import { assertDefined } from '../assert/assert';\nimport { QHostAttr } from '../util/markers';\nimport { executeContextWithSlots, printRenderStats } from './cursor';\nimport { getContext, resumeIfNeeded } from '../props/props';\nimport { qDev } from '../util/qdev';\nimport { getPlatform } from '../platform/platform';\nimport { getDocument } from '../util/dom';\nimport { renderComponent } from '../component/component-ctx';\nimport { logDebug, logError } from '../util/log';\nimport { getContainer } from '../use/use-core';\nimport { runWatch } from '../watch/watch.public';\nimport { waitForWatches } from '../object/q-object';\n/**\n * Mark component for rendering.\n *\n * Use `notifyRender` method to mark a component for rendering at some later point in time.\n * This method uses `getPlatform(doc).queueRender` for scheduling of the rendering. The\n * default implementation of the method is to use `requestAnimationFrame` to do actual rendering.\n *\n * The method is intended to coalesce multiple calls into `notifyRender` into a single call for\n * rendering.\n *\n * @param hostElement - Host-element of the component to re-render.\n * @returns A promise which is resolved when the component has been rendered.\n * @public\n */\nexport function notifyRender(hostElement) {\n    assertDefined(hostElement.getAttribute(QHostAttr));\n    const containerEl = getContainer(hostElement);\n    assertDefined(containerEl);\n    resumeIfNeeded(containerEl);\n    const ctx = getContext(hostElement);\n    const state = getRenderingState(containerEl);\n    if (ctx.dirty) {\n        // TODO\n        return state.renderPromise;\n    }\n    ctx.dirty = true;\n    const activeRendering = state.hostsRendering !== undefined;\n    if (activeRendering) {\n        state.hostsStaging.add(hostElement);\n        return state.renderPromise.then((ctx) => {\n            if (state.hostsNext.has(hostElement)) {\n                // TODO\n                return state.renderPromise;\n            }\n            else {\n                return ctx;\n            }\n        });\n    }\n    else {\n        state.hostsNext.add(hostElement);\n        return scheduleFrame(containerEl, state);\n    }\n}\nexport function scheduleFrame(containerEl, state) {\n    if (state.renderPromise === undefined) {\n        state.renderPromise = getPlatform(containerEl).nextTick(() => renderMarked(containerEl, state));\n    }\n    return state.renderPromise;\n}\nconst SCHEDULE = Symbol('Render state');\nexport function getRenderingState(containerEl) {\n    let set = containerEl[SCHEDULE];\n    if (!set) {\n        containerEl[SCHEDULE] = set = {\n            watchNext: new Set(),\n            watchStaging: new Set(),\n            watchRunning: new Set(),\n            hostsNext: new Set(),\n            hostsStaging: new Set(),\n            renderPromise: undefined,\n            hostsRendering: undefined,\n        };\n    }\n    return set;\n}\nexport async function renderMarked(containerEl, state) {\n    await waitForWatches(state);\n    state.hostsRendering = new Set(state.hostsNext);\n    state.hostsNext.clear();\n    const doc = getDocument(containerEl);\n    const platform = getPlatform(containerEl);\n    const renderingQueue = Array.from(state.hostsRendering);\n    sortNodes(renderingQueue);\n    const ctx = {\n        doc,\n        globalState: state,\n        hostElements: new Set(),\n        operations: [],\n        roots: [],\n        containerEl,\n        component: undefined,\n        perf: {\n            visited: 0,\n            timing: [],\n        },\n    };\n    for (const el of renderingQueue) {\n        if (!ctx.hostElements.has(el)) {\n            ctx.roots.push(el);\n            try {\n                await renderComponent(ctx, getContext(el));\n            }\n            catch (e) {\n                logError('Render failed', e, el);\n            }\n        }\n    }\n    // Early exist, no dom operations\n    if (ctx.operations.length === 0) {\n        if (qDev) {\n            if (typeof window !== 'undefined' && window.document != null) {\n                logDebug('Render skipped. No operations.');\n                printRenderStats(ctx);\n            }\n        }\n        postRendering(containerEl, state, ctx);\n        return ctx;\n    }\n    return platform.raf(() => {\n        executeContextWithSlots(ctx);\n        if (qDev) {\n            if (typeof window !== 'undefined' && window.document != null) {\n                printRenderStats(ctx);\n            }\n        }\n        postRendering(containerEl, state, ctx);\n        return ctx;\n    });\n}\nasync function postRendering(containerEl, state, ctx) {\n    // Run useEffect() watch\n    const promises = [];\n    state.watchNext.forEach((watch) => {\n        promises.push(runWatch(watch));\n    });\n    state.watchNext.clear();\n    // Run staging effected\n    state.watchStaging.forEach((watch) => {\n        if (ctx.hostElements.has(watch.el)) {\n            promises.push(runWatch(watch));\n        }\n        else {\n            state.watchNext.add(watch);\n        }\n    });\n    state.watchStaging.clear();\n    // Wait for all promises\n    await Promise.all(promises);\n    // Clear staging\n    state.hostsStaging.forEach((el) => {\n        state.hostsNext.add(el);\n    });\n    state.hostsStaging.clear();\n    // Clear staging\n    state.watchStaging.forEach((watch) => {\n        state.watchNext.add(watch);\n    });\n    state.watchStaging.clear();\n    state.hostsRendering = undefined;\n    state.renderPromise = undefined;\n    if (state.hostsNext.size + state.watchNext.size > 0) {\n        scheduleFrame(containerEl, state);\n    }\n}\nfunction sortNodes(elements) {\n    elements.sort((a, b) => (a.compareDocumentPosition(b) & 2 ? 1 : -1));\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm90aWZ5LXJlbmRlci5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9yZW5kZXIvbm90aWZ5LXJlbmRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDakQsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQzVDLE9BQU8sRUFBRSx1QkFBdUIsRUFBRSxnQkFBZ0IsRUFBaUIsTUFBTSxVQUFVLENBQUM7QUFDcEYsT0FBTyxFQUFFLFVBQVUsRUFBRSxjQUFjLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUM1RCxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sY0FBYyxDQUFDO0FBQ3BDLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUNuRCxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sYUFBYSxDQUFDO0FBQzFDLE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSw0QkFBNEIsQ0FBQztBQUM3RCxPQUFPLEVBQUUsUUFBUSxFQUFFLFFBQVEsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUNqRCxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDL0MsT0FBTyxFQUFFLFFBQVEsRUFBbUIsTUFBTSx1QkFBdUIsQ0FBQztBQUNsRSxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFFcEQ7Ozs7Ozs7Ozs7Ozs7R0FhRztBQUNILE1BQU0sVUFBVSxZQUFZLENBQUMsV0FBb0I7SUFDL0MsYUFBYSxDQUFDLFdBQVcsQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQztJQUVuRCxNQUFNLFdBQVcsR0FBRyxZQUFZLENBQUMsV0FBVyxDQUFFLENBQUM7SUFDL0MsYUFBYSxDQUFDLFdBQVcsQ0FBQyxDQUFDO0lBQzNCLGNBQWMsQ0FBQyxXQUFXLENBQUMsQ0FB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RUFBRTtRQUNoQyxLQUFLLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUMxQixDQUFDLENBQUMsQ0FBQztJQUNILEtBQUssQ0FBQyxZQUFZLENBQUMsS0FBSyxFQUFFLENBQUM7SUFFM0IsZ0JBQWdCO0lBQ2hCLEtBQUssQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLENBQUMsS0FBSyxFQUFFLEVBQUU7UUFDbkMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDN0IsQ0FBQyxDQUFDLENBQUM7SUFDSCxLQUFLLENBQUMsWUFBWSxDQUFDLEtBQUssRUFBRSxDQUFDO0lBRTNCLEtBQUssQ0FBQyxjQUFjLEdBQUcsU0FBUyxDQUFDO0lBQ2pDLEtBQUssQ0FBQyxhQUFhLEdBQUcsU0FBUyxDQUFDO0lBRWhDLElBQUksS0FBSyxDQUFDLFNBQVMsQ0FBQyxJQUFJLEdBQUcsS0FBSyxDQUFDLFNBQVMsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxFQUFFO1FBQ25ELGFBQWEsQ0FBQyxXQUFXLEVBQUUsS0FBSyxDQUFDLENBQUM7S0FDbkM7QUFDSCxDQUFDO0FBRUQsU0FBUyxTQUFTLENBQUMsUUFBbUI7SUFDcEMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLHVCQUF1QixDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDdkUsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFzc2VydERlZmluZWQgfSBmcm9tICcuLi9hc3NlcnQvYXNzZXJ0JztcbmltcG9ydCB7IFFIb3N0QXR0ciB9IGZyb20gJy4uL3V0aWwvbWFya2Vycyc7XG5pbXBvcnQgeyBleGVjdXRlQ29udGV4dFdpdGhTbG90cywgcHJpbnRSZW5kZXJTdGF0cywgUmVuZGVyQ29udGV4dCB9IGZyb20gJy4vY3Vyc29yJztcbmltcG9ydCB7IGdldENvbnRleHQsIHJlc3VtZUlmTmVlZGVkIH0gZnJvbSAnLi4vcHJvcHMvcHJvcHMnO1xuaW1wb3J0IHsgcURldiB9IGZyb20gJy4uL3V0aWwvcWRldic7XG5pbXBvcnQgeyBnZXRQbGF0Zm9ybSB9IGZyb20gJy4uL3BsYXRmb3JtL3BsYXRmb3JtJztcbmltcG9ydCB7IGdldERvY3VtZW50IH0gZnJvbSAnLi4vdXRpbC9kb20nO1xuaW1wb3J0IHsgcmVuZGVyQ29tcG9uZW50IH0gZnJvbSAnLi4vY29tcG9uZW50L2NvbXBvbmVudC1jdHgnO1xuaW1wb3J0IHsgbG9nRGVidWcsIGxvZ0Vycm9yIH0gZnJvbSAnLi4vdXRpbC9sb2cnO1xuaW1wb3J0IHsgZ2V0Q29udGFpbmVyIH0gZnJvbSAnLi4vdXNlL3VzZS1jb3JlJztcbmltcG9ydCB7IHJ1bldhdGNoLCBXYXRjaERlc2NyaXB0b3IgfSBmcm9tICcuLi93YXRjaC93YXRjaC5wdWJsaWMnO1xuaW1wb3J0IHsgd2FpdEZvcldhdGNoZXMgfSBmcm9tICcuLi9vYmplY3QvcS1vYmplY3QnO1xuXG4vKipcbiAqIE1hcmsgY29tcG9uZW50IGZvciByZW5kZXJpbmcuXG4gKlxuICogVXNlIGBub3RpZnlSZW5kZXJgIG1ldGhvZCB0byBtYXJrIGEgY29tcG9uZW50IGZvciByZW5kZXJpbmcgYXQgc29tZSBsYXRlciBwb2ludCBpbiB0aW1lLlxuICogVGhpcyBtZXRob2QgdXNlcyBgZ2V0UGxhdGZvcm0oZG9jKS5xdWV1ZVJlbmRlcmAgZm9yIHNjaGVkdWxpbmcgb2YgdGhlIHJlbmRlcmluZy4gVGhlXG4gKiBkZWZhdWx0IGltcGxlbWVudGF0aW9uIG9mIHRoZSBtZXRob2QgaXMgdG8gdXNlIGByZXF1ZXN0QW5pbWF0aW9uRnJhbWVgIHRvIGRvIGFjdHVhbCByZW5kZXJpbmcuXG4gKlxuICogVGhlIG1ldGhvZCBpcyBpbnRlbmRlZCB0byBjb2FsZXNjZSBtdWx0aXBsZSBjYWxscyBpbnRvIGBub3RpZnlSZW5kZXJgIGludG8gYSBzaW5nbGUgY2FsbCBmb3JcbiAqIHJlbmRlcmluZy5cbiAqXG4gKiBAcGFyYW0gaG9zdEVsZW1lbnQgLSBIb3N0LWVsZW1lbnQgb2YgdGhlIGNvbXBvbmVudCB0byByZS1yZW5kZXIuXG4gKiBAcmV0dXJucyBBIHByb21pc2Ugd2hpY2ggaXMgcmVzb2x2ZWQgd2hlbiB0aGUgY29tcG9uZW50IGhhcyBiZWVuIHJlbmRlcmVkLlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gbm90aWZ5UmVuZGVyKGhvc3RFbGVtZW50OiBFbGVtZW50KTogUHJvbWlzZTxSZW5kZXJDb250ZXh0PiB7XG4gIGFzc2VydERlZmluZWQoaG9zdEVsZW1lbnQuZ2V0QXR0cmlidXRlKFFIb3N0QXR0cikpO1xuXG4gIGNvbnN0IGNvbnRhaW5lckVsID0gZ2V0Q29udGFpbmVyKGhvc3RFbGVtZW50KSE7XG4gIGFzc2VydERlZmluZWQoY29udGFpbmVyRWwpO1xuICByZXN1bWVJZk5lZWRlZChjb250YWluZXJFbCk7XG5cbiAgY29uc3QgY3R4ID0gZ2V0Q29udGV4dChob3N0RWxlbWVudCk7XG4gIGNvbnN0IHN0YXRlID0gZ2V0UmVuZGVyaW5nU3RhdGUoY29udGFpbmVyRWwpO1xuICBpZiAoY3R4LmRpcnR5KSB7XG4gICAgLy8gVE9ET1xuICAgIHJldHVybiBzdGF0ZS5yZW5kZXJQcm9taXNlITtcbiAgfVxuICBjdHguZGlydHkgPSB0cnVlO1xuICBjb25zdCBhY3RpdmVSZW5kZXJpbmcgPSBzdGF0ZS5ob3N0c1JlbmRlcmluZyAhPT0gdW5kZWZpbmVkO1xuICBpZiAoYWN0aXZlUmVuZGVyaW5nKSB7XG4gICAgc3RhdGUuaG9zdHNTdGFnaW5nLmFkZChob3N0RWxlbWVudCk7XG4gICAgcmV0dXJuIHN0YXRlLnJlbmRlclByb21pc2UhLnRoZW4oKGN0eCkgPT4ge1xuICAgICAgaWYgKHN0YXRlLmhvc3RzTmV4dC5oYXMoaG9zdEVsZW1lbnQpKSB7XG4gICAgICAgIC8vIFRPRE9cbiAgICAgICAgcmV0dXJuIHN0YXRlLnJlbmRlclByb21pc2UhO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGN0eDtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBzdGF0ZS5ob3N0c05leHQuYWRkKGhvc3RFbGVtZW50KTtcbiAgICByZXR1cm4gc2NoZWR1bGVGcmFtZShjb250YWluZXJFbCwgc3RhdGUpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzY2hlZHVsZUZyYW1lKGNvbnRhaW5lckVsOiBFbGVtZW50LCBzdGF0ZTogUmVuZGVyaW5nU3RhdGUpOiBQcm9taXNlPFJlbmRlckNvbnRleHQ+IHtcbiAgaWYgKHN0YXRlLnJlbmRlclByb21pc2UgPT09IHVuZGVmaW5lZCkge1xuICAgIHN0YXRlLnJlbmRlclByb21pc2UgPSBnZXRQbGF0Zm9ybShjb250YWluZXJFbCkubmV4dFRpY2soKCkgPT4gcmVuZGVyTWFya2VkKGNvbnRhaW5lckVsLCBzdGF0ZSkpO1xuICB9XG4gIHJldHVybiBzdGF0ZS5yZW5kZXJQcm9taXNlO1xufVxuXG5jb25zdCBTQ0hFRFVMRSA9IFN5bWJvbCgnUmVuZGVyIHN0YXRlJyk7XG5cbi8qKlxuICogQGFscGhhXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVuZGVyaW5nU3RhdGUge1xuICB3YXRjaFJ1bm5pbmc6IFNldDxQcm9taXNlPFdhdGNoRGVzY3JpcHRvcj4+O1xuICB3YXRjaE5leHQ6IFNldDxXYXRjaERlc2NyaXB0b3I+O1xuICB3YXRjaFN0YWdpbmc6IFNldDxXYXRjaERlc2NyaXB0b3I+O1xuXG4gIGhvc3RzTmV4dDogU2V0PEVsZW1lbnQ+O1xuICBob3N0c1N0YWdpbmc6IFNldDxFbGVtZW50PjtcbiAgaG9zdHNSZW5kZXJpbmc6IFNldDxFbGVtZW50PiB8IHVuZGVmaW5lZDtcbiAgcmVuZGVyUHJvbWlzZTogUHJvbWlzZTxSZW5kZXJDb250ZXh0PiB8IHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFJlbmRlcmluZ1N0YXRlKGNvbnRhaW5lckVsOiBFbGVtZW50KTogUmVuZGVyaW5nU3RhdGUge1xuICBsZXQgc2V0ID0gKGNvbnRhaW5lckVsIGFzIGFueSlbU0NIRURVTEVdIGFzIFJlbmRlcmluZ1N0YXRlO1xuICBpZiAoIXNldCkge1xuICAgIChjb250YWluZXJFbCBhcyBhbnkpW1NDSEVEVUxFXSA9IHNldCA9IHtcbiAgICAgIHdhdGNoTmV4dDogbmV3IFNldCgpLFxuICAgICAgd2F0Y2hTdGFnaW5nOiBuZXcgU2V0KCksXG4gICAgICB3YXRjaFJ1bm5pbmc6IG5ldyBTZXQoKSxcblxuICAgICAgaG9zdHNOZXh0OiBuZXcgU2V0KCksXG4gICAgICBob3N0c1N0YWdpbmc6IG5ldyBTZXQoKSxcbiAgICAgIHJlbmRlclByb21pc2U6IHVuZGVmaW5lZCxcbiAgICAgIGhvc3RzUmVuZGVyaW5nOiB1bmRlZmluZWQsXG4gICAgfTtcbiAgfVxuICByZXR1cm4gc2V0O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVuZGVyTWFya2VkKFxuICBjb250YWluZXJFbDogRWxlbWVudCxcbiAgc3RhdGU6IFJlbmRlcmluZ1N0YXRlXG4pOiBQcm9taXNlPFJlbmRlckNvbnRleHQ+IHtcbiAgYXdhaXQgd2FpdEZvcldhdGNoZXMoc3RhdGUpO1xuXG4gIHN0YXRlLmhvc3RzUmVuZGVyaW5nID0gbmV3IFNldChzdGF0ZS5ob3N0c05leHQpO1xuICBzdGF0ZS5ob3N0c05leHQuY2xlYXIoKTtcblxuICBjb25zdCBkb2MgPSBnZXREb2N1bWVudChjb250YWluZXJFbCk7XG4gIGNvbnN0IHBsYXRmb3JtID0gZ2V0UGxhdGZvcm0oY29udGFpbmVyRWwpO1xuICBjb25zdCByZW5kZXJpbmdRdWV1ZSA9IEFycmF5LmZyb20oc3RhdGUuaG9zdHNSZW5kZXJpbmcpO1xuICBzb3J0Tm9kZXMocmVuZGVyaW5nUXVldWUpO1xuXG4gIGNvbnN0IGN0eDogUmVuZGVyQ29udGV4dCA9IHtcbiAgICBkb2MsXG4gICAgZ2xvYmFsU3RhdGU6IHN0YXRlLFxuICAgIGhvc3RFbGVtZW50czogbmV3IFNldCgpLFxuICAgIG9wZXJhdGlvbnM6IFtdLFxuICAgIHJvb3RzOiBbXSxcbiAgICBjb250YWluZXJFbCxcbiAgICBjb21wb25lbnQ6IHVuZGVmaW5lZCxcbiAgICBwZXJmOiB7XG4gICAgICB2aXNpdGVkOiAwLFxuICAgICAgdGltaW5nOiBbXSxcbiAgICB9LFxuICB9O1xuXG4gIGZvciAoY29uc3QgZWwgb2YgcmVuZGVyaW5nUXVldWUpIHtcbiAgICBpZiAoIWN0eC5ob3N0RWxlbWVudHMuaGFzKGVsKSkge1xuICAgICAgY3R4LnJvb3RzLnB1c2goZWwpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgcmVuZGVyQ29tcG9uZW50KGN0eCwgZ2V0Q29udGV4dChlbCkpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBsb2dFcnJvcignUmVuZGVyIGZhaWxlZCcsIGUsIGVsKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBFYXJseSBleGlzdCwgbm8gZG9tIG9wZXJhdGlvbnNcbiAgaWYgKGN0eC5vcGVyYXRpb25zLmxlbmd0aCA9PT0gMCkge1xuICAgIGlmIChxRGV2KSB7XG4gICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmRvY3VtZW50ICE9IG51bGwpIHtcbiAgICAgICAgbG9nRGVidWcoJ1JlbmRlciBza2lwcGVkLiBObyBvcGVyYXRpb25zLicpO1xuICAgICAgICBwcmludFJlbmRlclN0YXRzKGN0eCk7XG4gICAgICB9XG4gICAgfVxuICAgIHBvc3RSZW5kZXJpbmcoY29udGFpbmVyRWwsIHN0YXRlLCBjdHgpO1xuICAgIHJldHVybiBjdHg7XG4gIH1cblxuICByZXR1cm4gcGxhdGZvcm0ucmFmKCgpID0+IHtcbiAgICBleGVjdXRlQ29udGV4dFdpdGhTbG90cyhjdHgpO1xuICAgIGlmIChxRGV2KSB7XG4gICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmRvY3VtZW50ICE9IG51bGwpIHtcbiAgICAgICAgcHJpbnRSZW5kZXJTdGF0cyhjdHgpO1xuICAgICAgfVxuICAgIH1cbiAgICBwb3N0UmVuZGVyaW5nKGNvbnRhaW5lckVsLCBzdGF0ZSwgY3R4KTtcbiAgICByZXR1cm4gY3R4O1xuICB9KTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gcG9zdFJlbmRlcmluZyhjb250YWluZXJFbDogRWxlbWVudCwgc3RhdGU6IFJlbmRlcmluZ1N0YXRlLCBjdHg6IFJlbmRlckNvbnRleHQpIHtcbiAgLy8gUnVuIHVzZUVmZmVjdCgpIHdhdGNoXG4gIGNvbnN0IHByb21pc2VzOiBQcm9taXNlPFdhdGNoRGVzY3JpcHRvcj5bXSA9IFtdO1xuICBzdGF0ZS53YXRjaE5leHQuZm9yRWFjaCgod2F0Y2gpID0+IHtcbiAgICBwcm9taXNlcy5wdXNoKHJ1bldhdGNoKHdhdGNoKSk7XG4gIH0pO1xuICBzdGF0ZS53YXRjaE5leHQuY2xlYXIoKTtcblxuICAvLyBSdW4gc3RhZ2luZyBlZmZlY3RlZFxuICBzdGF0ZS53YXRjaFN0YWdpbmcuZm9yRWFjaCgod2F0Y2gpID0+IHtcbiAgICBpZiAoY3R4Lmhvc3RFbGVtZW50cy5oYXMod2F0Y2guZWwpKSB7XG4gICAgICBwcm9taXNlcy5wdXNoKHJ1bldhdGNoKHdhdGNoKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXRlLndhdGNoTmV4dC5hZGQod2F0Y2gpO1xuICAgIH1cbiAgfSk7XG4gIHN0YXRlLndhdGNoU3RhZ2luZy5jbGVhcigpO1xuXG4gIC8vIFdhaXQgZm9yIGFsbCBwcm9taXNlc1xuICBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcyk7XG5cbiAgLy8gQ2xlYXIgc3RhZ2luZ1xuICBzdGF0ZS5ob3N0c1N0YWdpbmcuZm9yRWFjaCgoZWwpID0+IHtcbiAgICBzdGF0ZS5ob3N0c05leHQuYWRkKGVsKTtcbiAgfSk7XG4gIHN0YXRlLmhvc3RzU3RhZ2luZy5jbGVhcigpO1xuXG4gIC8vIENsZWFyIHN0YWdpbmdcbiAgc3RhdGUud2F0Y2hTdGFnaW5nLmZvckVhY2goKHdhdGNoKSA9PiB7XG4gICAgc3RhdGUud2F0Y2hOZXh0LmFkZCh3YXRjaCk7XG4gIH0pO1xuICBzdGF0ZS53YXRjaFN0YWdpbmcuY2xlYXIoKTtcblxuICBzdGF0ZS5ob3N0c1JlbmRlcmluZyA9IHVuZGVmaW5lZDtcbiAgc3RhdGUucmVuZGVyUHJvbWlzZSA9IHVuZGVmaW5lZDtcblxuICBpZiAoc3RhdGUuaG9zdHNOZXh0LnNpemUgKyBzdGF0ZS53YXRjaE5leHQuc2l6ZSA+IDApIHtcbiAgICBzY2hlZHVsZUZyYW1lKGNvbnRhaW5lckVsLCBzdGF0ZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gc29ydE5vZGVzKGVsZW1lbnRzOiBFbGVtZW50W10pIHtcbiAgZWxlbWVudHMuc29ydCgoYSwgYikgPT4gKGEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oYikgJiAyID8gMSA6IC0xKSk7XG59XG4iXX0=","import { assertEqual } from '../assert/assert';\nimport { QError, qError } from '../error/error';\nimport { isQrl } from '../import/qrl-class';\nimport { getRenderingState, notifyRender, scheduleFrame, } from '../render/notify-render';\nimport { getContainer, tryGetInvokeContext } from '../use/use-core';\nimport { isDocument, isElement, isNode } from '../util/element';\nimport '../util/log';\nimport { qDev, qTest } from '../util/qdev';\nimport { debugStringify } from '../util/stringify';\nimport { WatchFlags } from '../watch/watch.public';\nimport { tryGetContext } from '../props/props';\nconst ProxyMapSymbol = Symbol('ProxyMapSymbol');\nexport function getProxyMap(doc) {\n    let map = doc[ProxyMapSymbol];\n    if (!map) {\n        map = doc[ProxyMapSymbol] = new WeakMap();\n    }\n    return map;\n}\nexport function qObject(obj, proxyMap) {\n    assertEqual(unwrapProxy(obj), obj, 'Unexpected proxy at this location');\n    if (obj == null || typeof obj !== 'object') {\n        // TODO(misko): centralize\n        throw new Error(`Q-ERROR: Only objects can be wrapped in 'QObject', got ` + debugStringify(obj));\n    }\n    if (obj.constructor !== Object) {\n        throw new Error(`Q-ERROR: Only objects literals can be wrapped in 'QObject', got ` + debugStringify(obj));\n    }\n    return readWriteProxy(obj, proxyMap);\n}\nexport function _restoreQObject(obj, map, subs) {\n    return readWriteProxy(obj, map, subs);\n}\n/**\n * Creates a proxy which notifies of any writes.\n */\nexport function readWriteProxy(target, proxyMap, subs) {\n    if (!target || typeof target !== 'object')\n        return target;\n    let proxy = proxyMap.get(target);\n    if (proxy)\n        return proxy;\n    proxy = new Proxy(target, new ReadWriteProxyHandler(proxyMap, subs));\n    proxyMap.set(target, proxy);\n    return proxy;\n}\nexport const QOjectTargetSymbol = ':target:';\nexport const QOjectAllSymbol = ':all:';\nexport const QOjectSubsSymbol = ':subs:';\nexport const QOjectOriginalProxy = ':proxy:';\nexport const SetSubscriber = Symbol('SetSubscriber');\n/**\n * @alpha\n */\nexport function unwrapProxy(proxy) {\n    if (proxy && typeof proxy == 'object') {\n        const value = proxy[QOjectTargetSymbol];\n        if (value)\n            return value;\n    }\n    return proxy;\n}\nexport function wrap(value, proxyMap) {\n    if (value && typeof value === 'object') {\n        if (isQrl(value)) {\n            return value;\n        }\n        if (Object.isFrozen(value)) {\n            return value;\n        }\n        const nakedValue = unwrapProxy(value);\n        if (nakedValue !== value) {\n            // already a proxy return;\n            return value;\n        }\n        if (isNode(nakedValue)) {\n            return value;\n        }\n        if (!shouldSerialize(nakedValue)) {\n            return value;\n        }\n        if (qDev) {\n            verifySerializable(value);\n        }\n        const proxy = proxyMap.get(value);\n        return proxy ? proxy : readWriteProxy(value, proxyMap);\n    }\n    else {\n        return value;\n    }\n}\nclass ReadWriteProxyHandler {\n    constructor(proxyMap, subs = new Map()) {\n        this.proxyMap = proxyMap;\n        this.subs = subs;\n    }\n    getSub(el) {\n        let sub = this.subs.get(el);\n        if (sub === undefined) {\n            this.subs.set(el, (sub = new Set()));\n        }\n        return sub;\n    }\n    get(target, prop) {\n        let subscriber = this.subscriber;\n        this.subscriber = undefined;\n        if (typeof prop === 'symbol') {\n            return target[prop];\n        }\n        if (prop === QOjectTargetSymbol)\n            return target;\n        if (prop === QOjectSubsSymbol)\n            return this.subs;\n        if (prop === QOjectOriginalProxy)\n            return this.proxyMap.get(target);\n        const invokeCtx = tryGetInvokeContext();\n        if (invokeCtx) {\n            if (invokeCtx.subscriber === null) {\n                subscriber = undefined;\n            }\n            else if (!subscriber) {\n                subscriber = invokeCtx.subscriber;\n            }\n        }\n        else if (qDev && !qTest && !subscriber) {\n            // logWarn(`State assigned outside invocation context. Getting prop \"${prop}\" of:`, target);\n        }\n        if (prop === QOjectAllSymbol) {\n            if (subscriber) {\n                this.subs.set(subscriber, null);\n            }\n            return target;\n        }\n        const value = target[prop];\n        if (typeof prop === 'symbol') {\n            return value;\n        }\n        if (subscriber) {\n            const isArray = Array.isArray(target);\n            if (isArray) {\n                this.subs.set(subscriber, null);\n            }\n            else {\n                const sub = this.getSub(subscriber);\n                if (sub) {\n                    sub.add(prop);\n                }\n            }\n        }\n        return wrap(value, this.proxyMap);\n    }\n    set(target, prop, newValue) {\n        if (typeof prop === 'symbol') {\n            if (prop === SetSubscriber) {\n                this.subscriber = newValue;\n            }\n            else {\n                target[prop] = newValue;\n            }\n            return true;\n        }\n        const subs = this.subs;\n        const unwrappedNewValue = unwrapProxy(newValue);\n        if (qDev) {\n            verifySerializable(unwrappedNewValue);\n        }\n        const isArray = Array.isArray(target);\n        if (isArray) {\n            target[prop] = unwrappedNewValue;\n            subs.forEach((_, sub) => {\n                if (isConnected(sub)) {\n                    notifyChange(sub);\n                }\n                else {\n                    subs.delete(sub);\n                }\n            });\n            return true;\n        }\n        const oldValue = target[prop];\n        if (oldValue !== unwrappedNewValue) {\n            target[prop] = unwrappedNewValue;\n            subs.forEach((propSets, sub) => {\n                if (isConnected(sub)) {\n                    if (propSets === null || propSets.has(prop)) {\n                        notifyChange(sub);\n                    }\n                }\n                else {\n                    subs.delete(sub);\n                }\n            });\n        }\n        return true;\n    }\n    has(target, property) {\n        if (property === QOjectTargetSymbol)\n            return true;\n        if (property === QOjectSubsSymbol)\n            return true;\n        return Object.prototype.hasOwnProperty.call(target, property);\n    }\n    ownKeys(target) {\n        let subscriber = this.subscriber;\n        const invokeCtx = tryGetInvokeContext();\n        if (invokeCtx) {\n            if (invokeCtx.subscriber === null) {\n                subscriber = undefined;\n            }\n            else if (!subscriber) {\n                subscriber = invokeCtx.subscriber;\n            }\n        }\n        else if (qDev && !qTest && !subscriber) {\n            // logWarn(`State assigned outside invocation context. OwnKeys of:`, target);\n        }\n        if (subscriber) {\n            this.subs.set(subscriber, null);\n        }\n        return Object.getOwnPropertyNames(target);\n    }\n}\nexport function removeSub(obj, subscriber) {\n    if (obj && typeof obj === 'object') {\n        const subs = obj[QOjectSubsSymbol];\n        if (subs) {\n            subs.delete(subscriber);\n        }\n    }\n}\nexport function notifyChange(subscriber) {\n    if (isElement(subscriber)) {\n        notifyRender(subscriber);\n    }\n    else {\n        notifyWatch(subscriber);\n    }\n}\nexport function notifyWatch(watch) {\n    const containerEl = getContainer(watch.el);\n    const state = getRenderingState(containerEl);\n    watch.f |= WatchFlags.IsDirty;\n    const activeRendering = state.hostsRendering !== undefined;\n    if (activeRendering) {\n        state.watchStaging.add(watch);\n    }\n    else {\n        state.watchNext.add(watch);\n        scheduleFrame(containerEl, state);\n    }\n}\nexport async function waitForWatches(state) {\n    while (state.watchRunning.size > 0) {\n        await Promise.all(state.watchRunning);\n    }\n}\nfunction verifySerializable(value) {\n    if (value == null) {\n        return null;\n    }\n    if (shouldSerialize(value)) {\n        const type = typeof value;\n        if (type === 'object') {\n            if (Array.isArray(value))\n                return;\n            if (Object.getPrototypeOf(value) === Object.prototype)\n                return;\n            if (isQrl(value))\n                return;\n            if (isElement(value))\n                return;\n            if (isDocument(value))\n                return;\n        }\n        if (['boolean', 'string', 'number'].includes(type)) {\n            return;\n        }\n        throw qError(QError.TODO, 'Only primitive and object literals can be serialized', value);\n    }\n}\nconst noSerializeSet = /*#__PURE__*/ new WeakSet();\nexport function shouldSerialize(obj) {\n    if (obj !== null && (typeof obj == 'object' || typeof obj === 'function')) {\n        return !noSerializeSet.has(obj);\n    }\n    return true;\n}\n// <docs markdown=\"../readme.md#noSerialize\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#noSerialize instead)\n/**\n * @alpha\n */\n// </docs>\nexport function noSerialize(input) {\n    noSerializeSet.add(input);\n    return input;\n}\n/**\n * @alpha\n */\nexport function immutable(input) {\n    return Object.freeze(input);\n}\nexport function isConnected(sub) {\n    if (isElement(sub)) {\n        return !!tryGetContext(sub);\n    }\n    else {\n        return isConnected(sub.el);\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicS1vYmplY3QuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvb2JqZWN0L3Etb2JqZWN0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUMvQyxPQUFPLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQ2hELE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUM1QyxPQUFPLEVBQ0wsaUJBQWlCLEVBQ2pCLFlBQVksRUFFWixhQUFhLEdBQ2QsTUFBTSx5QkFBeUIsQ0FBQztBQUNqQyxPQUFPLEVBQUUsWUFBWSxFQUFFLG1CQUFtQixFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDcEUsT0FBTyxFQUFFLFVBQVUsRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDaEUsT0FBd0IsYUFBYSxDQUFDO0FBQ3RDLE9BQU8sRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLE1BQU0sY0FBYyxDQUFDO0FBQzNDLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQztBQUNuRCxPQUFPLEVBQW1CLFVBQVUsRUFBRSxNQUFNLHVCQUF1QixDQUFDO0FBRXBFLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUsvQyxNQUFNLGNBQWMsR0FBRyxNQUFNLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztBQUVoRCxNQUFNLFVBQVUsV0FBVyxDQUFDLEdBQWE7SUFDdkMsSUFBSSxHQUFHLEdBQUksR0FBVyxDQUFDLGNBQWMsQ0FBQyxDQUFDO0lBQ3ZDLElBQUksQ0FBQyxHQUFHLEVBQUU7UUFDUixHQUFHLEdBQUksR0FBVyxDQUFDLGNBQWMsQ0FBQyxHQUFHLElBQUksT0FBTyxFQUFFLENBQUM7S0FDcEQ7SUFDRCxPQUFPLEdBQUcsQ0FBQztBQUNiLENB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TyxDQUFDO0FBRXhELE1BQU0sVUFBVSxlQUFlLENBQUMsR0FBUTtJQUN0QyxJQUFJLEdBQUcsS0FBSyxJQUFJLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxRQUFRLElBQUksT0FBTyxHQUFHLEtBQUssVUFBVSxDQUFDLEVBQUU7UUFDekUsT0FBTyxDQUFDLGNBQWMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7S0FDakM7SUFDRCxPQUFPLElBQUksQ0FBQztBQUNkLENBQUM7QUFPRCw2Q0FBNkM7QUFDN0MseUNBQXlDO0FBQ3pDLDBDQUEwQztBQUMxQzs7R0FFRztBQUNILFVBQVU7QUFDVixNQUFNLFVBQVUsV0FBVyxDQUFlLEtBQVE7SUFDaEQsY0FBYyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUMxQixPQUFPLEtBQVksQ0FBQztBQUN0QixDQUFDO0FBRUQ7O0dBRUc7QUFDSCxNQUFNLFVBQVUsU0FBUyxDQUFlLEtBQVE7SUFDOUMsT0FBTyxNQUFNLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQzlCLENBQUM7QUFFRCxNQUFNLFVBQVUsV0FBVyxDQUFDLEdBQWU7SUFDekMsSUFBSSxTQUFTLENBQUMsR0FBRyxDQUFDLEVBQUU7UUFDbEIsT0FBTyxDQUFDLENBQUMsYUFBYSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0tBQzdCO1NBQU07UUFDTCxPQUFPLFdBQVcsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUM7S0FDNUI7QUFDSCxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYXNzZXJ0RXF1YWwgfSBmcm9tICcuLi9hc3NlcnQvYXNzZXJ0JztcbmltcG9ydCB7IFFFcnJvciwgcUVycm9yIH0gZnJvbSAnLi4vZXJyb3IvZXJyb3InO1xuaW1wb3J0IHsgaXNRcmwgfSBmcm9tICcuLi9pbXBvcnQvcXJsLWNsYXNzJztcbmltcG9ydCB7XG4gIGdldFJlbmRlcmluZ1N0YXRlLFxuICBub3RpZnlSZW5kZXIsXG4gIFJlbmRlcmluZ1N0YXRlLFxuICBzY2hlZHVsZUZyYW1lLFxufSBmcm9tICcuLi9yZW5kZXIvbm90aWZ5LXJlbmRlcic7XG5pbXBvcnQgeyBnZXRDb250YWluZXIsIHRyeUdldEludm9rZUNvbnRleHQgfSBmcm9tICcuLi91c2UvdXNlLWNvcmUnO1xuaW1wb3J0IHsgaXNEb2N1bWVudCwgaXNFbGVtZW50LCBpc05vZGUgfSBmcm9tICcuLi91dGlsL2VsZW1lbnQnO1xuaW1wb3J0IHsgbG9nV2FybiB9IGZyb20gJy4uL3V0aWwvbG9nJztcbmltcG9ydCB7IHFEZXYsIHFUZXN0IH0gZnJvbSAnLi4vdXRpbC9xZGV2JztcbmltcG9ydCB7IGRlYnVnU3RyaW5naWZ5IH0gZnJvbSAnLi4vdXRpbC9zdHJpbmdpZnknO1xuaW1wb3J0IHsgV2F0Y2hEZXNjcmlwdG9yLCBXYXRjaEZsYWdzIH0gZnJvbSAnLi4vd2F0Y2gvd2F0Y2gucHVibGljJztcbmltcG9ydCB0eXBlIHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL3VzZS91c2Utc3Vic2NyaWJlcic7XG5pbXBvcnQgeyB0cnlHZXRDb250ZXh0IH0gZnJvbSAnLi4vcHJvcHMvcHJvcHMnO1xuXG5leHBvcnQgdHlwZSBPYmpUb1Byb3h5TWFwID0gV2Vha01hcDxhbnksIGFueT47XG5leHBvcnQgdHlwZSBRT2JqZWN0PFQgZXh0ZW5kcyB7fT4gPSBUICYgeyBfX2JyYW5kX186ICdRT2JqZWN0JyB9O1xuXG5jb25zdCBQcm94eU1hcFN5bWJvbCA9IFN5bWJvbCgnUHJveHlNYXBTeW1ib2wnKTtcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFByb3h5TWFwKGRvYzogRG9jdW1lbnQpOiBPYmpUb1Byb3h5TWFwIHtcbiAgbGV0IG1hcCA9IChkb2MgYXMgYW55KVtQcm94eU1hcFN5bWJvbF07XG4gIGlmICghbWFwKSB7XG4gICAgbWFwID0gKGRvYyBhcyBhbnkpW1Byb3h5TWFwU3ltYm9sXSA9IG5ldyBXZWFrTWFwKCk7XG4gIH1cbiAgcmV0dXJuIG1hcDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHFPYmplY3Q8VCBleHRlbmRzIE9iamVjdD4ob2JqOiBULCBwcm94eU1hcDogT2JqVG9Qcm94eU1hcCk6IFQge1xuICBhc3NlcnRFcXVhbCh1bndyYXBQcm94eShvYmopLCBvYmosICdVbmV4cGVjdGVkIHByb3h5IGF0IHRoaXMgbG9jYXRpb24nKTtcbiAgaWYgKG9iaiA9PSBudWxsIHx8IHR5cGVvZiBvYmogIT09ICdvYmplY3QnKSB7XG4gICAgLy8gVE9ETyhtaXNrbyk6IGNlbnRyYWxpemVcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgUS1FUlJPUjogT25seSBvYmplY3RzIGNhbiBiZSB3cmFwcGVkIGluICdRT2JqZWN0JywgZ290IGAgKyBkZWJ1Z1N0cmluZ2lmeShvYmopXG4gICAgKTtcbiAgfVxuICBpZiAob2JqLmNvbnN0cnVjdG9yICE9PSBPYmplY3QpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgUS1FUlJPUjogT25seSBvYmplY3RzIGxpdGVyYWxzIGNhbiBiZSB3cmFwcGVkIGluICdRT2JqZWN0JywgZ290IGAgKyBkZWJ1Z1N0cmluZ2lmeShvYmopXG4gICAgKTtcbiAgfVxuICByZXR1cm4gcmVhZFdyaXRlUHJveHkob2JqIGFzIGFueSBhcyBRT2JqZWN0PFQ+LCBwcm94eU1hcCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfcmVzdG9yZVFPYmplY3Q8VD4ob2JqOiBULCBtYXA6IE9ialRvUHJveHlNYXAsIHN1YnM6IE1hcDxFbGVtZW50LCBTZXQ8c3RyaW5nPj4pOiBUIHtcbiAgcmV0dXJuIHJlYWRXcml0ZVByb3h5KG9iaiBhcyBhbnkgYXMgUU9iamVjdDxUPiwgbWFwLCBzdWJzKTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgcHJveHkgd2hpY2ggbm90aWZpZXMgb2YgYW55IHdyaXRlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlYWRXcml0ZVByb3h5PFQgZXh0ZW5kcyBvYmplY3Q+KFxuICB0YXJnZXQ6IFQsXG4gIHByb3h5TWFwOiBPYmpUb1Byb3h5TWFwLFxuICBzdWJzPzogTWFwPEVsZW1lbnQsIFNldDxzdHJpbmc+PlxuKTogVCB7XG4gIGlmICghdGFyZ2V0IHx8IHR5cGVvZiB0YXJnZXQgIT09ICdvYmplY3QnKSByZXR1cm4gdGFyZ2V0O1xuICBsZXQgcHJveHkgPSBwcm94eU1hcC5nZXQodGFyZ2V0KTtcbiAgaWYgKHByb3h5KSByZXR1cm4gcHJveHk7XG5cbiAgcHJveHkgPSBuZXcgUHJveHkodGFyZ2V0LCBuZXcgUmVhZFdyaXRlUHJveHlIYW5kbGVyKHByb3h5TWFwLCBzdWJzKSkgYXMgYW55IGFzIFQ7XG4gIHByb3h5TWFwLnNldCh0YXJnZXQsIHByb3h5KTtcbiAgcmV0dXJuIHByb3h5O1xufVxuXG5leHBvcnQgY29uc3QgUU9qZWN0VGFyZ2V0U3ltYm9sID0gJzp0YXJnZXQ6JztcbmV4cG9ydCBjb25zdCBRT2plY3RBbGxTeW1ib2wgPSAnOmFsbDonO1xuZXhwb3J0IGNvbnN0IFFPamVjdFN1YnNTeW1ib2wgPSAnOnN1YnM6JztcbmV4cG9ydCBjb25zdCBRT2plY3RPcmlnaW5hbFByb3h5ID0gJzpwcm94eTonO1xuZXhwb3J0IGNvbnN0IFNldFN1YnNjcmliZXIgPSBTeW1ib2woJ1NldFN1YnNjcmliZXInKTtcblxuLyoqXG4gKiBAYWxwaGFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVud3JhcFByb3h5PFQ+KHByb3h5OiBUKTogVCB7XG4gIGlmIChwcm94eSAmJiB0eXBlb2YgcHJveHkgPT0gJ29iamVjdCcpIHtcbiAgICBjb25zdCB2YWx1ZSA9IChwcm94eSBhcyBhbnkpW1FPamVjdFRhcmdldFN5bWJvbF07XG4gICAgaWYgKHZhbHVlKSByZXR1cm4gdmFsdWU7XG4gIH1cbiAgcmV0dXJuIHByb3h5O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gd3JhcDxUPih2YWx1ZTogVCwgcHJveHlNYXA6IE9ialRvUHJveHlNYXApOiBUIHtcbiAgaWYgKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICBpZiAoaXNRcmwodmFsdWUpKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGlmIChPYmplY3QuaXNGcm96ZW4odmFsdWUpKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGNvbnN0IG5ha2VkVmFsdWUgPSB1bndyYXBQcm94eSh2YWx1ZSk7XG4gICAgaWYgKG5ha2VkVmFsdWUgIT09IHZhbHVlKSB7XG4gICAgICAvLyBhbHJlYWR5IGEgcHJveHkgcmV0dXJuO1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBpZiAoaXNOb2RlKG5ha2VkVmFsdWUpKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGlmICghc2hvdWxkU2VyaWFsaXplKG5ha2VkVmFsdWUpKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGlmIChxRGV2KSB7XG4gICAgICB2ZXJpZnlTZXJpYWxpemFibGU8VD4odmFsdWUpO1xuICAgIH1cbiAgICBjb25zdCBwcm94eSA9IHByb3h5TWFwLmdldCh2YWx1ZSk7XG4gICAgcmV0dXJuIHByb3h5ID8gcHJveHkgOiByZWFkV3JpdGVQcm94eSh2YWx1ZSBhcyBhbnksIHByb3h5TWFwKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbn1cblxudHlwZSBUYXJnZXRUeXBlID0gUmVjb3JkPHN0cmluZyB8IHN5bWJvbCwgYW55PjtcblxuZXhwb3J0IHR5cGUgU3Vic2NyaWJlck1hcCA9IE1hcDxTdWJzY3JpYmVyLCBTZXQ8c3RyaW5nPiB8IG51bGw+O1xuXG5jbGFzcyBSZWFkV3JpdGVQcm94eUhhbmRsZXIgaW1wbGVtZW50cyBQcm94eUhhbmRsZXI8VGFyZ2V0VHlwZT4ge1xuICBwcml2YXRlIHN1YnNjcmliZXI/OiBTdWJzY3JpYmVyO1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHByb3h5TWFwOiBPYmpUb1Byb3h5TWFwLCBwcml2YXRlIHN1YnM6IFN1YnNjcmliZXJNYXAgPSBuZXcgTWFwKCkpIHt9XG5cbiAgZ2V0U3ViKGVsOiBTdWJzY3JpYmVyKSB7XG4gICAgbGV0IHN1YiA9IHRoaXMuc3Vicy5nZXQoZWwpO1xuICAgIGlmIChzdWIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5zdWJzLnNldChlbCwgKHN1YiA9IG5ldyBTZXQoKSkpO1xuICAgIH1cbiAgICByZXR1cm4gc3ViO1xuICB9XG5cbiAgZ2V0KHRhcmdldDogVGFyZ2V0VHlwZSwgcHJvcDogc3RyaW5nIHwgc3ltYm9sKTogYW55IHtcbiAgICBsZXQgc3Vic2NyaWJlciA9IHRoaXMuc3Vic2NyaWJlcjtcbiAgICB0aGlzLnN1YnNjcmliZXIgPSB1bmRlZmluZWQ7XG4gICAgaWYgKHR5cGVvZiBwcm9wID09PSAnc3ltYm9sJykge1xuICAgICAgcmV0dXJuIHRhcmdldFtwcm9wXTtcbiAgICB9XG4gICAgaWYgKHByb3AgPT09IFFPamVjdFRhcmdldFN5bWJvbCkgcmV0dXJuIHRhcmdldDtcbiAgICBpZiAocHJvcCA9PT0gUU9qZWN0U3Vic1N5bWJvbCkgcmV0dXJuIHRoaXMuc3VicztcbiAgICBpZiAocHJvcCA9PT0gUU9qZWN0T3JpZ2luYWxQcm94eSkgcmV0dXJuIHRoaXMucHJveHlNYXAuZ2V0KHRhcmdldCk7XG4gICAgY29uc3QgaW52b2tlQ3R4ID0gdHJ5R2V0SW52b2tlQ29udGV4dCgpO1xuICAgIGlmIChpbnZva2VDdHgpIHtcbiAgICAgIGlmIChpbnZva2VDdHguc3Vic2NyaWJlciA9PT0gbnVsbCkge1xuICAgICAgICBzdWJzY3JpYmVyID0gdW5kZWZpbmVkO1xuICAgICAgfSBlbHNlIGlmICghc3Vic2NyaWJlcikge1xuICAgICAgICBzdWJzY3JpYmVyID0gaW52b2tlQ3R4LnN1YnNjcmliZXI7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChxRGV2ICYmICFxVGVzdCAmJiAhc3Vic2NyaWJlcikge1xuICAgICAgLy8gbG9nV2FybihgU3RhdGUgYXNzaWduZWQgb3V0c2lkZSBpbnZvY2F0aW9uIGNvbnRleHQuIEdldHRpbmcgcHJvcCBcIiR7cHJvcH1cIiBvZjpgLCB0YXJnZXQpO1xuICAgIH1cblxuICAgIGlmIChwcm9wID09PSBRT2plY3RBbGxTeW1ib2wpIHtcbiAgICAgIGlmIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHRoaXMuc3Vicy5zZXQoc3Vic2NyaWJlciwgbnVsbCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH1cblxuICAgIGNvbnN0IHZhbHVlID0gdGFyZ2V0W3Byb3BdO1xuICAgIGlmICh0eXBlb2YgcHJvcCA9PT0gJ3N5bWJvbCcpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICBpZiAoc3Vic2NyaWJlcikge1xuICAgICAgY29uc3QgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkodGFyZ2V0KTtcbiAgICAgIGlmIChpc0FycmF5KSB7XG4gICAgICAgIHRoaXMuc3Vicy5zZXQoc3Vic2NyaWJlciwgbnVsbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBzdWIgPSB0aGlzLmdldFN1YihzdWJzY3JpYmVyKTtcbiAgICAgICAgaWYgKHN1Yikge1xuICAgICAgICAgIHN1Yi5hZGQocHJvcCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHdyYXAodmFsdWUsIHRoaXMucHJveHlNYXApO1xuICB9XG5cbiAgc2V0KHRhcmdldDogVGFyZ2V0VHlwZSwgcHJvcDogc3RyaW5nIHwgc3ltYm9sLCBuZXdWYWx1ZTogYW55KTogYm9vbGVhbiB7XG4gICAgaWYgKHR5cGVvZiBwcm9wID09PSAnc3ltYm9sJykge1xuICAgICAgaWYgKHByb3AgPT09IFNldFN1YnNjcmliZXIpIHtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVyID0gbmV3VmFsdWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0YXJnZXRbcHJvcF0gPSBuZXdWYWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBjb25zdCBzdWJzID0gdGhpcy5zdWJzO1xuICAgIGNvbnN0IHVud3JhcHBlZE5ld1ZhbHVlID0gdW53cmFwUHJveHkobmV3VmFsdWUpO1xuICAgIGlmIChxRGV2KSB7XG4gICAgICB2ZXJpZnlTZXJpYWxpemFibGUodW53cmFwcGVkTmV3VmFsdWUpO1xuICAgIH1cbiAgICBjb25zdCBpc0FycmF5ID0gQXJyYXkuaXNBcnJheSh0YXJnZXQpO1xuICAgIGlmIChpc0FycmF5KSB7XG4gICAgICB0YXJnZXRbcHJvcCBhcyBhbnldID0gdW53cmFwcGVkTmV3VmFsdWU7XG4gICAgICBzdWJzLmZvckVhY2goKF8sIHN1YikgPT4ge1xuICAgICAgICBpZiAoaXNDb25uZWN0ZWQoc3ViKSkge1xuICAgICAgICAgIG5vdGlmeUNoYW5nZShzdWIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN1YnMuZGVsZXRlKHN1Yik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgY29uc3Qgb2xkVmFsdWUgPSB0YXJnZXRbcHJvcF07XG4gICAgaWYgKG9sZFZhbHVlICE9PSB1bndyYXBwZWROZXdWYWx1ZSkge1xuICAgICAgdGFyZ2V0W3Byb3BdID0gdW53cmFwcGVkTmV3VmFsdWU7XG4gICAgICBzdWJzLmZvckVhY2goKHByb3BTZXRzLCBzdWIpID0+IHtcbiAgICAgICAgaWYgKGlzQ29ubmVjdGVkKHN1YikpIHtcbiAgICAgICAgICBpZiAocHJvcFNldHMgPT09IG51bGwgfHwgcHJvcFNldHMuaGFzKHByb3ApKSB7XG4gICAgICAgICAgICBub3RpZnlDaGFuZ2Uoc3ViKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3Vicy5kZWxldGUoc3ViKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgaGFzKHRhcmdldDogVGFyZ2V0VHlwZSwgcHJvcGVydHk6IHN0cmluZyB8IHN5bWJvbCkge1xuICAgIGlmIChwcm9wZXJ0eSA9PT0gUU9qZWN0VGFyZ2V0U3ltYm9sKSByZXR1cm4gdHJ1ZTtcbiAgICBpZiAocHJvcGVydHkgPT09IFFPamVjdFN1YnNTeW1ib2wpIHJldHVybiB0cnVlO1xuXG4gICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0YXJnZXQsIHByb3BlcnR5KTtcbiAgfVxuXG4gIG93bktleXModGFyZ2V0OiBUYXJnZXRUeXBlKTogQXJyYXlMaWtlPHN0cmluZyB8IHN5bWJvbD4ge1xuICAgIGxldCBzdWJzY3JpYmVyID0gdGhpcy5zdWJzY3JpYmVyO1xuICAgIGNvbnN0IGludm9rZUN0eCA9IHRyeUdldEludm9rZUNvbnRleHQoKTtcbiAgICBpZiAoaW52b2tlQ3R4KSB7XG4gICAgICBpZiAoaW52b2tlQ3R4LnN1YnNjcmliZXIgPT09IG51bGwpIHtcbiAgICAgICAgc3Vic2NyaWJlciA9IHVuZGVmaW5lZDtcbiAgICAgIH0gZWxzZSBpZiAoIXN1YnNjcmliZXIpIHtcbiAgICAgICAgc3Vic2NyaWJlciA9IGludm9rZUN0eC5zdWJzY3JpYmVyO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAocURldiAmJiAhcVRlc3QgJiYgIXN1YnNjcmliZXIpIHtcbiAgICAgIC8vIGxvZ1dhcm4oYFN0YXRlIGFzc2lnbmVkIG91dHNpZGUgaW52b2NhdGlvbiBjb250ZXh0LiBPd25LZXlzIG9mOmAsIHRhcmdldCk7XG4gICAgfVxuXG4gICAgaWYgKHN1YnNjcmliZXIpIHtcbiAgICAgIHRoaXMuc3Vicy5zZXQoc3Vic2NyaWJlciwgbnVsbCk7XG4gICAgfVxuICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0YXJnZXQpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVTdWIob2JqOiBhbnksIHN1YnNjcmliZXI6IGFueSkge1xuICBpZiAob2JqICYmIHR5cGVvZiBvYmogPT09ICdvYmplY3QnKSB7XG4gICAgY29uc3Qgc3VicyA9IG9ialtRT2plY3RTdWJzU3ltYm9sXSBhcyBNYXA8U3Vic2NyaWJlciwgU2V0PHN0cmluZz4+IHwgdW5kZWZpbmVkO1xuICAgIGlmIChzdWJzKSB7XG4gICAgICBzdWJzLmRlbGV0ZShzdWJzY3JpYmVyKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG5vdGlmeUNoYW5nZShzdWJzY3JpYmVyOiBTdWJzY3JpYmVyKSB7XG4gIGlmIChpc0VsZW1lbnQoc3Vic2NyaWJlcikpIHtcbiAgICBub3RpZnlSZW5kZXIoc3Vic2NyaWJlcik7XG4gIH0gZWxzZSB7XG4gICAgbm90aWZ5V2F0Y2goc3Vic2NyaWJlciBhcyBXYXRjaERlc2NyaXB0b3IpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBub3RpZnlXYXRjaCh3YXRjaDogV2F0Y2hEZXNjcmlwdG9yKSB7XG4gIGNvbnN0IGNvbnRhaW5lckVsID0gZ2V0Q29udGFpbmVyKHdhdGNoLmVsKSE7XG4gIGNvbnN0IHN0YXRlID0gZ2V0UmVuZGVyaW5nU3RhdGUoY29udGFpbmVyRWwpO1xuICB3YXRjaC5mIHw9IFdhdGNoRmxhZ3MuSXNEaXJ0eTtcblxuICBjb25zdCBhY3RpdmVSZW5kZXJpbmcgPSBzdGF0ZS5ob3N0c1JlbmRlcmluZyAhPT0gdW5kZWZpbmVkO1xuICBpZiAoYWN0aXZlUmVuZGVyaW5nKSB7XG4gICAgc3RhdGUud2F0Y2hTdGFnaW5nLmFkZCh3YXRjaCk7XG4gIH0gZWxzZSB7XG4gICAgc3RhdGUud2F0Y2hOZXh0LmFkZCh3YXRjaCk7XG4gICAgc2NoZWR1bGVGcmFtZShjb250YWluZXJFbCwgc3RhdGUpO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB3YWl0Rm9yV2F0Y2hlcyhzdGF0ZTogUmVuZGVyaW5nU3RhdGUpIHtcbiAgd2hpbGUgKHN0YXRlLndhdGNoUnVubmluZy5zaXplID4gMCkge1xuICAgIGF3YWl0IFByb21pc2UuYWxsKHN0YXRlLndhdGNoUnVubmluZyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gdmVyaWZ5U2VyaWFsaXphYmxlPFQ+KHZhbHVlOiBUKSB7XG4gIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgaWYgKHNob3VsZFNlcmlhbGl6ZSh2YWx1ZSkpIHtcbiAgICBjb25zdCB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICAgIGlmICh0eXBlID09PSAnb2JqZWN0Jykge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSByZXR1cm47XG4gICAgICBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKHZhbHVlKSA9PT0gT2JqZWN0LnByb3RvdHlwZSkgcmV0dXJuO1xuICAgICAgaWYgKGlzUXJsKHZhbHVlKSkgcmV0dXJuO1xuICAgICAgaWYgKGlzRWxlbWVudCh2YWx1ZSkpIHJldHVybjtcbiAgICAgIGlmIChpc0RvY3VtZW50KHZhbHVlKSkgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoWydib29sZWFuJywgJ3N0cmluZycsICdudW1iZXInXS5pbmNsdWRlcyh0eXBlKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aHJvdyBxRXJyb3IoUUVycm9yLlRPRE8sICdPbmx5IHByaW1pdGl2ZSBhbmQgb2JqZWN0IGxpdGVyYWxzIGNhbiBiZSBzZXJpYWxpemVkJywgdmFsdWUpO1xuICB9XG59XG5cbmNvbnN0IG5vU2VyaWFsaXplU2V0ID0gLyojX19QVVJFX18qLyBuZXcgV2Vha1NldDxhbnk+KCk7XG5cbmV4cG9ydCBmdW5jdGlvbiBzaG91bGRTZXJpYWxpemUob2JqOiBhbnkpOiBib29sZWFuIHtcbiAgaWYgKG9iaiAhPT0gbnVsbCAmJiAodHlwZW9mIG9iaiA9PSAnb2JqZWN0JyB8fCB0eXBlb2Ygb2JqID09PSAnZnVuY3Rpb24nKSkge1xuICAgIHJldHVybiAhbm9TZXJpYWxpemVTZXQuaGFzKG9iaik7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogQGFscGhhXG4gKi9cbmV4cG9ydCB0eXBlIE5vU2VyaWFsaXplPFQ+ID0gKFQgJiB7IF9fbm9fc2VyaWFsaXplX186IHRydWUgfSkgfCB1bmRlZmluZWQ7XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kI25vU2VyaWFsaXplXCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi4vcmVhZG1lLm1kI25vU2VyaWFsaXplIGluc3RlYWQpXG4vKipcbiAqIEBhbHBoYVxuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgZnVuY3Rpb24gbm9TZXJpYWxpemU8VCBleHRlbmRzIHt9PihpbnB1dDogVCk6IE5vU2VyaWFsaXplPFQ+IHtcbiAgbm9TZXJpYWxpemVTZXQuYWRkKGlucHV0KTtcbiAgcmV0dXJuIGlucHV0IGFzIGFueTtcbn1cblxuLyoqXG4gKiBAYWxwaGFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGltbXV0YWJsZTxUIGV4dGVuZHMge30+KGlucHV0OiBUKTogUmVhZG9ubHk8VD4ge1xuICByZXR1cm4gT2JqZWN0LmZyZWV6ZShpbnB1dCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0Nvbm5lY3RlZChzdWI6IFN1YnNjcmliZXIpOiBib29sZWFuIHtcbiAgaWYgKGlzRWxlbWVudChzdWIpKSB7XG4gICAgcmV0dXJuICEhdHJ5R2V0Q29udGV4dChzdWIpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBpc0Nvbm5lY3RlZChzdWIuZWwpO1xuICB9XG59XG4iXX0=","import { QOjectOriginalProxy, QOjectTargetSymbol, SetSubscriber } from '../object/q-object';\nimport { RenderEvent } from '../util/markers';\nimport { assertDefined, assertEqual } from '../assert/assert';\nimport { getInvokeContext } from './use-core';\n/**\n * @alpha\n */\nexport function useSubscriber(obj) {\n    const ctx = getInvokeContext();\n    let subscriber = ctx.watch;\n    if (!subscriber) {\n        assertEqual(ctx.event, RenderEvent);\n        subscriber = ctx.hostElement;\n    }\n    assertDefined(subscriber);\n    return wrapSubscriber(obj, subscriber);\n}\n/**\n * @alpha\n */\nexport function wrapSubscriber(obj, subscriber) {\n    if (obj && typeof obj === 'object') {\n        const target = obj[QOjectTargetSymbol];\n        if (!target) {\n            return obj;\n        }\n        return new Proxy(obj, {\n            get(target, prop) {\n                if (prop === QOjectOriginalProxy) {\n                    return target;\n                }\n                target[SetSubscriber] = subscriber;\n                return target[prop];\n            },\n            ownKeys(target) {\n                target[SetSubscriber] = subscriber;\n                return Reflect.ownKeys(target);\n            },\n        });\n    }\n    return obj;\n}\n/**\n * @alpha\n */\nexport function unwrapSubscriber(obj) {\n    if (obj && typeof obj === 'object') {\n        const proxy = obj[QOjectOriginalProxy];\n        if (proxy) {\n            return proxy;\n        }\n    }\n    return obj;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLXN1YnNjcmliZXIuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvdXNlL3VzZS1zdWJzY3JpYmVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxtQkFBbUIsRUFBRSxrQkFBa0IsRUFBRSxhQUFhLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUU1RixPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDOUMsT0FBTyxFQUFFLGFBQWEsRUFBRSxXQUFXLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUM5RCxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxZQUFZLENBQUM7QUFPOUM7O0dBRUc7QUFDSCxNQUFNLFVBQVUsYUFBYSxDQUFlLEdBQU07SUFDaEQsTUFBTSxHQUFHLEdBQUcsZ0JBQWdCLEVBQUUsQ0FBQztJQUMvQixJQUFJLFVBQVUsR0FBMkIsR0FBRyxDQUFDLEtBQUssQ0FBQztJQUNuRCxJQUFJLENBQUMsVUFBVSxFQUFFO1FBQ2YsV0FBVyxDQUFDLEdBQUcsQ0FBQyxLQUFLLEVBQUUsV0FBVyxDQUFDLENBQUM7UUFDcEMsVUFBVSxHQUFHLEdBQUcsQ0FBQyxXQUFXLENBQUM7S0FDOUI7SUFDRCxhQUFhLENBQUMsVUFBVSxDQUFDLENBQUM7SUFDMUIsT0FBTyxjQUFjLENBQUMsR0FBRyxFQUFFLFVBQVcsQ0FBQyxDQUFDO0FBQzFDLENBQUM7QUFFRDs7R0FFRztBQUNILE1BQU0sVUFBVSxjQUFjLENBQWUsR0FBTSxFQUFFLFVBQXNCO0lBQ3pFLElBQUksR0FBRyxJQUFJLE9BQU8sR0FBRyxLQUFLLFFBQVEsRUFBRTtRQUNsQyxNQUFNLE1BQU0sR0FBSSxHQUFXLENBQUMsa0JBQWtCLENBQUMsQ0FBQztRQUNoRCxJQUFJLENBQUMsTUFBTSxFQUFFO1lBQ1gsT0FBTyxHQUFHLENBQUM7U0FDWjtRQUNELE9BQU8sSUFBSSxLQUFLLENBQU0sR0FBRyxFQUFFO1lBQ3pCLEdBQUcsQ0FBQyxNQUFNLEVBQUUsSUFBSTtnQkFDZCxJQUFJLElBQUksS0FBSyxtQkFBbUIsRUFBRTtvQkFDaEMsT0FBTyxNQUFNLENBQUM7aUJBQ2Y7Z0JBQ0QsTUFBTSxDQUFDLGFBQWEsQ0FBQyxHQUFHLFVBQVUsQ0FBQztnQkFDbkMsT0FBTyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDdEIsQ0FBQztZQUNELE9BQU8sQ0FBQyxNQUFNO2dCQUNaLE1BQU0sQ0FBQyxhQUFhLENBQUMsR0FBRyxVQUFVLENBQUM7Z0JBQ25DLE9BQU8sT0FBTyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUNqQyxDQUFDO1NBQ0YsQ0FBQyxDQUFDO0tBQ0o7SUFDRCxPQUFPLEdBQUcsQ0FBQztBQUNiLENBQUM7QUFFRDs7R0FFRztBQUNILE1BQU0sVUFBVSxnQkFBZ0IsQ0FBZSxHQUFNO0lBQ25ELElBQUksR0FBRyxJQUFJLE9BQU8sR0FBRyxLQUFLLFFBQVEsRUFBRTtRQUNsQyxNQUFNLEtBQUssR0FBSSxHQUFXLENBQUMsbUJBQW1CLENBQUMsQ0FBQztRQUNoRCxJQUFJLEtBQUssRUFBRTtZQUNULE9BQU8sS0FBSyxDQUFDO1NBQ2Q7S0FDRjtJQUNELE9BQU8sR0FBRyxDQUFDO0FBQ2IsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFFPamVjdE9yaWdpbmFsUHJveHksIFFPamVjdFRhcmdldFN5bWJvbCwgU2V0U3Vic2NyaWJlciB9IGZyb20gJy4uL29iamVjdC9xLW9iamVjdCc7XG5pbXBvcnQgdHlwZSB7IFdhdGNoRGVzY3JpcHRvciB9IGZyb20gJy4uL3dhdGNoL3dhdGNoLnB1YmxpYyc7XG5pbXBvcnQgeyBSZW5kZXJFdmVudCB9IGZyb20gJy4uL3V0aWwvbWFya2Vycyc7XG5pbXBvcnQgeyBhc3NlcnREZWZpbmVkLCBhc3NlcnRFcXVhbCB9IGZyb20gJy4uL2Fzc2VydC9hc3NlcnQnO1xuaW1wb3J0IHsgZ2V0SW52b2tlQ29udGV4dCB9IGZyb20gJy4vdXNlLWNvcmUnO1xuXG4vKipcbiAqIEBhbHBoYVxuICovXG5leHBvcnQgdHlwZSBTdWJzY3JpYmVyID0gV2F0Y2hEZXNjcmlwdG9yIHwgRWxlbWVudDtcblxuLyoqXG4gKiBAYWxwaGFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZVN1YnNjcmliZXI8VCBleHRlbmRzIHt9PihvYmo6IFQpOiBUIHtcbiAgY29uc3QgY3R4ID0gZ2V0SW52b2tlQ29udGV4dCgpO1xuICBsZXQgc3Vic2NyaWJlcjogU3Vic2NyaWJlciB8IHVuZGVmaW5lZCA9IGN0eC53YXRjaDtcbiAgaWYgKCFzdWJzY3JpYmVyKSB7XG4gICAgYXNzZXJ0RXF1YWwoY3R4LmV2ZW50LCBSZW5kZXJFdmVudCk7XG4gICAgc3Vic2NyaWJlciA9IGN0eC5ob3N0RWxlbWVudDtcbiAgfVxuICBhc3NlcnREZWZpbmVkKHN1YnNjcmliZXIpO1xuICByZXR1cm4gd3JhcFN1YnNjcmliZXIob2JqLCBzdWJzY3JpYmVyISk7XG59XG5cbi8qKlxuICogQGFscGhhXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3cmFwU3Vic2NyaWJlcjxUIGV4dGVuZHMge30+KG9iajogVCwgc3Vic2NyaWJlcjogU3Vic2NyaWJlcikge1xuICBpZiAob2JqICYmIHR5cGVvZiBvYmogPT09ICdvYmplY3QnKSB7XG4gICAgY29uc3QgdGFyZ2V0ID0gKG9iaiBhcyBhbnkpW1FPamVjdFRhcmdldFN5bWJvbF07XG4gICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuICAgIHJldHVybiBuZXcgUHJveHk8YW55PihvYmosIHtcbiAgICAgIGdldCh0YXJnZXQsIHByb3ApIHtcbiAgICAgICAgaWYgKHByb3AgPT09IFFPamVjdE9yaWdpbmFsUHJveHkpIHtcbiAgICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgICAgICB9XG4gICAgICAgIHRhcmdldFtTZXRTdWJzY3JpYmVyXSA9IHN1YnNjcmliZXI7XG4gICAgICAgIHJldHVybiB0YXJnZXRbcHJvcF07XG4gICAgICB9LFxuICAgICAgb3duS2V5cyh0YXJnZXQpIHtcbiAgICAgICAgdGFyZ2V0W1NldFN1YnNjcmliZXJdID0gc3Vic2NyaWJlcjtcbiAgICAgICAgcmV0dXJuIFJlZmxlY3Qub3duS2V5cyh0YXJnZXQpO1xuICAgICAgfSxcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gb2JqO1xufVxuXG4vKipcbiAqIEBhbHBoYVxuICovXG5leHBvcnQgZnVuY3Rpb24gdW53cmFwU3Vic2NyaWJlcjxUIGV4dGVuZHMge30+KG9iajogVCkge1xuICBpZiAob2JqICYmIHR5cGVvZiBvYmogPT09ICdvYmplY3QnKSB7XG4gICAgY29uc3QgcHJveHkgPSAob2JqIGFzIGFueSlbUU9qZWN0T3JpZ2luYWxQcm94eV07XG4gICAgaWYgKHByb3h5KSB7XG4gICAgICByZXR1cm4gcHJveHk7XG4gICAgfVxuICB9XG4gIHJldHVybiBvYmo7XG59XG4iXX0=","import { EMPTY_ARRAY } from '../util/flyweight';\nimport { isQrl, QRLInternal } from './qrl-class';\nimport { assertEqual } from '../assert/assert';\nimport { getDocument } from '../util/dom';\nimport { logError } from '../util/log';\nimport { then } from '../util/promises';\nimport { getPlatform } from '../platform/platform';\nimport { unwrapSubscriber } from '../use/use-subscriber';\nimport { tryGetInvokeContext } from '../use/use-core';\nlet runtimeSymbolId = 0;\nconst RUNTIME_QRL = '/runtimeQRL';\n// https://regexr.com/68v72\nconst EXTRACT_IMPORT_PATH = /\\(\\s*(['\"])([^\\1]+)\\1\\s*\\)/;\n// https://regexr.com/690ds\nconst EXTRACT_SELF_IMPORT = /Promise\\s*\\.\\s*resolve/;\n// https://regexr.com/6a83h\nconst EXTRACT_FILE_NAME = /[\\\\/(]([\\w\\d.\\-_]+\\.(js|ts)x?):/;\nexport function toInternalQRL(qrl) {\n    assertEqual(isQrl(qrl), true);\n    return qrl;\n}\n/**\n * Lazy-load a `QRL` symbol and return the lazy-loaded value.\n *\n * @see `QRL`\n *\n * @param element - Location of the URL to resolve against. This is needed to take `q:base` into\n * account.\n * @param qrl - QRL to load.\n * @returns A resolved QRL value as a Promise.\n */\nexport function qrlImport(element, qrl) {\n    const qrl_ = toInternalQRL(qrl);\n    if (qrl_.symbolRef)\n        return qrl_.symbolRef;\n    if (qrl_.symbolFn) {\n        return (qrl_.symbolRef = qrl_\n            .symbolFn()\n            .then((module) => (qrl_.symbolRef = module[qrl_.symbol])));\n    }\n    else {\n        if (!element) {\n            throw new Error(`QRL '${qrl_.chunk}#${qrl_.symbol || 'default'}' does not have an attached container`);\n        }\n        const symbol = getPlatform(getDocument(element)).importSymbol(element, qrl_.chunk, qrl_.symbol);\n        return (qrl_.symbolRef = then(symbol, (ref) => {\n            return (qrl_.symbolRef = ref);\n        }));\n    }\n}\n// <docs markdown=\"../readme.md#qrl\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#qrl instead)\n/**\n * Used by Qwik Optimizer to point to lazy-loaded resources.\n *\n * This function should be used by the Qwik Optimizer only. The function should not be directly\n * referred to in the source code of the application.\n *\n * @see `QRL`, `$(...)`\n *\n * @param chunkOrFn - Chunk name (or function which is stringified to extract chunk name)\n * @param symbol - Symbol to lazy load\n * @param lexicalScopeCapture - a set of lexically scoped variables to capture.\n * @alpha\n */\n// </docs>\nexport function qrl(chunkOrFn, symbol, lexicalScopeCapture = EMPTY_ARRAY) {\n    let chunk;\n    let symbolFn = null;\n    if (typeof chunkOrFn === 'string') {\n        chunk = chunkOrFn;\n    }\n    else if (typeof chunkOrFn === 'function') {\n        symbolFn = chunkOrFn;\n        let match;\n        const srcCode = String(chunkOrFn);\n        if ((match = srcCode.match(EXTRACT_IMPORT_PATH)) && match[2]) {\n            chunk = match[2];\n        }\n        else if ((match = srcCode.match(EXTRACT_SELF_IMPORT))) {\n            const ref = 'QWIK-SELF';\n            const frames = new Error(ref).stack.split('\\n');\n            const start = frames.findIndex((f) => f.includes(ref));\n            const frame = frames[start + 2];\n            match = frame.match(EXTRACT_FILE_NAME);\n            if (!match) {\n                chunk = 'main';\n            }\n            else {\n                chunk = match[1];\n            }\n        }\n        else {\n            throw new Error('Q-ERROR: Dynamic import not found: ' + srcCode);\n        }\n    }\n    else {\n        throw new Error('Q-ERROR: Unknown type argument: ' + chunkOrFn);\n    }\n    // Unwrap subscribers\n    if (Array.isArray(lexicalScopeCapture)) {\n        for (let i = 0; i < lexicalScopeCapture.length; i++) {\n            lexicalScopeCapture[i] = unwrapSubscriber(lexicalScopeCapture[i]);\n        }\n    }\n    const qrl = new QRLInternal(chunk, symbol, null, symbolFn, null, lexicalScopeCapture);\n    const ctx = tryGetInvokeContext();\n    if (ctx && ctx.element) {\n        qrl.setContainer(ctx.element);\n    }\n    return qrl;\n}\nexport function runtimeQrl(symbol, lexicalScopeCapture = EMPTY_ARRAY) {\n    return new QRLInternal(RUNTIME_QRL, 's' + runtimeSymbolId++, symbol, null, null, lexicalScopeCapture);\n}\nexport function stringifyQRL(qrl, opts = {}) {\n    const qrl_ = toInternalQRL(qrl);\n    const symbol = qrl_.symbol;\n    const refSymbol = qrl_.refSymbol ?? symbol;\n    const platform = opts.platform;\n    const element = opts.element;\n    const chunk = platform ? platform.chunkForSymbol(refSymbol) ?? qrl_.chunk : qrl_.chunk;\n    const parts = [chunk];\n    if (symbol && symbol !== 'default') {\n        parts.push('#', symbol);\n    }\n    const capture = qrl_.capture;\n    const captureRef = qrl_.captureRef;\n    if (opts.getObjId) {\n        if (captureRef && captureRef.length) {\n            const capture = captureRef.map(opts.getObjId);\n            parts.push(`[${capture.join(' ')}]`);\n        }\n    }\n    else if (capture && capture.length > 0) {\n        parts.push(`[${capture.join(' ')}]`);\n    }\n    const qrlString = parts.join('');\n    if (qrl_.chunk === RUNTIME_QRL && element) {\n        const qrls = element.__qrls__ || (element.__qrls__ = new Set());\n        qrls.add(qrl);\n    }\n    return qrlString;\n}\nexport function qrlToUrl(element, qrl) {\n    return new URL(stringifyQRL(qrl), getDocument(element).baseURI);\n}\n/**\n * `./chunk#symbol|symbol.propA.propB|[captures]\n */\nexport function parseQRL(qrl, el) {\n    const endIdx = qrl.length;\n    const hashIdx = indexOf(qrl, 0, '#');\n    const captureIdx = indexOf(qrl, hashIdx, '[');\n    const chunkEndIdx = Math.min(hashIdx, captureIdx);\n    const chunk = qrl.substring(0, chunkEndIdx);\n    const symbolStartIdx = hashIdx == endIdx ? hashIdx : hashIdx + 1;\n    const symbolEndIdx = captureIdx;\n    const symbol = symbolStartIdx == symbolEndIdx ? 'default' : qrl.substring(symbolStartIdx, symbolEndIdx);\n    const captureStartIdx = captureIdx;\n    const captureEndIdx = endIdx;\n    const capture = captureStartIdx === captureEndIdx\n        ? EMPTY_ARRAY\n        : qrl.substring(captureStartIdx + 1, captureEndIdx - 1).split(' ');\n    if (chunk === RUNTIME_QRL) {\n        logError(`Q-ERROR: '${qrl}' is runtime but no instance found on element.`);\n    }\n    const iQrl = new QRLInternal(chunk, symbol, null, null, capture, null);\n    if (el) {\n        iQrl.setContainer(el);\n    }\n    return iQrl;\n}\nfunction indexOf(text, startIdx, char) {\n    const endIdx = text.length;\n    const charIdx = text.indexOf(char, startIdx == endIdx ? 0 : startIdx);\n    return charIdx == -1 ? endIdx : charIdx;\n}\nexport function toQrlOrError(symbolOrQrl) {\n    if (!isQrl(symbolOrQrl)) {\n        if (typeof symbolOrQrl == 'function' || typeof symbolOrQrl == 'string') {\n            symbolOrQrl = runtimeQrl(symbolOrQrl);\n        }\n        else {\n            // TODO(misko): centralize\n            throw new Error(`Q-ERROR Only 'function's and 'string's are supported.`);\n        }\n    }\n    return symbolOrQrl;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicXJsLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL2ltcG9ydC9xcmwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBRWhELE9BQU8sRUFBRSxLQUFLLEVBQUUsV0FBVyxFQUFFLE1BQU0sYUFBYSxDQUFDO0FBQ2pELE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUcvQyxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sYUFBYSxDQUFDO0FBQzFDLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFDdkMsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBQ3hDLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUNuRCxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQUN6RCxPQUFPLEVBQUUsbUJBQW1CLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUV0RCxJQUFJLGVBQWUsR0FBRyxDQUFDLENBQUM7QUFDeEIsTUFBTSxXQUFXLEdBQUcsYUFBYSxDQUFDO0FBRWxDLDJCQUEyQjtBQUMzQixNQUFNLG1CQUFtQixHQUFHLDRCQUE0QixDQUFDO0FBRXpELDJCQUEyQjtBQUMzQixNQUFNLG1CQUFtQixHQUFHLHdCQUF3QixDQUFDO0FBRXJELDJCQUEyQjtBQUMzQixNQUFNLGlCQUFpQixHQUFHLGlDQUFpQyxDQUFDO0FBRTVELE1BQU0sVUFBVSxhQUFhLENBQUksR0FBVztJQUMxQyxXQUFXLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQzlCLE9BQU8sR0FBcUIsQ0FBQztBQUMvQixDQUFDO0FBRUQ7Ozs7Ozs7OztHQVNHO0FBQ0gsTUFBTSxVQUFVLFNBQVMsQ0FBSSxPQUE0QixFQUFFLEdBQVc7SUFDcEUsTUFBTSxJQUFJLEdBQUcsYUFBYSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ2hDLElBQUksSUFBSSxDQUFDLFNBQVM7UUFBRSxPQUFPLElBQUksQ0FBQyxTQUFTLENBQUM7SUFDMUMsSUFBSSxJQUFJLENBQUMsUUFBUSxFQUFFO1FBQ2pCLE9BQU8sQ0FBQyxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUk7YUFDMUIsUUFBUSxFQUFFO2FBQ1YsSUFBSSxDQUFDLENBQUMsTUFBTSxFQUFFLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxTQUFTLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztLQUM5RDtTQUFNO1FBQ0wsSUFBSSxDQUFDLE9BQU8sRUFBRTtZQUNaLE1BQU0sSUFBSSxLQUFLLENBQ2IsUUFBUSxJQUFJLENBQUMsS0FBSyxJQUFJLElBQUksQ0FBQyxNQUFNLElBQUksU0FBUyx1Q0FBdUMsQ0FDdEYsQ0FBQztTQUNIO1FBQ0QsTUFBTSxNQUFNLEdBQUcsV0FBVyxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLFlBQVksQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDaEcsT0FBTyxDQUFDLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsRUFBRSxFQUFFO1lBQzVDLE9BQU8sQ0FBQyxJQUFJLENBQUMsU0FBUyxHQUFHLEdBQUcsQ0FBQyxDQUFDO1FBQ2hDLENBQUMsQ0FBQyxDQUFDLENBQUM7S0FDTDtBQUNILENBQUM7QUFFRCxxQ0FBcUM7QUFDckMseUNBQXlDO0FBQ3pDLGtDQUFrQztBQUNsQzs7Ozs7Ozs7Ozs7O0dBWUc7QUFDSCxVQUFVO0FBQ1YsTUFBTSxVQUFVLEdBQUcsQ0FDakIsU0FBd0MsRUFDeEMsTUFBYyxFQUNkLHNCQUFvQyxXQUFXO0lBRS9DLElBQUksS0FBYSxDQUFDO0lBQ2xCLElBQUksUUFBUSxHQUFnRCxJQUFJLENBQUM7SUFDakUsSUFBSSxPQUFPLFNBQVMsS0FBSyxRQUFRLEVBQUU7UUFDakMsS0FBSyxHQUFHLFNBQVMsQ0FBQztLQUNuQjtTQUFNLElBQUksT0FBTyxTQUFTLEtBQUssVUFBVSxFQUFFO1FBQzFDLFFBQVEsR0FBRyxTQUFTLENBQUM7UUFDckIsSUFBSSxLQUE4QixDQUFDO1FBQ25DLE1BQU0sT0FBTyxHQUFHLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUNsQyxJQUFJLENBQUMsS0FBSyxHQUFHLE9BQU8sQ0FBQyxLQUFLLENBQUMsbUJBQW1CLENBQUMsQ0FBQyxJQUFJLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRTtZQUM1RCxLQUFLLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ2xCO2FBQU0sSUFBSSxDQUFDLEtBQUssR0FBRyxPQUFPLENBQUMsS0FBSyxDQUFDLG1CQUFtQixDQUFDLENBQUMsRUFBRTtZQUN2RCxNQUFNLEdBQUcsR0FBRyxXQUFXLENBQUM7WUFDeEIsTUFBTSxNQUFNLEdBQUcsSUFBSSxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsS0FBTSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUNqRCxNQUFNLEtBQUssR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7WUFDdkQsTUFBTSxLQUFLLEdBQUcsTUFBTSxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsQ0FBQztZQUNoQyxLQUFLLEdBQUcsS0FBSyxDQUFDLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO1lBQ3ZDLElBQUksQ0FBQyxLQUFLLEVBQUU7Z0JBQ1YsS0FBSyxHQUFHLE1BQU0sQ0FBQzthQUNoQjtpQkFBTTtnQkFDTCxLQUFLLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO2FBQ2xCO1NBQ0Y7YUFBTTtZQUNMLE1BQU0sSUFBSSxLQUFLLENBQUMscUNBQXFDLEdBQUcsT0FBTyxDQUFDLENBQUM7U0FDbEU7S0FDRjtTQUFNO1FBQ0wsTUFBTSxJQUFJLEtBQUssQ0FBQyxrQ0FBa0MsR0FBRyxTQUFTLENBQUMsQ0FBQztLQUNqRTtJQUVELHFCQUFxQjtJQUNyQixJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsbUJBQW1CLENBQUMsRUFBRTtRQUN0QyxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsbUJBQW1CLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO1lBQ25ELG1CQUFtQixDQUFDLENBQUMsQ0FBQyxHQUFHLGdCQUFnQixDQUFDLG1CQUFtQixDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDbkU7S0FDRjtJQUNELE1BQU0sR0FBRyxHQUFHLElBQUksV0FBVyxDQUFJLEtBQUssRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsbUJBQW1CLENBQUMsQ0FBQztJQUN6RixNQUFNLEdBQUcsR0FBRyxtQkFBbUIsRUFBRSxDQUFDO0lBQ2xDLElBQUksR0FBRyxJQUFJLEdBQUcsQ0FBQyxPQUFPLEVBQUU7UUFDdEIsR0FBRyxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUM7S0FDL0I7SUFDRCxPQUFPLEdBQUcsQ0FBQztBQUNiLENBQUM7QUFFRCxNQUFNLFVBQVUsVUFBVSxDQUFJLE1BQVMsRUFBRSxzQkFBNkIsV0FBVztJQUMvRSxPQUFPLElBQUksV0FBVyxDQUNwQixXQUFXLEVBQ1gsR0FBRyxHQUFHLGVBQWUsRUFBRSxFQUN2QixNQUFNLEVBQ04sSUFBSSxFQUNKLElBQUksRUFDSixtQkFBbUIsQ0FDcEIsQ0FBQztBQUNKLENBQUM7QUFRRCxNQUFNLFVBQVUsWUFBWSxDQUFDLEdBQVEsRUFBRSxPQUE0QixFQUFFO0lBQ25FLE1BQU0sSUFBSSxHQUFHLGFBQWEsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUNoQyxNQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO0lBQzNCLE1BQU0sU0FBUyxHQUFHLElBQUksQ0FBQyxTQUFTLElBQUksTUFBTSxDQUFDO0lBQzNDLE1BQU0sUUFBUSxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUM7SUFDL0IsTUFBTSxPQUFPLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQztJQUM3QixNQUFNLEtBQUssR0FBRyxRQUFRLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsU0FBUyxDQUFDLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQztJQUV2RixNQUFNLEtBQUssR0FBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ2hDLElBQUksTUFBTSxJQUFJLE1BQU0sS0FBSyxTQUFTLEVBQUU7UUFDbEMsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsTUFBTSxDQUFDLENBQUM7S0FDekI7SUFDRCxNQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDO0lBQzdCLE1BQU0sVUFBVSxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUM7SUFDbkMsSUFBSSxJQUFJLENBQUMsUUFBUSxFQUFFO1FBQ2pCLElBQUksVUFBVSxJQUFJLFVBQVUsQ0FBQyxNQUFNLEVBQUU7WUFDbkMsTUFBTSxPQUFPLEdBQUcsVUFBVSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDOUMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLE9BQU8sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1NBQ3RDO0tBQ0Y7U0FBTSxJQUFJLE9BQU8sSUFBSSxPQUFPLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtRQUN4QyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksT0FBTyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7S0FDdEM7SUFDRCxNQUFNLFNBQVMsR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQ2pDLElBQUksSUFBSSxDQUFDLEtBQUssS0FBSyxXQUFXLElBQUksT0FBTyxFQUFFO1FBQ3pDLE1BQU0sSUFBSSxHQUFjLE9BQWUsQ0FBQyxRQUFRLElBQUksQ0FBRSxPQUFlLENBQUMsUUFBUSxHQUFHLElBQUksR0FBRyxFQUFFLENBQUMsQ0FBQztRQUM1RixJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0tBQ2Y7SUFDRCxPQUFPLFNBQVMsQ0FBQztBQUNuQixDQUFDO0FBRUQsTUFBTSxVQUFVLFFBQVEsQ0FBQyxPQUFnQixFQUFFLEdBQVE7SUFDakQsT0FBTyxJQUFJLEdBQUcsQ0FBQyxZQUFZLENBQUMsR0FBRyxDQUFDLEVBQUUsV0FBVyxDQUFDLE9BQU8sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0FBQ2xFLENBQUM7QUFFRDs7R0FFRztBQUNILE1BQU0sVUFBVSxRQUFRLENBQUMsR0FBVyxFQUFFLEVBQVk7SUFDaEQsTUFBTSxNQUFNLEdBQUcsR0FBRyxDQUFDLE1BQU0sQ0FBQztJQUMxQixNQUFNLE9BQU8sR0FBRyxPQUFPLENBQUMsR0FBRyxFQUFFLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQztJQUNyQyxNQUFNLFVBQVUsR0FBRyxPQUFPLENBQUMsR0FBRyxFQUFFLE9BQU8sRUFBRSxHQUFHLENBQUMsQ0FBQztJQUU5QyxNQUFNLFdBQVcsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLE9BQU8sRUFBRSxVQUFVLENBQUMsQ0FBQztJQUNsRCxNQUFNLEtBQUssR0FBRyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxXQUFXLENBQUMsQ0FBQztJQUU1QyxNQUFNLGNBQWMsR0FBRyxPQUFPLElBQUksTUFBTSxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLE9BQU8sR0FBRyxDQUFDLENBQUM7SUFDakUsTUFBTSxZQUFZLEdBQUcsVUFBVSxDQUFDO0lBQ2hDLE1BQU0sTUFBTSxHQUNWLGNBQWMsSUFBSSxZQUFZLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxjQUFjLEVBQUUsWUFBWSxDQUFDLENBQUM7SUFFM0YsTUFBTSxlQUFlLEdBQUcsVUFBVSxDQUFDO0lBQ25DLE1BQU0sYUFBYSxHQUFHLE1BQU0sQ0FBQztJQUM3QixNQUFNLE9BQU8sR0FDWCxlQUFlLEtBQUssYUFBYTtRQUMvQixDQUFDLENBQUMsV0FBVztRQUNiLENBQUMsQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLGVBQWUsR0FBRyxDQUFDLEVBQUUsYUFBYSxHQUFHLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUV2RSxJQUFJLEtBQUssS0FBSyxXQUFXLEVBQUU7UUFDekIsUUFBUSxDQUFDLGFBQWEsR0FBRyxnREFBZ0QsQ0FBQyxDQUFDO0tBQzVFO0lBQ0QsTUFBTSxJQUFJLEdBQUcsSUFBSSxXQUFXLENBQUMsS0FBSyxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxJQUFJLENBQUMsQ0FBQztJQUN2RSxJQUFJLEVBQUUsRUFBRTtRQUNOLElBQUksQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLENBQUM7S0FDdkI7SUFDRCxPQUFPLElBQUksQ0FBQztBQUNkLENBQUM7QUFFRCxTQUFTLE9BQU8sQ0FBQyxJQUFZLEVBQUUsUUFBZ0IsRUFBRSxJQUFZO0lBQzNELE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUM7SUFDM0IsTUFBTSxPQUFPLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUUsUUFBUSxJQUFJLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUN0RSxPQUFPLE9BQU8sSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUM7QUFDMUMsQ0FBQztBQUVELE1BQU0sVUFBVSxZQUFZLENBQUksV0FBdUI7SUFDckQsSUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUMsRUFBRTtRQUN2QixJQUFJLE9BQU8sV0FBVyxJQUFJLFVBQVUsSUFBSSxPQUFPLFdBQVcsSUFBSSxRQUFRLEVBQUU7WUFDdEUsV0FBVyxHQUFHLFVBQVUsQ0FBQyxXQUFXLENBQUMsQ0FBQztTQUN2QzthQUFNO1lBQ0wsMEJBQTBCO1lBQzFCLE1BQU0sSUFBSSxLQUFLLENBQUMsdURBQXVELENBQUMsQ0FBQztTQUMxRTtLQUNGO0lBQ0QsT0FBTyxXQUE2QixDQUFDO0FBQ3ZDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFTVBUWV9BUlJBWSB9IGZyb20gJy4uL3V0aWwvZmx5d2VpZ2h0JztcbmltcG9ydCB0eXBlIHsgUVJMIH0gZnJvbSAnLi9xcmwucHVibGljJztcbmltcG9ydCB7IGlzUXJsLCBRUkxJbnRlcm5hbCB9IGZyb20gJy4vcXJsLWNsYXNzJztcbmltcG9ydCB7IGFzc2VydEVxdWFsIH0gZnJvbSAnLi4vYXNzZXJ0L2Fzc2VydCc7XG5pbXBvcnQgdHlwZSB7IFZhbHVlT3JQcm9taXNlIH0gZnJvbSAnLi4vdXRpbC90eXBlcyc7XG5pbXBvcnQgdHlwZSB7IENvcmVQbGF0Zm9ybSB9IGZyb20gJy4uL3BsYXRmb3JtL3R5cGVzJztcbmltcG9ydCB7IGdldERvY3VtZW50IH0gZnJvbSAnLi4vdXRpbC9kb20nO1xuaW1wb3J0IHsgbG9nRXJyb3IgfSBmcm9tICcuLi91dGlsL2xvZyc7XG5pbXBvcnQgeyB0aGVuIH0gZnJvbSAnLi4vdXRpbC9wcm9taXNlcyc7XG5pbXBvcnQgeyBnZXRQbGF0Zm9ybSB9IGZyb20gJy4uL3BsYXRmb3JtL3BsYXRmb3JtJztcbmltcG9ydCB7IHVud3JhcFN1YnNjcmliZXIgfSBmcm9tICcuLi91c2UvdXNlLXN1YnNjcmliZXInO1xuaW1wb3J0IHsgdHJ5R2V0SW52b2tlQ29udGV4dCB9IGZyb20gJy4uL3VzZS91c2UtY29yZSc7XG5cbmxldCBydW50aW1lU3ltYm9sSWQgPSAwO1xuY29uc3QgUlVOVElNRV9RUkwgPSAnL3J1bnRpbWVRUkwnO1xuXG4vLyBodHRwczovL3JlZ2V4ci5jb20vNjh2NzJcbmNvbnN0IEVYVFJBQ1RfSU1QT1JUX1BBVEggPSAvXFwoXFxzKihbJ1wiXSkoW15cXDFdKylcXDFcXHMqXFwpLztcblxuLy8gaHR0cHM6Ly9yZWdleHIuY29tLzY5MGRzXG5jb25zdCBFWFRSQUNUX1NFTEZfSU1QT1JUID0gL1Byb21pc2VcXHMqXFwuXFxzKnJlc29sdmUvO1xuXG4vLyBodHRwczovL3JlZ2V4ci5jb20vNmE4M2hcbmNvbnN0IEVYVFJBQ1RfRklMRV9OQU1FID0gL1tcXFxcLyhdKFtcXHdcXGQuXFwtX10rXFwuKGpzfHRzKXg/KTovO1xuXG5leHBvcnQgZnVuY3Rpb24gdG9JbnRlcm5hbFFSTDxUPihxcmw6IFFSTDxUPik6IFFSTEludGVybmFsPFQ+IHtcbiAgYXNzZXJ0RXF1YWwoaXNRcmwocXJsKSwgdHJ1ZSk7XG4gIHJldHVybiBxcmwgYXMgUVJMSW50ZXJuYWw8VD47XG59XG5cbi8qKlxuICogTGF6eS1sb2FkIGEgYFFSTGAgc3ltYm9sIGFuZCByZXR1cm4gdGhlIGxhenktbG9hZGVkIHZhbHVlLlxuICpcbiAqIEBzZWUgYFFSTGBcbiAqXG4gKiBAcGFyYW0gZWxlbWVudCAtIExvY2F0aW9uIG9mIHRoZSBVUkwgdG8gcmVzb2x2ZSBhZ2FpbnN0LiBUaGlzIGlzIG5lZWRlZCB0byB0YWtlIGBxOmJhc2VgIGludG9cbiAqIGFjY291bnQuXG4gKiBAcGFyYW0gcXJsIC0gUVJMIHRvIGxvYWQuXG4gKiBAcmV0dXJucyBBIHJlc29sdmVkIFFSTCB2YWx1ZSBhcyBhIFByb21pc2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBxcmxJbXBvcnQ8VD4oZWxlbWVudDogRWxlbWVudCB8IHVuZGVmaW5lZCwgcXJsOiBRUkw8VD4pOiBWYWx1ZU9yUHJvbWlzZTxUPiB7XG4gIGNvbnN0IHFybF8gPSB0b0ludGVybmFsUVJMKHFybCk7XG4gIGlmIChxcmxfLnN5bWJvbFJlZikgcmV0dXJuIHFybF8uc3ltYm9sUmVmO1xuICBpZiAocXJsXy5zeW1ib2xGbikge1xuICAgIHJldHVybiAocXJsXy5zeW1ib2xSZWYgPSBxcmxfXG4gICAgICAuc3ltYm9sRm4oKVxuICAgICAgLnRoZW4oKG1vZHVsZSkgPT4gKHFybF8uc3ltYm9sUmVmID0gbW9kdWxlW3FybF8uc3ltYm9sXSkpKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYFFSTCAnJHtxcmxfLmNodW5rfSMke3FybF8uc3ltYm9sIHx8ICdkZWZhdWx0J30nIGRvZXMgbm90IGhhdmUgYW4gYXR0YWNoZWQgY29udGFpbmVyYFxuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3Qgc3ltYm9sID0gZ2V0UGxhdGZvcm0oZ2V0RG9jdW1lbnQoZWxlbWVudCkpLmltcG9ydFN5bWJvbChlbGVtZW50LCBxcmxfLmNodW5rLCBxcmxfLnN5bWJvbCk7XG4gICAgcmV0dXJuIChxcmxfLnN5bWJvbFJlZiA9IHRoZW4oc3ltYm9sLCAocmVmKSA9PiB7XG4gICAgICByZXR1cm4gKHFybF8uc3ltYm9sUmVmID0gcmVmKTtcbiAgICB9KSk7XG4gIH1cbn1cblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi9yZWFkbWUubWQjcXJsXCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi4vcmVhZG1lLm1kI3FybCBpbnN0ZWFkKVxuLyoqXG4gKiBVc2VkIGJ5IFF3aWsgT3B0aW1pemVyIHRvIHBvaW50IHRvIGxhenktbG9hZGVkIHJlc291cmNlcy5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIHNob3VsZCBiZSB1c2VkIGJ5IHRoZSBRd2lrIE9wdGltaXplciBvbmx5LiBUaGUgZnVuY3Rpb24gc2hvdWxkIG5vdCBiZSBkaXJlY3RseVxuICogcmVmZXJyZWQgdG8gaW4gdGhlIHNvdXJjZSBjb2RlIG9mIHRoZSBhcHBsaWNhdGlvbi5cbiAqXG4gKiBAc2VlIGBRUkxgLCBgJCguLi4pYFxuICpcbiAqIEBwYXJhbSBjaHVua09yRm4gLSBDaHVuayBuYW1lIChvciBmdW5jdGlvbiB3aGljaCBpcyBzdHJpbmdpZmllZCB0byBleHRyYWN0IGNodW5rIG5hbWUpXG4gKiBAcGFyYW0gc3ltYm9sIC0gU3ltYm9sIHRvIGxhenkgbG9hZFxuICogQHBhcmFtIGxleGljYWxTY29wZUNhcHR1cmUgLSBhIHNldCBvZiBsZXhpY2FsbHkgc2NvcGVkIHZhcmlhYmxlcyB0byBjYXB0dXJlLlxuICogQGFscGhhXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBmdW5jdGlvbiBxcmw8VCA9IGFueT4oXG4gIGNodW5rT3JGbjogc3RyaW5nIHwgKCgpID0+IFByb21pc2U8YW55PiksXG4gIHN5bWJvbDogc3RyaW5nLFxuICBsZXhpY2FsU2NvcGVDYXB0dXJlOiBhbnlbXSB8IG51bGwgPSBFTVBUWV9BUlJBWVxuKTogUVJMPFQ+IHtcbiAgbGV0IGNodW5rOiBzdHJpbmc7XG4gIGxldCBzeW1ib2xGbjogbnVsbCB8ICgoKSA9PiBQcm9taXNlPFJlY29yZDxzdHJpbmcsIGFueT4+KSA9IG51bGw7XG4gIGlmICh0eXBlb2YgY2h1bmtPckZuID09PSAnc3RyaW5nJykge1xuICAgIGNodW5rID0gY2h1bmtPckZuO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBjaHVua09yRm4gPT09ICdmdW5jdGlvbicpIHtcbiAgICBzeW1ib2xGbiA9IGNodW5rT3JGbjtcbiAgICBsZXQgbWF0Y2g6IFJlZ0V4cE1hdGNoQXJyYXkgfCBudWxsO1xuICAgIGNvbnN0IHNyY0NvZGUgPSBTdHJpbmcoY2h1bmtPckZuKTtcbiAgICBpZiAoKG1hdGNoID0gc3JjQ29kZS5tYXRjaChFWFRSQUNUX0lNUE9SVF9QQVRIKSkgJiYgbWF0Y2hbMl0pIHtcbiAgICAgIGNodW5rID0gbWF0Y2hbMl07XG4gICAgfSBlbHNlIGlmICgobWF0Y2ggPSBzcmNDb2RlLm1hdGNoKEVYVFJBQ1RfU0VMRl9JTVBPUlQpKSkge1xuICAgICAgY29uc3QgcmVmID0gJ1FXSUstU0VMRic7XG4gICAgICBjb25zdCBmcmFtZXMgPSBuZXcgRXJyb3IocmVmKS5zdGFjayEuc3BsaXQoJ1xcbicpO1xuICAgICAgY29uc3Qgc3RhcnQgPSBmcmFtZXMuZmluZEluZGV4KChmKSA9PiBmLmluY2x1ZGVzKHJlZikpO1xuICAgICAgY29uc3QgZnJhbWUgPSBmcmFtZXNbc3RhcnQgKyAyXTtcbiAgICAgIG1hdGNoID0gZnJhbWUubWF0Y2goRVhUUkFDVF9GSUxFX05BTUUpO1xuICAgICAgaWYgKCFtYXRjaCkge1xuICAgICAgICBjaHVuayA9ICdtYWluJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNodW5rID0gbWF0Y2hbMV07XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignUS1FUlJPUjogRHluYW1pYyBpbXBvcnQgbm90IGZvdW5kOiAnICsgc3JjQ29kZSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcignUS1FUlJPUjogVW5rbm93biB0eXBlIGFyZ3VtZW50OiAnICsgY2h1bmtPckZuKTtcbiAgfVxuXG4gIC8vIFVud3JhcCBzdWJzY3JpYmVyc1xuICBpZiAoQXJyYXkuaXNBcnJheShsZXhpY2FsU2NvcGVDYXB0dXJlKSkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGV4aWNhbFNjb3BlQ2FwdHVyZS5sZW5ndGg7IGkrKykge1xuICAgICAgbGV4aWNhbFNjb3BlQ2FwdHVyZVtpXSA9IHVud3JhcFN1YnNjcmliZXIobGV4aWNhbFNjb3BlQ2FwdHVyZVtpXSk7XG4gICAgfVxuICB9XG4gIGNvbnN0IHFybCA9IG5ldyBRUkxJbnRlcm5hbDxUPihjaHVuaywgc3ltYm9sLCBudWxsLCBzeW1ib2xGbiwgbnVsbCwgbGV4aWNhbFNjb3BlQ2FwdHVyZSk7XG4gIGNvbnN0IGN0eCA9IHRyeUdldEludm9rZUNvbnRleHQoKTtcbiAgaWYgKGN0eCAmJiBjdHguZWxlbWVudCkge1xuICAgIHFybC5zZXRDb250YWluZXIoY3R4LmVsZW1lbnQpO1xuICB9XG4gIHJldHVybiBxcmw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBydW50aW1lUXJsPFQ+KHN5bWJvbDogVCwgbGV4aWNhbFNjb3BlQ2FwdHVyZTogYW55W10gPSBFTVBUWV9BUlJBWSk6IFFSTDxUPiB7XG4gIHJldHVybiBuZXcgUVJMSW50ZXJuYWw8VD4oXG4gICAgUlVOVElNRV9RUkwsXG4gICAgJ3MnICsgcnVudGltZVN5bWJvbElkKyssXG4gICAgc3ltYm9sLFxuICAgIG51bGwsXG4gICAgbnVsbCxcbiAgICBsZXhpY2FsU2NvcGVDYXB0dXJlXG4gICk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUVJMU2VyaWFsaXplT3B0aW9ucyB7XG4gIHBsYXRmb3JtPzogQ29yZVBsYXRmb3JtO1xuICBlbGVtZW50PzogRWxlbWVudDtcbiAgZ2V0T2JqSWQ/OiAob2JqOiBhbnkpID0+IHN0cmluZyB8IG51bGw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdHJpbmdpZnlRUkwocXJsOiBRUkwsIG9wdHM6IFFSTFNlcmlhbGl6ZU9wdGlvbnMgPSB7fSkge1xuICBjb25zdCBxcmxfID0gdG9JbnRlcm5hbFFSTChxcmwpO1xuICBjb25zdCBzeW1ib2wgPSBxcmxfLnN5bWJvbDtcbiAgY29uc3QgcmVmU3ltYm9sID0gcXJsXy5yZWZTeW1ib2wgPz8gc3ltYm9sO1xuICBjb25zdCBwbGF0Zm9ybSA9IG9wdHMucGxhdGZvcm07XG4gIGNvbnN0IGVsZW1lbnQgPSBvcHRzLmVsZW1lbnQ7XG4gIGNvbnN0IGNodW5rID0gcGxhdGZvcm0gPyBwbGF0Zm9ybS5jaHVua0ZvclN5bWJvbChyZWZTeW1ib2wpID8/IHFybF8uY2h1bmsgOiBxcmxfLmNodW5rO1xuXG4gIGNvbnN0IHBhcnRzOiBzdHJpbmdbXSA9IFtjaHVua107XG4gIGlmIChzeW1ib2wgJiYgc3ltYm9sICE9PSAnZGVmYXVsdCcpIHtcbiAgICBwYXJ0cy5wdXNoKCcjJywgc3ltYm9sKTtcbiAgfVxuICBjb25zdCBjYXB0dXJlID0gcXJsXy5jYXB0dXJlO1xuICBjb25zdCBjYXB0dXJlUmVmID0gcXJsXy5jYXB0dXJlUmVmO1xuICBpZiAob3B0cy5nZXRPYmpJZCkge1xuICAgIGlmIChjYXB0dXJlUmVmICYmIGNhcHR1cmVSZWYubGVuZ3RoKSB7XG4gICAgICBjb25zdCBjYXB0dXJlID0gY2FwdHVyZVJlZi5tYXAob3B0cy5nZXRPYmpJZCk7XG4gICAgICBwYXJ0cy5wdXNoKGBbJHtjYXB0dXJlLmpvaW4oJyAnKX1dYCk7XG4gICAgfVxuICB9IGVsc2UgaWYgKGNhcHR1cmUgJiYgY2FwdHVyZS5sZW5ndGggPiAwKSB7XG4gICAgcGFydHMucHVzaChgWyR7Y2FwdHVyZS5qb2luKCcgJyl9XWApO1xuICB9XG4gIGNvbnN0IHFybFN0cmluZyA9IHBhcnRzLmpvaW4oJycpO1xuICBpZiAocXJsXy5jaHVuayA9PT0gUlVOVElNRV9RUkwgJiYgZWxlbWVudCkge1xuICAgIGNvbnN0IHFybHM6IFNldDxRUkw+ID0gKGVsZW1lbnQgYXMgYW55KS5fX3FybHNfXyB8fCAoKGVsZW1lbnQgYXMgYW55KS5fX3FybHNfXyA9IG5ldyBTZXQoKSk7XG4gICAgcXJscy5hZGQocXJsKTtcbiAgfVxuICByZXR1cm4gcXJsU3RyaW5nO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcXJsVG9VcmwoZWxlbWVudDogRWxlbWVudCwgcXJsOiBRUkwpOiBVUkwge1xuICByZXR1cm4gbmV3IFVSTChzdHJpbmdpZnlRUkwocXJsKSwgZ2V0RG9jdW1lbnQoZWxlbWVudCkuYmFzZVVSSSk7XG59XG5cbi8qKlxuICogYC4vY2h1bmsjc3ltYm9sfHN5bWJvbC5wcm9wQS5wcm9wQnxbY2FwdHVyZXNdXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVFSTChxcmw6IHN0cmluZywgZWw/OiBFbGVtZW50KTogUVJMSW50ZXJuYWwge1xuICBjb25zdCBlbmRJZHggPSBxcmwubGVuZ3RoO1xuICBjb25zdCBoYXNoSWR4ID0gaW5kZXhPZihxcmwsIDAsICcjJyk7XG4gIGNvbnN0IGNhcHR1cmVJZHggPSBpbmRleE9mKHFybCwgaGFzaElkeCwgJ1snKTtcblxuICBjb25zdCBjaHVua0VuZElkeCA9IE1hdGgubWluKGhhc2hJZHgsIGNhcHR1cmVJZHgpO1xuICBjb25zdCBjaHVuayA9IHFybC5zdWJzdHJpbmcoMCwgY2h1bmtFbmRJZHgpO1xuXG4gIGNvbnN0IHN5bWJvbFN0YXJ0SWR4ID0gaGFzaElkeCA9PSBlbmRJZHggPyBoYXNoSWR4IDogaGFzaElkeCArIDE7XG4gIGNvbnN0IHN5bWJvbEVuZElkeCA9IGNhcHR1cmVJZHg7XG4gIGNvbnN0IHN5bWJvbCA9XG4gICAgc3ltYm9sU3RhcnRJZHggPT0gc3ltYm9sRW5kSWR4ID8gJ2RlZmF1bHQnIDogcXJsLnN1YnN0cmluZyhzeW1ib2xTdGFydElkeCwgc3ltYm9sRW5kSWR4KTtcblxuICBjb25zdCBjYXB0dXJlU3RhcnRJZHggPSBjYXB0dXJlSWR4O1xuICBjb25zdCBjYXB0dXJlRW5kSWR4ID0gZW5kSWR4O1xuICBjb25zdCBjYXB0dXJlID1cbiAgICBjYXB0dXJlU3RhcnRJZHggPT09IGNhcHR1cmVFbmRJZHhcbiAgICAgID8gRU1QVFlfQVJSQVlcbiAgICAgIDogcXJsLnN1YnN0cmluZyhjYXB0dXJlU3RhcnRJZHggKyAxLCBjYXB0dXJlRW5kSWR4IC0gMSkuc3BsaXQoJyAnKTtcblxuICBpZiAoY2h1bmsgPT09IFJVTlRJTUVfUVJMKSB7XG4gICAgbG9nRXJyb3IoYFEtRVJST1I6ICcke3FybH0nIGlzIHJ1bnRpbWUgYnV0IG5vIGluc3RhbmNlIGZvdW5kIG9uIGVsZW1lbnQuYCk7XG4gIH1cbiAgY29uc3QgaVFybCA9IG5ldyBRUkxJbnRlcm5hbChjaHVuaywgc3ltYm9sLCBudWxsLCBudWxsLCBjYXB0dXJlLCBudWxsKTtcbiAgaWYgKGVsKSB7XG4gICAgaVFybC5zZXRDb250YWluZXIoZWwpO1xuICB9XG4gIHJldHVybiBpUXJsO1xufVxuXG5mdW5jdGlvbiBpbmRleE9mKHRleHQ6IHN0cmluZywgc3RhcnRJZHg6IG51bWJlciwgY2hhcjogc3RyaW5nKSB7XG4gIGNvbnN0IGVuZElkeCA9IHRleHQubGVuZ3RoO1xuICBjb25zdCBjaGFySWR4ID0gdGV4dC5pbmRleE9mKGNoYXIsIHN0YXJ0SWR4ID09IGVuZElkeCA/IDAgOiBzdGFydElkeCk7XG4gIHJldHVybiBjaGFySWR4ID09IC0xID8gZW5kSWR4IDogY2hhcklkeDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvUXJsT3JFcnJvcjxUPihzeW1ib2xPclFybDogVCB8IFFSTDxUPik6IFFSTEludGVybmFsPFQ+IHtcbiAgaWYgKCFpc1FybChzeW1ib2xPclFybCkpIHtcbiAgICBpZiAodHlwZW9mIHN5bWJvbE9yUXJsID09ICdmdW5jdGlvbicgfHwgdHlwZW9mIHN5bWJvbE9yUXJsID09ICdzdHJpbmcnKSB7XG4gICAgICBzeW1ib2xPclFybCA9IHJ1bnRpbWVRcmwoc3ltYm9sT3JRcmwpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBUT0RPKG1pc2tvKTogY2VudHJhbGl6ZVxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBRLUVSUk9SIE9ubHkgJ2Z1bmN0aW9uJ3MgYW5kICdzdHJpbmcncyBhcmUgc3VwcG9ydGVkLmApO1xuICAgIH1cbiAgfVxuICByZXR1cm4gc3ltYm9sT3JRcmwgYXMgUVJMSW50ZXJuYWw8VD47XG59XG4iXX0=","import { toQrlOrError } from '../import/qrl';\nimport { $, implicit$FirstArg } from '../import/qrl.public';\nimport { qPropWriteQRL } from '../props/props-on';\nimport { useWaitOn } from '../use/use-core';\nimport { useHostElement } from '../use/use-host-element.public';\nimport { ComponentScopedStyles, OnRenderProp } from '../util/markers';\nimport { styleKey } from './qrl-styles';\nimport { getContext } from '../props/props';\nimport { jsx } from '../render/jsx/jsx-runtime';\nimport { useSequentialScope } from '../use/use-store.public';\nimport { WatchFlags } from '../watch/watch.public';\n// <docs markdown=\"../readme.md#useCleanup\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useCleanup instead)\n/**\n * A lazy-loadable reference to a component's cleanup hook.\n *\n * Invoked when the component is destroyed (removed from render tree), or paused as part of the\n * SSR serialization.\n *\n * Can be used to release resouces, abort network requets, stop timers...\n *\n * ```tsx\n * const Cmp = component$(() => {\n *   useCleanup$(() => {\n *     // Executed after SSR (pause) or when the component gets removed from the DOM.\n *     // Can be used to release resouces, abort network requets, stop timers...\n *     console.log('component is destroyed');\n *   });\n *   return <div>Hello world</div>;\n * });\n * ```\n *\n * @alpha\n */\n// </docs>\nexport function useCleanupQrl(unmountFn) {\n    const [watch, setWatch] = useSequentialScope();\n    if (!watch) {\n        const el = useHostElement();\n        const watch = {\n            qrl: unmountFn,\n            el,\n            f: WatchFlags.IsCleanup,\n        };\n        setWatch(watch);\n        getContext(el).refMap.add(watch);\n    }\n}\n// <docs markdown=\"../readme.md#useCleanup\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useCleanup instead)\n/**\n * A lazy-loadable reference to a component's cleanup hook.\n *\n * Invoked when the component is destroyed (removed from render tree), or paused as part of the\n * SSR serialization.\n *\n * Can be used to release resouces, abort network requets, stop timers...\n *\n * ```tsx\n * const Cmp = component$(() => {\n *   useCleanup$(() => {\n *     // Executed after SSR (pause) or when the component gets removed from the DOM.\n *     // Can be used to release resouces, abort network requets, stop timers...\n *     console.log('component is destroyed');\n *   });\n *   return <div>Hello world</div>;\n * });\n * ```\n *\n * @alpha\n */\n// </docs>\nexport const useCleanup$ = implicit$FirstArg(useCleanupQrl);\n// <docs markdown=\"../readme.md#useResume\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useResume instead)\n/**\n * A lazy-loadable reference to a component's on resume hook.\n *\n * The hook is eagerly invoked when the application resumes on the client. Because it is called\n * eagerly, this allows the component to resume even if no user interaction has taken place.\n *\n * Only called in the client.\n * Only called once.\n *\n * ```tsx\n * const Cmp = component$(() => {\n *   useResume$(() => {\n *     // Eagerly invoked when the application resumes on the client\n *     console.log('called once in client');\n *   });\n *   return <div>Hello world</div>;\n * });\n * ```\n *\n * @see `useVisible`, `useClientEffect`\n *\n * @alpha\n */\n// </docs>\nexport function useResumeQrl(resumeFn) {\n    useOn('qresume', resumeFn);\n}\n// <docs markdown=\"../readme.md#useResume\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useResume instead)\n/**\n * A lazy-loadable reference to a component's on resume hook.\n *\n * The hook is eagerly invoked when the application resumes on the client. Because it is called\n * eagerly, this allows the component to resume even if no user interaction has taken place.\n *\n * Only called in the client.\n * Only called once.\n *\n * ```tsx\n * const Cmp = component$(() => {\n *   useResume$(() => {\n *     // Eagerly invoked when the application resumes on the client\n *     console.log('called once in client');\n *   });\n *   return <div>Hello world</div>;\n * });\n * ```\n *\n * @see `useVisible`, `useClientEffect`\n *\n * @alpha\n */\n// </docs>\nexport const useResume$ = implicit$FirstArg(useResumeQrl);\n// <docs markdown=\"../readme.md#useVisible\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useVisible instead)\n/**\n * A lazy-loadable reference to a component's on visible hook.\n *\n * The hook is lazily invoked when the component becomes visible in the browser viewport.\n *\n * Only called in the client.\n * Only called once.\n *\n * @see `useResume`, `useClientEffect`\n *\n * ```tsx\n * const Cmp = component$(() => {\n *   const store = useStore({\n *     isVisible: false,\n *   });\n *   useVisible$(() => {\n *     // Invoked once when the component is visible in the browser's viewport\n *     console.log('called once in client when visible');\n *     store.isVisible = true;\n *   });\n *   return <div>{store.isVisible}</div>;\n * });\n * ```\n *\n * @alpha\n */\n// </docs>\nexport function useVisibleQrl(resumeFn) {\n    useOn('qvisible', resumeFn);\n}\n// <docs markdown=\"../readme.md#useVisible\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useVisible instead)\n/**\n * A lazy-loadable reference to a component's on visible hook.\n *\n * The hook is lazily invoked when the component becomes visible in the browser viewport.\n *\n * Only called in the client.\n * Only called once.\n *\n * @see `useResume`, `useClientEffect`\n *\n * ```tsx\n * const Cmp = component$(() => {\n *   const store = useStore({\n *     isVisible: false,\n *   });\n *   useVisible$(() => {\n *     // Invoked once when the component is visible in the browser's viewport\n *     console.log('called once in client when visible');\n *     store.isVisible = true;\n *   });\n *   return <div>{store.isVisible}</div>;\n * });\n * ```\n *\n * @alpha\n */\n// </docs>\nexport const useVisible$ = implicit$FirstArg(useVisibleQrl);\n// <docs markdown=\"../readme.md#useOn\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useOn instead)\n/**\n * Register a listener on the current component's host element.\n *\n * Used to programmatically add event listeners. Useful from custom `use*` methods, which do not\n * have access to the JSX. Otherwise it's adding a JSX listener in the `<Host>` is a better idea.\n *\n * @see `useOn`, `useOnWindow`, `useOnDocument`.\n *\n * @alpha\n */\n// </docs>\nexport function useOn(event, eventFn) {\n    const el = useHostElement();\n    const ctx = getContext(el);\n    qPropWriteQRL(undefined, ctx, `on:${event}`, eventFn);\n}\n// <docs markdown=\"../readme.md#useOnDocument\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useOnDocument instead)\n/**\n * Register a listener on `document`.\n *\n * Used to programmatically add event listeners. Useful from custom `use*` methods, which do not\n * have access to the JSX.\n *\n * @see `useOn`, `useOnWindow`, `useOnDocument`.\n *\n * ```tsx\n * function useScroll() {\n *   useOnDocument(\n *     'scroll',\n *     $(() => {\n *       console.log('body scrolled');\n *     })\n *   );\n * }\n *\n * const Cmp = component$(() => {\n *   useScroll();\n *   return <Host>Profit!</Host>;\n * });\n * ```\n *\n * @alpha\n */\n// </docs>\nexport function useOnDocument(event, eventQrl) {\n    const el = useHostElement();\n    const ctx = getContext(el);\n    qPropWriteQRL(undefined, ctx, `on-document:${event}`, eventQrl);\n}\n// <docs markdown=\"../readme.md#useOnWindow\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useOnWindow instead)\n/**\n * Register a listener on `window`.\n *\n * Used to programmatically add event listeners. Useful from custom `use*` methods, which do not\n * have access to the JSX.\n *\n * @see `useOn`, `useOnWindow`, `useOnDocument`.\n *\n * ```tsx\n * function useAnalytics() {\n *   useOnWindow(\n *     'popstate',\n *     $(() => {\n *       console.log('navigation happened');\n *       // report to analytics\n *     })\n *   );\n * }\n *\n * const Cmp = component$(() => {\n *   useAnalytics();\n *   return <Host>Profit!</Host>;\n * });\n * ```\n *\n * @alpha\n */\n// </docs>\nexport function useOnWindow(event, eventFn) {\n    const el = useHostElement();\n    const ctx = getContext(el);\n    qPropWriteQRL(undefined, ctx, `on-window:${event}`, eventFn);\n}\n// <docs markdown=\"../readme.md#useStyles\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useStyles instead)\n/**\n * A lazy-loadable reference to a component's styles.\n *\n * Component styles allow Qwik to lazy load the style information for the component only when\n * needed. (And avoid double loading it in case of SSR hydration.)\n *\n * ```tsx\n * import styles from './code-block.css?inline';\n *\n * export const CmpStyles = component$(() => {\n *   useStyles$(styles);\n *\n *   return <Host>Some text</Host>;\n * });\n * ```\n *\n * @see `useScopedStyles`.\n *\n * @public\n */\n// </docs>\nexport function useStylesQrl(styles) {\n    _useStyles(styles, false);\n}\n// <docs markdown=\"../readme.md#useStyles\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useStyles instead)\n/**\n * A lazy-loadable reference to a component's styles.\n *\n * Component styles allow Qwik to lazy load the style information for the component only when\n * needed. (And avoid double loading it in case of SSR hydration.)\n *\n * ```tsx\n * import styles from './code-block.css?inline';\n *\n * export const CmpStyles = component$(() => {\n *   useStyles$(styles);\n *\n *   return <Host>Some text</Host>;\n * });\n * ```\n *\n * @see `useScopedStyles`.\n *\n * @public\n */\n// </docs>\nexport const useStyles$ = implicit$FirstArg(useStylesQrl);\n// <docs markdown=\"../readme.md#useScopedStyles\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useScopedStyles instead)\n/**\n * @see `useStyles`.\n *\n * @alpha\n */\n// </docs>\nexport function useScopedStylesQrl(styles) {\n    _useStyles(styles, true);\n}\n// <docs markdown=\"../readme.md#useScopedStyles\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useScopedStyles instead)\n/**\n * @see `useStyles`.\n *\n * @alpha\n */\n// </docs>\nexport const useScopedStyles$ = implicit$FirstArg(useScopedStylesQrl);\n// <docs markdown=\"../readme.md#component\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#component instead)\n/**\n * Declare a Qwik component that can be used to create UI.\n *\n * Use `component$` to declare a Qwik component. A Qwik component is a special kind of component\n * that allows the Qwik framework to lazy load and execute the component independently of other\n * Qwik components as well as lazy load the component's life-cycle hooks and event handlers.\n *\n * Side note: You can also declare regular (standard JSX) components that will have standard\n * synchronous behavior.\n *\n * Qwik component is a facade that describes how the component should be used without forcing the\n * implementation of the component to be eagerly loaded. A minimum Qwik definition consists of:\n *\n * ### Example:\n *\n * An example showing how to create a counter component:\n *\n * ```tsx\n * export interface CounterProps {\n *   initialValue?: number;\n *   step?: number;\n * }\n * export const Counter = component$((props: CounterProps) => {\n *   const state = useStore({ count: props.initialValue || 0 });\n *   return (\n *     <div>\n *       <span>{state.count}</span>\n *       <button onClick$={() => (state.count += props.step || 1)}>+</button>\n *     </div>\n *   );\n * });\n * ```\n *\n * - `component$` is how a component gets declared.\n * - `{ value?: number; step?: number }` declares the public (props) interface of the component.\n * - `{ count: number }` declares the private (state) interface of the component.\n *\n * The above can then be used like so:\n *\n * ```tsx\n * export const OtherComponent = component$(() => {\n *   return <Counter initialValue={100} />;\n * });\n * ```\n *\n * See also: `component`, `useCleanup`, `onResume`, `onPause`, `useOn`, `useOnDocument`,\n * `useOnWindow`, `useStyles`, `useScopedStyles`\n *\n * @public\n */\n// </docs>\nexport function componentQrl(onRenderQrl, options = {}) {\n    const tagName = options.tagName ?? 'div';\n    // Return a QComponent Factory function.\n    return function QSimpleComponent(props, key) {\n        return jsx(tagName, { [OnRenderProp]: onRenderQrl, ...props }, key);\n    };\n}\n// <docs markdown=\"../readme.md#component\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#component instead)\n/**\n * Declare a Qwik component that can be used to create UI.\n *\n * Use `component$` to declare a Qwik component. A Qwik component is a special kind of component\n * that allows the Qwik framework to lazy load and execute the component independently of other\n * Qwik components as well as lazy load the component's life-cycle hooks and event handlers.\n *\n * Side note: You can also declare regular (standard JSX) components that will have standard\n * synchronous behavior.\n *\n * Qwik component is a facade that describes how the component should be used without forcing the\n * implementation of the component to be eagerly loaded. A minimum Qwik definition consists of:\n *\n * ### Example:\n *\n * An example showing how to create a counter component:\n *\n * ```tsx\n * export interface CounterProps {\n *   initialValue?: number;\n *   step?: number;\n * }\n * export const Counter = component$((props: CounterProps) => {\n *   const state = useStore({ count: props.initialValue || 0 });\n *   return (\n *     <div>\n *       <span>{state.count}</span>\n *       <button onClick$={() => (state.count += props.step || 1)}>+</button>\n *     </div>\n *   );\n * });\n * ```\n *\n * - `component$` is how a component gets declared.\n * - `{ value?: number; step?: number }` declares the public (props) interface of the component.\n * - `{ count: number }` declares the private (state) interface of the component.\n *\n * The above can then be used like so:\n *\n * ```tsx\n * export const OtherComponent = component$(() => {\n *   return <Counter initialValue={100} />;\n * });\n * ```\n *\n * See also: `component`, `useCleanup`, `onResume`, `onPause`, `useOn`, `useOnDocument`,\n * `useOnWindow`, `useStyles`, `useScopedStyles`\n *\n * @public\n */\n// </docs>\nexport function component$(onMount, options) {\n    return componentQrl($(onMount), options);\n}\nfunction _useStyles(styles, scoped) {\n    const [style, setStyle] = useSequentialScope();\n    if (style === true) {\n        return;\n    }\n    setStyle(true);\n    const styleQrl = toQrlOrError(styles);\n    const styleId = styleKey(styleQrl);\n    const hostElement = useHostElement();\n    if (scoped) {\n        hostElement.setAttribute(ComponentScopedStyles, styleId);\n    }\n    useWaitOn(styleQrl.resolve(hostElement).then((styleText) => {\n        const task = {\n            type: 'style',\n            styleId,\n            content: scoped ? styleText.replace(/ÔøΩ/g, styleId) : styleText,\n        };\n        return task;\n    }));\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tcG9uZW50LnB1YmxpYy5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9jb21wb25lbnQvY29tcG9uZW50LnB1YmxpYy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQzdDLE9BQU8sRUFBRSxDQUFDLEVBQUUsaUJBQWlCLEVBQU8sTUFBTSxzQkFBc0IsQ0FBQztBQUNqRSxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFFbEQsT0FBTyxFQUFlLFNBQVMsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQ3pELE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSxnQ0FBZ0MsQ0FBQztBQUNoRSxPQUFPLEVBQUUscUJBQXFCLEVBQUUsWUFBWSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDdEUsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLGNBQWMsQ0FBQztBQUd4QyxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFFNUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxNQUFNLDJCQUEyQixDQUFDO0FBQ2hELE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBQzdELE9BQU8sRUFBbUIsVUFBVSxFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFFcEUsNENBQTRDO0FBQzVDLHlDQUF5QztBQUN6Qyx5Q0FBeUM7QUFDekM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0dBb0JHO0FBQ0gsVUFBVTtBQUNWLE1BQU0sVUFBVSxhQUFhLENBQUMsU0FBMEI7SUFDdEQsTUFBTSxDQUFDLEtBQUssRUFBRSxRQUFRLENBQUMsR0FBRyxrQkFBa0IsRUFBRSxDQUFDO0lBQy9DLElBQUksQ0FBQyxLQUFLLEVBQUU7UUFDVixNQUFNLEVBQUUsR0FBRyxjQUFjLEVBQUUsQ0FBQztRQUM1QixNQUFNLEtBQUssR0FBb0I7WUFD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O0lBQ2QsQ0FBQyxDQUFDLENBQ0gsQ0FBQztBQUNKLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB0b1FybE9yRXJyb3IgfSBmcm9tICcuLi9pbXBvcnQvcXJsJztcbmltcG9ydCB7ICQsIGltcGxpY2l0JEZpcnN0QXJnLCBRUkwgfSBmcm9tICcuLi9pbXBvcnQvcXJsLnB1YmxpYyc7XG5pbXBvcnQgeyBxUHJvcFdyaXRlUVJMIH0gZnJvbSAnLi4vcHJvcHMvcHJvcHMtb24nO1xuaW1wb3J0IHR5cGUgeyBKU1hOb2RlIH0gZnJvbSAnLi4vcmVuZGVyL2pzeC90eXBlcy9qc3gtbm9kZSc7XG5pbXBvcnQgeyBTdHlsZUFwcGVuZCwgdXNlV2FpdE9uIH0gZnJvbSAnLi4vdXNlL3VzZS1jb3JlJztcbmltcG9ydCB7IHVzZUhvc3RFbGVtZW50IH0gZnJvbSAnLi4vdXNlL3VzZS1ob3N0LWVsZW1lbnQucHVibGljJztcbmltcG9ydCB7IENvbXBvbmVudFNjb3BlZFN0eWxlcywgT25SZW5kZXJQcm9wIH0gZnJvbSAnLi4vdXRpbC9tYXJrZXJzJztcbmltcG9ydCB7IHN0eWxlS2V5IH0gZnJvbSAnLi9xcmwtc3R5bGVzJztcbmltcG9ydCB0eXBlIHsgQ29tcG9uZW50QmFzZVByb3BzIH0gZnJvbSAnLi4vcmVuZGVyL2pzeC90eXBlcy9qc3gtcXdpay1hdHRyaWJ1dGVzJztcbmltcG9ydCB0eXBlIHsgVmFsdWVPclByb21pc2UgfSBmcm9tICcuLi91dGlsL3R5cGVzJztcbmltcG9ydCB7IGdldENvbnRleHQgfSBmcm9tICcuLi9wcm9wcy9wcm9wcyc7XG5pbXBvcnQgdHlwZSB7IEZ1bmN0aW9uQ29tcG9uZW50IH0gZnJvbSAnLi4vcmVuZGVyL2pzeC90eXBlcy9qc3gtbm9kZSc7XG5pbXBvcnQgeyBqc3ggfSBmcm9tICcuLi9yZW5kZXIvanN4L2pzeC1ydW50aW1lJztcbmltcG9ydCB7IHVzZVNlcXVlbnRpYWxTY29wZSB9IGZyb20gJy4uL3VzZS91c2Utc3RvcmUucHVibGljJztcbmltcG9ydCB7IFdhdGNoRGVzY3JpcHRvciwgV2F0Y2hGbGFncyB9IGZyb20gJy4uL3dhdGNoL3dhdGNoLnB1YmxpYyc7XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kI3VzZUNsZWFudXBcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjdXNlQ2xlYW51cCBpbnN0ZWFkKVxuLyoqXG4gKiBBIGxhenktbG9hZGFibGUgcmVmZXJlbmNlIHRvIGEgY29tcG9uZW50J3MgY2xlYW51cCBob29rLlxuICpcbiAqIEludm9rZWQgd2hlbiB0aGUgY29tcG9uZW50IGlzIGRlc3Ryb3llZCAocmVtb3ZlZCBmcm9tIHJlbmRlciB0cmVlKSwgb3IgcGF1c2VkIGFzIHBhcnQgb2YgdGhlXG4gKiBTU1Igc2VyaWFsaXphdGlvbi5cbiAqXG4gKiBDYW4gYmUgdXNlZCB0byByZWxlYXNlIHJlc291Y2VzLCBhYm9ydCBuZXR3b3JrIHJlcXVldHMsIHN0b3AgdGltZXJzLi4uXG4gKlxuICogYGBgdHN4XG4gKiBjb25zdCBDbXAgPSBjb21wb25lbnQkKCgpID0+IHtcbiAqICAgdXNlQ2xlYW51cCQoKCkgPT4ge1xuICogICAgIC8vIEV4ZWN1dGVkIGFmdGVyIFNTUiAocGF1c2UpIG9yIHdoZW4gdGhlIGNvbXBvbmVudCBnZXRzIHJlbW92ZWQgZnJvbSB0aGUgRE9NLlxuICogICAgIC8vIENhbiBiZSB1c2VkIHRvIHJlbGVhc2UgcmVzb3VjZXMsIGFib3J0IG5ldHdvcmsgcmVxdWV0cywgc3RvcCB0aW1lcnMuLi5cbiAqICAgICBjb25zb2xlLmxvZygnY29tcG9uZW50IGlzIGRlc3Ryb3llZCcpO1xuICogICB9KTtcbiAqICAgcmV0dXJuIDxkaXY+SGVsbG8gd29ybGQ8L2Rpdj47XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBhbHBoYVxuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgZnVuY3Rpb24gdXNlQ2xlYW51cFFybCh1bm1vdW50Rm46IFFSTDwoKSA9PiB2b2lkPik6IHZvaWQge1xuICBjb25zdCBbd2F0Y2gsIHNldFdhdGNoXSA9IHVzZVNlcXVlbnRpYWxTY29wZSgpO1xuICBpZiAoIXdhdGNoKSB7XG4gICAgY29uc3QgZWwgPSB1c2VIb3N0RWxlbWVudCgpO1xuICAgIGNvbnN0IHdhdGNoOiBXYXRjaERlc2NyaXB0b3IgPSB7XG4gICAgICBxcmw6IHVubW91bnRGbixcbiAgICAgIGVsLFxuICAgICAgZjogV2F0Y2hGbGFncy5Jc0NsZWFudXAsXG4gICAgfTtcbiAgICBzZXRXYXRjaCh3YXRjaCk7XG4gICAgZ2V0Q29udGV4dChlbCkucmVmTWFwLmFkZCh3YXRjaCk7XG4gIH1cbn1cblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi9yZWFkbWUubWQjdXNlQ2xlYW51cFwiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IC4uL3JlYWRtZS5tZCN1c2VDbGVhbnVwIGluc3RlYWQpXG4vKipcbiAqIEEgbGF6eS1sb2FkYWJsZSByZWZlcmVuY2UgdG8gYSBjb21wb25lbnQncyBjbGVhbnVwIGhvb2suXG4gKlxuICogSW52b2tlZCB3aGVuIHRoZSBjb21wb25lbnQgaXMgZGVzdHJveWVkIChyZW1vdmVkIGZyb20gcmVuZGVyIHRyZWUpLCBvciBwYXVzZWQgYXMgcGFydCBvZiB0aGVcbiAqIFNTUiBzZXJpYWxpemF0aW9uLlxuICpcbiAqIENhbiBiZSB1c2VkIHRvIHJlbGVhc2UgcmVzb3VjZXMsIGFib3J0IG5ldHdvcmsgcmVxdWV0cywgc3RvcCB0aW1lcnMuLi5cbiAqXG4gKiBgYGB0c3hcbiAqIGNvbnN0IENtcCA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICogICB1c2VDbGVhbnVwJCgoKSA9PiB7XG4gKiAgICAgLy8gRXhlY3V0ZWQgYWZ0ZXIgU1NSIChwYXVzZSkgb3Igd2hlbiB0aGUgY29tcG9uZW50IGdldHMgcmVtb3ZlZCBmcm9tIHRoZSBET00uXG4gKiAgICAgLy8gQ2FuIGJlIHVzZWQgdG8gcmVsZWFzZSByZXNvdWNlcywgYWJvcnQgbmV0d29yayByZXF1ZXRzLCBzdG9wIHRpbWVycy4uLlxuICogICAgIGNvbnNvbGUubG9nKCdjb21wb25lbnQgaXMgZGVzdHJveWVkJyk7XG4gKiAgIH0pO1xuICogICByZXR1cm4gPGRpdj5IZWxsbyB3b3JsZDwvZGl2PjtcbiAqIH0pO1xuICogYGBgXG4gKlxuICogQGFscGhhXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBjb25zdCB1c2VDbGVhbnVwJCA9IGltcGxpY2l0JEZpcnN0QXJnKHVzZUNsZWFudXBRcmwpO1xuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4uL3JlYWRtZS5tZCN1c2VSZXN1bWVcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjdXNlUmVzdW1lIGluc3RlYWQpXG4vKipcbiAqIEEgbGF6eS1sb2FkYWJsZSByZWZlcmVuY2UgdG8gYSBjb21wb25lbnQncyBvbiByZXN1bWUgaG9vay5cbiAqXG4gKiBUaGUgaG9vayBpcyBlYWdlcmx5IGludm9rZWQgd2hlbiB0aGUgYXBwbGljYXRpb24gcmVzdW1lcyBvbiB0aGUgY2xpZW50LiBCZWNhdXNlIGl0IGlzIGNhbGxlZFxuICogZWFnZXJseSwgdGhpcyBhbGxvd3MgdGhlIGNvbXBvbmVudCB0byByZXN1bWUgZXZlbiBpZiBubyB1c2VyIGludGVyYWN0aW9uIGhhcyB0YWtlbiBwbGFjZS5cbiAqXG4gKiBPbmx5IGNhbGxlZCBpbiB0aGUgY2xpZW50LlxuICogT25seSBjYWxsZWQgb25jZS5cbiAqXG4gKiBgYGB0c3hcbiAqIGNvbnN0IENtcCA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICogICB1c2VSZXN1bWUkKCgpID0+IHtcbiAqICAgICAvLyBFYWdlcmx5IGludm9rZWQgd2hlbiB0aGUgYXBwbGljYXRpb24gcmVzdW1lcyBvbiB0aGUgY2xpZW50XG4gKiAgICAgY29uc29sZS5sb2coJ2NhbGxlZCBvbmNlIGluIGNsaWVudCcpO1xuICogICB9KTtcbiAqICAgcmV0dXJuIDxkaXY+SGVsbG8gd29ybGQ8L2Rpdj47XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBzZWUgYHVzZVZpc2libGVgLCBgdXNlQ2xpZW50RWZmZWN0YFxuICpcbiAqIEBhbHBoYVxuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgZnVuY3Rpb24gdXNlUmVzdW1lUXJsKHJlc3VtZUZuOiBRUkw8KCkgPT4gdm9pZD4pOiB2b2lkIHtcbiAgdXNlT24oJ3FyZXN1bWUnLCByZXN1bWVGbik7XG59XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kI3VzZVJlc3VtZVwiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IC4uL3JlYWRtZS5tZCN1c2VSZXN1bWUgaW5zdGVhZClcbi8qKlxuICogQSBsYXp5LWxvYWRhYmxlIHJlZmVyZW5jZSB0byBhIGNvbXBvbmVudCdzIG9uIHJlc3VtZSBob29rLlxuICpcbiAqIFRoZSBob29rIGlzIGVhZ2VybHkgaW52b2tlZCB3aGVuIHRoZSBhcHBsaWNhdGlvbiByZXN1bWVzIG9uIHRoZSBjbGllbnQuIEJlY2F1c2UgaXQgaXMgY2FsbGVkXG4gKiBlYWdlcmx5LCB0aGlzIGFsbG93cyB0aGUgY29tcG9uZW50IHRvIHJlc3VtZSBldmVuIGlmIG5vIHVzZXIgaW50ZXJhY3Rpb24gaGFzIHRha2VuIHBsYWNlLlxuICpcbiAqIE9ubHkgY2FsbGVkIGluIHRoZSBjbGllbnQuXG4gKiBPbmx5IGNhbGxlZCBvbmNlLlxuICpcbiAqIGBgYHRzeFxuICogY29uc3QgQ21wID0gY29tcG9uZW50JCgoKSA9PiB7XG4gKiAgIHVzZVJlc3VtZSQoKCkgPT4ge1xuICogICAgIC8vIEVhZ2VybHkgaW52b2tlZCB3aGVuIHRoZSBhcHBsaWNhdGlvbiByZXN1bWVzIG9uIHRoZSBjbGllbnRcbiAqICAgICBjb25zb2xlLmxvZygnY2FsbGVkIG9uY2UgaW4gY2xpZW50Jyk7XG4gKiAgIH0pO1xuICogICByZXR1cm4gPGRpdj5IZWxsbyB3b3JsZDwvZGl2PjtcbiAqIH0pO1xuICogYGBgXG4gKlxuICogQHNlZSBgdXNlVmlzaWJsZWAsIGB1c2VDbGllbnRFZmZlY3RgXG4gKlxuICogQGFscGhhXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBjb25zdCB1c2VSZXN1bWUkID0gaW1wbGljaXQkRmlyc3RBcmcodXNlUmVzdW1lUXJsKTtcblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi9yZWFkbWUubWQjdXNlVmlzaWJsZVwiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IC4uL3JlYWRtZS5tZCN1c2VWaXNpYmxlIGluc3RlYWQpXG4vKipcbiAqIEEgbGF6eS1sb2FkYWJsZSByZWZlcmVuY2UgdG8gYSBjb21wb25lbnQncyBvbiB2aXNpYmxlIGhvb2suXG4gKlxuICogVGhlIGhvb2sgaXMgbGF6aWx5IGludm9rZWQgd2hlbiB0aGUgY29tcG9uZW50IGJlY29tZXMgdmlzaWJsZSBpbiB0aGUgYnJvd3NlciB2aWV3cG9ydC5cbiAqXG4gKiBPbmx5IGNhbGxlZCBpbiB0aGUgY2xpZW50LlxuICogT25seSBjYWxsZWQgb25jZS5cbiAqXG4gKiBAc2VlIGB1c2VSZXN1bWVgLCBgdXNlQ2xpZW50RWZmZWN0YFxuICpcbiAqIGBgYHRzeFxuICogY29uc3QgQ21wID0gY29tcG9uZW50JCgoKSA9PiB7XG4gKiAgIGNvbnN0IHN0b3JlID0gdXNlU3RvcmUoe1xuICogICAgIGlzVmlzaWJsZTogZmFsc2UsXG4gKiAgIH0pO1xuICogICB1c2VWaXNpYmxlJCgoKSA9PiB7XG4gKiAgICAgLy8gSW52b2tlZCBvbmNlIHdoZW4gdGhlIGNvbXBvbmVudCBpcyB2aXNpYmxlIGluIHRoZSBicm93c2VyJ3Mgdmlld3BvcnRcbiAqICAgICBjb25zb2xlLmxvZygnY2FsbGVkIG9uY2UgaW4gY2xpZW50IHdoZW4gdmlzaWJsZScpO1xuICogICAgIHN0b3JlLmlzVmlzaWJsZSA9IHRydWU7XG4gKiAgIH0pO1xuICogICByZXR1cm4gPGRpdj57c3RvcmUuaXNWaXNpYmxlfTwvZGl2PjtcbiAqIH0pO1xuICogYGBgXG4gKlxuICogQGFscGhhXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBmdW5jdGlvbiB1c2VWaXNpYmxlUXJsKHJlc3VtZUZuOiBRUkw8KCkgPT4gdm9pZD4pOiB2b2lkIHtcbiAgdXNlT24oJ3F2aXNpYmxlJywgcmVzdW1lRm4pO1xufVxuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4uL3JlYWRtZS5tZCN1c2VWaXNpYmxlXCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi4vcmVhZG1lLm1kI3VzZVZpc2libGUgaW5zdGVhZClcbi8qKlxuICogQSBsYXp5LWxvYWRhYmxlIHJlZmVyZW5jZSB0byBhIGNvbXBvbmVudCdzIG9uIHZpc2libGUgaG9vay5cbiAqXG4gKiBUaGUgaG9vayBpcyBsYXppbHkgaW52b2tlZCB3aGVuIHRoZSBjb21wb25lbnQgYmVjb21lcyB2aXNpYmxlIGluIHRoZSBicm93c2VyIHZpZXdwb3J0LlxuICpcbiAqIE9ubHkgY2FsbGVkIGluIHRoZSBjbGllbnQuXG4gKiBPbmx5IGNhbGxlZCBvbmNlLlxuICpcbiAqIEBzZWUgYHVzZVJlc3VtZWAsIGB1c2VDbGllbnRFZmZlY3RgXG4gKlxuICogYGBgdHN4XG4gKiBjb25zdCBDbXAgPSBjb21wb25lbnQkKCgpID0+IHtcbiAqICAgY29uc3Qgc3RvcmUgPSB1c2VTdG9yZSh7XG4gKiAgICAgaXNWaXNpYmxlOiBmYWxzZSxcbiAqICAgfSk7XG4gKiAgIHVzZVZpc2libGUkKCgpID0+IHtcbiAqICAgICAvLyBJbnZva2VkIG9uY2Ugd2hlbiB0aGUgY29tcG9uZW50IGlzIHZpc2libGUgaW4gdGhlIGJyb3dzZXIncyB2aWV3cG9ydFxuICogICAgIGNvbnNvbGUubG9nKCdjYWxsZWQgb25jZSBpbiBjbGllbnQgd2hlbiB2aXNpYmxlJyk7XG4gKiAgICAgc3RvcmUuaXNWaXNpYmxlID0gdHJ1ZTtcbiAqICAgfSk7XG4gKiAgIHJldHVybiA8ZGl2PntzdG9yZS5pc1Zpc2libGV9PC9kaXY+O1xuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBAYWxwaGFcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGNvbnN0IHVzZVZpc2libGUkID0gaW1wbGljaXQkRmlyc3RBcmcodXNlVmlzaWJsZVFybCk7XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kI3VzZU9uXCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi4vcmVhZG1lLm1kI3VzZU9uIGluc3RlYWQpXG4vKipcbiAqIFJlZ2lzdGVyIGEgbGlzdGVuZXIgb24gdGhlIGN1cnJlbnQgY29tcG9uZW50J3MgaG9zdCBlbGVtZW50LlxuICpcbiAqIFVzZWQgdG8gcHJvZ3JhbW1hdGljYWxseSBhZGQgZXZlbnQgbGlzdGVuZXJzLiBVc2VmdWwgZnJvbSBjdXN0b20gYHVzZSpgIG1ldGhvZHMsIHdoaWNoIGRvIG5vdFxuICogaGF2ZSBhY2Nlc3MgdG8gdGhlIEpTWC4gT3RoZXJ3aXNlIGl0J3MgYWRkaW5nIGEgSlNYIGxpc3RlbmVyIGluIHRoZSBgPEhvc3Q+YCBpcyBhIGJldHRlciBpZGVhLlxuICpcbiAqIEBzZWUgYHVzZU9uYCwgYHVzZU9uV2luZG93YCwgYHVzZU9uRG9jdW1lbnRgLlxuICpcbiAqIEBhbHBoYVxuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgZnVuY3Rpb24gdXNlT24oZXZlbnQ6IHN0cmluZywgZXZlbnRGbjogUVJMPCgpID0+IHZvaWQ+KSB7XG4gIGNvbnN0IGVsID0gdXNlSG9zdEVsZW1lbnQoKTtcbiAgY29uc3QgY3R4ID0gZ2V0Q29udGV4dChlbCk7XG4gIHFQcm9wV3JpdGVRUkwodW5kZWZpbmVkLCBjdHgsIGBvbjoke2V2ZW50fWAsIGV2ZW50Rm4pO1xufVxuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4uL3JlYWRtZS5tZCN1c2VPbkRvY3VtZW50XCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi4vcmVhZG1lLm1kI3VzZU9uRG9jdW1lbnQgaW5zdGVhZClcbi8qKlxuICogUmVnaXN0ZXIgYSBsaXN0ZW5lciBvbiBgZG9jdW1lbnRgLlxuICpcbiAqIFVzZWQgdG8gcHJvZ3JhbW1hdGljYWxseSBhZGQgZXZlbnQgbGlzdGVuZXJzLiBVc2VmdWwgZnJvbSBjdXN0b20gYHVzZSpgIG1ldGhvZHMsIHdoaWNoIGRvIG5vdFxuICogaGF2ZSBhY2Nlc3MgdG8gdGhlIEpTWC5cbiAqXG4gKiBAc2VlIGB1c2VPbmAsIGB1c2VPbldpbmRvd2AsIGB1c2VPbkRvY3VtZW50YC5cbiAqXG4gKiBgYGB0c3hcbiAqIGZ1bmN0aW9uIHVzZVNjcm9sbCgpIHtcbiAqICAgdXNlT25Eb2N1bWVudChcbiAqICAgICAnc2Nyb2xsJyxcbiAqICAgICAkKCgpID0+IHtcbiAqICAgICAgIGNvbnNvbGUubG9nKCdib2R5IHNjcm9sbGVkJyk7XG4gKiAgICAgfSlcbiAqICAgKTtcbiAqIH1cbiAqXG4gKiBjb25zdCBDbXAgPSBjb21wb25lbnQkKCgpID0+IHtcbiAqICAgdXNlU2Nyb2xsKCk7XG4gKiAgIHJldHVybiA8SG9zdD5Qcm9maXQhPC9Ib3N0PjtcbiAqIH0pO1xuICogYGBgXG4gKlxuICogQGFscGhhXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBmdW5jdGlvbiB1c2VPbkRvY3VtZW50KGV2ZW50OiBzdHJpbmcsIGV2ZW50UXJsOiBRUkw8KCkgPT4gdm9pZD4pIHtcbiAgY29uc3QgZWwgPSB1c2VIb3N0RWxlbWVudCgpO1xuICBjb25zdCBjdHggPSBnZXRDb250ZXh0KGVsKTtcbiAgcVByb3BXcml0ZVFSTCh1bmRlZmluZWQsIGN0eCwgYG9uLWRvY3VtZW50OiR7ZXZlbnR9YCwgZXZlbnRRcmwpO1xufVxuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4uL3JlYWRtZS5tZCN1c2VPbldpbmRvd1wiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IC4uL3JlYWRtZS5tZCN1c2VPbldpbmRvdyBpbnN0ZWFkKVxuLyoqXG4gKiBSZWdpc3RlciBhIGxpc3RlbmVyIG9uIGB3aW5kb3dgLlxuICpcbiAqIFVzZWQgdG8gcHJvZ3JhbW1hdGljYWxseSBhZGQgZXZlbnQgbGlzdGVuZXJzLiBVc2VmdWwgZnJvbSBjdXN0b20gYHVzZSpgIG1ldGhvZHMsIHdoaWNoIGRvIG5vdFxuICogaGF2ZSBhY2Nlc3MgdG8gdGhlIEpTWC5cbiAqXG4gKiBAc2VlIGB1c2VPbmAsIGB1c2VPbldpbmRvd2AsIGB1c2VPbkRvY3VtZW50YC5cbiAqXG4gKiBgYGB0c3hcbiAqIGZ1bmN0aW9uIHVzZUFuYWx5dGljcygpIHtcbiAqICAgdXNlT25XaW5kb3coXG4gKiAgICAgJ3BvcHN0YXRlJyxcbiAqICAgICAkKCgpID0+IHtcbiAqICAgICAgIGNvbnNvbGUubG9nKCduYXZpZ2F0aW9uIGhhcHBlbmVkJyk7XG4gKiAgICAgICAvLyByZXBvcnQgdG8gYW5hbHl0aWNzXG4gKiAgICAgfSlcbiAqICAgKTtcbiAqIH1cbiAqXG4gKiBjb25zdCBDbXAgPSBjb21wb25lbnQkKCgpID0+IHtcbiAqICAgdXNlQW5hbHl0aWNzKCk7XG4gKiAgIHJldHVybiA8SG9zdD5Qcm9maXQhPC9Ib3N0PjtcbiAqIH0pO1xuICogYGBgXG4gKlxuICogQGFscGhhXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBmdW5jdGlvbiB1c2VPbldpbmRvdyhldmVudDogc3RyaW5nLCBldmVudEZuOiBRUkw8KCkgPT4gdm9pZD4pIHtcbiAgY29uc3QgZWwgPSB1c2VIb3N0RWxlbWVudCgpO1xuICBjb25zdCBjdHggPSBnZXRDb250ZXh0KGVsKTtcbiAgcVByb3BXcml0ZVFSTCh1bmRlZmluZWQsIGN0eCwgYG9uLXdpbmRvdzoke2V2ZW50fWAsIGV2ZW50Rm4pO1xufVxuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4uL3JlYWRtZS5tZCN1c2VTdHlsZXNcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjdXNlU3R5bGVzIGluc3RlYWQpXG4vKipcbiAqIEEgbGF6eS1sb2FkYWJsZSByZWZlcmVuY2UgdG8gYSBjb21wb25lbnQncyBzdHlsZXMuXG4gKlxuICogQ29tcG9uZW50IHN0eWxlcyBhbGxvdyBRd2lrIHRvIGxhenkgbG9hZCB0aGUgc3R5bGUgaW5mb3JtYXRpb24gZm9yIHRoZSBjb21wb25lbnQgb25seSB3aGVuXG4gKiBuZWVkZWQuIChBbmQgYXZvaWQgZG91YmxlIGxvYWRpbmcgaXQgaW4gY2FzZSBvZiBTU1IgaHlkcmF0aW9uLilcbiAqXG4gKiBgYGB0c3hcbiAqIGltcG9ydCBzdHlsZXMgZnJvbSAnLi9jb2RlLWJsb2NrLmNzcz9pbmxpbmUnO1xuICpcbiAqIGV4cG9ydCBjb25zdCBDbXBTdHlsZXMgPSBjb21wb25lbnQkKCgpID0+IHtcbiAqICAgdXNlU3R5bGVzJChzdHlsZXMpO1xuICpcbiAqICAgcmV0dXJuIDxIb3N0PlNvbWUgdGV4dDwvSG9zdD47XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBzZWUgYHVzZVNjb3BlZFN0eWxlc2AuXG4gKlxuICogQHB1YmxpY1xuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgZnVuY3Rpb24gdXNlU3R5bGVzUXJsKHN0eWxlczogUVJMPHN0cmluZz4pOiB2b2lkIHtcbiAgX3VzZVN0eWxlcyhzdHlsZXMsIGZhbHNlKTtcbn1cblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi9yZWFkbWUubWQjdXNlU3R5bGVzXCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi4vcmVhZG1lLm1kI3VzZVN0eWxlcyBpbnN0ZWFkKVxuLyoqXG4gKiBBIGxhenktbG9hZGFibGUgcmVmZXJlbmNlIHRvIGEgY29tcG9uZW50J3Mgc3R5bGVzLlxuICpcbiAqIENvbXBvbmVudCBzdHlsZXMgYWxsb3cgUXdpayB0byBsYXp5IGxvYWQgdGhlIHN0eWxlIGluZm9ybWF0aW9uIGZvciB0aGUgY29tcG9uZW50IG9ubHkgd2hlblxuICogbmVlZGVkLiAoQW5kIGF2b2lkIGRvdWJsZSBsb2FkaW5nIGl0IGluIGNhc2Ugb2YgU1NSIGh5ZHJhdGlvbi4pXG4gKlxuICogYGBgdHN4XG4gKiBpbXBvcnQgc3R5bGVzIGZyb20gJy4vY29kZS1ibG9jay5jc3M/aW5saW5lJztcbiAqXG4gKiBleHBvcnQgY29uc3QgQ21wU3R5bGVzID0gY29tcG9uZW50JCgoKSA9PiB7XG4gKiAgIHVzZVN0eWxlcyQoc3R5bGVzKTtcbiAqXG4gKiAgIHJldHVybiA8SG9zdD5Tb21lIHRleHQ8L0hvc3Q+O1xuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBAc2VlIGB1c2VTY29wZWRTdHlsZXNgLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGNvbnN0IHVzZVN0eWxlcyQgPSBpbXBsaWNpdCRGaXJzdEFyZyh1c2VTdHlsZXNRcmwpO1xuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4uL3JlYWRtZS5tZCN1c2VTY29wZWRTdHlsZXNcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjdXNlU2NvcGVkU3R5bGVzIGluc3RlYWQpXG4vKipcbiAqIEBzZWUgYHVzZVN0eWxlc2AuXG4gKlxuICogQGFscGhhXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBmdW5jdGlvbiB1c2VTY29wZWRTdHlsZXNRcmwoc3R5bGVzOiBRUkw8c3RyaW5nPik6IHZvaWQge1xuICBfdXNlU3R5bGVzKHN0eWxlcywgdHJ1ZSk7XG59XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kI3VzZVNjb3BlZFN0eWxlc1wiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IC4uL3JlYWRtZS5tZCN1c2VTY29wZWRTdHlsZXMgaW5zdGVhZClcbi8qKlxuICogQHNlZSBgdXNlU3R5bGVzYC5cbiAqXG4gKiBAYWxwaGFcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGNvbnN0IHVzZVNjb3BlZFN0eWxlcyQgPSBpbXBsaWNpdCRGaXJzdEFyZyh1c2VTY29wZWRTdHlsZXNRcmwpO1xuXG4vKipcbiAqIEluZmVycyBgUHJvcHNgIGZyb20gdGhlIGNvbXBvbmVudC5cbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBleHBvcnQgY29uc3QgT3RoZXJDb21wb25lbnQgPSBjb21wb25lbnQkKCgpID0+IHtcbiAqICAgcmV0dXJuICQoKCkgPT4gPENvdW50ZXIgdmFsdWU9ezEwMH0gLz4pO1xuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBAcHVibGljXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCB0eXBlIFByb3BzT2Y8Q09NUCBleHRlbmRzIChwcm9wczogYW55KSA9PiBKU1hOb2RlPGFueT4gfCBudWxsPiA9IENPTVAgZXh0ZW5kcyAoXG4gIHByb3BzOiBpbmZlciBQUk9QU1xuKSA9PiBKU1hOb2RlPGFueT4gfCBudWxsXG4gID8gTm9uTnVsbGFibGU8UFJPUFM+XG4gIDogbmV2ZXI7XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgaW50ZXJmYWNlIENvbXBvbmVudE9wdGlvbnMge1xuICB0YWdOYW1lPzogc3RyaW5nO1xufVxuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHR5cGUgQ29tcG9uZW50PFBST1BTIGV4dGVuZHMge30+ID0gRnVuY3Rpb25Db21wb25lbnQ8UHVibGljUHJvcHM8UFJPUFM+PjtcblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB0eXBlIFB1YmxpY1Byb3BzPFBST1BTIGV4dGVuZHMge30+ID0gUFJPUFMgJiBPbiRQcm9wczxQUk9QUz4gJiBDb21wb25lbnRCYXNlUHJvcHM7XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdHlwZSBPbiRQcm9wczxUIGV4dGVuZHMge30+ID0ge1xuICBbSyBpbiBrZXlvZiBUIGFzIEsgZXh0ZW5kcyBgJHtpbmZlciBBfVFybGBcbiAgICA/IE5vbk51bGxhYmxlPFRbS10+IGV4dGVuZHMgUVJMXG4gICAgICA/IGAke0F9JGBcbiAgICAgIDogbmV2ZXJcbiAgICA6IG5ldmVyXT86IE5vbk51bGxhYmxlPFRbS10+IGV4dGVuZHMgUVJMPGluZmVyIEI+ID8gQiA6IG5ldmVyO1xufTtcblxuLyoqXG4gKiBAYWxwaGFcbiAqL1xuZXhwb3J0IHR5cGUgRXZlbnRIYW5kbGVyPFQ+ID0gUVJMPCh2YWx1ZTogVCkgPT4gYW55PjtcblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi9yZWFkbWUubWQjY29tcG9uZW50XCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi4vcmVhZG1lLm1kI2NvbXBvbmVudCBpbnN0ZWFkKVxuLyoqXG4gKiBEZWNsYXJlIGEgUXdpayBjb21wb25lbnQgdGhhdCBjYW4gYmUgdXNlZCB0byBjcmVhdGUgVUkuXG4gKlxuICogVXNlIGBjb21wb25lbnQkYCB0byBkZWNsYXJlIGEgUXdpayBjb21wb25lbnQuIEEgUXdpayBjb21wb25lbnQgaXMgYSBzcGVjaWFsIGtpbmQgb2YgY29tcG9uZW50XG4gKiB0aGF0IGFsbG93cyB0aGUgUXdpayBmcmFtZXdvcmsgdG8gbGF6eSBsb2FkIGFuZCBleGVjdXRlIHRoZSBjb21wb25lbnQgaW5kZXBlbmRlbnRseSBvZiBvdGhlclxuICogUXdpayBjb21wb25lbnRzIGFzIHdlbGwgYXMgbGF6eSBsb2FkIHRoZSBjb21wb25lbnQncyBsaWZlLWN5Y2xlIGhvb2tzIGFuZCBldmVudCBoYW5kbGVycy5cbiAqXG4gKiBTaWRlIG5vdGU6IFlvdSBjYW4gYWxzbyBkZWNsYXJlIHJlZ3VsYXIgKHN0YW5kYXJkIEpTWCkgY29tcG9uZW50cyB0aGF0IHdpbGwgaGF2ZSBzdGFuZGFyZFxuICogc3luY2hyb25vdXMgYmVoYXZpb3IuXG4gKlxuICogUXdpayBjb21wb25lbnQgaXMgYSBmYWNhZGUgdGhhdCBkZXNjcmliZXMgaG93IHRoZSBjb21wb25lbnQgc2hvdWxkIGJlIHVzZWQgd2l0aG91dCBmb3JjaW5nIHRoZVxuICogaW1wbGVtZW50YXRpb24gb2YgdGhlIGNvbXBvbmVudCB0byBiZSBlYWdlcmx5IGxvYWRlZC4gQSBtaW5pbXVtIFF3aWsgZGVmaW5pdGlvbiBjb25zaXN0cyBvZjpcbiAqXG4gKiAjIyMgRXhhbXBsZTpcbiAqXG4gKiBBbiBleGFtcGxlIHNob3dpbmcgaG93IHRvIGNyZWF0ZSBhIGNvdW50ZXIgY29tcG9uZW50OlxuICpcbiAqIGBgYHRzeFxuICogZXhwb3J0IGludGVyZmFjZSBDb3VudGVyUHJvcHMge1xuICogICBpbml0aWFsVmFsdWU/OiBudW1iZXI7XG4gKiAgIHN0ZXA/OiBudW1iZXI7XG4gKiB9XG4gKiBleHBvcnQgY29uc3QgQ291bnRlciA9IGNvbXBvbmVudCQoKHByb3BzOiBDb3VudGVyUHJvcHMpID0+IHtcbiAqICAgY29uc3Qgc3RhdGUgPSB1c2VTdG9yZSh7IGNvdW50OiBwcm9wcy5pbml0aWFsVmFsdWUgfHwgMCB9KTtcbiAqICAgcmV0dXJuIChcbiAqICAgICA8ZGl2PlxuICogICAgICAgPHNwYW4+e3N0YXRlLmNvdW50fTwvc3Bhbj5cbiAqICAgICAgIDxidXR0b24gb25DbGljayQ9eygpID0+IChzdGF0ZS5jb3VudCArPSBwcm9wcy5zdGVwIHx8IDEpfT4rPC9idXR0b24+XG4gKiAgICAgPC9kaXY+XG4gKiAgICk7XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIC0gYGNvbXBvbmVudCRgIGlzIGhvdyBhIGNvbXBvbmVudCBnZXRzIGRlY2xhcmVkLlxuICogLSBgeyB2YWx1ZT86IG51bWJlcjsgc3RlcD86IG51bWJlciB9YCBkZWNsYXJlcyB0aGUgcHVibGljIChwcm9wcykgaW50ZXJmYWNlIG9mIHRoZSBjb21wb25lbnQuXG4gKiAtIGB7IGNvdW50OiBudW1iZXIgfWAgZGVjbGFyZXMgdGhlIHByaXZhdGUgKHN0YXRlKSBpbnRlcmZhY2Ugb2YgdGhlIGNvbXBvbmVudC5cbiAqXG4gKiBUaGUgYWJvdmUgY2FuIHRoZW4gYmUgdXNlZCBsaWtlIHNvOlxuICpcbiAqIGBgYHRzeFxuICogZXhwb3J0IGNvbnN0IE90aGVyQ29tcG9uZW50ID0gY29tcG9uZW50JCgoKSA9PiB7XG4gKiAgIHJldHVybiA8Q291bnRlciBpbml0aWFsVmFsdWU9ezEwMH0gLz47XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIFNlZSBhbHNvOiBgY29tcG9uZW50YCwgYHVzZUNsZWFudXBgLCBgb25SZXN1bWVgLCBgb25QYXVzZWAsIGB1c2VPbmAsIGB1c2VPbkRvY3VtZW50YCxcbiAqIGB1c2VPbldpbmRvd2AsIGB1c2VTdHlsZXNgLCBgdXNlU2NvcGVkU3R5bGVzYFxuICpcbiAqIEBwdWJsaWNcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGZ1bmN0aW9uIGNvbXBvbmVudFFybDxQUk9QUyBleHRlbmRzIHt9PihcbiAgb25SZW5kZXJRcmw6IFFSTDxPblJlbmRlckZuPFBST1BTPj4sXG4gIG9wdGlvbnM6IENvbXBvbmVudE9wdGlvbnMgPSB7fVxuKTogQ29tcG9uZW50PFBST1BTPiB7XG4gIGNvbnN0IHRhZ05hbWUgPSBvcHRpb25zLnRhZ05hbWUgPz8gJ2Rpdic7XG5cbiAgLy8gUmV0dXJuIGEgUUNvbXBvbmVudCBGYWN0b3J5IGZ1bmN0aW9uLlxuICByZXR1cm4gZnVuY3Rpb24gUVNpbXBsZUNvbXBvbmVudChwcm9wcywga2V5KTogSlNYTm9kZTxQUk9QUz4ge1xuICAgIHJldHVybiBqc3godGFnTmFtZSwgeyBbT25SZW5kZXJQcm9wXTogb25SZW5kZXJRcmwsIC4uLnByb3BzIH0sIGtleSkgYXMgYW55O1xuICB9O1xufVxuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4uL3JlYWRtZS5tZCNjb21wb25lbnRcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjY29tcG9uZW50IGluc3RlYWQpXG4vKipcbiAqIERlY2xhcmUgYSBRd2lrIGNvbXBvbmVudCB0aGF0IGNhbiBiZSB1c2VkIHRvIGNyZWF0ZSBVSS5cbiAqXG4gKiBVc2UgYGNvbXBvbmVudCRgIHRvIGRlY2xhcmUgYSBRd2lrIGNvbXBvbmVudC4gQSBRd2lrIGNvbXBvbmVudCBpcyBhIHNwZWNpYWwga2luZCBvZiBjb21wb25lbnRcbiAqIHRoYXQgYWxsb3dzIHRoZSBRd2lrIGZyYW1ld29yayB0byBsYXp5IGxvYWQgYW5kIGV4ZWN1dGUgdGhlIGNvbXBvbmVudCBpbmRlcGVuZGVudGx5IG9mIG90aGVyXG4gKiBRd2lrIGNvbXBvbmVudHMgYXMgd2VsbCBhcyBsYXp5IGxvYWQgdGhlIGNvbXBvbmVudCdzIGxpZmUtY3ljbGUgaG9va3MgYW5kIGV2ZW50IGhhbmRsZXJzLlxuICpcbiAqIFNpZGUgbm90ZTogWW91IGNhbiBhbHNvIGRlY2xhcmUgcmVndWxhciAoc3RhbmRhcmQgSlNYKSBjb21wb25lbnRzIHRoYXQgd2lsbCBoYXZlIHN0YW5kYXJkXG4gKiBzeW5jaHJvbm91cyBiZWhhdmlvci5cbiAqXG4gKiBRd2lrIGNvbXBvbmVudCBpcyBhIGZhY2FkZSB0aGF0IGRlc2NyaWJlcyBob3cgdGhlIGNvbXBvbmVudCBzaG91bGQgYmUgdXNlZCB3aXRob3V0IGZvcmNpbmcgdGhlXG4gKiBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgY29tcG9uZW50IHRvIGJlIGVhZ2VybHkgbG9hZGVkLiBBIG1pbmltdW0gUXdpayBkZWZpbml0aW9uIGNvbnNpc3RzIG9mOlxuICpcbiAqICMjIyBFeGFtcGxlOlxuICpcbiAqIEFuIGV4YW1wbGUgc2hvd2luZyBob3cgdG8gY3JlYXRlIGEgY291bnRlciBjb21wb25lbnQ6XG4gKlxuICogYGBgdHN4XG4gKiBleHBvcnQgaW50ZXJmYWNlIENvdW50ZXJQcm9wcyB7XG4gKiAgIGluaXRpYWxWYWx1ZT86IG51bWJlcjtcbiAqICAgc3RlcD86IG51bWJlcjtcbiAqIH1cbiAqIGV4cG9ydCBjb25zdCBDb3VudGVyID0gY29tcG9uZW50JCgocHJvcHM6IENvdW50ZXJQcm9wcykgPT4ge1xuICogICBjb25zdCBzdGF0ZSA9IHVzZVN0b3JlKHsgY291bnQ6IHByb3BzLmluaXRpYWxWYWx1ZSB8fCAwIH0pO1xuICogICByZXR1cm4gKFxuICogICAgIDxkaXY+XG4gKiAgICAgICA8c3Bhbj57c3RhdGUuY291bnR9PC9zcGFuPlxuICogICAgICAgPGJ1dHRvbiBvbkNsaWNrJD17KCkgPT4gKHN0YXRlLmNvdW50ICs9IHByb3BzLnN0ZXAgfHwgMSl9Pis8L2J1dHRvbj5cbiAqICAgICA8L2Rpdj5cbiAqICAgKTtcbiAqIH0pO1xuICogYGBgXG4gKlxuICogLSBgY29tcG9uZW50JGAgaXMgaG93IGEgY29tcG9uZW50IGdldHMgZGVjbGFyZWQuXG4gKiAtIGB7IHZhbHVlPzogbnVtYmVyOyBzdGVwPzogbnVtYmVyIH1gIGRlY2xhcmVzIHRoZSBwdWJsaWMgKHByb3BzKSBpbnRlcmZhY2Ugb2YgdGhlIGNvbXBvbmVudC5cbiAqIC0gYHsgY291bnQ6IG51bWJlciB9YCBkZWNsYXJlcyB0aGUgcHJpdmF0ZSAoc3RhdGUpIGludGVyZmFjZSBvZiB0aGUgY29tcG9uZW50LlxuICpcbiAqIFRoZSBhYm92ZSBjYW4gdGhlbiBiZSB1c2VkIGxpa2Ugc286XG4gKlxuICogYGBgdHN4XG4gKiBleHBvcnQgY29uc3QgT3RoZXJDb21wb25lbnQgPSBjb21wb25lbnQkKCgpID0+IHtcbiAqICAgcmV0dXJuIDxDb3VudGVyIGluaXRpYWxWYWx1ZT17MTAwfSAvPjtcbiAqIH0pO1xuICogYGBgXG4gKlxuICogU2VlIGFsc286IGBjb21wb25lbnRgLCBgdXNlQ2xlYW51cGAsIGBvblJlc3VtZWAsIGBvblBhdXNlYCwgYHVzZU9uYCwgYHVzZU9uRG9jdW1lbnRgLFxuICogYHVzZU9uV2luZG93YCwgYHVzZVN0eWxlc2AsIGB1c2VTY29wZWRTdHlsZXNgXG4gKlxuICogQHB1YmxpY1xuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgZnVuY3Rpb24gY29tcG9uZW50JDxQUk9QUyBleHRlbmRzIHt9PihcbiAgb25Nb3VudDogT25SZW5kZXJGbjxQUk9QUz4sXG4gIG9wdGlvbnM/OiBDb21wb25lbnRPcHRpb25zXG4pOiBDb21wb25lbnQ8UFJPUFM+IHtcbiAgcmV0dXJuIGNvbXBvbmVudFFybDxQUk9QUz4oJChvbk1vdW50KSwgb3B0aW9ucyk7XG59XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdHlwZSBPblJlbmRlckZuPFBST1BTPiA9IChwcm9wczogUFJPUFMpID0+IFZhbHVlT3JQcm9taXNlPEpTWE5vZGU8YW55PiB8IG51bGw+O1xuXG5leHBvcnQgaW50ZXJmYWNlIFJlbmRlckZhY3RvcnlPdXRwdXQ8UFJPUFM+IHtcbiAgcmVuZGVyUVJMOiBRUkw8T25SZW5kZXJGbjxQUk9QUz4+O1xuICB3YWl0T246IGFueVtdO1xufVxuXG5mdW5jdGlvbiBfdXNlU3R5bGVzKHN0eWxlczogUVJMPHN0cmluZz4sIHNjb3BlZDogYm9vbGVhbikge1xuICBjb25zdCBbc3R5bGUsIHNldFN0eWxlXSA9IHVzZVNlcXVlbnRpYWxTY29wZSgpO1xuICBpZiAoc3R5bGUgPT09IHRydWUpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgc2V0U3R5bGUodHJ1ZSk7XG4gIGNvbnN0IHN0eWxlUXJsID0gdG9RcmxPckVycm9yKHN0eWxlcyk7XG4gIGNvbnN0IHN0eWxlSWQgPSBzdHlsZUtleShzdHlsZVFybCk7XG4gIGNvbnN0IGhvc3RFbGVtZW50ID0gdXNlSG9zdEVsZW1lbnQoKTtcbiAgaWYgKHNjb3BlZCkge1xuICAgIGhvc3RFbGVtZW50LnNldEF0dHJpYnV0ZShDb21wb25lbnRTY29wZWRTdHlsZXMsIHN0eWxlSWQpO1xuICB9XG5cbiAgdXNlV2FpdE9uKFxuICAgIHN0eWxlUXJsLnJlc29sdmUoaG9zdEVsZW1lbnQpLnRoZW4oKHN0eWxlVGV4dCkgPT4ge1xuICAgICAgY29uc3QgdGFzazogU3R5bGVBcHBlbmQgPSB7XG4gICAgICAgIHR5cGU6ICdzdHlsZScsXG4gICAgICAgIHN0eWxlSWQsXG4gICAgICAgIGNvbnRlbnQ6IHNjb3BlZCA/IHN0eWxlVGV4dC5yZXBsYWNlKC/vv70vZywgc3R5bGVJZCkgOiBzdHlsZVRleHQsXG4gICAgICB9O1xuICAgICAgcmV0dXJuIHRhc2s7XG4gICAgfSlcbiAgKTtcbn1cbiJdfQ==","/* eslint-disable */\nimport { flattenArray } from '../../util/array';\nimport { EMPTY_ARRAY } from '../../util/flyweight';\nimport { JSXNodeImpl } from './jsx-runtime';\n/**\n * @public\n */\nexport function h(type, props, ...children) {\n    // Using legacy h() jsx transform and morphing it\n    // so it can use the modern vdom structure\n    // https://reactjs.org/blog/2020/09/22/introducing-the-new-jsx-transform.html\n    // https://www.typescriptlang.org/tsconfig#jsxImportSource\n    const normalizedProps = {\n        children: arguments.length > 2 ? flattenArray(children) : EMPTY_ARRAY,\n    };\n    let key;\n    let i;\n    for (i in props) {\n        if (i == 'key')\n            key = props[i];\n        else\n            normalizedProps[i] = props[i];\n    }\n    return new JSXNodeImpl(type, normalizedProps, key);\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmFjdG9yeS5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9yZW5kZXIvanN4L2ZhY3RvcnkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsb0JBQW9CO0FBQ3BCLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUNoRCxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFDbkQsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUk1Qzs7R0FFRztBQUNILE1BQU0sVUFBVSxDQUFDLENBQ2YsSUFBdUMsRUFDdkMsS0FBbUIsRUFDbkIsR0FBRyxRQUFlO0lBRWxCLGlEQUFpRDtJQUNqRCwwQ0FBMEM7SUFDMUMsNkVBQTZFO0lBQzdFLDBEQUEwRDtJQUUxRCxNQUFNLGVBQWUsR0FBUTtRQUMzQixRQUFRLEVBQUUsU0FBUyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLFlBQVksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsV0FBVztLQUN0RSxDQUFDO0lBRUYsSUFBSSxHQUFRLENBQUM7SUFDYixJQUFJLENBQU0sQ0FBQztJQUVYLEtBQUssQ0FBQyxJQUFJLEtBQUssRUFBRTtRQUNmLElBQUksQ0FBQyxJQUFJLEtBQUs7WUFBRSxHQUFHLEdBQUksS0FBNkIsQ0FBQyxDQUFDLENBQUMsQ0FBQzs7WUFDbkQsZUFBZSxDQUFDLENBQUMsQ0FBQyxHQUFJLEtBQTZCLENBQUMsQ0FBQyxDQUFDLENBQUM7S0FDN0Q7SUFFRCxPQUFPLElBQUksV0FBVyxDQUFDLElBQUksRUFBRSxlQUFlLEVBQUUsR0FBRyxDQUFDLENBQUM7QUFDckQsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgeyBmbGF0dGVuQXJyYXkgfSBmcm9tICcuLi8uLi91dGlsL2FycmF5JztcbmltcG9ydCB7IEVNUFRZX0FSUkFZIH0gZnJvbSAnLi4vLi4vdXRpbC9mbHl3ZWlnaHQnO1xuaW1wb3J0IHsgSlNYTm9kZUltcGwgfSBmcm9tICcuL2pzeC1ydW50aW1lJztcbmltcG9ydCB0eXBlIHsgUXdpa0pTWCB9IGZyb20gJy4vdHlwZXMvanN4LXF3aWsnO1xuaW1wb3J0IHR5cGUgeyBGdW5jdGlvbkNvbXBvbmVudCwgSlNYTm9kZSB9IGZyb20gJy4vdHlwZXMvanN4LW5vZGUnO1xuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGg8UFJPUFMgZXh0ZW5kcyB7fSA9IHt9PihcbiAgdHlwZTogc3RyaW5nIHwgRnVuY3Rpb25Db21wb25lbnQ8UFJPUFM+LFxuICBwcm9wczogUFJPUFMgfCBudWxsLFxuICAuLi5jaGlsZHJlbjogYW55W11cbik6IEpTWE5vZGUge1xuICAvLyBVc2luZyBsZWdhY3kgaCgpIGpzeCB0cmFuc2Zvcm0gYW5kIG1vcnBoaW5nIGl0XG4gIC8vIHNvIGl0IGNhbiB1c2UgdGhlIG1vZGVybiB2ZG9tIHN0cnVjdHVyZVxuICAvLyBodHRwczovL3JlYWN0anMub3JnL2Jsb2cvMjAyMC8wOS8yMi9pbnRyb2R1Y2luZy10aGUtbmV3LWpzeC10cmFuc2Zvcm0uaHRtbFxuICAvLyBodHRwczovL3d3dy50eXBlc2NyaXB0bGFuZy5vcmcvdHNjb25maWcjanN4SW1wb3J0U291cmNlXG5cbiAgY29uc3Qgbm9ybWFsaXplZFByb3BzOiBhbnkgPSB7XG4gICAgY2hpbGRyZW46IGFyZ3VtZW50cy5sZW5ndGggPiAyID8gZmxhdHRlbkFycmF5KGNoaWxkcmVuKSA6IEVNUFRZX0FSUkFZLFxuICB9O1xuXG4gIGxldCBrZXk6IGFueTtcbiAgbGV0IGk6IGFueTtcblxuICBmb3IgKGkgaW4gcHJvcHMpIHtcbiAgICBpZiAoaSA9PSAna2V5Jykga2V5ID0gKHByb3BzIGFzIFJlY29yZDxzdHJpbmcsIGFueT4pW2ldO1xuICAgIGVsc2Ugbm9ybWFsaXplZFByb3BzW2ldID0gKHByb3BzIGFzIFJlY29yZDxzdHJpbmcsIGFueT4pW2ldO1xuICB9XG5cbiAgcmV0dXJuIG5ldyBKU1hOb2RlSW1wbCh0eXBlLCBub3JtYWxpemVkUHJvcHMsIGtleSk7XG59XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZGVjbGFyZSBuYW1lc3BhY2UgaCB7XG4gIGV4cG9ydCBmdW5jdGlvbiBoKHR5cGU6IGFueSk6IEpTWE5vZGU8YW55PjtcbiAgZXhwb3J0IGZ1bmN0aW9uIGgodHlwZTogTm9kZSwgZGF0YTogYW55KTogSlNYTm9kZTxhbnk+O1xuICBleHBvcnQgZnVuY3Rpb24gaCh0eXBlOiBhbnksIHRleHQ6IHN0cmluZyk6IEpTWE5vZGU8YW55PjtcbiAgZXhwb3J0IGZ1bmN0aW9uIGgodHlwZTogYW55LCBjaGlsZHJlbjogQXJyYXk8YW55Pik6IEpTWE5vZGU8YW55PjtcbiAgZXhwb3J0IGZ1bmN0aW9uIGgodHlwZTogYW55LCBkYXRhOiBhbnksIHRleHQ6IHN0cmluZyk6IEpTWE5vZGU8YW55PjtcbiAgZXhwb3J0IGZ1bmN0aW9uIGgoXG4gICAgdHlwZTogYW55LFxuICAgIGRhdGE6IGFueSxcbiAgICBjaGlsZHJlbjogQXJyYXk8SlNYTm9kZTxhbnk+IHwgdW5kZWZpbmVkIHwgbnVsbD5cbiAgKTogSlNYTm9kZTxhbnk+O1xuICBleHBvcnQgZnVuY3Rpb24gaChzZWw6IGFueSwgZGF0YTogYW55IHwgbnVsbCwgY2hpbGRyZW46IEpTWE5vZGU8YW55Pik6IEpTWE5vZGU8YW55PjtcblxuICBleHBvcnQgbmFtZXNwYWNlIEpTWCB7XG4gICAgZXhwb3J0IGludGVyZmFjZSBFbGVtZW50IGV4dGVuZHMgUXdpa0pTWC5FbGVtZW50IHt9XG4gICAgZXhwb3J0IGludGVyZmFjZSBJbnRyaW5zaWNBdHRyaWJ1dGVzIGV4dGVuZHMgUXdpa0pTWC5JbnRyaW5zaWNBdHRyaWJ1dGVzIHt9XG4gICAgZXhwb3J0IGludGVyZmFjZSBJbnRyaW5zaWNFbGVtZW50cyBleHRlbmRzIFF3aWtKU1guSW50cmluc2ljRWxlbWVudHMge31cbiAgICBleHBvcnQgaW50ZXJmYWNlIEVsZW1lbnRDaGlsZHJlbkF0dHJpYnV0ZSB7XG4gICAgICBjaGlsZHJlbj86IGFueTtcbiAgICB9XG4gIH1cbn1cbiJdfQ==","import { jsx } from './jsx-runtime';\n/**\n * @public\n */\nexport const Slot = (props) => {\n    const hasChildren = props.children || (Array.isArray(props.children) && props.children.length > 0);\n    const newChildrem = !hasChildren\n        ? []\n        : jsx('q:fallback', {\n            children: props.children,\n        });\n    return jsx('q:slot', {\n        name: props.name,\n        children: newChildrem,\n    }, props.name);\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2xvdC5wdWJsaWMuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvcmVuZGVyL2pzeC9zbG90LnB1YmxpYy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsR0FBRyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBR3BDOztHQUVHO0FBQ0gsTUFBTSxDQUFDLE1BQU0sSUFBSSxHQUdaLENBQUMsS0FBSyxFQUFFLEVBQUU7SUFDYixNQUFNLFdBQVcsR0FDZixLQUFLLENBQUMsUUFBUSxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLElBQUksS0FBSyxDQUFDLFFBQVEsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDakYsTUFBTSxXQUFXLEdBQUcsQ0FBQyxXQUFXO1FBQzlCLENBQUMsQ0FBQyxFQUFFO1FBQ0osQ0FBQyxDQUFDLEdBQUcsQ0FBQyxZQUFZLEVBQUU7WUFDaEIsUUFBUSxFQUFFLEtBQUssQ0FBQyxRQUFRO1NBQ3pCLENBQUMsQ0FBQztJQUVQLE9BQU8sR0FBRyxDQUNSLFFBQVEsRUFDUjtRQUNFLElBQUksRUFBRSxLQUFLLENBQUMsSUFBSTtRQUNoQixRQUFRLEVBQUUsV0FBVztLQUN0QixFQUNELEtBQUssQ0FBQyxJQUFJLENBQ1gsQ0FBQztBQUNKLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGpzeCB9IGZyb20gJy4vanN4LXJ1bnRpbWUnO1xuaW1wb3J0IHR5cGUgeyBGdW5jdGlvbkNvbXBvbmVudCB9IGZyb20gJy4vdHlwZXMvanN4LW5vZGUnO1xuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IFNsb3Q6IEZ1bmN0aW9uQ29tcG9uZW50PHtcbiAgbmFtZT86IHN0cmluZztcbiAgY2hpbGRyZW4/OiBhbnk7XG59PiA9IChwcm9wcykgPT4ge1xuICBjb25zdCBoYXNDaGlsZHJlbiA9XG4gICAgcHJvcHMuY2hpbGRyZW4gfHwgKEFycmF5LmlzQXJyYXkocHJvcHMuY2hpbGRyZW4pICYmIHByb3BzLmNoaWxkcmVuLmxlbmd0aCA+IDApO1xuICBjb25zdCBuZXdDaGlsZHJlbSA9ICFoYXNDaGlsZHJlblxuICAgID8gW11cbiAgICA6IGpzeCgncTpmYWxsYmFjaycsIHtcbiAgICAgICAgY2hpbGRyZW46IHByb3BzLmNoaWxkcmVuLFxuICAgICAgfSk7XG5cbiAgcmV0dXJuIGpzeChcbiAgICAncTpzbG90JyxcbiAgICB7XG4gICAgICBuYW1lOiBwcm9wcy5uYW1lLFxuICAgICAgY2hpbGRyZW46IG5ld0NoaWxkcmVtLFxuICAgIH0sXG4gICAgcHJvcHMubmFtZVxuICApO1xufTtcbiJdfQ==","/**\n * QWIK_VERSION\n * @public\n */\nexport const version = globalThis.QWIK_VERSION;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVyc2lvbi5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS92ZXJzaW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7R0FHRztBQUNILE1BQU0sQ0FBQyxNQUFNLE9BQU8sR0FBSSxVQUFrQixDQUFDLFlBQXNCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFFXSUtfVkVSU0lPTlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgdmVyc2lvbiA9IChnbG9iYWxUaGlzIGFzIGFueSkuUVdJS19WRVJTSU9OIGFzIHN0cmluZztcbiJdfQ==","import { isDocument } from '../util/element';\nimport { executeContext, printRenderStats } from './cursor';\nimport { isJSXNode, jsx, processNode } from './jsx/jsx-runtime';\nimport { visitJsxNode } from './render';\nimport { getRenderingState } from './notify-render';\nimport { getDocument } from '../util/dom';\nimport { qDev, qTest } from '../util/qdev';\nimport { version } from '../version';\nimport { QContainerAttr } from '../util/markers';\nimport { logError } from '../util/log';\nimport { isWatchDescriptor, runWatch, WatchFlags } from '../watch/watch.public';\nimport { appendQwikDevTools, getContext } from '../props/props';\n/**\n * Render JSX.\n *\n * Use this method to render JSX. This function does reconciling which means\n * it always tries to reuse what is already in the DOM (rather then destroy and\n * recrate content.)\n *\n * @param parent - Element which will act as a parent to `jsxNode`. When\n *     possible the rendering will try to reuse existing nodes.\n * @param jsxNode - JSX to render\n * @alpha\n */\nexport async function render(parent, jsxNode) {\n    // If input is not JSX, convert it\n    if (!isJSXNode(jsxNode)) {\n        jsxNode = jsx(jsxNode, null);\n    }\n    const doc = getDocument(parent);\n    const containerEl = getElement(parent);\n    if (qDev && containerEl.hasAttribute('q:container')) {\n        logError('You can render over a existing q:container. Skipping render().');\n        return;\n    }\n    injectQContainer(containerEl);\n    const ctx = {\n        doc,\n        globalState: getRenderingState(containerEl),\n        hostElements: new Set(),\n        operations: [],\n        roots: [parent],\n        component: undefined,\n        containerEl,\n        perf: {\n            visited: 0,\n            timing: [],\n        },\n    };\n    await visitJsxNode(ctx, parent, processNode(jsxNode), false);\n    executeContext(ctx);\n    if (!qTest) {\n        injectQwikSlotCSS(parent);\n    }\n    if (qDev) {\n        appendQwikDevTools(containerEl);\n        if (typeof window !== 'undefined' && window.document != null) {\n            printRenderStats(ctx);\n        }\n    }\n    const promises = [];\n    ctx.hostElements.forEach((host) => {\n        const elCtx = getContext(host);\n        elCtx.refMap.array.filter(isWatchDescriptor).forEach((watch) => {\n            if (watch.f & WatchFlags.IsDirty) {\n                promises.push(runWatch(watch));\n            }\n        });\n    });\n    await Promise.all(promises);\n    return ctx;\n}\nexport function injectQwikSlotCSS(docOrElm) {\n    const doc = getDocument(docOrElm);\n    const element = isDocument(docOrElm) ? docOrElm.head : docOrElm;\n    const style = doc.createElement('style');\n    style.setAttribute('id', 'qwik/base-styles');\n    style.textContent = `q\\\\:slot{display:contents}q\\\\:fallback{display:none}q\\\\:fallback:last-child{display:contents}`;\n    element.insertBefore(style, element.firstChild);\n}\nexport function getElement(docOrElm) {\n    return isDocument(docOrElm) ? docOrElm.documentElement : docOrElm;\n}\nexport function injectQContainer(containerEl) {\n    containerEl.setAttribute('q:version', version || '');\n    containerEl.setAttribute(QContainerAttr, 'resumed');\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVuZGVyLnB1YmxpYy5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9yZW5kZXIvcmVuZGVyLnB1YmxpYy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDN0MsT0FBTyxFQUFFLGNBQWMsRUFBRSxnQkFBZ0IsRUFBaUIsTUFBTSxVQUFVLENBQUM7QUFDM0UsT0FBTyxFQUFFLFNBQVMsRUFBRSxHQUFHLEVBQUUsV0FBVyxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFFaEUsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLFVBQVUsQ0FBQztBQUN4QyxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUNwRCxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sYUFBYSxDQUFDO0FBQzFDLE9BQU8sRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLE1BQU0sY0FBYyxDQUFDO0FBQzNDLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxZQUFZLENBQUM7QUFDckMsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQ2pELE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFDdkMsT0FBTyxFQUFFLGlCQUFpQixFQUFFLFFBQVEsRUFBbUIsVUFBVSxFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFDakcsT0FBTyxFQUFFLGtCQUFrQixFQUFFLFVBQVUsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBRWhFOzs7Ozs7Ozs7OztHQVdHO0FBQ0gsTUFBTSxDQUFDLEtBQUssVUFBVSxNQUFNLENBQzFCLE1BQTBCLEVBQzFCLE9BQWtEO0lBRWxELGtDQUFrQztJQUNsQyxJQUFJLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxFQUFFO1FBQ3ZCLE9BQU8sR0FBRyxHQUFHLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxD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Q3BFLENBQUM7QUFFRCxNQUFNLFVBQVUsZ0JBQWdCLENBQUMsV0FBb0I7SUFDbkQsV0FBVyxDQUFDLFlBQVksQ0FBQyxXQUFXLEVBQUUsT0FBTyxJQUFJLEVBQUUsQ0FBQyxDQUFDO0lBQ3JELFdBQVcsQ0FBQyxZQUFZLENBQUMsY0FBYyxFQUFFLFNBQVMsQ0FBQyxDQUFDO0FBQ3RELENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc0RvY3VtZW50IH0gZnJvbSAnLi4vdXRpbC9lbGVtZW50JztcbmltcG9ydCB7IGV4ZWN1dGVDb250ZXh0LCBwcmludFJlbmRlclN0YXRzLCBSZW5kZXJDb250ZXh0IH0gZnJvbSAnLi9jdXJzb3InO1xuaW1wb3J0IHsgaXNKU1hOb2RlLCBqc3gsIHByb2Nlc3NOb2RlIH0gZnJvbSAnLi9qc3gvanN4LXJ1bnRpbWUnO1xuaW1wb3J0IHR5cGUgeyBKU1hOb2RlLCBGdW5jdGlvbkNvbXBvbmVudCB9IGZyb20gJy4vanN4L3R5cGVzL2pzeC1ub2RlJztcbmltcG9ydCB7IHZpc2l0SnN4Tm9kZSB9IGZyb20gJy4vcmVuZGVyJztcbmltcG9ydCB7IGdldFJlbmRlcmluZ1N0YXRlIH0gZnJvbSAnLi9ub3RpZnktcmVuZGVyJztcbmltcG9ydCB7IGdldERvY3VtZW50IH0gZnJvbSAnLi4vdXRpbC9kb20nO1xuaW1wb3J0IHsgcURldiwgcVRlc3QgfSBmcm9tICcuLi91dGlsL3FkZXYnO1xuaW1wb3J0IHsgdmVyc2lvbiB9IGZyb20gJy4uL3ZlcnNpb24nO1xuaW1wb3J0IHsgUUNvbnRhaW5lckF0dHIgfSBmcm9tICcuLi91dGlsL21hcmtlcnMnO1xuaW1wb3J0IHsgbG9nRXJyb3IgfSBmcm9tICcuLi91dGlsL2xvZyc7XG5pbXBvcnQgeyBpc1dhdGNoRGVzY3JpcHRvciwgcnVuV2F0Y2gsIFdhdGNoRGVzY3JpcHRvciwgV2F0Y2hGbGFncyB9IGZyb20gJy4uL3dhdGNoL3dhdGNoLnB1YmxpYyc7XG5pbXBvcnQgeyBhcHBlbmRRd2lrRGV2VG9vbHMsIGdldENvbnRleHQgfSBmcm9tICcuLi9wcm9wcy9wcm9wcyc7XG5cbi8qKlxuICogUmVuZGVyIEpTWC5cbiAqXG4gKiBVc2UgdGhpcyBtZXRob2QgdG8gcmVuZGVyIEpTWC4gVGhpcyBmdW5jdGlvbiBkb2VzIHJlY29uY2lsaW5nIHdoaWNoIG1lYW5zXG4gKiBpdCBhbHdheXMgdHJpZXMgdG8gcmV1c2Ugd2hhdCBpcyBhbHJlYWR5IGluIHRoZSBET00gKHJhdGhlciB0aGVuIGRlc3Ryb3kgYW5kXG4gKiByZWNyYXRlIGNvbnRlbnQuKVxuICpcbiAqIEBwYXJhbSBwYXJlbnQgLSBFbGVtZW50IHdoaWNoIHdpbGwgYWN0IGFzIGEgcGFyZW50IHRvIGBqc3hOb2RlYC4gV2hlblxuICogICAgIHBvc3NpYmxlIHRoZSByZW5kZXJpbmcgd2lsbCB0cnkgdG8gcmV1c2UgZXhpc3Rpbmcgbm9kZXMuXG4gKiBAcGFyYW0ganN4Tm9kZSAtIEpTWCB0byByZW5kZXJcbiAqIEBhbHBoYVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVuZGVyKFxuICBwYXJlbnQ6IEVsZW1lbnQgfCBEb2N1bWVudCxcbiAganN4Tm9kZTogSlNYTm9kZTx1bmtub3duPiB8IEZ1bmN0aW9uQ29tcG9uZW50PGFueT5cbik6IFByb21pc2U8UmVuZGVyQ29udGV4dCB8IHVuZGVmaW5lZD4ge1xuICAvLyBJZiBpbnB1dCBpcyBub3QgSlNYLCBjb252ZXJ0IGl0XG4gIGlmICghaXNKU1hOb2RlKGpzeE5vZGUpKSB7XG4gICAganN4Tm9kZSA9IGpzeChqc3hOb2RlLCBudWxsKTtcbiAgfVxuICBjb25zdCBkb2MgPSBnZXREb2N1bWVudChwYXJlbnQpO1xuICBjb25zdCBjb250YWluZXJFbCA9IGdldEVsZW1lbnQocGFyZW50KTtcbiAgaWYgKHFEZXYgJiYgY29udGFpbmVyRWwuaGFzQXR0cmlidXRlKCdxOmNvbnRhaW5lcicpKSB7XG4gICAgbG9nRXJyb3IoJ1lvdSBjYW4gcmVuZGVyIG92ZXIgYSBleGlzdGluZyBxOmNvbnRhaW5lci4gU2tpcHBpbmcgcmVuZGVyKCkuJyk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGluamVjdFFDb250YWluZXIoY29udGFpbmVyRWwpO1xuXG4gIGNvbnN0IGN0eDogUmVuZGVyQ29udGV4dCA9IHtcbiAgICBkb2MsXG4gICAgZ2xvYmFsU3RhdGU6IGdldFJlbmRlcmluZ1N0YXRlKGNvbnRhaW5lckVsKSxcbiAgICBob3N0RWxlbWVudHM6IG5ldyBTZXQoKSxcbiAgICBvcGVyYXRpb25zOiBbXSxcbiAgICByb290czogW3BhcmVudCBhcyBFbGVtZW50XSxcbiAgICBjb21wb25lbnQ6IHVuZGVmaW5lZCxcbiAgICBjb250YWluZXJFbCxcbiAgICBwZXJmOiB7XG4gICAgICB2aXNpdGVkOiAwLFxuICAgICAgdGltaW5nOiBbXSxcbiAgICB9LFxuICB9O1xuXG4gIGF3YWl0IHZpc2l0SnN4Tm9kZShjdHgsIHBhcmVudCBhcyBFbGVtZW50LCBwcm9jZXNzTm9kZShqc3hOb2RlKSwgZmFsc2UpO1xuXG4gIGV4ZWN1dGVDb250ZXh0KGN0eCk7XG4gIGlmICghcVRlc3QpIHtcbiAgICBpbmplY3RRd2lrU2xvdENTUyhwYXJlbnQpO1xuICB9XG5cbiAgaWYgKHFEZXYpIHtcbiAgICBhcHBlbmRRd2lrRGV2VG9vbHMoY29udGFpbmVyRWwpO1xuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuZG9jdW1lbnQgIT0gbnVsbCkge1xuICAgICAgcHJpbnRSZW5kZXJTdGF0cyhjdHgpO1xuICAgIH1cbiAgfVxuICBjb25zdCBwcm9taXNlczogUHJvbWlzZTxXYXRjaERlc2NyaXB0b3I+W10gPSBbXTtcbiAgY3R4Lmhvc3RFbGVtZW50cy5mb3JFYWNoKChob3N0KSA9PiB7XG4gICAgY29uc3QgZWxDdHggPSBnZXRDb250ZXh0KGhvc3QpO1xuICAgIGVsQ3R4LnJlZk1hcC5hcnJheS5maWx0ZXIoaXNXYXRjaERlc2NyaXB0b3IpLmZvckVhY2goKHdhdGNoKSA9PiB7XG4gICAgICBpZiAod2F0Y2guZiAmIFdhdGNoRmxhZ3MuSXNEaXJ0eSkge1xuICAgICAgICBwcm9taXNlcy5wdXNoKHJ1bldhdGNoKHdhdGNoKSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuICBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcyk7XG4gIHJldHVybiBjdHg7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbmplY3RRd2lrU2xvdENTUyhkb2NPckVsbTogRG9jdW1lbnQgfCBFbGVtZW50KSB7XG4gIGNvbnN0IGRvYyA9IGdldERvY3VtZW50KGRvY09yRWxtKTtcbiAgY29uc3QgZWxlbWVudCA9IGlzRG9jdW1lbnQoZG9jT3JFbG0pID8gZG9jT3JFbG0uaGVhZCA6IGRvY09yRWxtO1xuICBjb25zdCBzdHlsZSA9IGRvYy5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICBzdHlsZS5zZXRBdHRyaWJ1dGUoJ2lkJywgJ3F3aWsvYmFzZS1zdHlsZXMnKTtcbiAgc3R5bGUudGV4dENvbnRlbnQgPSBgcVxcXFw6c2xvdHtkaXNwbGF5OmNvbnRlbnRzfXFcXFxcOmZhbGxiYWNre2Rpc3BsYXk6bm9uZX1xXFxcXDpmYWxsYmFjazpsYXN0LWNoaWxke2Rpc3BsYXk6Y29udGVudHN9YDtcbiAgZWxlbWVudC5pbnNlcnRCZWZvcmUoc3R5bGUsIGVsZW1lbnQuZmlyc3RDaGlsZCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRFbGVtZW50KGRvY09yRWxtOiBEb2N1bWVudCB8IEVsZW1lbnQpOiBFbGVtZW50IHtcbiAgcmV0dXJuIGlzRG9jdW1lbnQoZG9jT3JFbG0pID8gZG9jT3JFbG0uZG9jdW1lbnRFbGVtZW50IDogZG9jT3JFbG07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbmplY3RRQ29udGFpbmVyKGNvbnRhaW5lckVsOiBFbGVtZW50KSB7XG4gIGNvbnRhaW5lckVsLnNldEF0dHJpYnV0ZSgncTp2ZXJzaW9uJywgdmVyc2lvbiB8fCAnJyk7XG4gIGNvbnRhaW5lckVsLnNldEF0dHJpYnV0ZShRQ29udGFpbmVyQXR0ciwgJ3Jlc3VtZWQnKTtcbn1cbiJdfQ=="],"names":["isNode"],"mappings":"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,QAAQ,IAAI,QAAQ,CAAC,YAAY,CAAC;IACpE;;ICRA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACO,SAAS,CAAC,CAAC,UAAU,EAAE;IAC9B,IAAI,OAAO,UAAU,CAAC,UAAU,CAAC,CAAC;IAClC,CAAC;IACD;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACO,SAAS,iBAAiB,CAAC,EAAE,EAAE;IACtC,IAAI,OAAO,UAAU,KAAK,EAAE,GAAG,IAAI,EAAE;IACrC,QAAQ,OAAO,EAAE,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC,KAAK,CAAC,EAAE,GAAG,IAAI,CAAC,CAAC;IAChD,KAAK,CAAC;IACN;;IC3HA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACO,SAAS,cAAc,GAAG;IACjC,IAAI,MAAM,OAAO,GAAG,gBAAgB,EAAE,CAAC,WAAW,CAAC;IACnD,IAAI,aAAa,CAAC,OAAO,CAAC,CAAC;IAC3B,IAAI,OAAO,OAAO,CAAC;IACnB;;IC/BA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACO,SAAS,WAAW,GAAG;IAC9B,IAAI,MAAM,GAAG,GAAG,gBAAgB,EAAE,CAAC,GAAG,CAAC;IACvC,IAAI,IAAI,CAAC,GAAG,EAAE;IACd,QAAQ,MAAM,IAAI,KAAK,CAAC,2CAA2C,CAAC,CAAC;IACrE,KAAK;IACL,IAAI,OAAO,GAAG,CAAC;IACf;;ICZA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACO,SAAS,QAAQ,CAAC,YAAY,EAAE;IACvC,IAAI,MAAM,CAAC,KAAK,EAAE,QAAQ,CAAC,GAAG,kBAAkB,EAAE,CAAC;IACnD,IAAI,MAAM,WAAW,GAAG,cAAc,EAAE,CAAC;IACzC,IAAI,IAAI,KAAK,IAAI,IAAI,EAAE;IACvB,QAAQ,OAAO,cAAc,CAAC,KAAK,EAAE,WAAW,CAAC,CAAC;IAClD,KAAK;IACL,IAAI,MAAM,KAAK,GAAG,OAAO,YAAY,KAAK,UAAU,GAAG,YAAY,EAAE,GAAG,YAAY,CAAC;IACrF,IAAI,MAAM,QAAQ,GAAG,OAAO,CAAC,KAAK,EAAE,WAAW,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC;IAChE,IAAI,QAAQ,CAAC,QAAQ,CAAC,CAAC;IACvB,IAAI,OAAO,cAAc,CAAC,QAAQ,EAAE,WAAW,CAAC,CAAC;IACjD,CAAC;IACD;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;I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AI,CAAC,EAAE;IACvB,YAAY,GAAG,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;IAClC,SAAS;IACT,KAAK;IACL,CAAC;IACD;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;AACY,UAAC,gBAAgB,GAAG,iBAAiB,CAAC,kBAAkB,EAAE;IACtE;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACO,SAAS,iBAAiB,CAAC,QAAQ,EAAE;IAC5C,IAAI,MAAM,CAAC,KAAK,EAAE,QAAQ,CAAC,GAAG,kBAAkB,EAAE,CAAC;IACnD,IAAI,IAAI,CAAC,KAAK,EAAE;IAChB,QAAQ,QAAQ,CAAC,IAAI,CAAC,CAAC;IACvB,QAAQ,MAAM,QAAQ,GAAG,WAAW,CAAC,WAAW,EAAE,CAAC,CAAC,QAAQ,CAAC;IAC7D,QAAQ,IAAI,QAAQ,EAAE;IACtB,YAAY,SAAS,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,CAAC;IACzC,SAAS;IACT,KAAK;IACL,CAAC;IACD;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IA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AAC,WAAW,CAAC,CAAC;IAClD,SAAS;IACT,aAAa;IACb;IACA,YAAY,MAAM,IAAI,KAAK,CAAC,CAAC,qDAAqD,CAAC,CAAC,CAAC;IACrF,SAAS;IACT,KAAK;IACL,IAAI,OAAO,WAAW,CAAC;IACvB;;ICnLA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACO,SAAS,aAAa,CAAC,SAAS,EAAE;IACzC,IAAI,MAAM,CAAC,KAAK,EAAE,QAAQ,CAAC,GAAG,kBAAkB,EAAE,CAAC;IACnD,IAAI,IAAI,CAAC,KAAK,EAAE;IAChB,QAAQ,MAAM,EAAE,GAAG,cAAc,EAAE,CAAC;IACpC,QAAQ,MAAM,KAAK,GAAG;IACtB,YAAY,GAAG,EAAE,SAAS;IAC1B,YAAY,EAAE;IACd,YAAY,CAAC,EAAE,UAAU,CAAC,SAAS;IACnC,SAAS,CAAC;IACV,QAAQ,QAAQ,CAAC,KAAK,CAAC,CAAC;IACxB,QAAQ,UAAU,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;IACzC,KAAK;IACL,CAAC;IACD;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;AACY,UAAC,WAAW,GAAG,iBAAiB,CAAC,aAAa,EAAE;IAC5D;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACO,SAAS,YAAY,CAAC,QAAQ,EAAE;IACvC,IAAI,KAAK,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC;IAC/B,CAAC;IACD;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;AACY,UAAC,UAAU,GAAG,iBAAiB,CAAC,YAAY,EAAE;IAC1D;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACO,SAAS,aAAa,CAAC,QAAQ,EAAE;IACxC,IAAI,KAAK,CAAC,UAAU,EAAE,QAAQ,CAAC,CAAC;IAChC,CAAC;IAgCD;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACO,SAAS,KAAK,CAAC,KAAK,EAAE,OAAO,EAAE;IACtC,IAAI,MAAM,EAAE,GAAG,cAAc,EAAE,CAAC;IAChC,IAAI,MAAM,GAAG,GAAG,UAAU,CAAC,EAAE,CAAC,CAAC;IAC/B,IAAI,aAAa,CAAC,SAAS,EAAE,GAAG,EAAE,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;IAC1D,CAAC;IACD;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACO,SAAS,aAAa,CAAC,KAAK,EAAE,QAAQ,EAAE;IAC/C,IAAI,MAAM,EAAE,GAAG,cAAc,EAAE,CAAC;IAChC,IAAI,MAAM,GAAG,GAAG,UAAU,CAAC,EAAE,CAAC,CAAC;IAC/B,IAAI,aAAa,CAAC,SAAS,EAAE,GAAG,EAAE,CAAC,YAAY,EAAE,KAAK,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAC;IACpE,CAAC;IACD;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACO,SAAS,WAAW,CAAC,KAAK,EAAE,OAAO,EAAE;IAC5C,IAAI,MAAM,EAAE,GAAG,cAAc,EAAE,CAAC;IAChC,IAAI,MAAM,GAAG,GAAG,UAAU,CAAC,EAAE,CAAC,CAAC;IAC/B,IAAI,aAAa,CAAC,SAAS,EAAE,GAAG,EAAE,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;IACjE,CAAC;IACD;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACO,SAAS,YAAY,CAAC,MAAM,EAAE;IACrC,IAAI,UAAU,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;IAC9B,CAAC;IACD;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;AACY,UAAC,UAAU,GAAG,iBAAiB,CAAC,YAAY,EAAE;IAC1D;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACO,SAAS,kBAAkB,CAAC,MAAM,EAAE;IAC3C,IAAI,UAAU,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;IAC7B,CAAC;IACD;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;AACY,UAAC,gBAAgB,GAAG,iBAAiB,CAAC,kBAAkB,EAAE;IACtE;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACO,SAAS,YAAY,CAAC,WAAW,EAAE,OAAO,GAAG,EAAE,EAAE;IACxD,IAAI,MAAM,OAAO,GAAG,OAAO,CAAC,OAAO,IAAI,KAAK,CAAC;IAC7C;IACA,IAAI,OAAO,SAAS,gBAAgB,CAAC,KAAK,EAAE,GAAG,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"}